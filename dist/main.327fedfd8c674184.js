"use strict";(self.webpackChunkauthentication=self.webpackChunkauthentication||[]).push([[179],{6304:(Jt,Qe,W)=>{W.d(Qe,{Dh:()=>ut,GT:()=>ye,cc:()=>st,hO:()=>vt,on:()=>te,pX:()=>Te,xv:()=>Le});var a=W(5879),_e=W(7142),$=W(8186);Jt=W.hmd(Jt);const we=["ngOnDestroy"],Te=(gt,ln,rn,Me={})=>new Proxy(gt,{get:(Ye,Ee)=>rn.runOutsideAngular(()=>{var Je;if(gt[Ee])return!(null===(Je=Me?.spy)||void 0===Je)&&Je.get&&Me.spy.get(Ee,gt[Ee]),gt[Ee];if(we.indexOf(Ee)>-1)return()=>{};const mt=ln.toPromise().then(Dt=>{const Ie=Dt&&Dt[Ee];return"function"==typeof Ie?Ie.bind(Dt):Ie&&Ie.then?Ie.then(hn=>rn.run(()=>hn)):rn.run(()=>Ie)});return new Proxy(()=>{},{get:(Dt,Ie)=>mt[Ie],apply:(Dt,Ie,hn)=>mt.then(jn=>{var Or;const bs=jn&&jn(...hn);return!(null===(Or=Me?.spy)||void 0===Or)&&Or.apply&&Me.spy.apply(Ee,hn,bs),bs})})})}),ye=(gt,ln)=>{ln.forEach(rn=>{Object.getOwnPropertyNames(rn.prototype||rn).forEach(Me=>{Object.defineProperty(gt.prototype,Me,Object.getOwnPropertyDescriptor(rn.prototype||rn,Me))})})};class He{constructor(ln){return ln}}const ut=new a.OlP("angularfire2.app.options"),Le=new a.OlP("angularfire2.app.name");function te(gt,ln,rn){const Ye="object"==typeof rn&&rn||{};Ye.name=Ye.name||"string"==typeof rn&&rn||"[DEFAULT]";const Je=_e.Z.apps.filter(mt=>mt&&mt.name===Ye.name)[0]||ln.runOutsideAngular(()=>_e.Z.initializeApp(gt,Ye));try{JSON.stringify(gt)!==JSON.stringify(Je.options)&&oe("error",`${Je.name} Firebase App already initialized with different options${Jt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new He(Je)}const oe=(gt,...ln)=>{(0,a.X6Q)()&&typeof console<"u"&&console[gt](...ln)},ve={provide:He,useFactory:te,deps:[ut,a.R0b,[new a.FiY,Le]]};let vt=(()=>{class gt{constructor(rn){_e.Z.registerVersion("angularfire",$.q4.full,"core"),_e.Z.registerVersion("angularfire",$.q4.full,"app-compat"),_e.Z.registerVersion("angular",a.q4F.full,rn.toString())}static initializeApp(rn,Me){return{ngModule:gt,providers:[{provide:ut,useValue:rn},{provide:Le,useValue:Me}]}}}return gt.\u0275fac=function(rn){return new(rn||gt)(a.LFG(a.Lbi))},gt.\u0275mod=a.oAB({type:gt}),gt.\u0275inj=a.cJS({providers:[ve]}),gt})();function st(gt,ln,rn,Me,Ye){const[,Ee,Je]=globalThis.\u0275AngularfireInstanceCache.find(mt=>mt[0]===gt)||[];if(Ee)return function Rt(gt,ln){try{return gt.toString()===ln.toString()}catch{return gt===ln}}(Ye,Je)||(Et("error",`${ln} was already initialized on the ${rn} Firebase App with different settings.${dt?" You may need to reload as Firebase is not HMR aware.":""}`),Et("warn",{is:Ye,was:Je})),Ee;{const mt=Me();return globalThis.\u0275AngularfireInstanceCache.push([gt,mt,Ye]),mt}}const dt=!!Jt.hot,Et=(gt,...ln)=>{(0,a.X6Q)()&&typeof console<"u"&&console[gt](...ln)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(Jt,Qe,W)=>{W.d(Qe,{q4:()=>ed,iC:()=>gu,HU:()=>vm,vb:()=>Vs,JM:()=>aa});var a=W(5879),_e=W(3182),$=W(5861),we=W(534),Te=W(9058),ye=W(4537),He=W(7879);const ut=(T,R)=>R.some(F=>T instanceof F);let Le,te;const vt=new WeakMap,st=new WeakMap,Rt=new WeakMap,dt=new WeakMap,Et=new WeakMap;let rn={get(T,R,F){if(T instanceof IDBTransaction){if("done"===R)return st.get(T);if("objectStoreNames"===R)return T.objectStoreNames||Rt.get(T);if("store"===R)return F.objectStoreNames[1]?void 0:F.objectStore(F.objectStoreNames[0])}return Je(T[R])},set:(T,R,F)=>(T[R]=F,!0),has:(T,R)=>T instanceof IDBTransaction&&("done"===R||"store"===R)||R in T};function Ee(T){return"function"==typeof T?function Ye(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...R){return T.apply(mt(this),R),Je(vt.get(this))}:function(...R){return Je(T.apply(mt(this),R))}:function(R,...F){const Y=T.call(mt(this),R,...F);return Rt.set(Y,R.sort?R.sort():[R]),Je(Y)}}(T):(T instanceof IDBTransaction&&function ln(T){if(st.has(T))return;const R=new Promise((F,Y)=>{const ae=()=>{T.removeEventListener("complete",fe),T.removeEventListener("error",Oe),T.removeEventListener("abort",Oe)},fe=()=>{F(),ae()},Oe=()=>{Y(T.error||new DOMException("AbortError","AbortError")),ae()};T.addEventListener("complete",fe),T.addEventListener("error",Oe),T.addEventListener("abort",Oe)});st.set(T,R)}(T),ut(T,function oe(){return Le||(Le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,rn):T)}function Je(T){if(T instanceof IDBRequest)return function gt(T){const R=new Promise((F,Y)=>{const ae=()=>{T.removeEventListener("success",fe),T.removeEventListener("error",Oe)},fe=()=>{F(Je(T.result)),ae()},Oe=()=>{Y(T.error),ae()};T.addEventListener("success",fe),T.addEventListener("error",Oe)});return R.then(F=>{F instanceof IDBCursor&&vt.set(F,T)}).catch(()=>{}),Et.set(R,T),R}(T);if(dt.has(T))return dt.get(T);const R=Ee(T);return R!==T&&(dt.set(T,R),Et.set(R,T)),R}const mt=T=>Et.get(T),hn=["get","getKey","getAll","getAllKeys","count"],jn=["put","add","delete","clear"],Or=new Map;function bs(T,R){if(!(T instanceof IDBDatabase)||R in T||"string"!=typeof R)return;if(Or.get(R))return Or.get(R);const F=R.replace(/FromIndex$/,""),Y=R!==F,ae=jn.includes(F);if(!(F in(Y?IDBIndex:IDBObjectStore).prototype)||!ae&&!hn.includes(F))return;const fe=function(){var Oe=(0,$.Z)(function*(Mt,...wt){const Zt=this.transaction(Mt,ae?"readwrite":"readonly");let fn=Zt.store;return Y&&(fn=fn.index(wt.shift())),(yield Promise.all([fn[F](...wt),ae&&Zt.done]))[0]});return function(wt){return Oe.apply(this,arguments)}}();return Or.set(R,fe),fe}!function Me(T){rn=T(rn)}(T=>({...T,get:(R,F,Y)=>bs(R,F)||T.get(R,F,Y),has:(R,F)=>!!bs(R,F)||T.has(R,F)}));const Jo="@firebase/installations",ar="0.6.4",Ka=1e4,ba=`w:${ar}`,Re="FIS_v2",Ne="https://firebaseinstallations.googleapis.com/v1",qe=36e5,Ht=new Te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ct(T){return T instanceof Te.ZR&&T.code.includes("request-failed")}function Ki({projectId:T}){return`${Ne}/projects/${T}/installations`}function an(T){return{token:T.token,requestStatus:2,expiresIn:Yr(T.expiresIn),creationTime:Date.now()}}function li(T,R){return On.apply(this,arguments)}function On(){return(On=(0,$.Z)(function*(T,R){const Y=(yield R.json()).error;return Ht.create("request-failed",{requestName:T,serverCode:Y.code,serverMessage:Y.message,serverStatus:Y.status})})).apply(this,arguments)}function Ui({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function yr(T){return Si.apply(this,arguments)}function Si(){return(Si=(0,$.Z)(function*(T){const R=yield T();return R.status>=500&&R.status<600?T():R})).apply(this,arguments)}function Yr(T){return Number(T.replace("s","000"))}function Ns(){return(Ns=(0,$.Z)(function*({appConfig:T,heartbeatServiceProvider:R},{fid:F}){const Y=Ki(T),ae=Ui(T),fe=R.getImmediate({optional:!0});if(fe){const Zt=yield fe.getHeartbeatsHeader();Zt&&ae.append("x-firebase-client",Zt)}const Mt={method:"POST",headers:ae,body:JSON.stringify({fid:F,authVersion:Re,appId:T.appId,sdkVersion:ba})},wt=yield yr(()=>fetch(Y,Mt));if(wt.ok){const Zt=yield wt.json();return{fid:Zt.fid||F,registrationStatus:2,refreshToken:Zt.refreshToken,authToken:an(Zt.authToken)}}throw yield li("Create Installation",wt)})).apply(this,arguments)}function Ls(T){return new Promise(R=>{setTimeout(R,T)})}const kl=/^[cdef][\w-]{21}$/,cn="";function $n(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const F=function Tn(T){return function xa(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return kl.test(F)?F:cn}catch{return cn}}function Di(T){return`${T.appName}!${T.appId}`}const Xi=new Map;function ys(T,R){const F=Di(T);Wc(F,R),function di(T,R){const F=function Gn(){return!xs&&"BroadcastChannel"in self&&(xs=new BroadcastChannel("[Firebase] FID Change"),xs.onmessage=T=>{Wc(T.data.key,T.data.fid)}),xs}();F&&F.postMessage({key:T,fid:R}),function Po(){0===Xi.size&&xs&&(xs.close(),xs=null)}()}(F,R)}function Wc(T,R){const F=Xi.get(T);if(F)for(const Y of F)Y(R)}let xs=null;const wa="firebase-installations-database",Ea=1,Xs="firebase-installations-store";let Ca=null;function yo(){return Ca||(Ca=function Dt(T,R,{blocked:F,upgrade:Y,blocking:ae,terminated:fe}={}){const Oe=indexedDB.open(T,R),Mt=Je(Oe);return Y&&Oe.addEventListener("upgradeneeded",wt=>{Y(Je(Oe.result),wt.oldVersion,wt.newVersion,Je(Oe.transaction))}),F&&Oe.addEventListener("blocked",()=>F()),Mt.then(wt=>{fe&&wt.addEventListener("close",()=>fe()),ae&&wt.addEventListener("versionchange",()=>ae())}).catch(()=>{}),Mt}(wa,Ea,{upgrade:(T,R)=>{0===R&&T.createObjectStore(Xs)}})),Ca}function xr(T,R){return wr.apply(this,arguments)}function wr(){return(wr=(0,$.Z)(function*(T,R){const F=Di(T),ae=(yield yo()).transaction(Xs,"readwrite"),fe=ae.objectStore(Xs),Oe=yield fe.get(F);return yield fe.put(R,F),yield ae.done,(!Oe||Oe.fid!==R.fid)&&ys(T,R.fid),R})).apply(this,arguments)}function ws(T){return cr.apply(this,arguments)}function cr(){return(cr=(0,$.Z)(function*(T){const R=Di(T),Y=(yield yo()).transaction(Xs,"readwrite");yield Y.objectStore(Xs).delete(R),yield Y.done})).apply(this,arguments)}function Ks(T,R){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,$.Z)(function*(T,R){const F=Di(T),ae=(yield yo()).transaction(Xs,"readwrite"),fe=ae.objectStore(Xs),Oe=yield fe.get(F),Mt=R(Oe);return void 0===Mt?yield fe.delete(F):yield fe.put(Mt,F),yield ae.done,Mt&&(!Oe||Oe.fid!==Mt.fid)&&ys(T,Mt.fid),Mt})).apply(this,arguments)}function re(T){return ie.apply(this,arguments)}function ie(){return ie=(0,$.Z)(function*(T){let R;const F=yield Ks(T.appConfig,Y=>{const ae=function ue(T){return Rn(T||{fid:$n(),registrationStatus:0})}(Y),fe=function Xe(T,R){if(0===R.registrationStatus){if(!navigator.onLine)return{installationEntry:R,registrationPromise:Promise.reject(Ht.create("app-offline"))};const F={fid:R.fid,registrationStatus:1,registrationTime:Date.now()},Y=function Ae(T,R){return Ft.apply(this,arguments)}(T,F);return{installationEntry:F,registrationPromise:Y}}return 1===R.registrationStatus?{installationEntry:R,registrationPromise:Cn(T)}:{installationEntry:R}}(T,ae);return R=fe.registrationPromise,fe.installationEntry});return F.fid===cn?{installationEntry:yield R}:{installationEntry:F,registrationPromise:R}}),ie.apply(this,arguments)}function Ft(){return Ft=(0,$.Z)(function*(T,R){try{const F=yield function ya(T,R){return Ns.apply(this,arguments)}(T,R);return xr(T.appConfig,F)}catch(F){throw Ct(F)&&409===F.customData.serverCode?yield ws(T.appConfig):yield xr(T.appConfig,{fid:R.fid,registrationStatus:0}),F}}),Ft.apply(this,arguments)}function Cn(T){return pn.apply(this,arguments)}function pn(){return(pn=(0,$.Z)(function*(T){let R=yield Er(T.appConfig);for(;1===R.registrationStatus;)yield Ls(100),R=yield Er(T.appConfig);if(0===R.registrationStatus){const{installationEntry:F,registrationPromise:Y}=yield re(T);return Y||F}return R})).apply(this,arguments)}function Er(T){return Ks(T,R=>{if(!R)throw Ht.create("installation-not-found");return Rn(R)})}function Rn(T){return function Qi(T){return 1===T.registrationStatus&&T.registrationTime+Ka<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function gr(){return(gr=(0,$.Z)(function*({appConfig:T,heartbeatServiceProvider:R},F){const Y=function Oo(T,{fid:R}){return`${Ki(T)}/${R}/authTokens:generate`}(T,F),ae=function Bi(T,{refreshToken:R}){const F=Ui(T);return F.append("Authorization",function Os(T){return`${Re} ${T}`}(R)),F}(T,F),fe=R.getImmediate({optional:!0});if(fe){const Zt=yield fe.getHeartbeatsHeader();Zt&&ae.append("x-firebase-client",Zt)}const Mt={method:"POST",headers:ae,body:JSON.stringify({installation:{sdkVersion:ba,appId:T.appId}})},wt=yield yr(()=>fetch(Y,Mt));if(wt.ok)return an(yield wt.json());throw yield li("Generate Auth Token",wt)})).apply(this,arguments)}function ea(T){return Rl.apply(this,arguments)}function Rl(){return Rl=(0,$.Z)(function*(T,R=!1){let F;const Y=yield Ks(T.appConfig,fe=>{if(!Nn(fe))throw Ht.create("not-registered");const Oe=fe.authToken;if(!R&&function ui(T){return 2===T.requestStatus&&!function lr(T){const R=Date.now();return R<T.creationTime||T.creationTime+T.expiresIn<R+qe}(T)}(Oe))return fe;if(1===Oe.requestStatus)return F=function Pe(T,R){return Se.apply(this,arguments)}(T,R),fe;{if(!navigator.onLine)throw Ht.create("app-offline");const Mt=function dr(T){const R={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:R})}(fe);return F=function jt(T,R){return It.apply(this,arguments)}(T,Mt),Mt}});return F?yield F:Y.authToken}),Rl.apply(this,arguments)}function Se(){return(Se=(0,$.Z)(function*(T,R){let F=yield ct(T.appConfig);for(;1===F.authToken.requestStatus;)yield Ls(100),F=yield ct(T.appConfig);const Y=F.authToken;return 0===Y.requestStatus?ea(T,R):Y})).apply(this,arguments)}function ct(T){return Ks(T,R=>{if(!Nn(R))throw Ht.create("not-registered");return function Lr(T){return 1===T.requestStatus&&T.requestTime+Ka<Date.now()}(R.authToken)?Object.assign(Object.assign({},R),{authToken:{requestStatus:0}}):R})}function It(){return It=(0,$.Z)(function*(T,R){try{const F=yield function ti(T,R){return gr.apply(this,arguments)}(T,R),Y=Object.assign(Object.assign({},R),{authToken:F});return yield xr(T.appConfig,Y),F}catch(F){if(!Ct(F)||401!==F.customData.serverCode&&404!==F.customData.serverCode){const Y=Object.assign(Object.assign({},R),{authToken:{requestStatus:0}});yield xr(T.appConfig,Y)}else yield ws(T.appConfig);throw F}}),It.apply(this,arguments)}function Nn(T){return void 0!==T&&2===T.registrationStatus}function jc(){return(jc=(0,$.Z)(function*(T){const R=T,{installationEntry:F,registrationPromise:Y}=yield re(R);return Y?Y.catch(console.error):ea(R).catch(console.error),F.fid})).apply(this,arguments)}function Sa(){return Sa=(0,$.Z)(function*(T,R=!1){const F=T;return yield function ch(T){return Js.apply(this,arguments)}(F),(yield ea(F,R)).token}),Sa.apply(this,arguments)}function Js(){return(Js=(0,$.Z)(function*(T){const{registrationPromise:R}=yield re(T);R&&(yield R)})).apply(this,arguments)}function Ma(T){return Ht.create("missing-app-config-values",{valueName:T})}const Pl="installations",Vv=T=>{const R=T.getProvider("app").getImmediate(),F=function Es(T){if(!T||!T.options)throw Ma("App Configuration");if(!T.name)throw Ma("App Name");const R=["projectId","apiKey","appId"];for(const F of R)if(!T.options[F])throw Ma(F);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(R);return{app:R,appConfig:F,heartbeatServiceProvider:(0,we._getProvider)(R,"heartbeat"),_delete:()=>Promise.resolve()}},Ja=T=>{const R=T.getProvider("app").getImmediate(),F=(0,we._getProvider)(R,Pl).getImmediate();return{getId:()=>function xo(T){return jc.apply(this,arguments)}(F),getToken:ae=>function ah(T){return Sa.apply(this,arguments)}(F,ae)}};(function zf(){(0,we._registerComponent)(new ye.wA(Pl,Vv,"PUBLIC")),(0,we._registerComponent)(new ye.wA("installations-internal",Ja,"PRIVATE"))})(),(0,we.registerVersion)(Jo,ar),(0,we.registerVersion)(Jo,ar,"esm2017");const Yc="@firebase/remote-config",Zr=new Te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class mn{constructor(R,F,Y,ae){this.client=R,this.storage=F,this.storageCache=Y,this.logger=ae}isCachedDataFresh(R,F){if(!F)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Y=Date.now()-F,ae=Y<=R;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Y}. Cache max age millis (minimumFetchIntervalMillis setting): ${R}. Is cache hit: ${ae}.`),ae}fetch(R){var F=this;return(0,$.Z)(function*(){const[Y,ae]=yield Promise.all([F.storage.getLastSuccessfulFetchTimestampMillis(),F.storage.getLastSuccessfulFetchResponse()]);if(ae&&F.isCachedDataFresh(R.cacheMaxAgeMillis,Y))return ae;R.eTag=ae&&ae.eTag;const fe=yield F.client.fetch(R),Oe=[F.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===fe.status&&Oe.push(F.storage.setLastSuccessfulFetchResponse(fe)),yield Promise.all(Oe),fe})()}}function zi(T=navigator){return T.languages&&T.languages[0]||T.language}class ms{constructor(R,F,Y,ae,fe,Oe){this.firebaseInstallations=R,this.sdkVersion=F,this.namespace=Y,this.projectId=ae,this.apiKey=fe,this.appId=Oe}fetch(R){var F=this;return(0,$.Z)(function*(){const[Y,ae]=yield Promise.all([F.firebaseInstallations.getId(),F.firebaseInstallations.getToken()]),Oe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${F.projectId}/namespaces/${F.namespace}:fetch?key=${F.apiKey}`,Mt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":R.eTag||"*"},wt={sdk_version:F.sdkVersion,app_instance_id:Y,app_instance_id_token:ae,app_id:F.appId,language_code:zi()},Zt={method:"POST",headers:Mt,body:JSON.stringify(wt)},fn=fetch(Oe,Zt),An=new Promise((Qr,Jr)=>{R.signal.addEventListener(()=>{const er=new Error("The operation was aborted.");er.name="AbortError",Jr(er)})});let hr;try{yield Promise.race([fn,An]),hr=yield fn}catch(Qr){let Jr="fetch-client-network";throw"AbortError"===Qr?.name&&(Jr="fetch-timeout"),Zr.create(Jr,{originalErrorMessage:Qr?.message})}let vr=hr.status;const zo=hr.headers.get("ETag")||void 0;let Ji,bc;if(200===hr.status){let Qr;try{Qr=yield hr.json()}catch(Jr){throw Zr.create("fetch-client-parse",{originalErrorMessage:Jr?.message})}Ji=Qr.entries,bc=Qr.state}if("INSTANCE_STATE_UNSPECIFIED"===bc?vr=500:"NO_CHANGE"===bc?vr=304:("NO_TEMPLATE"===bc||"EMPTY_CONFIG"===bc)&&(Ji={}),304!==vr&&200!==vr)throw Zr.create("fetch-status",{httpStatus:vr});return{status:vr,eTag:zo,config:Ji}})()}}class Fl{constructor(R,F){this.client=R,this.storage=F}fetch(R){var F=this;return(0,$.Z)(function*(){const Y=(yield F.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return F.attemptFetch(R,Y)})()}attemptFetch(R,{throttleEndTimeMillis:F,backoffCount:Y}){var ae=this;return(0,$.Z)(function*(){yield function ec(T,R){return new Promise((F,Y)=>{const ae=Math.max(R-Date.now(),0),fe=setTimeout(F,ae);T.addEventListener(()=>{clearTimeout(fe),Y(Zr.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(R.signal,F);try{const fe=yield ae.client.fetch(R);return yield ae.storage.deleteThrottleMetadata(),fe}catch(fe){if(!function Fr(T){if(!(T instanceof Te.ZR&&T.customData))return!1;const R=Number(T.customData.httpStatus);return 429===R||500===R||503===R||504===R}(fe))throw fe;const Oe={throttleEndTimeMillis:Date.now()+(0,Te.$s)(Y),backoffCount:Y+1};return yield ae.storage.setThrottleMetadata(Oe),ae.attemptFetch(R,Oe)}})()}}class Zc{constructor(R,F,Y,ae,fe){this.app=R,this._client=F,this._storageCache=Y,this._storage=ae,this._logger=fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function vn(T,R){const F=T.target.error||void 0;return Zr.create(R,{originalErrorMessage:F&&F?.message})}const Ur="app_namespace_store";class mh{constructor(R,F,Y,ae=function Hi(){return new Promise((T,R)=>{try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=Y=>{R(vn(Y,"storage-open"))},F.onsuccess=Y=>{T(Y.target.result)},F.onupgradeneeded=Y=>{0===Y.oldVersion&&Y.target.result.createObjectStore(Ur,{keyPath:"compositeKey"})}}catch(F){R(Zr.create("storage-open",{originalErrorMessage:F?.message}))}})}()){this.appId=R,this.appName=F,this.namespace=Y,this.openDbPromise=ae}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(R){return this.set("last_fetch_status",R)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(R){return this.set("last_successful_fetch_timestamp_millis",R)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(R){return this.set("last_successful_fetch_response",R)}getActiveConfig(){return this.get("active_config")}setActiveConfig(R){return this.set("active_config",R)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(R){return this.set("active_config_etag",R)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(R){return this.set("throttle_metadata",R)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(R){var F=this;return(0,$.Z)(function*(){const Y=yield F.openDbPromise;return new Promise((ae,fe)=>{const Mt=Y.transaction([Ur],"readonly").objectStore(Ur),wt=F.createCompositeKey(R);try{const Zt=Mt.get(wt);Zt.onerror=fn=>{fe(vn(fn,"storage-get"))},Zt.onsuccess=fn=>{const An=fn.target.result;ae(An?An.value:void 0)}}catch(Zt){fe(Zr.create("storage-get",{originalErrorMessage:Zt?.message}))}})})()}set(R,F){var Y=this;return(0,$.Z)(function*(){const ae=yield Y.openDbPromise;return new Promise((fe,Oe)=>{const wt=ae.transaction([Ur],"readwrite").objectStore(Ur),Zt=Y.createCompositeKey(R);try{const fn=wt.put({compositeKey:Zt,value:F});fn.onerror=An=>{Oe(vn(An,"storage-set"))},fn.onsuccess=()=>{fe()}}catch(fn){Oe(Zr.create("storage-set",{originalErrorMessage:fn?.message}))}})})()}delete(R){var F=this;return(0,$.Z)(function*(){const Y=yield F.openDbPromise;return new Promise((ae,fe)=>{const Mt=Y.transaction([Ur],"readwrite").objectStore(Ur),wt=F.createCompositeKey(R);try{const Zt=Mt.delete(wt);Zt.onerror=fn=>{fe(vn(fn,"storage-delete"))},Zt.onsuccess=()=>{ae()}}catch(Zt){fe(Zr.create("storage-delete",{originalErrorMessage:Zt?.message}))}})})()}createCompositeKey(R){return[this.appId,this.appName,this.namespace,R].join()}}class tc{constructor(R){this.storage=R}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var R=this;return(0,$.Z)(function*(){const F=R.storage.getLastFetchStatus(),Y=R.storage.getLastSuccessfulFetchTimestampMillis(),ae=R.storage.getActiveConfig(),fe=yield F;fe&&(R.lastFetchStatus=fe);const Oe=yield Y;Oe&&(R.lastSuccessfulFetchTimestampMillis=Oe);const Mt=yield ae;Mt&&(R.activeConfig=Mt)})()}setLastFetchStatus(R){return this.lastFetchStatus=R,this.storage.setLastFetchStatus(R)}setLastSuccessfulFetchTimestampMillis(R){return this.lastSuccessfulFetchTimestampMillis=R,this.storage.setLastSuccessfulFetchTimestampMillis(R)}setActiveConfig(R){return this.activeConfig=R,this.storage.setActiveConfig(R)}}function Da(){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,$.Z)(function*(){if(!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch{return!1}})).apply(this,arguments)}!function Cr(){(0,we._registerComponent)(new ye.wA("remote-config",function T(R,{instanceIdentifier:F}){const Y=R.getProvider("app").getImmediate(),ae=R.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Zr.create("registration-window");if(!(0,Te.hl)())throw Zr.create("indexed-db-unavailable");const{projectId:fe,apiKey:Oe,appId:Mt}=Y.options;if(!fe)throw Zr.create("registration-project-id");if(!Oe)throw Zr.create("registration-api-key");if(!Mt)throw Zr.create("registration-app-id");const wt=new mh(Mt,Y.name,F=F||"firebase"),Zt=new tc(wt),fn=new He.Yd(Yc);fn.logLevel=He.in.ERROR;const An=new ms(ae,we.SDK_VERSION,F,fe,Oe,Mt),hr=new Fl(An,wt),vr=new mn(hr,wt,Zt,fn),zo=new Zc(Y,vr,Zt,wt,fn);return function hs(T){const R=(0,Te.m9)(T);R._initializePromise||(R._initializePromise=R._storageCache.loadFromStorage().then(()=>{R._isInitializationComplete=!0}))}(zo),zo},"PUBLIC").setMultipleInstances(!0)),(0,we.registerVersion)(Yc,"0.4.4"),(0,we.registerVersion)(Yc,"0.4.4","esm2017")}();const Ul=(T,R)=>R.some(F=>T instanceof F);let Ia,Un;const Zd=new WeakMap,Sr=new WeakMap,nc=new WeakMap,Mr=new WeakMap,ka=new WeakMap;let Tr={get(T,R,F){if(T instanceof IDBTransaction){if("done"===R)return Sr.get(T);if("objectStoreNames"===R)return T.objectStoreNames||nc.get(T);if("store"===R)return F.objectStoreNames[1]?void 0:F.objectStore(F.objectStoreNames[0])}return Us(T[R])},set:(T,R,F)=>(T[R]=F,!0),has:(T,R)=>T instanceof IDBTransaction&&("done"===R||"store"===R)||R in T};function ic(T){return"function"==typeof T?function Xd(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Xc(){return Un||(Un=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...R){return T.apply(Cs(this),R),Us(Zd.get(this))}:function(...R){return Us(T.apply(Cs(this),R))}:function(R,...F){const Y=T.call(Cs(this),R,...F);return nc.set(Y,R.sort?R.sort():[R]),Us(Y)}}(T):(T instanceof IDBTransaction&&function $p(T){if(Sr.has(T))return;const R=new Promise((F,Y)=>{const ae=()=>{T.removeEventListener("complete",fe),T.removeEventListener("error",Oe),T.removeEventListener("abort",Oe)},fe=()=>{F(),ae()},Oe=()=>{Y(T.error||new DOMException("AbortError","AbortError")),ae()};T.addEventListener("complete",fe),T.addEventListener("error",Oe),T.addEventListener("abort",Oe)});Sr.set(T,R)}(T),Ul(T,function zv(){return Ia||(Ia=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,Tr):T)}function Us(T){if(T instanceof IDBRequest)return function Br(T){const R=new Promise((F,Y)=>{const ae=()=>{T.removeEventListener("success",fe),T.removeEventListener("error",Oe)},fe=()=>{F(Us(T.result)),ae()},Oe=()=>{Y(T.error),ae()};T.addEventListener("success",fe),T.addEventListener("error",Oe)});return R.then(F=>{F instanceof IDBCursor&&Zd.set(F,T)}).catch(()=>{}),ka.set(R,T),R}(T);if(Mr.has(T))return Mr.get(T);const R=ic(T);return R!==T&&(Mr.set(T,R),ka.set(R,T)),R}const Cs=T=>ka.get(T);function Kc(T,R,{blocked:F,upgrade:Y,blocking:ae,terminated:fe}={}){const Oe=indexedDB.open(T,R),Mt=Us(Oe);return Y&&Oe.addEventListener("upgradeneeded",wt=>{Y(Us(Oe.result),wt.oldVersion,wt.newVersion,Us(Oe.transaction))}),F&&Oe.addEventListener("blocked",()=>F()),Mt.then(wt=>{fe&&wt.addEventListener("close",()=>fe()),ae&&wt.addEventListener("versionchange",()=>ae())}).catch(()=>{}),Mt}function Qc(T,{blocked:R}={}){const F=indexedDB.deleteDatabase(T);return R&&F.addEventListener("blocked",()=>R()),Us(F).then(()=>{})}const ph=["get","getKey","getAll","getAllKeys","count"],Hv=["put","add","delete","clear"],Kd=new Map;function gh(T,R){if(!(T instanceof IDBDatabase)||R in T||"string"!=typeof R)return;if(Kd.get(R))return Kd.get(R);const F=R.replace(/FromIndex$/,""),Y=R!==F,ae=Hv.includes(F);if(!(F in(Y?IDBIndex:IDBObjectStore).prototype)||!ae&&!ph.includes(F))return;const fe=function(){var Oe=(0,$.Z)(function*(Mt,...wt){const Zt=this.transaction(Mt,ae?"readwrite":"readonly");let fn=Zt.store;return Y&&(fn=fn.index(wt.shift())),(yield Promise.all([fn[F](...wt),ae&&Zt.done]))[0]});return function(wt){return Oe.apply(this,arguments)}}();return Kd.set(R,fe),fe}!function Xr(T){Tr=T(Tr)}(T=>({...T,get:(R,F,Y)=>gh(R,F)||T.get(R,F,Y),has:(R,F)=>!!gh(R,F)||T.has(R,F)}));const jf="/firebase-messaging-sw.js",_h="/firebase-cloud-messaging-push-scope",$f="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Gv="https://fcmregistrations.googleapis.com/v1",Gi="google.c.a.c_id",Wv="google.c.a.c_l",Yp="google.c.a.ts";var Yf=function(T){return T.PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",T}(Yf||{});function ra(T){const R=new Uint8Array(T);return btoa(String.fromCharCode(...R)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vh(T){const F=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Y=atob(F),ae=new Uint8Array(Y.length);for(let fe=0;fe<Y.length;++fe)ae[fe]=Y.charCodeAt(fe);return ae}const Jc="fcm_token_details_db",bh=5,Bl="fcm_token_object_Store";function Vl(){return Vl=(0,$.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(fe=>fe.name).includes(Jc))return null;let R=null;return(yield Kc(Jc,bh,{upgrade:(Y=(0,$.Z)(function*(ae,fe,Oe,Mt){var wt;if(fe<2||!ae.objectStoreNames.contains(Bl))return;const Zt=Mt.objectStore(Bl),fn=yield Zt.index("fcmSenderId").get(T);if(yield Zt.clear(),fn)if(2===fe){const An=fn;if(!An.auth||!An.p256dh||!An.endpoint)return;R={token:An.fcmToken,createTime:null!==(wt=An.createTime)&&void 0!==wt?wt:Date.now(),subscriptionOptions:{auth:An.auth,p256dh:An.p256dh,endpoint:An.endpoint,swScope:An.swScope,vapidKey:"string"==typeof An.vapidKey?An.vapidKey:ra(An.vapidKey)}}}else if(3===fe){const An=fn;R={token:An.fcmToken,createTime:An.createTime,subscriptionOptions:{auth:ra(An.auth),p256dh:ra(An.p256dh),endpoint:An.endpoint,swScope:An.swScope,vapidKey:ra(An.vapidKey)}}}else if(4===fe){const An=fn;R={token:An.fcmToken,createTime:An.createTime,subscriptionOptions:{auth:ra(An.auth),p256dh:ra(An.p256dh),endpoint:An.endpoint,swScope:An.swScope,vapidKey:ra(An.vapidKey)}}}}),function(fe,Oe,Mt,wt){return Y.apply(this,arguments)})})).close(),yield Qc(Jc),yield Qc("fcm_vapid_details_db"),yield Qc("undefined"),function rc(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:R}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof R.auth&&R.auth.length>0&&"string"==typeof R.p256dh&&R.p256dh.length>0&&"string"==typeof R.endpoint&&R.endpoint.length>0&&"string"==typeof R.swScope&&R.swScope.length>0&&"string"==typeof R.vapidKey&&R.vapidKey.length>0}(R)?R:null;var Y}),Vl.apply(this,arguments)}const No="firebase-messaging-database",qf=1,no="firebase-messaging-store";let _r=null;function sc(){return _r||(_r=Kc(No,qf,{upgrade:(T,R)=>{0===R&&T.createObjectStore(no)}})),_r}function Ss(T){return oc.apply(this,arguments)}function oc(){return oc=(0,$.Z)(function*(T){const R=Hl(T),Y=yield(yield sc()).transaction(no).objectStore(no).get(R);if(Y)return Y;{const ae=yield function H0(T){return Vl.apply(this,arguments)}(T.appConfig.senderId);if(ae)return yield yh(T,ae),ae}}),oc.apply(this,arguments)}function yh(T,R){return zl.apply(this,arguments)}function zl(){return(zl=(0,$.Z)(function*(T,R){const F=Hl(T),ae=(yield sc()).transaction(no,"readwrite");return yield ae.objectStore(no).put(R,F),yield ae.done,R})).apply(this,arguments)}function el(){return(el=(0,$.Z)(function*(T){const R=Hl(T),Y=(yield sc()).transaction(no,"readwrite");yield Y.objectStore(no).delete(R),yield Y.done})).apply(this,arguments)}function Hl({appConfig:T}){return T.appId}const Ar=new Te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function xh(T,R){return wh.apply(this,arguments)}function wh(){return(wh=(0,$.Z)(function*(T,R){const F=yield Kf(T),Y=jv(R),ae={method:"POST",headers:F,body:JSON.stringify(Y)};let fe;try{fe=yield(yield fetch(Wl(T.appConfig),ae)).json()}catch(Oe){throw Ar.create("token-subscribe-failed",{errorInfo:Oe?.toString()})}if(fe.error)throw Ar.create("token-subscribe-failed",{errorInfo:fe.error.message});if(!fe.token)throw Ar.create("token-subscribe-no-token");return fe.token})).apply(this,arguments)}function Gl(){return(Gl=(0,$.Z)(function*(T,R){const F=yield Kf(T),Y=jv(R.subscriptionOptions),ae={method:"PATCH",headers:F,body:JSON.stringify(Y)};let fe;try{fe=yield(yield fetch(`${Wl(T.appConfig)}/${R.token}`,ae)).json()}catch(Oe){throw Ar.create("token-update-failed",{errorInfo:Oe?.toString()})}if(fe.error)throw Ar.create("token-update-failed",{errorInfo:fe.error.message});if(!fe.token)throw Ar.create("token-update-no-token");return fe.token})).apply(this,arguments)}function ac(T,R){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,$.Z)(function*(T,R){const Y={method:"DELETE",headers:yield Kf(T)};try{const fe=yield(yield fetch(`${Wl(T.appConfig)}/${R}`,Y)).json();if(fe.error)throw Ar.create("token-unsubscribe-failed",{errorInfo:fe.error.message})}catch(ae){throw Ar.create("token-unsubscribe-failed",{errorInfo:ae?.toString()})}})).apply(this,arguments)}function Wl({projectId:T}){return`${Gv}/projects/${T}/registrations`}function Kf(T){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,$.Z)(function*({appConfig:T,installations:R}){const F=yield R.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${F}`})})).apply(this,arguments)}function jv({p256dh:T,auth:R,endpoint:F,vapidKey:Y}){const ae={web:{endpoint:F,auth:R,p256dh:T}};return Y!==$f&&(ae.web.applicationPubKey=Y),ae}const Qf=6048e5;function Ch(){return Ch=(0,$.Z)(function*(T){const R=yield function jl(T,R){return Sh.apply(this,arguments)}(T.swRegistration,T.vapidKey),F={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:R.endpoint,auth:ra(R.getKey("auth")),p256dh:ra(R.getKey("p256dh"))},Y=yield Ss(T.firebaseDependencies);if(Y){if(function em(T,R){return R.vapidKey===T.vapidKey&&R.endpoint===T.endpoint&&R.auth===T.auth&&R.p256dh===T.p256dh}(Y.subscriptionOptions,F))return Date.now()>=Y.createTime+Qf?function Zp(T,R){return tl.apply(this,arguments)}(T,{token:Y.token,createTime:Date.now(),subscriptionOptions:F}):Y.token;try{yield ac(T.firebaseDependencies,Y.token)}catch(ae){console.warn(ae)}return Yv(T.firebaseDependencies,F)}return Yv(T.firebaseDependencies,F)}),Ch.apply(this,arguments)}function Jd(){return Jd=(0,$.Z)(function*(T){const R=yield Ss(T.firebaseDependencies);R&&(yield ac(T.firebaseDependencies,R.token),yield function Zf(T){return el.apply(this,arguments)}(T.firebaseDependencies));const F=yield T.swRegistration.pushManager.getSubscription();return!F||F.unsubscribe()}),Jd.apply(this,arguments)}function tl(){return tl=(0,$.Z)(function*(T,R){try{const F=yield function Eh(T,R){return Gl.apply(this,arguments)}(T.firebaseDependencies,R),Y=Object.assign(Object.assign({},R),{token:F,createTime:Date.now()});return yield yh(T.firebaseDependencies,Y),F}catch(F){throw yield function Jf(T){return Jd.apply(this,arguments)}(T),F}}),tl.apply(this,arguments)}function Yv(T,R){return nl.apply(this,arguments)}function nl(){return(nl=(0,$.Z)(function*(T,R){const Y={token:yield xh(T,R),createTime:Date.now(),subscriptionOptions:R};return yield yh(T,Y),Y.token})).apply(this,arguments)}function Sh(){return(Sh=(0,$.Z)(function*(T,R){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:vh(R)})})).apply(this,arguments)}function eu(T){const R={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function $l(T,R){if(!R.notification)return;T.notification={};const F=R.notification.title;F&&(T.notification.title=F);const Y=R.notification.body;Y&&(T.notification.body=Y);const ae=R.notification.image;ae&&(T.notification.image=ae);const fe=R.notification.icon;fe&&(T.notification.icon=fe)}(R,T),function Xp(T,R){R.data&&(T.data=R.data)}(R,T),function Mh(T,R){var F,Y,ae,fe,Oe;if(!(R.fcmOptions||null!==(F=R.notification)&&void 0!==F&&F.click_action))return;T.fcmOptions={};const Mt=null!==(ae=null===(Y=R.fcmOptions)||void 0===Y?void 0:Y.link)&&void 0!==ae?ae:null===(fe=R.notification)||void 0===fe?void 0:fe.click_action;Mt&&(T.fcmOptions.link=Mt);const wt=null===(Oe=R.fcmOptions)||void 0===Oe?void 0:Oe.analytics_label;wt&&(T.fcmOptions.analyticsLabel=wt)}(R,T),R}function Th(T,R){const F=[];for(let Y=0;Y<T.length;Y++)F.push(T.charAt(Y)),Y<R.length&&F.push(R.charAt(Y));return F.join("")}function Ah(T){return Ar.create("missing-app-config-values",{valueName:T})}Th("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Th("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Qp{constructor(R,F,Y){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ae=function Kp(T){if(!T||!T.options)throw Ah("App Configuration Object");if(!T.name)throw Ah("App Name");const R=["projectId","apiKey","appId","messagingSenderId"],{options:F}=T;for(const Y of R)if(!F[Y])throw Ah(Y);return{appName:T.name,projectId:F.projectId,apiKey:F.apiKey,appId:F.appId,senderId:F.messagingSenderId}}(R);this.firebaseDependencies={app:R,appConfig:ae,installations:F,analyticsProvider:Y}}_delete(){return Promise.resolve()}}function Yl(){return(Yl=(0,$.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(jf,{scope:_h}),T.swRegistration.update().catch(()=>{})}catch(R){throw Ar.create("failed-service-worker-registration",{browserErrorMessage:R?.message})}})).apply(this,arguments)}function cc(){return(cc=(0,$.Z)(function*(T,R){if(!R&&!T.swRegistration&&(yield function tu(T){return Yl.apply(this,arguments)}(T)),R||!T.swRegistration){if(!(R instanceof ServiceWorkerRegistration))throw Ar.create("invalid-sw-registration");T.swRegistration=R}})).apply(this,arguments)}function lc(){return(lc=(0,$.Z)(function*(T,R){R?T.vapidKey=R:T.vapidKey||(T.vapidKey=$f)})).apply(this,arguments)}function ql(){return ql=(0,$.Z)(function*(T,R){if(!navigator)throw Ar.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ar.create("permission-blocked");return yield function Lo(T,R){return lc.apply(this,arguments)}(T,R?.vapidKey),yield function Jp(T,R){return cc.apply(this,arguments)}(T,R?.serviceWorkerRegistration),function $v(T){return Ch.apply(this,arguments)}(T)}),ql.apply(this,arguments)}function wo(){return(wo=(0,$.Z)(function*(T,R,F){const Y=function nm(T){switch(T){case Yf.NOTIFICATION_CLICKED:return"notification_open";case Yf.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(R);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(Y,{message_id:F[Gi],message_name:F[Wv],message_time:F[Yp],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function vi(){return vi=(0,$.Z)(function*(T,R){const F=R.data;if(!F.isFirebaseMessaging)return;T.onMessageHandler&&F.messageType===Yf.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(eu(F)):T.onMessageHandler.next(eu(F)));const Y=F.data;(function qv(T){return"object"==typeof T&&!!T&&Gi in T})(Y)&&"1"===Y["google.c.a.e"]&&(yield function eg(T,R,F){return wo.apply(this,arguments)}(T,F.messageType,Y))}),vi.apply(this,arguments)}const Pa="@firebase/messaging",Vr=T=>{const R=new Qp(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",F=>function im(T,R){return vi.apply(this,arguments)}(R,F)),R},tg=T=>{const R=T.getProvider("messaging").getImmediate();return{getToken:Y=>function tm(T,R){return ql.apply(this,arguments)}(R,Y)}};function uc(){return zr.apply(this,arguments)}function zr(){return(zr=(0,$.Z)(function*(){try{yield(0,Te.eu)()}catch{return!1}return typeof window<"u"&&(0,Te.hl)()&&(0,Te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Dh(){(0,we._registerComponent)(new ye.wA("messaging",Vr,"PUBLIC")),(0,we._registerComponent)(new ye.wA("messaging-internal",tg,"PRIVATE")),(0,we.registerVersion)(Pa,"0.12.4"),(0,we.registerVersion)(Pa,"0.12.4","esm2017")}();const Oi="analytics",Xv="firebase_id",bn="origin",rm=6e4,sm="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",iu="https://www.googletagmanager.com/gtag/js",Dr=new He.Yd("@firebase/analytics"),Hr=new Te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Fo(T){if(!T.startsWith(iu)){const R=Hr.create("invalid-gtag-resource",{gtagURL:T});return Dr.warn(R.message),""}return T}function ru(T){return Promise.all(T.map(R=>R.catch(F=>F)))}function et(){return(et=(0,$.Z)(function*(T,R,F,Y,ae,fe){const Oe=Y[ae];try{if(Oe)yield R[Oe];else{const wt=(yield ru(F)).find(Zt=>Zt.measurementId===ae);wt&&(yield R[wt.appId])}}catch(Mt){Dr.error(Mt)}T("config",ae,fe)})).apply(this,arguments)}function Eo(){return(Eo=(0,$.Z)(function*(T,R,F,Y,ae){try{let fe=[];if(ae&&ae.send_to){let Oe=ae.send_to;Array.isArray(Oe)||(Oe=[Oe]);const Mt=yield ru(F);for(const wt of Oe){const Zt=Mt.find(An=>An.measurementId===wt),fn=Zt&&R[Zt.appId];if(!fn){fe=[];break}fe.push(fn)}}0===fe.length&&(fe=Object.values(R)),yield Promise.all(fe),T("event",Y,ae||{})}catch(fe){Dr.error(fe)}})).apply(this,arguments)}const rl=30,Rh=new class hc{constructor(R={},F=1e3){this.throttleMetadata=R,this.intervalMillis=F}getThrottleMetadata(R){return this.throttleMetadata[R]}setThrottleMetadata(R,F){this.throttleMetadata[R]=F}deleteThrottleMetadata(R){delete this.throttleMetadata[R]}};function sg(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function Ph(){return(Ph=(0,$.Z)(function*(T){var R;const{appId:F,apiKey:Y}=T,ae={method:"GET",headers:sg(Y)},fe=sm.replace("{app-id}",F),Oe=yield fetch(fe,ae);if(200!==Oe.status&&304!==Oe.status){let Mt="";try{const wt=yield Oe.json();null!==(R=wt.error)&&void 0!==R&&R.message&&(Mt=wt.error.message)}catch{}throw Hr.create("config-fetch-failed",{httpStatus:Oe.status,responseMessage:Mt})}return Oe.json()})).apply(this,arguments)}function Bs(){return(Bs=(0,$.Z)(function*(T,R=Rh,F){const{appId:Y,apiKey:ae,measurementId:fe}=T.options;if(!Y)throw Hr.create("no-app-id");if(!ae){if(fe)return{measurementId:fe,appId:Y};throw Hr.create("no-api-key")}const Oe=R.getThrottleMetadata(Y)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Mt=new Nh;return setTimeout((0,$.Z)(function*(){Mt.abort()}),void 0!==F?F:rm),am({appId:Y,apiKey:ae,measurementId:fe},Oe,Mt,R)})).apply(this,arguments)}function am(T,R,F){return fc.apply(this,arguments)}function fc(){return fc=(0,$.Z)(function*(T,{throttleEndTimeMillis:R,backoffCount:F},Y,ae=Rh){var fe;const{appId:Oe,measurementId:Mt}=T;try{yield function io(T,R){return new Promise((F,Y)=>{const ae=Math.max(R-Date.now(),0),fe=setTimeout(F,ae);T.addEventListener(()=>{clearTimeout(fe),Y(Hr.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(Y,R)}catch(wt){if(Mt)return Dr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Mt} provided in the "measurementId" field in the local Firebase config. [${wt?.message}]`),{appId:Oe,measurementId:Mt};throw wt}try{const wt=yield function G0(T){return Ph.apply(this,arguments)}(T);return ae.deleteThrottleMetadata(Oe),wt}catch(wt){const Zt=wt;if(!function Oh(T){if(!(T instanceof Te.ZR&&T.customData))return!1;const R=Number(T.customData.httpStatus);return 429===R||500===R||503===R||504===R}(Zt)){if(ae.deleteThrottleMetadata(Oe),Mt)return Dr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Mt} provided in the "measurementId" field in the local Firebase config. [${Zt?.message}]`),{appId:Oe,measurementId:Mt};throw wt}const fn=503===Number(null===(fe=Zt?.customData)||void 0===fe?void 0:fe.httpStatus)?(0,Te.$s)(F,ae.intervalMillis,rl):(0,Te.$s)(F,ae.intervalMillis),An={throttleEndTimeMillis:Date.now()+fn,backoffCount:F+1};return ae.setThrottleMetadata(Oe,An),Dr.debug(`Calling attemptFetch again in ${fn} millis`),am(T,An,Y,ae)}}),fc.apply(this,arguments)}class Nh{constructor(){this.listeners=[]}addEventListener(R){this.listeners.push(R)}abort(){this.listeners.forEach(R=>R())}}let lu,sl;function du(){return(du=(0,$.Z)(function*(T,R,F,Y,ae){if(ae&&ae.global)T("event",F,Y);else{const fe=yield R;T("event",F,Object.assign(Object.assign({},Y),{send_to:fe}))}})).apply(this,arguments)}function ro(){return(ro=(0,$.Z)(function*(){if(!(0,Te.hl)())return Dr.warn(Hr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Te.eu)()}catch(T){return Dr.warn(Hr.create("indexeddb-unavailable",{errorInfo:T?.toString()}).message),!1}return!0})).apply(this,arguments)}function mc(){return mc=(0,$.Z)(function*(T,R,F,Y,ae,fe,Oe){var Mt;const wt=function Ts(T){return Bs.apply(this,arguments)}(T);wt.then(vr=>{F[vr.measurementId]=vr.appId,T.options.measurementId&&vr.measurementId!==T.options.measurementId&&Dr.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${vr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(vr=>Dr.error(vr)),R.push(wt);const Zt=function Hn(){return ro.apply(this,arguments)}().then(vr=>{if(vr)return Y.getId()}),[fn,An]=yield Promise.all([wt,Zt]);(function cu(T){const R=window.document.getElementsByTagName("script");for(const F of Object.values(R))if(F.src&&F.src.includes(iu)&&F.src.includes(T))return F;return null})(fe)||function ou(T,R){const F=function su(T,R){let F;return window.trustedTypes&&(F=window.trustedTypes.createPolicy(T,R)),F}("firebase-js-sdk-policy",{createScriptURL:Fo}),Y=document.createElement("script"),ae=`${iu}?l=${T}&id=${R}`;Y.src=F?F?.createScriptURL(ae):ae,Y.async=!0,document.head.appendChild(Y)}(fe,fn.measurementId),sl&&(ae("consent","default",sl),function Zl(T){sl=T}(void 0)),ae("js",new Date);const hr=null!==(Mt=Oe?.config)&&void 0!==Mt?Mt:{};return hr[bn]="firebase",hr.update=!0,null!=An&&(hr[Xv]=An),ae("config",fn.measurementId,hr),lu&&(ae("set",lu),function Sn(T){lu=T}(void 0)),fn.measurementId}),mc.apply(this,arguments)}class Uo{constructor(R){this.app=R}_delete(){return delete so[this.app.options.appId],Promise.resolve()}}let so={},Xl=[];const hm={};let oo,oa,sa="dataLayer",pc=!1;function Ql(T,R,F){!function hu(){const T=[];if((0,Te.ru)()&&T.push("This is a browser extension environment."),(0,Te.zI)()||T.push("Cookies are not available."),T.length>0){const R=T.map((Y,ae)=>`(${ae+1}) ${Y}`).join(" "),F=Hr.create("invalid-analytics-context",{errorInfo:R});Dr.warn(F.message)}}();const Y=T.options.appId;if(!Y)throw Hr.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw Hr.create("no-api-key");Dr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=so[Y])throw Hr.create("already-exists",{id:Y});if(!pc){!function Kv(T){let R=[];Array.isArray(window[T])?R=window[T]:window[T]=R}(sa);const{wrappedGtag:fe,gtagCore:Oe}=function Ir(T,R,F,Y,ae){let fe=function(...Oe){window[Y].push(arguments)};return window[ae]&&"function"==typeof window[ae]&&(fe=window[ae]),window[ae]=function au(T,R,F,Y){function fe(){return fe=(0,$.Z)(function*(Oe,...Mt){try{if("event"===Oe){const[wt,Zt]=Mt;yield function Kn(T,R,F,Y,ae){return Eo.apply(this,arguments)}(T,R,F,wt,Zt)}else if("config"===Oe){const[wt,Zt]=Mt;yield function kh(T,R,F,Y,ae,fe){return et.apply(this,arguments)}(T,R,F,Y,wt,Zt)}else if("consent"===Oe){const[wt]=Mt;T("consent","update",wt)}else if("get"===Oe){const[wt,Zt,fn]=Mt;T("get",wt,Zt,fn)}else if("set"===Oe){const[wt]=Mt;T("set",wt)}else T(Oe,...Mt)}catch(wt){Dr.error(wt)}}),fe.apply(this,arguments)}return function ae(Oe){return fe.apply(this,arguments)}}(fe,T,R,F),{gtagCore:fe,wrappedGtag:window[ae]}}(so,Xl,hm,sa,"gtag");oa=fe,oo=Oe,pc=!0}return so[Y]=function xn(T,R,F,Y,ae,fe,Oe){return mc.apply(this,arguments)}(T,Xl,hm,R,oo,sa,F),new Uo(T)}function Lh(){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,$.Z)(function*(){if((0,Te.ru)()||!(0,Te.zI)()||!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch{return!1}})).apply(this,arguments)}const Jl="@firebase/analytics";!function lg(){(0,we._registerComponent)(new ye.wA(Oi,(R,{options:F})=>Ql(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),F),"PUBLIC")),(0,we._registerComponent)(new ye.wA("analytics-internal",function T(R){try{const F=R.getProvider(Oi).getImmediate();return{logEvent:(Y,ae,fe)=>function pm(T,R,F,Y){T=(0,Te.m9)(T),function Qv(T,R,F,Y,ae){return du.apply(this,arguments)}(oa,so[T.app.options.appId],R,F,Y).catch(ae=>Dr.error(ae))}(F,Y,ae,fe)}}catch(F){throw Hr.create("interop-component-reg-failed",{reason:F})}},"PRIVATE")),(0,we.registerVersion)(Jl,"0.10.0"),(0,we.registerVersion)(Jl,"0.10.0","esm2017")}();var gc=W(1954),mu=W(2631);const _m=new class gm extends mu.v{}(class Uh extends gc.o{constructor(R,F){super(R,F),this.scheduler=R,this.work=F}schedule(R,F=0){return F>0?super.schedule(R,F):(this.delay=F,this.state=R,this.scheduler.flush(this),this)}execute(R,F){return F>0||this.closed?super.execute(R,F):this._execute(R,F)}requestAsyncId(R,F,Y=0){return null!=Y&&Y>0||null==Y&&this.delay>0?super.requestAsyncId(R,F,Y):(R.flush(this),0)}});var Bh=W(6321),Bo=W(9397),Vh=W(5137),_c=W(3093);const ed=new a.GfV("7.6.1"),td="__angularfire_symbol__analyticsIsSupportedValue",Ba="__angularfire_symbol__analyticsIsSupported",nd="__angularfire_symbol__remoteConfigIsSupportedValue",zh="__angularfire_symbol__remoteConfigIsSupported",id="__angularfire_symbol__messagingIsSupportedValue",rd="__angularfire_symbol__messagingIsSupported";function aa(T,R,F){if(R){if(1===R.length)return R[0];const fe=R.filter(Oe=>Oe.app===F);if(1===fe.length)return fe[0]}return F.container.getProvider(T).getImmediate({optional:!0})}globalThis[Ba]||(globalThis[Ba]=Lh().then(T=>globalThis[td]=T).catch(()=>globalThis[td]=!1)),globalThis[rd]||(globalThis[rd]=uc().then(T=>globalThis[id]=T).catch(()=>globalThis[id]=!1)),globalThis[zh]||(globalThis[zh]=Da().then(T=>globalThis[nd]=T).catch(()=>globalThis[nd]=!1));const Vs=(T,R)=>{const F=R?[R]:(0,_e.C6)(),Y=[];return F.forEach(ae=>{ae.container.getProvider(T).instances.forEach(Oe=>{Y.includes(Oe)||Y.push(Oe)})}),Y};function Vo(){}class Gh{constructor(R,F=_m){this.zone=R,this.delegate=F}now(){return this.delegate.now()}schedule(R,F,Y){const ae=this.zone;return this.delegate.schedule(function(Oe){ae.runGuarded(()=>{R.apply(this,[Oe])})},F,Y)}}class vc{constructor(R){this.zone=R,this.task=null}call(R,F){const Y=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vo,{},Vo,Vo)),F.pipe((0,Bo.b)({next:Y,complete:Y,error:Y})).subscribe(R).add(Y)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let vm=(()=>{class T{constructor(F){this.ngZone=F,this.outsideAngular=F.runOutsideAngular(()=>new Gh(Zone.current)),this.insideAngular=F.run(()=>new Gh(Zone.current,Bh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(F){return new(F||T)(a.LFG(a.R0b))},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Ii(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function gu(T){return Ii(),function _u(T){return function(F){return(F=F.lift(new vc(T.ngZone))).pipe((0,Vh.R)(T.outsideAngular),(0,_c.Q)(T.insideAngular))}}(Ii())(T)}},9058:(Jt,Qe,W)=>{W.d(Qe,{$s:()=>ws,BH:()=>Ee,DV:()=>Yr,Dv:()=>Wc,GJ:()=>yr,L:()=>Le,LL:()=>tt,Pz:()=>Ye,Sg:()=>Je,UG:()=>Ie,UI:()=>ya,US:()=>ye,Wj:()=>Gn,Wl:()=>an,Yr:()=>Ka,ZB:()=>ve,ZR:()=>Ke,aH:()=>Me,b$:()=>Or,cI:()=>Ki,dS:()=>wa,eu:()=>Ne,g5:()=>$,gK:()=>di,gQ:()=>Tn,h$:()=>ut,hl:()=>Re,hu:()=>_e,jU:()=>hn,lb:()=>Po,m9:()=>Qs,ne:()=>Di,p$:()=>oe,pd:()=>$n,r3:()=>Si,ru:()=>jn,tV:()=>te,uI:()=>Dt,ug:()=>Ea,vZ:()=>Ns,w1:()=>Jo,w9:()=>Bi,xO:()=>kl,xb:()=>Os,z$:()=>mt,zI:()=>qe,zd:()=>cn});const a={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},_e=function(re,ie){if(!re)throw $(ie)},$=function(re){return new Error("Firebase Database ("+a.SDK_VERSION+") INTERNAL ASSERT FAILED: "+re)},we=function(re){const ie=[];let ue=0;for(let Xe=0;Xe<re.length;Xe++){let Ae=re.charCodeAt(Xe);Ae<128?ie[ue++]=Ae:Ae<2048?(ie[ue++]=Ae>>6|192,ie[ue++]=63&Ae|128):55296==(64512&Ae)&&Xe+1<re.length&&56320==(64512&re.charCodeAt(Xe+1))?(Ae=65536+((1023&Ae)<<10)+(1023&re.charCodeAt(++Xe)),ie[ue++]=Ae>>18|240,ie[ue++]=Ae>>12&63|128,ie[ue++]=Ae>>6&63|128,ie[ue++]=63&Ae|128):(ie[ue++]=Ae>>12|224,ie[ue++]=Ae>>6&63|128,ie[ue++]=63&Ae|128)}return ie},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(re,ie){if(!Array.isArray(re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ue=ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,Xe=[];for(let Ae=0;Ae<re.length;Ae+=3){const Ft=re[Ae],Cn=Ae+1<re.length,pn=Cn?re[Ae+1]:0,Er=Ae+2<re.length,Rn=Er?re[Ae+2]:0;let gr=(15&pn)<<2|Rn>>6,Oo=63&Rn;Er||(Oo=64,Cn||(gr=64)),Xe.push(ue[Ft>>2],ue[(3&Ft)<<4|pn>>4],ue[gr],ue[Oo])}return Xe.join("")},encodeString(re,ie){return this.HAS_NATIVE_SUPPORT&&!ie?btoa(re):this.encodeByteArray(we(re),ie)},decodeString(re,ie){return this.HAS_NATIVE_SUPPORT&&!ie?atob(re):function(re){const ie=[];let ue=0,Xe=0;for(;ue<re.length;){const Ae=re[ue++];if(Ae<128)ie[Xe++]=String.fromCharCode(Ae);else if(Ae>191&&Ae<224){const Ft=re[ue++];ie[Xe++]=String.fromCharCode((31&Ae)<<6|63&Ft)}else if(Ae>239&&Ae<365){const Er=((7&Ae)<<18|(63&re[ue++])<<12|(63&re[ue++])<<6|63&re[ue++])-65536;ie[Xe++]=String.fromCharCode(55296+(Er>>10)),ie[Xe++]=String.fromCharCode(56320+(1023&Er))}else{const Ft=re[ue++],Cn=re[ue++];ie[Xe++]=String.fromCharCode((15&Ae)<<12|(63&Ft)<<6|63&Cn)}}return ie.join("")}(this.decodeStringToByteArray(re,ie))},decodeStringToByteArray(re,ie){this.init_();const ue=ie?this.charToByteMapWebSafe_:this.charToByteMap_,Xe=[];for(let Ae=0;Ae<re.length;){const Ft=ue[re.charAt(Ae++)],pn=Ae<re.length?ue[re.charAt(Ae)]:0;++Ae;const Rn=Ae<re.length?ue[re.charAt(Ae)]:64;++Ae;const ti=Ae<re.length?ue[re.charAt(Ae)]:64;if(++Ae,null==Ft||null==pn||null==Rn||null==ti)throw new He;Xe.push(Ft<<2|pn>>4),64!==Rn&&(Xe.push(pn<<4&240|Rn>>2),64!==ti&&Xe.push(Rn<<6&192|ti))}return Xe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let re=0;re<this.ENCODED_VALS.length;re++)this.byteToCharMap_[re]=this.ENCODED_VALS.charAt(re),this.charToByteMap_[this.byteToCharMap_[re]]=re,this.byteToCharMapWebSafe_[re]=this.ENCODED_VALS_WEBSAFE.charAt(re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[re]]=re,re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(re)]=re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(re)]=re)}}};class He extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ut=function(re){const ie=we(re);return ye.encodeByteArray(ie,!0)},Le=function(re){return ut(re).replace(/\./g,"")},te=function(re){try{return ye.decodeString(re,!0)}catch(ie){console.error("base64Decode failed: ",ie)}return null};function oe(re){return ve(void 0,re)}function ve(re,ie){if(!(ie instanceof Object))return ie;switch(ie.constructor){case Date:return new Date(ie.getTime());case Object:void 0===re&&(re={});break;case Array:re=[];break;default:return ie}for(const ue in ie)!ie.hasOwnProperty(ue)||!vt(ue)||(re[ue]=ve(re[ue],ie[ue]));return re}function vt(re){return"__proto__"!==re}const gt=()=>{try{return function st(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const re=process.env.__FIREBASE_DEFAULTS__;return re?JSON.parse(re):void 0})()||(()=>{if(typeof document>"u")return;let re;try{re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ie=re&&te(re[1]);return ie&&JSON.parse(ie)})()}catch(re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${re}`)}},Me=()=>{var re;return null===(re=gt())||void 0===re?void 0:re.config},Ye=re=>{var ie;return null===(ie=gt())||void 0===ie?void 0:ie[`_${re}`]};class Ee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ie,ue)=>{this.resolve=ie,this.reject=ue})}wrapCallback(ie){return(ue,Xe)=>{ue?this.reject(ue):this.resolve(Xe),"function"==typeof ie&&(this.promise.catch(()=>{}),1===ie.length?ie(ue):ie(ue,Xe))}}}function Je(re,ie){if(re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Xe=ie||"demo-project",Ae=re.iat||0,Ft=re.sub||re.user_id;if(!Ft)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Cn=Object.assign({iss:`https://securetoken.google.com/${Xe}`,aud:Xe,iat:Ae,exp:Ae+3600,auth_time:Ae,sub:Ft,user_id:Ft,firebase:{sign_in_provider:"custom",identities:{}}},re);return[Le(JSON.stringify({alg:"none",type:"JWT"})),Le(JSON.stringify(Cn)),""].join(".")}function mt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Dt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function Ie(){var re;const ie=null===(re=gt())||void 0===re?void 0:re.forceEnvironment;if("node"===ie)return!0;if("browser"===ie)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function hn(){return"object"==typeof self&&self.self===self}function jn(){const re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof re&&void 0!==re.id}function Or(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Jo(){const re=mt();return re.indexOf("MSIE ")>=0||re.indexOf("Trident/")>=0}function Ka(){return!0===a.NODE_CLIENT||!0===a.NODE_ADMIN}function Re(){try{return"object"==typeof indexedDB}catch{return!1}}function Ne(){return new Promise((re,ie)=>{try{let ue=!0;const Xe="validate-browser-context-for-indexeddb-analytics-module",Ae=self.indexedDB.open(Xe);Ae.onsuccess=()=>{Ae.result.close(),ue||self.indexedDB.deleteDatabase(Xe),re(!0)},Ae.onupgradeneeded=()=>{ue=!1},Ae.onerror=()=>{var Ft;ie((null===(Ft=Ae.error)||void 0===Ft?void 0:Ft.message)||"")}}catch(ue){ie(ue)}})}function qe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ke extends Error{constructor(ie,ue,Xe){super(ue),this.code=ie,this.customData=Xe,this.name="FirebaseError",Object.setPrototypeOf(this,Ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tt.prototype.create)}}class tt{constructor(ie,ue,Xe){this.service=ie,this.serviceName=ue,this.errors=Xe}create(ie,...ue){const Xe=ue[0]||{},Ae=`${this.service}/${ie}`,Ft=this.errors[ie],Cn=Ft?function Ht(re,ie){return re.replace(Ct,(ue,Xe)=>{const Ae=ie[Xe];return null!=Ae?String(Ae):`<${Xe}?>`})}(Ft,Xe):"Error";return new Ke(Ae,`${this.serviceName}: ${Cn} (${Ae}).`,Xe)}}const Ct=/\{\$([^}]+)}/g;function Ki(re){return JSON.parse(re)}function an(re){return JSON.stringify(re)}const li=function(re){let ie={},ue={},Xe={},Ae="";try{const Ft=re.split(".");ie=Ki(te(Ft[0])||""),ue=Ki(te(Ft[1])||""),Ae=Ft[2],Xe=ue.d||{},delete ue.d}catch{}return{header:ie,claims:ue,data:Xe,signature:Ae}},Bi=function(re){const ue=li(re).claims;return!!ue&&"object"==typeof ue&&ue.hasOwnProperty("iat")},yr=function(re){const ie=li(re).claims;return"object"==typeof ie&&!0===ie.admin};function Si(re,ie){return Object.prototype.hasOwnProperty.call(re,ie)}function Yr(re,ie){if(Object.prototype.hasOwnProperty.call(re,ie))return re[ie]}function Os(re){for(const ie in re)if(Object.prototype.hasOwnProperty.call(re,ie))return!1;return!0}function ya(re,ie,ue){const Xe={};for(const Ae in re)Object.prototype.hasOwnProperty.call(re,Ae)&&(Xe[Ae]=ie.call(ue,re[Ae],Ae,re));return Xe}function Ns(re,ie){if(re===ie)return!0;const ue=Object.keys(re),Xe=Object.keys(ie);for(const Ae of ue){if(!Xe.includes(Ae))return!1;const Ft=re[Ae],Cn=ie[Ae];if(Ls(Ft)&&Ls(Cn)){if(!Ns(Ft,Cn))return!1}else if(Ft!==Cn)return!1}for(const Ae of Xe)if(!ue.includes(Ae))return!1;return!0}function Ls(re){return null!==re&&"object"==typeof re}function kl(re){const ie=[];for(const[ue,Xe]of Object.entries(re))Array.isArray(Xe)?Xe.forEach(Ae=>{ie.push(encodeURIComponent(ue)+"="+encodeURIComponent(Ae))}):ie.push(encodeURIComponent(ue)+"="+encodeURIComponent(Xe));return ie.length?"&"+ie.join("&"):""}function cn(re){const ie={};return re.replace(/^\?/,"").split("&").forEach(Xe=>{if(Xe){const[Ae,Ft]=Xe.split("=");ie[decodeURIComponent(Ae)]=decodeURIComponent(Ft)}}),ie}function $n(re){const ie=re.indexOf("?");if(!ie)return"";const ue=re.indexOf("#",ie);return re.substring(ie,ue>0?ue:void 0)}class Tn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ie=1;ie<this.blockSize;++ie)this.pad_[ie]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ie,ue){ue||(ue=0);const Xe=this.W_;if("string"==typeof ie)for(let ti=0;ti<16;ti++)Xe[ti]=ie.charCodeAt(ue)<<24|ie.charCodeAt(ue+1)<<16|ie.charCodeAt(ue+2)<<8|ie.charCodeAt(ue+3),ue+=4;else for(let ti=0;ti<16;ti++)Xe[ti]=ie[ue]<<24|ie[ue+1]<<16|ie[ue+2]<<8|ie[ue+3],ue+=4;for(let ti=16;ti<80;ti++){const gr=Xe[ti-3]^Xe[ti-8]^Xe[ti-14]^Xe[ti-16];Xe[ti]=4294967295&(gr<<1|gr>>>31)}let Rn,Qi,Ae=this.chain_[0],Ft=this.chain_[1],Cn=this.chain_[2],pn=this.chain_[3],Er=this.chain_[4];for(let ti=0;ti<80;ti++){ti<40?ti<20?(Rn=pn^Ft&(Cn^pn),Qi=1518500249):(Rn=Ft^Cn^pn,Qi=1859775393):ti<60?(Rn=Ft&Cn|pn&(Ft|Cn),Qi=2400959708):(Rn=Ft^Cn^pn,Qi=3395469782);const gr=(Ae<<5|Ae>>>27)+Rn+Er+Qi+Xe[ti]&4294967295;Er=pn,pn=Cn,Cn=4294967295&(Ft<<30|Ft>>>2),Ft=Ae,Ae=gr}this.chain_[0]=this.chain_[0]+Ae&4294967295,this.chain_[1]=this.chain_[1]+Ft&4294967295,this.chain_[2]=this.chain_[2]+Cn&4294967295,this.chain_[3]=this.chain_[3]+pn&4294967295,this.chain_[4]=this.chain_[4]+Er&4294967295}update(ie,ue){if(null==ie)return;void 0===ue&&(ue=ie.length);const Xe=ue-this.blockSize;let Ae=0;const Ft=this.buf_;let Cn=this.inbuf_;for(;Ae<ue;){if(0===Cn)for(;Ae<=Xe;)this.compress_(ie,Ae),Ae+=this.blockSize;if("string"==typeof ie){for(;Ae<ue;)if(Ft[Cn]=ie.charCodeAt(Ae),++Cn,++Ae,Cn===this.blockSize){this.compress_(Ft),Cn=0;break}}else for(;Ae<ue;)if(Ft[Cn]=ie[Ae],++Cn,++Ae,Cn===this.blockSize){this.compress_(Ft),Cn=0;break}}this.inbuf_=Cn,this.total_+=ue}digest(){const ie=[];let ue=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Ae=this.blockSize-1;Ae>=56;Ae--)this.buf_[Ae]=255&ue,ue/=256;this.compress_(this.buf_);let Xe=0;for(let Ae=0;Ae<5;Ae++)for(let Ft=24;Ft>=0;Ft-=8)ie[Xe]=this.chain_[Ae]>>Ft&255,++Xe;return ie}}function Di(re,ie){const ue=new Xi(re,ie);return ue.subscribe.bind(ue)}class Xi{constructor(ie,ue){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ue,this.task.then(()=>{ie(this)}).catch(Xe=>{this.error(Xe)})}next(ie){this.forEachObserver(ue=>{ue.next(ie)})}error(ie){this.forEachObserver(ue=>{ue.error(ie)}),this.close(ie)}complete(){this.forEachObserver(ie=>{ie.complete()}),this.close()}subscribe(ie,ue,Xe){let Ae;if(void 0===ie&&void 0===ue&&void 0===Xe)throw new Error("Missing Observer.");Ae=function xi(re,ie){if("object"!=typeof re||null===re)return!1;for(const ue of ie)if(ue in re&&"function"==typeof re[ue])return!0;return!1}(ie,["next","error","complete"])?ie:{next:ie,error:ue,complete:Xe},void 0===Ae.next&&(Ae.next=Nr),void 0===Ae.error&&(Ae.error=Nr),void 0===Ae.complete&&(Ae.complete=Nr);const Ft=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ae.error(this.finalError):Ae.complete()}catch{}}),this.observers.push(Ae),Ft}unsubscribeOne(ie){void 0===this.observers||void 0===this.observers[ie]||(delete this.observers[ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ie){if(!this.finalized)for(let ue=0;ue<this.observers.length;ue++)this.sendOne(ue,ie)}sendOne(ie,ue){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ie])try{ue(this.observers[ie])}catch(Xe){typeof console<"u"&&console.error&&console.error(Xe)}})}close(ie){this.finalized||(this.finalized=!0,void 0!==ie&&(this.finalError=ie),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nr(){}const Wc=function(re,ie,ue,Xe){let Ae;if(Xe<ie?Ae="at least "+ie:Xe>ue&&(Ae=0===ue?"none":"no more than "+ue),Ae)throw new Error(re+" failed: Was called with "+Xe+(1===Xe?" argument.":" arguments.")+" Expects "+Ae+".")};function di(re,ie){return`${re} failed: ${ie} argument `}function Gn(re,ie,ue,Xe){if((!Xe||ue)&&"function"!=typeof ue)throw new Error(di(re,ie)+"must be a valid function.")}function Po(re,ie,ue,Xe){if((!Xe||ue)&&("object"!=typeof ue||null===ue))throw new Error(di(re,ie)+"must be a valid context object.")}const wa=function(re){const ie=[];let ue=0;for(let Xe=0;Xe<re.length;Xe++){let Ae=re.charCodeAt(Xe);if(Ae>=55296&&Ae<=56319){const Ft=Ae-55296;Xe++,_e(Xe<re.length,"Surrogate pair missing trail surrogate."),Ae=65536+(Ft<<10)+(re.charCodeAt(Xe)-56320)}Ae<128?ie[ue++]=Ae:Ae<2048?(ie[ue++]=Ae>>6|192,ie[ue++]=63&Ae|128):Ae<65536?(ie[ue++]=Ae>>12|224,ie[ue++]=Ae>>6&63|128,ie[ue++]=63&Ae|128):(ie[ue++]=Ae>>18|240,ie[ue++]=Ae>>12&63|128,ie[ue++]=Ae>>6&63|128,ie[ue++]=63&Ae|128)}return ie},Ea=function(re){let ie=0;for(let ue=0;ue<re.length;ue++){const Xe=re.charCodeAt(ue);Xe<128?ie++:Xe<2048?ie+=2:Xe>=55296&&Xe<=56319?(ie+=4,ue++):ie+=3}return ie},Ca=1e3,yo=2,xr=144e5,wr=.5;function ws(re,ie=Ca,ue=yo){const Xe=ie*Math.pow(ue,re),Ae=Math.round(wr*Xe*(Math.random()-.5)*2);return Math.min(xr,Xe+Ae)}function Qs(re){return re&&re._delegate?re._delegate:re}},6642:(Jt,Qe,W)=>{var a=W(5879);let _e=null;function $(){return _e}class Te{}const ye=new a.OlP("DocumentToken");let He=(()=>{class i{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:function(){return(0,a.f3M)(Le)},providedIn:"platform"})}return i})();const ut=new a.OlP("Location Initialized");let Le=(()=>{class i extends He{constructor(){super(),this._doc=(0,a.f3M)(ye),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(e){const n=$().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){const n=$().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,r){this._history.pushState(e,n,r)}replaceState(e,n,r){this._history.replaceState(e,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:function(){return new i},providedIn:"platform"})}return i})();function te(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function oe(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function ve(i){return i&&"?"!==i[0]?"?"+i:i}let vt=(()=>{class i{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:function(){return(0,a.f3M)(Rt)},providedIn:"root"})}return i})();const st=new a.OlP("appBaseHref");let Rt=(()=>{class i extends vt{constructor(e,n){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return te(this._baseHref,e)}path(e=!1){const n=this._platformLocation.pathname+ve(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${n}${r}`:n}pushState(e,n,r,s){const l=this.prepareExternalUrl(r+ve(s));this._platformLocation.pushState(e,n,l)}replaceState(e,n,r,s){const l=this.prepareExternalUrl(r+ve(s));this._platformLocation.replaceState(e,n,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(He),a.LFG(st,8))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),dt=(()=>{class i extends vt{constructor(e,n){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(e){const n=te(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,r,s){let l=this.prepareExternalUrl(r+ve(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,n,l)}replaceState(e,n,r,s){let l=this.prepareExternalUrl(r+ve(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(He),a.LFG(st,8))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac})}return i})(),Et=(()=>{class i{constructor(e){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const n=this._locationStrategy.getBaseHref();this._basePath=function Me(i){if(new RegExp("^(https?:)?//").test(i)){const[,e]=i.split(/\/\/[^\/]+/);return e}return i}(oe(rn(n))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+ve(n))}normalize(e){return i.stripTrailingSlash(function ln(i,t){if(!i||!t.startsWith(i))return t;const e=t.substring(i.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,rn(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",r=null){this._locationStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ve(n)),r)}replaceState(e,n="",r=null){this._locationStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ve(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)})),()=>{const n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(r=>r(e,n))}subscribe(e,n,r){return this._subject.subscribe({next:e,error:n,complete:r})}static#e=this.normalizeQueryParams=ve;static#t=this.joinWithSlash=te;static#n=this.stripTrailingSlash=oe;static#i=this.\u0275fac=function(n){return new(n||i)(a.LFG(vt))};static#r=this.\u0275prov=a.Yz7({token:i,factory:function(){return function gt(){return new Et((0,a.LFG)(vt))}()},providedIn:"root"})}return i})();function rn(i){return i.replace(/\/index.html$/,"")}function xo(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const n=e.indexOf("="),[r,s]=-1==n?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const jc=/\s+/,ah=[];let Sa=(()=>{class i{constructor(e,n,r,s){this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=s,this.initialClasses=ah,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(jc):ah}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(jc):e}ngDoCheck(){for(const n of this.initialClasses)this._updateState(n,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const n of e)this._updateState(n,!0);else if(null!=e)for(const n of Object.keys(e))this._updateState(n,!!e[n]);this._applyStateDiff()}_updateState(e,n){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(e,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const n=e[0],r=e[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(e,n){(e=e.trim()).length>0&&e.split(jc).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return i})();class Qa{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $c=(()=>{class i{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,n,r){this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const n=this._viewContainer;e.forEachOperation((r,s,l)=>{if(null==r.previousIndex)n.createEmbeddedView(this._template,new Qa(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)n.remove(null===s?void 0:s);else if(null!==s){const u=n.get(s);n.move(u,l),lh(u,r)}});for(let r=0,s=n.length;r<s;r++){const u=n.get(r).context;u.index=r,u.count=s,u.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{lh(n.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,n){return!0}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return i})();function lh(i,t){i.context.$implicit=t.item}let qr=(()=>{class i{constructor(e,n){this._viewContainer=e,this._context=new Bv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Wp("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Wp("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,n){return!0}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.s_b),a.Y36(a.Rgc))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return i})();class Bv{constructor(){this.$implicit=null,this.ngIf=null}}function Wp(i,t){if(t&&!t.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,a.AaK)(t)}'.`)}class Es{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ma=(()=>{class i{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const n=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const n of this._defaultViews)n.enforceState(e)}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return i})(),Pl=(()=>{class i{constructor(e,n,r){this.ngSwitch=r,r._addCase(),this._view=new Es(e,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Ma,9))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return i})(),dh=(()=>{class i{constructor(e,n,r){r._addDefault(new Es(e,n))}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Ma,9))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return i})(),Ol=(()=>{class i{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:l}=this;this._viewRef=n.createEmbeddedView(r,s,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.s_b))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]})}return i})(),ai=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({})}return i})();const ta="browser";function Aa(i){return"server"===i}let Cr=(()=>{class i{static#e=this.\u0275prov=(0,a.Yz7)({token:i,providedIn:"root",factory:()=>new na((0,a.LFG)(ye),window)})}return i})();class na{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ia(i,t){const e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&"function"==typeof i.body.attachShadow){const n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const s=r.shadowRoot;if(s){const l=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(l)return l}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Fs{}class em extends Te{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class eu extends em{static makeCurrent(){!function we(i){_e||(_e=i)}(new eu)}onAndCancel(t,e,n){return t.addEventListener(e,n),()=>{t.removeEventListener(e,n)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Xp(){return $l=$l||document.querySelector("base"),$l?$l.getAttribute("href"):null}();return null==e?null:function qv(i){Mh=Mh||document.createElement("a"),Mh.setAttribute("href",i);const t=Mh.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){$l=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return xo(document.cookie,t)}}let Mh,$l=null,Kp=(()=>{class i{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac})}return i})();const Ah=new a.OlP("EventManagerPlugins");let Qp=(()=>{class i{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r){return this._findPluginFor(n).addEventListener(e,n,r)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(s=>s.supports(e)),!n)throw new a.vHH(5101,!1);return this._eventNameToPlugin.set(e,n),n}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(Ah),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac})}return i})();class tu{constructor(t){this._doc=t}}const Yl="ng-app-id";let Jp=(()=>{class i{constructor(e,n,r,s={}){this.doc=e,this.appId=n,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Aa(s),this.resetHostNodes()}addStyles(e){for(const n of e)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(e){for(const n of e)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(n=>n.remove()),e.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const n of this.getAllStyles())this.addStyleToHost(e,n)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const n of this.hostNodes)this.addStyleToHost(n,e)}onStyleRemoved(e){const n=this.styleRef;n.get(e)?.elements?.forEach(r=>r.remove()),n.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Yl}="${this.appId}"]`);if(e?.length){const n=new Map;return e.forEach(r=>{null!=r.textContent&&n.set(r.textContent,r)}),n}return null}changeUsageCount(e,n){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=n,s.usage}return r.set(e,{usage:n,elements:[]}),n}getStyleElement(e,n){const r=this.styleNodesInDOM,s=r?.get(n);if(s?.parentNode===e)return r.delete(n),s.removeAttribute(Yl),s;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=n,this.platformIsServer&&l.setAttribute(Yl,this.appId),l}}addStyleToHost(e,n){const r=this.getStyleElement(e,n);e.appendChild(r);const s=this.styleRef,l=s.get(n)?.elements;l?l.push(r):s.set(n,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(ye),a.LFG(a.AFp),a.LFG(a.Ojb,8),a.LFG(a.Lbi))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac})}return i})();const cc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lo=/%COMP%/g,wo=new a.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function vi(i,t){return t.map(e=>e.replace(Lo,i))}let Pa=(()=>{class i{constructor(e,n,r,s,l,u,f,p=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=l,this.platformId=u,this.ngZone=f,this.nonce=p,this.rendererByCompId=new Map,this.platformIsServer=Aa(u),this.defaultRenderer=new dc(e,l,f,this.platformIsServer)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===a.ifc.ShadowDom&&(n={...n,encapsulation:a.ifc.Emulated});const r=this.getOrCreateRenderer(e,n);return r instanceof ng?r.applyToHost(e):r instanceof zr&&r.applyStyles(),r}getOrCreateRenderer(e,n){const r=this.rendererByCompId;let s=r.get(n.id);if(!s){const l=this.doc,u=this.ngZone,f=this.eventManager,p=this.sharedStylesHost,b=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(n.encapsulation){case a.ifc.Emulated:s=new ng(f,p,n,this.appId,b,l,u,y);break;case a.ifc.ShadowDom:return new uc(f,p,e,n,l,u,this.nonce,y);default:s=new zr(f,p,n,b,l,u,y)}r.set(n.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(Qp),a.LFG(Jp),a.LFG(a.AFp),a.LFG(wo),a.LFG(ye),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(a.Ojb))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac})}return i})();class dc{constructor(t,e,n,r){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(cc[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Dh(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(Dh(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new a.vHH(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const s=cc[r];s?t.setAttributeNS(s,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=cc[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(a.JOm.DashCase|a.JOm.Important)?t.style.setProperty(e,n,r&a.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&a.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){if("string"==typeof t&&!(t=$().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(n))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function Dh(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class uc extends dc{constructor(t,e,n,r,s,l,u,f){super(t,s,l,f),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=vi(r.id,r.styles);for(const b of p){const y=document.createElement("style");u&&y.setAttribute("nonce",u),y.textContent=b,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class zr extends dc{constructor(t,e,n,r,s,l,u,f){super(t,s,l,u),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=f?vi(f,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ng extends zr{constructor(t,e,n,r,s,l,u,f){const p=r+"-"+n.id;super(t,e,n,s,l,u,f,p),this.contentAttr=function nm(i){return"_ngcontent-%COMP%".replace(Lo,i)}(p),this.hostAttr=function im(i){return"_nghost-%COMP%".replace(Lo,i)}(p)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}let il=(()=>{class i extends tu{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r){return e.addEventListener(n,r,!1),()=>this.removeEventListener(e,n,r)}removeEventListener(e,n,r){return e.removeEventListener(n,r)}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(ye))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac})}return i})();const ig=["alt","control","meta","shift"],Ms={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rg={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let Ih=(()=>{class i extends tu{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,n,r){const s=i.parseEventName(n),l=i.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$().onAndCancel(e,s.domEventName,l))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const s=i._normalizeKey(n.pop());let l="",u=n.indexOf("code");if(u>-1&&(n.splice(u,1),l="code."),ig.forEach(p=>{const b=n.indexOf(p);b>-1&&(n.splice(b,1),l+=p+".")}),l+=s,0!=n.length||0===s.length)return null;const f={};return f.domEventName=r,f.fullKey=l,f}static matchEventFullKeyCode(e,n){let r=Ms[e.key]||e.key,s="";return n.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),ig.forEach(l=>{l!==r&&(0,rg[l])(e)&&(s+=l+".")}),s+=r,s===n)}static eventCallback(e,n,r){return s=>{i.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>n(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(ye))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac})}return i})();const Dr=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:ta},{provide:a.g9A,useValue:function bn(){eu.makeCurrent()},multi:!0},{provide:ye,useFactory:function sm(){return(0,a.RDi)(document),document},deps:[]}]),om=new a.OlP(""),Hr=[{provide:a.rWj,useClass:class Th{addToWindow(t){a.dqk.getAngularTestability=(n,r=!0)=>{const s=t.findTestabilityInTree(n,r);if(null==s)throw new a.vHH(5103,!1);return s},a.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(n=>{const r=a.dqk.getAllAngularTestabilities();let s=r.length,l=!1;const u=function(f){l=l||f,s--,0==s&&n(l)};r.forEach(f=>{f.whenStable(u)})})}findTestabilityInTree(t,e,n){return null==e?null:t.getTestability(e)??(n?$().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],Fo=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function rm(){return new a.qLn},deps:[]},{provide:Ah,useClass:il,multi:!0,deps:[ye,a.R0b,a.Lbi]},{provide:Ah,useClass:Ih,multi:!0,deps:[ye]},Pa,Jp,Qp,{provide:a.FYo,useExisting:Pa},{provide:Fs,useClass:Kp,deps:[]},[]];let ru=(()=>{class i{constructor(e){}static withServerTransition(e){return{ngModule:i,providers:[{provide:a.AFp,useValue:e.appId}]}}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(om,12))};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({providers:[...Fo,...Hr],imports:[ai,a.hGG]})}return i})(),et=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(ye))};static#t=this.\u0275prov=a.Yz7({token:i,factory:function(n){let r=null;return r=n?new n:function kh(){return new et((0,a.LFG)(ye))}(),r},providedIn:"root"})}return i})();typeof window<"u"&&window;let io=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:function(n){let r=null;return r=n?new(n||i):a.LFG(Nh),r},providedIn:"root"})}return i})(),Nh=(()=>{class i extends io{constructor(e){super(),this._doc=e}sanitize(e,n){if(null==n)return null;switch(e){case a.q3G.NONE:return n;case a.q3G.HTML:return(0,a.qzn)(n,"HTML")?(0,a.z3N)(n):(0,a.EiD)(this._doc,String(n)).toString();case a.q3G.STYLE:return(0,a.qzn)(n,"Style")?(0,a.z3N)(n):n;case a.q3G.SCRIPT:if((0,a.qzn)(n,"Script"))return(0,a.z3N)(n);throw new a.vHH(5200,!1);case a.q3G.URL:return(0,a.qzn)(n,"URL")?(0,a.z3N)(n):(0,a.mCW)(String(n));case a.q3G.RESOURCE_URL:if((0,a.qzn)(n,"ResourceURL"))return(0,a.z3N)(n);throw new a.vHH(5201,!1);default:throw new a.vHH(5202,!1)}}bypassSecurityTrustHtml(e){return(0,a.JVY)(e)}bypassSecurityTrustStyle(e){return(0,a.L6k)(e)}bypassSecurityTrustScript(e){return(0,a.eBb)(e)}bypassSecurityTrustUrl(e){return(0,a.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,a.pB0)(e)}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(ye))};static#t=this.\u0275prov=a.Yz7({token:i,factory:function(n){let r=null;return r=n?new n:function Oh(i){return new Nh(i.get(ye))}(a.LFG(a.zs3)),r},providedIn:"root"})}return i})();class Na{}class um{}const As="*";function Kr(i,t){return{type:7,name:i,definitions:t,options:{}}}function Mi(i,t=null){return{type:4,styles:t,timings:i}}function Zl(i,t=null){return{type:2,steps:i,options:t}}function Sn(i){return{type:6,styles:i,offset:null}}function Hn(i,t,e){return{type:0,name:i,styles:t,options:e}}function ro(i){return{type:5,steps:i}}function xn(i,t,e=null){return{type:1,expr:i,animation:t,options:e}}function Uo(i=null){return{type:9,options:i}}function Xl(i,t,e=null){return{type:11,selector:i,animation:t,options:e}}class sa{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class La{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==s&&this._onFinish()}),l.onDestroy(()=>{++n==s&&this._onDestroy()}),l.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,u)=>Math.max(l,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(n=>{const r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){const t=this.players.reduce((e,n)=>null===e||n.totalTime>e.totalTime?n:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}function pc(i){return new a.vHH(3e3,!1)}function Co(i){switch(i.length){case 0:return new sa;case 1:return i[0];default:return new La(i)}}function Hh(i,t,e=new Map,n=new Map){const r=[],s=[];let l=-1,u=null;if(t.forEach(f=>{const p=f.get("offset"),b=p==l,y=b&&u||new Map;f.forEach((w,S)=>{let A=S,P=w;if("offset"!==S)switch(A=i.normalizePropertyName(A,r),P){case"!":P=e.get(S);break;case As:P=n.get(S);break;default:P=i.normalizeStyleValue(S,A,P,r)}y.set(A,P)}),b||s.push(y),u=y,l=p}),r.length)throw function _m(i){return new a.vHH(3502,!1)}();return s}function pu(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&sd(e,"start",i)));break;case"done":i.onDone(()=>n(e&&sd(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&sd(e,"destroy",i)))}}function sd(i,t,e){const s=aa(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,e.totalTime??i.totalTime,!!e.disabled),l=i._data;return null!=l&&(s._data=l),s}function aa(i,t,e,n,r="",s=0,l){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:r,totalTime:s,disabled:!!l}}function Vs(i,t,e){let n=i.get(t);return n||i.set(t,n=e),n}function Vo(i){const t=i.indexOf(":");return[i.substring(1,t),i.slice(t+1)]}const Gh=(()=>typeof document>"u"?null:document.documentElement)();function vc(i){const t=i.parentNode||i.host||null;return t===Gh?null:t}let Ii=null,od=!1;function gu(i,t){for(;t;){if(t===i)return!0;t=vc(t)}return!1}function _u(i,t,e){if(e)return Array.from(i.querySelectorAll(t));const n=i.querySelector(t);return n?[n]:[]}let al=(()=>{class i{validateStyleProperty(e){return function Va(i){Ii||(Ii=function nb(){return typeof document<"u"?document.body:null}()||{},od=!!Ii.style&&"WebkitAppearance"in Ii.style);let t=!0;return Ii.style&&!function vm(i){return"ebkit"==i.substring(1,6)}(i)&&(t=i in Ii.style,!t&&od&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Ii.style)),t}(e)}matchesElement(e,n){return!1}containsElement(e,n){return gu(e,n)}getParentElement(e){return vc(e)}query(e,n,r){return _u(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,s,l,u=[],f){return new sa(r,s)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac})}return i})(),T=(()=>{class i{static#e=this.NOOP=new al}return i})();const R=1e3,ae="ng-enter",fe="ng-leave",Oe="ng-trigger",Mt=".ng-trigger",wt="ng-animating",Zt=".ng-animating";function fn(i){if("number"==typeof i)return i;const t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:An(parseFloat(t[1]),t[2])}function An(i,t){return"s"===t?i*R:i}function hr(i,t,e){return i.hasOwnProperty("duration")?i:function vr(i,t,e){let r,s=0,l="";if("string"==typeof i){const u=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return t.push(pc()),{duration:0,delay:0,easing:""};r=An(parseFloat(u[1]),u[2]);const f=u[3];null!=f&&(s=An(parseFloat(f),u[4]));const p=u[5];p&&(l=p)}else r=i;if(!e){let u=!1,f=t.length;r<0&&(t.push(function Kl(){return new a.vHH(3100,!1)}()),u=!0),s<0&&(t.push(function hu(){return new a.vHH(3101,!1)}()),u=!0),u&&t.splice(f,0,pc())}return{duration:r,delay:s,easing:l}}(i,t,e)}function zo(i,t={}){return Object.keys(i).forEach(e=>{t[e]=i[e]}),t}function Ji(i){const t=new Map;return Object.keys(i).forEach(e=>{t.set(e,i[e])}),t}function Jr(i,t=new Map,e){if(e)for(let[n,r]of e)t.set(n,r);for(let[n,r]of i)t.set(n,r);return t}function er(i,t,e){t.forEach((n,r)=>{const s=zs(r);e&&!e.has(r)&&e.set(r,i.style[s]),i.style[s]=n})}function ao(i,t){t.forEach((e,n)=>{const r=zs(n);i.style[r]=""})}function vu(i){return Array.isArray(i)?1==i.length?i[0]:Zl(i):i}const yc=new RegExp("{{\\s*(.+?)\\s*}}","g");function fg(i){let t=[];if("string"==typeof i){let e;for(;e=yc.exec(i);)t.push(e[1]);yc.lastIndex=0}return t}function cd(i,t,e){const n=i.toString(),r=n.replace(yc,(s,l)=>{let u=t[l];return null==u&&(e.push(function ag(i){return new a.vHH(3003,!1)}()),u=""),u.toString()});return r==n?i:r}function Wh(i){const t=[];let e=i.next();for(;!e.done;)t.push(e.value),e=i.next();return t}const W0=/-+([a-z0-9])/g;function zs(i){return i.replace(W0,(...t)=>t[1].toUpperCase())}function co(i,t,e){switch(t.type){case 7:return i.visitTrigger(t,e);case 0:return i.visitState(t,e);case 1:return i.visitTransition(t,e);case 2:return i.visitSequence(t,e);case 3:return i.visitGroup(t,e);case 4:return i.visitAnimate(t,e);case 5:return i.visitKeyframes(t,e);case 6:return i.visitStyle(t,e);case 8:return i.visitReference(t,e);case 9:return i.visitAnimateChild(t,e);case 10:return i.visitAnimateRef(t,e);case 11:return i.visitQuery(t,e);case 12:return i.visitStagger(t,e);default:throw function fu(i){return new a.vHH(3004,!1)}()}}function mg(i,t){return window.getComputedStyle(i)[t]}const ld="*";function pg(i,t){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(n=>function ym(i,t,e){if(":"==i[0]){const f=function j0(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(function gc(i){return new a.vHH(3016,!1)}()),"* => *"}}(i,e);if("function"==typeof f)return void t.push(f);i=f}const n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return e.push(function lg(i){return new a.vHH(3015,!1)}()),t;const r=n[1],s=n[2],l=n[3];t.push(gg(r,l));"<"==s[0]&&!(r==ld&&l==ld)&&t.push(gg(l,r))}(n,e,t)):e.push(i),e}const xc=new Set(["true","1"]),xm=new Set(["false","0"]);function gg(i,t){const e=xc.has(i)||xm.has(i),n=xc.has(t)||xm.has(t);return(r,s)=>{let l=i==ld||i==r,u=t==ld||t==s;return!l&&e&&"boolean"==typeof r&&(l=r?xc.has(i):xm.has(i)),!u&&n&&"boolean"==typeof s&&(u=s?xc.has(t):xm.has(t)),l&&u}}const wm=new RegExp("s*:selfs*,?","g");function Em(i,t,e,n){return new $0(i).build(t,e,n)}class $0{constructor(t){this._driver=t}build(t,e,n){const r=new _g(e);return this._resetContextStyleTimingState(r),co(this,vu(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const s=[],l=[];return"@"==t.name.charAt(0)&&e.errors.push(function Fa(){return new a.vHH(3006,!1)}()),t.definitions.forEach(u=>{if(this._resetContextStyleTimingState(e),0==u.type){const f=u,p=f.name;p.toString().split(/\s*,\s*/).forEach(b=>{f.name=b,s.push(this.visitState(f,e))}),f.name=p}else if(1==u.type){const f=this.visitTransition(u,e);n+=f.queryCount,r+=f.depCount,l.push(f)}else e.errors.push(function Ua(){return new a.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:l,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const s=new Set,l=r||{};n.styles.forEach(u=>{u instanceof Map&&u.forEach(f=>{fg(f).forEach(p=>{l.hasOwnProperty(p)||s.add(p)})})}),s.size&&(Wh(s.values()),e.errors.push(function Jv(i,t){return new a.vHH(3008,!1)}()))}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=co(this,vu(t.animation),e);return{type:1,matchers:pg(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:wc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(n=>co(this,n,e)),options:wc(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const s=t.steps.map(l=>{e.currentTime=n;const u=co(this,l,e);return r=Math.max(r,e.currentTime),u});return e.currentTime=r,{type:3,steps:s,options:wc(t.options)}}visitAnimate(t,e){const n=function sb(i,t){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return Cm(hr(i,t).duration,0,"");const e=i;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Cm(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=hr(e,t);return Cm(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=n;let r,s=t.styles?t.styles:Sn({});if(5==s.type)r=this.visitKeyframes(s,e);else{let l=t.styles,u=!1;if(!l){u=!0;const p={};n.easing&&(p.easing=n.easing),l=Sn(p)}e.currentTime+=n.duration+n.delay;const f=this.visitStyle(l,e);f.isEmptyStep=u,r=f}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let u of r)"string"==typeof u?u===As?n.push(u):e.errors.push(new a.vHH(3002,!1)):n.push(Ji(u));let s=!1,l=null;return n.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(l=u.get("easing"),u.delete("easing")),!s))for(let f of u.values())if(f.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:n,easing:l,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;n&&s>0&&(s-=n.duration+n.delay),t.styles.forEach(l=>{"string"!=typeof l&&l.forEach((u,f)=>{const p=e.collectedStyles.get(e.currentQuerySelector),b=p.get(f);let y=!0;b&&(s!=r&&s>=b.startTime&&r<=b.endTime&&(e.errors.push(function cg(i,t,e,n,r){return new a.vHH(3010,!1)}()),y=!1),s=b.startTime),y&&p.set(f,{startTime:s,endTime:r}),e.options&&function hg(i,t,e){const n=t.params||{},r=fg(i);r.length&&r.forEach(s=>{n.hasOwnProperty(s)||e.push(function Ql(i){return new a.vHH(3001,!1)}())})}(u,e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function mm(){return new a.vHH(3011,!1)}()),n;let s=0;const l=[];let u=!1,f=!1,p=0;const b=t.steps.map(k=>{const U=this._makeStyleAst(k,e);let O=null!=U.offset?U.offset:function YC(i){if("string"==typeof i)return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){const e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(U.styles),B=0;return null!=O&&(s++,B=U.offset=O),f=f||B<0||B>1,u=u||B<p,p=B,l.push(B),U});f&&e.errors.push(function eb(){return new a.vHH(3012,!1)}()),u&&e.errors.push(function pm(){return new a.vHH(3200,!1)}());const y=t.steps.length;let w=0;s>0&&s<y?e.errors.push(function tb(){return new a.vHH(3202,!1)}()):0==s&&(w=1/(y-1));const S=y-1,A=e.currentTime,P=e.currentAnimateTimings,I=P.duration;return b.forEach((k,U)=>{const O=w>0?U==S?1:w*U:l[U],B=O*I;e.currentTime=A+P.delay+B,P.duration=B,this._validateStyleAst(k,e),k.offset=O,n.styles.push(k)}),n}visitReference(t,e){return{type:8,animation:co(this,vu(t.animation),e),options:wc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:wc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:wc(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,l]=function wu(i){const t=!!i.split(/\s*,\s*/).find(e=>":self"==e);return t&&(i=i.replace(wm,"")),i=i.replace(/@\*/g,Mt).replace(/@\w+/g,e=>Mt+"-"+e.slice(1)).replace(/:animating/g,Zt),[i,t]}(t.selector);e.currentQuerySelector=n.length?n+" "+s:s,Vs(e.collectedStyles,e.currentQuerySelector,new Map);const u=co(this,vu(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:u,originalSelector:t.selector,options:wc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Jl(){return new a.vHH(3013,!1)}());const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:hr(t.timings,e.errors,!0);return{type:12,animation:co(this,vu(t.animation),e),timings:n,options:null}}}class _g{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function wc(i){return i?(i=zo(i)).params&&(i.params=function Eu(i){return i?zo(i):null}(i.params)):i={},i}function Cm(i,t,e){return{duration:i,delay:t,easing:e}}function vg(i,t,e,n,r,s,l=null,u=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:l,subTimeline:u}}class Sm{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ob=new RegExp(":enter","g"),bg=new RegExp(":leave","g");function ab(i,t,e,n,r,s=new Map,l=new Map,u,f,p=[]){return(new cb).buildKeyframes(i,t,e,n,r,s,l,u,f,p)}class cb{buildKeyframes(t,e,n,r,s,l,u,f,p,b=[]){p=p||new Sm;const y=new xg(t,e,p,r,s,b,[]);y.options=f;const w=f.delay?fn(f.delay):0;y.currentTimeline.delayNextStep(w),y.currentTimeline.setStyles([l],null,y.errors,f),co(this,n,y);const S=y.timelines.filter(A=>A.containsAnimation());if(S.length&&u.size){let A;for(let P=S.length-1;P>=0;P--){const I=S[P];if(I.element===e){A=I;break}}A&&!A.allowOnlyTimelineStyles()&&A.setStyles([u],null,y.errors,f)}return S.length?S.map(A=>A.buildKeyframes()):[vg(e,[],[],[],0,w,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.get(e.element);if(n){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,l=this._visitSubInstructions(n,r,r.options);s!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(const r of t){const s=r?.delay;if(s){const l="number"==typeof s?s:fn(cd(s,r?.params??{},e.errors));n.delayNextStep(l)}}}_visitSubInstructions(t,e,n){let s=e.currentTimeline.currentTime;const l=null!=n.duration?fn(n.duration):null,u=null!=n.delay?fn(n.delay):null;return 0!==l&&t.forEach(f=>{const p=e.appendInstructionToTimeline(f,l,u);s=Math.max(s,p.duration+p.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),co(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=yg);const l=fn(s.delay);r.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>co(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?fn(t.options.delay):0;t.steps.forEach(l=>{const u=e.createSubContext(t.options);s&&u.delayNextStep(s),co(this,l,u),r=Math.max(r,u.currentTimeline.currentTime),n.push(u.currentTimeline)}),n.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return hr(e.params?cd(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(n.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(s):n.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,s=n.duration,u=e.createSubContext().currentTimeline;u.easing=n.easing,t.styles.forEach(f=>{u.forwardTime((f.offset||0)*s),u.setStyles(f.styles,f.easing,e.errors,e.options),u.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(u),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?fn(r.delay):0;s&&(6===e.previousNode.type||0==n&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=yg);let l=n;const u=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=u.length;let f=null;u.forEach((p,b)=>{e.currentQueryIndex=b;const y=e.createSubContext(t.options,p);s&&y.delayNextStep(s),p===e.element&&(f=y.currentTimeline),co(this,t.animation,y),y.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,y.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),f&&(e.currentTimeline.mergeTimelineCollectedStyles(f),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,s=t.timings,l=Math.abs(s.duration),u=l*(e.currentQueryTotal-1);let f=l*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":f=u-f;break;case"full":f=n.currentStaggerTime}const b=e.currentTimeline;f&&b.delayNextStep(f);const y=b.currentTime;co(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-y+(r.startTime-n.currentTimeline.startTime)}}const yg={};class xg{constructor(t,e,n,r,s,l,u,f){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=s,this.errors=l,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new cl(this._driver,e,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=fn(n.duration)),null!=n.delay&&(r.delay=fn(n.delay));const s=n.params;if(s){let l=r.params;l||(l=this.options.params={}),Object.keys(s).forEach(u=>{(!e||!l.hasOwnProperty(u))&&(l[u]=cd(s[u],l,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,s=new xg(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=yg,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},s=new wg(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,s,l){let u=[];if(r&&u.push(this.element),t.length>0){t=(t=t.replace(ob,"."+this._enterClassName)).replace(bg,"."+this._leaveClassName);let p=this._driver.query(this.element,t,1!=n);0!==n&&(p=n<0?p.slice(p.length+n,p.length):p.slice(0,n)),u.push(...p)}return!s&&0==u.length&&l.push(function ol(i){return new a.vHH(3014,!1)}()),u}}class cl{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new cl(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||As),this._currentKeyframe.set(e,As);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},l=function qC(i,t){const e=new Map;let n;return i.forEach(r=>{if("*"===r){n=n||t.keys();for(let s of n)e.set(s,As)}else Jr(r,e)}),e}(t,this._globalTimelineStyles);for(let[u,f]of l){const p=cd(f,s,n);this._pendingStyles.set(u,p),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??As),this._updateStyle(u,p)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{const r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((u,f)=>{const p=Jr(u,new Map,this._backFill);p.forEach((b,y)=>{"!"===b?t.add(y):b===As&&e.add(y)}),n||p.set("offset",f/this.duration),r.push(p)});const s=t.size?Wh(t.values()):[],l=e.size?Wh(e.values()):[];if(n){const u=r[0],f=new Map(u);u.set("offset",0),f.set("offset",1),r=[u,f]}return vg(this.element,r,s,l,this.duration,this.startTime,this.easing,!1)}}class wg extends cl{constructor(t,e,n,r,s,l,u=!1){super(t,e,l.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=u,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],l=n+e,u=e/l,f=Jr(t[0]);f.set("offset",0),s.push(f);const p=Jr(t[0]);p.set("offset",lb(u)),s.push(p);const b=t.length-1;for(let y=1;y<=b;y++){let w=Jr(t[y]);const S=w.get("offset");w.set("offset",lb((e+S*n)/l)),s.push(w)}n=l,e=0,r="",t=s}return vg(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function lb(i,t=3){const e=Math.pow(10,t-1);return Math.round(i*e)/e}class ub{}const q0=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class hb extends ub{normalizePropertyName(t,e){return zs(t)}normalizeStyleValue(t,e,n,r){let s="";const l=n.toString().trim();if(q0.has(e)&&0!==n&&"0"!==n)if("number"==typeof n)s="px";else{const u=n.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&r.push(function Lh(i,t){return new a.vHH(3005,!1)}())}return l+s}}function Eg(i,t,e,n,r,s,l,u,f,p,b,y,w){return{type:0,element:i,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:n,toStyles:l,timelines:u,queriedElements:f,preStyleProps:p,postStyleProps:b,totalTime:y,errors:w}}const Am={};class jh{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function fb(i,t,e,n,r){return i.some(s=>s(t,e,n,r))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,n):new Map}build(t,e,n,r,s,l,u,f,p,b){const y=[],w=this.ast.options&&this.ast.options.params||Am,A=this.buildStyles(n,u&&u.params||Am,y),P=f&&f.params||Am,I=this.buildStyles(r,P,y),k=new Set,U=new Map,O=new Map,B="void"===r,j={params:lo(P,w),delay:this.ast.options?.delay},q=b?[]:ab(t,e,this.ast.animation,s,l,A,I,j,p,y);let J=0;if(q.forEach(H=>{J=Math.max(H.duration+H.delay,J)}),y.length)return Eg(e,this._triggerName,n,r,B,A,I,[],[],U,O,J,y);q.forEach(H=>{const K=H.element,ke=Vs(U,K,new Set);H.preStyleProps.forEach(ft=>ke.add(ft));const nt=Vs(O,K,new Set);H.postStyleProps.forEach(ft=>nt.add(ft)),K!==e&&k.add(K)});const le=Wh(k.values());return Eg(e,this._triggerName,n,r,B,A,I,q,le,U,O,J)}}function lo(i,t){const e=zo(t);for(const n in i)i.hasOwnProperty(n)&&null!=i[n]&&(e[n]=i[n]);return e}class Cu{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n=new Map,r=zo(this.defaultParams);return Object.keys(t).forEach(s=>{const l=t[s];null!==l&&(r[s]=l)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,u)=>{l&&(l=cd(l,r,e));const f=this.normalizer.normalizePropertyName(u,e);l=this.normalizer.normalizeStyleValue(u,f,l,e),n.set(u,l)})}),n}}class mb{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Cu(r.style,r.options&&r.options.params||{},n))}),ud(this.states,"true","1"),ud(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new jh(t,r,this.states))}),this.fallbackTransition=function Dm(i,t,e){return new jh(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,u)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(l=>l.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function ud(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}const Im=new Sm;class Yh{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const n=[],s=Em(this._driver,e,n,[]);if(n.length)throw function dg(i){return new a.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,n){const r=t.element,s=Hh(this._normalizer,t.keyframes,e,n);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],s=this._animations.get(t);let l;const u=new Map;if(s?(l=ab(this._driver,e,s,ae,fe,new Map,new Map,n,Im,r),l.forEach(b=>{const y=Vs(u,b.element,new Map);b.postStyleProps.forEach(w=>y.set(w,null))})):(r.push(function Bh(){return new a.vHH(3300,!1)}()),l=[]),r.length)throw function Bo(i){return new a.vHH(3504,!1)}();u.forEach((b,y)=>{b.forEach((w,S)=>{b.set(S,this._driver.computeStyle(y,S,As))})});const p=Co(l.map(b=>{const y=u.get(b.element);return this._buildPlayer(b,new Map,y)}));return this._playersById.set(t,p),p.onDestroy(()=>this.destroy(t)),this.players.push(p),p}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Vh(i){return new a.vHH(3301,!1)}();return e}listen(t,e,n,r){const s=aa(e,"","","");return pu(this._getPlayer(t),n,s,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const pb="ng-animate-queued",km="ng-animate-disabled",_b=[],Hs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Rm={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},So="__ng_removed";class Sg{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function vb(i){return i??null}(n?t.value:t),n){const s=zo(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const n=this.options.params;Object.keys(e).forEach(r=>{null==n[r]&&(n[r]=e[r])})}}}const Wi="void",Ec=new Sg(Wi);class Mg{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,v(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.has(e))throw function _c(i,t){return new a.vHH(3302,!1)}();if(null==n||0==n.length)throw function ed(i){return new a.vHH(3303,!1)}();if(!function X0(i){return"start"==i||"done"==i}(n))throw function td(i,t){return new a.vHH(3400,!1)}();const s=Vs(this._elementListeners,t,[]),l={name:e,phase:n,callback:r};s.push(l);const u=Vs(this._engine.statesByElement,t,new Map);return u.has(e)||(v(t,Oe),v(t,Oe+"-"+e),u.set(e,Ec)),()=>{this._engine.afterFlush(()=>{const f=s.indexOf(l);f>=0&&s.splice(f,1),this._triggers.has(e)||u.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Ba(i){return new a.vHH(3401,!1)}();return e}trigger(t,e,n,r=!0){const s=this._getTrigger(e),l=new es(this.id,e,t);let u=this._engine.statesByElement.get(t);u||(v(t,Oe),v(t,Oe+"-"+e),this._engine.statesByElement.set(t,u=new Map));let f=u.get(e);const p=new Sg(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&f&&p.absorbOptions(f.options),u.set(e,p),f||(f=Ec),p.value!==Wi&&f.value===p.value){if(!function be(i,t){const e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||i[s]!==t[s])return!1}return!0}(f.params,p.params)){const P=[],I=s.matchStyles(f.value,f.params,P),k=s.matchStyles(p.value,p.params,P);P.length?this._engine.reportError(P):this._engine.afterFlush(()=>{ao(t,I),er(t,k)})}return}const w=Vs(this._engine.playersByElement,t,[]);w.forEach(P=>{P.namespaceId==this.id&&P.triggerName==e&&P.queued&&P.destroy()});let S=s.matchTransition(f.value,p.value,t,p.params),A=!1;if(!S){if(!r)return;S=s.fallbackTransition,A=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:S,fromState:f,toState:p,player:l,isFallbackTransition:A}),A||(v(t,pb),l.onStart(()=>{C(t,pb)})),l.onDone(()=>{let P=this.players.indexOf(l);P>=0&&this.players.splice(P,1);const I=this._engine.playersByElement.get(t);if(I){let k=I.indexOf(l);k>=0&&I.splice(k,1)}}),this.players.push(l),w.push(l),l}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Mt,!0);n.forEach(r=>{if(r[So])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(l=>l.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,n,r){const s=this._engine.statesByElement.get(t),l=new Map;if(s){const u=[];if(s.forEach((f,p)=>{if(l.set(p,f.value),this._triggers.has(p)){const b=this.trigger(t,p,Wi,r);b&&u.push(b)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,l),n&&Co(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(s=>{const l=s.name;if(r.has(l))return;r.add(l);const f=this._triggers.get(l).fallbackTransition,p=n.get(l)||Ec,b=new Sg(Wi),y=new es(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:f,fromState:p,toState:b,player:y,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const s=n.players.length?n.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let l=t;for(;l=l.parentNode;)if(n.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const s=t[So];(!s||s===Hs)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){v(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const s=n.element,l=this._elementListeners.get(s);l&&l.forEach(u=>{if(u.name==n.triggerName){const f=aa(s,n.triggerName,n.fromState.value,n.toState.value);f._data=t,pu(n.player,u.phase,f,u.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{const s=n.transition.ast.depCount,l=r.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class Pm{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){const n=new Mg(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let l=!1,u=this.driver.getParentElement(e);for(;u;){const f=r.get(u);if(f){const p=n.indexOf(f);n.splice(p+1,0,t),l=!0;break}u=this.driver.getParentElement(u)}l||n.unshift(t)}else n.push(t);return r.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n)for(let r of n.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,n,r){if(qh(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!qh(e))return;const s=e[So];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){const l=this._fetchNamespace(t);l&&l.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),v(t,km)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),C(t,km))}removeNode(t,e,n){if(qh(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,r,s){this.collectedLeaveElements.push(e),e[So]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,n,r,s){return qh(e)?this._fetchNamespace(t).listen(e,n,r,s):()=>{}}_buildInstruction(t,e,n,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Mt,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Zt,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Co(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[So];if(e&&e.setForRemoval){if(t[So]=Hs,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(km)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)v(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],e.length?Co(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw function nd(i){return new a.vHH(3402,!1)}()}_flushAnimations(t,e){const n=new Sm,r=[],s=new Map,l=[],u=new Map,f=new Map,p=new Map,b=new Set;this.disabledNodes.forEach(xe=>{b.add(xe);const Ce=this.driver.query(xe,".ng-animate-queued",!0);for(let ze=0;ze<Ce.length;ze++)b.add(Ce[ze])});const y=this.bodyNode,w=Array.from(this.statesByElement.keys()),S=g(w,this.collectedEnterElements),A=new Map;let P=0;S.forEach((xe,Ce)=>{const ze=ae+P++;A.set(Ce,ze),xe.forEach(Ue=>v(Ue,ze))});const I=[],k=new Set,U=new Set;for(let xe=0;xe<this.collectedLeaveElements.length;xe++){const Ce=this.collectedLeaveElements[xe],ze=Ce[So];ze&&ze.setForRemoval&&(I.push(Ce),k.add(Ce),ze.hasAnimation?this.driver.query(Ce,".ng-star-inserted",!0).forEach(Ue=>k.add(Ue)):U.add(Ce))}const O=new Map,B=g(w,Array.from(k));B.forEach((xe,Ce)=>{const ze=fe+P++;O.set(Ce,ze),xe.forEach(Ue=>v(Ue,ze))}),t.push(()=>{S.forEach((xe,Ce)=>{const ze=A.get(Ce);xe.forEach(Ue=>C(Ue,ze))}),B.forEach((xe,Ce)=>{const ze=O.get(Ce);xe.forEach(Ue=>C(Ue,ze))}),I.forEach(xe=>{this.processLeaveNode(xe)})});const j=[],q=[];for(let xe=this._namespaceList.length-1;xe>=0;xe--)this._namespaceList[xe].drainQueuedTransitions(e).forEach(ze=>{const Ue=ze.player,rt=ze.element;if(j.push(Ue),this.collectedEnterElements.length){const on=rt[So];if(on&&on.setForMove){if(on.previousTriggersValues&&on.previousTriggersValues.has(ze.triggerName)){const yn=on.previousTriggersValues.get(ze.triggerName),wn=this.statesByElement.get(ze.element);if(wn&&wn.has(ze.triggerName)){const yi=wn.get(ze.triggerName);yi.value=yn,wn.set(ze.triggerName,yi)}}return void Ue.destroy()}}const me=!y||!this.driver.containsElement(y,rt),$e=O.get(rt),Nt=A.get(rt),xt=this._buildInstruction(ze,n,Nt,$e,me);if(xt.errors&&xt.errors.length)return void q.push(xt);if(me)return Ue.onStart(()=>ao(rt,xt.fromStyles)),Ue.onDestroy(()=>er(rt,xt.toStyles)),void r.push(Ue);if(ze.isFallbackTransition)return Ue.onStart(()=>ao(rt,xt.fromStyles)),Ue.onDestroy(()=>er(rt,xt.toStyles)),void r.push(Ue);const en=[];xt.timelines.forEach(on=>{on.stretchStartingKeyframe=!0,this.disabledNodes.has(on.element)||en.push(on)}),xt.timelines=en,n.append(rt,xt.timelines),l.push({instruction:xt,player:Ue,element:rt}),xt.queriedElements.forEach(on=>Vs(u,on,[]).push(Ue)),xt.preStyleProps.forEach((on,yn)=>{if(on.size){let wn=f.get(yn);wn||f.set(yn,wn=new Set),on.forEach((yi,kn)=>wn.add(kn))}}),xt.postStyleProps.forEach((on,yn)=>{let wn=p.get(yn);wn||p.set(yn,wn=new Set),on.forEach((yi,kn)=>wn.add(kn))})});if(q.length){const xe=[];q.forEach(Ce=>{xe.push(function id(i,t){return new a.vHH(3505,!1)}())}),j.forEach(Ce=>Ce.destroy()),this.reportError(xe)}const J=new Map,le=new Map;l.forEach(xe=>{const Ce=xe.element;n.has(Ce)&&(le.set(Ce,Ce),this._beforeAnimationBuild(xe.player.namespaceId,xe.instruction,J))}),r.forEach(xe=>{const Ce=xe.element;this._getPreviousPlayers(Ce,!1,xe.namespaceId,xe.triggerName,null).forEach(Ue=>{Vs(J,Ce,[]).push(Ue),Ue.destroy()})});const H=I.filter(xe=>lt(xe,f,p)),K=new Map;E(K,this.driver,U,p,As).forEach(xe=>{lt(xe,f,p)&&H.push(xe)});const nt=new Map;S.forEach((xe,Ce)=>{E(nt,this.driver,new Set(xe),f,"!")}),H.forEach(xe=>{const Ce=K.get(xe),ze=nt.get(xe);K.set(xe,new Map([...Ce?.entries()??[],...ze?.entries()??[]]))});const ft=[],he=[],Ve={};l.forEach(xe=>{const{element:Ce,player:ze,instruction:Ue}=xe;if(n.has(Ce)){if(b.has(Ce))return ze.onDestroy(()=>er(Ce,Ue.toStyles)),ze.disabled=!0,ze.overrideTotalTime(Ue.totalTime),void r.push(ze);let rt=Ve;if(le.size>1){let $e=Ce;const Nt=[];for(;$e=$e.parentNode;){const xt=le.get($e);if(xt){rt=xt;break}Nt.push($e)}Nt.forEach(xt=>le.set(xt,rt))}const me=this._buildAnimation(ze.namespaceId,Ue,J,s,nt,K);if(ze.setRealPlayer(me),rt===Ve)ft.push(ze);else{const $e=this.playersByElement.get(rt);$e&&$e.length&&(ze.parentPlayer=Co($e)),r.push(ze)}}else ao(Ce,Ue.fromStyles),ze.onDestroy(()=>er(Ce,Ue.toStyles)),he.push(ze),b.has(Ce)&&r.push(ze)}),he.forEach(xe=>{const Ce=s.get(xe.element);if(Ce&&Ce.length){const ze=Co(Ce);xe.setRealPlayer(ze)}}),r.forEach(xe=>{xe.parentPlayer?xe.syncPlayerEvents(xe.parentPlayer):xe.destroy()});for(let xe=0;xe<I.length;xe++){const Ce=I[xe],ze=Ce[So];if(C(Ce,fe),ze&&ze.hasAnimation)continue;let Ue=[];if(u.size){let me=u.get(Ce);me&&me.length&&Ue.push(...me);let $e=this.driver.query(Ce,Zt,!0);for(let Nt=0;Nt<$e.length;Nt++){let xt=u.get($e[Nt]);xt&&xt.length&&Ue.push(...xt)}}const rt=Ue.filter(me=>!me.destroyed);rt.length?N(this,Ce,rt):this.processLeaveNode(Ce)}return I.length=0,ft.forEach(xe=>{this.players.push(xe),xe.onDone(()=>{xe.destroy();const Ce=this.players.indexOf(xe);this.players.splice(Ce,1)}),xe.play()}),ft}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,s){let l=[];if(e){const u=this.playersByQueriedElement.get(t);u&&(l=u)}else{const u=this.playersByElement.get(t);if(u){const f=!s||s==Wi;u.forEach(p=>{p.queued||!f&&p.triggerName!=r||l.push(p)})}}return(n||r)&&(l=l.filter(u=>!(n&&n!=u.namespaceId||r&&r!=u.triggerName))),l}_beforeAnimationBuild(t,e,n){const s=e.element,l=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName;for(const f of e.timelines){const p=f.element,b=p!==s,y=Vs(n,p,[]);this._getPreviousPlayers(p,b,l,u,e.toState).forEach(S=>{const A=S.getRealPlayer();A.beforeDestroy&&A.beforeDestroy(),S.destroy(),y.push(S)})}ao(s,e.fromStyles)}_buildAnimation(t,e,n,r,s,l){const u=e.triggerName,f=e.element,p=[],b=new Set,y=new Set,w=e.timelines.map(A=>{const P=A.element;b.add(P);const I=P[So];if(I&&I.removedBeforeQueried)return new sa(A.duration,A.delay);const k=P!==f,U=function z(i){const t=[];return se(i,t),t}((n.get(P)||_b).map(J=>J.getRealPlayer())).filter(J=>!!J.element&&J.element===P),O=s.get(P),B=l.get(P),j=Hh(this._normalizer,A.keyframes,O,B),q=this._buildPlayer(A,j,U);if(A.subTimeline&&r&&y.add(P),k){const J=new es(t,u,P);J.setRealPlayer(q),p.push(J)}return q});p.forEach(A=>{Vs(this.playersByQueriedElement,A.element,[]).push(A),A.onDone(()=>function hd(i,t,e){let n=i.get(t);if(n){if(n.length){const r=n.indexOf(e);n.splice(r,1)}0==n.length&&i.delete(t)}return n}(this.playersByQueriedElement,A.element,A))}),b.forEach(A=>v(A,wt));const S=Co(w);return S.onDestroy(()=>{b.forEach(A=>C(A,wt)),er(f,e.toStyles)}),y.forEach(A=>{Vs(r,A,[]).push(S)}),S}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new sa(t.duration,t.delay)}}class es{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new sa,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>pu(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Vs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function qh(i){return i&&1===i.nodeType}function Tg(i,t){const e=i.style.display;return i.style.display=t??"none",e}function E(i,t,e,n,r){const s=[];e.forEach(f=>s.push(Tg(f)));const l=[];n.forEach((f,p)=>{const b=new Map;f.forEach(y=>{const w=t.computeStyle(p,y,r);b.set(y,w),(!w||0==w.length)&&(p[So]=Rm,l.push(p))}),i.set(p,b)});let u=0;return e.forEach(f=>Tg(f,s[u++])),l}function g(i,t){const e=new Map;if(i.forEach(u=>e.set(u,[])),0==t.length)return e;const r=new Set(t),s=new Map;function l(u){if(!u)return 1;let f=s.get(u);if(f)return f;const p=u.parentNode;return f=e.has(p)?p:r.has(p)?1:l(p),s.set(u,f),f}return t.forEach(u=>{const f=l(u);1!==f&&e.get(f).push(u)}),e}function v(i,t){i.classList?.add(t)}function C(i,t){i.classList?.remove(t)}function N(i,t,e){Co(e).onDone(()=>i.processLeaveNode(t))}function se(i,t){for(let e=0;e<i.length;e++){const n=i[e];n instanceof La?se(n.players,t):t.push(n)}}function lt(i,t,e){const n=e.get(i);if(!n)return!1;let r=t.get(i);return r?n.forEach(s=>r.add(s)):t.set(i,n),e.delete(i),!0}class bt{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Pm(t,e,n),this._timelineEngine=new Yh(t,e,n),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,n,r,s){const l=t+"-"+r;let u=this._triggerCache[l];if(!u){const f=[],b=Em(this._driver,s,f,[]);if(f.length)throw function gm(i,t){return new a.vHH(3404,!1)}();u=function dd(i,t,e){return new mb(i,t,e)}(r,b,this._normalizer),this._triggerCache[l]=u}this._transitionEngine.registerTrigger(e,r,u)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[s,l]=Vo(n);this._timelineEngine.command(s,e,l,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,s){if("@"==n.charAt(0)){const[l,u]=Vo(n);return this._timelineEngine.listen(l,e,u,s)}return this._transitionEngine.listen(t,e,n,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let $t=(()=>{class i{static#e=this.initialStylesByElement=new WeakMap;constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let s=i.initialStylesByElement.get(e);s||i.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&er(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(er(this._element,this._initialStyles),this._endStyles&&(er(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(ao(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ao(this._element,this._endStyles),this._endStyles=null),er(this._element,this._initialStyles),this._state=3)}}return i})();function ji(i){let t=null;return i.forEach((e,n)=>{(function Ho(i){return"display"===i||"position"===i})(n)&&(t=t||new Map,t.set(n,e))}),t}class Su{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{"offset"!==r&&t.set(r,this._finished?n:mg(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class fd{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return gu(t,e)}getParentElement(t){return vc(t)}query(t,e,n){return _u(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}animate(t,e,n,r,s,l=[]){const f={duration:n,delay:r,fill:0==r?"both":"forwards"};s&&(f.easing=s);const p=new Map,b=l.filter(S=>S instanceof Su);(function bu(i,t){return 0===i||0===t})(n,r)&&b.forEach(S=>{S.currentSnapshot.forEach((A,P)=>p.set(P,A))});let y=function bc(i){return i.length?i[0]instanceof Map?i:i.map(t=>Ji(t)):[]}(e).map(S=>Jr(S));y=function GC(i,t,e){if(e.size&&t.length){let n=t[0],r=[];if(e.forEach((s,l)=>{n.has(l)||r.push(l),n.set(l,s)}),r.length)for(let s=1;s<t.length;s++){let l=t[s];r.forEach(u=>l.set(u,mg(i,u)))}}return t}(t,y,p);const w=function Gt(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=ji(t[0]),t.length>1&&(n=ji(t[t.length-1]))):t instanceof Map&&(e=ji(t)),e||n?new $t(i,e,n):null}(t,y);return new Su(t,y,f,w)}}let Mu=(()=>{class i extends Na{constructor(e,n){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(n.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(e){const n=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Zl(e):e;return md(this._renderer,null,n,"register",[r]),new Ag(n,this._renderer)}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(a.FYo),a.LFG(ye))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac})}return i})();class Ag extends um{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Om(this._id,t,e||{},this._renderer)}}class Om{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return md(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function md(i,t,e,n,r){return i.setProperty(t,`@@${e}:${n}`,r)}const Dg="@.disabled";let Ig=(()=>{class i{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(s,l)=>{const u=l?.parentNode(s);u&&l.removeChild(u,s)}}createRenderer(e,n){const s=this.delegate.createRenderer(e,n);if(!(e&&n&&n.data&&n.data.animation)){let b=this._rendererCache.get(s);return b||(b=new kg("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,b)),b}const l=n.id,u=n.id+"-"+this._currentId;this._currentId++,this.engine.register(u,e);const f=b=>{Array.isArray(b)?b.forEach(f):this.engine.registerTrigger(l,u,e,b.name,b)};return n.data.animation.forEach(f),new K0(this,u,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){e>=0&&e<this._microtaskId?this._zone.run(()=>n(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,u]=s;l(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(a.FYo),a.LFG(bt),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac})}return i})();class kg{constructor(t,e,n,r){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&e==Dg?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class K0 extends kg{constructor(t,e,n,r,s){super(e,n,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Dg?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function Rg(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(t);let s=e.slice(1),l="";return"@"!=s.charAt(0)&&([s,l]=function bb(i){const t=i.indexOf(".");return[i.substring(0,t),i.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,l,u=>{this.factory.scheduleListenerCallback(u._data||-1,n,u)})}return this.delegate.listen(t,e,n)}}const ZC=[{provide:Na,useClass:Mu},{provide:ub,useFactory:function Q0(){return new hb}},{provide:bt,useClass:(()=>{class i extends bt{constructor(e,n,r,s){super(e.body,n,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(ye),a.LFG(T),a.LFG(ub),a.LFG(a.z2F))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac})}return i})()},{provide:a.FYo,useFactory:function J0(i,t,e){return new Ig(i,t,e)},deps:[Pa,bt,a.R0b]}],ex=[{provide:T,useFactory:()=>new fd},{provide:a.QbO,useValue:"BrowserAnimations"},...ZC],xb=[{provide:T,useClass:al},{provide:a.QbO,useValue:"NoopAnimations"},...ZC];let XC=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?xb:ex}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({providers:ex,imports:[ru]})}return i})();var Gs=W(5592),Cc=W(4674);function Pg(i){return!!i&&(i instanceof Gs.y||(0,Cc.m)(i.lift)&&(0,Cc.m)(i.subscribe))}var ts=W(2459),Xt=W(2096),Ws=W(5619);const{isArray:KC}=Array,{getPrototypeOf:tx,prototype:QC,keys:wb}=Object;function Lm(i){if(1===i.length){const t=i[0];if(KC(t))return{args:t,keys:null};if(function JC(i){return i&&"object"==typeof i&&tx(i)===QC}(t)){const e=wb(t);return{args:e.map(n=>t[n]),keys:e}}}return{args:i,keys:null}}var Xh=W(2737),gn=W(7398);const{isArray:eS}=Array;function Kh(i){return(0,gn.U)(t=>function nx(i,t){return eS(t)?i(...t):i(t)}(i,t))}var Fm=W(9940);function ix(i,t){return i.reduce((e,n,r)=>(e[n]=t[r],e),{})}var ns=W(8251),WI=W(7103);function Qh(...i){const t=(0,Fm.yG)(i),e=(0,Fm.jO)(i),{args:n,keys:r}=Lm(i);if(0===n.length)return(0,ts.D)([],t);const s=new Gs.y(function tS(i,t,e=Xh.y){return n=>{rx(t,()=>{const{length:r}=i,s=new Array(r);let l=r,u=r;for(let f=0;f<r;f++)rx(t,()=>{const p=(0,ts.D)(i[f],t);let b=!1;p.subscribe((0,ns.x)(n,y=>{s[f]=y,b||(b=!0,u--),u||n.next(e(s.slice()))},()=>{--l||n.complete()}))},n)},n)}}(n,t,r?l=>ix(r,l):Xh.y));return e?s.pipe(Kh(e)):s}function rx(i,t,e){i?(0,WI.f)(e,i,t):t()}const Um=(0,W(2306).d)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});var dl=W(7537);function Og(...i){return function jI(){return(0,dl.J)(1)}()((0,ts.D)(i,(0,Fm.yG)(i)))}var Jh=W(4829);function Ng(i){return new Gs.y(t=>{(0,Jh.Xf)(i()).subscribe(t)})}var sx=W(8407);function Bm(i,t){const e=(0,Cc.m)(i)?i:()=>i,n=r=>r.error(e());return new Gs.y(t?r=>t.schedule(n,0,r):n)}var Go=W(6232),ps=W(7394),is=W(9360);function Cb(){return(0,is.e)((i,t)=>{let e=null;i._refCount++;const n=(0,ns.x)(t,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(e=null);const r=i._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});i.subscribe(n),n.closed||(e=i.connect())})}class Sb extends Gs.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,is.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ps.w0;const e=this.getSubject();t.add(this.source.subscribe((0,ns.x)(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ps.w0.EMPTY)}return t}refCount(){return Cb()(this)}}var sn=W(8645),Ni=W(4664);function kr(i){return i<=0?()=>Go.E:(0,is.e)((t,e)=>{let n=0;t.subscribe((0,ns.x)(e,r=>{++n<=i&&(e.next(r),i<=n&&e.complete())}))})}function pd(...i){const t=(0,Fm.yG)(i);return(0,is.e)((e,n)=>{(t?Og(i,e,t):Og(i,e)).subscribe(n)})}function rr(i,t){return(0,is.e)((e,n)=>{let r=0;e.subscribe((0,ns.x)(n,s=>i.call(t,s,r++)&&n.next(s)))})}var js=W(1631);function Mb(i){return(0,is.e)((t,e)=>{let n=!1;t.subscribe((0,ns.x)(e,r=>{n=!0,e.next(r)},()=>{n||e.next(i),e.complete()}))})}function ul(i=Vm){return(0,is.e)((t,e)=>{let n=!1;t.subscribe((0,ns.x)(e,r=>{n=!0,e.next(r)},()=>n?e.complete():e.error(i())))})}function Vm(){return new Um}function Tu(i,t){const e=arguments.length>=2;return n=>n.pipe(i?rr((r,s)=>i(r,s,n)):Xh.y,kr(1),e?Mb(t):ul(()=>new Um))}function zm(i,t){return(0,Cc.m)(t)?(0,js.z)(i,t,1):(0,js.z)(i,1)}var rs=W(9397);function Au(i){return(0,is.e)((t,e)=>{let s,n=null,r=!1;n=t.subscribe((0,ns.x)(e,void 0,void 0,l=>{s=(0,Jh.Xf)(i(l,Au(i)(t))),n?(n.unsubscribe(),n=null,s.subscribe(e)):r=!0})),r&&(n.unsubscribe(),n=null,s.subscribe(e))})}function ox(i,t){return(0,is.e)(function $I(i,t,e,n,r){return(s,l)=>{let u=e,f=t,p=0;s.subscribe((0,ns.x)(l,b=>{const y=p++;f=u?i(f,b,y):(u=!0,b),n&&l.next(f)},r&&(()=>{u&&l.next(f),l.complete()})))}}(i,t,arguments.length>=2,!0))}function Tb(i){return i<=0?()=>Go.E:(0,is.e)((t,e)=>{let n=[];t.subscribe((0,ns.x)(e,r=>{n.push(r),i<n.length&&n.shift()},()=>{for(const r of n)e.next(r);e.complete()},void 0,()=>{n=null}))})}function nS(i){return(0,gn.U)(()=>i)}function Hm(i){return(0,is.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(i)}})}var ax=W(2420);function bi(i){return(0,is.e)((t,e)=>{(0,Jh.Xf)(i).subscribe((0,ns.x)(e,()=>e.complete(),ax.Z)),!e.closed&&t.subscribe(e)})}const Dn="primary",gd=Symbol("RouteTitle");class iS{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ef(i){return new iS(i)}function rS(i,t,e){const n=e.path.split("/");if(n.length>i.length||"full"===e.pathMatch&&(t.hasChildren()||n.length<i.length))return null;const r={};for(let s=0;s<n.length;s++){const l=n[s],u=i[s];if(l.startsWith(":"))r[l.substring(1)]=u;else if(l!==u.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function _d(i,t){const e=i?Object.keys(i):void 0,n=t?Object.keys(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!qI(i[r],t[r]))return!1;return!0}function qI(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;const e=[...i].sort(),n=[...t].sort();return e.every((r,s)=>n[s]===r)}return i===t}function Ab(i){return i.length>0?i[i.length-1]:null}function hl(i){return Pg(i)?i:(0,a.QGY)(i)?(0,ts.D)(Promise.resolve(i)):(0,Xt.of)(i)}const _F={exact:function sS(i,t,e){if(!Du(i.segments,t.segments)||!tf(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!i.children[n]||!sS(i.children[n],t.children[n],e))return!1;return!0},subset:oS},ZI={exact:function XI(i,t){return _d(i,t)},subset:function KI(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>qI(i[e],t[e]))},ignored:()=>!0};function cx(i,t,e){return _F[e.paths](i.root,t.root,e.matrixParams)&&ZI[e.queryParams](i.queryParams,t.queryParams)&&!("exact"===e.fragment&&i.fragment!==t.fragment)}function oS(i,t,e){return lx(i,t,t.segments,e)}function lx(i,t,e,n){if(i.segments.length>e.length){const r=i.segments.slice(0,e.length);return!(!Du(r,e)||t.hasChildren()||!tf(r,e,n))}if(i.segments.length===e.length){if(!Du(i.segments,e)||!tf(i.segments,e,n))return!1;for(const r in t.children)if(!i.children[r]||!oS(i.children[r],t.children[r],n))return!1;return!0}{const r=e.slice(0,i.segments.length),s=e.slice(i.segments.length);return!!(Du(i.segments,r)&&tf(i.segments,r,n)&&i.children[Dn])&&lx(i.children[Dn],t,s,n)}}function tf(i,t,e){return t.every((n,r)=>ZI[e](i[r].parameters,n.parameters))}class nf{constructor(t=new ki([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ef(this.queryParams)),this._queryParamMap}toString(){return JI.serialize(this)}}class ki{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ib(this)}}class Lg{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ef(this.parameters)),this._parameterMap}toString(){return Wm(this)}}function Du(i,t){return i.length===t.length&&i.every((e,n)=>e.path===t[n].path)}let Gm=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:function(){return new Db},providedIn:"root"})}return i})();class Db{parse(t){const e=new tk(t);return new nf(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Fg(t.root,!0)}`,n=function dS(i){const t=Object.keys(i).map(e=>{const n=i[e];return Array.isArray(n)?n.map(r=>`${Ug(e)}=${Ug(r)}`).join("&"):`${Ug(e)}=${Ug(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${n}${"string"==typeof t.fragment?`#${function vF(i){return encodeURI(i)}(t.fragment)}`:""}`}}const JI=new Db;function Ib(i){return i.segments.map(t=>Wm(t)).join("/")}function Fg(i,t){if(!i.hasChildren())return Ib(i);if(t){const e=i.children[Dn]?Fg(i.children[Dn],!1):"",n=[];return Object.entries(i.children).forEach(([r,s])=>{r!==Dn&&n.push(`${r}:${Fg(s,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function QI(i,t){let e=[];return Object.entries(i.children).forEach(([n,r])=>{n===Dn&&(e=e.concat(t(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==Dn&&(e=e.concat(t(r,n)))}),e}(i,(n,r)=>r===Dn?[Fg(i.children[Dn],!1)]:[`${r}:${Fg(n,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Dn]?`${Ib(i)}/${e[0]}`:`${Ib(i)}/(${e.join("//")})`}}function aS(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ug(i){return aS(i).replace(/%3B/gi,";")}function cS(i){return aS(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Iu(i){return decodeURIComponent(i)}function Ti(i){return Iu(i.replace(/\+/g,"%20"))}function Wm(i){return`${cS(i.path)}${function lS(i){return Object.keys(i).map(t=>`;${cS(t)}=${cS(i[t])}`).join("")}(i.parameters)}`}const dx=/^[^\/()?;#]+/;function Bg(i){const t=i.match(dx);return t?t[0]:""}const ek=/^[^\/()?;=#]+/,hS=/^[^=?&#]+/,bF=/^[^&#]+/;class tk{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ki([],{}):new ki([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Dn]=new ki(t,e)),n}parseSegment(){const t=Bg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(t),new Lg(Iu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function uS(i){const t=i.match(ek);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const r=Bg(this.remaining);r&&(n=r,this.capture(n))}t[Iu(e)]=Iu(n)}parseQueryParam(t){const e=function kb(i){const t=i.match(hS);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const l=function ux(i){const t=i.match(bF);return t?t[0]:""}(this.remaining);l&&(n=l,this.capture(n))}const r=Ti(e),s=Ti(n);if(t.hasOwnProperty(r)){let l=t[r];Array.isArray(l)||(l=[l],t[r]=l),l.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Bg(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new a.vHH(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Dn);const l=this.parseChildren();e[s]=1===Object.keys(l).length?l[Dn]:new ki([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new a.vHH(4011,!1)}}function Rb(i){return i.segments.length>0?new ki([],{[Dn]:i}):i}function hx(i){const t={};for(const n of Object.keys(i.children)){const s=hx(i.children[n]);if(n===Dn&&0===s.segments.length&&s.hasChildren())for(const[l,u]of Object.entries(s.children))t[l]=u;else(s.segments.length>0||s.hasChildren())&&(t[n]=s)}return function fS(i){if(1===i.numberOfChildren&&i.children[Dn]){const t=i.children[Dn];return new ki(i.segments.concat(t.segments),t.children)}return i}(new ki(i.segments,t))}function ca(i){return i instanceof nf}function Pb(i){let t;const r=Rb(function e(s){const l={};for(const f of s.children){const p=e(f);l[f.outlet]=p}const u=new ki(s.url,l);return s===i&&(t=u),u}(i.root));return t??r}function Vg(i,t,e,n){let r=i;for(;r.parent;)r=r.parent;if(0===t.length)return jm(r,r,r,e,n);const s=function fx(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new zg(!0,0,i);let t=0,e=!1;const n=i.reduce((r,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const u={};return Object.entries(s.outlets).forEach(([f,p])=>{u[f]="string"==typeof p?p.split("/"):p}),[...r,{outlets:u}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===l?(s.split("/").forEach((u,f)=>{0==f&&"."===u||(0==f&&""===u?e=!0:".."===u?t++:""!=u&&r.push(u))}),r):[...r,s]},[]);return new zg(e,t,n)}(t);if(s.toRoot())return jm(r,r,new ki([],{}),e,n);const l=function ik(i,t,e){if(i.isAbsolute)return new Nb(t,!0,0);if(!e)return new Nb(t,!1,NaN);if(null===e.parent)return new Nb(e,!0,0);const n=Ob(i.commands[0])?0:1;return function mS(i,t,e){let n=i,r=t,s=e;for(;s>r;){if(s-=r,n=n.parent,!n)throw new a.vHH(4005,!1);r=n.segments.length}return new Nb(n,!1,r-s)}(e,e.segments.length-1+n,i.numberOfDoubleDots)}(s,r,i),u=l.processChildren?Hg(l.segmentGroup,l.index,s.commands):pS(l.segmentGroup,l.index,s.commands);return jm(r,l.segmentGroup,u,e,n)}function Ob(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function sf(i){return"object"==typeof i&&null!=i&&i.outlets}function jm(i,t,e,n,r){let l,s={};n&&Object.entries(n).forEach(([f,p])=>{s[f]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),l=i===t?e:Sc(i,t,e);const u=Rb(hx(l));return new nf(u,s,r)}function Sc(i,t,e){const n={};return Object.entries(i.children).forEach(([r,s])=>{n[r]=s===t?e:Sc(s,t,e)}),new ki(i.segments,n)}class zg{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Ob(n[0]))throw new a.vHH(4003,!1);const r=n.find(sf);if(r&&r!==Ab(n))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Nb{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function pS(i,t,e){if(i||(i=new ki([],{})),0===i.segments.length&&i.hasChildren())return Hg(i,t,e);const n=function rk(i,t,e){let n=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return s;const l=i.segments[r],u=e[n];if(sf(u))break;const f=`${u}`,p=n<e.length-1?e[n+1]:null;if(r>0&&void 0===f)break;if(f&&p&&"object"==typeof p&&void 0===p.outlets){if(!mx(f,p,l))return s;n+=2}else{if(!mx(f,{},l))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){const s=new ki(i.segments.slice(0,n.pathIndex),{});return s.children[Dn]=new ki(i.segments.slice(n.pathIndex),i.children),Hg(s,0,r)}return n.match&&0===r.length?new ki(i.segments,{}):n.match&&!i.hasChildren()?Gg(i,t,e):n.match?Hg(i,0,r):Gg(i,t,e)}function Hg(i,t,e){if(0===e.length)return new ki(i.segments,{});{const n=function $m(i){return sf(i[0])?i[0].outlets:{[Dn]:i}}(e),r={};if(Object.keys(n).some(s=>s!==Dn)&&i.children[Dn]&&1===i.numberOfChildren&&0===i.children[Dn].segments.length){const s=Hg(i.children[Dn],t,e);return new ki(i.segments,s.children)}return Object.entries(n).forEach(([s,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(r[s]=pS(i.children[s],t,l))}),Object.entries(i.children).forEach(([s,l])=>{void 0===n[s]&&(r[s]=l)}),new ki(i.segments,r)}}function Gg(i,t,e){const n=i.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(sf(s)){const f=gS(s.outlets);return new ki(n,f)}if(0===r&&Ob(e[0])){n.push(new Lg(i.segments[t].path,_S(e[0]))),r++;continue}const l=sf(s)?s.outlets[Dn]:`${s}`,u=r<e.length-1?e[r+1]:null;l&&u&&Ob(u)?(n.push(new Lg(l,_S(u))),r+=2):(n.push(new Lg(l,{})),r++)}return new ki(n,{})}function gS(i){const t={};return Object.entries(i).forEach(([e,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[e]=Gg(new ki([],{}),0,n))}),t}function _S(i){const t={};return Object.entries(i).forEach(([e,n])=>t[e]=`${n}`),t}function mx(i,t,e){return i==e.path&&_d(t,e.parameters)}const af="imperative";class vd{constructor(t,e){this.id=t,this.url=e}}class Lb extends vd{constructor(t,e,n="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ku extends vd{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wg extends vd{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jg extends vd{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=16}}class px extends vd{constructor(t,e,n,r){super(t,e),this.error=n,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $g extends vd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sk extends vd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gx extends vd{constructor(t,e,n,r,s){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _x extends vd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ym extends vd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vx{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bx{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yg{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fb{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qm{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yx{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ub{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Zm{}class vS{constructor(t){this.url=t}}class qg{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Zg,this.attachRef=null}}let Zg=(()=>{class i{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new qg,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class xx{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=wx(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){const e=wx(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ex(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Ex(t,this._root).map(e=>e.value)}}function wx(i,t){if(i===t.value)return t;for(const e of t.children){const n=wx(i,e);if(n)return n}return null}function Ex(i,t){if(i===t.value)return[t];for(const e of t.children){const n=Ex(i,e);if(n.length)return n.unshift(t),n}return[]}class Mc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function cf(i){const t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}class yS extends xx{constructor(t,e){super(t),this.snapshot=e,Kg(this,t)}toString(){return this.snapshot.toString()}}function xS(i,t){const e=function yF(i,t){const l=new Bb([],{},{},"",{},Dn,t,null,{});return new Sx("",new Mc(l,[]))}(0,t),n=new Ws.X([new Lg("",{})]),r=new Ws.X({}),s=new Ws.X({}),l=new Ws.X({}),u=new Ws.X(""),f=new Xm(n,r,l,u,s,Dn,t,e.root);return f.snapshot=e.root,new yS(new Mc(f,[]),e)}class Xm{constructor(t,e,n,r,s,l,u,f){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=l,this.component=u,this._futureSnapshot=f,this.title=this.dataSubject?.pipe((0,gn.U)(p=>p[gd]))??(0,Xt.of)(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gn.U)(t=>ef(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gn.U)(t=>ef(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xg(i,t="emptyOnly"){const e=i.pathFromRoot;let n=0;if("always"!==t)for(n=e.length-1;n>=1;){const r=e[n],s=e[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(s.component)break;n--}}return function Cx(i){return i.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(n))}class Bb{get title(){return this.data?.[gd]}constructor(t,e,n,r,s,l,u,f,p){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=l,this.component=u,this.routeConfig=f,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ef(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ef(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sx extends xx{constructor(t,e){super(e),this.url=t,Kg(this,e)}toString(){return Qg(this._root)}}function Kg(i,t){t.value._routerState=i,t.children.forEach(e=>Kg(i,e))}function Qg(i){const t=i.children.length>0?` { ${i.children.map(Qg).join(", ")} } `:"";return`${i.value}${t}`}function Mx(i){if(i.snapshot){const t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,_d(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),_d(t.params,e.params)||i.paramsSubject.next(e.params),function gF(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!_d(i[e],t[e]))return!1;return!0}(t.url,e.url)||i.urlSubject.next(e.url),_d(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function Vb(i,t){const e=_d(i.params,t.params)&&function rf(i,t){return Du(i,t)&&i.every((e,n)=>_d(e.parameters,t[n].parameters))}(i.url,t.url);return e&&!(!i.parent!=!t.parent)&&(!i.parent||Vb(i.parent,t.parent))}let Tx=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=Dn,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(Zg),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb),this.inputBinder=(0,a.f3M)(Ax,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new a.vHH(4013,!1);this._activatedRoute=e;const r=this.location,l=e.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,f=new wS(e,u,r.injector);this.activated=r.createComponent(l,{index:r.length,injector:f,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]})}return i})();class wS{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Xm?this.route:t===Zg?this.childContexts:this.parent.get(t,e)}}const Ax=new a.OlP("");let ES=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:n}=e,r=Qh([n.queryParams,n.params,n.data]).pipe((0,Ni.w)(([s,l,u],f)=>(u={...s,...l,...u},0===f?(0,Xt.of)(u):Promise.resolve(u)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(e);const l=(0,a.qFp)(n.component);if(l)for(const{templateName:u}of l.inputs)e.activatedComponentRef.setInput(u,s[u]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac})}return i})();function e_(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){const n=e.value;n._futureSnapshot=t.value;const r=function Km(i,t,e){return t.children.map(n=>{for(const r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return e_(i,n,r);return e_(i,n)})}(i,t,e);return new Mc(n,r)}{if(i.shouldAttach(t.value)){const s=i.retrieve(t.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(u=>e_(i,u)),l}}const n=function t_(i){return new Xm(new Ws.X(i.url),new Ws.X(i.params),new Ws.X(i.queryParams),new Ws.X(i.fragment),new Ws.X(i.data),i.outlet,i.component,i)}(t.value),r=t.children.map(s=>e_(i,s));return new Mc(n,r)}}const Dx="ngNavigationCancelingError";function Ix(i,t){const{redirectTo:e,navigationBehaviorOptions:n}=ca(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=CS(!1,0,t);return r.url=e,r.navigationBehaviorOptions=n,r}function CS(i,t,e){const n=new Error("NavigationCancelingError: "+(i||""));return n[Dx]=!0,n.cancellationCode=t,e&&(n.url=e),n}function SS(i){return i&&i[Dx]}let kx=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(n,r){1&n&&a._UZ(0,"router-outlet")},dependencies:[Tx],encapsulation:2})}return i})();function zb(i){const t=i.children&&i.children.map(zb),e=t?{...i,children:t}:{...i};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Dn&&(e.component=kx),e}function Tc(i){return i.outlet||Dn}function Hb(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Ac{constructor(t,e,n,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Mx(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=cf(e);t.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,r[l],n),delete r[l]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(t,e,n){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const l=n.getContext(r.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,n);else s&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,s=cf(t);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);if(n&&n.outlet){const l=n.outlet.detach(),u=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,s=cf(t);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){const r=cf(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new yx(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Fb(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,s=e?e.value:null;if(Mx(r),r===s)if(r.component){const l=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const l=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(u.contexts),l.attachRef=u.componentRef,l.route=u.route.value,l.outlet&&l.outlet.attach(u.componentRef,u.route.value),Mx(u.route.value),this.activateChildRoutes(t,null,l.children)}else{const u=Hb(r.snapshot);l.attachRef=null,l.route=r,l.injector=u,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,n)}}class Rx{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Px{constructor(t,e){this.component=t,this.route=e}}function Ox(i,t,e){const n=i._root;return n_(n,t?t._root:null,e,[n.value])}function Pu(i,t){const e=Symbol(),n=t.get(i,e);return n===e?"function"!=typeof i||(0,a.Z0I)(i)?t.get(i):i:n}function n_(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=cf(t);return i.children.forEach(l=>{(function wF(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=i.value,l=t?t.value:null,u=e?e.getContext(i.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const f=function hk(i,t,e){if("function"==typeof e)return e(i,t);switch(e){case"pathParamsChange":return!Du(i.url,t.url);case"pathParamsOrQueryParamsChange":return!Du(i.url,t.url)||!_d(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vb(i,t)||!_d(i.queryParams,t.queryParams);default:return!Vb(i,t)}}(l,s,s.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new Rx(n)):(s.data=l.data,s._resolvedData=l._resolvedData),n_(i,t,s.component?u?u.children:null:e,n,r),f&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new Px(u.outlet.component,l))}else l&&lf(t,u,r),r.canActivateChecks.push(new Rx(n)),n_(i,null,s.component?u?u.children:null:e,n,r)})(l,s[l.value.outlet],e,n.concat([l.value]),r),delete s[l.value.outlet]}),Object.entries(s).forEach(([l,u])=>lf(u,e.getContext(l),r)),r}function lf(i,t,e){const n=cf(i),r=i.value;Object.entries(n).forEach(([s,l])=>{lf(l,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new Px(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Wo(i){return"function"==typeof i}function Gb(i){return i instanceof Um||"EmptyError"===i?.name}const i_=Symbol("INITIAL_VALUE");function df(){return(0,Ni.w)(i=>Qh(i.map(t=>t.pipe(kr(1),pd(i_)))).pipe((0,gn.U)(t=>{for(const e of t)if(!0!==e){if(e===i_)return i_;if(!1===e||e instanceof nf)return e}return!0}),rr(t=>t!==i_),kr(1)))}function uf(i){return(0,sx.z)((0,rs.b)(t=>{if(ca(t))throw Ix(0,t)}),(0,gn.U)(t=>!0===t))}class Wb{constructor(t){this.segmentGroup=t||null}}class Lx{constructor(t){this.urlTree=t}}function hf(i){return Bm(new Wb(i))}function jb(i){return Bm(new Lx(i))}class NS{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new a.vHH(4002,!1)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,Xt.of)(n);if(r.numberOfChildren>1||!r.children[Dn])return Bm(new a.vHH(4e3,!1));r=r.children[Dn]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreateUrlTree(t,e,n,r){const s=this.createSegmentGroup(t,e.root,n,r);return new nf(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const u=s.substring(1);n[r]=e[u]}else n[r]=s}),n}createSegmentGroup(t,e,n,r){const s=this.createSegments(t,e.segments,n,r);let l={};return Object.entries(e.children).forEach(([u,f])=>{l[u]=this.createSegmentGroup(t,f,n,r)}),new ki(s,l)}createSegments(t,e,n,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new a.vHH(4001,!1);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}const Yb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xk(i,t,e,n,r){const s=Fx(i,t,e);return s.matched?(n=function MS(i,t){return i.providers&&!i._injector&&(i._injector=(0,a.MMx)(i.providers,t,`Route: ${i.path}`)),i._injector??t}(t,n),function yk(i,t,e,n){const r=t.canMatch;if(!r||0===r.length)return(0,Xt.of)(!0);const s=r.map(l=>{const u=Pu(l,i);return hl(function Nx(i){return i&&Wo(i.canMatch)}(u)?u.canMatch(t,e):i.runInContext(()=>u(t,e)))});return(0,Xt.of)(s).pipe(df(),uf())}(n,t,e).pipe((0,gn.U)(l=>!0===l?s:{...Yb}))):(0,Xt.of)(s)}function Fx(i,t,e){if(""===t.path)return"full"===t.pathMatch&&(i.hasChildren()||e.length>0)?{...Yb}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||rS)(e,i,t);if(!r)return{...Yb};const s={};Object.entries(r.posParams??{}).forEach(([u,f])=>{s[u]=f.path});const l=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function LS(i,t,e,n){return e.length>0&&function SF(i,t,e){return e.some(n=>Ux(i,t,n)&&Tc(n)!==Dn)}(i,e,n)?{segmentGroup:new ki(t,FS(n,new ki(e,i.children))),slicedSegments:[]}:0===e.length&&function Ek(i,t,e){return e.some(n=>Ux(i,t,n))}(i,e,n)?{segmentGroup:new ki(i.segments,wk(i,0,e,n,i.children)),slicedSegments:e}:{segmentGroup:new ki(i.segments,i.children),slicedSegments:e}}function wk(i,t,e,n,r){const s={};for(const l of n)if(Ux(i,e,l)&&!r[Tc(l)]){const u=new ki([],{});s[Tc(l)]=u}return{...r,...s}}function FS(i,t){const e={};e[Dn]=t;for(const n of i)if(""===n.path&&Tc(n)!==Dn){const r=new ki([],{});e[Tc(n)]=r}return e}function Ux(i,t,e){return(!(i.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class TF{constructor(t,e,n,r,s,l,u){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=l,this.urlSerializer=u,this.allowRedirects=!0,this.applyRedirects=new NS(this.urlSerializer,this.urlTree)}noMatchError(t){return new a.vHH(4002,!1)}recognize(){const t=LS(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Dn).pipe(Au(e=>{if(e instanceof Lx)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Wb?this.noMatchError(e):e}),(0,gn.U)(e=>{const n=new Bb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Dn,this.rootComponentType,null,{}),r=new Mc(n,e),s=new Sx("",r),l=function nk(i,t,e=null,n=null){return Vg(Pb(i),t,e,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(s._root),{state:s,tree:l}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Dn).pipe(Au(n=>{throw n instanceof Wb?this.noMatchError(n):n}))}inheritParamsAndData(t){const e=t.value,n=Xg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,e,n):this.processSegment(t,e,n,n.segments,r,!0)}processChildren(t,e,n){const r=[];for(const s of Object.keys(n.children))"primary"===s?r.unshift(s):r.push(s);return(0,ts.D)(r).pipe(zm(s=>{const l=n.children[s],u=function dk(i,t){const e=i.filter(n=>Tc(n)===t);return e.push(...i.filter(n=>Tc(n)!==t)),e}(e,s);return this.processSegmentGroup(t,u,l,s)}),ox((s,l)=>(s.push(...l),s)),Mb(null),function YI(i,t){const e=arguments.length>=2;return n=>n.pipe(i?rr((r,s)=>i(r,s,n)):Xh.y,Tb(1),e?Mb(t):ul(()=>new Um))}(),(0,js.z)(s=>{if(null===s)return hf(n);const l=Bx(s);return function qb(i){i.sort((t,e)=>t.value.outlet===Dn?-1:e.value.outlet===Dn?1:t.value.outlet.localeCompare(e.value.outlet))}(l),(0,Xt.of)(l)}))}processSegment(t,e,n,r,s,l){return(0,ts.D)(e).pipe(zm(u=>this.processSegmentAgainstRoute(u._injector??t,e,u,n,r,s,l).pipe(Au(f=>{if(f instanceof Wb)return(0,Xt.of)(null);throw f}))),Tu(u=>!!u),Au(u=>{if(Gb(u))return function US(i,t,e){return 0===t.length&&!i.children[e]}(n,r,s)?(0,Xt.of)([]):hf(n);throw u}))}processSegmentAgainstRoute(t,e,n,r,s,l,u){return function MF(i,t,e,n){return!!(Tc(i)===n||n!==Dn&&Ux(t,e,i))&&("**"===i.path||Fx(t,i,e).matched)}(n,r,s,l)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,r,n,s,l,u):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,n,s,l):hf(r):hf(r)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,s,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const s=this.applyRedirects.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?jb(s):this.applyRedirects.lineralizeSegments(n,s).pipe((0,js.z)(l=>{const u=new ki(l,{});return this.processSegment(t,e,u,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,s,l){const{matched:u,consumedSegments:f,remainingSegments:p,positionalParamSegments:b}=Fx(e,r,s);if(!u)return hf(e);const y=this.applyRedirects.applyRedirectCommands(f,r.redirectTo,b);return r.redirectTo.startsWith("/")?jb(y):this.applyRedirects.lineralizeSegments(r,y).pipe((0,js.z)(w=>this.processSegment(t,n,e,w.concat(p),l,!1)))}matchSegmentAgainstRoute(t,e,n,r,s,l){let u;if("**"===n.path){const f=r.length>0?Ab(r).parameters:{},p=new Bb(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VS(n),Tc(n),n.component??n._loadedComponent??null,n,Vx(n));u=(0,Xt.of)({snapshot:p,consumedSegments:[],remainingSegments:[]}),e.children={}}else u=xk(e,n,r,t).pipe((0,gn.U)(({matched:f,consumedSegments:p,remainingSegments:b,parameters:y})=>f?{snapshot:new Bb(p,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VS(n),Tc(n),n.component??n._loadedComponent??null,n,Vx(n)),consumedSegments:p,remainingSegments:b}:null));return u.pipe((0,Ni.w)(f=>null===f?hf(e):this.getChildConfig(t=n._injector??t,n,r).pipe((0,Ni.w)(({routes:p})=>{const b=n._loadedInjector??t,{snapshot:y,consumedSegments:w,remainingSegments:S}=f,{segmentGroup:A,slicedSegments:P}=LS(e,w,S,p);if(0===P.length&&A.hasChildren())return this.processChildren(b,p,A).pipe((0,gn.U)(k=>null===k?null:[new Mc(y,k)]));if(0===p.length&&0===P.length)return(0,Xt.of)([new Mc(y,[])]);const I=Tc(n)===s;return this.processSegment(b,p,A,P,I?Dn:s,!0).pipe((0,gn.U)(k=>[new Mc(y,k)]))}))))}getChildConfig(t,e,n){return e.children?(0,Xt.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,Xt.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function bd(i,t,e,n){const r=t.canLoad;if(void 0===r||0===r.length)return(0,Xt.of)(!0);const s=r.map(l=>{const u=Pu(l,i);return hl(function fk(i){return i&&Wo(i.canLoad)}(u)?u.canLoad(t,e):i.runInContext(()=>u(t,e)))});return(0,Xt.of)(s).pipe(df(),uf())}(t,e,n).pipe((0,js.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,rs.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function $b(i){return Bm(CS(!1,3))}())):(0,Xt.of)({routes:[],injector:t})}}function AF(i){const t=i.value.routeConfig;return t&&""===t.path}function Bx(i){const t=[],e=new Set;for(const n of i){if(!AF(n)){t.push(n);continue}const r=t.find(s=>n.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...n.children),e.add(r)):t.push(n)}for(const n of e){const r=Bx(n.children);t.push(new Mc(n.value,r))}return t.filter(n=>!e.has(n))}function VS(i){return i.data||{}}function Vx(i){return i.resolve||{}}function jS(i){return"string"==typeof i.title||null===i.title}function ep(i){return(0,Ni.w)(t=>{const e=i(t);return e?(0,ts.D)(e).pipe((0,gn.U)(()=>t)):(0,Xt.of)(t)})}const Dc=new a.OlP("ROUTES");let s_=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,Xt.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const n=hl(e.loadComponent()).pipe((0,gn.U)(Zb),(0,rs.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Hm(()=>{this.componentLoaders.delete(e)})),r=new Sb(n,()=>new sn.x).pipe(Cb());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return(0,Xt.of)({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const s=function o_(i,t,e,n){return hl(i.loadChildren()).pipe((0,gn.U)(Zb),(0,js.z)(r=>r instanceof a.YKP||Array.isArray(r)?(0,Xt.of)(r):(0,ts.D)(t.compileModuleAsync(r))),(0,gn.U)(r=>{n&&n(i);let s,l,u=!1;return Array.isArray(r)?(l=r,!0):(s=r.create(e).injector,l=s.get(Dc,[],{optional:!0,self:!0}).flat()),{routes:l.map(zb),injector:s}}))}(n,this.compiler,e,this.onLoadEndListener).pipe(Hm(()=>{this.childrenLoaders.delete(n)})),l=new Sb(s,()=>new sn.x).pipe(Cb());return this.childrenLoaders.set(n,l),l}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Zb(i){return function $S(i){return i&&"object"==typeof i&&"default"in i}(i)?i.default:i}let tp=(()=>{class i{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new sn.x,this.transitionAbortSubject=new sn.x,this.configLoader=(0,a.f3M)(s_),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(Gm),this.rootContexts=(0,a.f3M)(Zg),this.inputBindingEnabled=null!==(0,a.f3M)(Ax,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Xt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new bx(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new vx(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:n})}setupNavigations(e,n,r){return this.transitions=new Ws.X({id:0,currentUrlTree:n,currentRawUrl:n,currentBrowserUrl:n,extractedUrl:e.urlHandlingStrategy.extract(n),urlAfterRedirects:e.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:af,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(rr(s=>0!==s.id),(0,gn.U)(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),(0,Ni.w)(s=>{this.currentTransition=s;let l=!1,u=!1;return(0,Xt.of)(s).pipe((0,rs.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ni.w)(f=>{const p=f.currentBrowserUrl.toString(),b=!e.navigated||f.extractedUrl.toString()!==p||p!==f.currentUrlTree.toString();if(!b&&"reload"!==(f.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const w="";return this.events.next(new jg(f.id,this.urlSerializer.serialize(f.rawUrl),w,0)),f.resolve(null),Go.E}if(e.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return(0,Xt.of)(f).pipe((0,Ni.w)(w=>{const S=this.transitions?.getValue();return this.events.next(new Lb(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),S!==this.transitions?.getValue()?Go.E:Promise.resolve(w)}),function zS(i,t,e,n,r,s){return(0,js.z)(l=>function BS(i,t,e,n,r,s,l="emptyOnly"){return new TF(i,t,e,n,r,l,s).recognize()}(i,t,e,n,l.extractedUrl,r,s).pipe((0,gn.U)(({state:u,tree:f})=>({...l,targetSnapshot:u,urlAfterRedirects:f}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,rs.b)(w=>{s.targetSnapshot=w.targetSnapshot,s.urlAfterRedirects=w.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:w.urlAfterRedirects};const S=new $g(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(S)}));if(b&&e.urlHandlingStrategy.shouldProcessUrl(f.currentRawUrl)){const{id:w,extractedUrl:S,source:A,restoredState:P,extras:I}=f,k=new Lb(w,this.urlSerializer.serialize(S),A,P);this.events.next(k);const U=xS(0,this.rootComponentType).snapshot;return this.currentTransition=s={...f,targetSnapshot:U,urlAfterRedirects:S,extras:{...I,skipLocationChange:!1,replaceUrl:!1}},(0,Xt.of)(s)}{const w="";return this.events.next(new jg(f.id,this.urlSerializer.serialize(f.extractedUrl),w,1)),f.resolve(null),Go.E}}),(0,rs.b)(f=>{const p=new sk(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),(0,gn.U)(f=>(this.currentTransition=s={...f,guards:Ox(f.targetSnapshot,f.currentSnapshot,this.rootContexts)},s)),function gk(i,t){return(0,js.z)(e=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=e;return 0===l.length&&0===s.length?(0,Xt.of)({...e,guardsResult:!0}):function RS(i,t,e,n){return(0,ts.D)(i).pipe((0,js.z)(r=>function Qm(i,t,e,n,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,Xt.of)(!0);const l=s.map(u=>{const f=Hb(t)??r,p=Pu(u,f);return hl(function mk(i){return i&&Wo(i.canDeactivate)}(p)?p.canDeactivate(i,t,e,n):f.runInContext(()=>p(i,t,e,n))).pipe(Tu())});return(0,Xt.of)(l).pipe(df())}(r.component,r.route,e,t,n)),Tu(r=>!0!==r,!0))}(l,n,r,i).pipe((0,js.z)(u=>u&&function kS(i){return"boolean"==typeof i}(u)?function PS(i,t,e,n){return(0,ts.D)(t).pipe(zm(r=>Og(function vk(i,t){return null!==i&&t&&t(new Yg(i)),(0,Xt.of)(!0)}(r.route.parent,n),function _k(i,t){return null!==i&&t&&t(new qm(i)),(0,Xt.of)(!0)}(r.route,n),function OS(i,t,e){const n=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(l=>function Ru(i){const t=i.routeConfig?i.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:i,guards:t}:null}(l)).filter(l=>null!==l).map(l=>Ng(()=>{const u=l.guards.map(f=>{const p=Hb(l.node)??e,b=Pu(f,p);return hl(function Ds(i){return i&&Wo(i.canActivateChild)}(b)?b.canActivateChild(n,i):p.runInContext(()=>b(n,i))).pipe(Tu())});return(0,Xt.of)(u).pipe(df())}));return(0,Xt.of)(s).pipe(df())}(i,r.path,e),function bk(i,t,e){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return(0,Xt.of)(!0);const r=n.map(s=>Ng(()=>{const l=Hb(t)??e,u=Pu(s,l);return hl(function EF(i){return i&&Wo(i.canActivate)}(u)?u.canActivate(t,i):l.runInContext(()=>u(t,i))).pipe(Tu())}));return(0,Xt.of)(r).pipe(df())}(i,r.route,e))),Tu(r=>!0!==r,!0))}(n,s,i,t):(0,Xt.of)(u)),(0,gn.U)(u=>({...e,guardsResult:u})))})}(this.environmentInjector,f=>this.events.next(f)),(0,rs.b)(f=>{if(s.guardsResult=f.guardsResult,ca(f.guardsResult))throw Ix(0,f.guardsResult);const p=new gx(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(p)}),rr(f=>!!f.guardsResult||(this.cancelNavigationTransition(f,"",3),!1)),ep(f=>{if(f.guards.canActivateChecks.length)return(0,Xt.of)(f).pipe((0,rs.b)(p=>{const b=new _x(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(b)}),(0,Ni.w)(p=>{let b=!1;return(0,Xt.of)(p).pipe(function Wn(i,t){return(0,js.z)(e=>{const{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,Xt.of)(e);let s=0;return(0,ts.D)(r).pipe(zm(l=>function HS(i,t,e,n){const r=i.routeConfig,s=i._resolve;return void 0!==r?.title&&!jS(r)&&(s[gd]=r.title),function GS(i,t,e,n){const r=function Jm(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}(i);if(0===r.length)return(0,Xt.of)({});const s={};return(0,ts.D)(r).pipe((0,js.z)(l=>function WS(i,t,e,n){const r=Hb(t)??n,s=Pu(i,r);return hl(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(i[l],t,e,n).pipe(Tu(),(0,rs.b)(u=>{s[l]=u}))),Tb(1),nS(s),Au(l=>Gb(l)?Go.E:Bm(l)))}(s,i,t,n).pipe((0,gn.U)(l=>(i._resolvedData=l,i.data=Xg(i,e).resolve,r&&jS(r)&&(i.data[gd]=r.title),null)))}(l.route,n,i,t)),(0,rs.b)(()=>s++),Tb(1),(0,js.z)(l=>s===r.length?(0,Xt.of)(e):Go.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,rs.b)({next:()=>b=!0,complete:()=>{b||this.cancelNavigationTransition(p,"",2)}}))}),(0,rs.b)(p=>{const b=new Ym(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(b)}))}),ep(f=>{const p=b=>{const y=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,rs.b)(w=>{b.component=w}),(0,gn.U)(()=>{})));for(const w of b.children)y.push(...p(w));return y};return Qh(p(f.targetSnapshot.root)).pipe(Mb(),kr(1))}),ep(()=>this.afterPreactivation()),(0,gn.U)(f=>{const p=function Jg(i,t,e){const n=e_(i,t._root,e?e._root:void 0);return new yS(n,t)}(e.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return this.currentTransition=s={...f,targetRouterState:p},s}),(0,rs.b)(()=>{this.events.next(new Zm)}),((i,t,e,n)=>(0,gn.U)(r=>(new Ac(t,r.targetRouterState,r.currentRouterState,e,n).activate(i),r)))(this.rootContexts,e.routeReuseStrategy,f=>this.events.next(f),this.inputBindingEnabled),kr(1),(0,rs.b)({next:f=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ku(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects))),e.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{l=!0}}),bi(this.transitionAbortSubject.pipe((0,rs.b)(f=>{throw f}))),Hm(()=>{l||u||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Au(f=>{if(u=!0,SS(f))this.events.next(new Wg(s.id,this.urlSerializer.serialize(s.extractedUrl),f.message,f.cancellationCode)),function ok(i){return SS(i)&&ca(i.url)}(f)?this.events.next(new vS(f.url)):s.resolve(!1);else{this.events.next(new px(s.id,this.urlSerializer.serialize(s.extractedUrl),f,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(f))}catch(p){s.reject(p)}}return Go.E}))}))}cancelNavigationTransition(e,n,r){const s=new Wg(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(s),e.resolve(!1)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Xb(i){return i!==af}let zx=(()=>{class i{buildTitle(e){let n,r=e.root;for(;void 0!==r;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(s=>s.outlet===Dn);return n}getResolvedTitleForRoute(e){return e.data[gd]}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:function(){return(0,a.f3M)(Hx)},providedIn:"root"})}return i})(),Hx=(()=>{class i extends zx{constructor(e){super(),this.title=e}updateTitle(e){const n=this.buildTitle(e);void 0!==n&&this.title.setTitle(n)}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(et))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Sk=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:function(){return(0,a.f3M)(Tk)},providedIn:"root"})}return i})();class Mk{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Tk=(()=>{class i extends Mk{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(i)))(r||i)}}();static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const a_=new a.OlP("",{providedIn:"root",factory:()=>({})});let Ak=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:function(){return(0,a.f3M)(Dk)},providedIn:"root"})}return i})(),Dk=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var c_=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(c_||{});function YS(i,t){i.events.pipe(rr(e=>e instanceof ku||e instanceof Wg||e instanceof px||e instanceof jg),(0,gn.U)(e=>e instanceof ku||e instanceof jg?c_.COMPLETE:e instanceof Wg&&(0===e.code||1===e.code)?c_.REDIRECTING:c_.FAILED),rr(e=>e!==c_.REDIRECTING),kr(1)).subscribe(()=>{t()})}function qS(i){throw i}function ZS(i,t,e){return t.parse("/")}const Ik={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $i=(()=>{class i{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this._events=new sn.x,this.options=(0,a.f3M)(a_,{optional:!0})||{},this.pendingTasks=(0,a.f3M)(a.HDt),this.errorHandler=this.options.errorHandler||qS,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ZS,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(Ak),this.routeReuseStrategy=(0,a.f3M)(Sk),this.titleStrategy=(0,a.f3M)(zx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,a.f3M)(Dc,{optional:!0})?.flat()??[],this.navigationTransitions=(0,a.f3M)(tp),this.urlSerializer=(0,a.f3M)(Gm),this.location=(0,a.f3M)(Et),this.componentInputBindingEnabled=!!(0,a.f3M)(Ax,{optional:!0}),this.eventsSubscription=new ps.w0,this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new nf,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xS(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(n=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(XS(n)&&this._events.next(n));if(n instanceof Lb)Xb(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(n instanceof jg)this.rawUrlTree=r.rawUrl;else if(n instanceof $g){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(n instanceof Zm)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(n instanceof Wg)0!==n.code&&1!==n.code&&(this.navigated=!0),(3===n.code||2===n.code)&&this.restoreHistory(r);else if(n instanceof vS){const s=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),l={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Xb(r.source)};this.scheduleNavigation(s,af,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}n instanceof px&&this.restoreHistory(r,!0),n instanceof ku&&(this.navigated=!0),XS(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),af,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const n="popstate"===e.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,n,e.state)},0)}))}navigateToSyncWithBrowser(e,n,r){const s={replaceUrl:!0},l=r?.navigationId?r:null;if(r){const f={...r};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(s.state=f)}const u=this.parseUrl(e);this.scheduleNavigation(u,n,l,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(zb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){const{relativeTo:r,queryParams:s,fragment:l,queryParamsHandling:u,preserveFragment:f}=n,p=f?this.currentUrlTree.fragment:l;let y,b=null;switch(u){case"merge":b={...this.currentUrlTree.queryParams,...s};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=s||null}null!==b&&(b=this.removeEmptyProps(b));try{y=Pb(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),y=this.currentUrlTree.root}return Vg(y,e,b,p??null)}navigateByUrl(e,n={skipLocationChange:!1}){const r=ca(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,af,null,n)}navigate(e,n={skipLocationChange:!1}){return function Rk(i){for(let t=0;t<i.length;t++)if(null==i[t])throw new a.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let n;try{n=this.urlSerializer.parse(e)}catch(r){n=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return n}isActive(e,n){let r;if(r=!0===n?{...Ik}:!1===n?{...kk}:n,ca(e))return cx(this.currentUrlTree,e,r);const s=this.parseUrl(e);return cx(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((n,r)=>{const s=e[r];return null!=s&&(n[r]=s),n},{})}scheduleNavigation(e,n,r,s,l){if(this.disposed)return Promise.resolve(!1);let u,f,p;l?(u=l.resolve,f=l.reject,p=l.promise):p=new Promise((y,w)=>{u=y,f=w});const b=this.pendingTasks.add();return YS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(b))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:s,resolve:u,reject:f,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(y=>Promise.reject(y))}setBrowserUrl(e,n){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){const l={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(r,"",l)}else{const s={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,n=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function XS(i){return!(i instanceof Zm||i instanceof vS)}let l_=(()=>{class i{constructor(e,n,r,s,l,u){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=s,this.el=l,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new sn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const f=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===f||"area"===f,this.isAnchorElement?this.subscription=e.events.subscribe(p=>{p instanceof ku&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,n,r,s,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||n||r||s||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,n){const r=this.renderer,s=this.el.nativeElement;null!==n?r.setAttribute(s,e,n):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36($i),a.Y36(Xm),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(vt))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&a.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&n&&a.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",a.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",a.VuI],replaceUrl:["replaceUrl","replaceUrl",a.VuI],routerLink:"routerLink"},standalone:!0,features:[a.Xq5,a.TTD]})}return i})();class QS{}let JS=(()=>{class i{constructor(e,n,r,s,l){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(rr(e=>e instanceof ku),zm(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){const r=[];for(const s of n){s.providers&&!s._injector&&(s._injector=(0,a.MMx)(s.providers,e,`Route: ${s.path}`));const l=s._injector??e,u=s._loadedInjector??l;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(l,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(u,s.children??s._loadedRoutes))}return(0,ts.D)(r).pipe((0,dl.J)())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;r=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(e,n):(0,Xt.of)(null);const s=r.pipe((0,js.z)(l=>null===l?(0,Xt.of)(void 0):(n._loadedRoutes=l.routes,n._loadedInjector=l.injector,this.processRoutes(l.injector??e,l.routes))));if(n.loadComponent&&!n._loadedComponent){const l=this.loader.loadComponent(n);return(0,ts.D)([s,l]).pipe((0,dl.J)())}return s})}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG($i),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(QS),a.LFG(s_))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Wx=new a.OlP("");let eM=(()=>{class i{constructor(e,n,r,s,l={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Lb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ku?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof jg&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ub&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ub(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){a.$Z()};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac})}return i})();function yd(i,t){return{\u0275kind:i,\u0275providers:t}}function Kb(){const i=(0,a.f3M)(a.zs3);return t=>{const e=i.get(a.z2F);if(t!==e.components[0])return;const n=i.get($i),r=i.get(iM);1===i.get(Qb)&&n.initialNavigation(),i.get(d_,null,a.XFs.Optional)?.setUpPreloading(),i.get(Wx,null,a.XFs.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const iM=new a.OlP("",{factory:()=>new sn.x}),Qb=new a.OlP("",{providedIn:"root",factory:()=>1}),d_=new a.OlP("");function jx(i){return yd(0,[{provide:d_,useExisting:JS},{provide:QS,useExisting:i}])}const Jb=new a.OlP("ROUTER_FORROOT_GUARD"),wd=[Et,{provide:Gm,useClass:Db},$i,Zg,{provide:Xm,useFactory:function nM(i){return i.routerState.root},deps:[$i]},s_,[]];function Bk(){return new a.PXZ("Router",$i)}let $x=(()=>{class i{constructor(e){}static forRoot(e,n){return{ngModule:i,providers:[wd,[],{provide:Dc,multi:!0,useValue:e},{provide:Jb,useFactory:zk,deps:[[$i,new a.FiY,new a.tp0]]},{provide:a_,useValue:n||{}},n?.useHash?{provide:vt,useClass:dt}:{provide:vt,useClass:Rt},{provide:Wx,useFactory:()=>{const i=(0,a.f3M)(Cr),t=(0,a.f3M)(a.R0b),e=(0,a.f3M)(a_),n=(0,a.f3M)(tp),r=(0,a.f3M)(Gm);return e.scrollOffset&&i.setOffset(e.scrollOffset),new eM(r,n,i,t,e)}},n?.preloadingStrategy?jx(n.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:Bk},n?.initialNavigation?ey(n):[],n?.bindToComponentInputs?yd(8,[ES,{provide:Ax,useExisting:ES}]).\u0275providers:[],[{provide:np,useFactory:Kb},{provide:a.tb,multi:!0,useExisting:np}]]}}static forChild(e){return{ngModule:i,providers:[{provide:Dc,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(Jb,8))};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({})}return i})();function zk(i){return"guarded"}function ey(i){return["disabled"===i.initialNavigation?yd(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const t=(0,a.f3M)($i);return()=>{t.setUpLocationChangeListener()}}},{provide:Qb,useValue:2}]).\u0275providers:[],"enabledBlocking"===i.initialNavigation?yd(2,[{provide:Qb,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:t=>{const e=t.get(ut,Promise.resolve());return()=>e.then(()=>new Promise(n=>{const r=t.get($i),s=t.get(iM);YS(r,()=>{n(!0)}),t.get(tp).afterPreactivation=()=>(n(!0),s.closed?(0,Xt.of)(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const np=new a.OlP("");let Zx;try{Zx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Zx=!1}let fl,sr=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Wf(i){return i===ta}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Zx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(a.Lbi))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const cM=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Xx(){if(fl)return fl;if("object"!=typeof document||!document)return fl=new Set(cM),fl;let i=document.createElement("input");return fl=new Set(cM.filter(t=>(i.setAttribute("type",t),i.type===t))),fl}let ip,mf,Kx;function ff(i){return function jk(){if(null==ip&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ip=!0}))}finally{ip=ip||!1}return ip}()?i:!!i.capture}function $k(){if(null==mf){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return mf=!1,mf;if("scrollBehavior"in document.documentElement.style)mf=!0;else{const i=Element.prototype.scrollTo;mf=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return mf}function ty(){let i=typeof document<"u"&&document?document.activeElement:null;for(;i&&i.shadowRoot;){const t=i.shadowRoot.activeElement;if(t===i)break;i=t}return i}function Nu(i){return i.composedPath?i.composedPath()[0]:i.target}function ny(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function za(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}var _f=W(6321);function dy(i,t=_f.z){return(0,is.e)((e,n)=>{let r=null,s=null,l=null;const u=()=>{if(r){r.unsubscribe(),r=null;const p=s;s=null,n.next(p)}};function f(){const p=l+i,b=t.now();if(b<p)return r=this.schedule(void 0,p-b),void n.add(r);u()}e.subscribe((0,ns.x)(n,p=>{s=p,l=t.now(),r||(r=t.schedule(f,i),n.add(r))},()=>{u(),n.complete()},void 0,()=>{s=r=null}))})}function aw(i){return rr((t,e)=>i<=e)}var uy=W(3997);function Pn(i){return null!=i&&"false"!=`${i}`}function jo(i,t=0){return cw(i)?Number(i):t}function cw(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function y_(i){return Array.isArray(i)?i:[i]}function Gr(i){return null==i?"":"string"==typeof i?i:`${i}px`}function Ha(i){return i instanceof a.SBq?i.nativeElement:i}let TM=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Cd=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({providers:[TM]})}return i})();const DM=new Set;let Sd,_2=(()=>{class i{constructor(e,n){this._platform=e,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):CR}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function v2(i,t){if(!DM.has(i))try{Sd||(Sd=document.createElement("style"),t&&(Sd.nonce=t),Sd.setAttribute("type","text/css"),document.head.appendChild(Sd)),Sd.sheet&&(Sd.sheet.insertRule(`@media ${i} {body{ }}`,0),DM.add(i))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(sr),a.LFG(a.Ojb,8))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function CR(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let SR=(()=>{class i{constructor(e,n){this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new sn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return dw(y_(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=Qh(dw(y_(e)).map(l=>this._registerQuery(l).observable));return s=Og(s.pipe(kr(1)),s.pipe(aw(1),dy(0))),s.pipe((0,gn.U)(l=>{const u={matches:!1,breakpoints:{}};return l.forEach(({matches:f,query:p})=>{u.matches=u.matches||f,u.breakpoints[p]=f}),u}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const n=this._mediaMatcher.matchMedia(e),s={observable:new Gs.y(l=>{const u=f=>this._zone.run(()=>l.next(f));return n.addListener(u),()=>{n.removeListener(u)}}).pipe(pd(n),(0,gn.U)(({matches:l})=>({query:e,matches:l})),bi(this._destroySubject)),mql:n};return this._queries.set(e,s),s}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(_2),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function dw(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function uw(i,t,e){const n=hy(i,t);n.some(r=>r.trim()==e.trim())||(n.push(e.trim()),i.setAttribute(t,n.join(" ")))}function hw(i,t,e){const r=hy(i,t).filter(s=>s!=e.trim());r.length?i.setAttribute(t,r.join(" ")):i.removeAttribute(t)}function hy(i,t){return(i.getAttribute(t)||"").match(/\S+/g)||[]}const IM="cdk-describedby-message",x_="cdk-describedby-host";let fy=0,bf=(()=>{class i{constructor(e,n){this._platform=n,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+fy++,this._document=e,this._id=(0,a.f3M)(a.AFp)+"-"+fy++}describe(e,n,r){if(!this._canBeDescribed(e,n))return;const s=fw(n,r);"string"!=typeof n?(kM(n,this._id),this._messageRegistry.set(s,{messageElement:n,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(n,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,n,r){if(!n||!this._isElementNode(e))return;const s=fw(n,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof n){const l=this._messageRegistry.get(s);l&&0===l.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${x_}="${this._id}"]`);for(let n=0;n<e.length;n++)this._removeCdkDescribedByReferenceIds(e[n]),e[n].removeAttribute(x_);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,n){const r=this._document.createElement("div");kM(r,this._id),r.textContent=e,n&&r.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(fw(e,n),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<n.length;s++)n[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const n=hy(e,"aria-describedby").filter(r=>0!=r.indexOf(IM));e.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(e,n){const r=this._messageRegistry.get(n);uw(e,"aria-describedby",r.messageElement.id),e.setAttribute(x_,this._id),r.referenceCount++}_removeMessageReference(e,n){const r=this._messageRegistry.get(n);r.referenceCount--,hw(e,"aria-describedby",r.messageElement.id),e.removeAttribute(x_)}_isElementDescribedByMessage(e,n){const r=hy(e,"aria-describedby"),s=this._messageRegistry.get(n),l=s&&s.messageElement.id;return!!l&&-1!=r.indexOf(l)}_canBeDescribed(e,n){if(!this._isElementNode(e))return!1;if(n&&"object"==typeof n)return!0;const r=null==n?"":`${n}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(ye),a.LFG(sr))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function fw(i,t){return"string"==typeof i?`${t||""}/${i}`:i}function kM(i,t){i.id||(i.id=`${IM}-${t}-${fy++}`)}class mw{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new sn.x,this._typeaheadSubscription=ps.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new sn.x,this.change=new sn.x,t instanceof a.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,rs.b)(e=>this._pressedLetters.push(e)),dy(t),rr(()=>this._pressedLetters.length>0),(0,gn.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const n=this._getItemsArray();for(let r=1;r<n.length+1;r++){const s=(this._activeItemIndex+r)%n.length,l=n[s];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(s<l?s:l-1,-1);break}return;default:return void((r||za(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t);this._activeItem=e[n]??null,this._activeItemIndex=n}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof a.n_E?this._items.toArray():this._items}}class TR extends mw{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class pw extends mw{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let cp=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function ml(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const n=function gw(i){try{return i.frameElement}catch{return null}}(function kR(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(e));if(n&&(-1===vw(n)||!this.isVisible(n)))return!1;let r=e.nodeName.toLowerCase(),s=vw(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function DR(i){let t=i.nodeName.toLowerCase(),e="input"===t&&i.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,n){return function IR(i){return!function RM(i){return function kc(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function AR(i){let t=i.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(i)||function pl(i){return function Rc(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||_w(i))}(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(sr))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function _w(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let t=i.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function vw(i){if(!_w(i))return null;const t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class RR{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,n,r,s=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return n?.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=0;n<e.length;n++){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=e.length-1;n>=0;n--){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(kr(1)).subscribe(t)}}let w_=(()=>{class i{constructor(e,n,r){this._checker=e,this._ngZone=n,this._document=r}create(e,n=!1){return new RR(e,this._checker,this._ngZone,this._document,n)}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(cp),a.LFG(a.R0b),a.LFG(ye))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function py(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}function lp(i){const t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const NR=new a.OlP("cdk-input-modality-detector-options"),PM={ignoreKeys:[18,17,224,91,16]},yf=ff({passive:!0,capture:!0});let LR=(()=>{class i{get mostRecentModality(){return this._modality.value}constructor(e,n,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Ws.X(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(u=>u===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Nu(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(py(l)?"keyboard":"mouse"),this._mostRecentTarget=Nu(l))},this._onTouchstart=l=>{lp(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Nu(l))},this._options={...PM,...s},this.modalityDetected=this._modality.pipe(aw(1)),this.modalityChanged=this.modalityDetected.pipe((0,uy.x)()),e.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,yf),r.addEventListener("mousedown",this._onMousedown,yf),r.addEventListener("touchstart",this._onTouchstart,yf)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,yf),document.removeEventListener("mousedown",this._onMousedown,yf),document.removeEventListener("touchstart",this._onTouchstart,yf))}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(sr),a.LFG(a.R0b),a.LFG(ye),a.LFG(NR,8))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const FR=new a.OlP("liveAnnouncerElement",{providedIn:"root",factory:function yw(){return null}}),gy=new a.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let OM=0,NM=(()=>{class i{constructor(e,n,r,s){this._ngZone=n,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...n){const r=this._defaultOptions;let s,l;return 1===n.length&&"number"==typeof n[0]?l=n[0]:[s,l]=n,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==l&&r&&(l=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(u=>this._currentResolve=u)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof l&&(this._previousTimeout=setTimeout(()=>this.clear(),l)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<n.length;s++)n[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+OM++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){const s=n[r],l=s.getAttribute("aria-owns");l?-1===l.indexOf(e)&&s.setAttribute("aria-owns",l+" "+e):s.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(FR,8),a.LFG(a.R0b),a.LFG(ye),a.LFG(gy,8))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const LM=new a.OlP("cdk-focus-monitor-default-options"),E_=ff({passive:!0,capture:!0});let gl=(()=>{class i{constructor(e,n,r,s,l){this._ngZone=e,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new sn.x,this._rootNodeFocusAndBlurListener=u=>{for(let p=Nu(u);p;p=p.parentElement)"focus"===u.type?this._onFocus(u,p):this._onBlur(u,p)},this._document=s,this._detectionMode=l?.detectionMode||0}monitor(e,n=!1){const r=Ha(e);if(!this._platform.isBrowser||1!==r.nodeType)return(0,Xt.of)();const s=function qk(i){if(function Yk(){if(null==Kx){const i=typeof document<"u"?document.head:null;Kx=!(!i||!i.createShadowRoot&&!i.attachShadow)}return Kx}()){const t=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return n&&(l.checkChildren=!0),l.subject;const u={checkChildren:n,subject:new sn.x,rootNode:s};return this._elementInfo.set(r,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(e){const n=Ha(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){const s=Ha(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([u,f])=>this._originChanged(u,n,f)):(this._setOrigin(n),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused","touch"===n),e.classList.toggle("cdk-keyboard-focused","keyboard"===n),e.classList.toggle("cdk-mouse-focused","mouse"===n),e.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,n){const r=this._elementInfo.get(n),s=Nu(e);!r||!r.checkChildren&&n!==s||this._originChanged(n,this._getFocusOrigin(s),r)}_onBlur(e,n){const r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,E_),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,E_)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(bi(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,E_),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,E_),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){const n=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&n.push([s,r])}),n}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!n||n===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let l=0;l<s.length;l++)if(s[l].contains(n))return!0;return!1}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(a.R0b),a.LFG(sr),a.LFG(LR),a.LFG(ye,8),a.LFG(LM,8))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const xw="cdk-high-contrast-black-on-white",ww="cdk-high-contrast-white-on-black",Ew="cdk-high-contrast-active";let FM=(()=>{class i{constructor(e,n){this._platform=e,this._document=n,this._breakpointSubscription=(0,a.f3M)(SR).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Ew,xw,ww),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?e.add(Ew,xw):2===n&&e.add(Ew,ww)}}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(sr),a.LFG(ye))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),UM=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(FM))};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({imports:[Cd]})}return i})();const VR=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function zR(){return(0,a.f3M)(ye)}}),HR=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Md=(()=>{class i{constructor(e){this.value="ltr",this.change=new a.vpe,e&&(this.value=function GR(i){const t=i?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?HR.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(VR,8))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),C_=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({})}return i})();const WR=["text"];function jR(i,t){if(1&i&&a._UZ(0,"mat-pseudo-checkbox",6),2&i){const e=a.oxw();a.Q6J("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function $R(i,t){if(1&i&&a._UZ(0,"mat-pseudo-checkbox",7),2&i){const e=a.oxw();a.Q6J("disabled",e.disabled)}}function YR(i,t){if(1&i&&(a.TgZ(0,"span",8),a._uU(1),a.qZA()),2&i){const e=a.oxw();a.xp6(1),a.hij("(",e.group.label,")")}}const VM=[[["mat-icon"]],"*"],zM=["mat-icon","*"];let HM=(()=>{class i{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return i})(),GM=(()=>{class i{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return i})();const jM=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function WM(){return!0}});let hi=(()=>{class i{constructor(e,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!ny()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(FM),a.LFG(jM,8),a.LFG(ye))};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({imports:[C_,C_]})}return i})();function la(i){return class extends i{get disabled(){return this._disabled}set disabled(t){this._disabled=Pn(t)}constructor(...t){super(...t),this._disabled=!1}}}function Sw(i,t){return class extends i{get color(){return this._color}set color(e){const n=e||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function S_(i){return class extends i{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Pn(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function Lu(i,t=0){return class extends i{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?jo(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function ZR(i){return class extends i{updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}function _y(i){return class extends i{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Gs.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}let A_=(()=>{class i{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class QR{constructor(t,e,n,r=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Tw=ff({passive:!0,capture:!0});class ZM{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Nu(t);e&&this._events.get(t.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,n,r){const s=this._events.get(e);if(s){const l=s.get(n);l?l.add(r):s.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Tw)})}removeHandler(t,e,n){const r=this._events.get(t);if(!r)return;const s=r.get(e);s&&(s.delete(n),0===s.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Tw)))}}const Aw={enterDuration:225,exitDuration:150},KM=ff({passive:!0,capture:!0}),QM=["mousedown","touchstart"],JM=["mouseup","mouseleave","touchend","touchcancel"];class Td{static#e=this._eventManager=new ZM;constructor(t,e,n,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ha(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...Aw,...n.animation};n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const l=n.radius||function JR(i,t,e){const n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+r*r)}(t,e,r),u=t-r.left,f=e-r.top,p=s.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=u-l+"px",b.style.top=f-l+"px",b.style.height=2*l+"px",b.style.width=2*l+"px",null!=n.color&&(b.style.backgroundColor=n.color),b.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(b);const y=window.getComputedStyle(b),S=y.transitionDuration,A="none"===y.transitionProperty||"0s"===S||"0s, 0s"===S||0===r.width&&0===r.height,P=new QR(this,b,n,A);b.style.transform="scale3d(1, 1, 1)",P.state=0,n.persistent||(this._mostRecentTransientRipple=P);let I=null;return!A&&(p||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const k=()=>this._finishRippleTransition(P),U=()=>this._destroyRipple(P);b.addEventListener("transitionend",k),b.addEventListener("transitioncancel",U),I={onTransitionEnd:k,onTransitionCancel:U}}),this._activeRipples.set(P,I),(A||!p)&&this._finishRippleTransition(P),P}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,n={...Aw,...t.config.animation};e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ha(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,QM.forEach(n=>{Td._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{JM.forEach(e=>{this._triggerElement.addEventListener(e,this,KM)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=1,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=py(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!lp(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(QM.forEach(e=>Td._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&JM.forEach(e=>t.removeEventListener(e,this,KM)))}}const vy=new a.OlP("mat-ripple-global-options");let up=(()=>{class i{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,n,r,s,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Td(this,n,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,n,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(sr),a.Y36(vy,8),a.Y36(a.QbO,8))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){2&n&&a.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return i})(),Ad=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({imports:[hi,hi]})}return i})(),eT=(()=>{class i{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.QbO,8))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(n,r){2&n&&a.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(n,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return i})(),Dw=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({imports:[hi]})}return i})();const Iw=new a.OlP("MAT_OPTION_PARENT_COMPONENT"),tT=new a.OlP("MatOptgroup");let e1=0;class nT{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let iT=(()=>{class i{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Pn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,n,r,s){this._element=e,this._changeDetectorRef=n,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+e1++,this.onSelectionChange=new a.vpe,this._stateChanges=new sn.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,n){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!za(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new nT(this,e))}static#e=this.\u0275fac=function(n){a.$Z()};static#t=this.\u0275dir=a.lG2({type:i,viewQuery:function(n,r){if(1&n&&a.Gf(WR,7),2&n){let s;a.iGM(s=a.CRH())&&(r._text=s.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return i})(),xy=(()=>{class i extends iT{constructor(e,n,r,s){super(e,n,r,s)}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Iw,8),a.Y36(tT,8))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(n,r){1&n&&a.NdJ("click",function(){return r._selectViaInteraction()})("keydown",function(l){return r._handleKeydown(l)}),2&n&&(a.Ikx("id",r.id),a.uIk("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),a.ekj("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[a.qOj],ngContentSelectors:zM,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(n,r){1&n&&(a.F$t(VM),a.YNc(0,jR,1,2,"mat-pseudo-checkbox",0),a.Hsn(1),a.TgZ(2,"span",1,2),a.Hsn(4,1),a.qZA(),a.YNc(5,$R,1,1,"mat-pseudo-checkbox",3),a.YNc(6,YR,2,1,"span",4),a._UZ(7,"div",5)),2&n&&(a.Q6J("ngIf",r.multiple),a.xp6(5),a.Q6J("ngIf",!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator),a.xp6(1),a.Q6J("ngIf",r.group&&r.group._inert),a.xp6(1),a.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[up,qr,eT],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return i})(),sT=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({imports:[Ad,ai,hi,Dw]})}return i})();const oT={capture:!0},n1=["focus","click","mouseenter","touchstart"],aT="mat-ripple-loader-uninitialized",cT="mat-ripple-loader-class-name",r1="mat-ripple-loader-centered",D_="mat-ripple-loader-disabled";let wy=(()=>{class i{constructor(){this._document=(0,a.f3M)(ye,{optional:!0}),this._animationMode=(0,a.f3M)(a.QbO,{optional:!0}),this._globalRippleOptions=(0,a.f3M)(vy,{optional:!0}),this._platform=(0,a.f3M)(sr),this._ngZone=(0,a.f3M)(a.R0b),this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${aT}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of n1)this._document?.addEventListener(e,this._onInteraction,oT)})}ngOnDestroy(){for(const e of n1)this._document?.removeEventListener(e,this._onInteraction,oT)}configureRipple(e,n){e.setAttribute(aT,""),(n.className||!e.hasAttribute(cT))&&e.setAttribute(cT,n.className||""),n.centered&&e.setAttribute(r1,""),n.disabled&&e.setAttribute(D_,"")}getRipple(e){return e.matRipple?e.matRipple:this.createRipple(e)}setDisabled(e,n){const r=e.matRipple;r?r.disabled=n:n?e.setAttribute(D_,""):e.removeAttribute(D_)}createRipple(e){if(!this._document)return;e.querySelector(".mat-ripple")?.remove();const n=this._document.createElement("span");n.classList.add("mat-ripple",e.getAttribute(cT)),e.append(n);const r=new up(new a.SBq(n),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,r.centered=e.hasAttribute(r1),r.disabled=e.hasAttribute(D_),this.attachRipple(e,r),r}attachRipple(e,n){e.removeAttribute(aT),e.matRipple=n}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const lT=["mat-button",""],dT=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],kw=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],uT=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",N2=["mat-icon-button",""],s1=["*"],k_=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],a1=Sw(la(S_(class{constructor(i){this._elementRef=i}})));let Ey=(()=>{class i extends a1{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Pn(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=Pn(e),this._updateRippleDisabled()}constructor(e,n,r,s){super(e),this._platform=n,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,a.f3M)(gl),this._rippleLoader=(0,a.f3M)(wy),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const l=e.nativeElement.classList;for(const u of k_)this._hasHostAttributes(u.selector)&&u.mdcClasses.forEach(f=>{l.add(f)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_hasHostAttributes(...e){return e.some(n=>this._elementRef.nativeElement.hasAttribute(n))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(n){a.$Z()};static#t=this.\u0275dir=a.lG2({type:i,features:[a.qOj]})}return i})(),d1=(()=>{class i extends Ey{constructor(e,n,r,s){super(e,n,r,s),this._haltDisabledEvents=l=>{this.disabled&&(l.preventDefault(),l.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}static#e=this.\u0275fac=function(n){a.$Z()};static#t=this.\u0275dir=a.lG2({type:i,features:[a.qOj]})}return i})(),xf=(()=>{class i extends Ey{constructor(e,n,r,s){super(e,n,r,s)}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.SBq),a.Y36(sr),a.Y36(a.R0b),a.Y36(a.QbO,8))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(n,r){2&n&&(a.uIk("disabled",r.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:lT,ngContentSelectors:kw,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(a.F$t(dT),a._UZ(0,"span",0),a.Hsn(1),a.TgZ(2,"span",1),a.Hsn(3,1),a.qZA(),a.Hsn(4,2),a._UZ(5,"span",2)(6,"span",3)),2&n&&a.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return i})(),Cy=(()=>{class i extends d1{constructor(e,n,r,s){super(e,n,r,s)}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.SBq),a.Y36(sr),a.Y36(a.R0b),a.Y36(a.QbO,8))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(n,r){2&n&&(a.uIk("disabled",r.disabled||null)("tabindex",r.disabled?-1:r.tabIndex)("aria-disabled",r.disabled.toString()),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[a.qOj],attrs:lT,ngContentSelectors:kw,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(a.F$t(dT),a._UZ(0,"span",0),a.Hsn(1),a.TgZ(2,"span",1),a.Hsn(3,1),a.qZA(),a.Hsn(4,2),a._UZ(5,"span",2)(6,"span",3)),2&n&&a.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',uT],encapsulation:2,changeDetection:0})}return i})(),m1=(()=>{class i extends Ey{constructor(e,n,r,s){super(e,n,r,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.SBq),a.Y36(sr),a.Y36(a.R0b),a.Y36(a.QbO,8))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(n,r){2&n&&(a.uIk("disabled",r.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:N2,ngContentSelectors:s1,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(a.F$t(),a._UZ(0,"span",0),a.Hsn(1),a._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',uT],encapsulation:2,changeDetection:0})}return i})(),Rw=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({imports:[hi,Ad,hi]})}return i})();var Dd=W(5861);const pT=1,y1=2,_l=3,Vw=0,k1=1,R1=2,kd=0,P1=1,O1=2,N1=3,L1=4,F1=5,Vu=301,Pc=302,hp=306,ho=1001,os=1003,as=1006,Oc=1008,Nc=1009,Ga=1014,Rd=1015,L_=1016,zu=1020,ua=1023,wf=1026,Ef=1027,Cf=3001,Wr="srgb",Lc="srgb-linear",zT="display-p3",z_="display-p3-linear",Uy="linear",tr="srgb",Od="rec709",By="p3",Gu=7680,lE="300 es",yl=2e3;class Nd{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const r=this._listeners[t];if(void 0!==r){const s=r.indexOf(e);-1!==s&&r.splice(s,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const n=this._listeners[t.type];if(void 0!==n){t.target=this;const r=n.slice(0);for(let s=0,l=r.length;s<l;s++)r[s].call(this,t);t.target=null}}}const mo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],pp=Math.PI/180,gp=180/Math.PI;function Yo(){const i=4294967295*Math.random()|0,t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(mo[255&i]+mo[i>>8&255]+mo[i>>16&255]+mo[i>>24&255]+"-"+mo[255&t]+mo[t>>8&255]+"-"+mo[t>>16&15|64]+mo[t>>24&255]+"-"+mo[63&e|128]+mo[e>>8&255]+"-"+mo[e>>16&255]+mo[e>>24&255]+mo[255&n]+mo[n>>8&255]+mo[n>>16&255]+mo[n>>24&255]).toLowerCase()}function Rr(i,t,e){return Math.max(t,Math.min(e,i))}function W_(i,t,e){return(1-e)*i+e*t}function hE(i){return 0==(i&i-1)&&0!==i}function Hy(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function qo(i,t){switch(t.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function Qn(i,t){switch(t.constructor){case Float32Array:return i;case Uint32Array:return Math.round(4294967295*i);case Uint16Array:return Math.round(65535*i);case Uint8Array:return Math.round(255*i);case Int32Array:return Math.round(2147483647*i);case Int16Array:return Math.round(32767*i);case Int8Array:return Math.round(127*i);default:throw new Error("Invalid component type.")}}class ht{constructor(t=0,e=0){ht.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(Rr(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),r=Math.sin(e),s=this.x-t.x,l=this.y-t.y;return this.x=s*n-l*r+t.x,this.y=s*r+l*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ii{constructor(t,e,n,r,s,l,u,f,p){ii.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,e,n,r,s,l,u,f,p)}set(t,e,n,r,s,l,u,f,p){const b=this.elements;return b[0]=t,b[1]=r,b[2]=u,b[3]=e,b[4]=s,b[5]=f,b[6]=n,b[7]=l,b[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,s=this.elements,l=n[0],u=n[3],f=n[6],p=n[1],b=n[4],y=n[7],w=n[2],S=n[5],A=n[8],P=r[0],I=r[3],k=r[6],U=r[1],O=r[4],B=r[7],j=r[2],q=r[5],J=r[8];return s[0]=l*P+u*U+f*j,s[3]=l*I+u*O+f*q,s[6]=l*k+u*B+f*J,s[1]=p*P+b*U+y*j,s[4]=p*I+b*O+y*q,s[7]=p*k+b*B+y*J,s[2]=w*P+S*U+A*j,s[5]=w*I+S*O+A*q,s[8]=w*k+S*B+A*J,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],r=t[2],s=t[3],l=t[4],u=t[5],f=t[6],p=t[7],b=t[8];return e*l*b-e*u*p-n*s*b+n*u*f+r*s*p-r*l*f}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],s=t[3],l=t[4],u=t[5],f=t[6],p=t[7],b=t[8],y=b*l-u*p,w=u*f-b*s,S=p*s-l*f,A=e*y+n*w+r*S;if(0===A)return this.set(0,0,0,0,0,0,0,0,0);const P=1/A;return t[0]=y*P,t[1]=(r*p-b*n)*P,t[2]=(u*n-r*l)*P,t[3]=w*P,t[4]=(b*e-r*f)*P,t[5]=(r*s-u*e)*P,t[6]=S*P,t[7]=(n*f-p*e)*P,t[8]=(l*e-n*s)*P,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,r,s,l,u){const f=Math.cos(s),p=Math.sin(s);return this.set(n*f,n*p,-n*(f*l+p*u)+l+t,-r*p,r*f,-r*(-p*l+f*u)+u+e,0,0,1),this}scale(t,e){return this.premultiply($_.makeScale(t,e)),this}rotate(t){return this.premultiply($_.makeRotation(-t)),this}translate(t,e){return this.premultiply($_.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,n,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,n=t.elements;for(let r=0;r<9;r++)if(e[r]!==n[r])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}const $_=new ii;function YT(i){for(let t=i.length-1;t>=0;--t)if(i[t]>=65535)return!0;return!1}function _p(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function l3(){const i=_p("canvas");return i.style.display="block",i}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const Mo={};function vp(i){i in Mo||(Mo[i]=!0,console.warn(i))}const fE=(new ii).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),qT=(new ii).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Y_={[Lc]:{transfer:Uy,primaries:Od,toReference:i=>i,fromReference:i=>i},[Wr]:{transfer:tr,primaries:Od,toReference:i=>i.convertSRGBToLinear(),fromReference:i=>i.convertLinearToSRGB()},[z_]:{transfer:Uy,primaries:By,toReference:i=>i.applyMatrix3(qT),fromReference:i=>i.applyMatrix3(fE)},[zT]:{transfer:tr,primaries:By,toReference:i=>i.convertSRGBToLinear().applyMatrix3(qT),fromReference:i=>i.applyMatrix3(fE).convertLinearToSRGB()}},pP=new Set([Lc,z_]),Ri={enabled:!0,_workingColorSpace:Lc,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(i){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!i},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(i){if(!pP.has(i))throw new Error(`Unsupported working color space, "${i}".`);this._workingColorSpace=i},convert:function(i,t,e){return!1!==this.enabled&&t!==e&&t&&e?(0,Y_[e].fromReference)((0,Y_[t].toReference)(i)):i},fromWorkingColorSpace:function(i,t){return this.convert(i,this._workingColorSpace,t)},toWorkingColorSpace:function(i,t){return this.convert(i,t,this._workingColorSpace)},getPrimaries:function(i){return Y_[i].primaries},getTransfer:function(i){return""===i?Uy:Y_[i].transfer}};function ha(i){return i<.04045?.0773993808*i:Math.pow(.9478672986*i+.0521327014,2.4)}function Gy(i){return i<.0031308?12.92*i:1.055*Math.pow(i,.41666)-.055}let Wu;class Wy{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===Wu&&(Wu=_p("canvas")),Wu.width=t.width,Wu.height=t.height;const n=Wu.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=Wu}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=_p("canvas");e.width=t.width,e.height=t.height;const n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);const r=n.getImageData(0,0,t.width,t.height),s=r.data;for(let l=0;l<s.length;l++)s[l]=255*ha(s[l]/255);return n.putImageData(r,0,0),e}if(t.data){const e=t.data.slice(0);for(let n=0;n<e.length;n++)e[n]=e instanceof Uint8Array||e instanceof Uint8ClampedArray?Math.floor(255*ha(e[n]/255)):ha(e[n]);return{data:e,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let gP=0;class q_{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:gP++}),this.uuid=Yo(),this.data=t,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let s;if(Array.isArray(r)){s=[];for(let l=0,u=r.length;l<u;l++)s.push(jy(r[l].isDataTexture?r[l].image:r[l]))}else s=jy(r);n.url=s}return e||(t.images[this.uuid]=n),n}}function jy(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?Wy.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _P=0,ju=(()=>{class i extends Nd{constructor(e=i.DEFAULT_IMAGE,n=i.DEFAULT_MAPPING,r=ho,s=ho,l=as,u=Oc,f=ua,p=Nc,b=i.DEFAULT_ANISOTROPY,y=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_P++}),this.uuid=Yo(),this.name="",this.source=new q_(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=s,this.magFilter=l,this.minFilter=u,this.anisotropy=b,this.format=f,this.internalFormat=null,this.type=p,this.offset=new ht(0,0),this.repeat=new ht(1,1),this.center=new ht(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ii,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof y?this.colorSpace=y:(vp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=y===Cf?Wr:""),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=void 0===e||"string"==typeof e;if(!n&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case ho:e.x=e.x<0?0:1;break;case 1002:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case ho:e.y=e.y<0?0:1;break;case 1002:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return vp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Wr?Cf:3e3}set encoding(e){vp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Cf?Wr:""}}return i.DEFAULT_IMAGE=null,i.DEFAULT_MAPPING=300,i.DEFAULT_ANISOTROPY=1,i})();class Yi{constructor(t=0,e=0,n=0,r=1){Yi.prototype.isVector4=!0,this.x=t,this.y=e,this.z=n,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,s=this.w,l=t.elements;return this.x=l[0]*e+l[4]*n+l[8]*r+l[12]*s,this.y=l[1]*e+l[5]*n+l[9]*r+l[13]*s,this.z=l[2]*e+l[6]*n+l[10]*r+l[14]*s,this.w=l[3]*e+l[7]*n+l[11]*r+l[15]*s,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,r,s;const f=t.elements,p=f[0],b=f[4],y=f[8],w=f[1],S=f[5],A=f[9],P=f[2],I=f[6],k=f[10];if(Math.abs(b-w)<.01&&Math.abs(y-P)<.01&&Math.abs(A-I)<.01){if(Math.abs(b+w)<.1&&Math.abs(y+P)<.1&&Math.abs(A+I)<.1&&Math.abs(p+S+k-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const O=(p+1)/2,B=(S+1)/2,j=(k+1)/2,q=(b+w)/4,J=(y+P)/4,le=(A+I)/4;return O>B&&O>j?O<.01?(n=0,r=.707106781,s=.707106781):(n=Math.sqrt(O),r=q/n,s=J/n):B>j?B<.01?(n=.707106781,r=0,s=.707106781):(r=Math.sqrt(B),n=q/r,s=le/r):j<.01?(n=.707106781,r=.707106781,s=0):(s=Math.sqrt(j),n=J/s,r=le/s),this.set(n,r,s,e),this}let U=Math.sqrt((I-A)*(I-A)+(y-P)*(y-P)+(w-b)*(w-b));return Math.abs(U)<.001&&(U=1),this.x=(I-A)/U,this.y=(y-P)/U,this.z=(w-b)/U,this.w=Math.acos((p+S+k-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class vP extends Nd{constructor(t=1,e=1,n={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new Yi(0,0,t,e),this.scissorTest=!1,this.viewport=new Yi(0,0,t,e);const r={width:t,height:e,depth:1};void 0!==n.encoding&&(vp("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Cf?Wr:""),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:as,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},n),this.texture=new ju(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps,this.texture.internalFormat=n.internalFormat,this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}setSize(t,e,n=1){(this.width!==t||this.height!==e||this.depth!==n)&&(this.width=t,this.height=e,this.depth=n,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;const e=Object.assign({},t.texture.image);return this.texture.source=new q_(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class $u extends vP{constructor(t=1,e=1,n={}){super(t,e,n),this.isWebGLRenderTarget=!0}}class ZT extends ju{constructor(t=null,e=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:n,depth:r},this.magFilter=os,this.minFilter=os,this.wrapR=ho,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class XT extends ju{constructor(t=null,e=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:n,depth:r},this.magFilter=os,this.minFilter=os,this.wrapR=ho,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class To{constructor(t=0,e=0,n=0,r=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=n,this._w=r}static slerpFlat(t,e,n,r,s,l,u){let f=n[r+0],p=n[r+1],b=n[r+2],y=n[r+3];const w=s[l+0],S=s[l+1],A=s[l+2],P=s[l+3];if(0===u)return t[e+0]=f,t[e+1]=p,t[e+2]=b,void(t[e+3]=y);if(1===u)return t[e+0]=w,t[e+1]=S,t[e+2]=A,void(t[e+3]=P);if(y!==P||f!==w||p!==S||b!==A){let I=1-u;const k=f*w+p*S+b*A+y*P,U=k>=0?1:-1,O=1-k*k;if(O>Number.EPSILON){const j=Math.sqrt(O),q=Math.atan2(j,k*U);I=Math.sin(I*q)/j,u=Math.sin(u*q)/j}const B=u*U;if(f=f*I+w*B,p=p*I+S*B,b=b*I+A*B,y=y*I+P*B,I===1-u){const j=1/Math.sqrt(f*f+p*p+b*b+y*y);f*=j,p*=j,b*=j,y*=j}}t[e]=f,t[e+1]=p,t[e+2]=b,t[e+3]=y}static multiplyQuaternionsFlat(t,e,n,r,s,l){const u=n[r],f=n[r+1],p=n[r+2],b=n[r+3],y=s[l],w=s[l+1],S=s[l+2],A=s[l+3];return t[e]=u*A+b*y+f*S-p*w,t[e+1]=f*A+b*w+p*y-u*S,t[e+2]=p*A+b*S+u*w-f*y,t[e+3]=b*A-u*y-f*w-p*S,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){const n=t._x,r=t._y,s=t._z,l=t._order,u=Math.cos,f=Math.sin,p=u(n/2),b=u(r/2),y=u(s/2),w=f(n/2),S=f(r/2),A=f(s/2);switch(l){case"XYZ":this._x=w*b*y+p*S*A,this._y=p*S*y-w*b*A,this._z=p*b*A+w*S*y,this._w=p*b*y-w*S*A;break;case"YXZ":this._x=w*b*y+p*S*A,this._y=p*S*y-w*b*A,this._z=p*b*A-w*S*y,this._w=p*b*y+w*S*A;break;case"ZXY":this._x=w*b*y-p*S*A,this._y=p*S*y+w*b*A,this._z=p*b*A+w*S*y,this._w=p*b*y-w*S*A;break;case"ZYX":this._x=w*b*y-p*S*A,this._y=p*S*y+w*b*A,this._z=p*b*A-w*S*y,this._w=p*b*y+w*S*A;break;case"YZX":this._x=w*b*y+p*S*A,this._y=p*S*y+w*b*A,this._z=p*b*A-w*S*y,this._w=p*b*y-w*S*A;break;case"XZY":this._x=w*b*y-p*S*A,this._y=p*S*y-w*b*A,this._z=p*b*A+w*S*y,this._w=p*b*y+w*S*A;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],r=e[4],s=e[8],l=e[1],u=e[5],f=e[9],p=e[2],b=e[6],y=e[10],w=n+u+y;if(w>0){const S=.5/Math.sqrt(w+1);this._w=.25/S,this._x=(b-f)*S,this._y=(s-p)*S,this._z=(l-r)*S}else if(n>u&&n>y){const S=2*Math.sqrt(1+n-u-y);this._w=(b-f)/S,this._x=.25*S,this._y=(r+l)/S,this._z=(s+p)/S}else if(u>y){const S=2*Math.sqrt(1+u-n-y);this._w=(s-p)/S,this._x=(r+l)/S,this._y=.25*S,this._z=(f+b)/S}else{const S=2*Math.sqrt(1+y-n-u);this._w=(l-r)/S,this._x=(s+p)/S,this._y=(f+b)/S,this._z=.25*S}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Rr(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const r=Math.min(1,e/n);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,r=t._y,s=t._z,l=t._w,u=e._x,f=e._y,p=e._z,b=e._w;return this._x=n*b+l*u+r*p-s*f,this._y=r*b+l*f+s*u-n*p,this._z=s*b+l*p+n*f-r*u,this._w=l*b-n*u-r*f-s*p,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,r=this._y,s=this._z,l=this._w;let u=l*t._w+n*t._x+r*t._y+s*t._z;if(u<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,u=-u):this.copy(t),u>=1)return this._w=l,this._x=n,this._y=r,this._z=s,this;const f=1-u*u;if(f<=Number.EPSILON){const S=1-e;return this._w=S*l+e*this._w,this._x=S*n+e*this._x,this._y=S*r+e*this._y,this._z=S*s+e*this._z,this.normalize(),this._onChangeCallback(),this}const p=Math.sqrt(f),b=Math.atan2(p,u),y=Math.sin((1-e)*b)/p,w=Math.sin(e*b)/p;return this._w=l*y+this._w*w,this._x=n*y+this._x*w,this._y=r*y+this._y*w,this._z=s*y+this._z*w,this._onChangeCallback(),this}slerpQuaternions(t,e,n){return this.copy(t).slerp(e,n)}random(){const t=Math.random(),e=Math.sqrt(1-t),n=Math.sqrt(t),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(e*Math.cos(r),n*Math.sin(s),n*Math.cos(s),e*Math.sin(r))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ee{constructor(t=0,e=0,n=0){ee.prototype.isVector3=!0,this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(KT.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(KT.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,r=this.z,s=t.elements;return this.x=s[0]*e+s[3]*n+s[6]*r,this.y=s[1]*e+s[4]*n+s[7]*r,this.z=s[2]*e+s[5]*n+s[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,s=t.elements,l=1/(s[3]*e+s[7]*n+s[11]*r+s[15]);return this.x=(s[0]*e+s[4]*n+s[8]*r+s[12])*l,this.y=(s[1]*e+s[5]*n+s[9]*r+s[13])*l,this.z=(s[2]*e+s[6]*n+s[10]*r+s[14])*l,this}applyQuaternion(t){const e=this.x,n=this.y,r=this.z,s=t.x,l=t.y,u=t.z,f=t.w,p=2*(l*r-u*n),b=2*(u*e-s*r),y=2*(s*n-l*e);return this.x=e+f*p+l*y-u*b,this.y=n+f*b+u*p-s*y,this.z=r+f*y+s*b-l*p,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,r=this.z,s=t.elements;return this.x=s[0]*e+s[4]*n+s[8]*r,this.y=s[1]*e+s[5]*n+s[9]*r,this.z=s[2]*e+s[6]*n+s[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,r=t.y,s=t.z,l=e.x,u=e.y,f=e.z;return this.x=r*f-s*u,this.y=s*l-n*f,this.z=n*u-r*l,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return $y.copy(this).projectOnVector(t),this.sub($y)}reflect(t){return this.sub($y.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(Rr(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=2*(Math.random()-.5),e=Math.random()*Math.PI*2,n=Math.sqrt(1-t**2);return this.x=n*Math.cos(e),this.y=n*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const $y=new ee,KT=new To;class xl{constructor(t=new ee(1/0,1/0,1/0),e=new ee(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e+=3)this.expandByPoint(po.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,n=t.count;e<n;e++)this.expandByPoint(po.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=po.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const n=t.geometry;if(void 0!==n){const s=n.getAttribute("position");if(!0===e&&void 0!==s&&!0!==t.isInstancedMesh)for(let l=0,u=s.count;l<u;l++)!0===t.isMesh?t.getVertexPosition(l,po):po.fromBufferAttribute(s,l),po.applyMatrix4(t.matrixWorld),this.expandByPoint(po);else void 0!==t.boundingBox?(null===t.boundingBox&&t.computeBoundingBox(),Mf.copy(t.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),Mf.copy(n.boundingBox)),Mf.applyMatrix4(t.matrixWorld),this.union(Mf)}const r=t.children;for(let s=0,l=r.length;s<l;s++)this.expandByObject(r[s],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,po),po.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Z_),Yy.subVectors(this.max,Z_),Tf.subVectors(t.a,Z_),Af.subVectors(t.b,Z_),bp.subVectors(t.c,Z_),Yu.subVectors(Af,Tf),Df.subVectors(bp,Af),qu.subVectors(Tf,bp);let e=[0,-Yu.z,Yu.y,0,-Df.z,Df.y,0,-qu.z,qu.y,Yu.z,0,-Yu.x,Df.z,0,-Df.x,qu.z,0,-qu.x,-Yu.y,Yu.x,0,-Df.y,Df.x,0,-qu.y,qu.x,0];return!(!QT(e,Tf,Af,bp,Yy)||(e=[1,0,0,0,1,0,0,0,1],!QT(e,Tf,Af,bp,Yy)))&&(mE.crossVectors(Yu,Df),e=[mE.x,mE.y,mE.z],QT(e,Tf,Af,bp,Yy))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,po).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(po).length()),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(wl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),wl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),wl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),wl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),wl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),wl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),wl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),wl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(wl)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const wl=[new ee,new ee,new ee,new ee,new ee,new ee,new ee,new ee],po=new ee,Mf=new xl,Tf=new ee,Af=new ee,bp=new ee,Yu=new ee,Df=new ee,qu=new ee,Z_=new ee,Yy=new ee,mE=new ee,yp=new ee;function QT(i,t,e,n,r){for(let s=0,l=i.length-3;s<=l;s+=3){yp.fromArray(i,s);const u=r.x*Math.abs(yp.x)+r.y*Math.abs(yp.y)+r.z*Math.abs(yp.z),f=t.dot(yp),p=e.dot(yp),b=n.dot(yp);if(Math.max(-Math.max(f,p,b),Math.min(f,p,b))>u)return!1}return!0}const JT=new xl,X_=new ee,pE=new ee;class El{constructor(t=new ee,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):JT.setFromPoints(t).getCenter(n);let r=0;for(let s=0,l=t.length;s<l;s++)r=Math.max(r,n.distanceToSquared(t[s]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;X_.subVectors(t,this.center);const e=X_.lengthSq();if(e>this.radius*this.radius){const n=Math.sqrt(e),r=.5*(n-this.radius);this.center.addScaledVector(X_,r/n),this.radius+=r}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(pE.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(X_.copy(t.center).add(pE)),this.expandByPoint(X_.copy(t.center).sub(pE))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Zu=new ee,eA=new ee,gE=new ee,If=new ee,tA=new ee,qy=new ee,xp=new ee;class K_{constructor(t=new ee,e=new ee(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Zu)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Zu.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Zu.copy(this.origin).addScaledVector(this.direction,e),Zu.distanceToSquared(t))}distanceSqToSegment(t,e,n,r){eA.copy(t).add(e).multiplyScalar(.5),gE.copy(e).sub(t).normalize(),If.copy(this.origin).sub(eA);const s=.5*t.distanceTo(e),l=-this.direction.dot(gE),u=If.dot(this.direction),f=-If.dot(gE),p=If.lengthSq(),b=Math.abs(1-l*l);let y,w,S,A;if(b>0)if(y=l*f-u,w=l*u-f,A=s*b,y>=0)if(w>=-A)if(w<=A){const P=1/b;y*=P,w*=P,S=y*(y+l*w+2*u)+w*(l*y+w+2*f)+p}else w=s,y=Math.max(0,-(l*w+u)),S=-y*y+w*(w+2*f)+p;else w=-s,y=Math.max(0,-(l*w+u)),S=-y*y+w*(w+2*f)+p;else w<=-A?(y=Math.max(0,-(-l*s+u)),w=y>0?-s:Math.min(Math.max(-s,-f),s),S=-y*y+w*(w+2*f)+p):w<=A?(y=0,w=Math.min(Math.max(-s,-f),s),S=w*(w+2*f)+p):(y=Math.max(0,-(l*s+u)),w=y>0?s:Math.min(Math.max(-s,-f),s),S=-y*y+w*(w+2*f)+p);else w=l>0?-s:s,y=Math.max(0,-(l*w+u)),S=-y*y+w*(w+2*f)+p;return n&&n.copy(this.origin).addScaledVector(this.direction,y),r&&r.copy(eA).addScaledVector(gE,w),S}intersectSphere(t,e){Zu.subVectors(t.center,this.origin);const n=Zu.dot(this.direction),r=Zu.dot(Zu)-n*n,s=t.radius*t.radius;if(r>s)return null;const l=Math.sqrt(s-r),u=n-l,f=n+l;return f<0?null:this.at(u<0?f:u,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,r,s,l,u,f;const p=1/this.direction.x,b=1/this.direction.y,y=1/this.direction.z,w=this.origin;return p>=0?(n=(t.min.x-w.x)*p,r=(t.max.x-w.x)*p):(n=(t.max.x-w.x)*p,r=(t.min.x-w.x)*p),b>=0?(s=(t.min.y-w.y)*b,l=(t.max.y-w.y)*b):(s=(t.max.y-w.y)*b,l=(t.min.y-w.y)*b),n>l||s>r||((s>n||isNaN(n))&&(n=s),(l<r||isNaN(r))&&(r=l),y>=0?(u=(t.min.z-w.z)*y,f=(t.max.z-w.z)*y):(u=(t.max.z-w.z)*y,f=(t.min.z-w.z)*y),n>f||u>r)||((u>n||n!=n)&&(n=u),(f<r||r!=r)&&(r=f),r<0)?null:this.at(n>=0?n:r,e)}intersectsBox(t){return null!==this.intersectBox(t,Zu)}intersectTriangle(t,e,n,r,s){tA.subVectors(e,t),qy.subVectors(n,t),xp.crossVectors(tA,qy);let u,l=this.direction.dot(xp);if(l>0){if(r)return null;u=1}else{if(!(l<0))return null;u=-1,l=-l}If.subVectors(this.origin,t);const f=u*this.direction.dot(qy.crossVectors(If,qy));if(f<0)return null;const p=u*this.direction.dot(tA.cross(If));if(p<0||f+p>l)return null;const b=-u*If.dot(xp);return b<0?null:this.at(b/l,s)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Xn{constructor(t,e,n,r,s,l,u,f,p,b,y,w,S,A,P,I){Xn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,e,n,r,s,l,u,f,p,b,y,w,S,A,P,I)}set(t,e,n,r,s,l,u,f,p,b,y,w,S,A,P,I){const k=this.elements;return k[0]=t,k[4]=e,k[8]=n,k[12]=r,k[1]=s,k[5]=l,k[9]=u,k[13]=f,k[2]=p,k[6]=b,k[10]=y,k[14]=w,k[3]=S,k[7]=A,k[11]=P,k[15]=I,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Xn).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,r=1/kf.setFromMatrixColumn(t,0).length(),s=1/kf.setFromMatrixColumn(t,1).length(),l=1/kf.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*s,e[5]=n[5]*s,e[6]=n[6]*s,e[7]=0,e[8]=n[8]*l,e[9]=n[9]*l,e[10]=n[10]*l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,n=t.x,r=t.y,s=t.z,l=Math.cos(n),u=Math.sin(n),f=Math.cos(r),p=Math.sin(r),b=Math.cos(s),y=Math.sin(s);if("XYZ"===t.order){const w=l*b,S=l*y,A=u*b,P=u*y;e[0]=f*b,e[4]=-f*y,e[8]=p,e[1]=S+A*p,e[5]=w-P*p,e[9]=-u*f,e[2]=P-w*p,e[6]=A+S*p,e[10]=l*f}else if("YXZ"===t.order){const w=f*b,S=f*y,A=p*b,P=p*y;e[0]=w+P*u,e[4]=A*u-S,e[8]=l*p,e[1]=l*y,e[5]=l*b,e[9]=-u,e[2]=S*u-A,e[6]=P+w*u,e[10]=l*f}else if("ZXY"===t.order){const w=f*b,S=f*y,A=p*b,P=p*y;e[0]=w-P*u,e[4]=-l*y,e[8]=A+S*u,e[1]=S+A*u,e[5]=l*b,e[9]=P-w*u,e[2]=-l*p,e[6]=u,e[10]=l*f}else if("ZYX"===t.order){const w=l*b,S=l*y,A=u*b,P=u*y;e[0]=f*b,e[4]=A*p-S,e[8]=w*p+P,e[1]=f*y,e[5]=P*p+w,e[9]=S*p-A,e[2]=-p,e[6]=u*f,e[10]=l*f}else if("YZX"===t.order){const w=l*f,S=l*p,A=u*f,P=u*p;e[0]=f*b,e[4]=P-w*y,e[8]=A*y+S,e[1]=y,e[5]=l*b,e[9]=-u*b,e[2]=-p*b,e[6]=S*y+A,e[10]=w-P*y}else if("XZY"===t.order){const w=l*f,S=l*p,A=u*f,P=u*p;e[0]=f*b,e[4]=-y,e[8]=p*b,e[1]=w*y+P,e[5]=l*b,e[9]=S*y-A,e[2]=A*y-S,e[6]=u*b,e[10]=P*y+w}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(nA,t,_E)}lookAt(t,e,n){const r=this.elements;return Ao.subVectors(t,e),0===Ao.lengthSq()&&(Ao.z=1),Ao.normalize(),Cl.crossVectors(n,Ao),0===Cl.lengthSq()&&(1===Math.abs(n.z)?Ao.x+=1e-4:Ao.z+=1e-4,Ao.normalize(),Cl.crossVectors(n,Ao)),Cl.normalize(),Zy.crossVectors(Ao,Cl),r[0]=Cl.x,r[4]=Zy.x,r[8]=Ao.x,r[1]=Cl.y,r[5]=Zy.y,r[9]=Ao.y,r[2]=Cl.z,r[6]=Zy.z,r[10]=Ao.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,s=this.elements,l=n[0],u=n[4],f=n[8],p=n[12],b=n[1],y=n[5],w=n[9],S=n[13],A=n[2],P=n[6],I=n[10],k=n[14],U=n[3],O=n[7],B=n[11],j=n[15],q=r[0],J=r[4],le=r[8],H=r[12],K=r[1],ke=r[5],nt=r[9],ft=r[13],he=r[2],Ve=r[6],xe=r[10],Ce=r[14],ze=r[3],Ue=r[7],rt=r[11],me=r[15];return s[0]=l*q+u*K+f*he+p*ze,s[4]=l*J+u*ke+f*Ve+p*Ue,s[8]=l*le+u*nt+f*xe+p*rt,s[12]=l*H+u*ft+f*Ce+p*me,s[1]=b*q+y*K+w*he+S*ze,s[5]=b*J+y*ke+w*Ve+S*Ue,s[9]=b*le+y*nt+w*xe+S*rt,s[13]=b*H+y*ft+w*Ce+S*me,s[2]=A*q+P*K+I*he+k*ze,s[6]=A*J+P*ke+I*Ve+k*Ue,s[10]=A*le+P*nt+I*xe+k*rt,s[14]=A*H+P*ft+I*Ce+k*me,s[3]=U*q+O*K+B*he+j*ze,s[7]=U*J+O*ke+B*Ve+j*Ue,s[11]=U*le+O*nt+B*xe+j*rt,s[15]=U*H+O*ft+B*Ce+j*me,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],r=t[8],s=t[12],l=t[1],u=t[5],f=t[9],p=t[13],b=t[2],y=t[6],w=t[10],S=t[14];return t[3]*(+s*f*y-r*p*y-s*u*w+n*p*w+r*u*S-n*f*S)+t[7]*(+e*f*S-e*p*w+s*l*w-r*l*S+r*p*b-s*f*b)+t[11]*(+e*p*y-e*u*S-s*l*y+n*l*S+s*u*b-n*p*b)+t[15]*(-r*u*b-e*f*y+e*u*w+r*l*y-n*l*w+n*f*b)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],s=t[3],l=t[4],u=t[5],f=t[6],p=t[7],b=t[8],y=t[9],w=t[10],S=t[11],A=t[12],P=t[13],I=t[14],k=t[15],U=y*I*p-P*w*p+P*f*S-u*I*S-y*f*k+u*w*k,O=A*w*p-b*I*p-A*f*S+l*I*S+b*f*k-l*w*k,B=b*P*p-A*y*p+A*u*S-l*P*S-b*u*k+l*y*k,j=A*y*f-b*P*f-A*u*w+l*P*w+b*u*I-l*y*I,q=e*U+n*O+r*B+s*j;if(0===q)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const J=1/q;return t[0]=U*J,t[1]=(P*w*s-y*I*s-P*r*S+n*I*S+y*r*k-n*w*k)*J,t[2]=(u*I*s-P*f*s+P*r*p-n*I*p-u*r*k+n*f*k)*J,t[3]=(y*f*s-u*w*s-y*r*p+n*w*p+u*r*S-n*f*S)*J,t[4]=O*J,t[5]=(b*I*s-A*w*s+A*r*S-e*I*S-b*r*k+e*w*k)*J,t[6]=(A*f*s-l*I*s-A*r*p+e*I*p+l*r*k-e*f*k)*J,t[7]=(l*w*s-b*f*s+b*r*p-e*w*p-l*r*S+e*f*S)*J,t[8]=B*J,t[9]=(A*y*s-b*P*s-A*n*S+e*P*S+b*n*k-e*y*k)*J,t[10]=(l*P*s-A*u*s+A*n*p-e*P*p-l*n*k+e*u*k)*J,t[11]=(b*u*s-l*y*s-b*n*p+e*y*p+l*n*S-e*u*S)*J,t[12]=j*J,t[13]=(b*P*r-A*y*r+A*n*w-e*P*w-b*n*I+e*y*I)*J,t[14]=(A*u*r-l*P*r-A*n*f+e*P*f+l*n*I-e*u*I)*J,t[15]=(l*y*r-b*u*r+b*n*f-e*y*f-l*n*w+e*u*w)*J,this}scale(t){const e=this.elements,n=t.x,r=t.y,s=t.z;return e[0]*=n,e[4]*=r,e[8]*=s,e[1]*=n,e[5]*=r,e[9]*=s,e[2]*=n,e[6]*=r,e[10]*=s,e[3]*=n,e[7]*=r,e[11]*=s,this}getMaxScaleOnAxis(){const t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))}makeTranslation(t,e,n){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),r=Math.sin(e),s=1-n,l=t.x,u=t.y,f=t.z,p=s*l,b=s*u;return this.set(p*l+n,p*u-r*f,p*f+r*u,0,p*u+r*f,b*u+n,b*f-r*l,0,p*f-r*u,b*f+r*l,s*f*f+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,r,s,l){return this.set(1,n,s,0,t,1,l,0,e,r,1,0,0,0,0,1),this}compose(t,e,n){const r=this.elements,s=e._x,l=e._y,u=e._z,f=e._w,p=s+s,b=l+l,y=u+u,w=s*p,S=s*b,A=s*y,P=l*b,I=l*y,k=u*y,U=f*p,O=f*b,B=f*y,j=n.x,q=n.y,J=n.z;return r[0]=(1-(P+k))*j,r[1]=(S+B)*j,r[2]=(A-O)*j,r[3]=0,r[4]=(S-B)*q,r[5]=(1-(w+k))*q,r[6]=(I+U)*q,r[7]=0,r[8]=(A+O)*J,r[9]=(I-U)*J,r[10]=(1-(w+P))*J,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,n){const r=this.elements;let s=kf.set(r[0],r[1],r[2]).length();const l=kf.set(r[4],r[5],r[6]).length(),u=kf.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),t.x=r[12],t.y=r[13],t.z=r[14],$s.copy(this);const p=1/s,b=1/l,y=1/u;return $s.elements[0]*=p,$s.elements[1]*=p,$s.elements[2]*=p,$s.elements[4]*=b,$s.elements[5]*=b,$s.elements[6]*=b,$s.elements[8]*=y,$s.elements[9]*=y,$s.elements[10]*=y,e.setFromRotationMatrix($s),n.x=s,n.y=l,n.z=u,this}makePerspective(t,e,n,r,s,l,u=yl){const f=this.elements,p=2*s/(e-t),b=2*s/(n-r),y=(e+t)/(e-t),w=(n+r)/(n-r);let S,A;if(u===yl)S=-(l+s)/(l-s),A=-2*l*s/(l-s);else{if(2001!==u)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);S=-l/(l-s),A=-l*s/(l-s)}return f[0]=p,f[4]=0,f[8]=y,f[12]=0,f[1]=0,f[5]=b,f[9]=w,f[13]=0,f[2]=0,f[6]=0,f[10]=S,f[14]=A,f[3]=0,f[7]=0,f[11]=-1,f[15]=0,this}makeOrthographic(t,e,n,r,s,l,u=yl){const f=this.elements,p=1/(e-t),b=1/(n-r),y=1/(l-s),w=(e+t)*p,S=(n+r)*b;let A,P;if(u===yl)A=(l+s)*y,P=-2*y;else{if(2001!==u)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);A=s*y,P=-1*y}return f[0]=2*p,f[4]=0,f[8]=0,f[12]=-w,f[1]=0,f[5]=2*b,f[9]=0,f[13]=-S,f[2]=0,f[6]=0,f[10]=P,f[14]=-A,f[3]=0,f[7]=0,f[11]=0,f[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}const kf=new ee,$s=new Xn,nA=new ee(0,0,0),_E=new ee(1,1,1),Cl=new ee,Zy=new ee,Ao=new ee,Xy=new Xn,Q_=new To;let d3=(()=>{class i{constructor(e=0,n=0,r=0,s=i.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,s=this._order){return this._x=e,this._y=n,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const s=e.elements,l=s[0],u=s[4],f=s[8],p=s[1],b=s[5],y=s[9],w=s[2],S=s[6],A=s[10];switch(n){case"XYZ":this._y=Math.asin(Rr(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-y,A),this._z=Math.atan2(-u,l)):(this._x=Math.atan2(S,b),this._z=0);break;case"YXZ":this._x=Math.asin(-Rr(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(f,A),this._z=Math.atan2(p,b)):(this._y=Math.atan2(-w,l),this._z=0);break;case"ZXY":this._x=Math.asin(Rr(S,-1,1)),Math.abs(S)<.9999999?(this._y=Math.atan2(-w,A),this._z=Math.atan2(-u,b)):(this._y=0,this._z=Math.atan2(p,l));break;case"ZYX":this._y=Math.asin(-Rr(w,-1,1)),Math.abs(w)<.9999999?(this._x=Math.atan2(S,A),this._z=Math.atan2(p,l)):(this._x=0,this._z=Math.atan2(-u,b));break;case"YZX":this._z=Math.asin(Rr(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(-y,b),this._y=Math.atan2(-w,l)):(this._x=0,this._y=Math.atan2(f,A));break;case"XZY":this._z=Math.asin(-Rr(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(S,b),this._y=Math.atan2(f,l)):(this._x=Math.atan2(-y,A),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,!0===r&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return Xy.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Xy,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return Q_.setFromEuler(this),this.setFromQuaternion(Q_,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return i.DEFAULT_ORDER="XYZ",i})();class iA{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}isEnabled(t){return 0!=(this.mask&(1<<t|0))}}let u3=0;const vE=new ee,wp=new To,Ld=new Xn,Ky=new ee,J_=new ee,rA=new ee,sA=new To,bE=new ee(1,0,0),oA=new ee(0,1,0),aA=new ee(0,0,1),cA={type:"added"},yE={type:"removed"};let ja=(()=>{class i extends Nd{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:u3++}),this.uuid=Yo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=i.DEFAULT_UP.clone();const e=new ee,n=new d3,r=new To,s=new ee(1,1,1);n._onChange(function l(){r.setFromEuler(n,!1)}),r._onChange(function u(){n.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Xn},normalMatrix:{value:new ii}}),this.matrix=new Xn,this.matrixWorld=new Xn,this.matrixAutoUpdate=i.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=i.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new iA,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return wp.setFromAxisAngle(e,n),this.quaternion.multiply(wp),this}rotateOnWorldAxis(e,n){return wp.setFromAxisAngle(e,n),this.quaternion.premultiply(wp),this}rotateX(e){return this.rotateOnAxis(bE,e)}rotateY(e){return this.rotateOnAxis(oA,e)}rotateZ(e){return this.rotateOnAxis(aA,e)}translateOnAxis(e,n){return vE.copy(e).applyQuaternion(this.quaternion),this.position.add(vE.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(bE,e)}translateY(e){return this.translateOnAxis(oA,e)}translateZ(e){return this.translateOnAxis(aA,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ld.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Ky.copy(e):Ky.set(e,n,r);const s=this.parent;this.updateWorldMatrix(!0,!1),J_.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ld.lookAt(J_,Ky,this.up):Ld.lookAt(Ky,J_,this.up),this.quaternion.setFromRotationMatrix(Ld),s&&(Ld.extractRotation(s.matrixWorld),wp.setFromRotationMatrix(Ld),this.quaternion.premultiply(wp.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(cA)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(yE)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ld.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Ld.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ld),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,s=this.children.length;r<s;r++){const u=this.children[r].getObjectByProperty(e,n);if(void 0!==u)return u}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let s=0,l=this.children.length;s<l;s++){const u=this.children[s].getObjectsByProperty(e,n);u.length>0&&(r=r.concat(u))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(J_,e,rA),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(J_,sA,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,s=n.length;r<s;r++)n[r].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const n=this.children;for(let r=0,s=n.length;r<s;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;null!==n&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,s=n.length;r<s;r++){const l=n[r];(!0===l.matrixWorldAutoUpdate||!0===e)&&l.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(!0===e&&null!==r&&!0===r.matrixWorldAutoUpdate&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===n){const s=this.children;for(let l=0,u=s.length;l<u;l++){const f=s[l];!0===f.matrixWorldAutoUpdate&&f.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=void 0===e||"string"==typeof e,r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};function l(f,p){return void 0===f[p.uuid]&&(f[p.uuid]=p.toJSON(e)),p.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=l(e.geometries,this.geometry);const f=this.geometry.parameters;if(void 0!==f&&void 0!==f.shapes){const p=f.shapes;if(Array.isArray(p))for(let b=0,y=p.length;b<y;b++)l(e.shapes,p[b]);else l(e.shapes,p)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(l(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const f=[];for(let p=0,b=this.material.length;p<b;p++)f.push(l(e.materials,this.material[p]));s.material=f}else s.material=l(e.materials,this.material);if(this.children.length>0){s.children=[];for(let f=0;f<this.children.length;f++)s.children.push(this.children[f].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let f=0;f<this.animations.length;f++)s.animations.push(l(e.animations,this.animations[f]))}if(n){const f=u(e.geometries),p=u(e.materials),b=u(e.textures),y=u(e.images),w=u(e.shapes),S=u(e.skeletons),A=u(e.animations),P=u(e.nodes);f.length>0&&(r.geometries=f),p.length>0&&(r.materials=p),b.length>0&&(r.textures=b),y.length>0&&(r.images=y),w.length>0&&(r.shapes=w),S.length>0&&(r.skeletons=S),A.length>0&&(r.animations=A),P.length>0&&(r.nodes=P)}return r.object=s,r;function u(f){const p=[];for(const b in f){const y=f[b];delete y.metadata,p.push(y)}return p}}clone(e){return(new this.constructor).copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===n)for(let r=0;r<e.children.length;r++)this.add(e.children[r].clone());return this}}return i.DEFAULT_UP=new ee(0,1,0),i.DEFAULT_MATRIX_AUTO_UPDATE=!0,i.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,i})();const $a=new ee,Fc=new ee,xE=new ee,Fd=new ee,ev=new ee,tv=new ee,lA=new ee,wE=new ee,EE=new ee,CE=new ee;let nv=!1;class Zo{constructor(t=new ee,e=new ee,n=new ee){this.a=t,this.b=e,this.c=n}static getNormal(t,e,n,r){r.subVectors(n,e),$a.subVectors(t,e),r.cross($a);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(t,e,n,r,s){$a.subVectors(r,e),Fc.subVectors(n,e),xE.subVectors(t,e);const l=$a.dot($a),u=$a.dot(Fc),f=$a.dot(xE),p=Fc.dot(Fc),b=Fc.dot(xE),y=l*p-u*u;if(0===y)return s.set(-2,-1,-1);const w=1/y,S=(p*f-u*b)*w,A=(l*b-u*f)*w;return s.set(1-S-A,A,S)}static containsPoint(t,e,n,r){return this.getBarycoord(t,e,n,r,Fd),Fd.x>=0&&Fd.y>=0&&Fd.x+Fd.y<=1}static getUV(t,e,n,r,s,l,u,f){return!1===nv&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),nv=!0),this.getInterpolation(t,e,n,r,s,l,u,f)}static getInterpolation(t,e,n,r,s,l,u,f){return this.getBarycoord(t,e,n,r,Fd),f.setScalar(0),f.addScaledVector(s,Fd.x),f.addScaledVector(l,Fd.y),f.addScaledVector(u,Fd.z),f}static isFrontFacing(t,e,n,r){return $a.subVectors(n,e),Fc.subVectors(t,e),$a.cross(Fc).dot(r)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,e,n,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,r),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return $a.subVectors(this.c,this.b),Fc.subVectors(this.a,this.b),.5*$a.cross(Fc).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Zo.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Zo.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,n,r,s){return!1===nv&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),nv=!0),Zo.getInterpolation(t,this.a,this.b,this.c,e,n,r,s)}getInterpolation(t,e,n,r,s){return Zo.getInterpolation(t,this.a,this.b,this.c,e,n,r,s)}containsPoint(t){return Zo.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Zo.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const n=this.a,r=this.b,s=this.c;let l,u;ev.subVectors(r,n),tv.subVectors(s,n),wE.subVectors(t,n);const f=ev.dot(wE),p=tv.dot(wE);if(f<=0&&p<=0)return e.copy(n);EE.subVectors(t,r);const b=ev.dot(EE),y=tv.dot(EE);if(b>=0&&y<=b)return e.copy(r);const w=f*y-b*p;if(w<=0&&f>=0&&b<=0)return l=f/(f-b),e.copy(n).addScaledVector(ev,l);CE.subVectors(t,s);const S=ev.dot(CE),A=tv.dot(CE);if(A>=0&&S<=A)return e.copy(s);const P=S*p-f*A;if(P<=0&&p>=0&&A<=0)return u=p/(p-A),e.copy(n).addScaledVector(tv,u);const I=b*A-S*y;if(I<=0&&y-b>=0&&S-A>=0)return lA.subVectors(s,r),u=(y-b)/(y-b+(S-A)),e.copy(r).addScaledVector(lA,u);const k=1/(I+P+w);return l=P*k,u=w*k,e.copy(n).addScaledVector(ev,l).addScaledVector(tv,u)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const dA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ud={h:0,s:0,l:0},iv={h:0,s:0,l:0};function uA(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+6*(t-i)*e:e<.5?t:e<2/3?i+6*(t-i)*(2/3-e):i}class Kt{constructor(t,e,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,n)}set(t,e,n){if(void 0===e&&void 0===n){const r=t;r&&r.isColor?this.copy(r):"number"==typeof r?this.setHex(r):"string"==typeof r&&this.setStyle(r)}else this.setRGB(t,e,n);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=Wr){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,Ri.toWorkingColorSpace(this,e),this}setRGB(t,e,n,r=Ri.workingColorSpace){return this.r=t,this.g=e,this.b=n,Ri.toWorkingColorSpace(this,r),this}setHSL(t,e,n,r=Ri.workingColorSpace){if(t=function dE(i,t){return(i%t+t)%t}(t,1),e=Rr(e,0,1),n=Rr(n,0,1),0===e)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+e):n+e-n*e,l=2*n-s;this.r=uA(l,s,t+1/3),this.g=uA(l,s,t),this.b=uA(l,s,t-1/3)}return Ri.toWorkingColorSpace(this,r),this}setStyle(t,e=Wr){function n(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(t)){let s;const u=r[2];switch(r[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,e);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,e);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){const s=r[1],l=s.length;if(3===l)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,e);if(6===l)return this.setHex(parseInt(s,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=Wr){const n=dA[t.toLowerCase()];return void 0!==n?this.setHex(n,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=ha(t.r),this.g=ha(t.g),this.b=ha(t.b),this}copyLinearToSRGB(t){return this.r=Gy(t.r),this.g=Gy(t.g),this.b=Gy(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Wr){return Ri.fromWorkingColorSpace(Is.copy(this),t),65536*Math.round(Rr(255*Is.r,0,255))+256*Math.round(Rr(255*Is.g,0,255))+Math.round(Rr(255*Is.b,0,255))}getHexString(t=Wr){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Ri.workingColorSpace){Ri.fromWorkingColorSpace(Is.copy(this),e);const n=Is.r,r=Is.g,s=Is.b,l=Math.max(n,r,s),u=Math.min(n,r,s);let f,p;const b=(u+l)/2;if(u===l)f=0,p=0;else{const y=l-u;switch(p=b<=.5?y/(l+u):y/(2-l-u),l){case n:f=(r-s)/y+(r<s?6:0);break;case r:f=(s-n)/y+2;break;case s:f=(n-r)/y+4}f/=6}return t.h=f,t.s=p,t.l=b,t}getRGB(t,e=Ri.workingColorSpace){return Ri.fromWorkingColorSpace(Is.copy(this),e),t.r=Is.r,t.g=Is.g,t.b=Is.b,t}getStyle(t=Wr){Ri.fromWorkingColorSpace(Is.copy(this),t);const e=Is.r,n=Is.g,r=Is.b;return t!==Wr?`color(${t} ${e.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*e)},${Math.round(255*n)},${Math.round(255*r)})`}offsetHSL(t,e,n){return this.getHSL(Ud),this.setHSL(Ud.h+t,Ud.s+e,Ud.l+n)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}lerpHSL(t,e){this.getHSL(Ud),t.getHSL(iv);const n=W_(Ud.h,iv.h,e),r=W_(Ud.s,iv.s,e),s=W_(Ud.l,iv.l,e);return this.setHSL(n,r,s),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,n=this.g,r=this.b,s=t.elements;return this.r=s[0]*e+s[3]*n+s[6]*r,this.g=s[1]*e+s[4]*n+s[7]*r,this.b=s[2]*e+s[5]*n+s[8]*r,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Is=new Kt;Kt.NAMES=dA;let hA=0;class Rf extends Nd{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:hA++}),this.uuid=Yo(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Kt(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Gu,this.stencilZFail=Gu,this.stencilZPass=Gu,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=n:console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`)}}toJSON(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(s){const l=[];for(const u in s){const f=s[u];delete f.metadata,l.push(f)}return l}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),204!==this.blendSrc&&(n.blendSrc=this.blendSrc),205!==this.blendDst&&(n.blendDst=this.blendDst),100!==this.blendEquation&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Gu&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Gu&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Gu&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),e){const s=r(t.textures),l=r(t.images);s.length>0&&(n.textures=s),l.length>0&&(n.images=l)}return n}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const r=e.length;n=new Array(r);for(let s=0;s!==r;++s)n[s]=e[s].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}}class Xu extends Rf{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Kt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Vw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const gs=new ee,Qy=new ht;class Ys{constructor(t,e,n=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=n,this.usage=35044,this.updateRange={offset:0,count:-1},this.gpuType=Rd,this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[t+r]=e.array[n+r];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)Qy.fromBufferAttribute(this,e),Qy.applyMatrix3(t),this.setXY(e,Qy.x,Qy.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)gs.fromBufferAttribute(this,e),gs.applyMatrix3(t),this.setXYZ(e,gs.x,gs.y,gs.z);return this}applyMatrix4(t){for(let e=0,n=this.count;e<n;e++)gs.fromBufferAttribute(this,e),gs.applyMatrix4(t),this.setXYZ(e,gs.x,gs.y,gs.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)gs.fromBufferAttribute(this,e),gs.applyNormalMatrix(t),this.setXYZ(e,gs.x,gs.y,gs.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)gs.fromBufferAttribute(this,e),gs.transformDirection(t),this.setXYZ(e,gs.x,gs.y,gs.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let n=this.array[t*this.itemSize+e];return this.normalized&&(n=qo(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=Qn(n,this.array)),this.array[t*this.itemSize+e]=n,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=qo(e,this.array)),e}setX(t,e){return this.normalized&&(e=Qn(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=qo(e,this.array)),e}setY(t,e){return this.normalized&&(e=Qn(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=qo(e,this.array)),e}setZ(t,e){return this.normalized&&(e=Qn(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=qo(e,this.array)),e}setW(t,e){return this.normalized&&(e=Qn(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return t*=this.itemSize,this.normalized&&(e=Qn(e,this.array),n=Qn(n,this.array)),this.array[t+0]=e,this.array[t+1]=n,this}setXYZ(t,e,n,r){return t*=this.itemSize,this.normalized&&(e=Qn(e,this.array),n=Qn(n,this.array),r=Qn(r,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this}setXYZW(t,e,n,r,s){return t*=this.itemSize,this.normalized&&(e=Qn(e,this.array),n=Qn(n,this.array),r=Qn(r,this.array),s=Qn(s,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=s,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),35044!==this.usage&&(t.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(t.updateRange=this.updateRange),t}}class fA extends Ys{constructor(t,e,n){super(new Uint16Array(t),e,n)}}class EP extends Ys{constructor(t,e,n){super(new Uint32Array(t),e,n)}}class dn extends Ys{constructor(t,e,n){super(new Float32Array(t),e,n)}}let CP=0;const Uc=new Xn,mA=new ja,rv=new ee,qa=new xl,Jy=new xl,ks=new ee;class gi extends Nd{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:CP++}),this.uuid=Yo(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return this.index=Array.isArray(t)?new(YT(t)?EP:fA)(t,1):t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const s=(new ii).getNormalMatrix(t);n.applyNormalMatrix(s),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return Uc.makeRotationFromQuaternion(t),this.applyMatrix4(Uc),this}rotateX(t){return Uc.makeRotationX(t),this.applyMatrix4(Uc),this}rotateY(t){return Uc.makeRotationY(t),this.applyMatrix4(Uc),this}rotateZ(t){return Uc.makeRotationZ(t),this.applyMatrix4(Uc),this}translate(t,e,n){return Uc.makeTranslation(t,e,n),this.applyMatrix4(Uc),this}scale(t,e,n){return Uc.makeScale(t,e,n),this.applyMatrix4(Uc),this}lookAt(t){return mA.lookAt(t),mA.updateMatrix(),this.applyMatrix4(mA.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(rv).negate(),this.translate(rv.x,rv.y,rv.z),this}setFromPoints(t){const e=[];for(let n=0,r=t.length;n<r;n++){const s=t[n];e.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new dn(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new xl);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new ee(-1/0,-1/0,-1/0),new ee(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let n=0,r=e.length;n<r;n++)qa.setFromBufferAttribute(e[n]),this.morphTargetsRelative?(ks.addVectors(this.boundingBox.min,qa.min),this.boundingBox.expandByPoint(ks),ks.addVectors(this.boundingBox.max,qa.max),this.boundingBox.expandByPoint(ks)):(this.boundingBox.expandByPoint(qa.min),this.boundingBox.expandByPoint(qa.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new El);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new ee,1/0);if(t){const n=this.boundingSphere.center;if(qa.setFromBufferAttribute(t),e)for(let s=0,l=e.length;s<l;s++)Jy.setFromBufferAttribute(e[s]),this.morphTargetsRelative?(ks.addVectors(qa.min,Jy.min),qa.expandByPoint(ks),ks.addVectors(qa.max,Jy.max),qa.expandByPoint(ks)):(qa.expandByPoint(Jy.min),qa.expandByPoint(Jy.max));qa.getCenter(n);let r=0;for(let s=0,l=t.count;s<l;s++)ks.fromBufferAttribute(t,s),r=Math.max(r,n.distanceToSquared(ks));if(e)for(let s=0,l=e.length;s<l;s++){const u=e[s],f=this.morphTargetsRelative;for(let p=0,b=u.count;p<b;p++)ks.fromBufferAttribute(u,p),f&&(rv.fromBufferAttribute(t,p),ks.add(rv)),r=Math.max(r,n.distanceToSquared(ks))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.array,r=e.position.array,s=e.normal.array,l=e.uv.array,u=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Ys(new Float32Array(4*u),4));const f=this.getAttribute("tangent").array,p=[],b=[];for(let K=0;K<u;K++)p[K]=new ee,b[K]=new ee;const y=new ee,w=new ee,S=new ee,A=new ht,P=new ht,I=new ht,k=new ee,U=new ee;function O(K,ke,nt){y.fromArray(r,3*K),w.fromArray(r,3*ke),S.fromArray(r,3*nt),A.fromArray(l,2*K),P.fromArray(l,2*ke),I.fromArray(l,2*nt),w.sub(y),S.sub(y),P.sub(A),I.sub(A);const ft=1/(P.x*I.y-I.x*P.y);isFinite(ft)&&(k.copy(w).multiplyScalar(I.y).addScaledVector(S,-P.y).multiplyScalar(ft),U.copy(S).multiplyScalar(P.x).addScaledVector(w,-I.x).multiplyScalar(ft),p[K].add(k),p[ke].add(k),p[nt].add(k),b[K].add(U),b[ke].add(U),b[nt].add(U))}let B=this.groups;0===B.length&&(B=[{start:0,count:n.length}]);for(let K=0,ke=B.length;K<ke;++K){const nt=B[K],ft=nt.start;for(let Ve=ft,xe=ft+nt.count;Ve<xe;Ve+=3)O(n[Ve+0],n[Ve+1],n[Ve+2])}const j=new ee,q=new ee,J=new ee,le=new ee;function H(K){J.fromArray(s,3*K),le.copy(J);const ke=p[K];j.copy(ke),j.sub(J.multiplyScalar(J.dot(ke))).normalize(),q.crossVectors(le,ke);const ft=q.dot(b[K])<0?-1:1;f[4*K]=j.x,f[4*K+1]=j.y,f[4*K+2]=j.z,f[4*K+3]=ft}for(let K=0,ke=B.length;K<ke;++K){const nt=B[K],ft=nt.start;for(let Ve=ft,xe=ft+nt.count;Ve<xe;Ve+=3)H(n[Ve+0]),H(n[Ve+1]),H(n[Ve+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new Ys(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let w=0,S=n.count;w<S;w++)n.setXYZ(w,0,0,0);const r=new ee,s=new ee,l=new ee,u=new ee,f=new ee,p=new ee,b=new ee,y=new ee;if(t)for(let w=0,S=t.count;w<S;w+=3){const A=t.getX(w+0),P=t.getX(w+1),I=t.getX(w+2);r.fromBufferAttribute(e,A),s.fromBufferAttribute(e,P),l.fromBufferAttribute(e,I),b.subVectors(l,s),y.subVectors(r,s),b.cross(y),u.fromBufferAttribute(n,A),f.fromBufferAttribute(n,P),p.fromBufferAttribute(n,I),u.add(b),f.add(b),p.add(b),n.setXYZ(A,u.x,u.y,u.z),n.setXYZ(P,f.x,f.y,f.z),n.setXYZ(I,p.x,p.y,p.z)}else for(let w=0,S=e.count;w<S;w+=3)r.fromBufferAttribute(e,w+0),s.fromBufferAttribute(e,w+1),l.fromBufferAttribute(e,w+2),b.subVectors(l,s),y.subVectors(r,s),b.cross(y),n.setXYZ(w+0,b.x,b.y,b.z),n.setXYZ(w+1,b.x,b.y,b.z),n.setXYZ(w+2,b.x,b.y,b.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)ks.fromBufferAttribute(t,e),ks.normalize(),t.setXYZ(e,ks.x,ks.y,ks.z)}toNonIndexed(){function t(u,f){const p=u.array,b=u.itemSize,y=u.normalized,w=new p.constructor(f.length*b);let S=0,A=0;for(let P=0,I=f.length;P<I;P++){S=u.isInterleavedBufferAttribute?f[P]*u.data.stride+u.offset:f[P]*b;for(let k=0;k<b;k++)w[A++]=p[S++]}return new Ys(w,b,y)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new gi,n=this.index.array,r=this.attributes;for(const u in r){const p=t(r[u],n);e.setAttribute(u,p)}const s=this.morphAttributes;for(const u in s){const f=[],p=s[u];for(let b=0,y=p.length;b<y;b++){const S=t(p[b],n);f.push(S)}e.morphAttributes[u]=f}e.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let u=0,f=l.length;u<f;u++){const p=l[u];e.addGroup(p.start,p.count,p.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const f=this.parameters;for(const p in f)void 0!==f[p]&&(t[p]=f[p]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const f in n)t.data.attributes[f]=n[f].toJSON(t.data);const r={};let s=!1;for(const f in this.morphAttributes){const p=this.morphAttributes[f],b=[];for(let y=0,w=p.length;y<w;y++)b.push(p[y].toJSON(t.data));b.length>0&&(r[f]=b,s=!0)}s&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(t.data.groups=JSON.parse(JSON.stringify(l)));const u=this.boundingSphere;return null!==u&&(t.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone(e));const r=t.attributes;for(const p in r)this.setAttribute(p,r[p].clone(e));const s=t.morphAttributes;for(const p in s){const b=[],y=s[p];for(let w=0,S=y.length;w<S;w++)b.push(y[w].clone(e));this.morphAttributes[p]=b}this.morphTargetsRelative=t.morphTargetsRelative;const l=t.groups;for(let p=0,b=l.length;p<b;p++){const y=l[p];this.addGroup(y.start,y.count,y.materialIndex)}const u=t.boundingBox;null!==u&&(this.boundingBox=u.clone());const f=t.boundingSphere;return null!==f&&(this.boundingSphere=f.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const o=new Xn,c=new K_,d=new El,h=new ee,m=new ee,_=new ee,x=new ee,M=new ee,D=new ee,L=new ht,V=new ht,X=new ht,de=new ee,ge=new ee,We=new ee,pt=new ee,Ot=new ee;class Wt extends ja{constructor(t=new gi,e=new Xu){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const r=e[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,l=r.length;s<l;s++){const u=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}getVertexPosition(t,e){const n=this.geometry,s=n.morphAttributes.position,l=n.morphTargetsRelative;e.fromBufferAttribute(n.attributes.position,t);const u=this.morphTargetInfluences;if(s&&u){D.set(0,0,0);for(let f=0,p=s.length;f<p;f++){const b=u[f];0!==b&&(M.fromBufferAttribute(s[f],t),D.addScaledVector(l?M:M.sub(e),b))}e.add(D)}return e}raycast(t,e){const n=this.geometry,s=this.matrixWorld;void 0!==this.material&&(null===n.boundingSphere&&n.computeBoundingSphere(),d.copy(n.boundingSphere),d.applyMatrix4(s),c.copy(t.ray).recast(t.near),(!1!==d.containsPoint(c.origin)||!(null===c.intersectSphere(d,h)||c.origin.distanceToSquared(h)>(t.far-t.near)**2))&&(o.copy(s).invert(),c.copy(t.ray).applyMatrix4(o),(null===n.boundingBox||!1!==c.intersectsBox(n.boundingBox))&&this._computeIntersections(t,e,c)))}_computeIntersections(t,e,n){let r;const s=this.geometry,l=this.material,u=s.index,f=s.attributes.position,p=s.attributes.uv,b=s.attributes.uv1,y=s.attributes.normal,w=s.groups,S=s.drawRange;if(null!==u)if(Array.isArray(l))for(let A=0,P=w.length;A<P;A++){const I=w[A],k=l[I.materialIndex];for(let B=Math.max(I.start,S.start),j=Math.min(u.count,Math.min(I.start+I.count,S.start+S.count));B<j;B+=3)r=In(this,k,t,n,p,b,y,u.getX(B),u.getX(B+1),u.getX(B+2)),r&&(r.faceIndex=Math.floor(B/3),r.face.materialIndex=I.materialIndex,e.push(r))}else for(let I=Math.max(0,S.start),k=Math.min(u.count,S.start+S.count);I<k;I+=3)r=In(this,l,t,n,p,b,y,u.getX(I),u.getX(I+1),u.getX(I+2)),r&&(r.faceIndex=Math.floor(I/3),e.push(r));else if(void 0!==f)if(Array.isArray(l))for(let A=0,P=w.length;A<P;A++){const I=w[A],k=l[I.materialIndex];for(let B=Math.max(I.start,S.start),j=Math.min(f.count,Math.min(I.start+I.count,S.start+S.count));B<j;B+=3)r=In(this,k,t,n,p,b,y,B,B+1,B+2),r&&(r.faceIndex=Math.floor(B/3),r.face.materialIndex=I.materialIndex,e.push(r))}else for(let I=Math.max(0,S.start),k=Math.min(f.count,S.start+S.count);I<k;I+=3)r=In(this,l,t,n,p,b,y,I,I+1,I+2),r&&(r.faceIndex=Math.floor(I/3),e.push(r))}}function In(i,t,e,n,r,s,l,u,f,p){i.getVertexPosition(u,m),i.getVertexPosition(f,_),i.getVertexPosition(p,x);const b=function at(i,t,e,n,r,s,l,u){let f;if(f=1===t.side?n.intersectTriangle(l,s,r,!0,u):n.intersectTriangle(r,s,l,0===t.side,u),null===f)return null;Ot.copy(u),Ot.applyMatrix4(i.matrixWorld);const p=e.ray.origin.distanceTo(Ot);return p<e.near||p>e.far?null:{distance:p,point:Ot.clone(),object:i}}(i,t,e,n,m,_,x,pt);if(b){r&&(L.fromBufferAttribute(r,u),V.fromBufferAttribute(r,f),X.fromBufferAttribute(r,p),b.uv=Zo.getInterpolation(pt,m,_,x,L,V,X,new ht)),s&&(L.fromBufferAttribute(s,u),V.fromBufferAttribute(s,f),X.fromBufferAttribute(s,p),b.uv1=Zo.getInterpolation(pt,m,_,x,L,V,X,new ht),b.uv2=b.uv1),l&&(de.fromBufferAttribute(l,u),ge.fromBufferAttribute(l,f),We.fromBufferAttribute(l,p),b.normal=Zo.getInterpolation(pt,m,_,x,de,ge,We,new ee),b.normal.dot(n.direction)>0&&b.normal.multiplyScalar(-1));const y={a:u,b:f,c:p,normal:new ee,materialIndex:0};Zo.getNormal(m,_,x,y.normal),b.face=y}return b}class Bn extends gi{constructor(t=1,e=1,n=1,r=1,s=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:s,depthSegments:l};const u=this;r=Math.floor(r),s=Math.floor(s),l=Math.floor(l);const f=[],p=[],b=[],y=[];let w=0,S=0;function A(P,I,k,U,O,B,j,q,J,le,H){const K=B/J,ke=j/le,nt=B/2,ft=j/2,he=q/2,Ve=J+1,xe=le+1;let Ce=0,ze=0;const Ue=new ee;for(let rt=0;rt<xe;rt++){const me=rt*ke-ft;for(let $e=0;$e<Ve;$e++)Ue[P]=($e*K-nt)*U,Ue[I]=me*O,Ue[k]=he,p.push(Ue.x,Ue.y,Ue.z),Ue[P]=0,Ue[I]=0,Ue[k]=q>0?1:-1,b.push(Ue.x,Ue.y,Ue.z),y.push($e/J),y.push(1-rt/le),Ce+=1}for(let rt=0;rt<le;rt++)for(let me=0;me<J;me++){const Nt=w+me+Ve*(rt+1),xt=w+(me+1)+Ve*(rt+1),en=w+(me+1)+Ve*rt;f.push(w+me+Ve*rt,Nt,en),f.push(Nt,xt,en),ze+=6}u.addGroup(S,ze,H),S+=ze,w+=Ce}A("z","y","x",-1,-1,n,e,t,l,s,0),A("z","y","x",1,-1,n,e,-t,l,s,1),A("x","z","y",1,1,t,n,e,r,l,2),A("x","z","y",1,-1,t,n,-e,r,l,3),A("x","y","z",1,-1,t,e,n,r,s,4),A("x","y","z",-1,-1,t,e,-n,r,s,5),this.setIndex(f),this.setAttribute("position",new dn(p,3)),this.setAttribute("normal",new dn(b,3)),this.setAttribute("uv",new dn(y,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Bn(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function wi(i){const t={};for(const e in i){t[e]={};for(const n in i[e]){const r=i[e][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][n]=null):t[e][n]=r.clone():t[e][n]=Array.isArray(r)?r.slice():r}}return t}function qi(i){const t={};for(let e=0;e<i.length;e++){const n=wi(i[e]);for(const r in n)t[r]=n[r]}return t}function Pf(i){return null===i.getRenderTarget()?i.outputColorSpace:Ri.workingColorSpace}const SE={clone:wi,merge:qi};class Cp extends Rf{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=wi(t.uniforms),this.uniformsGroups=function Bd(i){const t=[];for(let e=0;e<i.length;e++)t.push(i[e].clone());return t}(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const r in this.uniforms){const l=this.uniforms[r].value;e.uniforms[r]=l&&l.isTexture?{type:"t",value:l.toJSON(t).uuid}:l&&l.isColor?{type:"c",value:l.getHex()}:l&&l.isVector2?{type:"v2",value:l.toArray()}:l&&l.isVector3?{type:"v3",value:l.toArray()}:l&&l.isVector4?{type:"v4",value:l.toArray()}:l&&l.isMatrix3?{type:"m3",value:l.toArray()}:l&&l.isMatrix4?{type:"m4",value:l.toArray()}:{value:l}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(e.extensions=n),e}}class TP extends ja{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Xn,this.projectionMatrix=new Xn,this.projectionMatrixInverse=new Xn,this.coordinateSystem=yl}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class Do extends TP{constructor(t=50,e=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*gp*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*pp*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*gp*Math.atan(Math.tan(.5*pp*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,n,r,s,l){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*pp*this.fov)/this.zoom,n=2*e,r=this.aspect*n,s=-.5*r;const l=this.view;if(null!==this.view&&this.view.enabled){const f=l.fullWidth,p=l.fullHeight;s+=l.offsetX*r/f,e-=l.offsetY*n/p,r*=l.width/f,n*=l.height/p}const u=this.filmOffset;0!==u&&(s+=t*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,e,e-n,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}class U6 extends ja{constructor(t,e,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Do(-90,1,t,e);r.layers=this.layers,this.add(r);const s=new Do(-90,1,t,e);s.layers=this.layers,this.add(s);const l=new Do(-90,1,t,e);l.layers=this.layers,this.add(l);const u=new Do(-90,1,t,e);u.layers=this.layers,this.add(u);const f=new Do(-90,1,t,e);f.layers=this.layers,this.add(f);const p=new Do(-90,1,t,e);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[n,r,s,l,u,f]=e;for(const p of e)this.remove(p);if(t===yl)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),f.up.set(0,1,0),f.lookAt(0,0,-1);else{if(2001!==t)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),f.up.set(0,-1,0),f.lookAt(0,0,-1)}for(const p of e)this.add(p),p.updateMatrixWorld()}update(t,e){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[s,l,u,f,p,b]=this.children,y=t.getRenderTarget(),w=t.getActiveCubeFace(),S=t.getActiveMipmapLevel(),A=t.xr.enabled;t.xr.enabled=!1;const P=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0,r),t.render(e,s),t.setRenderTarget(n,1,r),t.render(e,l),t.setRenderTarget(n,2,r),t.render(e,u),t.setRenderTarget(n,3,r),t.render(e,f),t.setRenderTarget(n,4,r),t.render(e,p),n.texture.generateMipmaps=P,t.setRenderTarget(n,5,r),t.render(e,b),t.setRenderTarget(y,w,S),t.xr.enabled=A,n.texture.needsPMREMUpdate=!0}}class pA extends ju{constructor(t,e,n,r,s,l,u,f,p,b){super(t=void 0!==t?t:[],e=void 0!==e?e:Vu,n,r,s,l,u,f,p,b),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class B6 extends $u{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const n={width:t,height:t,depth:1},r=[n,n,n,n,n,n];void 0!==e.encoding&&(vp("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),e.colorSpace=e.encoding===Cf?Wr:""),this.texture=new pA(r,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:as}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n_uniforms={tEquirect:{value:null}},n_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",n_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new Bn(5,5,5),s=new Cp({name:"CubemapFromEquirect",uniforms:wi(n_uniforms),vertexShader:n_vertexShader,fragmentShader:n_fragmentShader,side:1,blending:0});s.uniforms.tEquirect.value=e;const l=new Wt(r,s),u=e.minFilter;return e.minFilter===Oc&&(e.minFilter=as),new U6(1,10,this).update(t,l),e.minFilter=u,l.geometry.dispose(),l.material.dispose(),this}clear(t,e,n,r){const s=t.getRenderTarget();for(let l=0;l<6;l++)t.setRenderTarget(this,l),t.clear(e,n,r);t.setRenderTarget(s)}}const AP=new ee,V6=new ee,z6=new ii;class sv{constructor(t=new ee(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const r=AP.subVectors(n,e).cross(V6.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const n=t.delta(AP),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const s=-(t.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:e.copy(t.start).addScaledVector(n,s)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||z6.getNormalMatrix(t),r=this.coplanarPoint(AP).applyMatrix4(t),s=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(s),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const ov=new El,gA=new ee;class DP{constructor(t=new sv,e=new sv,n=new sv,r=new sv,s=new sv,l=new sv){this.planes=[t,e,n,r,s,l]}set(t,e,n,r,s,l){const u=this.planes;return u[0].copy(t),u[1].copy(e),u[2].copy(n),u[3].copy(r),u[4].copy(s),u[5].copy(l),this}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t,e=yl){const n=this.planes,r=t.elements,s=r[0],l=r[1],u=r[2],f=r[3],p=r[4],b=r[5],y=r[6],w=r[7],S=r[8],A=r[9],P=r[10],I=r[11],k=r[12],U=r[13],O=r[14],B=r[15];if(n[0].setComponents(f-s,w-p,I-S,B-k).normalize(),n[1].setComponents(f+s,w+p,I+S,B+k).normalize(),n[2].setComponents(f+l,w+b,I+A,B+U).normalize(),n[3].setComponents(f-l,w-b,I-A,B-U).normalize(),n[4].setComponents(f-u,w-y,I-P,B-O).normalize(),e===yl)n[5].setComponents(f+u,w+y,I+P,B+O).normalize();else{if(2001!==e)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);n[5].setComponents(u,y,P,O).normalize()}return this}intersectsObject(t){if(void 0!==t.boundingSphere)null===t.boundingSphere&&t.computeBoundingSphere(),ov.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;null===e.boundingSphere&&e.computeBoundingSphere(),ov.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(ov)}intersectsSprite(t){return ov.center.set(0,0,0),ov.radius=.7071067811865476,ov.applyMatrix4(t.matrixWorld),this.intersectsSphere(ov)}intersectsSphere(t){const e=this.planes,n=t.center,r=-t.radius;for(let s=0;s<6;s++)if(e[s].distanceToPoint(n)<r)return!1;return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const r=e[n];if(gA.x=r.normal.x>0?t.max.x:t.min.x,gA.y=r.normal.y>0?t.max.y:t.min.y,gA.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(gA)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function m3(){let i=null,t=!1,e=null,n=null;function r(s,l){e(s,l),n=i.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==e&&(n=i.requestAnimationFrame(r),t=!0)},stop:function(){i.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(s){e=s},setContext:function(s){i=s}}}function H6(i,t){const e=t.isWebGL2,n=new WeakMap;return{get:function l(p){return p.isInterleavedBufferAttribute&&(p=p.data),n.get(p)},remove:function u(p){p.isInterleavedBufferAttribute&&(p=p.data);const b=n.get(p);b&&(i.deleteBuffer(b.buffer),n.delete(p))},update:function f(p,b){if(p.isGLBufferAttribute){const w=n.get(p);return void((!w||w.version<p.version)&&n.set(p,{buffer:p.buffer,type:p.type,bytesPerElement:p.elementSize,version:p.version}))}p.isInterleavedBufferAttribute&&(p=p.data);const y=n.get(p);void 0===y?n.set(p,function r(p,b){const y=p.array,w=p.usage,S=i.createBuffer();let A;if(i.bindBuffer(b,S),i.bufferData(b,y,w),p.onUploadCallback(),y instanceof Float32Array)A=i.FLOAT;else if(y instanceof Uint16Array)if(p.isFloat16BufferAttribute){if(!e)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");A=i.HALF_FLOAT}else A=i.UNSIGNED_SHORT;else if(y instanceof Int16Array)A=i.SHORT;else if(y instanceof Uint32Array)A=i.UNSIGNED_INT;else if(y instanceof Int32Array)A=i.INT;else if(y instanceof Int8Array)A=i.BYTE;else if(y instanceof Uint8Array)A=i.UNSIGNED_BYTE;else{if(!(y instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+y);A=i.UNSIGNED_BYTE}return{buffer:S,type:A,bytesPerElement:y.BYTES_PER_ELEMENT,version:p.version}}(p,b)):y.version<p.version&&(function s(p,b,y){const w=b.array,S=b.updateRange;i.bindBuffer(y,p),-1===S.count?i.bufferSubData(y,0,w):(e?i.bufferSubData(y,S.offset*w.BYTES_PER_ELEMENT,w,S.offset,S.count):i.bufferSubData(y,S.offset*w.BYTES_PER_ELEMENT,w.subarray(S.offset,S.offset+S.count)),S.count=-1),b.onUploadCallback()}(y.buffer,p,b),y.version=p.version)}}}class _A extends gi{constructor(t=1,e=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};const s=t/2,l=e/2,u=Math.floor(n),f=Math.floor(r),p=u+1,b=f+1,y=t/u,w=e/f,S=[],A=[],P=[],I=[];for(let k=0;k<b;k++){const U=k*w-l;for(let O=0;O<p;O++)A.push(O*y-s,-U,0),P.push(0,0,1),I.push(O/u),I.push(1-k/f)}for(let k=0;k<f;k++)for(let U=0;U<u;U++){const B=U+p*(k+1),j=U+1+p*(k+1),q=U+1+p*k;S.push(U+p*k,B,q),S.push(B,j,q)}this.setIndex(S),this.setAttribute("position",new dn(A,3)),this.setAttribute("normal",new dn(P,3)),this.setAttribute("uv",new dn(I,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new _A(t.width,t.height,t.widthSegments,t.heightSegments)}}const ci={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},zt={common:{diffuse:{value:new Kt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ii},alphaMap:{value:null},alphaMapTransform:{value:new ii},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ii}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ii}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ii}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ii},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ii},normalScale:{value:new ht(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ii},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ii}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ii}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ii}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Kt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Kt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ii},alphaTest:{value:0},uvTransform:{value:new ii}},sprite:{diffuse:{value:new Kt(16777215)},opacity:{value:1},center:{value:new ht(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ii},alphaMap:{value:null},alphaMapTransform:{value:new ii},alphaTest:{value:0}}},Ku={basic:{uniforms:qi([zt.common,zt.specularmap,zt.envmap,zt.aomap,zt.lightmap,zt.fog]),vertexShader:ci.meshbasic_vert,fragmentShader:ci.meshbasic_frag},lambert:{uniforms:qi([zt.common,zt.specularmap,zt.envmap,zt.aomap,zt.lightmap,zt.emissivemap,zt.bumpmap,zt.normalmap,zt.displacementmap,zt.fog,zt.lights,{emissive:{value:new Kt(0)}}]),vertexShader:ci.meshlambert_vert,fragmentShader:ci.meshlambert_frag},phong:{uniforms:qi([zt.common,zt.specularmap,zt.envmap,zt.aomap,zt.lightmap,zt.emissivemap,zt.bumpmap,zt.normalmap,zt.displacementmap,zt.fog,zt.lights,{emissive:{value:new Kt(0)},specular:{value:new Kt(1118481)},shininess:{value:30}}]),vertexShader:ci.meshphong_vert,fragmentShader:ci.meshphong_frag},standard:{uniforms:qi([zt.common,zt.envmap,zt.aomap,zt.lightmap,zt.emissivemap,zt.bumpmap,zt.normalmap,zt.displacementmap,zt.roughnessmap,zt.metalnessmap,zt.fog,zt.lights,{emissive:{value:new Kt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ci.meshphysical_vert,fragmentShader:ci.meshphysical_frag},toon:{uniforms:qi([zt.common,zt.aomap,zt.lightmap,zt.emissivemap,zt.bumpmap,zt.normalmap,zt.displacementmap,zt.gradientmap,zt.fog,zt.lights,{emissive:{value:new Kt(0)}}]),vertexShader:ci.meshtoon_vert,fragmentShader:ci.meshtoon_frag},matcap:{uniforms:qi([zt.common,zt.bumpmap,zt.normalmap,zt.displacementmap,zt.fog,{matcap:{value:null}}]),vertexShader:ci.meshmatcap_vert,fragmentShader:ci.meshmatcap_frag},points:{uniforms:qi([zt.points,zt.fog]),vertexShader:ci.points_vert,fragmentShader:ci.points_frag},dashed:{uniforms:qi([zt.common,zt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ci.linedashed_vert,fragmentShader:ci.linedashed_frag},depth:{uniforms:qi([zt.common,zt.displacementmap]),vertexShader:ci.depth_vert,fragmentShader:ci.depth_frag},normal:{uniforms:qi([zt.common,zt.bumpmap,zt.normalmap,zt.displacementmap,{opacity:{value:1}}]),vertexShader:ci.meshnormal_vert,fragmentShader:ci.meshnormal_frag},sprite:{uniforms:qi([zt.sprite,zt.fog]),vertexShader:ci.sprite_vert,fragmentShader:ci.sprite_frag},background:{uniforms:{uvTransform:{value:new ii},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ci.background_vert,fragmentShader:ci.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ci.backgroundCube_vert,fragmentShader:ci.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ci.cube_vert,fragmentShader:ci.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ci.equirect_vert,fragmentShader:ci.equirect_frag},distanceRGBA:{uniforms:qi([zt.common,zt.displacementmap,{referencePosition:{value:new ee},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ci.distanceRGBA_vert,fragmentShader:ci.distanceRGBA_frag},shadow:{uniforms:qi([zt.lights,zt.fog,{color:{value:new Kt(0)},opacity:{value:1}}]),vertexShader:ci.shadow_vert,fragmentShader:ci.shadow_frag}};Ku.physical={uniforms:qi([Ku.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ii},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ii},clearcoatNormalScale:{value:new ht(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ii},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ii},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ii},sheen:{value:0},sheenColor:{value:new Kt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ii},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ii},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ii},transmissionSamplerSize:{value:new ht},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ii},attenuationDistance:{value:0},attenuationColor:{value:new Kt(0)},specularColor:{value:new Kt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ii},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ii},anisotropyVector:{value:new ht},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ii}}]),vertexShader:ci.meshphysical_vert,fragmentShader:ci.meshphysical_frag};const vA={r:0,b:0,g:0};function zW(i,t,e,n,r,s,l){const u=new Kt(0);let p,b,f=!0===s?0:1,y=null,w=0,S=null;function P(I,k){I.getRGB(vA,Pf(i)),n.buffers.color.setClear(vA.r,vA.g,vA.b,k,l)}return{getClearColor:function(){return u},setClearColor:function(I,k=1){u.set(I),f=k,P(u,f)},getClearAlpha:function(){return f},setClearAlpha:function(I){f=I,P(u,f)},render:function A(I,k){let U=!1,O=!0===k.isScene?k.background:null;O&&O.isTexture&&(O=(k.backgroundBlurriness>0?e:t).get(O)),null===O?P(u,f):O&&O.isColor&&(P(O,1),U=!0);const B=i.xr.getEnvironmentBlendMode();"additive"===B?n.buffers.color.setClear(0,0,0,1,l):"alpha-blend"===B&&n.buffers.color.setClear(0,0,0,0,l),(i.autoClear||U)&&i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil),O&&(O.isCubeTexture||O.mapping===hp)?(void 0===b&&(b=new Wt(new Bn(1,1,1),new Cp({name:"BackgroundCubeMaterial",uniforms:wi(Ku.backgroundCube.uniforms),vertexShader:Ku.backgroundCube.vertexShader,fragmentShader:Ku.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),b.geometry.deleteAttribute("normal"),b.geometry.deleteAttribute("uv"),b.onBeforeRender=function(j,q,J){this.matrixWorld.copyPosition(J.matrixWorld)},Object.defineProperty(b.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(b)),b.material.uniforms.envMap.value=O,b.material.uniforms.flipEnvMap.value=O.isCubeTexture&&!1===O.isRenderTargetTexture?-1:1,b.material.uniforms.backgroundBlurriness.value=k.backgroundBlurriness,b.material.uniforms.backgroundIntensity.value=k.backgroundIntensity,b.material.toneMapped=Ri.getTransfer(O.colorSpace)!==tr,(y!==O||w!==O.version||S!==i.toneMapping)&&(b.material.needsUpdate=!0,y=O,w=O.version,S=i.toneMapping),b.layers.enableAll(),I.unshift(b,b.geometry,b.material,0,0,null)):O&&O.isTexture&&(void 0===p&&(p=new Wt(new _A(2,2),new Cp({name:"BackgroundMaterial",uniforms:wi(Ku.background.uniforms),vertexShader:Ku.background.vertexShader,fragmentShader:Ku.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(p)),p.material.uniforms.t2D.value=O,p.material.uniforms.backgroundIntensity.value=k.backgroundIntensity,p.material.toneMapped=Ri.getTransfer(O.colorSpace)!==tr,!0===O.matrixAutoUpdate&&O.updateMatrix(),p.material.uniforms.uvTransform.value.copy(O.matrix),(y!==O||w!==O.version||S!==i.toneMapping)&&(p.material.needsUpdate=!0,y=O,w=O.version,S=i.toneMapping),p.layers.enableAll(),I.unshift(p,p.geometry,p.material,0,0,null))}}}function HW(i,t,e,n){const r=i.getParameter(i.MAX_VERTEX_ATTRIBS),s=n.isWebGL2?null:t.get("OES_vertex_array_object"),l=n.isWebGL2||null!==s,u={},f=I(null);let p=f,b=!1;function S(he){return n.isWebGL2?i.bindVertexArray(he):s.bindVertexArrayOES(he)}function A(he){return n.isWebGL2?i.deleteVertexArray(he):s.deleteVertexArrayOES(he)}function I(he){const Ve=[],xe=[],Ce=[];for(let ze=0;ze<r;ze++)Ve[ze]=0,xe[ze]=0,Ce[ze]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Ve,enabledAttributes:xe,attributeDivisors:Ce,object:he,attributes:{},index:null}}function O(){const he=p.newAttributes;for(let Ve=0,xe=he.length;Ve<xe;Ve++)he[Ve]=0}function B(he){j(he,0)}function j(he,Ve){const Ce=p.enabledAttributes,ze=p.attributeDivisors;p.newAttributes[he]=1,0===Ce[he]&&(i.enableVertexAttribArray(he),Ce[he]=1),ze[he]!==Ve&&((n.isWebGL2?i:t.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](he,Ve),ze[he]=Ve)}function q(){const he=p.newAttributes,Ve=p.enabledAttributes;for(let xe=0,Ce=Ve.length;xe<Ce;xe++)Ve[xe]!==he[xe]&&(i.disableVertexAttribArray(xe),Ve[xe]=0)}function J(he,Ve,xe,Ce,ze,Ue,rt){!0===rt?i.vertexAttribIPointer(he,Ve,xe,ze,Ue):i.vertexAttribPointer(he,Ve,xe,Ce,ze,Ue)}function nt(){ft(),b=!0,p!==f&&(p=f,S(p.object))}function ft(){f.geometry=null,f.program=null,f.wireframe=!1}return{setup:function y(he,Ve,xe,Ce,ze){let Ue=!1;if(l){const rt=function P(he,Ve,xe){const Ce=!0===xe.wireframe;let ze=u[he.id];void 0===ze&&(ze={},u[he.id]=ze);let Ue=ze[Ve.id];void 0===Ue&&(Ue={},ze[Ve.id]=Ue);let rt=Ue[Ce];return void 0===rt&&(rt=I(function w(){return n.isWebGL2?i.createVertexArray():s.createVertexArrayOES()}()),Ue[Ce]=rt),rt}(Ce,xe,Ve);p!==rt&&(p=rt,S(p.object)),Ue=function k(he,Ve,xe,Ce){const ze=p.attributes,Ue=Ve.attributes;let rt=0;const me=xe.getAttributes();for(const $e in me)if(me[$e].location>=0){const xt=ze[$e];let en=Ue[$e];if(void 0===en&&("instanceMatrix"===$e&&he.instanceMatrix&&(en=he.instanceMatrix),"instanceColor"===$e&&he.instanceColor&&(en=he.instanceColor)),void 0===xt||xt.attribute!==en||en&&xt.data!==en.data)return!0;rt++}return p.attributesNum!==rt||p.index!==Ce}(he,Ce,xe,ze),Ue&&function U(he,Ve,xe,Ce){const ze={},Ue=Ve.attributes;let rt=0;const me=xe.getAttributes();for(const $e in me)if(me[$e].location>=0){let xt=Ue[$e];void 0===xt&&("instanceMatrix"===$e&&he.instanceMatrix&&(xt=he.instanceMatrix),"instanceColor"===$e&&he.instanceColor&&(xt=he.instanceColor));const en={};en.attribute=xt,xt&&xt.data&&(en.data=xt.data),ze[$e]=en,rt++}p.attributes=ze,p.attributesNum=rt,p.index=Ce}(he,Ce,xe,ze)}else{const rt=!0===Ve.wireframe;(p.geometry!==Ce.id||p.program!==xe.id||p.wireframe!==rt)&&(p.geometry=Ce.id,p.program=xe.id,p.wireframe=rt,Ue=!0)}null!==ze&&e.update(ze,i.ELEMENT_ARRAY_BUFFER),(Ue||b)&&(b=!1,function le(he,Ve,xe,Ce){if(!1===n.isWebGL2&&(he.isInstancedMesh||Ce.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;O();const ze=Ce.attributes,Ue=xe.getAttributes(),rt=Ve.defaultAttributeValues;for(const me in Ue){const $e=Ue[me];if($e.location>=0){let Nt=ze[me];if(void 0===Nt&&("instanceMatrix"===me&&he.instanceMatrix&&(Nt=he.instanceMatrix),"instanceColor"===me&&he.instanceColor&&(Nt=he.instanceColor)),void 0!==Nt){const xt=Nt.normalized,en=Nt.itemSize,Ln=e.get(Nt);if(void 0===Ln)continue;const on=Ln.buffer,yn=Ln.type,wn=Ln.bytesPerElement,yi=!0===n.isWebGL2&&(yn===i.INT||yn===i.UNSIGNED_INT||1013===Nt.gpuType);if(Nt.isInterleavedBufferAttribute){const kn=Nt.data,ce=kn.stride,Vt=Nt.offset;if(kn.isInstancedInterleavedBuffer){for(let ot=0;ot<$e.locationSize;ot++)j($e.location+ot,kn.meshPerAttribute);!0!==he.isInstancedMesh&&void 0===Ce._maxInstanceCount&&(Ce._maxInstanceCount=kn.meshPerAttribute*kn.count)}else for(let ot=0;ot<$e.locationSize;ot++)B($e.location+ot);i.bindBuffer(i.ARRAY_BUFFER,on);for(let ot=0;ot<$e.locationSize;ot++)J($e.location+ot,en/$e.locationSize,yn,xt,ce*wn,(Vt+en/$e.locationSize*ot)*wn,yi)}else{if(Nt.isInstancedBufferAttribute){for(let kn=0;kn<$e.locationSize;kn++)j($e.location+kn,Nt.meshPerAttribute);!0!==he.isInstancedMesh&&void 0===Ce._maxInstanceCount&&(Ce._maxInstanceCount=Nt.meshPerAttribute*Nt.count)}else for(let kn=0;kn<$e.locationSize;kn++)B($e.location+kn);i.bindBuffer(i.ARRAY_BUFFER,on);for(let kn=0;kn<$e.locationSize;kn++)J($e.location+kn,en/$e.locationSize,yn,xt,en*wn,en/$e.locationSize*kn*wn,yi)}}else if(void 0!==rt){const xt=rt[me];if(void 0!==xt)switch(xt.length){case 2:i.vertexAttrib2fv($e.location,xt);break;case 3:i.vertexAttrib3fv($e.location,xt);break;case 4:i.vertexAttrib4fv($e.location,xt);break;default:i.vertexAttrib1fv($e.location,xt)}}}}q()}(he,Ve,xe,Ce),null!==ze&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.get(ze).buffer))},reset:nt,resetDefaultState:ft,dispose:function H(){nt();for(const he in u){const Ve=u[he];for(const xe in Ve){const Ce=Ve[xe];for(const ze in Ce)A(Ce[ze].object),delete Ce[ze];delete Ve[xe]}delete u[he]}},releaseStatesOfGeometry:function K(he){if(void 0===u[he.id])return;const Ve=u[he.id];for(const xe in Ve){const Ce=Ve[xe];for(const ze in Ce)A(Ce[ze].object),delete Ce[ze];delete Ve[xe]}delete u[he.id]},releaseStatesOfProgram:function ke(he){for(const Ve in u){const xe=u[Ve];if(void 0===xe[he.id])continue;const Ce=xe[he.id];for(const ze in Ce)A(Ce[ze].object),delete Ce[ze];delete xe[he.id]}},initAttributes:O,enableAttribute:B,disableUnusedAttributes:q}}function GW(i,t,e,n){const r=n.isWebGL2;let s;this.setMode=function l(p){s=p},this.render=function u(p,b){i.drawArrays(s,p,b),e.update(b,s,1)},this.renderInstances=function f(p,b,y){if(0===y)return;let w,S;if(r)w=i,S="drawArraysInstanced";else if(w=t.get("ANGLE_instanced_arrays"),S="drawArraysInstancedANGLE",null===w)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");w[S](s,p,b,y),e.update(b,s,y)}}function WW(i,t,e){let n;function s(J){if("highp"===J){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";J="mediump"}return"mediump"===J&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const l=typeof WebGL2RenderingContext<"u"&&"WebGL2RenderingContext"===i.constructor.name;let u=void 0!==e.precision?e.precision:"highp";const f=s(u);f!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",f,"instead."),u=f);const p=l||t.has("WEBGL_draw_buffers"),b=!0===e.logarithmicDepthBuffer,y=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),w=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),S=i.getParameter(i.MAX_TEXTURE_SIZE),A=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),P=i.getParameter(i.MAX_VERTEX_ATTRIBS),I=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),k=i.getParameter(i.MAX_VARYING_VECTORS),U=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),O=w>0,B=l||t.has("OES_texture_float");return{isWebGL2:l,drawBuffers:p,getMaxAnisotropy:function r(){if(void 0!==n)return n;if(!0===t.has("EXT_texture_filter_anisotropic")){const J=t.get("EXT_texture_filter_anisotropic");n=i.getParameter(J.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n},getMaxPrecision:s,precision:u,logarithmicDepthBuffer:b,maxTextures:y,maxVertexTextures:w,maxTextureSize:S,maxCubemapSize:A,maxAttributes:P,maxVertexUniforms:I,maxVaryings:k,maxFragmentUniforms:U,vertexTextures:O,floatFragmentTextures:B,floatVertexTextures:O&&B,maxSamples:l?i.getParameter(i.MAX_SAMPLES):0}}function jW(i){const t=this;let e=null,n=0,r=!1,s=!1;const l=new sv,u=new ii,f={value:null,needsUpdate:!1};function b(y,w,S,A){const P=null!==y?y.length:0;let I=null;if(0!==P){if(I=f.value,!0!==A||null===I){const k=S+4*P,U=w.matrixWorldInverse;u.getNormalMatrix(U),(null===I||I.length<k)&&(I=new Float32Array(k));for(let O=0,B=S;O!==P;++O,B+=4)l.copy(y[O]).applyMatrix4(U,u),l.normal.toArray(I,B),I[B+3]=l.constant}f.value=I,f.needsUpdate=!0}return t.numPlanes=P,t.numIntersection=0,I}this.uniform=f,this.numPlanes=0,this.numIntersection=0,this.init=function(y,w){const S=0!==y.length||w||0!==n||r;return r=w,n=y.length,S},this.beginShadows=function(){s=!0,b(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(y,w){e=b(y,w,0)},this.setState=function(y,w,S){const A=y.clippingPlanes,P=y.clipIntersection,I=y.clipShadows,k=i.get(y);if(!r||null===A||0===A.length||s&&!I)s?b(null):function p(){f.value!==e&&(f.value=e,f.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}();else{const U=s?0:n,O=4*U;let B=k.clippingState||null;f.value=B,B=b(A,w,O,S);for(let j=0;j!==O;++j)B[j]=e[j];k.clippingState=B,this.numIntersection=P?this.numPlanes:0,this.numPlanes+=U}}}function $W(i){let t=new WeakMap;function e(l,u){return 303===u?l.mapping=Vu:304===u&&(l.mapping=Pc),l}function r(l){const u=l.target;u.removeEventListener("dispose",r);const f=t.get(u);void 0!==f&&(t.delete(u),f.dispose())}return{get:function n(l){if(l&&l.isTexture&&!1===l.isRenderTargetTexture){const u=l.mapping;if(303===u||304===u){if(t.has(l))return e(t.get(l).texture,l.mapping);{const f=l.image;if(f&&f.height>0){const p=new B6(f.height/2);return p.fromEquirectangularTexture(i,l),t.set(l,p),l.addEventListener("dispose",r),e(p.texture,l.mapping)}return null}}}return l},dispose:function s(){t=new WeakMap}}}class IP extends TP{constructor(t=-1,e=1,n=1,r=-1,s=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=s,this.far=l,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,n,r,s,l){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=n-t,l=n+t,u=r+e,f=r-e;if(null!==this.view&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,b=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=p*this.view.offsetX,l=s+p*this.view.width,u-=b*this.view.offsetY,f=u-b*this.view.height}this.projectionMatrix.makeOrthographic(s,l,u,f,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}const p3=[.125,.215,.35,.446,.526,.582],kP=new IP,g3=new Kt;let RP=null,PP=0,OP=0;const cv=(1+Math.sqrt(5))/2,r0=1/cv,_3=[new ee(1,1,1),new ee(-1,1,1),new ee(1,1,-1),new ee(-1,1,-1),new ee(0,cv,r0),new ee(0,cv,-r0),new ee(r0,0,cv),new ee(-r0,0,cv),new ee(cv,r0,0),new ee(-cv,r0,0)];class v3{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,n=.1,r=100){RP=this._renderer.getRenderTarget(),PP=this._renderer.getActiveCubeFace(),OP=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(t,n,r,s),e>0&&this._blur(s,0,0,e),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=x3(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=y3(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(RP,PP,OP),t.scissorTest=!1,bA(t,0,0,t.width,t.height)}_fromTexture(t,e){this._setSize(t.mapping===Vu||t.mapping===Pc?0===t.image.length?16:t.image[0].width||t.image[0].image.width:t.image.width/4),RP=this._renderer.getRenderTarget(),PP=this._renderer.getActiveCubeFace(),OP=this._renderer.getActiveMipmapLevel();const n=e||this._allocateTargets();return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,n={magFilter:as,minFilter:as,generateMipmaps:!1,type:L_,format:ua,colorSpace:Lc,depthBuffer:!1},r=b3(t,e,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=b3(t,e,n);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function YW(i){const t=[],e=[],n=[];let r=i;const s=i-4+1+p3.length;for(let l=0;l<s;l++){const u=Math.pow(2,r);e.push(u);let f=1/u;l>i-4?f=p3[l-i+4-1]:0===l&&(f=0),n.push(f);const p=1/(u-2),b=-p,y=1+p,w=[b,b,y,b,y,y,b,b,y,y,b,y],S=6,A=6,P=3,I=2,k=1,U=new Float32Array(P*A*S),O=new Float32Array(I*A*S),B=new Float32Array(k*A*S);for(let q=0;q<S;q++){const J=q%3*2/3-1,le=q>2?0:-1;U.set([J,le,0,J+2/3,le,0,J+2/3,le+1,0,J,le,0,J+2/3,le+1,0,J,le+1,0],P*A*q),O.set(w,I*A*q),B.set([q,q,q,q,q,q],k*A*q)}const j=new gi;j.setAttribute("position",new Ys(U,P)),j.setAttribute("uv",new Ys(O,I)),j.setAttribute("faceIndex",new Ys(B,k)),t.push(j),r>4&&r--}return{lodPlanes:t,sizeLods:e,sigmas:n}}(s)),this._blurMaterial=function qW(i,t,e){const n=new Float32Array(20),r=new ee(0,1,0);return new Cp({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(s,t,e)}return r}_compileMaterial(t){const e=new Wt(this._lodPlanes[0],t);this._renderer.compile(e,kP)}_sceneToCubeUV(t,e,n,r){const u=new Do(90,1,e,n),f=[1,-1,1,1,1,1],p=[1,1,1,-1,-1,-1],b=this._renderer,y=b.autoClear,w=b.toneMapping;b.getClearColor(g3),b.toneMapping=kd,b.autoClear=!1;const S=new Xu({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),A=new Wt(new Bn,S);let P=!1;const I=t.background;I?I.isColor&&(S.color.copy(I),t.background=null,P=!0):(S.color.copy(g3),P=!0);for(let k=0;k<6;k++){const U=k%3;0===U?(u.up.set(0,f[k],0),u.lookAt(p[k],0,0)):1===U?(u.up.set(0,0,f[k]),u.lookAt(0,p[k],0)):(u.up.set(0,f[k],0),u.lookAt(0,0,p[k]));const O=this._cubeSize;bA(r,U*O,k>2?O:0,O,O),b.setRenderTarget(r),P&&b.render(A,u),b.render(t,u)}A.geometry.dispose(),A.material.dispose(),b.toneMapping=w,b.autoClear=y,t.background=I}_textureToCubeUV(t,e){const n=this._renderer,r=t.mapping===Vu||t.mapping===Pc;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=x3()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=y3());const s=r?this._cubemapMaterial:this._equirectMaterial,l=new Wt(this._lodPlanes[0],s);s.uniforms.envMap.value=t;const f=this._cubeSize;bA(e,0,0,3*f,2*f),n.setRenderTarget(e),n.render(l,kP)}_applyPMREM(t){const e=this._renderer,n=e.autoClear;e.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]);this._blur(t,r-1,r,s,_3[(r-1)%_3.length])}e.autoClear=n}_blur(t,e,n,r,s){const l=this._pingPongRenderTarget;this._halfBlur(t,l,e,n,r,"latitudinal",s),this._halfBlur(l,t,n,n,r,"longitudinal",s)}_halfBlur(t,e,n,r,s,l,u){const f=this._renderer,p=this._blurMaterial;"latitudinal"!==l&&"longitudinal"!==l&&console.error("blur direction must be either latitudinal or longitudinal!");const y=new Wt(this._lodPlanes[r],p),w=p.uniforms,S=this._sizeLods[n]-1,A=isFinite(s)?Math.PI/(2*S):2*Math.PI/39,P=s/A,I=isFinite(s)?1+Math.floor(3*P):20;I>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${I} samples when the maximum is set to 20`);const k=[];let U=0;for(let J=0;J<20;++J){const le=J/P,H=Math.exp(-le*le/2);k.push(H),0===J?U+=H:J<I&&(U+=2*H)}for(let J=0;J<k.length;J++)k[J]=k[J]/U;w.envMap.value=t.texture,w.samples.value=I,w.weights.value=k,w.latitudinal.value="latitudinal"===l,u&&(w.poleAxis.value=u);const{_lodMax:O}=this;w.dTheta.value=A,w.mipInt.value=O-n;const B=this._sizeLods[r];bA(e,3*B*(r>O-4?r-O+4:0),4*(this._cubeSize-B),3*B,2*B),f.setRenderTarget(e),f.render(y,kP)}}function b3(i,t,e){const n=new $u(i,t,e);return n.texture.mapping=hp,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function bA(i,t,e,n,r){i.viewport.set(t,e,n,r),i.scissor.set(t,e,n,r)}function y3(){return new Cp({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function x3(){return new Cp({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function ZW(i){let t=new WeakMap,e=null;function s(u){const f=u.target;f.removeEventListener("dispose",s);const p=t.get(f);void 0!==p&&(t.delete(f),p.dispose())}return{get:function n(u){if(u&&u.isTexture){const f=u.mapping,p=303===f||304===f,b=f===Vu||f===Pc;if(p||b){if(u.isRenderTargetTexture&&!0===u.needsPMREMUpdate){u.needsPMREMUpdate=!1;let y=t.get(u);return null===e&&(e=new v3(i)),y=p?e.fromEquirectangular(u,y):e.fromCubemap(u,y),t.set(u,y),y.texture}if(t.has(u))return t.get(u).texture;{const y=u.image;if(p&&y&&y.height>0||b&&y&&function r(u){let f=0;for(let b=0;b<6;b++)void 0!==u[b]&&f++;return 6===f}(y)){null===e&&(e=new v3(i));const w=p?e.fromEquirectangular(u):e.fromCubemap(u);return t.set(u,w),u.addEventListener("dispose",s),w.texture}return null}}}return u},dispose:function l(){t=new WeakMap,null!==e&&(e.dispose(),e=null)}}}function XW(i){const t={};function e(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return t[n]=r,r}return{has:function(n){return null!==e(n)},init:function(n){n.isWebGL2?e("EXT_color_buffer_float"):(e("WEBGL_depth_texture"),e("OES_texture_float"),e("OES_texture_half_float"),e("OES_texture_half_float_linear"),e("OES_standard_derivatives"),e("OES_element_index_uint"),e("OES_vertex_array_object"),e("ANGLE_instanced_arrays")),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture")},get:function(n){const r=e(n);return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function KW(i,t,e,n){const r={},s=new WeakMap;function l(y){const w=y.target;null!==w.index&&t.remove(w.index);for(const A in w.attributes)t.remove(w.attributes[A]);for(const A in w.morphAttributes){const P=w.morphAttributes[A];for(let I=0,k=P.length;I<k;I++)t.remove(P[I])}w.removeEventListener("dispose",l),delete r[w.id];const S=s.get(w);S&&(t.remove(S),s.delete(w)),n.releaseStatesOfGeometry(w),!0===w.isInstancedBufferGeometry&&delete w._maxInstanceCount,e.memory.geometries--}function p(y){const w=[],S=y.index,A=y.attributes.position;let P=0;if(null!==S){const U=S.array;P=S.version;for(let O=0,B=U.length;O<B;O+=3){const j=U[O+0],q=U[O+1],J=U[O+2];w.push(j,q,q,J,J,j)}}else{if(void 0===A)return;P=A.version;for(let O=0,B=A.array.length/3-1;O<B;O+=3){const j=O+0,q=O+1,J=O+2;w.push(j,q,q,J,J,j)}}const I=new(YT(w)?EP:fA)(w,1);I.version=P;const k=s.get(y);k&&t.remove(k),s.set(y,I)}return{get:function u(y,w){return!0===r[w.id]||(w.addEventListener("dispose",l),r[w.id]=!0,e.memory.geometries++),w},update:function f(y){const w=y.attributes;for(const A in w)t.update(w[A],i.ARRAY_BUFFER);const S=y.morphAttributes;for(const A in S){const P=S[A];for(let I=0,k=P.length;I<k;I++)t.update(P[I],i.ARRAY_BUFFER)}},getWireframeAttribute:function b(y){const w=s.get(y);if(w){const S=y.index;null!==S&&w.version<S.version&&p(y)}else p(y);return s.get(y)}}}function QW(i,t,e,n){const r=n.isWebGL2;let s,u,f;this.setMode=function l(w){s=w},this.setIndex=function p(w){u=w.type,f=w.bytesPerElement},this.render=function b(w,S){i.drawElements(s,S,u,w*f),e.update(S,s,1)},this.renderInstances=function y(w,S,A){if(0===A)return;let P,I;if(r)P=i,I="drawElementsInstanced";else if(P=t.get("ANGLE_instanced_arrays"),I="drawElementsInstancedANGLE",null===P)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");P[I](s,S,u,w*f,A),e.update(S,s,A)}}function JW(i){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function r(){e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function n(s,l,u){switch(e.calls++,l){case i.TRIANGLES:e.triangles+=u*(s/3);break;case i.LINES:e.lines+=u*(s/2);break;case i.LINE_STRIP:e.lines+=u*(s-1);break;case i.LINE_LOOP:e.lines+=u*s;break;case i.POINTS:e.points+=u*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l)}}}}function ej(i,t){return i[0]-t[0]}function tj(i,t){return Math.abs(t[1])-Math.abs(i[1])}function nj(i,t,e){const n={},r=new Float32Array(8),s=new WeakMap,l=new Yi,u=[];for(let p=0;p<8;p++)u[p]=[p,0];return{update:function f(p,b,y){const w=p.morphTargetInfluences;if(!0===t.isWebGL2){const S=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,A=void 0!==S?S.length:0;let P=s.get(b);if(void 0===P||P.count!==A){let he=function(){nt.dispose(),s.delete(b),b.removeEventListener("dispose",he)};void 0!==P&&P.texture.dispose();const U=void 0!==b.morphAttributes.position,O=void 0!==b.morphAttributes.normal,B=void 0!==b.morphAttributes.color,j=b.morphAttributes.position||[],q=b.morphAttributes.normal||[],J=b.morphAttributes.color||[];let le=0;!0===U&&(le=1),!0===O&&(le=2),!0===B&&(le=3);let H=b.attributes.position.count*le,K=1;H>t.maxTextureSize&&(K=Math.ceil(H/t.maxTextureSize),H=t.maxTextureSize);const ke=new Float32Array(H*K*4*A),nt=new ZT(ke,H,K,A);nt.type=Rd,nt.needsUpdate=!0;const ft=4*le;for(let Ve=0;Ve<A;Ve++){const xe=j[Ve],Ce=q[Ve],ze=J[Ve],Ue=H*K*4*Ve;for(let rt=0;rt<xe.count;rt++){const me=rt*ft;!0===U&&(l.fromBufferAttribute(xe,rt),ke[Ue+me+0]=l.x,ke[Ue+me+1]=l.y,ke[Ue+me+2]=l.z,ke[Ue+me+3]=0),!0===O&&(l.fromBufferAttribute(Ce,rt),ke[Ue+me+4]=l.x,ke[Ue+me+5]=l.y,ke[Ue+me+6]=l.z,ke[Ue+me+7]=0),!0===B&&(l.fromBufferAttribute(ze,rt),ke[Ue+me+8]=l.x,ke[Ue+me+9]=l.y,ke[Ue+me+10]=l.z,ke[Ue+me+11]=4===ze.itemSize?l.w:1)}}P={count:A,texture:nt,size:new ht(H,K)},s.set(b,P),b.addEventListener("dispose",he)}let I=0;for(let U=0;U<w.length;U++)I+=w[U];const k=b.morphTargetsRelative?1:1-I;y.getUniforms().setValue(i,"morphTargetBaseInfluence",k),y.getUniforms().setValue(i,"morphTargetInfluences",w),y.getUniforms().setValue(i,"morphTargetsTexture",P.texture,e),y.getUniforms().setValue(i,"morphTargetsTextureSize",P.size)}else{const S=void 0===w?0:w.length;let A=n[b.id];if(void 0===A||A.length!==S){A=[];for(let O=0;O<S;O++)A[O]=[O,0];n[b.id]=A}for(let O=0;O<S;O++){const B=A[O];B[0]=O,B[1]=w[O]}A.sort(tj);for(let O=0;O<8;O++)O<S&&A[O][1]?(u[O][0]=A[O][0],u[O][1]=A[O][1]):(u[O][0]=Number.MAX_SAFE_INTEGER,u[O][1]=0);u.sort(ej);const P=b.morphAttributes.position,I=b.morphAttributes.normal;let k=0;for(let O=0;O<8;O++){const B=u[O],j=B[0],q=B[1];j!==Number.MAX_SAFE_INTEGER&&q?(P&&b.getAttribute("morphTarget"+O)!==P[j]&&b.setAttribute("morphTarget"+O,P[j]),I&&b.getAttribute("morphNormal"+O)!==I[j]&&b.setAttribute("morphNormal"+O,I[j]),r[O]=q,k+=q):(P&&!0===b.hasAttribute("morphTarget"+O)&&b.deleteAttribute("morphTarget"+O),I&&!0===b.hasAttribute("morphNormal"+O)&&b.deleteAttribute("morphNormal"+O),r[O]=0)}const U=b.morphTargetsRelative?1:1-k;y.getUniforms().setValue(i,"morphTargetBaseInfluence",U),y.getUniforms().setValue(i,"morphTargetInfluences",r)}}}}function ij(i,t,e,n){let r=new WeakMap;function u(f){const p=f.target;p.removeEventListener("dispose",u),e.remove(p.instanceMatrix),null!==p.instanceColor&&e.remove(p.instanceColor)}return{update:function s(f){const p=n.render.frame,y=t.get(f,f.geometry);if(r.get(y)!==p&&(t.update(y),r.set(y,p)),f.isInstancedMesh&&(!1===f.hasEventListener("dispose",u)&&f.addEventListener("dispose",u),r.get(f)!==p&&(e.update(f.instanceMatrix,i.ARRAY_BUFFER),null!==f.instanceColor&&e.update(f.instanceColor,i.ARRAY_BUFFER),r.set(f,p))),f.isSkinnedMesh){const w=f.skeleton;r.get(w)!==p&&(w.update(),r.set(w,p))}return y},dispose:function l(){r=new WeakMap}}}const w3=new ju,E3=new ZT,C3=new XT,S3=new pA,M3=[],T3=[],A3=new Float32Array(16),D3=new Float32Array(9),I3=new Float32Array(4);function s0(i,t,e){const n=i[0];if(n<=0||n>0)return i;const r=t*e;let s=M3[r];if(void 0===s&&(s=new Float32Array(r),M3[r]=s),0!==t){n.toArray(s,0);for(let l=1,u=0;l!==t;++l)u+=e,i[l].toArray(s,u)}return s}function qs(i,t){if(i.length!==t.length)return!1;for(let e=0,n=i.length;e<n;e++)if(i[e]!==t[e])return!1;return!0}function Zs(i,t){for(let e=0,n=t.length;e<n;e++)i[e]=t[e]}function yA(i,t){let e=T3[t];void 0===e&&(e=new Int32Array(t),T3[t]=e);for(let n=0;n!==t;++n)e[n]=i.allocateTextureUnit();return e}function rj(i,t){const e=this.cache;e[0]!==t&&(i.uniform1f(this.addr,t),e[0]=t)}function sj(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(qs(e,t))return;i.uniform2fv(this.addr,t),Zs(e,t)}}function oj(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(void 0!==t.r)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(i.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(qs(e,t))return;i.uniform3fv(this.addr,t),Zs(e,t)}}function aj(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(qs(e,t))return;i.uniform4fv(this.addr,t),Zs(e,t)}}function cj(i,t){const e=this.cache,n=t.elements;if(void 0===n){if(qs(e,t))return;i.uniformMatrix2fv(this.addr,!1,t),Zs(e,t)}else{if(qs(e,n))return;I3.set(n),i.uniformMatrix2fv(this.addr,!1,I3),Zs(e,n)}}function lj(i,t){const e=this.cache,n=t.elements;if(void 0===n){if(qs(e,t))return;i.uniformMatrix3fv(this.addr,!1,t),Zs(e,t)}else{if(qs(e,n))return;D3.set(n),i.uniformMatrix3fv(this.addr,!1,D3),Zs(e,n)}}function dj(i,t){const e=this.cache,n=t.elements;if(void 0===n){if(qs(e,t))return;i.uniformMatrix4fv(this.addr,!1,t),Zs(e,t)}else{if(qs(e,n))return;A3.set(n),i.uniformMatrix4fv(this.addr,!1,A3),Zs(e,n)}}function uj(i,t){const e=this.cache;e[0]!==t&&(i.uniform1i(this.addr,t),e[0]=t)}function hj(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2i(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(qs(e,t))return;i.uniform2iv(this.addr,t),Zs(e,t)}}function fj(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3i(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(qs(e,t))return;i.uniform3iv(this.addr,t),Zs(e,t)}}function mj(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4i(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(qs(e,t))return;i.uniform4iv(this.addr,t),Zs(e,t)}}function pj(i,t){const e=this.cache;e[0]!==t&&(i.uniform1ui(this.addr,t),e[0]=t)}function gj(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2ui(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(qs(e,t))return;i.uniform2uiv(this.addr,t),Zs(e,t)}}function _j(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3ui(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(qs(e,t))return;i.uniform3uiv(this.addr,t),Zs(e,t)}}function vj(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4ui(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(qs(e,t))return;i.uniform4uiv(this.addr,t),Zs(e,t)}}function bj(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTexture2D(t||w3,r)}function yj(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTexture3D(t||C3,r)}function xj(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTextureCube(t||S3,r)}function wj(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTexture2DArray(t||E3,r)}function Cj(i,t){i.uniform1fv(this.addr,t)}function Sj(i,t){const e=s0(t,this.size,2);i.uniform2fv(this.addr,e)}function Mj(i,t){const e=s0(t,this.size,3);i.uniform3fv(this.addr,e)}function Tj(i,t){const e=s0(t,this.size,4);i.uniform4fv(this.addr,e)}function Aj(i,t){const e=s0(t,this.size,4);i.uniformMatrix2fv(this.addr,!1,e)}function Dj(i,t){const e=s0(t,this.size,9);i.uniformMatrix3fv(this.addr,!1,e)}function Ij(i,t){const e=s0(t,this.size,16);i.uniformMatrix4fv(this.addr,!1,e)}function kj(i,t){i.uniform1iv(this.addr,t)}function Rj(i,t){i.uniform2iv(this.addr,t)}function Pj(i,t){i.uniform3iv(this.addr,t)}function Oj(i,t){i.uniform4iv(this.addr,t)}function Nj(i,t){i.uniform1uiv(this.addr,t)}function Lj(i,t){i.uniform2uiv(this.addr,t)}function Fj(i,t){i.uniform3uiv(this.addr,t)}function Uj(i,t){i.uniform4uiv(this.addr,t)}function Bj(i,t,e){const n=this.cache,r=t.length,s=yA(e,r);qs(n,s)||(i.uniform1iv(this.addr,s),Zs(n,s));for(let l=0;l!==r;++l)e.setTexture2D(t[l]||w3,s[l])}function Vj(i,t,e){const n=this.cache,r=t.length,s=yA(e,r);qs(n,s)||(i.uniform1iv(this.addr,s),Zs(n,s));for(let l=0;l!==r;++l)e.setTexture3D(t[l]||C3,s[l])}function zj(i,t,e){const n=this.cache,r=t.length,s=yA(e,r);qs(n,s)||(i.uniform1iv(this.addr,s),Zs(n,s));for(let l=0;l!==r;++l)e.setTextureCube(t[l]||S3,s[l])}function Hj(i,t,e){const n=this.cache,r=t.length,s=yA(e,r);qs(n,s)||(i.uniform1iv(this.addr,s),Zs(n,s));for(let l=0;l!==r;++l)e.setTexture2DArray(t[l]||E3,s[l])}class Wj{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function Ej(i){switch(i){case 5126:return rj;case 35664:return sj;case 35665:return oj;case 35666:return aj;case 35674:return cj;case 35675:return lj;case 35676:return dj;case 5124:case 35670:return uj;case 35667:case 35671:return hj;case 35668:case 35672:return fj;case 35669:case 35673:return mj;case 5125:return pj;case 36294:return gj;case 36295:return _j;case 36296:return vj;case 35678:case 36198:case 36298:case 36306:case 35682:return bj;case 35679:case 36299:case 36307:return yj;case 35680:case 36300:case 36308:case 36293:return xj;case 36289:case 36303:case 36311:case 36292:return wj}}(e.type)}}class jj{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function Gj(i){switch(i){case 5126:return Cj;case 35664:return Sj;case 35665:return Mj;case 35666:return Tj;case 35674:return Aj;case 35675:return Dj;case 35676:return Ij;case 5124:case 35670:return kj;case 35667:case 35671:return Rj;case 35668:case 35672:return Pj;case 35669:case 35673:return Oj;case 5125:return Nj;case 36294:return Lj;case 36295:return Fj;case 36296:return Uj;case 35678:case 36198:case 36298:case 36306:case 35682:return Bj;case 35679:case 36299:case 36307:return Vj;case 35680:case 36300:case 36308:case 36293:return zj;case 36289:case 36303:case 36311:case 36292:return Hj}}(e.type)}}class $j{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,n){const r=this.seq;for(let s=0,l=r.length;s!==l;++s){const u=r[s];u.setValue(t,e[u.id],n)}}}const LP=/(\w+)(\])?(\[|\.)?/g;function k3(i,t){i.seq.push(t),i.map[t.id]=t}function Yj(i,t,e){const n=i.name,r=n.length;for(LP.lastIndex=0;;){const s=LP.exec(n);let u=s[1];const p=s[3];if("]"===s[2]&&(u|=0),void 0===p||"["===p&&LP.lastIndex+2===r){k3(e,void 0===p?new Wj(u,i,t):new jj(u,i,t));break}{let y=e.map[u];void 0===y&&(y=new $j(u),k3(e,y)),e=y}}}class xA{constructor(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const s=t.getActiveUniform(e,r);Yj(s,t.getUniformLocation(e,s.name),this)}}setValue(t,e,n,r){const s=this.map[e];void 0!==s&&s.setValue(t,n,r)}setOptional(t,e,n){const r=e[n];void 0!==r&&this.setValue(t,n,r)}static upload(t,e,n,r){for(let s=0,l=e.length;s!==l;++s){const u=e[s],f=n[u.id];!1!==f.needsUpdate&&u.setValue(t,f.value,r)}}static seqWithValue(t,e){const n=[];for(let r=0,s=t.length;r!==s;++r){const l=t[r];l.id in e&&n.push(l)}return n}}function R3(i,t,e){const n=i.createShader(t);return i.shaderSource(n,e),i.compileShader(n),n}const qj=37297;let Zj=0;function P3(i,t,e){const n=i.getShaderParameter(t,i.COMPILE_STATUS),r=i.getShaderInfoLog(t).trim();if(n&&""===r)return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const l=parseInt(s[1]);return e.toUpperCase()+"\n\n"+r+"\n\n"+function Xj(i,t){const e=i.split("\n"),n=[],r=Math.max(t-6,0),s=Math.min(t+6,e.length);for(let l=r;l<s;l++){const u=l+1;n.push(`${u===t?">":" "} ${u}: ${e[l]}`)}return n.join("\n")}(i.getShaderSource(t),l)}return r}function Qj(i,t){const e=function Kj(i){const t=Ri.getPrimaries(Ri.workingColorSpace),e=Ri.getPrimaries(i);let n;switch(t===e?n="":t===By&&e===Od?n="LinearDisplayP3ToLinearSRGB":t===Od&&e===By&&(n="LinearSRGBToLinearDisplayP3"),i){case Lc:case z_:return[n,"LinearTransferOETF"];case Wr:case zT:return[n,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",i),[n,"LinearTransferOETF"]}}(t);return`vec4 ${i}( vec4 value ) { return ${e[0]}( ${e[1]}( value ) ); }`}function Jj(i,t){let e;switch(t){case P1:e="Linear";break;case O1:e="Reinhard";break;case N1:e="OptimizedCineon";break;case L1:e="ACESFilmic";break;case F1:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+i+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}function ME(i){return""!==i}function O3(i,t){const e=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,e).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function N3(i,t){return i.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const i8=/^[ \t]*#include +<([\w\d./]+)>/gm;function FP(i){return i.replace(i8,s8)}const r8=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function s8(i,t){let e=ci[t];if(void 0===e){const n=r8.get(t);if(void 0===n)throw new Error("Can not resolve #include <"+t+">");e=ci[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,n)}return FP(e)}const o8=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function L3(i){return i.replace(o8,a8)}function a8(i,t,e,n){let r="";for(let s=parseInt(t);s<parseInt(e);s++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function F3(i){let t="precision "+i.precision+" float;\nprecision "+i.precision+" int;";return"highp"===i.precision?t+="\n#define HIGH_PRECISION":"mediump"===i.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===i.precision&&(t+="\n#define LOW_PRECISION"),t}function f8(i,t,e,n){const r=i.getContext(),s=e.defines;let l=e.vertexShader,u=e.fragmentShader;const f=function c8(i){let t="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===pT?t="SHADOWMAP_TYPE_PCF":i.shadowMapType===y1?t="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===_l&&(t="SHADOWMAP_TYPE_VSM"),t}(e),p=function l8(i){let t="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case Vu:case Pc:t="ENVMAP_TYPE_CUBE";break;case hp:t="ENVMAP_TYPE_CUBE_UV"}return t}(e),b=function d8(i){let t="ENVMAP_MODE_REFLECTION";return i.envMap&&i.envMapMode===Pc&&(t="ENVMAP_MODE_REFRACTION"),t}(e),y=function u8(i){let t="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case Vw:t="ENVMAP_BLENDING_MULTIPLY";break;case k1:t="ENVMAP_BLENDING_MIX";break;case R1:t="ENVMAP_BLENDING_ADD"}return t}(e),w=function h8(i){const t=i.envMapCubeUVHeight;if(null===t)return null;const e=Math.log2(t)-2,n=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),112)),texelHeight:n,maxMip:e}}(e),S=e.isWebGL2?"":function e8(i){return[i.extensionDerivatives||i.envMapCubeUVHeight||i.bumpMap||i.normalMapTangentSpace||i.clearcoatNormalMap||i.flatShading||"physical"===i.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(i.extensionFragDepth||i.logarithmicDepthBuffer)&&i.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",i.extensionDrawBuffers&&i.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(i.extensionShaderTextureLOD||i.envMap||i.transmission)&&i.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ME).join("\n")}(e),A=function t8(i){const t=[];for(const e in i){const n=i[e];!1!==n&&t.push("#define "+e+" "+n)}return t.join("\n")}(s),P=r.createProgram();let I,k,U=e.glslVersion?"#version "+e.glslVersion+"\n":"";e.isRawShaderMaterial?(I=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,A].filter(ME).join("\n"),I.length>0&&(I+="\n"),k=[S,"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,A].filter(ME).join("\n"),k.length>0&&(k+="\n")):(I=[F3(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,A,e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+b:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.displacementMap?"#define USE_DISPLACEMENTMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.mapUv?"#define MAP_UV "+e.mapUv:"",e.alphaMapUv?"#define ALPHAMAP_UV "+e.alphaMapUv:"",e.lightMapUv?"#define LIGHTMAP_UV "+e.lightMapUv:"",e.aoMapUv?"#define AOMAP_UV "+e.aoMapUv:"",e.emissiveMapUv?"#define EMISSIVEMAP_UV "+e.emissiveMapUv:"",e.bumpMapUv?"#define BUMPMAP_UV "+e.bumpMapUv:"",e.normalMapUv?"#define NORMALMAP_UV "+e.normalMapUv:"",e.displacementMapUv?"#define DISPLACEMENTMAP_UV "+e.displacementMapUv:"",e.metalnessMapUv?"#define METALNESSMAP_UV "+e.metalnessMapUv:"",e.roughnessMapUv?"#define ROUGHNESSMAP_UV "+e.roughnessMapUv:"",e.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+e.anisotropyMapUv:"",e.clearcoatMapUv?"#define CLEARCOATMAP_UV "+e.clearcoatMapUv:"",e.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+e.clearcoatNormalMapUv:"",e.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+e.clearcoatRoughnessMapUv:"",e.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+e.iridescenceMapUv:"",e.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+e.iridescenceThicknessMapUv:"",e.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+e.sheenColorMapUv:"",e.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+e.sheenRoughnessMapUv:"",e.specularMapUv?"#define SPECULARMAP_UV "+e.specularMapUv:"",e.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+e.specularColorMapUv:"",e.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+e.specularIntensityMapUv:"",e.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+e.transmissionMapUv:"",e.thicknessMapUv?"#define THICKNESSMAP_UV "+e.thicknessMapUv:"",e.vertexTangents&&!1===e.flatShading?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&!1===e.flatShading?"#define USE_MORPHNORMALS":"",e.morphColors&&e.isWebGL2?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+f:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.useLegacyLights?"#define LEGACY_LIGHTS":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ME).join("\n"),k=[S,F3(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,A,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+p:"",e.envMap?"#define "+b:"",e.envMap?"#define "+y:"",w?"#define CUBEUV_TEXEL_WIDTH "+w.texelWidth:"",w?"#define CUBEUV_TEXEL_HEIGHT "+w.texelHeight:"",w?"#define CUBEUV_MAX_MIP "+w.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents&&!1===e.flatShading?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+f:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.useLegacyLights?"#define LEGACY_LIGHTS":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==kd?"#define TONE_MAPPING":"",e.toneMapping!==kd?ci.tonemapping_pars_fragment:"",e.toneMapping!==kd?Jj("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",ci.colorspace_pars_fragment,Qj("linearToOutputTexel",e.outputColorSpace),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"","\n"].filter(ME).join("\n")),l=FP(l),l=O3(l,e),l=N3(l,e),u=FP(u),u=O3(u,e),u=N3(u,e),l=L3(l),u=L3(u),e.isWebGL2&&!0!==e.isRawShaderMaterial&&(U="#version 300 es\n",I=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+I,k=["precision mediump sampler2DArray;","#define varying in",e.glslVersion===lE?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===lE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+k);const B=U+k+u,j=R3(r,r.VERTEX_SHADER,U+I+l),q=R3(r,r.FRAGMENT_SHADER,B);function J(ke){if(i.debug.checkShaderErrors){const nt=r.getProgramInfoLog(P).trim(),ft=r.getShaderInfoLog(j).trim(),he=r.getShaderInfoLog(q).trim();let Ve=!0,xe=!0;if(!1===r.getProgramParameter(P,r.LINK_STATUS))if(Ve=!1,"function"==typeof i.debug.onShaderError)i.debug.onShaderError(r,P,j,q);else{const Ce=P3(r,j,"vertex"),ze=P3(r,q,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(P,r.VALIDATE_STATUS)+"\n\nProgram Info Log: "+nt+"\n"+Ce+"\n"+ze)}else""!==nt?console.warn("THREE.WebGLProgram: Program Info Log:",nt):(""===ft||""===he)&&(xe=!1);xe&&(ke.diagnostics={runnable:Ve,programLog:nt,vertexShader:{log:ft,prefix:I},fragmentShader:{log:he,prefix:k}})}r.deleteShader(j),r.deleteShader(q),le=new xA(r,P),H=function n8(i,t){const e={},n=i.getProgramParameter(t,i.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){const s=i.getActiveAttrib(t,r),l=s.name;let u=1;s.type===i.FLOAT_MAT2&&(u=2),s.type===i.FLOAT_MAT3&&(u=3),s.type===i.FLOAT_MAT4&&(u=4),e[l]={type:s.type,location:i.getAttribLocation(t,l),locationSize:u}}return e}(r,P)}let le,H;r.attachShader(P,j),r.attachShader(P,q),void 0!==e.index0AttributeName?r.bindAttribLocation(P,0,e.index0AttributeName):!0===e.morphTargets&&r.bindAttribLocation(P,0,"position"),r.linkProgram(P),this.getUniforms=function(){return void 0===le&&J(this),le},this.getAttributes=function(){return void 0===H&&J(this),H};let K=!1===e.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===K&&(K=r.getProgramParameter(P,qj)),K},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(P),this.program=void 0},this.type=e.shaderType,this.name=e.shaderName,this.id=Zj++,this.cacheKey=t,this.usedTimes=1,this.program=P,this.vertexShader=j,this.fragmentShader=q,this}let m8=0;class p8{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const n=t.fragmentShader,r=this._getShaderStage(t.vertexShader),s=this._getShaderStage(n),l=this._getShaderCacheForMaterial(t);return!1===l.has(r)&&(l.add(r),r.usedTimes++),!1===l.has(s)&&(l.add(s),s.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const n of e)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let n=e.get(t);return void 0===n&&(n=new Set,e.set(t,n)),n}_getShaderStage(t){const e=this.shaderCache;let n=e.get(t);return void 0===n&&(n=new g8(t),e.set(t,n)),n}}class g8{constructor(t){this.id=m8++,this.code=t,this.usedTimes=0}}function _8(i,t,e,n,r,s,l){const u=new iA,f=new p8,p=[],b=r.isWebGL2,y=r.logarithmicDepthBuffer,w=r.vertexTextures;let S=r.precision;const A={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function P(H){return 0===H?"uv":`uv${H}`}return{getParameters:function I(H,K,ke,nt,ft){const he=nt.fog,Ve=ft.geometry,Ce=(H.isMeshStandardMaterial?e:t).get(H.envMap||(H.isMeshStandardMaterial?nt.environment:null)),ze=Ce&&Ce.mapping===hp?Ce.image.height:null,Ue=A[H.type];null!==H.precision&&(S=r.getMaxPrecision(H.precision),S!==H.precision&&console.warn("THREE.WebGLProgram.getParameters:",H.precision,"not supported, using",S,"instead."));const rt=Ve.morphAttributes.position||Ve.morphAttributes.normal||Ve.morphAttributes.color,me=void 0!==rt?rt.length:0;let Nt,xt,en,Ln,$e=0;if(void 0!==Ve.morphAttributes.position&&($e=1),void 0!==Ve.morphAttributes.normal&&($e=2),void 0!==Ve.morphAttributes.color&&($e=3),Ue){const Rs=Ku[Ue];Nt=Rs.vertexShader,xt=Rs.fragmentShader}else Nt=H.vertexShader,xt=H.fragmentShader,f.update(H),en=f.getVertexShaderID(H),Ln=f.getFragmentShaderID(H);const on=i.getRenderTarget(),yn=!0===ft.isInstancedMesh,wn=!!H.map,kn=!!Ce,ce=!!H.aoMap,Vt=!!H.lightMap,ot=!!H.bumpMap,St=!!H.normalMap,_t=!!H.displacementMap,Mn=!!H.emissiveMap,Qt=!!H.metalnessMap,un=!!H.roughnessMap,ei=H.anisotropy>0,Ei=H.clearcoat>0,ds=H.iridescence>0,ne=H.sheen>0,G=H.transmission>0,Fe=ei&&!!H.anisotropyMap,Tt=Ei&&!!H.clearcoatMap,yt=Ei&&!!H.clearcoatNormalMap,At=Ei&&!!H.clearcoatRoughnessMap,_n=ds&&!!H.iridescenceMap,Lt=ds&&!!H.iridescenceThicknessMap,Yt=ne&&!!H.sheenColorMap,Yn=ne&&!!H.sheenRoughnessMap,Li=!!H.specularMap,kt=!!H.specularColorMap,nr=!!H.specularIntensityMap,ri=G&&!!H.transmissionMap,qn=G&&!!H.thicknessMap,nn=!!H.alphaMap,qt=!!H.extensions,Pt=!!Ve.attributes.uv1,it=!!Ve.attributes.uv2,Ut=!!Ve.attributes.uv3;let Vn=kd;return H.toneMapped&&(null===on||!0===on.isXRRenderTarget)&&(Vn=i.toneMapping),{isWebGL2:b,shaderID:Ue,shaderType:H.type,shaderName:H.name,vertexShader:Nt,fragmentShader:xt,defines:H.defines,customVertexShaderID:en,customFragmentShaderID:Ln,isRawShaderMaterial:!0===H.isRawShaderMaterial,glslVersion:H.glslVersion,precision:S,instancing:yn,instancingColor:yn&&null!==ft.instanceColor,supportsVertexTextures:w,outputColorSpace:null===on?i.outputColorSpace:!0===on.isXRRenderTarget?on.texture.colorSpace:Lc,map:wn,matcap:!!H.matcap,envMap:kn,envMapMode:kn&&Ce.mapping,envMapCubeUVHeight:ze,aoMap:ce,lightMap:Vt,bumpMap:ot,normalMap:St,displacementMap:w&&_t,emissiveMap:Mn,normalMapObjectSpace:St&&1===H.normalMapType,normalMapTangentSpace:St&&0===H.normalMapType,metalnessMap:Qt,roughnessMap:un,anisotropy:ei,anisotropyMap:Fe,clearcoat:Ei,clearcoatMap:Tt,clearcoatNormalMap:yt,clearcoatRoughnessMap:At,iridescence:ds,iridescenceMap:_n,iridescenceThicknessMap:Lt,sheen:ne,sheenColorMap:Yt,sheenRoughnessMap:Yn,specularMap:Li,specularColorMap:kt,specularIntensityMap:nr,transmission:G,transmissionMap:ri,thicknessMap:qn,gradientMap:!!H.gradientMap,opaque:!1===H.transparent&&1===H.blending,alphaMap:nn,alphaTest:H.alphaTest>0,alphaHash:!!H.alphaHash,combine:H.combine,mapUv:wn&&P(H.map.channel),aoMapUv:ce&&P(H.aoMap.channel),lightMapUv:Vt&&P(H.lightMap.channel),bumpMapUv:ot&&P(H.bumpMap.channel),normalMapUv:St&&P(H.normalMap.channel),displacementMapUv:_t&&P(H.displacementMap.channel),emissiveMapUv:Mn&&P(H.emissiveMap.channel),metalnessMapUv:Qt&&P(H.metalnessMap.channel),roughnessMapUv:un&&P(H.roughnessMap.channel),anisotropyMapUv:Fe&&P(H.anisotropyMap.channel),clearcoatMapUv:Tt&&P(H.clearcoatMap.channel),clearcoatNormalMapUv:yt&&P(H.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:At&&P(H.clearcoatRoughnessMap.channel),iridescenceMapUv:_n&&P(H.iridescenceMap.channel),iridescenceThicknessMapUv:Lt&&P(H.iridescenceThicknessMap.channel),sheenColorMapUv:Yt&&P(H.sheenColorMap.channel),sheenRoughnessMapUv:Yn&&P(H.sheenRoughnessMap.channel),specularMapUv:Li&&P(H.specularMap.channel),specularColorMapUv:kt&&P(H.specularColorMap.channel),specularIntensityMapUv:nr&&P(H.specularIntensityMap.channel),transmissionMapUv:ri&&P(H.transmissionMap.channel),thicknessMapUv:qn&&P(H.thicknessMap.channel),alphaMapUv:nn&&P(H.alphaMap.channel),vertexTangents:!!Ve.attributes.tangent&&(St||ei),vertexColors:H.vertexColors,vertexAlphas:!0===H.vertexColors&&!!Ve.attributes.color&&4===Ve.attributes.color.itemSize,vertexUv1s:Pt,vertexUv2s:it,vertexUv3s:Ut,pointsUvs:!0===ft.isPoints&&!!Ve.attributes.uv&&(wn||nn),fog:!!he,useFog:!0===H.fog,fogExp2:he&&he.isFogExp2,flatShading:!0===H.flatShading,sizeAttenuation:!0===H.sizeAttenuation,logarithmicDepthBuffer:y,skinning:!0===ft.isSkinnedMesh,morphTargets:void 0!==Ve.morphAttributes.position,morphNormals:void 0!==Ve.morphAttributes.normal,morphColors:void 0!==Ve.morphAttributes.color,morphTargetsCount:me,morphTextureStride:$e,numDirLights:K.directional.length,numPointLights:K.point.length,numSpotLights:K.spot.length,numSpotLightMaps:K.spotLightMap.length,numRectAreaLights:K.rectArea.length,numHemiLights:K.hemi.length,numDirLightShadows:K.directionalShadowMap.length,numPointLightShadows:K.pointShadowMap.length,numSpotLightShadows:K.spotShadowMap.length,numSpotLightShadowsWithMaps:K.numSpotLightShadowsWithMaps,numLightProbes:K.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:H.dithering,shadowMapEnabled:i.shadowMap.enabled&&ke.length>0,shadowMapType:i.shadowMap.type,toneMapping:Vn,useLegacyLights:i._useLegacyLights,decodeVideoTexture:wn&&!0===H.map.isVideoTexture&&Ri.getTransfer(H.map.colorSpace)===tr,premultipliedAlpha:H.premultipliedAlpha,doubleSided:2===H.side,flipSided:1===H.side,useDepthPacking:H.depthPacking>=0,depthPacking:H.depthPacking||0,index0AttributeName:H.index0AttributeName,extensionDerivatives:qt&&!0===H.extensions.derivatives,extensionFragDepth:qt&&!0===H.extensions.fragDepth,extensionDrawBuffers:qt&&!0===H.extensions.drawBuffers,extensionShaderTextureLOD:qt&&!0===H.extensions.shaderTextureLOD,rendererExtensionFragDepth:b||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:b||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:b||n.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:H.customProgramCacheKey()}},getProgramCacheKey:function k(H){const K=[];if(H.shaderID?K.push(H.shaderID):(K.push(H.customVertexShaderID),K.push(H.customFragmentShaderID)),void 0!==H.defines)for(const ke in H.defines)K.push(ke),K.push(H.defines[ke]);return!1===H.isRawShaderMaterial&&(function U(H,K){H.push(K.precision),H.push(K.outputColorSpace),H.push(K.envMapMode),H.push(K.envMapCubeUVHeight),H.push(K.mapUv),H.push(K.alphaMapUv),H.push(K.lightMapUv),H.push(K.aoMapUv),H.push(K.bumpMapUv),H.push(K.normalMapUv),H.push(K.displacementMapUv),H.push(K.emissiveMapUv),H.push(K.metalnessMapUv),H.push(K.roughnessMapUv),H.push(K.anisotropyMapUv),H.push(K.clearcoatMapUv),H.push(K.clearcoatNormalMapUv),H.push(K.clearcoatRoughnessMapUv),H.push(K.iridescenceMapUv),H.push(K.iridescenceThicknessMapUv),H.push(K.sheenColorMapUv),H.push(K.sheenRoughnessMapUv),H.push(K.specularMapUv),H.push(K.specularColorMapUv),H.push(K.specularIntensityMapUv),H.push(K.transmissionMapUv),H.push(K.thicknessMapUv),H.push(K.combine),H.push(K.fogExp2),H.push(K.sizeAttenuation),H.push(K.morphTargetsCount),H.push(K.morphAttributeCount),H.push(K.numDirLights),H.push(K.numPointLights),H.push(K.numSpotLights),H.push(K.numSpotLightMaps),H.push(K.numHemiLights),H.push(K.numRectAreaLights),H.push(K.numDirLightShadows),H.push(K.numPointLightShadows),H.push(K.numSpotLightShadows),H.push(K.numSpotLightShadowsWithMaps),H.push(K.numLightProbes),H.push(K.shadowMapType),H.push(K.toneMapping),H.push(K.numClippingPlanes),H.push(K.numClipIntersection),H.push(K.depthPacking)}(K,H),function O(H,K){u.disableAll(),K.isWebGL2&&u.enable(0),K.supportsVertexTextures&&u.enable(1),K.instancing&&u.enable(2),K.instancingColor&&u.enable(3),K.matcap&&u.enable(4),K.envMap&&u.enable(5),K.normalMapObjectSpace&&u.enable(6),K.normalMapTangentSpace&&u.enable(7),K.clearcoat&&u.enable(8),K.iridescence&&u.enable(9),K.alphaTest&&u.enable(10),K.vertexColors&&u.enable(11),K.vertexAlphas&&u.enable(12),K.vertexUv1s&&u.enable(13),K.vertexUv2s&&u.enable(14),K.vertexUv3s&&u.enable(15),K.vertexTangents&&u.enable(16),K.anisotropy&&u.enable(17),K.alphaHash&&u.enable(18),H.push(u.mask),u.disableAll(),K.fog&&u.enable(0),K.useFog&&u.enable(1),K.flatShading&&u.enable(2),K.logarithmicDepthBuffer&&u.enable(3),K.skinning&&u.enable(4),K.morphTargets&&u.enable(5),K.morphNormals&&u.enable(6),K.morphColors&&u.enable(7),K.premultipliedAlpha&&u.enable(8),K.shadowMapEnabled&&u.enable(9),K.useLegacyLights&&u.enable(10),K.doubleSided&&u.enable(11),K.flipSided&&u.enable(12),K.useDepthPacking&&u.enable(13),K.dithering&&u.enable(14),K.transmission&&u.enable(15),K.sheen&&u.enable(16),K.opaque&&u.enable(17),K.pointsUvs&&u.enable(18),K.decodeVideoTexture&&u.enable(19),H.push(u.mask)}(K,H),K.push(i.outputColorSpace)),K.push(H.customProgramCacheKey),K.join()},getUniforms:function B(H){const K=A[H.type];let ke;return ke=K?SE.clone(Ku[K].uniforms):H.uniforms,ke},acquireProgram:function j(H,K){let ke;for(let nt=0,ft=p.length;nt<ft;nt++){const he=p[nt];if(he.cacheKey===K){ke=he,++ke.usedTimes;break}}return void 0===ke&&(ke=new f8(i,K,H,s),p.push(ke)),ke},releaseProgram:function q(H){if(0==--H.usedTimes){const K=p.indexOf(H);p[K]=p[p.length-1],p.pop(),H.destroy()}},releaseShaderCache:function J(H){f.remove(H)},programs:p,dispose:function le(){f.dispose()}}}function v8(){let i=new WeakMap;return{get:function t(s){let l=i.get(s);return void 0===l&&(l={},i.set(s,l)),l},remove:function e(s){i.delete(s)},update:function n(s,l,u){i.get(s)[l]=u},dispose:function r(){i=new WeakMap}}}function b8(i,t){return i.groupOrder!==t.groupOrder?i.groupOrder-t.groupOrder:i.renderOrder!==t.renderOrder?i.renderOrder-t.renderOrder:i.material.id!==t.material.id?i.material.id-t.material.id:i.z!==t.z?i.z-t.z:i.id-t.id}function U3(i,t){return i.groupOrder!==t.groupOrder?i.groupOrder-t.groupOrder:i.renderOrder!==t.renderOrder?i.renderOrder-t.renderOrder:i.z!==t.z?t.z-i.z:i.id-t.id}function B3(){const i=[];let t=0;const e=[],n=[],r=[];function l(y,w,S,A,P,I){let k=i[t];return void 0===k?(k={id:y.id,object:y,geometry:w,material:S,groupOrder:A,renderOrder:y.renderOrder,z:P,group:I},i[t]=k):(k.id=y.id,k.object=y,k.geometry=w,k.material=S,k.groupOrder=A,k.renderOrder=y.renderOrder,k.z=P,k.group=I),t++,k}return{opaque:e,transmissive:n,transparent:r,init:function s(){t=0,e.length=0,n.length=0,r.length=0},push:function u(y,w,S,A,P,I){const k=l(y,w,S,A,P,I);S.transmission>0?n.push(k):!0===S.transparent?r.push(k):e.push(k)},unshift:function f(y,w,S,A,P,I){const k=l(y,w,S,A,P,I);S.transmission>0?n.unshift(k):!0===S.transparent?r.unshift(k):e.unshift(k)},finish:function b(){for(let y=t,w=i.length;y<w;y++){const S=i[y];if(null===S.id)break;S.id=null,S.object=null,S.geometry=null,S.material=null,S.group=null}},sort:function p(y,w){e.length>1&&e.sort(y||b8),n.length>1&&n.sort(w||U3),r.length>1&&r.sort(w||U3)}}}function y8(){let i=new WeakMap;return{get:function t(n,r){const s=i.get(n);let l;return void 0===s?(l=new B3,i.set(n,[l])):r>=s.length?(l=new B3,s.push(l)):l=s[r],l},dispose:function e(){i=new WeakMap}}}function x8(){const i={};return{get:function(t){if(void 0!==i[t.id])return i[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new ee,color:new Kt};break;case"SpotLight":e={position:new ee,direction:new ee,color:new Kt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new ee,color:new Kt,distance:0,decay:0};break;case"HemisphereLight":e={direction:new ee,skyColor:new Kt,groundColor:new Kt};break;case"RectAreaLight":e={color:new Kt,position:new ee,halfWidth:new ee,halfHeight:new ee}}return i[t.id]=e,e}}}let E8=0;function C8(i,t){return(t.castShadow?2:0)-(i.castShadow?2:0)+(t.map?1:0)-(i.map?1:0)}function S8(i,t){const e=new x8,n=function w8(){const i={};return{get:function(t){if(void 0!==i[t.id])return i[t.id];let e;switch(t.type){case"DirectionalLight":case"SpotLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ht};break;case"PointLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ht,shadowCameraNear:1,shadowCameraFar:1e3}}return i[t.id]=e,e}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let b=0;b<9;b++)r.probe.push(new ee);const s=new ee,l=new Xn,u=new Xn;return{setup:function f(b,y){let w=0,S=0,A=0;for(let nt=0;nt<9;nt++)r.probe[nt].set(0,0,0);let P=0,I=0,k=0,U=0,O=0,B=0,j=0,q=0,J=0,le=0,H=0;b.sort(C8);const K=!0===y?Math.PI:1;for(let nt=0,ft=b.length;nt<ft;nt++){const he=b[nt],Ve=he.color,xe=he.intensity,Ce=he.distance,ze=he.shadow&&he.shadow.map?he.shadow.map.texture:null;if(he.isAmbientLight)w+=Ve.r*xe*K,S+=Ve.g*xe*K,A+=Ve.b*xe*K;else if(he.isLightProbe){for(let Ue=0;Ue<9;Ue++)r.probe[Ue].addScaledVector(he.sh.coefficients[Ue],xe);H++}else if(he.isDirectionalLight){const Ue=e.get(he);if(Ue.color.copy(he.color).multiplyScalar(he.intensity*K),he.castShadow){const rt=he.shadow,me=n.get(he);me.shadowBias=rt.bias,me.shadowNormalBias=rt.normalBias,me.shadowRadius=rt.radius,me.shadowMapSize=rt.mapSize,r.directionalShadow[P]=me,r.directionalShadowMap[P]=ze,r.directionalShadowMatrix[P]=he.shadow.matrix,B++}r.directional[P]=Ue,P++}else if(he.isSpotLight){const Ue=e.get(he);Ue.position.setFromMatrixPosition(he.matrixWorld),Ue.color.copy(Ve).multiplyScalar(xe*K),Ue.distance=Ce,Ue.coneCos=Math.cos(he.angle),Ue.penumbraCos=Math.cos(he.angle*(1-he.penumbra)),Ue.decay=he.decay,r.spot[k]=Ue;const rt=he.shadow;if(he.map&&(r.spotLightMap[J]=he.map,J++,rt.updateMatrices(he),he.castShadow&&le++),r.spotLightMatrix[k]=rt.matrix,he.castShadow){const me=n.get(he);me.shadowBias=rt.bias,me.shadowNormalBias=rt.normalBias,me.shadowRadius=rt.radius,me.shadowMapSize=rt.mapSize,r.spotShadow[k]=me,r.spotShadowMap[k]=ze,q++}k++}else if(he.isRectAreaLight){const Ue=e.get(he);Ue.color.copy(Ve).multiplyScalar(xe),Ue.halfWidth.set(.5*he.width,0,0),Ue.halfHeight.set(0,.5*he.height,0),r.rectArea[U]=Ue,U++}else if(he.isPointLight){const Ue=e.get(he);if(Ue.color.copy(he.color).multiplyScalar(he.intensity*K),Ue.distance=he.distance,Ue.decay=he.decay,he.castShadow){const rt=he.shadow,me=n.get(he);me.shadowBias=rt.bias,me.shadowNormalBias=rt.normalBias,me.shadowRadius=rt.radius,me.shadowMapSize=rt.mapSize,me.shadowCameraNear=rt.camera.near,me.shadowCameraFar=rt.camera.far,r.pointShadow[I]=me,r.pointShadowMap[I]=ze,r.pointShadowMatrix[I]=he.shadow.matrix,j++}r.point[I]=Ue,I++}else if(he.isHemisphereLight){const Ue=e.get(he);Ue.skyColor.copy(he.color).multiplyScalar(xe*K),Ue.groundColor.copy(he.groundColor).multiplyScalar(xe*K),r.hemi[O]=Ue,O++}}U>0&&(t.isWebGL2||!0===i.has("OES_texture_float_linear")?(r.rectAreaLTC1=zt.LTC_FLOAT_1,r.rectAreaLTC2=zt.LTC_FLOAT_2):!0===i.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=zt.LTC_HALF_1,r.rectAreaLTC2=zt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=w,r.ambient[1]=S,r.ambient[2]=A;const ke=r.hash;(ke.directionalLength!==P||ke.pointLength!==I||ke.spotLength!==k||ke.rectAreaLength!==U||ke.hemiLength!==O||ke.numDirectionalShadows!==B||ke.numPointShadows!==j||ke.numSpotShadows!==q||ke.numSpotMaps!==J||ke.numLightProbes!==H)&&(r.directional.length=P,r.spot.length=k,r.rectArea.length=U,r.point.length=I,r.hemi.length=O,r.directionalShadow.length=B,r.directionalShadowMap.length=B,r.pointShadow.length=j,r.pointShadowMap.length=j,r.spotShadow.length=q,r.spotShadowMap.length=q,r.directionalShadowMatrix.length=B,r.pointShadowMatrix.length=j,r.spotLightMatrix.length=q+J-le,r.spotLightMap.length=J,r.numSpotLightShadowsWithMaps=le,r.numLightProbes=H,ke.directionalLength=P,ke.pointLength=I,ke.spotLength=k,ke.rectAreaLength=U,ke.hemiLength=O,ke.numDirectionalShadows=B,ke.numPointShadows=j,ke.numSpotShadows=q,ke.numSpotMaps=J,ke.numLightProbes=H,r.version=E8++)},setupView:function p(b,y){let w=0,S=0,A=0,P=0,I=0;const k=y.matrixWorldInverse;for(let U=0,O=b.length;U<O;U++){const B=b[U];if(B.isDirectionalLight){const j=r.directional[w];j.direction.setFromMatrixPosition(B.matrixWorld),s.setFromMatrixPosition(B.target.matrixWorld),j.direction.sub(s),j.direction.transformDirection(k),w++}else if(B.isSpotLight){const j=r.spot[A];j.position.setFromMatrixPosition(B.matrixWorld),j.position.applyMatrix4(k),j.direction.setFromMatrixPosition(B.matrixWorld),s.setFromMatrixPosition(B.target.matrixWorld),j.direction.sub(s),j.direction.transformDirection(k),A++}else if(B.isRectAreaLight){const j=r.rectArea[P];j.position.setFromMatrixPosition(B.matrixWorld),j.position.applyMatrix4(k),u.identity(),l.copy(B.matrixWorld),l.premultiply(k),u.extractRotation(l),j.halfWidth.set(.5*B.width,0,0),j.halfHeight.set(0,.5*B.height,0),j.halfWidth.applyMatrix4(u),j.halfHeight.applyMatrix4(u),P++}else if(B.isPointLight){const j=r.point[S];j.position.setFromMatrixPosition(B.matrixWorld),j.position.applyMatrix4(k),S++}else if(B.isHemisphereLight){const j=r.hemi[I];j.direction.setFromMatrixPosition(B.matrixWorld),j.direction.transformDirection(k),I++}}},state:r}}function V3(i,t){const e=new S8(i,t),n=[],r=[];return{init:function s(){n.length=0,r.length=0},state:{lightsArray:n,shadowsArray:r,lights:e},setupLights:function f(y){e.setup(n,y)},setupLightsView:function p(y){e.setupView(n,y)},pushLight:function l(y){n.push(y)},pushShadow:function u(y){r.push(y)}}}function M8(i,t){let e=new WeakMap;return{get:function n(s,l=0){const u=e.get(s);let f;return void 0===u?(f=new V3(i,t),e.set(s,[f])):l>=u.length?(f=new V3(i,t),u.push(f)):f=u[l],f},dispose:function r(){e=new WeakMap}}}class z3 extends Rf{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class H3 extends Rf{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}function D8(i,t,e){let n=new DP;const r=new ht,s=new ht,l=new Yi,u=new z3({depthPacking:3201}),f=new H3,p={},b=e.maxTextureSize,y={0:1,1:0,2:2},w=new Cp({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ht},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),S=w.clone();S.defines.HORIZONTAL_PASS=1;const A=new gi;A.setAttribute("position",new Ys(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const P=new Wt(A,w),I=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=pT;let k=this.type;function U(j,q){const J=t.update(P);w.defines.VSM_SAMPLES!==j.blurSamples&&(w.defines.VSM_SAMPLES=j.blurSamples,S.defines.VSM_SAMPLES=j.blurSamples,w.needsUpdate=!0,S.needsUpdate=!0),null===j.mapPass&&(j.mapPass=new $u(r.x,r.y)),w.uniforms.shadow_pass.value=j.map.texture,w.uniforms.resolution.value=j.mapSize,w.uniforms.radius.value=j.radius,i.setRenderTarget(j.mapPass),i.clear(),i.renderBufferDirect(q,null,J,w,P,null),S.uniforms.shadow_pass.value=j.mapPass.texture,S.uniforms.resolution.value=j.mapSize,S.uniforms.radius.value=j.radius,i.setRenderTarget(j.map),i.clear(),i.renderBufferDirect(q,null,J,S,P,null)}function O(j,q,J,le){let H=null;const K=!0===J.isPointLight?j.customDistanceMaterial:j.customDepthMaterial;if(void 0!==K)H=K;else if(H=!0===J.isPointLight?f:u,i.localClippingEnabled&&!0===q.clipShadows&&Array.isArray(q.clippingPlanes)&&0!==q.clippingPlanes.length||q.displacementMap&&0!==q.displacementScale||q.alphaMap&&q.alphaTest>0||q.map&&q.alphaTest>0){const ke=H.uuid,nt=q.uuid;let ft=p[ke];void 0===ft&&(ft={},p[ke]=ft);let he=ft[nt];void 0===he&&(he=H.clone(),ft[nt]=he),H=he}return H.visible=q.visible,H.wireframe=q.wireframe,H.side=le===_l?null!==q.shadowSide?q.shadowSide:q.side:null!==q.shadowSide?q.shadowSide:y[q.side],H.alphaMap=q.alphaMap,H.alphaTest=q.alphaTest,H.map=q.map,H.clipShadows=q.clipShadows,H.clippingPlanes=q.clippingPlanes,H.clipIntersection=q.clipIntersection,H.displacementMap=q.displacementMap,H.displacementScale=q.displacementScale,H.displacementBias=q.displacementBias,H.wireframeLinewidth=q.wireframeLinewidth,H.linewidth=q.linewidth,!0===J.isPointLight&&!0===H.isMeshDistanceMaterial&&(i.properties.get(H).light=J),H}function B(j,q,J,le,H){if(!1===j.visible)return;if(j.layers.test(q.layers)&&(j.isMesh||j.isLine||j.isPoints)&&(j.castShadow||j.receiveShadow&&H===_l)&&(!j.frustumCulled||n.intersectsObject(j))){j.modelViewMatrix.multiplyMatrices(J.matrixWorldInverse,j.matrixWorld);const nt=t.update(j),ft=j.material;if(Array.isArray(ft)){const he=nt.groups;for(let Ve=0,xe=he.length;Ve<xe;Ve++){const Ce=he[Ve],ze=ft[Ce.materialIndex];if(ze&&ze.visible){const Ue=O(j,ze,le,H);i.renderBufferDirect(J,null,nt,Ue,j,Ce)}}}else if(ft.visible){const he=O(j,ft,le,H);i.renderBufferDirect(J,null,nt,he,j,null)}}const ke=j.children;for(let nt=0,ft=ke.length;nt<ft;nt++)B(ke[nt],q,J,le,H)}this.render=function(j,q,J){if(!1===I.enabled||!1===I.autoUpdate&&!1===I.needsUpdate||0===j.length)return;const le=i.getRenderTarget(),H=i.getActiveCubeFace(),K=i.getActiveMipmapLevel(),ke=i.state;ke.setBlending(0),ke.buffers.color.setClear(1,1,1,1),ke.buffers.depth.setTest(!0),ke.setScissorTest(!1);const nt=k!==_l&&this.type===_l,ft=k===_l&&this.type!==_l;for(let he=0,Ve=j.length;he<Ve;he++){const xe=j[he],Ce=xe.shadow;if(void 0===Ce){console.warn("THREE.WebGLShadowMap:",xe,"has no shadow.");continue}if(!1===Ce.autoUpdate&&!1===Ce.needsUpdate)continue;r.copy(Ce.mapSize);const ze=Ce.getFrameExtents();if(r.multiply(ze),s.copy(Ce.mapSize),(r.x>b||r.y>b)&&(r.x>b&&(s.x=Math.floor(b/ze.x),r.x=s.x*ze.x,Ce.mapSize.x=s.x),r.y>b&&(s.y=Math.floor(b/ze.y),r.y=s.y*ze.y,Ce.mapSize.y=s.y)),null===Ce.map||!0===nt||!0===ft){const rt=this.type!==_l?{minFilter:os,magFilter:os}:{};null!==Ce.map&&Ce.map.dispose(),Ce.map=new $u(r.x,r.y,rt),Ce.map.texture.name=xe.name+".shadowMap",Ce.camera.updateProjectionMatrix()}i.setRenderTarget(Ce.map),i.clear();const Ue=Ce.getViewportCount();for(let rt=0;rt<Ue;rt++){const me=Ce.getViewport(rt);l.set(s.x*me.x,s.y*me.y,s.x*me.z,s.y*me.w),ke.viewport(l),Ce.updateMatrices(xe,rt),n=Ce.getFrustum(),B(q,J,Ce.camera,xe,this.type)}!0!==Ce.isPointLightShadow&&this.type===_l&&U(Ce,J),Ce.needsUpdate=!1}k=this.type,I.needsUpdate=!1,i.setRenderTarget(le,H,K)}}function I8(i,t,e){const n=e.isWebGL2,u=new function r(){let pe=!1;const qt=new Yi;let Pt=null;const it=new Yi(0,0,0,0);return{setMask:function(Ut){Pt!==Ut&&!pe&&(i.colorMask(Ut,Ut,Ut,Ut),Pt=Ut)},setLocked:function(Ut){pe=Ut},setClear:function(Ut,Vn,Fi,Rs,Il){!0===Il&&(Ut*=Rs,Vn*=Rs,Fi*=Rs),qt.set(Ut,Vn,Fi,Rs),!1===it.equals(qt)&&(i.clearColor(Ut,Vn,Fi,Rs),it.copy(qt))},reset:function(){pe=!1,Pt=null,it.set(-1,0,0,0)}}},f=new function s(){let pe=!1,qt=null,Pt=null,it=null;return{setTest:function(Ut){Ut?wn(i.DEPTH_TEST):yi(i.DEPTH_TEST)},setMask:function(Ut){qt!==Ut&&!pe&&(i.depthMask(Ut),qt=Ut)},setFunc:function(Ut){if(Pt!==Ut){switch(Ut){case 0:i.depthFunc(i.NEVER);break;case 1:i.depthFunc(i.ALWAYS);break;case 2:i.depthFunc(i.LESS);break;case 3:default:i.depthFunc(i.LEQUAL);break;case 4:i.depthFunc(i.EQUAL);break;case 5:i.depthFunc(i.GEQUAL);break;case 6:i.depthFunc(i.GREATER);break;case 7:i.depthFunc(i.NOTEQUAL)}Pt=Ut}},setLocked:function(Ut){pe=Ut},setClear:function(Ut){it!==Ut&&(i.clearDepth(Ut),it=Ut)},reset:function(){pe=!1,qt=null,Pt=null,it=null}}},p=new function l(){let pe=!1,qt=null,Pt=null,it=null,Ut=null,Vn=null,Fi=null,Rs=null,Il=null;return{setTest:function(pr){pe||(pr?wn(i.STENCIL_TEST):yi(i.STENCIL_TEST))},setMask:function(pr){qt!==pr&&!pe&&(i.stencilMask(pr),qt=pr)},setFunc:function(pr,_a,oh){(Pt!==pr||it!==_a||Ut!==oh)&&(i.stencilFunc(pr,_a,oh),Pt=pr,it=_a,Ut=oh)},setOp:function(pr,_a,oh){(Vn!==pr||Fi!==_a||Rs!==oh)&&(i.stencilOp(pr,_a,oh),Vn=pr,Fi=_a,Rs=oh)},setLocked:function(pr){pe=pr},setClear:function(pr){Il!==pr&&(i.clearStencil(pr),Il=pr)},reset:function(){pe=!1,qt=null,Pt=null,it=null,Ut=null,Vn=null,Fi=null,Rs=null,Il=null}}},b=new WeakMap,y=new WeakMap;let w={},S={},A=new WeakMap,P=[],I=null,k=!1,U=null,O=null,B=null,j=null,q=null,J=null,le=null,H=new Kt(0,0,0),K=0,ke=!1,nt=null,ft=null,he=null,Ve=null,xe=null;const Ce=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ze=!1,Ue=0;const rt=i.getParameter(i.VERSION);-1!==rt.indexOf("WebGL")?(Ue=parseFloat(/^WebGL (\d)/.exec(rt)[1]),ze=Ue>=1):-1!==rt.indexOf("OpenGL ES")&&(Ue=parseFloat(/^OpenGL ES (\d)/.exec(rt)[1]),ze=Ue>=2);let me=null,$e={};const Nt=i.getParameter(i.SCISSOR_BOX),xt=i.getParameter(i.VIEWPORT),en=(new Yi).fromArray(Nt),Ln=(new Yi).fromArray(xt);function on(pe,qt,Pt,it){const Ut=new Uint8Array(4),Vn=i.createTexture();i.bindTexture(pe,Vn),i.texParameteri(pe,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(pe,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let Fi=0;Fi<Pt;Fi++)!n||pe!==i.TEXTURE_3D&&pe!==i.TEXTURE_2D_ARRAY?i.texImage2D(qt+Fi,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,Ut):i.texImage3D(qt,0,i.RGBA,1,1,it,0,i.RGBA,i.UNSIGNED_BYTE,Ut);return Vn}const yn={};function wn(pe){!0!==w[pe]&&(i.enable(pe),w[pe]=!0)}function yi(pe){!1!==w[pe]&&(i.disable(pe),w[pe]=!1)}yn[i.TEXTURE_2D]=on(i.TEXTURE_2D,i.TEXTURE_2D,1),yn[i.TEXTURE_CUBE_MAP]=on(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),n&&(yn[i.TEXTURE_2D_ARRAY]=on(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),yn[i.TEXTURE_3D]=on(i.TEXTURE_3D,i.TEXTURE_3D,1,1)),u.setClear(0,0,0,1),f.setClear(1),p.setClear(0),wn(i.DEPTH_TEST),f.setFunc(3),Qt(!1),un(1),wn(i.CULL_FACE),_t(0);const ot={100:i.FUNC_ADD,101:i.FUNC_SUBTRACT,102:i.FUNC_REVERSE_SUBTRACT};if(n)ot[103]=i.MIN,ot[104]=i.MAX;else{const pe=t.get("EXT_blend_minmax");null!==pe&&(ot[103]=pe.MIN_EXT,ot[104]=pe.MAX_EXT)}const St={200:i.ZERO,201:i.ONE,202:i.SRC_COLOR,204:i.SRC_ALPHA,210:i.SRC_ALPHA_SATURATE,208:i.DST_COLOR,206:i.DST_ALPHA,203:i.ONE_MINUS_SRC_COLOR,205:i.ONE_MINUS_SRC_ALPHA,209:i.ONE_MINUS_DST_COLOR,207:i.ONE_MINUS_DST_ALPHA,211:i.CONSTANT_COLOR,212:i.ONE_MINUS_CONSTANT_COLOR,213:i.CONSTANT_ALPHA,214:i.ONE_MINUS_CONSTANT_ALPHA};function _t(pe,qt,Pt,it,Ut,Vn,Fi,Rs,Il,pr){if(0!==pe){if(!1===k&&(wn(i.BLEND),k=!0),5===pe)Ut=Ut||qt,Vn=Vn||Pt,Fi=Fi||it,(qt!==O||Ut!==q)&&(i.blendEquationSeparate(ot[qt],ot[Ut]),O=qt,q=Ut),(Pt!==B||it!==j||Vn!==J||Fi!==le)&&(i.blendFuncSeparate(St[Pt],St[it],St[Vn],St[Fi]),B=Pt,j=it,J=Vn,le=Fi),(!1===Rs.equals(H)||Il!==K)&&(i.blendColor(Rs.r,Rs.g,Rs.b,Il),H.copy(Rs),K=Il),U=pe,ke=!1;else if(pe!==U||pr!==ke){if((100!==O||100!==q)&&(i.blendEquation(i.FUNC_ADD),O=100,q=100),pr)switch(pe){case 1:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case 2:i.blendFunc(i.ONE,i.ONE);break;case 3:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case 4:i.blendFuncSeparate(i.ZERO,i.SRC_COLOR,i.ZERO,i.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",pe)}else switch(pe){case 1:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case 2:i.blendFunc(i.SRC_ALPHA,i.ONE);break;case 3:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case 4:i.blendFunc(i.ZERO,i.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",pe)}B=null,j=null,J=null,le=null,H.set(0,0,0),K=0,U=pe,ke=pr}}else!0===k&&(yi(i.BLEND),k=!1)}function Qt(pe){nt!==pe&&(i.frontFace(pe?i.CW:i.CCW),nt=pe)}function un(pe){0!==pe?(wn(i.CULL_FACE),pe!==ft&&i.cullFace(1===pe?i.BACK:2===pe?i.FRONT:i.FRONT_AND_BACK)):yi(i.CULL_FACE),ft=pe}function Ei(pe,qt,Pt){pe?(wn(i.POLYGON_OFFSET_FILL),(Ve!==qt||xe!==Pt)&&(i.polygonOffset(qt,Pt),Ve=qt,xe=Pt)):yi(i.POLYGON_OFFSET_FILL)}return{buffers:{color:u,depth:f,stencil:p},enable:wn,disable:yi,bindFramebuffer:function kn(pe,qt){return S[pe]!==qt&&(i.bindFramebuffer(pe,qt),S[pe]=qt,n&&(pe===i.DRAW_FRAMEBUFFER&&(S[i.FRAMEBUFFER]=qt),pe===i.FRAMEBUFFER&&(S[i.DRAW_FRAMEBUFFER]=qt)),!0)},drawBuffers:function ce(pe,qt){let Pt=P,it=!1;if(pe)if(Pt=A.get(qt),void 0===Pt&&(Pt=[],A.set(qt,Pt)),pe.isWebGLMultipleRenderTargets){const Ut=pe.texture;if(Pt.length!==Ut.length||Pt[0]!==i.COLOR_ATTACHMENT0){for(let Vn=0,Fi=Ut.length;Vn<Fi;Vn++)Pt[Vn]=i.COLOR_ATTACHMENT0+Vn;Pt.length=Ut.length,it=!0}}else Pt[0]!==i.COLOR_ATTACHMENT0&&(Pt[0]=i.COLOR_ATTACHMENT0,it=!0);else Pt[0]!==i.BACK&&(Pt[0]=i.BACK,it=!0);it&&(e.isWebGL2?i.drawBuffers(Pt):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(Pt))},useProgram:function Vt(pe){return I!==pe&&(i.useProgram(pe),I=pe,!0)},setBlending:_t,setMaterial:function Mn(pe,qt){2===pe.side?yi(i.CULL_FACE):wn(i.CULL_FACE);let Pt=1===pe.side;qt&&(Pt=!Pt),Qt(Pt),1===pe.blending&&!1===pe.transparent?_t(0):_t(pe.blending,pe.blendEquation,pe.blendSrc,pe.blendDst,pe.blendEquationAlpha,pe.blendSrcAlpha,pe.blendDstAlpha,pe.blendColor,pe.blendAlpha,pe.premultipliedAlpha),f.setFunc(pe.depthFunc),f.setTest(pe.depthTest),f.setMask(pe.depthWrite),u.setMask(pe.colorWrite);const it=pe.stencilWrite;p.setTest(it),it&&(p.setMask(pe.stencilWriteMask),p.setFunc(pe.stencilFunc,pe.stencilRef,pe.stencilFuncMask),p.setOp(pe.stencilFail,pe.stencilZFail,pe.stencilZPass)),Ei(pe.polygonOffset,pe.polygonOffsetFactor,pe.polygonOffsetUnits),!0===pe.alphaToCoverage?wn(i.SAMPLE_ALPHA_TO_COVERAGE):yi(i.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:Qt,setCullFace:un,setLineWidth:function ei(pe){pe!==he&&(ze&&i.lineWidth(pe),he=pe)},setPolygonOffset:Ei,setScissorTest:function ds(pe){pe?wn(i.SCISSOR_TEST):yi(i.SCISSOR_TEST)},activeTexture:function ne(pe){void 0===pe&&(pe=i.TEXTURE0+Ce-1),me!==pe&&(i.activeTexture(pe),me=pe)},bindTexture:function G(pe,qt,Pt){void 0===Pt&&(Pt=null===me?i.TEXTURE0+Ce-1:me);let it=$e[Pt];void 0===it&&(it={type:void 0,texture:void 0},$e[Pt]=it),(it.type!==pe||it.texture!==qt)&&(me!==Pt&&(i.activeTexture(Pt),me=Pt),i.bindTexture(pe,qt||yn[pe]),it.type=pe,it.texture=qt)},unbindTexture:function Fe(){const pe=$e[me];void 0!==pe&&void 0!==pe.type&&(i.bindTexture(pe.type,null),pe.type=void 0,pe.texture=void 0)},compressedTexImage2D:function Tt(){try{i.compressedTexImage2D.apply(i,arguments)}catch(pe){console.error("THREE.WebGLState:",pe)}},compressedTexImage3D:function yt(){try{i.compressedTexImage3D.apply(i,arguments)}catch(pe){console.error("THREE.WebGLState:",pe)}},texImage2D:function kt(){try{i.texImage2D.apply(i,arguments)}catch(pe){console.error("THREE.WebGLState:",pe)}},texImage3D:function nr(){try{i.texImage3D.apply(i,arguments)}catch(pe){console.error("THREE.WebGLState:",pe)}},updateUBOMapping:function Fn(pe,qt){let Pt=y.get(qt);void 0===Pt&&(Pt=new WeakMap,y.set(qt,Pt));let it=Pt.get(pe);void 0===it&&(it=i.getUniformBlockIndex(qt,pe.name),Pt.set(pe,it))},uniformBlockBinding:function nn(pe,qt){const it=y.get(qt).get(pe);b.get(qt)!==it&&(i.uniformBlockBinding(qt,it,pe.__bindingPointIndex),b.set(qt,it))},texStorage2D:function Yn(){try{i.texStorage2D.apply(i,arguments)}catch(pe){console.error("THREE.WebGLState:",pe)}},texStorage3D:function Li(){try{i.texStorage3D.apply(i,arguments)}catch(pe){console.error("THREE.WebGLState:",pe)}},texSubImage2D:function At(){try{i.texSubImage2D.apply(i,arguments)}catch(pe){console.error("THREE.WebGLState:",pe)}},texSubImage3D:function _n(){try{i.texSubImage3D.apply(i,arguments)}catch(pe){console.error("THREE.WebGLState:",pe)}},compressedTexSubImage2D:function Lt(){try{i.compressedTexSubImage2D.apply(i,arguments)}catch(pe){console.error("THREE.WebGLState:",pe)}},compressedTexSubImage3D:function Yt(){try{i.compressedTexSubImage3D.apply(i,arguments)}catch(pe){console.error("THREE.WebGLState:",pe)}},scissor:function ri(pe){!1===en.equals(pe)&&(i.scissor(pe.x,pe.y,pe.z,pe.w),en.copy(pe))},viewport:function qn(pe){!1===Ln.equals(pe)&&(i.viewport(pe.x,pe.y,pe.z,pe.w),Ln.copy(pe))},reset:function Ai(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),!0===n&&(i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null)),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),w={},me=null,$e={},S={},A=new WeakMap,P=[],I=null,k=!1,U=null,O=null,B=null,j=null,q=null,J=null,le=null,H=new Kt(0,0,0),K=0,ke=!1,nt=null,ft=null,he=null,Ve=null,xe=null,en.set(0,0,i.canvas.width,i.canvas.height),Ln.set(0,0,i.canvas.width,i.canvas.height),u.reset(),f.reset(),p.reset()}}}function k8(i,t,e,n,r,s,l){const u=r.isWebGL2,f=r.maxTextures,p=r.maxCubemapSize,b=r.maxTextureSize,y=r.maxSamples,w=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,S=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),A=new WeakMap;let P;const I=new WeakMap;let k=!1;try{k=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function U(ne,G){return k?new OffscreenCanvas(ne,G):_p("canvas")}function O(ne,G,Fe,Tt){let yt=1;if((ne.width>Tt||ne.height>Tt)&&(yt=Tt/Math.max(ne.width,ne.height)),yt<1||!0===G){if(typeof HTMLImageElement<"u"&&ne instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ne instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ne instanceof ImageBitmap){const At=G?Hy:Math.floor,_n=At(yt*ne.width),Lt=At(yt*ne.height);void 0===P&&(P=U(_n,Lt));const Yt=Fe?U(_n,Lt):P;return Yt.width=_n,Yt.height=Lt,Yt.getContext("2d").drawImage(ne,0,0,_n,Lt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ne.width+"x"+ne.height+") to ("+_n+"x"+Lt+")."),Yt}return"data"in ne&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ne.width+"x"+ne.height+")."),ne}return ne}function B(ne){return hE(ne.width)&&hE(ne.height)}function q(ne,G){return ne.generateMipmaps&&G&&ne.minFilter!==os&&ne.minFilter!==as}function J(ne){i.generateMipmap(ne)}function le(ne,G,Fe,Tt,yt=!1){if(!1===u)return G;if(null!==ne){if(void 0!==i[ne])return i[ne];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ne+"'")}let At=G;if(G===i.RED&&(Fe===i.FLOAT&&(At=i.R32F),Fe===i.HALF_FLOAT&&(At=i.R16F),Fe===i.UNSIGNED_BYTE&&(At=i.R8)),G===i.RED_INTEGER&&(Fe===i.UNSIGNED_BYTE&&(At=i.R8UI),Fe===i.UNSIGNED_SHORT&&(At=i.R16UI),Fe===i.UNSIGNED_INT&&(At=i.R32UI),Fe===i.BYTE&&(At=i.R8I),Fe===i.SHORT&&(At=i.R16I),Fe===i.INT&&(At=i.R32I)),G===i.RG&&(Fe===i.FLOAT&&(At=i.RG32F),Fe===i.HALF_FLOAT&&(At=i.RG16F),Fe===i.UNSIGNED_BYTE&&(At=i.RG8)),G===i.RGBA){const _n=yt?Uy:Ri.getTransfer(Tt);Fe===i.FLOAT&&(At=i.RGBA32F),Fe===i.HALF_FLOAT&&(At=i.RGBA16F),Fe===i.UNSIGNED_BYTE&&(At=_n===tr?i.SRGB8_ALPHA8:i.RGBA8),Fe===i.UNSIGNED_SHORT_4_4_4_4&&(At=i.RGBA4),Fe===i.UNSIGNED_SHORT_5_5_5_1&&(At=i.RGB5_A1)}return(At===i.R16F||At===i.R32F||At===i.RG16F||At===i.RG32F||At===i.RGBA16F||At===i.RGBA32F)&&t.get("EXT_color_buffer_float"),At}function H(ne,G,Fe){return!0===q(ne,Fe)||ne.isFramebufferTexture&&ne.minFilter!==os&&ne.minFilter!==as?Math.log2(Math.max(G.width,G.height))+1:void 0!==ne.mipmaps&&ne.mipmaps.length>0?ne.mipmaps.length:ne.isCompressedTexture&&Array.isArray(ne.image)?G.mipmaps.length:1}function K(ne){return ne===os||1004===ne||1005===ne?i.NEAREST:i.LINEAR}function ke(ne){const G=ne.target;G.removeEventListener("dispose",ke),function ft(ne){const G=n.get(ne);if(void 0===G.__webglInit)return;const Fe=ne.source,Tt=I.get(Fe);if(Tt){const yt=Tt[G.__cacheKey];yt.usedTimes--,0===yt.usedTimes&&he(ne),0===Object.keys(Tt).length&&I.delete(Fe)}n.remove(ne)}(G),G.isVideoTexture&&A.delete(G)}function nt(ne){const G=ne.target;G.removeEventListener("dispose",nt),function Ve(ne){const G=ne.texture,Fe=n.get(ne),Tt=n.get(G);if(void 0!==Tt.__webglTexture&&(i.deleteTexture(Tt.__webglTexture),l.memory.textures--),ne.depthTexture&&ne.depthTexture.dispose(),ne.isWebGLCubeRenderTarget)for(let yt=0;yt<6;yt++){if(Array.isArray(Fe.__webglFramebuffer[yt]))for(let At=0;At<Fe.__webglFramebuffer[yt].length;At++)i.deleteFramebuffer(Fe.__webglFramebuffer[yt][At]);else i.deleteFramebuffer(Fe.__webglFramebuffer[yt]);Fe.__webglDepthbuffer&&i.deleteRenderbuffer(Fe.__webglDepthbuffer[yt])}else{if(Array.isArray(Fe.__webglFramebuffer))for(let yt=0;yt<Fe.__webglFramebuffer.length;yt++)i.deleteFramebuffer(Fe.__webglFramebuffer[yt]);else i.deleteFramebuffer(Fe.__webglFramebuffer);if(Fe.__webglDepthbuffer&&i.deleteRenderbuffer(Fe.__webglDepthbuffer),Fe.__webglMultisampledFramebuffer&&i.deleteFramebuffer(Fe.__webglMultisampledFramebuffer),Fe.__webglColorRenderbuffer)for(let yt=0;yt<Fe.__webglColorRenderbuffer.length;yt++)Fe.__webglColorRenderbuffer[yt]&&i.deleteRenderbuffer(Fe.__webglColorRenderbuffer[yt]);Fe.__webglDepthRenderbuffer&&i.deleteRenderbuffer(Fe.__webglDepthRenderbuffer)}if(ne.isWebGLMultipleRenderTargets)for(let yt=0,At=G.length;yt<At;yt++){const _n=n.get(G[yt]);_n.__webglTexture&&(i.deleteTexture(_n.__webglTexture),l.memory.textures--),n.remove(G[yt])}n.remove(G),n.remove(ne)}(G)}function he(ne){const G=n.get(ne);i.deleteTexture(G.__webglTexture),delete I.get(ne.source)[G.__cacheKey],l.memory.textures--}let xe=0;function rt(ne,G){const Fe=n.get(ne);if(ne.isVideoTexture&&function Ei(ne){const G=l.render.frame;A.get(ne)!==G&&(A.set(ne,G),ne.update())}(ne),!1===ne.isRenderTargetTexture&&ne.version>0&&Fe.__version!==ne.version){const Tt=ne.image;if(null===Tt)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Tt.complete)return void wn(Fe,ne,G);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}e.bindTexture(i.TEXTURE_2D,Fe.__webglTexture,i.TEXTURE0+G)}const xt={1e3:i.REPEAT,[ho]:i.CLAMP_TO_EDGE,1002:i.MIRRORED_REPEAT},en={[os]:i.NEAREST,1004:i.NEAREST_MIPMAP_NEAREST,1005:i.NEAREST_MIPMAP_LINEAR,[as]:i.LINEAR,1007:i.LINEAR_MIPMAP_NEAREST,[Oc]:i.LINEAR_MIPMAP_LINEAR},Ln={512:i.NEVER,519:i.ALWAYS,513:i.LESS,515:i.LEQUAL,514:i.EQUAL,518:i.GEQUAL,516:i.GREATER,517:i.NOTEQUAL};function on(ne,G,Fe){if(Fe?(i.texParameteri(ne,i.TEXTURE_WRAP_S,xt[G.wrapS]),i.texParameteri(ne,i.TEXTURE_WRAP_T,xt[G.wrapT]),(ne===i.TEXTURE_3D||ne===i.TEXTURE_2D_ARRAY)&&i.texParameteri(ne,i.TEXTURE_WRAP_R,xt[G.wrapR]),i.texParameteri(ne,i.TEXTURE_MAG_FILTER,en[G.magFilter]),i.texParameteri(ne,i.TEXTURE_MIN_FILTER,en[G.minFilter])):(i.texParameteri(ne,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(ne,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),(ne===i.TEXTURE_3D||ne===i.TEXTURE_2D_ARRAY)&&i.texParameteri(ne,i.TEXTURE_WRAP_R,i.CLAMP_TO_EDGE),(G.wrapS!==ho||G.wrapT!==ho)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),i.texParameteri(ne,i.TEXTURE_MAG_FILTER,K(G.magFilter)),i.texParameteri(ne,i.TEXTURE_MIN_FILTER,K(G.minFilter)),G.minFilter!==os&&G.minFilter!==as&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),G.compareFunction&&(i.texParameteri(ne,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(ne,i.TEXTURE_COMPARE_FUNC,Ln[G.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){const Tt=t.get("EXT_texture_filter_anisotropic");if(G.magFilter===os||1005!==G.minFilter&&G.minFilter!==Oc||G.type===Rd&&!1===t.has("OES_texture_float_linear")||!1===u&&G.type===L_&&!1===t.has("OES_texture_half_float_linear"))return;(G.anisotropy>1||n.get(G).__currentAnisotropy)&&(i.texParameterf(ne,Tt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(G.anisotropy,r.getMaxAnisotropy())),n.get(G).__currentAnisotropy=G.anisotropy)}}function yn(ne,G){let Fe=!1;void 0===ne.__webglInit&&(ne.__webglInit=!0,G.addEventListener("dispose",ke));const Tt=G.source;let yt=I.get(Tt);void 0===yt&&(yt={},I.set(Tt,yt));const At=function Ue(ne){const G=[];return G.push(ne.wrapS),G.push(ne.wrapT),G.push(ne.wrapR||0),G.push(ne.magFilter),G.push(ne.minFilter),G.push(ne.anisotropy),G.push(ne.internalFormat),G.push(ne.format),G.push(ne.type),G.push(ne.generateMipmaps),G.push(ne.premultiplyAlpha),G.push(ne.flipY),G.push(ne.unpackAlignment),G.push(ne.colorSpace),G.join()}(G);if(At!==ne.__cacheKey){void 0===yt[At]&&(yt[At]={texture:i.createTexture(),usedTimes:0},l.memory.textures++,Fe=!0),yt[At].usedTimes++;const _n=yt[ne.__cacheKey];void 0!==_n&&(yt[ne.__cacheKey].usedTimes--,0===_n.usedTimes&&he(G)),ne.__cacheKey=At,ne.__webglTexture=yt[At].texture}return Fe}function wn(ne,G,Fe){let Tt=i.TEXTURE_2D;(G.isDataArrayTexture||G.isCompressedArrayTexture)&&(Tt=i.TEXTURE_2D_ARRAY),G.isData3DTexture&&(Tt=i.TEXTURE_3D);const yt=yn(ne,G),At=G.source;e.bindTexture(Tt,ne.__webglTexture,i.TEXTURE0+Fe);const _n=n.get(At);if(At.version!==_n.__version||!0===yt){e.activeTexture(i.TEXTURE0+Fe);const Lt=Ri.getPrimaries(Ri.workingColorSpace),Yt=""===G.colorSpace?null:Ri.getPrimaries(G.colorSpace),Yn=""===G.colorSpace||Lt===Yt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,G.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,G.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,Yn);const Li=function j(ne){return!u&&(ne.wrapS!==ho||ne.wrapT!==ho||ne.minFilter!==os&&ne.minFilter!==as)}(G)&&!1===B(G.image);let kt=O(G.image,Li,!1,b);kt=ds(G,kt);const nr=B(kt)||u,ri=s.convert(G.format,G.colorSpace);let nn,qn=s.convert(G.type),Fn=le(G.internalFormat,ri,qn,G.colorSpace,G.isVideoTexture);on(Tt,G,nr);const Ai=G.mipmaps,pe=u&&!0!==G.isVideoTexture,qt=void 0===_n.__version||!0===yt,Pt=H(G,kt,nr);if(G.isDepthTexture)Fn=i.DEPTH_COMPONENT,u?Fn=G.type===Rd?i.DEPTH_COMPONENT32F:G.type===Ga?i.DEPTH_COMPONENT24:G.type===zu?i.DEPTH24_STENCIL8:i.DEPTH_COMPONENT16:G.type===Rd&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),G.format===wf&&Fn===i.DEPTH_COMPONENT&&1012!==G.type&&G.type!==Ga&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),G.type=Ga,qn=s.convert(G.type)),G.format===Ef&&Fn===i.DEPTH_COMPONENT&&(Fn=i.DEPTH_STENCIL,G.type!==zu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),G.type=zu,qn=s.convert(G.type))),qt&&(pe?e.texStorage2D(i.TEXTURE_2D,1,Fn,kt.width,kt.height):e.texImage2D(i.TEXTURE_2D,0,Fn,kt.width,kt.height,0,ri,qn,null));else if(G.isDataTexture)if(Ai.length>0&&nr){pe&&qt&&e.texStorage2D(i.TEXTURE_2D,Pt,Fn,Ai[0].width,Ai[0].height);for(let it=0,Ut=Ai.length;it<Ut;it++)nn=Ai[it],pe?e.texSubImage2D(i.TEXTURE_2D,it,0,0,nn.width,nn.height,ri,qn,nn.data):e.texImage2D(i.TEXTURE_2D,it,Fn,nn.width,nn.height,0,ri,qn,nn.data);G.generateMipmaps=!1}else pe?(qt&&e.texStorage2D(i.TEXTURE_2D,Pt,Fn,kt.width,kt.height),e.texSubImage2D(i.TEXTURE_2D,0,0,0,kt.width,kt.height,ri,qn,kt.data)):e.texImage2D(i.TEXTURE_2D,0,Fn,kt.width,kt.height,0,ri,qn,kt.data);else if(G.isCompressedTexture)if(G.isCompressedArrayTexture){pe&&qt&&e.texStorage3D(i.TEXTURE_2D_ARRAY,Pt,Fn,Ai[0].width,Ai[0].height,kt.depth);for(let it=0,Ut=Ai.length;it<Ut;it++)nn=Ai[it],G.format!==ua?null!==ri?pe?e.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,it,0,0,0,nn.width,nn.height,kt.depth,ri,nn.data,0,0):e.compressedTexImage3D(i.TEXTURE_2D_ARRAY,it,Fn,nn.width,nn.height,kt.depth,0,nn.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):pe?e.texSubImage3D(i.TEXTURE_2D_ARRAY,it,0,0,0,nn.width,nn.height,kt.depth,ri,qn,nn.data):e.texImage3D(i.TEXTURE_2D_ARRAY,it,Fn,nn.width,nn.height,kt.depth,0,ri,qn,nn.data)}else{pe&&qt&&e.texStorage2D(i.TEXTURE_2D,Pt,Fn,Ai[0].width,Ai[0].height);for(let it=0,Ut=Ai.length;it<Ut;it++)nn=Ai[it],G.format!==ua?null!==ri?pe?e.compressedTexSubImage2D(i.TEXTURE_2D,it,0,0,nn.width,nn.height,ri,nn.data):e.compressedTexImage2D(i.TEXTURE_2D,it,Fn,nn.width,nn.height,0,nn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):pe?e.texSubImage2D(i.TEXTURE_2D,it,0,0,nn.width,nn.height,ri,qn,nn.data):e.texImage2D(i.TEXTURE_2D,it,Fn,nn.width,nn.height,0,ri,qn,nn.data)}else if(G.isDataArrayTexture)pe?(qt&&e.texStorage3D(i.TEXTURE_2D_ARRAY,Pt,Fn,kt.width,kt.height,kt.depth),e.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,kt.width,kt.height,kt.depth,ri,qn,kt.data)):e.texImage3D(i.TEXTURE_2D_ARRAY,0,Fn,kt.width,kt.height,kt.depth,0,ri,qn,kt.data);else if(G.isData3DTexture)pe?(qt&&e.texStorage3D(i.TEXTURE_3D,Pt,Fn,kt.width,kt.height,kt.depth),e.texSubImage3D(i.TEXTURE_3D,0,0,0,0,kt.width,kt.height,kt.depth,ri,qn,kt.data)):e.texImage3D(i.TEXTURE_3D,0,Fn,kt.width,kt.height,kt.depth,0,ri,qn,kt.data);else if(G.isFramebufferTexture){if(qt)if(pe)e.texStorage2D(i.TEXTURE_2D,Pt,Fn,kt.width,kt.height);else{let it=kt.width,Ut=kt.height;for(let Vn=0;Vn<Pt;Vn++)e.texImage2D(i.TEXTURE_2D,Vn,Fn,it,Ut,0,ri,qn,null),it>>=1,Ut>>=1}}else if(Ai.length>0&&nr){pe&&qt&&e.texStorage2D(i.TEXTURE_2D,Pt,Fn,Ai[0].width,Ai[0].height);for(let it=0,Ut=Ai.length;it<Ut;it++)nn=Ai[it],pe?e.texSubImage2D(i.TEXTURE_2D,it,0,0,ri,qn,nn):e.texImage2D(i.TEXTURE_2D,it,Fn,ri,qn,nn);G.generateMipmaps=!1}else pe?(qt&&e.texStorage2D(i.TEXTURE_2D,Pt,Fn,kt.width,kt.height),e.texSubImage2D(i.TEXTURE_2D,0,0,0,ri,qn,kt)):e.texImage2D(i.TEXTURE_2D,0,Fn,ri,qn,kt);q(G,nr)&&J(Tt),_n.__version=At.version,G.onUpdate&&G.onUpdate(G)}ne.__version=G.version}function kn(ne,G,Fe,Tt,yt,At){const _n=s.convert(Fe.format,Fe.colorSpace),Lt=s.convert(Fe.type),Yt=le(Fe.internalFormat,_n,Lt,Fe.colorSpace);if(!n.get(G).__hasExternalTextures){const Li=Math.max(1,G.width>>At),kt=Math.max(1,G.height>>At);yt===i.TEXTURE_3D||yt===i.TEXTURE_2D_ARRAY?e.texImage3D(yt,At,Yt,Li,kt,G.depth,0,_n,Lt,null):e.texImage2D(yt,At,Yt,Li,kt,0,_n,Lt,null)}e.bindFramebuffer(i.FRAMEBUFFER,ne),ei(G)?w.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,Tt,yt,n.get(Fe).__webglTexture,0,un(G)):(yt===i.TEXTURE_2D||yt>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&yt<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,Tt,yt,n.get(Fe).__webglTexture,At),e.bindFramebuffer(i.FRAMEBUFFER,null)}function ce(ne,G,Fe){if(i.bindRenderbuffer(i.RENDERBUFFER,ne),G.depthBuffer&&!G.stencilBuffer){let Tt=!0===u?i.DEPTH_COMPONENT24:i.DEPTH_COMPONENT16;if(Fe||ei(G)){const yt=G.depthTexture;yt&&yt.isDepthTexture&&(yt.type===Rd?Tt=i.DEPTH_COMPONENT32F:yt.type===Ga&&(Tt=i.DEPTH_COMPONENT24));const At=un(G);ei(G)?w.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,At,Tt,G.width,G.height):i.renderbufferStorageMultisample(i.RENDERBUFFER,At,Tt,G.width,G.height)}else i.renderbufferStorage(i.RENDERBUFFER,Tt,G.width,G.height);i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.RENDERBUFFER,ne)}else if(G.depthBuffer&&G.stencilBuffer){const Tt=un(G);Fe&&!1===ei(G)?i.renderbufferStorageMultisample(i.RENDERBUFFER,Tt,i.DEPTH24_STENCIL8,G.width,G.height):ei(G)?w.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Tt,i.DEPTH24_STENCIL8,G.width,G.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,G.width,G.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,ne)}else{const Tt=!0===G.isWebGLMultipleRenderTargets?G.texture:[G.texture];for(let yt=0;yt<Tt.length;yt++){const At=Tt[yt],_n=s.convert(At.format,At.colorSpace),Lt=s.convert(At.type),Yt=le(At.internalFormat,_n,Lt,At.colorSpace),Yn=un(G);Fe&&!1===ei(G)?i.renderbufferStorageMultisample(i.RENDERBUFFER,Yn,Yt,G.width,G.height):ei(G)?w.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Yn,Yt,G.width,G.height):i.renderbufferStorage(i.RENDERBUFFER,Yt,G.width,G.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function ot(ne){const G=n.get(ne),Fe=!0===ne.isWebGLCubeRenderTarget;if(ne.depthTexture&&!G.__autoAllocateDepthBuffer){if(Fe)throw new Error("target.depthTexture not supported in Cube render targets");!function Vt(ne,G){if(G&&G.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(i.FRAMEBUFFER,ne),!G.depthTexture||!G.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(G.depthTexture).__webglTexture||G.depthTexture.image.width!==G.width||G.depthTexture.image.height!==G.height)&&(G.depthTexture.image.width=G.width,G.depthTexture.image.height=G.height,G.depthTexture.needsUpdate=!0),rt(G.depthTexture,0);const Tt=n.get(G.depthTexture).__webglTexture,yt=un(G);if(G.depthTexture.format===wf)ei(G)?w.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Tt,0,yt):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Tt,0);else{if(G.depthTexture.format!==Ef)throw new Error("Unknown depthTexture format");ei(G)?w.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Tt,0,yt):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Tt,0)}}(G.__webglFramebuffer,ne)}else if(Fe){G.__webglDepthbuffer=[];for(let Tt=0;Tt<6;Tt++)e.bindFramebuffer(i.FRAMEBUFFER,G.__webglFramebuffer[Tt]),G.__webglDepthbuffer[Tt]=i.createRenderbuffer(),ce(G.__webglDepthbuffer[Tt],ne,!1)}else e.bindFramebuffer(i.FRAMEBUFFER,G.__webglFramebuffer),G.__webglDepthbuffer=i.createRenderbuffer(),ce(G.__webglDepthbuffer,ne,!1);e.bindFramebuffer(i.FRAMEBUFFER,null)}function un(ne){return Math.min(y,ne.samples)}function ei(ne){const G=n.get(ne);return u&&ne.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==G.__useRenderToTexture}function ds(ne,G){const Fe=ne.colorSpace,Tt=ne.format,yt=ne.type;return!0===ne.isCompressedTexture||!0===ne.isVideoTexture||1035===ne.format||Fe!==Lc&&""!==Fe&&(Ri.getTransfer(Fe)===tr?!1===u?!0===t.has("EXT_sRGB")&&Tt===ua?(ne.format=1035,ne.minFilter=as,ne.generateMipmaps=!1):G=Wy.sRGBToLinear(G):(Tt!==ua||yt!==Nc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Fe)),G}this.allocateTextureUnit=function ze(){const ne=xe;return ne>=f&&console.warn("THREE.WebGLTextures: Trying to use "+ne+" texture units while this GPU supports only "+f),xe+=1,ne},this.resetTextureUnits=function Ce(){xe=0},this.setTexture2D=rt,this.setTexture2DArray=function me(ne,G){const Fe=n.get(ne);ne.version>0&&Fe.__version!==ne.version?wn(Fe,ne,G):e.bindTexture(i.TEXTURE_2D_ARRAY,Fe.__webglTexture,i.TEXTURE0+G)},this.setTexture3D=function $e(ne,G){const Fe=n.get(ne);ne.version>0&&Fe.__version!==ne.version?wn(Fe,ne,G):e.bindTexture(i.TEXTURE_3D,Fe.__webglTexture,i.TEXTURE0+G)},this.setTextureCube=function Nt(ne,G){const Fe=n.get(ne);ne.version>0&&Fe.__version!==ne.version?function yi(ne,G,Fe){if(6!==G.image.length)return;const Tt=yn(ne,G),yt=G.source;e.bindTexture(i.TEXTURE_CUBE_MAP,ne.__webglTexture,i.TEXTURE0+Fe);const At=n.get(yt);if(yt.version!==At.__version||!0===Tt){e.activeTexture(i.TEXTURE0+Fe);const _n=Ri.getPrimaries(Ri.workingColorSpace),Lt=""===G.colorSpace?null:Ri.getPrimaries(G.colorSpace),Yt=""===G.colorSpace||_n===Lt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,G.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,G.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,Yt);const Yn=G.isCompressedTexture||G.image[0].isCompressedTexture,Li=G.image[0]&&G.image[0].isDataTexture,kt=[];for(let it=0;it<6;it++)kt[it]=Yn||Li?Li?G.image[it].image:G.image[it]:O(G.image[it],!1,!0,p),kt[it]=ds(G,kt[it]);const nr=kt[0],ri=B(nr)||u,qn=s.convert(G.format,G.colorSpace),Fn=s.convert(G.type),nn=le(G.internalFormat,qn,Fn,G.colorSpace),Ai=u&&!0!==G.isVideoTexture,pe=void 0===At.__version||!0===Tt;let Pt,qt=H(G,nr,ri);if(on(i.TEXTURE_CUBE_MAP,G,ri),Yn){Ai&&pe&&e.texStorage2D(i.TEXTURE_CUBE_MAP,qt,nn,nr.width,nr.height);for(let it=0;it<6;it++){Pt=kt[it].mipmaps;for(let Ut=0;Ut<Pt.length;Ut++){const Vn=Pt[Ut];G.format!==ua?null!==qn?Ai?e.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+it,Ut,0,0,Vn.width,Vn.height,qn,Vn.data):e.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+it,Ut,nn,Vn.width,Vn.height,0,Vn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ai?e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+it,Ut,0,0,Vn.width,Vn.height,qn,Fn,Vn.data):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+it,Ut,nn,Vn.width,Vn.height,0,qn,Fn,Vn.data)}}}else{Pt=G.mipmaps,Ai&&pe&&(Pt.length>0&&qt++,e.texStorage2D(i.TEXTURE_CUBE_MAP,qt,nn,kt[0].width,kt[0].height));for(let it=0;it<6;it++)if(Li){Ai?e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+it,0,0,0,kt[it].width,kt[it].height,qn,Fn,kt[it].data):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+it,0,nn,kt[it].width,kt[it].height,0,qn,Fn,kt[it].data);for(let Ut=0;Ut<Pt.length;Ut++){const Fi=Pt[Ut].image[it].image;Ai?e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+it,Ut+1,0,0,Fi.width,Fi.height,qn,Fn,Fi.data):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+it,Ut+1,nn,Fi.width,Fi.height,0,qn,Fn,Fi.data)}}else{Ai?e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+it,0,0,0,qn,Fn,kt[it]):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+it,0,nn,qn,Fn,kt[it]);for(let Ut=0;Ut<Pt.length;Ut++){const Vn=Pt[Ut];Ai?e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+it,Ut+1,0,0,qn,Fn,Vn.image[it]):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+it,Ut+1,nn,qn,Fn,Vn.image[it])}}}q(G,ri)&&J(i.TEXTURE_CUBE_MAP),At.__version=yt.version,G.onUpdate&&G.onUpdate(G)}ne.__version=G.version}(Fe,ne,G):e.bindTexture(i.TEXTURE_CUBE_MAP,Fe.__webglTexture,i.TEXTURE0+G)},this.rebindTextures=function St(ne,G,Fe){const Tt=n.get(ne);void 0!==G&&kn(Tt.__webglFramebuffer,ne,ne.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),void 0!==Fe&&ot(ne)},this.setupRenderTarget=function _t(ne){const G=ne.texture,Fe=n.get(ne),Tt=n.get(G);ne.addEventListener("dispose",nt),!0!==ne.isWebGLMultipleRenderTargets&&(void 0===Tt.__webglTexture&&(Tt.__webglTexture=i.createTexture()),Tt.__version=G.version,l.memory.textures++);const yt=!0===ne.isWebGLCubeRenderTarget,At=!0===ne.isWebGLMultipleRenderTargets,_n=B(ne)||u;if(yt){Fe.__webglFramebuffer=[];for(let Lt=0;Lt<6;Lt++)if(u&&G.mipmaps&&G.mipmaps.length>0){Fe.__webglFramebuffer[Lt]=[];for(let Yt=0;Yt<G.mipmaps.length;Yt++)Fe.__webglFramebuffer[Lt][Yt]=i.createFramebuffer()}else Fe.__webglFramebuffer[Lt]=i.createFramebuffer()}else{if(u&&G.mipmaps&&G.mipmaps.length>0){Fe.__webglFramebuffer=[];for(let Lt=0;Lt<G.mipmaps.length;Lt++)Fe.__webglFramebuffer[Lt]=i.createFramebuffer()}else Fe.__webglFramebuffer=i.createFramebuffer();if(At)if(r.drawBuffers){const Lt=ne.texture;for(let Yt=0,Yn=Lt.length;Yt<Yn;Yt++){const Li=n.get(Lt[Yt]);void 0===Li.__webglTexture&&(Li.__webglTexture=i.createTexture(),l.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(u&&ne.samples>0&&!1===ei(ne)){const Lt=At?G:[G];Fe.__webglMultisampledFramebuffer=i.createFramebuffer(),Fe.__webglColorRenderbuffer=[],e.bindFramebuffer(i.FRAMEBUFFER,Fe.__webglMultisampledFramebuffer);for(let Yt=0;Yt<Lt.length;Yt++){const Yn=Lt[Yt];Fe.__webglColorRenderbuffer[Yt]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,Fe.__webglColorRenderbuffer[Yt]);const Li=s.convert(Yn.format,Yn.colorSpace),kt=s.convert(Yn.type),nr=le(Yn.internalFormat,Li,kt,Yn.colorSpace,!0===ne.isXRRenderTarget),ri=un(ne);i.renderbufferStorageMultisample(i.RENDERBUFFER,ri,nr,ne.width,ne.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Yt,i.RENDERBUFFER,Fe.__webglColorRenderbuffer[Yt])}i.bindRenderbuffer(i.RENDERBUFFER,null),ne.depthBuffer&&(Fe.__webglDepthRenderbuffer=i.createRenderbuffer(),ce(Fe.__webglDepthRenderbuffer,ne,!0)),e.bindFramebuffer(i.FRAMEBUFFER,null)}}if(yt){e.bindTexture(i.TEXTURE_CUBE_MAP,Tt.__webglTexture),on(i.TEXTURE_CUBE_MAP,G,_n);for(let Lt=0;Lt<6;Lt++)if(u&&G.mipmaps&&G.mipmaps.length>0)for(let Yt=0;Yt<G.mipmaps.length;Yt++)kn(Fe.__webglFramebuffer[Lt][Yt],ne,G,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Lt,Yt);else kn(Fe.__webglFramebuffer[Lt],ne,G,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Lt,0);q(G,_n)&&J(i.TEXTURE_CUBE_MAP),e.unbindTexture()}else if(At){const Lt=ne.texture;for(let Yt=0,Yn=Lt.length;Yt<Yn;Yt++){const Li=Lt[Yt],kt=n.get(Li);e.bindTexture(i.TEXTURE_2D,kt.__webglTexture),on(i.TEXTURE_2D,Li,_n),kn(Fe.__webglFramebuffer,ne,Li,i.COLOR_ATTACHMENT0+Yt,i.TEXTURE_2D,0),q(Li,_n)&&J(i.TEXTURE_2D)}e.unbindTexture()}else{let Lt=i.TEXTURE_2D;if((ne.isWebGL3DRenderTarget||ne.isWebGLArrayRenderTarget)&&(u?Lt=ne.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),e.bindTexture(Lt,Tt.__webglTexture),on(Lt,G,_n),u&&G.mipmaps&&G.mipmaps.length>0)for(let Yt=0;Yt<G.mipmaps.length;Yt++)kn(Fe.__webglFramebuffer[Yt],ne,G,i.COLOR_ATTACHMENT0,Lt,Yt);else kn(Fe.__webglFramebuffer,ne,G,i.COLOR_ATTACHMENT0,Lt,0);q(G,_n)&&J(Lt),e.unbindTexture()}ne.depthBuffer&&ot(ne)},this.updateRenderTargetMipmap=function Mn(ne){const G=B(ne)||u,Fe=!0===ne.isWebGLMultipleRenderTargets?ne.texture:[ne.texture];for(let Tt=0,yt=Fe.length;Tt<yt;Tt++){const At=Fe[Tt];if(q(At,G)){const _n=ne.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:i.TEXTURE_2D,Lt=n.get(At).__webglTexture;e.bindTexture(_n,Lt),J(_n),e.unbindTexture()}}},this.updateMultisampleRenderTarget=function Qt(ne){if(u&&ne.samples>0&&!1===ei(ne)){const G=ne.isWebGLMultipleRenderTargets?ne.texture:[ne.texture],Fe=ne.width,Tt=ne.height;let yt=i.COLOR_BUFFER_BIT;const At=[],_n=ne.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Lt=n.get(ne),Yt=!0===ne.isWebGLMultipleRenderTargets;if(Yt)for(let Yn=0;Yn<G.length;Yn++)e.bindFramebuffer(i.FRAMEBUFFER,Lt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Yn,i.RENDERBUFFER,null),e.bindFramebuffer(i.FRAMEBUFFER,Lt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+Yn,i.TEXTURE_2D,null,0);e.bindFramebuffer(i.READ_FRAMEBUFFER,Lt.__webglMultisampledFramebuffer),e.bindFramebuffer(i.DRAW_FRAMEBUFFER,Lt.__webglFramebuffer);for(let Yn=0;Yn<G.length;Yn++){At.push(i.COLOR_ATTACHMENT0+Yn),ne.depthBuffer&&At.push(_n);const Li=void 0!==Lt.__ignoreDepthValues&&Lt.__ignoreDepthValues;if(!1===Li&&(ne.depthBuffer&&(yt|=i.DEPTH_BUFFER_BIT),ne.stencilBuffer&&(yt|=i.STENCIL_BUFFER_BIT)),Yt&&i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,Lt.__webglColorRenderbuffer[Yn]),!0===Li&&(i.invalidateFramebuffer(i.READ_FRAMEBUFFER,[_n]),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[_n])),Yt){const kt=n.get(G[Yn]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,kt,0)}i.blitFramebuffer(0,0,Fe,Tt,0,0,Fe,Tt,yt,i.NEAREST),S&&i.invalidateFramebuffer(i.READ_FRAMEBUFFER,At)}if(e.bindFramebuffer(i.READ_FRAMEBUFFER,null),e.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),Yt)for(let Yn=0;Yn<G.length;Yn++){e.bindFramebuffer(i.FRAMEBUFFER,Lt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Yn,i.RENDERBUFFER,Lt.__webglColorRenderbuffer[Yn]);const Li=n.get(G[Yn]).__webglTexture;e.bindFramebuffer(i.FRAMEBUFFER,Lt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+Yn,i.TEXTURE_2D,Li,0)}e.bindFramebuffer(i.DRAW_FRAMEBUFFER,Lt.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=ot,this.setupFrameBufferTexture=kn,this.useMultisampledRTT=ei}function R8(i,t,e){const n=e.isWebGL2;return{convert:function r(s,l=""){let u;const f=Ri.getTransfer(l);if(s===Nc)return i.UNSIGNED_BYTE;if(1017===s)return i.UNSIGNED_SHORT_4_4_4_4;if(1018===s)return i.UNSIGNED_SHORT_5_5_5_1;if(1010===s)return i.BYTE;if(1011===s)return i.SHORT;if(1012===s)return i.UNSIGNED_SHORT;if(1013===s)return i.INT;if(s===Ga)return i.UNSIGNED_INT;if(s===Rd)return i.FLOAT;if(s===L_)return n?i.HALF_FLOAT:(u=t.get("OES_texture_half_float"),null!==u?u.HALF_FLOAT_OES:null);if(1021===s)return i.ALPHA;if(s===ua)return i.RGBA;if(1024===s)return i.LUMINANCE;if(1025===s)return i.LUMINANCE_ALPHA;if(s===wf)return i.DEPTH_COMPONENT;if(s===Ef)return i.DEPTH_STENCIL;if(1035===s)return u=t.get("EXT_sRGB"),null!==u?u.SRGB_ALPHA_EXT:null;if(1028===s)return i.RED;if(1029===s)return i.RED_INTEGER;if(1030===s)return i.RG;if(1031===s)return i.RG_INTEGER;if(1033===s)return i.RGBA_INTEGER;if(33776===s||33777===s||33778===s||33779===s)if(f===tr){if(u=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===u)return null;if(33776===s)return u.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===s)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===s)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===s)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(u=t.get("WEBGL_compressed_texture_s3tc"),null===u)return null;if(33776===s)return u.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===s)return u.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===s)return u.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===s)return u.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===s||35841===s||35842===s||35843===s){if(u=t.get("WEBGL_compressed_texture_pvrtc"),null===u)return null;if(35840===s)return u.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===s)return u.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===s)return u.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===s)return u.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===s)return u=t.get("WEBGL_compressed_texture_etc1"),null!==u?u.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===s||37496===s){if(u=t.get("WEBGL_compressed_texture_etc"),null===u)return null;if(37492===s)return f===tr?u.COMPRESSED_SRGB8_ETC2:u.COMPRESSED_RGB8_ETC2;if(37496===s)return f===tr?u.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:u.COMPRESSED_RGBA8_ETC2_EAC}if(37808===s||37809===s||37810===s||37811===s||37812===s||37813===s||37814===s||37815===s||37816===s||37817===s||37818===s||37819===s||37820===s||37821===s){if(u=t.get("WEBGL_compressed_texture_astc"),null===u)return null;if(37808===s)return f===tr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:u.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===s)return f===tr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:u.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===s)return f===tr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:u.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===s)return f===tr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:u.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===s)return f===tr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:u.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===s)return f===tr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:u.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===s)return f===tr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:u.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===s)return f===tr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:u.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===s)return f===tr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:u.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===s)return f===tr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:u.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===s)return f===tr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:u.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===s)return f===tr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:u.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===s)return f===tr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:u.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===s)return f===tr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:u.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===s||36494===s||36495===s){if(u=t.get("EXT_texture_compression_bptc"),null===u)return null;if(36492===s)return f===tr?u.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:u.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===s)return u.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===s)return u.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===s||36284===s||36285===s||36286===s){if(u=t.get("EXT_texture_compression_rgtc"),null===u)return null;if(36492===s)return u.COMPRESSED_RED_RGTC1_EXT;if(36284===s)return u.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===s)return u.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===s)return u.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return s===zu?n?i.UNSIGNED_INT_24_8:(u=t.get("WEBGL_depth_texture"),null!==u?u.UNSIGNED_INT_24_8_WEBGL:null):void 0!==i[s]?i[s]:null}}}class P8 extends Do{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class TE extends ja{constructor(){super(),this.isGroup=!0,this.type="Group"}}const O8={type:"move"};class UP{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new TE,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new TE,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ee,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ee),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new TE,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ee,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ee),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const n of t.hand.values())this._getHandJoint(e,n)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,n){let r=null,s=null,l=null;const u=this._targetRay,f=this._grip,p=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState){if(p&&t.hand){l=!0;for(const P of t.hand.values()){const I=e.getJointPose(P,n),k=this._getHandJoint(p,P);null!==I&&(k.matrix.fromArray(I.transform.matrix),k.matrix.decompose(k.position,k.rotation,k.scale),k.matrixWorldNeedsUpdate=!0,k.jointRadius=I.radius),k.visible=null!==I}const w=p.joints["index-finger-tip"].position.distanceTo(p.joints["thumb-tip"].position),S=.02,A=.005;p.inputState.pinching&&w>S+A?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!p.inputState.pinching&&w<=S-A&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==f&&t.gripSpace&&(s=e.getPose(t.gripSpace,n),null!==s&&(f.matrix.fromArray(s.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,s.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(s.linearVelocity)):f.hasLinearVelocity=!1,s.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(s.angularVelocity)):f.hasAngularVelocity=!1));null!==u&&(r=e.getPose(t.targetRaySpace,n),null===r&&null!==s&&(r=s),null!==r&&(u.matrix.fromArray(r.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,r.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(r.linearVelocity)):u.hasLinearVelocity=!1,r.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(r.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(O8)))}return null!==u&&(u.visible=null!==r),null!==f&&(f.visible=null!==s),null!==p&&(p.visible=null!==l),this}_getHandJoint(t,e){if(void 0===t.joints[e.jointName]){const n=new TE;n.matrixAutoUpdate=!1,n.visible=!1,t.joints[e.jointName]=n,t.add(n)}return t.joints[e.jointName]}}class N8 extends ju{constructor(t,e,n,r,s,l,u,f,p,b){if((b=void 0!==b?b:wf)!==wf&&b!==Ef)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&b===wf&&(n=Ga),void 0===n&&b===Ef&&(n=zu),super(null,r,s,l,u,f,b,n,p),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=void 0!==u?u:os,this.minFilter=void 0!==f?f:os,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return null!==this.compareFunction&&(e.compareFunction=this.compareFunction),e}}class L8 extends Nd{constructor(t,e){super();const n=this;let r=null,s=1,l=null,u="local-floor",f=1,p=null,b=null,y=null,w=null,S=null,A=null;const P=e.getContextAttributes();let I=null,k=null;const U=[],O=[],B=new Do;B.layers.enable(1),B.viewport=new Yi;const j=new Do;j.layers.enable(2),j.viewport=new Yi;const q=[B,j],J=new P8;J.layers.enable(1),J.layers.enable(2);let le=null,H=null;function K(me){const $e=O.indexOf(me.inputSource);if(-1===$e)return;const Nt=U[$e];void 0!==Nt&&(Nt.update(me.inputSource,me.frame,p||l),Nt.dispatchEvent({type:me.type,data:me.inputSource}))}function ke(){r.removeEventListener("select",K),r.removeEventListener("selectstart",K),r.removeEventListener("selectend",K),r.removeEventListener("squeeze",K),r.removeEventListener("squeezestart",K),r.removeEventListener("squeezeend",K),r.removeEventListener("end",ke),r.removeEventListener("inputsourceschange",nt);for(let me=0;me<U.length;me++){const $e=O[me];null!==$e&&(O[me]=null,U[me].disconnect($e))}le=null,H=null,t.setRenderTarget(I),S=null,w=null,y=null,r=null,k=null,rt.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function nt(me){for(let $e=0;$e<me.removed.length;$e++){const Nt=me.removed[$e],xt=O.indexOf(Nt);xt>=0&&(O[xt]=null,U[xt].disconnect(Nt))}for(let $e=0;$e<me.added.length;$e++){const Nt=me.added[$e];let xt=O.indexOf(Nt);if(-1===xt){for(let Ln=0;Ln<U.length;Ln++){if(Ln>=O.length){O.push(Nt),xt=Ln;break}if(null===O[Ln]){O[Ln]=Nt,xt=Ln;break}}if(-1===xt)break}const en=U[xt];en&&en.connect(Nt)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(me){let $e=U[me];return void 0===$e&&($e=new UP,U[me]=$e),$e.getTargetRaySpace()},this.getControllerGrip=function(me){let $e=U[me];return void 0===$e&&($e=new UP,U[me]=$e),$e.getGripSpace()},this.getHand=function(me){let $e=U[me];return void 0===$e&&($e=new UP,U[me]=$e),$e.getHandSpace()},this.setFramebufferScaleFactor=function(me){s=me,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(me){u=me,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||l},this.setReferenceSpace=function(me){p=me},this.getBaseLayer=function(){return null!==w?w:S},this.getBinding=function(){return y},this.getFrame=function(){return A},this.getSession=function(){return r},this.setSession=function(){var me=(0,Dd.Z)(function*($e){if(r=$e,null!==r){if(I=t.getRenderTarget(),r.addEventListener("select",K),r.addEventListener("selectstart",K),r.addEventListener("selectend",K),r.addEventListener("squeeze",K),r.addEventListener("squeezestart",K),r.addEventListener("squeezeend",K),r.addEventListener("end",ke),r.addEventListener("inputsourceschange",nt),!0!==P.xrCompatible&&(yield e.makeXRCompatible()),void 0===r.renderState.layers||!1===t.capabilities.isWebGL2)S=new XRWebGLLayer(r,e,{antialias:void 0!==r.renderState.layers||P.antialias,alpha:!0,depth:P.depth,stencil:P.stencil,framebufferScaleFactor:s}),r.updateRenderState({baseLayer:S}),k=new $u(S.framebufferWidth,S.framebufferHeight,{format:ua,type:Nc,colorSpace:t.outputColorSpace,stencilBuffer:P.stencil});else{let Nt=null,xt=null,en=null;P.depth&&(en=P.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,Nt=P.stencil?Ef:wf,xt=P.stencil?zu:Ga);const Ln={colorFormat:e.RGBA8,depthFormat:en,scaleFactor:s};y=new XRWebGLBinding(r,e),w=y.createProjectionLayer(Ln),r.updateRenderState({layers:[w]}),k=new $u(w.textureWidth,w.textureHeight,{format:ua,type:Nc,depthTexture:new N8(w.textureWidth,w.textureHeight,xt,void 0,void 0,void 0,void 0,void 0,void 0,Nt),stencilBuffer:P.stencil,colorSpace:t.outputColorSpace,samples:P.antialias?4:0}),t.properties.get(k).__ignoreDepthValues=w.ignoreDepthValues}k.isXRRenderTarget=!0,this.setFoveation(f),p=null,l=yield r.requestReferenceSpace(u),rt.setContext(r),rt.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}});return function($e){return me.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};const ft=new ee,he=new ee;function xe(me,$e){null===$e?me.matrixWorld.copy(me.matrix):me.matrixWorld.multiplyMatrices($e.matrixWorld,me.matrix),me.matrixWorldInverse.copy(me.matrixWorld).invert()}this.updateCamera=function(me){if(null===r)return;J.near=j.near=B.near=me.near,J.far=j.far=B.far=me.far,(le!==J.near||H!==J.far)&&(r.updateRenderState({depthNear:J.near,depthFar:J.far}),le=J.near,H=J.far);const $e=me.parent,Nt=J.cameras;xe(J,$e);for(let xt=0;xt<Nt.length;xt++)xe(Nt[xt],$e);2===Nt.length?function Ve(me,$e,Nt){ft.setFromMatrixPosition($e.matrixWorld),he.setFromMatrixPosition(Nt.matrixWorld);const xt=ft.distanceTo(he),en=$e.projectionMatrix.elements,Ln=Nt.projectionMatrix.elements,on=en[14]/(en[10]-1),yn=en[14]/(en[10]+1),wn=(en[9]+1)/en[5],yi=(en[9]-1)/en[5],kn=(en[8]-1)/en[0],ce=(Ln[8]+1)/Ln[0],Vt=on*kn,ot=on*ce,St=xt/(-kn+ce),_t=St*-kn;$e.matrixWorld.decompose(me.position,me.quaternion,me.scale),me.translateX(_t),me.translateZ(St),me.matrixWorld.compose(me.position,me.quaternion,me.scale),me.matrixWorldInverse.copy(me.matrixWorld).invert();const Mn=on+St,Qt=yn+St;me.projectionMatrix.makePerspective(Vt-_t,ot+(xt-_t),wn*yn/Qt*Mn,yi*yn/Qt*Mn,Mn,Qt),me.projectionMatrixInverse.copy(me.projectionMatrix).invert()}(J,B,j):J.projectionMatrix.copy(B.projectionMatrix),function Ce(me,$e,Nt){null===Nt?me.matrix.copy($e.matrixWorld):(me.matrix.copy(Nt.matrixWorld),me.matrix.invert(),me.matrix.multiply($e.matrixWorld)),me.matrix.decompose(me.position,me.quaternion,me.scale),me.updateMatrixWorld(!0),me.projectionMatrix.copy($e.projectionMatrix),me.projectionMatrixInverse.copy($e.projectionMatrixInverse),me.isPerspectiveCamera&&(me.fov=2*gp*Math.atan(1/me.projectionMatrix.elements[5]),me.zoom=1)}(me,J,$e)},this.getCamera=function(){return J},this.getFoveation=function(){if(null!==w||null!==S)return f},this.setFoveation=function(me){f=me,null!==w&&(w.fixedFoveation=me),null!==S&&void 0!==S.fixedFoveation&&(S.fixedFoveation=me)};let ze=null;const rt=new m3;rt.setAnimationLoop(function Ue(me,$e){if(b=$e.getViewerPose(p||l),A=$e,null!==b){const Nt=b.views;null!==S&&(t.setRenderTargetFramebuffer(k,S.framebuffer),t.setRenderTarget(k));let xt=!1;Nt.length!==J.cameras.length&&(J.cameras.length=0,xt=!0);for(let en=0;en<Nt.length;en++){const Ln=Nt[en];let on=null;if(null!==S)on=S.getViewport(Ln);else{const wn=y.getViewSubImage(w,Ln);on=wn.viewport,0===en&&(t.setRenderTargetTextures(k,wn.colorTexture,w.ignoreDepthValues?void 0:wn.depthStencilTexture),t.setRenderTarget(k))}let yn=q[en];void 0===yn&&(yn=new Do,yn.layers.enable(en),yn.viewport=new Yi,q[en]=yn),yn.matrix.fromArray(Ln.transform.matrix),yn.matrix.decompose(yn.position,yn.quaternion,yn.scale),yn.projectionMatrix.fromArray(Ln.projectionMatrix),yn.projectionMatrixInverse.copy(yn.projectionMatrix).invert(),yn.viewport.set(on.x,on.y,on.width,on.height),0===en&&(J.matrix.copy(yn.matrix),J.matrix.decompose(J.position,J.quaternion,J.scale)),!0===xt&&J.cameras.push(yn)}}for(let Nt=0;Nt<U.length;Nt++){const xt=O[Nt],en=U[Nt];null!==xt&&void 0!==en&&en.update(xt,$e,p||l)}ze&&ze(me,$e),$e.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:$e}),A=null}),this.setAnimationLoop=function(me){ze=me},this.dispose=function(){}}}function F8(i,t){function e(I,k){!0===I.matrixAutoUpdate&&I.updateMatrix(),k.value.copy(I.matrix)}function s(I,k){I.opacity.value=k.opacity,k.color&&I.diffuse.value.copy(k.color),k.emissive&&I.emissive.value.copy(k.emissive).multiplyScalar(k.emissiveIntensity),k.map&&(I.map.value=k.map,e(k.map,I.mapTransform)),k.alphaMap&&(I.alphaMap.value=k.alphaMap,e(k.alphaMap,I.alphaMapTransform)),k.bumpMap&&(I.bumpMap.value=k.bumpMap,e(k.bumpMap,I.bumpMapTransform),I.bumpScale.value=k.bumpScale,1===k.side&&(I.bumpScale.value*=-1)),k.normalMap&&(I.normalMap.value=k.normalMap,e(k.normalMap,I.normalMapTransform),I.normalScale.value.copy(k.normalScale),1===k.side&&I.normalScale.value.negate()),k.displacementMap&&(I.displacementMap.value=k.displacementMap,e(k.displacementMap,I.displacementMapTransform),I.displacementScale.value=k.displacementScale,I.displacementBias.value=k.displacementBias),k.emissiveMap&&(I.emissiveMap.value=k.emissiveMap,e(k.emissiveMap,I.emissiveMapTransform)),k.specularMap&&(I.specularMap.value=k.specularMap,e(k.specularMap,I.specularMapTransform)),k.alphaTest>0&&(I.alphaTest.value=k.alphaTest);const U=t.get(k).envMap;if(U&&(I.envMap.value=U,I.flipEnvMap.value=U.isCubeTexture&&!1===U.isRenderTargetTexture?-1:1,I.reflectivity.value=k.reflectivity,I.ior.value=k.ior,I.refractionRatio.value=k.refractionRatio),k.lightMap){I.lightMap.value=k.lightMap;const O=!0===i._useLegacyLights?Math.PI:1;I.lightMapIntensity.value=k.lightMapIntensity*O,e(k.lightMap,I.lightMapTransform)}k.aoMap&&(I.aoMap.value=k.aoMap,I.aoMapIntensity.value=k.aoMapIntensity,e(k.aoMap,I.aoMapTransform))}return{refreshFogUniforms:function n(I,k){k.color.getRGB(I.fogColor.value,Pf(i)),k.isFog?(I.fogNear.value=k.near,I.fogFar.value=k.far):k.isFogExp2&&(I.fogDensity.value=k.density)},refreshMaterialUniforms:function r(I,k,U,O,B){k.isMeshBasicMaterial||k.isMeshLambertMaterial?s(I,k):k.isMeshToonMaterial?(s(I,k),function y(I,k){k.gradientMap&&(I.gradientMap.value=k.gradientMap)}(I,k)):k.isMeshPhongMaterial?(s(I,k),function b(I,k){I.specular.value.copy(k.specular),I.shininess.value=Math.max(k.shininess,1e-4)}(I,k)):k.isMeshStandardMaterial?(s(I,k),function w(I,k){I.metalness.value=k.metalness,k.metalnessMap&&(I.metalnessMap.value=k.metalnessMap,e(k.metalnessMap,I.metalnessMapTransform)),I.roughness.value=k.roughness,k.roughnessMap&&(I.roughnessMap.value=k.roughnessMap,e(k.roughnessMap,I.roughnessMapTransform)),t.get(k).envMap&&(I.envMapIntensity.value=k.envMapIntensity)}(I,k),k.isMeshPhysicalMaterial&&function S(I,k,U){I.ior.value=k.ior,k.sheen>0&&(I.sheenColor.value.copy(k.sheenColor).multiplyScalar(k.sheen),I.sheenRoughness.value=k.sheenRoughness,k.sheenColorMap&&(I.sheenColorMap.value=k.sheenColorMap,e(k.sheenColorMap,I.sheenColorMapTransform)),k.sheenRoughnessMap&&(I.sheenRoughnessMap.value=k.sheenRoughnessMap,e(k.sheenRoughnessMap,I.sheenRoughnessMapTransform))),k.clearcoat>0&&(I.clearcoat.value=k.clearcoat,I.clearcoatRoughness.value=k.clearcoatRoughness,k.clearcoatMap&&(I.clearcoatMap.value=k.clearcoatMap,e(k.clearcoatMap,I.clearcoatMapTransform)),k.clearcoatRoughnessMap&&(I.clearcoatRoughnessMap.value=k.clearcoatRoughnessMap,e(k.clearcoatRoughnessMap,I.clearcoatRoughnessMapTransform)),k.clearcoatNormalMap&&(I.clearcoatNormalMap.value=k.clearcoatNormalMap,e(k.clearcoatNormalMap,I.clearcoatNormalMapTransform),I.clearcoatNormalScale.value.copy(k.clearcoatNormalScale),1===k.side&&I.clearcoatNormalScale.value.negate())),k.iridescence>0&&(I.iridescence.value=k.iridescence,I.iridescenceIOR.value=k.iridescenceIOR,I.iridescenceThicknessMinimum.value=k.iridescenceThicknessRange[0],I.iridescenceThicknessMaximum.value=k.iridescenceThicknessRange[1],k.iridescenceMap&&(I.iridescenceMap.value=k.iridescenceMap,e(k.iridescenceMap,I.iridescenceMapTransform)),k.iridescenceThicknessMap&&(I.iridescenceThicknessMap.value=k.iridescenceThicknessMap,e(k.iridescenceThicknessMap,I.iridescenceThicknessMapTransform))),k.transmission>0&&(I.transmission.value=k.transmission,I.transmissionSamplerMap.value=U.texture,I.transmissionSamplerSize.value.set(U.width,U.height),k.transmissionMap&&(I.transmissionMap.value=k.transmissionMap,e(k.transmissionMap,I.transmissionMapTransform)),I.thickness.value=k.thickness,k.thicknessMap&&(I.thicknessMap.value=k.thicknessMap,e(k.thicknessMap,I.thicknessMapTransform)),I.attenuationDistance.value=k.attenuationDistance,I.attenuationColor.value.copy(k.attenuationColor)),k.anisotropy>0&&(I.anisotropyVector.value.set(k.anisotropy*Math.cos(k.anisotropyRotation),k.anisotropy*Math.sin(k.anisotropyRotation)),k.anisotropyMap&&(I.anisotropyMap.value=k.anisotropyMap,e(k.anisotropyMap,I.anisotropyMapTransform))),I.specularIntensity.value=k.specularIntensity,I.specularColor.value.copy(k.specularColor),k.specularColorMap&&(I.specularColorMap.value=k.specularColorMap,e(k.specularColorMap,I.specularColorMapTransform)),k.specularIntensityMap&&(I.specularIntensityMap.value=k.specularIntensityMap,e(k.specularIntensityMap,I.specularIntensityMapTransform))}(I,k,B)):k.isMeshMatcapMaterial?(s(I,k),function A(I,k){k.matcap&&(I.matcap.value=k.matcap)}(I,k)):k.isMeshDepthMaterial?s(I,k):k.isMeshDistanceMaterial?(s(I,k),function P(I,k){const U=t.get(k).light;I.referencePosition.value.setFromMatrixPosition(U.matrixWorld),I.nearDistance.value=U.shadow.camera.near,I.farDistance.value=U.shadow.camera.far}(I,k)):k.isMeshNormalMaterial?s(I,k):k.isLineBasicMaterial?(function l(I,k){I.diffuse.value.copy(k.color),I.opacity.value=k.opacity,k.map&&(I.map.value=k.map,e(k.map,I.mapTransform))}(I,k),k.isLineDashedMaterial&&function u(I,k){I.dashSize.value=k.dashSize,I.totalSize.value=k.dashSize+k.gapSize,I.scale.value=k.scale}(I,k)):k.isPointsMaterial?function f(I,k,U,O){I.diffuse.value.copy(k.color),I.opacity.value=k.opacity,I.size.value=k.size*U,I.scale.value=.5*O,k.map&&(I.map.value=k.map,e(k.map,I.uvTransform)),k.alphaMap&&(I.alphaMap.value=k.alphaMap,e(k.alphaMap,I.alphaMapTransform)),k.alphaTest>0&&(I.alphaTest.value=k.alphaTest)}(I,k,U,O):k.isSpriteMaterial?function p(I,k){I.diffuse.value.copy(k.color),I.opacity.value=k.opacity,I.rotation.value=k.rotation,k.map&&(I.map.value=k.map,e(k.map,I.mapTransform)),k.alphaMap&&(I.alphaMap.value=k.alphaMap,e(k.alphaMap,I.alphaMapTransform)),k.alphaTest>0&&(I.alphaTest.value=k.alphaTest)}(I,k):k.isShadowMaterial?(I.color.value.copy(k.color),I.opacity.value=k.opacity):k.isShaderMaterial&&(k.uniformsNeedUpdate=!1)}}}function U8(i,t,e,n){let r={},s={},l=[];const u=e.isWebGL2?i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS):0;function S(U,O,B){const j=U.value;if(void 0===B[O]){if("number"==typeof j)B[O]=j;else{const q=Array.isArray(j)?j:[j],J=[];for(let le=0;le<q.length;le++)J.push(q[le].clone());B[O]=J}return!0}if("number"==typeof j){if(B[O]!==j)return B[O]=j,!0}else{const q=Array.isArray(B[O])?B[O]:[B[O]],J=Array.isArray(j)?j:[j];for(let le=0;le<q.length;le++){const H=q[le];if(!1===H.equals(J[le]))return H.copy(J[le]),!0}}return!1}function P(U){const O={boundary:0,storage:0};return"number"==typeof U?(O.boundary=4,O.storage=4):U.isVector2?(O.boundary=8,O.storage=8):U.isVector3||U.isColor?(O.boundary=16,O.storage=12):U.isVector4?(O.boundary=16,O.storage=16):U.isMatrix3?(O.boundary=48,O.storage=48):U.isMatrix4?(O.boundary=64,O.storage=64):U.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",U),O}function I(U){const O=U.target;O.removeEventListener("dispose",I);const B=l.indexOf(O.__bindingPointIndex);l.splice(B,1),i.deleteBuffer(r[O.id]),delete r[O.id],delete s[O.id]}return{bind:function f(U,O){n.uniformBlockBinding(U,O.program)},update:function p(U,O){let B=r[U.id];void 0===B&&(function A(U){const O=U.uniforms;let B=0;let q=0;for(let J=0,le=O.length;J<le;J++){const H=O[J],K={boundary:0,storage:0},ke=Array.isArray(H.value)?H.value:[H.value];for(let nt=0,ft=ke.length;nt<ft;nt++){const Ve=P(ke[nt]);K.boundary+=Ve.boundary,K.storage+=Ve.storage}H.__data=new Float32Array(K.storage/Float32Array.BYTES_PER_ELEMENT),H.__offset=B,J>0&&(q=B%16,0!==q&&16-q-K.boundary<0&&(B+=16-q,H.__offset=B)),B+=K.storage}q=B%16,q>0&&(B+=16-q),U.__size=B,U.__cache={}}(U),B=function b(U){const O=function y(){for(let U=0;U<u;U++)if(-1===l.indexOf(U))return l.push(U),U;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();U.__bindingPointIndex=O;const B=i.createBuffer(),j=U.__size,q=U.usage;return i.bindBuffer(i.UNIFORM_BUFFER,B),i.bufferData(i.UNIFORM_BUFFER,j,q),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,O,B),B}(U),r[U.id]=B,U.addEventListener("dispose",I)),n.updateUBOMapping(U,O.program);const q=t.render.frame;s[U.id]!==q&&(function w(U){const B=U.uniforms,j=U.__cache;i.bindBuffer(i.UNIFORM_BUFFER,r[U.id]);for(let q=0,J=B.length;q<J;q++){const le=B[q];if(!0===S(le,q,j)){const H=le.__offset,K=Array.isArray(le.value)?le.value:[le.value];let ke=0;for(let nt=0;nt<K.length;nt++){const ft=K[nt],he=P(ft);"number"==typeof ft?(le.__data[0]=ft,i.bufferSubData(i.UNIFORM_BUFFER,H+ke,le.__data)):ft.isMatrix3?(le.__data[0]=ft.elements[0],le.__data[1]=ft.elements[1],le.__data[2]=ft.elements[2],le.__data[3]=ft.elements[0],le.__data[4]=ft.elements[3],le.__data[5]=ft.elements[4],le.__data[6]=ft.elements[5],le.__data[7]=ft.elements[0],le.__data[8]=ft.elements[6],le.__data[9]=ft.elements[7],le.__data[10]=ft.elements[8],le.__data[11]=ft.elements[0]):(ft.toArray(le.__data,ke),ke+=he.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,H,le.__data)}}i.bindBuffer(i.UNIFORM_BUFFER,null)}(U),s[U.id]=q)},dispose:function k(){for(const U in r)i.deleteBuffer(r[U]);l=[],r={},s={}}}}class G3{constructor(t={}){const{canvas:e=l3(),context:n=null,depth:r=!0,stencil:s=!0,alpha:l=!1,antialias:u=!1,premultipliedAlpha:f=!0,preserveDrawingBuffer:p=!1,powerPreference:b="default",failIfMajorPerformanceCaveat:y=!1}=t;let w;this.isWebGLRenderer=!0,w=null!==n?n.getContextAttributes().alpha:l;const S=new Uint32Array(4),A=new Int32Array(4);let P=null,I=null;const k=[],U=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Wr,this._useLegacyLights=!1,this.toneMapping=kd,this.toneMappingExposure=1;const O=this;let B=!1,j=0,q=0,J=null,le=-1,H=null;const K=new Yi,ke=new Yi;let nt=null;const ft=new Kt(0);let he=0,Ve=e.width,xe=e.height,Ce=1,ze=null,Ue=null;const rt=new Yi(0,0,Ve,xe),me=new Yi(0,0,Ve,xe);let $e=!1;const Nt=new DP;let xt=!1,en=!1,Ln=null;const on=new Xn,yn=new ht,wn=new ee,yi={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function kn(){return null===J?Ce:1}let ot,St,_t,Mn,Qt,un,ei,Ei,ds,ne,G,Fe,Tt,yt,At,_n,Lt,Yt,Yn,Li,kt,nr,ri,qn,ce=n;function Vt(Z,De){for(let Be=0;Be<Z.length;Be++){const je=e.getContext(Z[Be],De);if(null!==je)return je}return null}try{const Z={alpha:!0,depth:r,stencil:s,antialias:u,premultipliedAlpha:f,preserveDrawingBuffer:p,powerPreference:b,failIfMajorPerformanceCaveat:y};if("setAttribute"in e&&e.setAttribute("data-engine","three.js r158"),e.addEventListener("webglcontextlost",Ai,!1),e.addEventListener("webglcontextrestored",pe,!1),e.addEventListener("webglcontextcreationerror",qt,!1),null===ce){const De=["webgl2","webgl","experimental-webgl"];if(!0===O.isWebGL1Renderer&&De.shift(),ce=Vt(De,Z),null===ce)throw Vt(De)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&ce instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===ce.getShaderPrecisionFormat&&(ce.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Z){throw console.error("THREE.WebGLRenderer: "+Z.message),Z}function Fn(){ot=new XW(ce),St=new WW(ce,ot,t),ot.init(St),nr=new R8(ce,ot,St),_t=new I8(ce,ot,St),Mn=new JW(ce),Qt=new v8,un=new k8(ce,ot,_t,Qt,St,nr,Mn),ei=new $W(O),Ei=new ZW(O),ds=new H6(ce,St),ri=new HW(ce,ot,ds,St),ne=new KW(ce,ds,Mn,ri),G=new ij(ce,ne,ds,Mn),Yn=new nj(ce,St,un),_n=new jW(Qt),Fe=new _8(O,ei,Ei,ot,St,ri,_n),Tt=new F8(O,Qt),yt=new y8,At=new M8(ot,St),Yt=new zW(O,ei,Ei,_t,G,w,f),Lt=new D8(O,G,St),qn=new U8(ce,Mn,St,_t),Li=new GW(ce,ot,Mn,St),kt=new QW(ce,ot,Mn,St),Mn.programs=Fe.programs,O.capabilities=St,O.extensions=ot,O.properties=Qt,O.renderLists=yt,O.shadowMap=Lt,O.state=_t,O.info=Mn}Fn();const nn=new L8(O,ce);function Ai(Z){Z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),B=!0}function pe(){console.log("THREE.WebGLRenderer: Context Restored."),B=!1;const Z=Mn.autoReset,De=Lt.enabled,Be=Lt.autoUpdate,Ge=Lt.needsUpdate,je=Lt.type;Fn(),Mn.autoReset=Z,Lt.enabled=De,Lt.autoUpdate=Be,Lt.needsUpdate=Ge,Lt.type=je}function qt(Z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Z.statusMessage)}function Pt(Z){const De=Z.target;De.removeEventListener("dispose",Pt),function it(Z){(function Ut(Z){const De=Qt.get(Z).programs;void 0!==De&&(De.forEach(function(Be){Fe.releaseProgram(Be)}),Z.isShaderMaterial&&Fe.releaseShaderCache(Z))})(Z),Qt.remove(Z)}(De)}function Vn(Z,De,Be){!0===Z.transparent&&2===Z.side&&!1===Z.forceSinglePass?(Z.side=1,Z.needsUpdate=!0,BI(Z,De,Be),Z.side=0,Z.needsUpdate=!0,BI(Z,De,Be),Z.side=2):BI(Z,De,Be)}this.xr=nn,this.getContext=function(){return ce},this.getContextAttributes=function(){return ce.getContextAttributes()},this.forceContextLoss=function(){const Z=ot.get("WEBGL_lose_context");Z&&Z.loseContext()},this.forceContextRestore=function(){const Z=ot.get("WEBGL_lose_context");Z&&Z.restoreContext()},this.getPixelRatio=function(){return Ce},this.setPixelRatio=function(Z){void 0!==Z&&(Ce=Z,this.setSize(Ve,xe,!1))},this.getSize=function(Z){return Z.set(Ve,xe)},this.setSize=function(Z,De,Be=!0){nn.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(Ve=Z,xe=De,e.width=Math.floor(Z*Ce),e.height=Math.floor(De*Ce),!0===Be&&(e.style.width=Z+"px",e.style.height=De+"px"),this.setViewport(0,0,Z,De))},this.getDrawingBufferSize=function(Z){return Z.set(Ve*Ce,xe*Ce).floor()},this.setDrawingBufferSize=function(Z,De,Be){Ve=Z,xe=De,Ce=Be,e.width=Math.floor(Z*Be),e.height=Math.floor(De*Be),this.setViewport(0,0,Z,De)},this.getCurrentViewport=function(Z){return Z.copy(K)},this.getViewport=function(Z){return Z.copy(rt)},this.setViewport=function(Z,De,Be,Ge){Z.isVector4?rt.set(Z.x,Z.y,Z.z,Z.w):rt.set(Z,De,Be,Ge),_t.viewport(K.copy(rt).multiplyScalar(Ce).floor())},this.getScissor=function(Z){return Z.copy(me)},this.setScissor=function(Z,De,Be,Ge){Z.isVector4?me.set(Z.x,Z.y,Z.z,Z.w):me.set(Z,De,Be,Ge),_t.scissor(ke.copy(me).multiplyScalar(Ce).floor())},this.getScissorTest=function(){return $e},this.setScissorTest=function(Z){_t.setScissorTest($e=Z)},this.setOpaqueSort=function(Z){ze=Z},this.setTransparentSort=function(Z){Ue=Z},this.getClearColor=function(Z){return Z.copy(Yt.getClearColor())},this.setClearColor=function(){Yt.setClearColor.apply(Yt,arguments)},this.getClearAlpha=function(){return Yt.getClearAlpha()},this.setClearAlpha=function(){Yt.setClearAlpha.apply(Yt,arguments)},this.clear=function(Z=!0,De=!0,Be=!0){let Ge=0;if(Z){let je=!1;if(null!==J){const tn=J.texture.format;je=1033===tn||1031===tn||1029===tn}if(je){const tn=J.texture.type,En=tn===Nc||tn===Ga||1012===tn||tn===zu||1017===tn||1018===tn,zn=Yt.getClearColor(),Zn=Yt.getClearAlpha(),pi=zn.r,si=zn.g,oi=zn.b;En?(S[0]=pi,S[1]=si,S[2]=oi,S[3]=Zn,ce.clearBufferuiv(ce.COLOR,0,S)):(A[0]=pi,A[1]=si,A[2]=oi,A[3]=Zn,ce.clearBufferiv(ce.COLOR,0,A))}else Ge|=ce.COLOR_BUFFER_BIT}De&&(Ge|=ce.DEPTH_BUFFER_BIT),Be&&(Ge|=ce.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ce.clear(Ge)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Ai,!1),e.removeEventListener("webglcontextrestored",pe,!1),e.removeEventListener("webglcontextcreationerror",qt,!1),yt.dispose(),At.dispose(),Qt.dispose(),ei.dispose(),Ei.dispose(),G.dispose(),ri.dispose(),qn.dispose(),Fe.dispose(),nn.dispose(),nn.removeEventListener("sessionstart",Il),nn.removeEventListener("sessionend",pr),Ln&&(Ln.dispose(),Ln=null),_a.stop()},this.renderBufferDirect=function(Z,De,Be,Ge,je,tn){null===De&&(De=yi);const En=je.isMesh&&je.matrixWorld.determinant()<0,zn=function xre(Z,De,Be,Ge,je){!0!==De.isScene&&(De=yi),un.resetTextureUnits();const tn=De.fog,zn=null===J?O.outputColorSpace:!0===J.isXRRenderTarget?J.texture.colorSpace:Lc,Zn=(Ge.isMeshStandardMaterial?Ei:ei).get(Ge.envMap||(Ge.isMeshStandardMaterial?De.environment:null)),pi=!0===Ge.vertexColors&&!!Be.attributes.color&&4===Be.attributes.color.itemSize,si=!!Be.attributes.tangent&&(!!Ge.normalMap||Ge.anisotropy>0),oi=!!Be.morphAttributes.position,vs=!!Be.morphAttributes.normal,Hc=!!Be.morphAttributes.color;let bo=kd;Ge.toneMapped&&(null===J||!0===J.isXRRenderTarget)&&(bo=O.toneMapping);const Vf=Be.morphAttributes.position||Be.morphAttributes.normal||Be.morphAttributes.color,us=void 0!==Vf?Vf.length:0,Ci=Qt.get(Ge),hF=I.state.lights;!0!==xt||!0!==en&&Z===H||_n.setState(Ge,Z,Z===H&&Ge.id===le);let Ps=!1;Ge.version===Ci.__version?(Ci.needsLights&&Ci.lightsStateVersion!==hF.state.version||Ci.outputColorSpace!==zn||je.isInstancedMesh&&!1===Ci.instancing||!je.isInstancedMesh&&!0===Ci.instancing||je.isSkinnedMesh&&!1===Ci.skinning||!je.isSkinnedMesh&&!0===Ci.skinning||je.isInstancedMesh&&!0===Ci.instancingColor&&null===je.instanceColor||je.isInstancedMesh&&!1===Ci.instancingColor&&null!==je.instanceColor||Ci.envMap!==Zn||!0===Ge.fog&&Ci.fog!==tn||void 0!==Ci.numClippingPlanes&&(Ci.numClippingPlanes!==_n.numPlanes||Ci.numIntersection!==_n.numIntersection)||Ci.vertexAlphas!==pi||Ci.vertexTangents!==si||Ci.morphTargets!==oi||Ci.morphNormals!==vs||Ci.morphColors!==Hc||Ci.toneMapping!==bo||!0===St.isWebGL2&&Ci.morphTargetsCount!==us)&&(Ps=!0):(Ps=!0,Ci.__version=Ge.version);let Fv=Ci.currentProgram;!0===Ps&&(Fv=BI(Ge,De,je));let o6=!1,HC=!1,fF=!1;const va=Fv.getUniforms(),Uv=Ci.uniforms;if(_t.useProgram(Fv.program)&&(o6=!0,HC=!0,fF=!0),Ge.id!==le&&(le=Ge.id,HC=!0),o6||H!==Z){va.setValue(ce,"projectionMatrix",Z.projectionMatrix),va.setValue(ce,"viewMatrix",Z.matrixWorldInverse);const Gc=va.map.cameraPosition;void 0!==Gc&&Gc.setValue(ce,wn.setFromMatrixPosition(Z.matrixWorld)),St.logarithmicDepthBuffer&&va.setValue(ce,"logDepthBufFC",2/(Math.log(Z.far+1)/Math.LN2)),(Ge.isMeshPhongMaterial||Ge.isMeshToonMaterial||Ge.isMeshLambertMaterial||Ge.isMeshBasicMaterial||Ge.isMeshStandardMaterial||Ge.isShaderMaterial)&&va.setValue(ce,"isOrthographic",!0===Z.isOrthographicCamera),H!==Z&&(H=Z,HC=!0,fF=!0)}if(je.isSkinnedMesh){va.setOptional(ce,je,"bindMatrix"),va.setOptional(ce,je,"bindMatrixInverse");const Gc=je.skeleton;Gc&&(St.floatVertexTextures?(null===Gc.boneTexture&&Gc.computeBoneTexture(),va.setValue(ce,"boneTexture",Gc.boneTexture,un),va.setValue(ce,"boneTextureSize",Gc.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const mF=Be.morphAttributes;if((void 0!==mF.position||void 0!==mF.normal||void 0!==mF.color&&!0===St.isWebGL2)&&Yn.update(je,Be,Fv),(HC||Ci.receiveShadow!==je.receiveShadow)&&(Ci.receiveShadow=je.receiveShadow,va.setValue(ce,"receiveShadow",je.receiveShadow)),Ge.isMeshGouraudMaterial&&null!==Ge.envMap&&(Uv.envMap.value=Zn,Uv.flipEnvMap.value=Zn.isCubeTexture&&!1===Zn.isRenderTargetTexture?-1:1),HC&&(va.setValue(ce,"toneMappingExposure",O.toneMappingExposure),Ci.needsLights&&function wre(Z,De){Z.ambientLightColor.needsUpdate=De,Z.lightProbe.needsUpdate=De,Z.directionalLights.needsUpdate=De,Z.directionalLightShadows.needsUpdate=De,Z.pointLights.needsUpdate=De,Z.pointLightShadows.needsUpdate=De,Z.spotLights.needsUpdate=De,Z.spotLightShadows.needsUpdate=De,Z.rectAreaLights.needsUpdate=De,Z.hemisphereLights.needsUpdate=De}(Uv,fF),tn&&!0===Ge.fog&&Tt.refreshFogUniforms(Uv,tn),Tt.refreshMaterialUniforms(Uv,Ge,Ce,xe,Ln),xA.upload(ce,r6(Ci),Uv,un)),Ge.isShaderMaterial&&!0===Ge.uniformsNeedUpdate&&(xA.upload(ce,r6(Ci),Uv,un),Ge.uniformsNeedUpdate=!1),Ge.isSpriteMaterial&&va.setValue(ce,"center",je.center),va.setValue(ce,"modelViewMatrix",je.modelViewMatrix),va.setValue(ce,"normalMatrix",je.normalMatrix),va.setValue(ce,"modelMatrix",je.matrixWorld),Ge.isShaderMaterial||Ge.isRawShaderMaterial){const Gc=Ge.uniformsGroups;for(let pF=0,Cre=Gc.length;pF<Cre;pF++)if(St.isWebGL2){const a6=Gc[pF];qn.update(a6,Fv),qn.bind(a6,Fv)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Fv}(Z,De,Be,Ge,je);_t.setMaterial(Ge,En);let Zn=Be.index,pi=1;if(!0===Ge.wireframe){if(Zn=ne.getWireframeAttribute(Be),void 0===Zn)return;pi=2}const si=Be.drawRange,oi=Be.attributes.position;let vs=si.start*pi,Hc=(si.start+si.count)*pi;null!==tn&&(vs=Math.max(vs,tn.start*pi),Hc=Math.min(Hc,(tn.start+tn.count)*pi)),null!==Zn?(vs=Math.max(vs,0),Hc=Math.min(Hc,Zn.count)):null!=oi&&(vs=Math.max(vs,0),Hc=Math.min(Hc,oi.count));const bo=Hc-vs;if(bo<0||bo===1/0)return;ri.setup(je,Ge,zn,Be,Zn);let Vf,us=Li;if(null!==Zn&&(Vf=ds.get(Zn),us=kt,us.setIndex(Vf)),je.isMesh)!0===Ge.wireframe?(_t.setLineWidth(Ge.wireframeLinewidth*kn()),us.setMode(ce.LINES)):us.setMode(ce.TRIANGLES);else if(je.isLine){let Ci=Ge.linewidth;void 0===Ci&&(Ci=1),_t.setLineWidth(Ci*kn()),us.setMode(je.isLineSegments?ce.LINES:je.isLineLoop?ce.LINE_LOOP:ce.LINE_STRIP)}else je.isPoints?us.setMode(ce.POINTS):je.isSprite&&us.setMode(ce.TRIANGLES);if(je.isInstancedMesh)us.renderInstances(vs,bo,je.count);else if(Be.isInstancedBufferGeometry){const hF=Math.min(Be.instanceCount,void 0!==Be._maxInstanceCount?Be._maxInstanceCount:1/0);us.renderInstances(vs,bo,hF)}else us.render(vs,bo)},this.compile=function(Z,De,Be=null){null===Be&&(Be=Z),I=At.get(Be),I.init(),U.push(I),Be.traverseVisible(function(je){je.isLight&&je.layers.test(De.layers)&&(I.pushLight(je),je.castShadow&&I.pushShadow(je))}),Z!==Be&&Z.traverseVisible(function(je){je.isLight&&je.layers.test(De.layers)&&(I.pushLight(je),je.castShadow&&I.pushShadow(je))}),I.setupLights(O._useLegacyLights);const Ge=new Set;return Z.traverse(function(je){const tn=je.material;if(tn)if(Array.isArray(tn))for(let En=0;En<tn.length;En++){const zn=tn[En];Vn(zn,Be,je),Ge.add(zn)}else Vn(tn,Be,je),Ge.add(tn)}),U.pop(),I=null,Ge},this.compileAsync=function(Z,De,Be=null){const Ge=this.compile(Z,De,Be);return new Promise(je=>{function tn(){Ge.forEach(function(En){Qt.get(En).currentProgram.isReady()&&Ge.delete(En)}),0!==Ge.size?setTimeout(tn,10):je(Z)}null!==ot.get("KHR_parallel_shader_compile")?tn():setTimeout(tn,10)})};let Fi=null;function Il(){_a.stop()}function pr(){_a.start()}const _a=new m3;function oh(Z,De,Be,Ge){if(!1===Z.visible)return;if(Z.layers.test(De.layers))if(Z.isGroup)Be=Z.renderOrder;else if(Z.isLOD)!0===Z.autoUpdate&&Z.update(De);else if(Z.isLight)I.pushLight(Z),Z.castShadow&&I.pushShadow(Z);else if(Z.isSprite){if(!Z.frustumCulled||Nt.intersectsSprite(Z)){Ge&&wn.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(on);const En=G.update(Z),zn=Z.material;zn.visible&&P.push(Z,En,zn,Be,wn.z,null)}}else if((Z.isMesh||Z.isLine||Z.isPoints)&&(!Z.frustumCulled||Nt.intersectsObject(Z))){const En=G.update(Z),zn=Z.material;if(Ge&&(void 0!==Z.boundingSphere?(null===Z.boundingSphere&&Z.computeBoundingSphere(),wn.copy(Z.boundingSphere.center)):(null===En.boundingSphere&&En.computeBoundingSphere(),wn.copy(En.boundingSphere.center)),wn.applyMatrix4(Z.matrixWorld).applyMatrix4(on)),Array.isArray(zn)){const Zn=En.groups;for(let pi=0,si=Zn.length;pi<si;pi++){const oi=Zn[pi],vs=zn[oi.materialIndex];vs&&vs.visible&&P.push(Z,En,vs,Be,wn.z,oi)}}else zn.visible&&P.push(Z,En,zn,Be,wn.z,null)}const tn=Z.children;for(let En=0,zn=tn.length;En<zn;En++)oh(tn[En],De,Be,Ge)}function n6(Z,De,Be,Ge){const je=Z.opaque,tn=Z.transmissive,En=Z.transparent;I.setupLightsView(Be),!0===xt&&_n.setGlobalState(O.clippingPlanes,Be),tn.length>0&&function yre(Z,De,Be,Ge){if(null!==(!0===Be.isScene?Be.overrideMaterial:null))return;const tn=St.isWebGL2;null===Ln&&(Ln=new $u(1,1,{generateMipmaps:!0,type:ot.has("EXT_color_buffer_half_float")?L_:Nc,minFilter:Oc,samples:tn?4:0})),O.getDrawingBufferSize(yn),tn?Ln.setSize(yn.x,yn.y):Ln.setSize(Hy(yn.x),Hy(yn.y));const En=O.getRenderTarget();O.setRenderTarget(Ln),O.getClearColor(ft),he=O.getClearAlpha(),he<1&&O.setClearColor(16777215,.5),O.clear();const zn=O.toneMapping;O.toneMapping=kd,UI(Z,Be,Ge),un.updateMultisampleRenderTarget(Ln),un.updateRenderTargetMipmap(Ln);let Zn=!1;for(let pi=0,si=De.length;pi<si;pi++){const oi=De[pi],vs=oi.object,Hc=oi.geometry,bo=oi.material,Vf=oi.group;if(2===bo.side&&vs.layers.test(Ge.layers)){const us=bo.side;bo.side=1,bo.needsUpdate=!0,i6(vs,Be,Ge,Hc,bo,Vf),bo.side=us,bo.needsUpdate=!0,Zn=!0}}!0===Zn&&(un.updateMultisampleRenderTarget(Ln),un.updateRenderTargetMipmap(Ln)),O.setRenderTarget(En),O.setClearColor(ft,he),O.toneMapping=zn}(je,tn,De,Be),Ge&&_t.viewport(K.copy(Ge)),je.length>0&&UI(je,De,Be),tn.length>0&&UI(tn,De,Be),En.length>0&&UI(En,De,Be),_t.buffers.depth.setTest(!0),_t.buffers.depth.setMask(!0),_t.buffers.color.setMask(!0),_t.setPolygonOffset(!1)}function UI(Z,De,Be){const Ge=!0===De.isScene?De.overrideMaterial:null;for(let je=0,tn=Z.length;je<tn;je++){const En=Z[je],zn=En.object,Zn=En.geometry,pi=null===Ge?En.material:Ge,si=En.group;zn.layers.test(Be.layers)&&i6(zn,De,Be,Zn,pi,si)}}function i6(Z,De,Be,Ge,je,tn){Z.onBeforeRender(O,De,Be,Ge,je,tn),Z.modelViewMatrix.multiplyMatrices(Be.matrixWorldInverse,Z.matrixWorld),Z.normalMatrix.getNormalMatrix(Z.modelViewMatrix),je.onBeforeRender(O,De,Be,Ge,Z,tn),!0===je.transparent&&2===je.side&&!1===je.forceSinglePass?(je.side=1,je.needsUpdate=!0,O.renderBufferDirect(Be,De,Ge,je,Z,tn),je.side=0,je.needsUpdate=!0,O.renderBufferDirect(Be,De,Ge,je,Z,tn),je.side=2):O.renderBufferDirect(Be,De,Ge,je,Z,tn),Z.onAfterRender(O,De,Be,Ge,je,tn)}function BI(Z,De,Be){!0!==De.isScene&&(De=yi);const Ge=Qt.get(Z),je=I.state.lights,En=je.state.version,zn=Fe.getParameters(Z,je.state,I.state.shadowsArray,De,Be),Zn=Fe.getProgramCacheKey(zn);let pi=Ge.programs;Ge.environment=Z.isMeshStandardMaterial?De.environment:null,Ge.fog=De.fog,Ge.envMap=(Z.isMeshStandardMaterial?Ei:ei).get(Z.envMap||Ge.environment),void 0===pi&&(Z.addEventListener("dispose",Pt),pi=new Map,Ge.programs=pi);let si=pi.get(Zn);if(void 0!==si){if(Ge.currentProgram===si&&Ge.lightsStateVersion===En)return s6(Z,zn),si}else zn.uniforms=Fe.getUniforms(Z),Z.onBuild(Be,zn,O),Z.onBeforeCompile(zn,O),si=Fe.acquireProgram(zn,Zn),pi.set(Zn,si),Ge.uniforms=zn.uniforms;const oi=Ge.uniforms;return(!Z.isShaderMaterial&&!Z.isRawShaderMaterial||!0===Z.clipping)&&(oi.clippingPlanes=_n.uniform),s6(Z,zn),Ge.needsLights=function Ere(Z){return Z.isMeshLambertMaterial||Z.isMeshToonMaterial||Z.isMeshPhongMaterial||Z.isMeshStandardMaterial||Z.isShadowMaterial||Z.isShaderMaterial&&!0===Z.lights}(Z),Ge.lightsStateVersion=En,Ge.needsLights&&(oi.ambientLightColor.value=je.state.ambient,oi.lightProbe.value=je.state.probe,oi.directionalLights.value=je.state.directional,oi.directionalLightShadows.value=je.state.directionalShadow,oi.spotLights.value=je.state.spot,oi.spotLightShadows.value=je.state.spotShadow,oi.rectAreaLights.value=je.state.rectArea,oi.ltc_1.value=je.state.rectAreaLTC1,oi.ltc_2.value=je.state.rectAreaLTC2,oi.pointLights.value=je.state.point,oi.pointLightShadows.value=je.state.pointShadow,oi.hemisphereLights.value=je.state.hemi,oi.directionalShadowMap.value=je.state.directionalShadowMap,oi.directionalShadowMatrix.value=je.state.directionalShadowMatrix,oi.spotShadowMap.value=je.state.spotShadowMap,oi.spotLightMatrix.value=je.state.spotLightMatrix,oi.spotLightMap.value=je.state.spotLightMap,oi.pointShadowMap.value=je.state.pointShadowMap,oi.pointShadowMatrix.value=je.state.pointShadowMatrix),Ge.currentProgram=si,Ge.uniformsList=null,si}function r6(Z){if(null===Z.uniformsList){const De=Z.currentProgram.getUniforms();Z.uniformsList=xA.seqWithValue(De.seq,Z.uniforms)}return Z.uniformsList}function s6(Z,De){const Be=Qt.get(Z);Be.outputColorSpace=De.outputColorSpace,Be.instancing=De.instancing,Be.instancingColor=De.instancingColor,Be.skinning=De.skinning,Be.morphTargets=De.morphTargets,Be.morphNormals=De.morphNormals,Be.morphColors=De.morphColors,Be.morphTargetsCount=De.morphTargetsCount,Be.numClippingPlanes=De.numClippingPlanes,Be.numIntersection=De.numClipIntersection,Be.vertexAlphas=De.vertexAlphas,Be.vertexTangents=De.vertexTangents,Be.toneMapping=De.toneMapping}_a.setAnimationLoop(function Rs(Z){Fi&&Fi(Z)}),typeof self<"u"&&_a.setContext(self),this.setAnimationLoop=function(Z){Fi=Z,nn.setAnimationLoop(Z),null===Z?_a.stop():_a.start()},nn.addEventListener("sessionstart",Il),nn.addEventListener("sessionend",pr),this.render=function(Z,De){if(void 0===De||!0===De.isCamera){if(!0!==B){if(!0===Z.matrixWorldAutoUpdate&&Z.updateMatrixWorld(),null===De.parent&&!0===De.matrixWorldAutoUpdate&&De.updateMatrixWorld(),!0===nn.enabled&&!0===nn.isPresenting&&(!0===nn.cameraAutoUpdate&&nn.updateCamera(De),De=nn.getCamera()),!0===Z.isScene&&Z.onBeforeRender(O,Z,De,J),I=At.get(Z,U.length),I.init(),U.push(I),on.multiplyMatrices(De.projectionMatrix,De.matrixWorldInverse),Nt.setFromProjectionMatrix(on),en=this.localClippingEnabled,xt=_n.init(this.clippingPlanes,en),P=yt.get(Z,k.length),P.init(),k.push(P),oh(Z,De,0,O.sortObjects),P.finish(),!0===O.sortObjects&&P.sort(ze,Ue),this.info.render.frame++,!0===xt&&_n.beginShadows(),Lt.render(I.state.shadowsArray,Z,De),!0===xt&&_n.endShadows(),!0===this.info.autoReset&&this.info.reset(),Yt.render(P,Z),I.setupLights(O._useLegacyLights),De.isArrayCamera){const Ge=De.cameras;for(let je=0,tn=Ge.length;je<tn;je++){const En=Ge[je];n6(P,Z,En,En.viewport)}}else n6(P,Z,De);null!==J&&(un.updateMultisampleRenderTarget(J),un.updateRenderTargetMipmap(J)),!0===Z.isScene&&Z.onAfterRender(O,Z,De),ri.resetDefaultState(),le=-1,H=null,U.pop(),I=U.length>0?U[U.length-1]:null,k.pop(),P=k.length>0?k[k.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return j},this.getActiveMipmapLevel=function(){return q},this.getRenderTarget=function(){return J},this.setRenderTargetTextures=function(Z,De,Be){Qt.get(Z.texture).__webglTexture=De,Qt.get(Z.depthTexture).__webglTexture=Be;const Ge=Qt.get(Z);Ge.__hasExternalTextures=!0,Ge.__hasExternalTextures&&(Ge.__autoAllocateDepthBuffer=void 0===Be,Ge.__autoAllocateDepthBuffer||!0===ot.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ge.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Z,De){const Be=Qt.get(Z);Be.__webglFramebuffer=De,Be.__useDefaultFramebuffer=void 0===De},this.setRenderTarget=function(Z,De=0,Be=0){J=Z,j=De,q=Be;let Ge=!0,je=null,tn=!1,En=!1;if(Z){const Zn=Qt.get(Z);void 0!==Zn.__useDefaultFramebuffer?(_t.bindFramebuffer(ce.FRAMEBUFFER,null),Ge=!1):void 0===Zn.__webglFramebuffer?un.setupRenderTarget(Z):Zn.__hasExternalTextures&&un.rebindTextures(Z,Qt.get(Z.texture).__webglTexture,Qt.get(Z.depthTexture).__webglTexture);const pi=Z.texture;(pi.isData3DTexture||pi.isDataArrayTexture||pi.isCompressedArrayTexture)&&(En=!0);const si=Qt.get(Z).__webglFramebuffer;Z.isWebGLCubeRenderTarget?(je=Array.isArray(si[De])?si[De][Be]:si[De],tn=!0):je=St.isWebGL2&&Z.samples>0&&!1===un.useMultisampledRTT(Z)?Qt.get(Z).__webglMultisampledFramebuffer:Array.isArray(si)?si[Be]:si,K.copy(Z.viewport),ke.copy(Z.scissor),nt=Z.scissorTest}else K.copy(rt).multiplyScalar(Ce).floor(),ke.copy(me).multiplyScalar(Ce).floor(),nt=$e;if(_t.bindFramebuffer(ce.FRAMEBUFFER,je)&&St.drawBuffers&&Ge&&_t.drawBuffers(Z,je),_t.viewport(K),_t.scissor(ke),_t.setScissorTest(nt),tn){const Zn=Qt.get(Z.texture);ce.framebufferTexture2D(ce.FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_CUBE_MAP_POSITIVE_X+De,Zn.__webglTexture,Be)}else if(En){const Zn=Qt.get(Z.texture);ce.framebufferTextureLayer(ce.FRAMEBUFFER,ce.COLOR_ATTACHMENT0,Zn.__webglTexture,Be||0,De||0)}le=-1},this.readRenderTargetPixels=function(Z,De,Be,Ge,je,tn,En){if(!Z||!Z.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let zn=Qt.get(Z).__webglFramebuffer;if(Z.isWebGLCubeRenderTarget&&void 0!==En&&(zn=zn[En]),zn){_t.bindFramebuffer(ce.FRAMEBUFFER,zn);try{const Zn=Z.texture,pi=Zn.format,si=Zn.type;if(pi!==ua&&nr.convert(pi)!==ce.getParameter(ce.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const oi=si===L_&&(ot.has("EXT_color_buffer_half_float")||St.isWebGL2&&ot.has("EXT_color_buffer_float"));if(!(si===Nc||nr.convert(si)===ce.getParameter(ce.IMPLEMENTATION_COLOR_READ_TYPE)||si===Rd&&(St.isWebGL2||ot.has("OES_texture_float")||ot.has("WEBGL_color_buffer_float"))||oi))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");De>=0&&De<=Z.width-Ge&&Be>=0&&Be<=Z.height-je&&ce.readPixels(De,Be,Ge,je,nr.convert(pi),nr.convert(si),tn)}finally{const Zn=null!==J?Qt.get(J).__webglFramebuffer:null;_t.bindFramebuffer(ce.FRAMEBUFFER,Zn)}}},this.copyFramebufferToTexture=function(Z,De,Be=0){const Ge=Math.pow(2,-Be),je=Math.floor(De.image.width*Ge),tn=Math.floor(De.image.height*Ge);un.setTexture2D(De,0),ce.copyTexSubImage2D(ce.TEXTURE_2D,Be,0,0,Z.x,Z.y,je,tn),_t.unbindTexture()},this.copyTextureToTexture=function(Z,De,Be,Ge=0){const je=De.image.width,tn=De.image.height,En=nr.convert(Be.format),zn=nr.convert(Be.type);un.setTexture2D(Be,0),ce.pixelStorei(ce.UNPACK_FLIP_Y_WEBGL,Be.flipY),ce.pixelStorei(ce.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Be.premultiplyAlpha),ce.pixelStorei(ce.UNPACK_ALIGNMENT,Be.unpackAlignment),De.isDataTexture?ce.texSubImage2D(ce.TEXTURE_2D,Ge,Z.x,Z.y,je,tn,En,zn,De.image.data):De.isCompressedTexture?ce.compressedTexSubImage2D(ce.TEXTURE_2D,Ge,Z.x,Z.y,De.mipmaps[0].width,De.mipmaps[0].height,En,De.mipmaps[0].data):ce.texSubImage2D(ce.TEXTURE_2D,Ge,Z.x,Z.y,En,zn,De.image),0===Ge&&Be.generateMipmaps&&ce.generateMipmap(ce.TEXTURE_2D),_t.unbindTexture()},this.copyTextureToTexture3D=function(Z,De,Be,Ge,je=0){if(O.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const tn=Z.max.x-Z.min.x+1,En=Z.max.y-Z.min.y+1,zn=Z.max.z-Z.min.z+1,Zn=nr.convert(Ge.format),pi=nr.convert(Ge.type);let si;if(Ge.isData3DTexture)un.setTexture3D(Ge,0),si=ce.TEXTURE_3D;else{if(!Ge.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");un.setTexture2DArray(Ge,0),si=ce.TEXTURE_2D_ARRAY}ce.pixelStorei(ce.UNPACK_FLIP_Y_WEBGL,Ge.flipY),ce.pixelStorei(ce.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ge.premultiplyAlpha),ce.pixelStorei(ce.UNPACK_ALIGNMENT,Ge.unpackAlignment);const oi=ce.getParameter(ce.UNPACK_ROW_LENGTH),vs=ce.getParameter(ce.UNPACK_IMAGE_HEIGHT),Hc=ce.getParameter(ce.UNPACK_SKIP_PIXELS),bo=ce.getParameter(ce.UNPACK_SKIP_ROWS),Vf=ce.getParameter(ce.UNPACK_SKIP_IMAGES),us=Be.isCompressedTexture?Be.mipmaps[0]:Be.image;ce.pixelStorei(ce.UNPACK_ROW_LENGTH,us.width),ce.pixelStorei(ce.UNPACK_IMAGE_HEIGHT,us.height),ce.pixelStorei(ce.UNPACK_SKIP_PIXELS,Z.min.x),ce.pixelStorei(ce.UNPACK_SKIP_ROWS,Z.min.y),ce.pixelStorei(ce.UNPACK_SKIP_IMAGES,Z.min.z),Be.isDataTexture||Be.isData3DTexture?ce.texSubImage3D(si,je,De.x,De.y,De.z,tn,En,zn,Zn,pi,us.data):Be.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ce.compressedTexSubImage3D(si,je,De.x,De.y,De.z,tn,En,zn,Zn,us.data)):ce.texSubImage3D(si,je,De.x,De.y,De.z,tn,En,zn,Zn,pi,us),ce.pixelStorei(ce.UNPACK_ROW_LENGTH,oi),ce.pixelStorei(ce.UNPACK_IMAGE_HEIGHT,vs),ce.pixelStorei(ce.UNPACK_SKIP_PIXELS,Hc),ce.pixelStorei(ce.UNPACK_SKIP_ROWS,bo),ce.pixelStorei(ce.UNPACK_SKIP_IMAGES,Vf),0===je&&Ge.generateMipmaps&&ce.generateMipmap(si),_t.unbindTexture()},this.initTexture=function(Z){Z.isCubeTexture?un.setTextureCube(Z,0):Z.isData3DTexture?un.setTexture3D(Z,0):Z.isDataArrayTexture||Z.isCompressedArrayTexture?un.setTexture2DArray(Z,0):un.setTexture2D(Z,0),_t.unbindTexture()},this.resetState=function(){j=0,q=0,J=null,_t.reset(),ri.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return yl}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const e=this.getContext();e.drawingBufferColorSpace=t===zT?"display-p3":"srgb",e.unpackColorSpace=Ri.workingColorSpace===z_?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(t){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!t}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Wr?Cf:3e3}set outputEncoding(t){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=t===Cf?Wr:Lc}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(t){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=t}}(class B8 extends G3{}).prototype.isWebGL1Renderer=!0;class W3 extends ja{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(e.object.backgroundIntensity=this.backgroundIntensity),e}}class go extends Rf{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Kt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const oU=new ee,aU=new ee,cU=new Xn,jP=new K_,AA=new El;class NE extends ja{constructor(t=new gi,e=new go){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,n=[0];for(let r=1,s=e.count;r<s;r++)oU.fromBufferAttribute(e,r-1),aU.fromBufferAttribute(e,r),n[r]=n[r-1],n[r]+=oU.distanceTo(aU);t.setAttribute("lineDistance",new dn(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const n=this.geometry,r=this.matrixWorld,s=t.params.Line.threshold,l=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),AA.copy(n.boundingSphere),AA.applyMatrix4(r),AA.radius+=s,!1===t.ray.intersectsSphere(AA))return;cU.copy(r).invert(),jP.copy(t.ray).applyMatrix4(cU);const u=s/((this.scale.x+this.scale.y+this.scale.z)/3),f=u*u,p=new ee,b=new ee,y=new ee,w=new ee,S=this.isLineSegments?2:1,A=n.index,I=n.attributes.position;if(null!==A)for(let O=Math.max(0,l.start),B=Math.min(A.count,l.start+l.count)-1;O<B;O+=S){const j=A.getX(O),q=A.getX(O+1);if(p.fromBufferAttribute(I,j),b.fromBufferAttribute(I,q),jP.distanceSqToSegment(p,b,w,y)>f)continue;w.applyMatrix4(this.matrixWorld);const le=t.ray.origin.distanceTo(w);le<t.near||le>t.far||e.push({distance:le,point:y.clone().applyMatrix4(this.matrixWorld),index:O,face:null,faceIndex:null,object:this})}else for(let O=Math.max(0,l.start),B=Math.min(I.count,l.start+l.count)-1;O<B;O+=S){if(p.fromBufferAttribute(I,O),b.fromBufferAttribute(I,O+1),jP.distanceSqToSegment(p,b,w,y)>f)continue;w.applyMatrix4(this.matrixWorld);const q=t.ray.origin.distanceTo(w);q<t.near||q>t.far||e.push({distance:q,point:y.clone().applyMatrix4(this.matrixWorld),index:O,face:null,faceIndex:null,object:this})}}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const r=e[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,l=r.length;s<l;s++){const u=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}}const lU=new ee,dU=new ee;class $P extends NE{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,n=[];for(let r=0,s=e.count;r<s;r+=2)lU.fromBufferAttribute(e,r),dU.fromBufferAttribute(e,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+lU.distanceTo(dU);t.setAttribute("lineDistance",new dn(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}const NA=new ee,LA=new ee,iO=new ee,FA=new Zo;class yU extends gi{constructor(t=null,e=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:e},null!==t){const r=Math.pow(10,4),s=Math.cos(pp*e),l=t.getIndex(),u=t.getAttribute("position"),f=l?l.count:u.count,p=[0,0,0],b=["a","b","c"],y=new Array(3),w={},S=[];for(let A=0;A<f;A+=3){l?(p[0]=l.getX(A),p[1]=l.getX(A+1),p[2]=l.getX(A+2)):(p[0]=A,p[1]=A+1,p[2]=A+2);const{a:P,b:I,c:k}=FA;if(P.fromBufferAttribute(u,p[0]),I.fromBufferAttribute(u,p[1]),k.fromBufferAttribute(u,p[2]),FA.getNormal(iO),y[0]=`${Math.round(P.x*r)},${Math.round(P.y*r)},${Math.round(P.z*r)}`,y[1]=`${Math.round(I.x*r)},${Math.round(I.y*r)},${Math.round(I.z*r)}`,y[2]=`${Math.round(k.x*r)},${Math.round(k.y*r)},${Math.round(k.z*r)}`,y[0]!==y[1]&&y[1]!==y[2]&&y[2]!==y[0])for(let U=0;U<3;U++){const O=(U+1)%3,B=y[U],j=y[O],q=FA[b[U]],J=FA[b[O]],le=`${B}_${j}`,H=`${j}_${B}`;H in w&&w[H]?(iO.dot(w[H].normal)<=s&&(S.push(q.x,q.y,q.z),S.push(J.x,J.y,J.z)),w[H]=null):le in w||(w[le]={index0:p[U],index1:p[O],normal:iO.clone()})}}for(const A in w)if(w[A]){const{index0:P,index1:I}=w[A];NA.fromBufferAttribute(u,P),LA.fromBufferAttribute(u,I),S.push(NA.x,NA.y,NA.z),S.push(LA.x,LA.y,LA.z)}this.setAttribute("position",new dn(S,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function uv(i,t,e){return!i||!e&&i.constructor===t?i:"number"==typeof t.BYTES_PER_ELEMENT?new t(i):Array.prototype.slice.call(i)}class GA{constructor(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let n=this._cachedIndex,r=e[n],s=e[n-1];e:{t:{let l;n:{i:if(!(t<r)){for(let u=n+2;;){if(void 0===r){if(t<s)break i;return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===u)break;if(s=r,r=e[++n],t<r)break t}l=e.length;break n}if(t>=s)break e;{const u=e[1];t<u&&(n=2,s=u);for(let f=n-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(n===f)break;if(r=s,s=e[--n-1],t>=s)break t}l=n,n=0}}for(;n<l;){const u=n+l>>>1;t<e[u]?l=u:n=u+1}if(r=e[n],s=e[n-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,r)}return this.interpolate_(n,s,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=t*r;for(let l=0;l!==r;++l)e[l]=n[s+l];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class z$ extends GA{constructor(t,e,n,r){super(t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(t,e,n){const r=this.parameterPositions;let s=t-2,l=t+1,u=r[s],f=r[l];if(void 0===u)switch(this.getSettings_().endingStart){case 2401:s=t,u=2*e-n;break;case 2402:s=r.length-2,u=e+r[s]-r[s+1];break;default:s=t,u=n}if(void 0===f)switch(this.getSettings_().endingEnd){case 2401:l=t,f=2*n-e;break;case 2402:l=1,f=n+r[1]-r[0];break;default:l=t-1,f=e}const p=.5*(n-e),b=this.valueSize;this._weightPrev=p/(e-u),this._weightNext=p/(f-n),this._offsetPrev=s*b,this._offsetNext=l*b}interpolate_(t,e,n,r){const s=this.resultBuffer,l=this.sampleValues,u=this.valueSize,f=t*u,p=f-u,b=this._offsetPrev,y=this._offsetNext,w=this._weightPrev,S=this._weightNext,A=(n-e)/(r-e),P=A*A,I=P*A,k=-w*I+2*w*P-w*A,U=(1+w)*I+(-1.5-2*w)*P+(-.5+w)*A+1,O=(-1-S)*I+(1.5+S)*P+.5*A,B=S*I-S*P;for(let j=0;j!==u;++j)s[j]=k*l[b+j]+U*l[p+j]+O*l[f+j]+B*l[y+j];return s}}class kU extends GA{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const s=this.resultBuffer,l=this.sampleValues,u=this.valueSize,f=t*u,p=f-u,b=(n-e)/(r-e),y=1-b;for(let w=0;w!==u;++w)s[w]=l[p+w]*y+l[f+w]*b;return s}}class H$ extends GA{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t){return this.copySampleValue_(t-1)}}class Ju{constructor(t,e,n,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=uv(e,this.TimeBufferType),this.values=uv(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let n;if(e.toJSON!==this.toJSON)n=e.toJSON(t);else{n={name:t.name,times:uv(t.times,Array),values:uv(t.values,Array)};const r=t.getInterpolation();r!==t.DefaultInterpolation&&(n.interpolation=r)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new H$(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new kU(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new z$(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]*=t}return this}trim(t,e){const n=this.times,r=n.length;let s=0,l=r-1;for(;s!==r&&n[s]<t;)++s;for(;-1!==l&&n[l]>e;)--l;if(++l,0!==s||l!==r){s>=l&&(l=Math.max(l,1),s=l-1);const u=this.getValueSize();this.times=n.slice(s,l),this.values=this.values.slice(s*u,l*u)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,r=this.values,s=n.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let l=null;for(let u=0;u!==s;u++){const f=n[u];if("number"==typeof f&&isNaN(f)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,u,f),t=!1;break}if(null!==l&&l>f){console.error("THREE.KeyframeTrack: Out of order keys.",this,u,f,l),t=!1;break}l=f}if(void 0!==r&&function DU(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}(r))for(let u=0,f=r.length;u!==f;++u){const p=r[u];if(isNaN(p)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,p),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),n=this.getValueSize(),r=2302===this.getInterpolation(),s=t.length-1;let l=1;for(let u=1;u<s;++u){let f=!1;const p=t[u];if(p!==t[u+1]&&(1!==u||p!==t[0]))if(r)f=!0;else{const y=u*n,w=y-n,S=y+n;for(let A=0;A!==n;++A){const P=e[y+A];if(P!==e[w+A]||P!==e[S+A]){f=!0;break}}}if(f){if(u!==l){t[l]=t[u];const y=u*n,w=l*n;for(let S=0;S!==n;++S)e[w+S]=e[y+S]}++l}}if(s>0){t[l]=t[s];for(let u=s*n,f=l*n,p=0;p!==n;++p)e[f+p]=e[u+p];++l}return l!==t.length?(this.times=t.slice(0,l),this.values=e.slice(0,l*n)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),r=new(0,this.constructor)(this.name,t,e);return r.createInterpolant=this.createInterpolant,r}}Ju.prototype.TimeBufferType=Float32Array,Ju.prototype.ValueBufferType=Float32Array,Ju.prototype.DefaultInterpolation=2301;class m0 extends Ju{}m0.prototype.ValueTypeName="bool",m0.prototype.ValueBufferType=Array,m0.prototype.DefaultInterpolation=2300,m0.prototype.InterpolantFactoryMethodLinear=void 0,m0.prototype.InterpolantFactoryMethodSmooth=void 0;(class RU extends Ju{}).prototype.ValueTypeName="color";(class WA extends Ju{}).prototype.ValueTypeName="number";class G$ extends GA{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const s=this.resultBuffer,l=this.sampleValues,u=this.valueSize,f=(n-e)/(r-e);let p=t*u;for(let b=p+u;p!==b;p+=4)To.slerpFlat(s,0,l,p-u,l,p,f);return s}}class HE extends Ju{InterpolantFactoryMethodLinear(t){return new G$(this.times,this.values,this.getValueSize(),t)}}HE.prototype.ValueTypeName="quaternion",HE.prototype.DefaultInterpolation=2301,HE.prototype.InterpolantFactoryMethodSmooth=void 0;class p0 extends Ju{}p0.prototype.ValueTypeName="string",p0.prototype.ValueBufferType=Array,p0.prototype.DefaultInterpolation=2300,p0.prototype.InterpolantFactoryMethodLinear=void 0,p0.prototype.InterpolantFactoryMethodSmooth=void 0;(class jA extends Ju{}).prototype.ValueTypeName="vector";const bO="\\[\\]\\.:\\/",uY=new RegExp("["+bO+"]","g"),yO="[^"+bO+"]",hY="[^"+bO.replace("\\.","")+"]",_Y=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",yO)+/(WCOD+)?/.source.replace("WCOD",hY)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",yO)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",yO)+"$"),vY=["material","materials","bones","map"];class bY{constructor(t,e,n){const r=n||br.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}getValue(t,e){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(t,e)}setValue(t,e){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=n.length;r!==s;++r)n[r].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}let br=(()=>{class i{constructor(e,n,r){this.path=n,this.parsedPath=r||i.parseTrackName(n),this.node=i.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new i.Composite(e,n,r):new i(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(uY,"")}static parseTrackName(e){const n=_Y.exec(e);if(null===n)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const l=r.nodeName.substring(s+1);-1!==vY.indexOf(l)&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=l)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(void 0===n||""===n||"."===n||-1===n||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(void 0!==r)return r}if(e.children){const r=function(l){for(let u=0;u<l.length;u++){const f=l[u];if(f.name===n||f.uuid===n)return f;const p=r(f.children);if(p)return p}return null},s=r(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let s=0,l=r.length;s!==l;++s)e[n++]=r[s]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let s=0,l=r.length;s!==l;++s)r[s]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let s=0,l=r.length;s!==l;++s)r[s]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let s=0,l=r.length;s!==l;++s)r[s]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,s=n.propertyName;let l=n.propertyIndex;if(e||(e=i.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(r){let b=n.objectIndex;switch(r){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let y=0;y<e.length;y++)if(e[y].name===b){b=y;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[r]}if(void 0!==b){if(void 0===e[b])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[b]}}const u=e[s];if(void 0===u)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n.nodeName+"."+s+" but it wasn't found.",e);let f=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?f=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(f=this.Versioning.MatrixWorldNeedsUpdate);let p=this.BindingType.Direct;if(void 0!==l){if("morphTargetInfluences"===s){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[l]&&(l=e.morphTargetDictionary[l])}p=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=l}else void 0!==u.fromArray&&void 0!==u.toArray?(p=this.BindingType.HasFromToArray,this.resolvedProperty=u):Array.isArray(u)?(p=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=s;this.getValue=this.GetterByBindingType[p],this.setValue=this.SetterByBindingTypeAndVersioning[p][f]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return i.Composite=bY,i})();br.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},br.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},br.prototype.GetterByBindingType=[br.prototype._getValue_direct,br.prototype._getValue_array,br.prototype._getValue_arrayElement,br.prototype._getValue_toArray],br.prototype.SetterByBindingTypeAndVersioning=[[br.prototype._setValue_direct,br.prototype._setValue_direct_setNeedsUpdate,br.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[br.prototype._setValue_array,br.prototype._setValue_array_setNeedsUpdate,br.prototype._setValue_array_setMatrixWorldNeedsUpdate],[br.prototype._setValue_arrayElement,br.prototype._setValue_arrayElement_setNeedsUpdate,br.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[br.prototype._setValue_fromArray,br.prototype._setValue_fromArray_setNeedsUpdate,br.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1),typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"158"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="158");let CY=(()=>{class i{constructor(e,n,r){this.ngZone=e,this.render=n,this.el=r}ngOnInit(){const e=this.el.nativeElement.querySelector("#myCanvas");e?(this.createScene(e),this.animate()):console.error("Container element not found.")}ngAfterViewInit(){}createScene(e){this.scene=new W3,this.camera=new Do(75,window.innerWidth/window.innerHeight,.1,1e3),this.renderer=new G3({alpha:!0,preserveDrawingBuffer:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),e.appendChild(this.renderer.domElement);const n=new Xu({color:4095,transparent:!0,opacity:.1,side:2}),r=new Bn;this.cube=new Wt(r,n),this.scene.add(this.cube);const s=[new go({color:16776960,transparent:!0,opacity:.1}),new go({color:16711680,transparent:!0,opacity:.1}),new go({color:65280,transparent:!0,opacity:.1}),new go({color:255}),new go({color:16776960,transparent:!0,opacity:.1})],l=[],u=new yU(r);for(let f=0;f<s.length;f++){const p=new $P(u,s[f]);p.position.copy(this.cube.position),l.push(p)}for(const f of l)this.cube.add(f);this.camera.position.z=5}animate(){this.ngZone.run(()=>{this.cube.rotation.x+=.01,this.cube.rotation.y+=.01,this.renderer.render(this.scene,this.camera)}),requestAnimationFrame(()=>this.animate())}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.R0b),a.Y36(a.Qsj),a.Y36(a.SBq))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["app-my-component"]],decls:1,vars:0,consts:[["id","myCanvas",1,"cube"]],template:function(n,r){1&n&&a._UZ(0,"div",0)},styles:[".cube[_ngcontent-%COMP%]{position:absolute;width:99vw;height:98vh;margin-left:1vw;display:flex;justify-content:center;align-items:center}"]})}return i})();const SY=["*"],AY=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],DY=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],IY=new a.OlP("MAT_CARD_CONFIG");let _0=(()=>{class i{constructor(e){this.appearance=e?.appearance||"raised"}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(IY,8))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(n,r){2&n&&a.ekj("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:SY,decls:1,vars:0,template:function(n,r){1&n&&(a.F$t(),a.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return i})(),iB=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return i})(),v0=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return i})(),rB=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return i})(),sB=(()=>{class i{constructor(){this.align="start"}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(n,r){2&n&&a.ekj("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]})}return i})(),b0=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:DY,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(n,r){1&n&&(a.F$t(AY),a.Hsn(0),a.TgZ(1,"div",0),a.Hsn(2,1),a.qZA(),a.Hsn(3,2))},encapsulation:2,changeDetection:0})}return i})(),oB=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-mdc-card-avatar"]})}return i})(),UY=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({imports:[hi,ai,hi]})}return i})(),aB=(()=>{class i{constructor(){this.points=0,this.radiusClicked=!1,this.circumferenceClicked=!1}ngOnInit(){this.points=0}ngAfterViewInit(){const e=document.getElementById("radiusSlider"),n=document.getElementById("circle"),r=document.getElementById("circle2"),s=document.getElementById("radiusLine"),l=document.getElementById("radiusText"),u=document.getElementById("circumferenceText"),f=document.getElementById("rewardPoints"),p=document.getElementById("badgeContainer"),b=document.getElementById("overlay"),y=document.getElementById("dialog-text"),w=document.getElementById("ok-button"),S=document.getElementById("congrats-overlay"),P=O=>{this.points+=O,25===this.points&&(S.style.display="block",p.innerText="Expert"),f.textContent=`Points: ${this.points}`};function I(){const O=+e.value;n.style.width=4*O+"px",n.style.height=4*O+"px",r.style.width=4*O+"px",r.style.height=4*O+"px",s.style.width=4*O+10+"px",l.textContent=`radius: ${O}px`,u.textContent=`Circumference: ${Math.round(2*Math.PI*O).toFixed(2)}px`}function k(){l.style.color="red",l.style.fontSize="18px"}function U(){u.style.color="red",u.style.fontSize="18px"}s.addEventListener("click",()=>{this.radiusClicked||(k(),P(10),this.radiusClicked=!0)},!0),r.addEventListener("click",()=>{this.circumferenceClicked||(U(),P(15),this.circumferenceClicked=!0)},!0),y.textContent="Hi, Play with slider to understand how the radius and circumference will change the size of the circle.Then try to identify the radius and circumference of the circle.",b.style.display="block",S.style.display="none",w.addEventListener("click",function(){b.style.display="none"}),e.addEventListener("input",I),s.addEventListener("click",k,!0),r.addEventListener("click",U,!0),I()}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["app-circle"]],decls:42,vars:0,consts:[["id","container"],[1,"example-card"],["mat-card-avatar","",1,"t-card>Interactive","Circle"],["id","rewardPoints"],["id","badgeContainer"],["id","radiusText"],["id","circumferenceText"],["id","rewardContainer"],["for","radiusSlider"],["type","range","id","radiusSlider","min","20","max","100","step","1","value","50"],["id","circleContainer"],["id","circle2"],["id","circle"],["id","centerPoint"],["id","radiusLine"],["id","overlay"],["id","overlay-content"],["id","dialog-text"],["id","ok-button"],["id","congrats-overlay"],["id","congrats-content"]],template:function(n,r){1&n&&(a.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header"),a._UZ(3,"div",2),a.TgZ(4,"mat-card-title"),a._uU(5,"Circle"),a.qZA(),a.TgZ(6,"mat-card-subtitle",3),a._uU(7,"Points: 0"),a.qZA(),a.TgZ(8,"mat-card-subtitle",4),a._uU(9,"Starter"),a.qZA(),a.TgZ(10,"mat-card-subtitle",5),a._uU(11,"Radius: 50px"),a.qZA(),a.TgZ(12,"mat-card-subtitle",6),a._uU(13,"Circumference: 157.08px"),a.qZA(),a.TgZ(14,"div",7)(15,"label",8),a._uU(16,"Adjust the radius:"),a.qZA(),a._UZ(17,"input",9),a.TgZ(18,"div",10),a._UZ(19,"div",11),a.TgZ(20,"div",12),a._UZ(21,"div",13)(22,"div",14),a.qZA()(),a.TgZ(23,"div",15)(24,"div",16),a._UZ(25,"p",17),a.TgZ(26,"button",18),a._uU(27,"OK"),a.qZA()()(),a.TgZ(28,"div",19)(29,"div",20)(30,"h1"),a._uU(31,"Congratulations! You've earned 25 points!"),a.qZA(),a.TgZ(32,"p"),a._uU(33," In this interactive exercise, you've learned the importance of points, radius, and circumference in forming a circle. "),a.qZA(),a.TgZ(34,"p"),a._uU(35," The radius is a line segment from the center of the circle to any point on its circumference. It defines the size of the circle. "),a.qZA(),a.TgZ(36,"p"),a._uU(37," The circumference is the total length of the circle's boundary, and it's calculated as 2\u03c0 times the radius. It's crucial for understanding the circle's dimensions and properties. "),a.qZA(),a.TgZ(38,"p"),a._uU(39," Keep exploring and learning to unlock more achievements and enhance your understanding of geometry! "),a.qZA()()()()(),a._UZ(40,"mat-card-content")(41,"mat-card-actions"),a.qZA()())},dependencies:[_0,sB,oB,v0,b0,rB,iB],styles:["#container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:100px}h1[_ngcontent-%COMP%]{color:#333}#radiusSlider[_ngcontent-%COMP%]{width:200px}#circleContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:20px}#circle[_ngcontent-%COMP%]{width:200px;height:200px;margin-top:50px;background-color:#007bff;border-radius:50%;transition:width .3s,height .3s;position:relative;overflow:hidden}#circle2[_ngcontent-%COMP%]{width:200px;height:200px;margin-top:42px;border-radius:50%;transition:width .3s,height .3s;position:absolute;overflow:hidden;border:8px solid #ff000000}#circle2[_ngcontent-%COMP%]:hover{border:8px solid red;cursor:pointer}#centerPoint[_ngcontent-%COMP%]{width:10px;height:10px;background-color:#333;border-radius:50%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}#radiusLine[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform-origin:left;height:3px;background-color:#333;width:80%}#radiusLine[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:red;height:10px;stroke:6px solid red}#radiusText[_ngcontent-%COMP%]{padding-top:50px;position:relative;font-size:14px;color:#333}#circumferenceText[_ngcontent-%COMP%]{position:relative;font-size:14px;color:#333}#overlay[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.7);z-index:999}#overlay-content[_ngcontent-%COMP%]{text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;padding:20px}#dialog-text[_ngcontent-%COMP%]{font-size:18px;margin-bottom:20px}#ok-button[_ngcontent-%COMP%]{background:#007BFF;color:#fff;padding:10px 20px;border:none;cursor:pointer}#ok-button[_ngcontent-%COMP%]:hover{background:#0056b3}.example-card[_ngcontent-%COMP%]{max-width:700px}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}"]})}return i})();function BY(i,t){1&i&&a._UZ(0,"app-my-component")}function VY(i,t){1&i&&a._UZ(0,"app-circle")}function zY(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),a._uU(4,"To infinity and Beyond"),a.qZA(),a.TgZ(5,"div",8)(6,"div",9),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.switchToCircleComponent())}),a._uU(7,"Learn More"),a.qZA()()()()()}}function HY(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"button",10),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.switchToMyComponent())}),a._uU(1,"Back"),a.qZA()}}let GY=(()=>{class i{constructor(){this.currentComponent="my-component",this.isCubeOn=!0,this.isBackbut=!1}switchToCircleComponent(){this.currentComponent="circle-component",this.isCubeOn=!1,this.isBackbut=!0}switchToMyComponent(){this.currentComponent="my-component",this.isCubeOn=!0,this.isBackbut=!1}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["app-home"]],decls:5,vars:4,consts:[[4,"ngIf"],["class","main",4,"ngIf"],[1,"backbutton"],["mat-button","",3,"click",4,"ngIf"],[1,"main"],[1,"container"],[1,"text-box"],[1,"heading"],[1,"button-wrapper"],[1,"button",3,"click"],["mat-button","",3,"click"]],template:function(n,r){1&n&&(a.YNc(0,BY,1,0,"app-my-component",0),a.YNc(1,VY,1,0,"app-circle",0),a.YNc(2,zY,8,0,"div",1),a.TgZ(3,"div",2),a.YNc(4,HY,2,0,"button",3),a.qZA()),2&n&&(a.Q6J("ngIf","my-component"===r.currentComponent),a.xp6(1),a.Q6J("ngIf","circle-component"===r.currentComponent),a.xp6(1),a.Q6J("ngIf",r.isCubeOn),a.xp6(2),a.Q6J("ngIf",r.isBackbut))},dependencies:[qr,xf,CY,aB],styles:[".main[_ngcontent-%COMP%]{width:99vw;height:98.5vh;margin:0;background:black;overflow:hidden;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]{width:99vw;height:98vh;background-image:url(/assets/galaxy_bigstar.png);background-size:10%;background-repeat:no-repeat;background-position:center;opacity:50%;overflow:hidden;display:flex;justify-content:center}canvas[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:-1}.text-box[_ngcontent-%COMP%]{overflow:hidden;display:flex;flex-direction:column;justify-content:flex-end;align-items:center;opacity:100%;font-size:60px;font-family:Raleway,sans-serif;letter-spacing:7px;word-spacing:12px;text-transform:uppercase;color:#eee;-webkit-text-fill-color:color-mix(in srgb-linear,#a70c0c percentage,#f30ad800 percentage);-webkit-text-stroke-width:2px}.button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:20px;flex-direction:row}.button[_ngcontent-%COMP%]{display:inline-block;font-size:16px;font-weight:700;padding:15px;margin-left:20px;margin-right:20px;word-spacing:normal;letter-spacing:5px;border:1px solid white;background:black;cursor:pointer}.backbutton[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]})}return i})();let lB=(()=>{class i{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.Qsj),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:i})}return i})(),_v=(()=>{class i extends lB{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(i)))(r||i)}}();static#t=this.\u0275dir=a.lG2({type:i,features:[a.qOj]})}return i})();const Bc=new a.OlP("NgValueAccessor"),jY={provide:Bc,useExisting:(0,a.Gpc)(()=>WE),multi:!0},YY=new a.OlP("CompositionEventMode");let WE=(()=>{class i extends lB{constructor(e,n,r){super(e,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $Y(){const i=$()?$().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(YY,8))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&a.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[a._Bn([jY]),a.qOj]})}return i})();function Tp(i){return null==i||("string"==typeof i||Array.isArray(i))&&0===i.length}function uB(i){return null!=i&&"number"==typeof i.length}const Io=new a.OlP("NgValidators"),Ap=new a.OlP("NgAsyncValidators"),qY=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ma{static min(t){return function hB(i){return t=>{if(Tp(t.value)||Tp(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}(t)}static max(t){return function fB(i){return t=>{if(Tp(t.value)||Tp(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}(t)}static required(t){return function mB(i){return Tp(i.value)?{required:!0}:null}(t)}static requiredTrue(t){return function pB(i){return!0===i.value?null:{required:!0}}(t)}static email(t){return function gB(i){return Tp(i.value)||qY.test(i.value)?null:{email:!0}}(t)}static minLength(t){return function _B(i){return t=>Tp(t.value)||!uB(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function vB(i){return t=>uB(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static pattern(t){return function bB(i){if(!i)return tD;let t,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(Tp(n.value))return null;const r=n.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return SB(t)}static composeAsync(t){return MB(t)}}function tD(i){return null}function yB(i){return null!=i}function xB(i){return(0,a.QGY)(i)?(0,ts.D)(i):i}function wB(i){let t={};return i.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function EB(i,t){return t.map(e=>e(i))}function CB(i){return i.map(t=>function ZY(i){return!i.validate}(t)?t:e=>t.validate(e))}function SB(i){if(!i)return null;const t=i.filter(yB);return 0==t.length?null:function(e){return wB(EB(e,t))}}function CO(i){return null!=i?SB(CB(i)):null}function MB(i){if(!i)return null;const t=i.filter(yB);return 0==t.length?null:function(e){return function cB(...i){const t=(0,Fm.jO)(i),{args:e,keys:n}=Lm(i),r=new Gs.y(s=>{const{length:l}=e;if(!l)return void s.complete();const u=new Array(l);let f=l,p=l;for(let b=0;b<l;b++){let y=!1;(0,Jh.Xf)(e[b]).subscribe((0,ns.x)(s,w=>{y||(y=!0,p--),u[b]=w},()=>f--,void 0,()=>{(!f||!y)&&(p||s.next(n?ix(n,u):u),s.complete())}))}});return t?r.pipe(Kh(t)):r}(EB(e,t).map(xB)).pipe((0,gn.U)(wB))}}function SO(i){return null!=i?MB(CB(i)):null}function TB(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function AB(i){return i._rawValidators}function DB(i){return i._rawAsyncValidators}function MO(i){return i?Array.isArray(i)?i:[i]:[]}function nD(i,t){return Array.isArray(i)?i.includes(t):i===t}function IB(i,t){const e=MO(t);return MO(i).forEach(r=>{nD(e,r)||e.push(r)}),e}function kB(i,t){return MO(t).filter(e=>!nD(i,e))}class RB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=CO(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=SO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class pa extends RB{get formDirective(){return null}get path(){return null}}class eh extends RB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class PB{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let iD=(()=>{class i extends PB{constructor(e){super(e)}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(eh,2))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[a.qOj]})}return i})(),rD=(()=>{class i extends PB{constructor(e){super(e)}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(pa,10))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[a.qOj]})}return i})();const jE="VALID",oD="INVALID",y0="PENDING",$E="DISABLED";function DO(i){return(aD(i)?i.validators:i)||null}function IO(i,t){return(aD(t)?t.asyncValidators:i)||null}function aD(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}function NB(i,t,e){const n=i.controls;if(!(t?Object.keys(n):n).length)throw new a.vHH(1e3,"");if(!n[e])throw new a.vHH(1001,"")}function LB(i,t,e){i._forEachChild((n,r)=>{if(void 0===e[r])throw new a.vHH(1002,"")})}class cD{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===jE}get invalid(){return this.status===oD}get pending(){return this.status==y0}get disabled(){return this.status===$E}get enabled(){return this.status!==$E}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(IB(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(IB(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(kB(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(kB(t,this._rawAsyncValidators))}hasValidator(t){return nD(this._rawValidators,t)}hasAsyncValidator(t){return nD(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=y0,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=$E,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=jE,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jE||this.status===y0)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$E:jE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=y0,this._hasOwnPendingAsyncValidator=!0;const e=xB(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?$E:this.errors?oD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(y0)?y0:this._anyControlsHaveStatus(oD)?oD:jE}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){aD(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function JY(i){return Array.isArray(i)?CO(i):i||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function eq(i){return Array.isArray(i)?SO(i):i||null}(this._rawAsyncValidators)}}class YE extends cD{constructor(t,e,n){super(DO(e),IO(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){LB(this,0,t),Object.keys(t).forEach(n=>{NB(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{const r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>!!n._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,s)=>{n=e(n,r,s)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class FB extends YE{}const x0=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>lD}),lD="always";function qE(i,t,e=lD){kO(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(i.disabled),function nq(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&UB(i,t)})}(i,t),function rq(i,t){const e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function iq(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&UB(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function tq(i,t){if(t.valueAccessor.setDisabledState){const e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function uD(i,t,e=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),fD(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function hD(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function kO(i,t){const e=AB(i);null!==t.validator?i.setValidators(TB(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const n=DB(i);null!==t.asyncValidator?i.setAsyncValidators(TB(n,t.asyncValidator)):"function"==typeof n&&i.setAsyncValidators([n]);const r=()=>i.updateValueAndValidity();hD(t._rawValidators,r),hD(t._rawAsyncValidators,r)}function fD(i,t){let e=!1;if(null!==i){if(null!==t.validator){const r=AB(i);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==t.validator);s.length!==r.length&&(e=!0,i.setValidators(s))}}if(null!==t.asyncValidator){const r=DB(i);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==t.asyncValidator);s.length!==r.length&&(e=!0,i.setAsyncValidators(s))}}}const n=()=>{};return hD(t._rawValidators,n),hD(t._rawAsyncValidators,n),e}function UB(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function BB(i,t){kO(i,t)}function VB(i,t){i._syncPendingControls(),t.forEach(e=>{const n=e.control;"submit"===n.updateOn&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}const lq={provide:pa,useExisting:(0,a.Gpc)(()=>XE)},ZE=(()=>Promise.resolve())();let XE=(()=>{class i extends pa{constructor(e,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new YE({},CO(e),SO(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ZE.then(()=>{const n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),qE(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ZE.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){ZE.then(()=>{const n=this._findContainer(e.path),r=new YE({});BB(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ZE.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){ZE.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,VB(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(Io,10),a.Y36(Ap,10),a.Y36(x0,8))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&a.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([lq]),a.qOj]})}return i})();function zB(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}function HB(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const KE=class extends cD{constructor(t=null,e,n){super(DO(e),IO(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),aD(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=HB(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){zB(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){zB(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){HB(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let mD=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return i})(),qB=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({})}return i})();const NO=new a.OlP("NgModelWithFormControlWarning"),vq={provide:pa,useExisting:(0,a.Gpc)(()=>Dp)};let Dp=(()=>{class i extends pa{constructor(e,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const n=this.form.get(e.path);return qE(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){uD(e.control||null,e,!1),function cq(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this.submitted=!0,VB(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const n=e.control,r=this.form.get(e.path);n!==r&&(uD(n||null,e),(i=>i instanceof KE)(r)&&(qE(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const n=this.form.get(e.path);BB(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const n=this.form.get(e.path);n&&function sq(i,t){return fD(i,t)}(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kO(this.form,this),this._oldForm&&fD(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(Io,10),a.Y36(Ap,10),a.Y36(x0,8))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&a.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([vq]),a.qOj,a.TTD]})}return i})();const xq={provide:eh,useExisting:(0,a.Gpc)(()=>QE)};let QE=(()=>{class i extends eh{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,n,r,s,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=function OO(i,t){if(!t)return null;let e,n,r;return Array.isArray(t),t.forEach(s=>{s.constructor===WE?e=s:function aq(i){return Object.getPrototypeOf(i.constructor)===_v}(s)?n=s:r=s}),r||n||e||null}(0,s)}ngOnChanges(e){this._added||this._setUpControl(),function PO(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function dD(i,t){return[...t.path,i]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(n){return new(n||i)(a.Y36(pa,13),a.Y36(Io,10),a.Y36(Ap,10),a.Y36(Bc,10),a.Y36(NO,8))};static#n=this.\u0275dir=a.lG2({type:i,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([xq]),a.qOj,a.TTD]})}return i})(),Lq=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({imports:[qB]})}return i})();class lV extends cD{constructor(t,e,n){super(DO(e),IO(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){LB(this,0,t),t.forEach((n,r)=>{NB(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,n)=>!!n._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function dV(i){return!!i&&(void 0!==i.asyncValidators||void 0!==i.validators||void 0!==i.updateOn)}let HO=(()=>{class i{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new i;return e.useNonNullable=!0,e}group(e,n=null){const r=this._reduceControls(e);let s={};return dV(n)?s=n:null!==n&&(s.validators=n.validator,s.asyncValidators=n.asyncValidator),new YE(r,s)}record(e,n=null){const r=this._reduceControls(e);return new FB(r,n)}control(e,n,r){let s={};return this.useNonNullable?(dV(n)?s=n:(s.validators=n,s.asyncValidators=r),new KE(e,{...s,nonNullable:!0})):new KE(e,n,r)}array(e,n,r){const s=e.map(l=>this._createControl(l));return new lV(s,n,r)}_reduceControls(e){const n={};return Object.keys(e).forEach(r=>{n[r]=this._createControl(e[r])}),n}_createControl(e){return e instanceof KE||e instanceof cD?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Fq=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:NO,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:x0,useValue:e.callSetDisabledState??lD}]}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({imports:[Lq]})}return i})();var Ko=W(3019),GO=W(3020),Sl=W(8186),Vd=W(6304),Vq=(W(5967),W(3106)),bv=W(4537),yv=W(534),Q=W(9058),pD=W(7879);const uV="@firebase/database";let WO="";function fV(i){WO=i}class zq{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,Q.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,Q.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Hq{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,Q.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const mV=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new zq(t)}}catch{}return new Hq},xv=mV("localStorage"),jO=mV("sessionStorage"),w0=new pD.Yd("@firebase/database"),pV=function(){let i=1;return function(){return i++}}(),gV=function(i){const t=(0,Q.dS)(i),e=new Q.gQ;e.update(t);const n=e.digest();return Q.US.encodeByteArray(n)},JE=function(...i){let t="";for(let e=0;e<i.length;e++){const n=i[e];Array.isArray(n)||n&&"object"==typeof n&&"number"==typeof n.length?t+=JE.apply(null,n):t+="object"==typeof n?(0,Q.Wl)(n):n,t+=" "}return t};let wv=null,_V=!0;const vV=function(i,t){(0,Q.hu)(!t||!0===i||!1===i,"Can't turn on custom loggers persistently."),!0===i?(w0.logLevel=pD.in.VERBOSE,wv=w0.log.bind(w0),t&&jO.set("logging_enabled",!0)):"function"==typeof i?wv=i:(wv=null,jO.remove("logging_enabled"))},_o=function(...i){if(!0===_V&&(_V=!1,null===wv&&!0===jO.get("logging_enabled")&&vV(!0)),wv){const t=JE.apply(null,i);wv(t)}},eC=function(i){return function(...t){_o(i,...t)}},$O=function(...i){const t="FIREBASE INTERNAL ERROR: "+JE(...i);w0.error(t)},th=function(...i){const t=`FIREBASE FATAL ERROR: ${JE(...i)}`;throw w0.error(t),new Error(t)},Qo=function(...i){const t="FIREBASE WARNING: "+JE(...i);w0.warn(t)},gD=function(i){return"number"==typeof i&&(i!=i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},Ip="[MIN_NAME]",Lf="[MAX_NAME]",Ev=function(i,t){if(i===t)return 0;if(i===Ip||t===Lf)return-1;if(t===Ip||i===Lf)return 1;{const e=xV(i),n=xV(t);return null!==e?null!==n?e-n==0?i.length-t.length:e-n:-1:null!==n?1:i<t?-1:1}},jq=function(i,t){return i===t?0:i<t?-1:1},tC=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+(0,Q.Wl)(t))},YO=function(i){if("object"!=typeof i||null===i)return(0,Q.Wl)(i);const t=[];for(const n in i)t.push(n);t.sort();let e="{";for(let n=0;n<t.length;n++)0!==n&&(e+=","),e+=(0,Q.Wl)(t[n]),e+=":",e+=YO(i[t[n]]);return e+="}",e},bV=function(i,t){const e=i.length;if(e<=t)return[i];const n=[];for(let r=0;r<e;r+=t)n.push(i.substring(r,r+t>e?e:r+t));return n};function vo(i,t){for(const e in i)i.hasOwnProperty(e)&&t(e,i[e])}const yV=function(i){(0,Q.hu)(!gD(i),"Invalid JSON number");const n=1023;let r,s,l,u,f;0===i?(s=0,l=0,r=1/i==-1/0?1:0):(r=i<0,(i=Math.abs(i))>=Math.pow(2,1-n)?(u=Math.min(Math.floor(Math.log(i)/Math.LN2),n),s=u+n,l=Math.round(i*Math.pow(2,52-u)-Math.pow(2,52))):(s=0,l=Math.round(i/Math.pow(2,-1074))));const p=[];for(f=52;f;f-=1)p.push(l%2?1:0),l=Math.floor(l/2);for(f=11;f;f-=1)p.push(s%2?1:0),s=Math.floor(s/2);p.push(r?1:0),p.reverse();const b=p.join("");let y="";for(f=0;f<64;f+=8){let w=parseInt(b.substr(f,8),2).toString(16);1===w.length&&(w="0"+w),y+=w}return y.toLowerCase()},Zq=new RegExp("^-?(0*)\\d{1,10}$"),xV=function(i){if(Zq.test(i)){const t=Number(i);if(t>=-2147483648&&t<=2147483647)return t}return null},E0=function(i){try{i()}catch(t){setTimeout(()=>{throw Qo("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},nC=function(i,t){const e=setTimeout(i,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class Jq{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(n=>this.appCheck=n)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,n)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,n):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){Qo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class eZ{constructor(t,e,n){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(_o("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,n)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,n):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Qo(t)}}let iC=(()=>{class i{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return i.OWNER="owner",i})();const MV=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,DV="websocket",IV="long_polling";class ZO{constructor(t,e,n,r,s=!1,l="",u=!1,f=!1){this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=f,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xv.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&xv.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function kV(i,t,e){let n;if((0,Q.hu)("string"==typeof t,"typeof type must == string"),(0,Q.hu)("object"==typeof e,"typeof params must == object"),t===DV)n=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else{if(t!==IV)throw new Error("Unknown connection type: "+t);n=(i.secure?"https://":"http://")+i.internalHost+"/.lp?"}(function tZ(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams})(i)&&(e.ns=i.namespace);const r=[];return vo(e,(s,l)=>{r.push(s+"="+l)}),n+r.join("&")}class nZ{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,Q.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,Q.p$)(this.counters_)}}const XO={},KO={};function QO(i){const t=i.toString();return XO[t]||(XO[t]=new nZ),XO[t]}class rZ{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<n.length;++r)n[r]&&E0(()=>{this.onMessage_(n[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class kp{constructor(t,e,n,r,s,l,u){this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=s,this.transportSessionId=l,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=eC(t),this.stats_=QO(e),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),kV(e,IV,f))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new rZ(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(i){if((0,Q.Yr)()||"complete"===document.readyState)i();else{let t=!1;const e=function(){document.body?t||(t=!0,i()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new JO((...s)=>{const[l,u,f,p,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=u,this.password=f;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[l,u]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,u)},()=>{this.onClosed_()},this.urlFn);const n={start:"t"};n.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(n.cb=this.scriptTagHolder.uniqueCallbackIdentifier),n.v="5",this.transportSessionId&&(n.s=this.transportSessionId),this.lastSessionId&&(n.ls=this.lastSessionId),this.applicationId&&(n.p=this.applicationId),this.appCheckToken&&(n.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&MV.test(location.hostname)&&(n.r="f");const r=this.urlFn(n);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){kp.forceAllow_=!0}static forceDisallow(){kp.forceDisallow_=!0}static isAvailable(){return!((0,Q.Yr)()||!kp.forceAllow_&&(kp.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,Q.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const n=(0,Q.h$)(e),r=bV(n,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,Q.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,Q.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class JO{constructor(t,e,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Q.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=pV(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=JO.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){_o("frame writing exception"),u.stack&&_o(u.stack),_o(u)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||_o("No IE domain setting required")}catch{const n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const l=this.pendingSegs.shift();n=n+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const n=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),n()})}addTag(t,e){(0,Q.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.onload=n.onreadystatechange=function(){const r=n.readyState;(!r||"loaded"===r||"complete"===r)&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),e())},n.onerror=()=>{_o("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}let vD=null;typeof MozWebSocket<"u"?vD=MozWebSocket:typeof WebSocket<"u"&&(vD=WebSocket);let C0=(()=>{class i{constructor(e,n,r,s,l,u,f){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=eC(this.connId),this.stats_=QO(n),this.connURL=i.connectionURL_(n,u,f,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,l){const u={v:"5"};return!(0,Q.Yr)()&&typeof location<"u"&&location.hostname&&MV.test(location.hostname)&&(u.r="f"),n&&(u.s=n),r&&(u.ls=r),s&&(u.ac=s),l&&(u.p=l),kV(e,DV,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xv.set("previous_websocket_failure",!0);try{let r;if((0,Q.Yr)()){r={headers:{"User-Agent":`Firebase/5/${WO}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,u=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;u&&(r.proxy={origin:u})}this.mySock=new vD(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){i.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==vD&&!i.forceDisallow_}static previouslyFailed(){return xv.isInMemoryStorage||!0===xv.get("previous_websocket_failure")}markConnectionHealthy(){xv.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=(0,Q.cI)(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,Q.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=(0,Q.Wl)(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=bV(n,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return i.responsesRequiredToBeHealthy=2,i.healthyTimeout=3e4,i})(),UV=(()=>{class i{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[kp,C0]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=C0&&C0.isAvailable();let r=n&&!C0.previouslyFailed();if(e.webSocketOnly&&(n||Qo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[C0];else{const s=this.transports_=[];for(const l of i.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);i.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return i.globalTransportInitialized_=!1,i})();class jV{constructor(t,e,n,r,s,l,u,f,p,b){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=l,this.onReady_=u,this.onDisconnect_=f,this.onKill_=p,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=eC("c:"+this.id+":"),this.transportManager_=new UV(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,n)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=nC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=tC("t",t),n=tC("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=tC("t",t),n=tC("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=tC("t",t);if("d"in t){const n=t.d;if("h"===e){const r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?$O("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$O("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&Qo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,n),nC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):nC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xv.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class $V{put(t,e,n,r){}merge(t,e,n,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,n){}onDisconnectMerge(t,e,n){}onDisconnectCancel(t,e){}reportStats(t){}}class YV{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,Q.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const n=[...this.listeners_[t]];for(let r=0;r<n.length;r++)n[r].callback.apply(n[r].context,e)}}on(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});const r=this.getInitialEvent(t);r&&e.apply(n,r)}off(t,e,n){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!n||n===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,Q.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class bD extends YV{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Q.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new bD}getInitialEvent(t){return(0,Q.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Zi{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let n=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Pi(){return new Zi("")}function fi(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Rp(i){return i.pieces_.length-i.pieceNum_}function or(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new Zi(i.pieces_,t)}function tN(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function rC(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function XV(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let e=i.pieceNum_;e<i.pieces_.length-1;e++)t.push(i.pieces_[e]);return new Zi(t,0)}function Pr(i,t){const e=[];for(let n=i.pieceNum_;n<i.pieces_.length;n++)e.push(i.pieces_[n]);if(t instanceof Zi)for(let n=t.pieceNum_;n<t.pieces_.length;n++)e.push(t.pieces_[n]);else{const n=t.split("/");for(let r=0;r<n.length;r++)n[r].length>0&&e.push(n[r])}return new Zi(e,0)}function mi(i){return i.pieceNum_>=i.pieces_.length}function ga(i,t){const e=fi(i),n=fi(t);if(null===e)return t;if(e===n)return ga(or(i),or(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function MZ(i,t){const e=rC(i,0),n=rC(t,0);for(let r=0;r<e.length&&r<n.length;r++){const s=Ev(e[r],n[r]);if(0!==s)return s}return e.length===n.length?0:e.length<n.length?-1:1}function nN(i,t){if(Rp(i)!==Rp(t))return!1;for(let e=i.pieceNum_,n=t.pieceNum_;e<=i.pieces_.length;e++,n++)if(i.pieces_[e]!==t.pieces_[n])return!1;return!0}function Ml(i,t){let e=i.pieceNum_,n=t.pieceNum_;if(Rp(i)>Rp(t))return!1;for(;e<i.pieces_.length;){if(i.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0}class TZ{constructor(t,e){this.errorPrefix_=e,this.parts_=rC(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,Q.ug)(this.parts_[n]);KV(this)}}function KV(i){if(i.byteLength_>768)throw new Error(i.errorPrefix_+"has a key path longer than 768 bytes ("+i.byteLength_+").");if(i.parts_.length>32)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Cv(i))}function Cv(i){return 0===i.parts_.length?"":"in property '"+i.parts_.join(".")+"'"}class iN extends YV{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const n=!document[t];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}static getInstance(){return new iN}getInitialEvent(t){return(0,Q.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const sC=1e3;let xD,Sv=(()=>{class i extends $V{constructor(e,n,r,s,l,u,f,p){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=f,this.authOverride_=p,this.id=i.nextPersistentConnectionId_++,this.log_=eC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=sC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p&&!(0,Q.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");iN.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&bD.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,l={r:s,a:e,b:n};this.log_((0,Q.Wl)(l)),(0,Q.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Q.BH,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const f=u.d;"ok"===u.s?n.resolve(f):n.reject(f)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),n.promise}listen(e,n,r,s){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),(0,Q.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Q.hu)(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const f={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(u).set(l,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const l={p:r};e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest("q",l,f=>{const p=f.d,b=f.s;i.warnOnListenWarnings_(p,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",f),"ok"!==b&&this.removeListen_(r,s),e.onComplete&&e.onComplete(b,p))})}static warnOnListenWarnings_(e,n){if(e&&"object"==typeof e&&(0,Q.r3)(e,"w")){const r=(0,Q.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();Qo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,Q.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=(0,Q.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const l=s.s,u=s.d||"error";this.authToken_===e&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";"ok"===n?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,Q.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const l={p:e};s&&(l.q=r,l.t=s),this.sendRequest("n",l)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const l={p:n,d:r};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{s&&setTimeout(()=>{s(u.s,u.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,l){this.initConnection_();const u={p:n,d:r};void 0!==l&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,Q.Wl)(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),"d"===e?this.onDataUpdate_(n.p,n.d,!1,n.t):"m"===e?this.onDataUpdate_(n.p,n.d,!0,n.t):"c"===e?this.onListenRevoked_(n.p,n.q):"ac"===e?this.onAuthRevoked_(n.s,n.d):"apc"===e?this.onAppCheckRevoked_(n.s,n.d):"sd"===e?this.onSecurityDebugPacket_(n):$O("Unrecognized action received from server: "+(0,Q.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,Q.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=sC,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=sC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=sC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Dd.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const n=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),l=e.id+":"+i.nextConnectionId_++,u=e.lastSessionId;let f=!1,p=null;const b=function(){p?p.close():(f=!0,s())};e.realtime_={close:b,sendRequest:function(S){(0,Q.hu)(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(S)}};const w=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[S,A]=yield Promise.all([e.authTokenProvider_.getToken(w),e.appCheckTokenProvider_.getToken(w)]);f?_o("getToken() completed but was canceled"):(_o("getToken() completed. Creating connection."),e.authToken_=S&&S.accessToken,e.appCheckToken_=A&&A.token,p=new jV(l,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,n,r,s,P=>{Qo(P+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},u))}catch(S){e.log_("Failed to get token: "+S),f||(e.repoInfo_.nodeAdmin&&Qo(S),b())}}})()}interrupt(e){_o("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){_o("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,Q.xb)(this.interruptReasons_)&&(this.reconnectDelay_=sC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;r=n?n.map(l=>YO(l)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Zi(e).toString();let s;if(this.listens.has(r)){const l=this.listens.get(r);s=l.get(n),l.delete(n),0===l.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){_o("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){_o("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";(0,Q.Yr)()&&(n=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+n+"."+WO.replace(/\./g,"-")]=1,(0,Q.uI)()?e["framework.cordova"]=1:(0,Q.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=bD.getInstance().currentlyOnline();return(0,Q.xb)(this.interruptReasons_)&&e}}return i.nextPersistentConnectionId_=0,i.nextConnectionId_=0,i})();class _i{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new _i(t,e)}}class yD{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const n=new _i(Ip,t),r=new _i(Ip,e);return 0!==this.compare(n,r)}minPost(){return _i.MIN}}class ez extends yD{static get __EMPTY_NODE(){return xD}static set __EMPTY_NODE(t){xD=t}compare(t,e){return Ev(t.name,e.name)}isDefinedOn(t){throw(0,Q.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return _i.MIN}maxPost(){return new _i(Lf,xD)}makePost(t,e){return(0,Q.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new _i(t,xD)}toString(){return".key"}}const nh=new ez;class wD{constructor(t,e,n,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!t.isEmpty();)if(l=e?n(t.key,e):1,r&&(l*=-1),l<0)t=this.isReverse_?t.left:t.right;else{if(0===l){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let sN,zd=(()=>{class i{constructor(e,n,r,s,l){this.key=e,this.value=n,this.color=r??i.RED,this.left=s??Za.EMPTY_NODE,this.right=l??Za.EMPTY_NODE}copy(e,n,r,s,l){return new i(e??this.key,n??this.value,r??this.color,s??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const l=r(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,n,r),null):0===l?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Za.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===n(e,r.key)){if(r.right.isEmpty())return Za.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return i.RED=!0,i.BLACK=!1,i})();class Za{constructor(t,e=Za.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Za(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,zd.BLACK,null,null))}remove(t){return new Za(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,zd.BLACK,null,null))}get(t){let e,n=this.root_;for(;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e)return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null}getPredecessorKey(t){let e,n=this.root_,r=null;for(;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new wD(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new wD(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new wD(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new wD(this.root_,null,this.comparator_,!0,t)}}function NZ(i,t){return Ev(i.name,t.name)}function rN(i,t){return Ev(i,t)}Za.EMPTY_NODE=new class OZ{copy(t,e,n,r,s){return this}insert(t,e,n){return new zd(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const tz=function(i){return"number"==typeof i?"number:"+yV(i):"string:"+i},nz=function(i){if(i.isLeafNode()){const t=i.val();(0,Q.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,Q.r3)(t,".sv"),"Priority must be a string or number.")}else(0,Q.hu)(i===sN||i.isEmpty(),"priority of unexpected type.");(0,Q.hu)(i===sN||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let iz,rz,sz,S0=(()=>{class i{constructor(e,n=i.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,(0,Q.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),nz(this.priorityNode_)}static set __childrenNodeConstructor(e){iz=e}static get __childrenNodeConstructor(){return iz}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new i(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return mi(e)?this:".priority"===fi(e)?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=fi(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,Q.hu)(".priority"!==r||1===Rp(e),".priority must be the last token in a path"),this.updateImmediateChild(r,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(or(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+tz(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",e+="number"===n?yV(this.value_):this.value_,this.lazyHash_=gV(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===i.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof i.__childrenNodeConstructor?-1:((0,Q.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=i.VALUE_TYPE_ORDER.indexOf(n),l=i.VALUE_TYPE_ORDER.indexOf(r);return(0,Q.hu)(s>=0,"Unknown leaf type: "+n),(0,Q.hu)(l>=0,"Unknown leaf type: "+r),s===l?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i})();const fr=new class BZ extends yD{compare(t,e){const n=t.node.getPriority(),r=e.node.getPriority(),s=n.compareTo(r);return 0===s?Ev(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return _i.MIN}maxPost(){return new _i(Lf,new S0("[PRIORITY-POST]",sz))}makePost(t,e){const n=rz(t);return new _i(e,new S0("[PRIORITY-POST]",n))}toString(){return".priority"}},VZ=Math.log(2);class zZ{constructor(t){this.count=parseInt(Math.log(t+1)/VZ,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const ED=function(i,t,e,n){i.sort(t);const r=function(f,p){const b=p-f;let y,w;if(0===b)return null;if(1===b)return y=i[f],w=e?e(y):y,new zd(w,y.node,zd.BLACK,null,null);{const S=parseInt(b/2,10)+f,A=r(f,S),P=r(S+1,p);return y=i[S],w=e?e(y):y,new zd(w,y.node,zd.BLACK,A,P)}},u=function(f){let p=null,b=null,y=i.length;const w=function(A,P){const I=y-A,k=y;y-=A;const U=r(I+1,k),O=i[I],B=e?e(O):O;S(new zd(B,O.node,P,null,U))},S=function(A){p?(p.left=A,p=A):(b=A,p=A)};for(let A=0;A<f.count;++A){const P=f.nextBitIsOne(),I=Math.pow(2,f.count-(A+1));P?w(I,zd.BLACK):(w(I,zd.BLACK),w(I,zd.RED))}return b}(new zZ(i.length));return new Za(n||t,u)};let oN;const M0={};class Ff{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,Q.hu)(M0&&fr,"ChildrenNode.ts has not been loaded"),oN=oN||new Ff({".priority":M0},{".priority":fr}),oN}get(t){const e=(0,Q.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Za?e:null}hasIndex(t){return(0,Q.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,Q.hu)(t!==nh,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const s=e.getIterator(_i.Wrap);let u,l=s.getNext();for(;l;)r=r||t.isDefinedOn(l.node),n.push(l),l=s.getNext();u=r?ED(n,t.getCompare()):M0;const f=t.toString(),p=Object.assign({},this.indexSet_);p[f]=t;const b=Object.assign({},this.indexes_);return b[f]=u,new Ff(b,p)}addToIndexes(t,e){const n=(0,Q.UI)(this.indexes_,(r,s)=>{const l=(0,Q.DV)(this.indexSet_,s);if((0,Q.hu)(l,"Missing index implementation for "+s),r===M0){if(l.isDefinedOn(t.node)){const u=[],f=e.getIterator(_i.Wrap);let p=f.getNext();for(;p;)p.name!==t.name&&u.push(p),p=f.getNext();return u.push(t),ED(u,l.getCompare())}return M0}{const u=e.get(t.name);let f=r;return u&&(f=f.remove(new _i(t.name,u))),f.insert(t,t.node)}});return new Ff(n,this.indexSet_)}removeFromIndexes(t,e){const n=(0,Q.UI)(this.indexes_,r=>{if(r===M0)return r;{const s=e.get(t.name);return s?r.remove(new _i(t.name,s)):r}});return new Ff(n,this.indexSet_)}}let oC,Jn=(()=>{class i{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&nz(this.priorityNode_),this.children_.isEmpty()&&(0,Q.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return oC||(oC=new i(new Za(rN),null,Ff.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||oC}updatePriority(e){return this.children_.isEmpty()?this:new i(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const n=this.children_.get(e);return null===n?oC:n}}getChild(e){const n=fi(e);return null===n?this:this.getImmediateChild(n).getChild(or(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,n){if((0,Q.hu)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);{const r=new _i(e,n);let s,l;n.isEmpty()?(s=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(r,this.children_));const u=s.isEmpty()?oC:this.priorityNode_;return new i(s,u,l)}}updateChild(e,n){const r=fi(e);if(null===r)return n;{(0,Q.hu)(".priority"!==fi(e)||1===Rp(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(or(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,l=!0;if(this.forEachChild(fr,(u,f)=>{n[u]=f.val(e),r++,l&&i.INTEGER_REGEXP_.test(u)?s=Math.max(s,Number(u)):l=!1}),!e&&l&&s<2*r){const u=[];for(const f in n)u[f]=n[f];return u}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+tz(this.getPriority().val())+":"),this.forEachChild(fr,(n,r)=>{const s=r.hash();""!==s&&(e+=":"+n+":"+s)}),this.lazyHash_=""===e?"":gV(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const l=s.getPredecessorKey(new _i(e,n));return l?l.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new _i(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new _i(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,_i.Wrap);let l=s.peek();for(;null!=l&&n.compare(l,e)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,_i.Wrap);let l=s.peek();for(;null!=l&&n.compare(l,e)>0;)s.getNext(),l=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===aC?-1:0}withIndex(e){if(e===nh||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new i(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===nh||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority())){if(this.children_.count()===n.children_.count()){const r=this.getIterator(fr),s=n.getIterator(fr);let l=r.getNext(),u=s.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=r.getNext(),u=s.getNext()}return null===l&&null===u}return!1}return!1}}resolveIndex_(e){return e===nh?null:this.indexMap_.get(e.toString())}}return i.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,i})();const aC=new class HZ extends Jn{constructor(){super(new Za(rN),Jn.EMPTY_NODE,Ff.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Jn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(_i,{MIN:{value:new _i(Ip,Jn.EMPTY_NODE)},MAX:{value:new _i(Lf,aC)}}),ez.__EMPTY_NODE=Jn.EMPTY_NODE,S0.__childrenNodeConstructor=Jn,function LZ(i){sN=i}(aC),function UZ(i){sz=i}(aC);const GZ=!0;function $r(i,t=null){if(null===i)return Jn.EMPTY_NODE;if("object"==typeof i&&".priority"in i&&(t=i[".priority"]),(0,Q.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof i&&".value"in i&&null!==i[".value"]&&(i=i[".value"]),"object"!=typeof i||".sv"in i)return new S0(i,$r(t));if(i instanceof Array||!GZ){let e=Jn.EMPTY_NODE;return vo(i,(n,r)=>{if((0,Q.r3)(i,n)&&"."!==n.substring(0,1)){const s=$r(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(n,s))}}),e.updatePriority($r(t))}{const e=[];let n=!1;if(vo(i,(l,u)=>{if("."!==l.substring(0,1)){const f=$r(u);f.isEmpty()||(n=n||!f.getPriority().isEmpty(),e.push(new _i(l,f)))}}),0===e.length)return Jn.EMPTY_NODE;const s=ED(e,NZ,l=>l.name,rN);if(n){const l=ED(e,fr.getCompare());return new Jn(s,$r(t),new Ff({".priority":l},{".priority":fr}))}return new Jn(s,$r(t),Ff.Default)}}!function FZ(i){rz=i}($r);class aN extends yD{constructor(t){super(),this.indexPath_=t,(0,Q.hu)(!mi(t)&&".priority"!==fi(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const n=this.extractChild(t.node),r=this.extractChild(e.node),s=n.compareTo(r);return 0===s?Ev(t.name,e.name):s}makePost(t,e){const n=$r(t),r=Jn.EMPTY_NODE.updateChild(this.indexPath_,n);return new _i(e,r)}maxPost(){const t=Jn.EMPTY_NODE.updateChild(this.indexPath_,aC);return new _i(Lf,t)}toString(){return rC(this.indexPath_,0).join("/")}}const cN=new class WZ extends yD{compare(t,e){const n=t.node.compareTo(e.node);return 0===n?Ev(t.name,e.name):n}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return _i.MIN}maxPost(){return _i.MAX}makePost(t,e){const n=$r(t);return new _i(e,n)}toString(){return".value"}};function oz(i){return{type:"value",snapshotNode:i}}function T0(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function cC(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function lC(i,t,e){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:e}}class lN{constructor(t){this.index_=t}updateChild(t,e,n,r,s,l){(0,Q.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=t.getImmediateChild(e);return u.getChild(r).equals(n.getChild(r))&&u.isEmpty()===n.isEmpty()||(null!=l&&(n.isEmpty()?t.hasChild(e)?l.trackChildChange(cC(e,u)):(0,Q.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?l.trackChildChange(T0(e,n)):l.trackChildChange(lC(e,n,u))),t.isLeafNode()&&n.isEmpty())?t:t.updateImmediateChild(e,n).withIndex(this.index_)}updateFullNode(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(fr,(r,s)=>{e.hasChild(r)||n.trackChildChange(cC(r,s))}),e.isLeafNode()||e.forEachChild(fr,(r,s)=>{if(t.hasChild(r)){const l=t.getImmediateChild(r);l.equals(s)||n.trackChildChange(lC(r,s,l))}else n.trackChildChange(T0(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Jn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class dC{constructor(t){this.indexedFilter_=new lN(t.getIndex()),this.index_=t.getIndex(),this.startPost_=dC.getStartPost_(t),this.endPost_=dC.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,n=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&n}updateChild(t,e,n,r,s,l){return this.matches(new _i(e,n))||(n=Jn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,s,l)}updateFullNode(t,e,n){e.isLeafNode()&&(e=Jn.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Jn.EMPTY_NODE);const s=this;return e.forEachChild(fr,(l,u)=>{s.matches(new _i(l,u))||(r=r.updateImmediateChild(l,Jn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class $Z{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const n=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=e=>{const n=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new dC(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,n,r,s,l){return this.rangedFilter_.matches(new _i(e,n))||(n=Jn.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,s,l):this.fullLimitUpdateChild_(t,e,n,s,l)}updateFullNode(t,e,n){let r;if(e.isLeafNode()||e.isEmpty())r=Jn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=Jn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const u=s.getNext();if(this.withinDirectionalStart(u)){if(!this.withinDirectionalEnd(u))break;r=r.updateImmediateChild(u.name,u.node),l++}}}else{let s;r=e.withIndex(this.index_),r=r.updatePriority(Jn.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let l=0;for(;s.hasNext();){const u=s.getNext();l<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?l++:r=r.updateImmediateChild(u.name,Jn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,n,r,s){let l;if(this.reverse_){const y=this.index_.getCompare();l=(w,S)=>y(S,w)}else l=this.index_.getCompare();const u=t;(0,Q.hu)(u.numChildren()===this.limit_,"");const f=new _i(e,n),p=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),b=this.rangedFilter_.matches(f);if(u.hasChild(e)){const y=u.getImmediateChild(e);let w=r.getChildAfterChild(this.index_,p,this.reverse_);for(;null!=w&&(w.name===e||u.hasChild(w.name));)w=r.getChildAfterChild(this.index_,w,this.reverse_);const S=null==w?1:l(w,f);if(b&&!n.isEmpty()&&S>=0)return s?.trackChildChange(lC(e,n,y)),u.updateImmediateChild(e,n);{s?.trackChildChange(cC(e,y));const P=u.updateImmediateChild(e,Jn.EMPTY_NODE);return null!=w&&this.rangedFilter_.matches(w)?(s?.trackChildChange(T0(w.name,w.node)),P.updateImmediateChild(w.name,w.node)):P}}return n.isEmpty()?t:b&&l(p,f)>=0?(null!=s&&(s.trackChildChange(cC(p.name,p.node)),s.trackChildChange(T0(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(p.name,Jn.EMPTY_NODE)):t}}class CD{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Q.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Q.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ip}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Q.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Q.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Lf}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Q.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===fr}copy(){const t=new CD;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function dN(i,t,e){const n=i.copy();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n}function uN(i,t,e){const n=i.copy();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n}function SD(i,t){const e=i.copy();return e.index_=t,e}function az(i){const t={};if(i.isDefault())return t;let e;if(i.index_===fr?e="$priority":i.index_===cN?e="$value":i.index_===nh?e="$key":((0,Q.hu)(i.index_ instanceof aN,"Unrecognized index type!"),e=i.index_.toString()),t.orderBy=(0,Q.Wl)(e),i.startSet_){const n=i.startAfterSet_?"startAfter":"startAt";t[n]=(0,Q.Wl)(i.indexStartValue_),i.startNameSet_&&(t[n]+=","+(0,Q.Wl)(i.indexStartName_))}if(i.endSet_){const n=i.endBeforeSet_?"endBefore":"endAt";t[n]=(0,Q.Wl)(i.indexEndValue_),i.endNameSet_&&(t[n]+=","+(0,Q.Wl)(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function cz(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let e=i.viewFrom_;""===e&&(e=i.isViewFromLeft()?"l":"r"),t.vf=e}return i.index_!==fr&&(t.i=i.index_.toString()),t}class MD extends $V{constructor(t,e,n,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=eC("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,Q.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,n,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const l=MD.getListenId_(t,n),u={};this.listens_[l]=u;const f=az(t._queryParams);this.restRequest_(s+".json",f,(p,b)=>{let y=b;if(404===p&&(y=null,p=null),null===p&&this.onDataUpdate_(s,y,!1,n),(0,Q.DV)(this.listens_,l)===u){let w;w=p?401===p?"permission_denied":"rest_error:"+p:"ok",r(w,null)}})}unlisten(t,e){const n=MD.getListenId_(t,e);delete this.listens_[n]}get(t){const e=az(t._queryParams),n=t._path.toString(),r=new Q.BH;return this.restRequest_(n+".json",e,(s,l)=>{let u=l;404===s&&(u=null,s=null),null===s?(this.onDataUpdate_(n,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},n){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,Q.xO)(e);this.log_("Sending REST request for "+l);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(n&&4===u.readyState){this.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);let f=null;if(u.status>=200&&u.status<300){try{f=(0,Q.cI)(u.responseText)}catch{Qo("Failed to parse JSON response for "+l+": "+u.responseText)}n(null,f)}else 401!==u.status&&404!==u.status&&Qo("Got unsuccessful REST response for "+l+" Status: "+u.status),n(u.status);n=null}},u.open("GET",l,!0),u.send()})}}class QZ{constructor(){this.rootNode_=Jn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function TD(){return{value:null,children:new Map}}function A0(i,t,e){if(mi(t))i.value=e,i.children.clear();else if(null!==i.value)i.value=i.value.updateChild(t,e);else{const n=fi(t);i.children.has(n)||i.children.set(n,TD()),A0(i.children.get(n),t=or(t),e)}}function hN(i,t){if(mi(t))return i.value=null,i.children.clear(),!0;if(null!==i.value){if(i.value.isLeafNode())return!1;{const e=i.value;return i.value=null,e.forEachChild(fr,(n,r)=>{A0(i,new Zi(n),r)}),hN(i,t)}}if(i.children.size>0){const e=fi(t);return t=or(t),i.children.has(e)&&hN(i.children.get(e),t)&&i.children.delete(e),0===i.children.size}return!0}function fN(i,t,e){null!==i.value?e(t,i.value):function JZ(i,t){i.children.forEach((e,n)=>{t(n,e)})}(i,(n,r)=>{fN(r,new Zi(t.toString()+"/"+n),e)})}class e7{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&vo(this.last_,(n,r)=>{e[n]=e[n]-r}),this.last_=t,e}}class i7{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new e7(t);const n=1e4+2e4*Math.random();nC(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const t=this.statsListener_.get(),e={};let n=!1;vo(t,(r,s)=>{s>0&&(0,Q.r3)(this.statsToReport_,r)&&(e[r]=s,n=!0)}),n&&this.server_.reportStats(e),nC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ih=function(i){return i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",i}(ih||{});function gN(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class AD{constructor(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ih.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(mi(this.path)){if(null!=this.affectedTree.value)return(0,Q.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Zi(t));return new AD(Pi(),e,this.revert)}}return(0,Q.hu)(fi(this.path)===t,"operationForChild called for unrelated child."),new AD(or(this.path),this.affectedTree,this.revert)}}class uC{constructor(t,e){this.source=t,this.path=e,this.type=ih.LISTEN_COMPLETE}operationForChild(t){return mi(this.path)?new uC(this.source,Pi()):new uC(this.source,or(this.path))}}class Mv{constructor(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ih.OVERWRITE}operationForChild(t){return mi(this.path)?new Mv(this.source,Pi(),this.snap.getImmediateChild(t)):new Mv(this.source,or(this.path),this.snap)}}class D0{constructor(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ih.MERGE}operationForChild(t){if(mi(this.path)){const e=this.children.subtree(new Zi(t));return e.isEmpty()?null:e.value?new Mv(this.source,Pi(),e.value):new D0(this.source,Pi(),e)}return(0,Q.hu)(fi(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new D0(this.source,or(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Pp{constructor(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(mi(t))return this.isFullyInitialized()&&!this.filtered_;const e=fi(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class r7{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function hC(i,t,e,n,r,s){const l=n.filter(u=>u.type===e);l.sort((u,f)=>function a7(i,t,e){if(null==t.childName||null==e.childName)throw(0,Q.g5)("Should only compare child_ events.");const n=new _i(t.childName,t.snapshotNode),r=new _i(e.childName,e.snapshotNode);return i.index_.compare(n,r)}(i,u,f)),l.forEach(u=>{const f=function o7(i,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}(i,u,s);r.forEach(p=>{p.respondsTo(u.type)&&t.push(p.createEvent(f,i.query_))})})}function DD(i,t){return{eventCache:i,serverCache:t}}function fC(i,t,e,n){return DD(new Pp(t,e,n),i.serverCache)}function dz(i,t,e,n){return DD(i.eventCache,new Pp(t,e,n))}function ID(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Tv(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let _N;class mr{constructor(t,e=(()=>(_N||(_N=new Za(jq)),_N))()){this.value=t,this.children=e}static fromObject(t){let e=new mr(null);return vo(t,(n,r)=>{e=e.set(new Zi(n),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Pi(),value:this.value};if(mi(t))return null;{const n=fi(t),r=this.children.get(n);if(null!==r){const s=r.findRootMostMatchingPathAndValue(or(t),e);return null!=s?{path:Pr(new Zi(n),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(mi(t))return this;{const e=fi(t),n=this.children.get(e);return null!==n?n.subtree(or(t)):new mr(null)}}set(t,e){if(mi(t))return new mr(e,this.children);{const n=fi(t),s=(this.children.get(n)||new mr(null)).set(or(t),e),l=this.children.insert(n,s);return new mr(this.value,l)}}remove(t){if(mi(t))return this.children.isEmpty()?new mr(null):new mr(null,this.children);{const e=fi(t),n=this.children.get(e);if(n){const r=n.remove(or(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new mr(null):new mr(this.value,s)}return this}}get(t){if(mi(t))return this.value;{const e=fi(t),n=this.children.get(e);return n?n.get(or(t)):null}}setTree(t,e){if(mi(t))return e;{const n=fi(t),s=(this.children.get(n)||new mr(null)).setTree(or(t),e);let l;return l=s.isEmpty()?this.children.remove(n):this.children.insert(n,s),new mr(this.value,l)}}fold(t){return this.fold_(Pi(),t)}fold_(t,e){const n={};return this.children.inorderTraversal((r,s)=>{n[r]=s.fold_(Pr(t,r),e)}),e(t,this.value,n)}findOnPath(t,e){return this.findOnPath_(t,Pi(),e)}findOnPath_(t,e,n){const r=!!this.value&&n(e,this.value);if(r)return r;if(mi(t))return null;{const s=fi(t),l=this.children.get(s);return l?l.findOnPath_(or(t),Pr(e,s),n):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Pi(),e)}foreachOnPath_(t,e,n){if(mi(t))return this;{this.value&&n(e,this.value);const r=fi(t),s=this.children.get(r);return s?s.foreachOnPath_(or(t),Pr(e,r),n):new mr(null)}}foreach(t){this.foreach_(Pi(),t)}foreach_(t,e){this.children.inorderTraversal((n,r)=>{r.foreach_(Pr(t,n),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,n)=>{n.value&&t(e,n.value)})}}class Hd{constructor(t){this.writeTree_=t}static empty(){return new Hd(new mr(null))}}function mC(i,t,e){if(mi(t))return new Hd(new mr(e));{const n=i.writeTree_.findRootMostValueAndPath(t);if(null!=n){const r=n.path;let s=n.value;const l=ga(r,t);return s=s.updateChild(l,e),new Hd(i.writeTree_.set(r,s))}{const r=new mr(e),s=i.writeTree_.setTree(t,r);return new Hd(s)}}}function vN(i,t,e){let n=i;return vo(e,(r,s)=>{n=mC(n,Pr(t,r),s)}),n}function uz(i,t){if(mi(t))return Hd.empty();{const e=i.writeTree_.setTree(t,new mr(null));return new Hd(e)}}function bN(i,t){return null!=Av(i,t)}function Av(i,t){const e=i.writeTree_.findRootMostValueAndPath(t);return null!=e?i.writeTree_.get(e.path).getChild(ga(e.path,t)):null}function hz(i){const t=[],e=i.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(fr,(n,r)=>{t.push(new _i(n,r))}):i.writeTree_.children.inorderTraversal((n,r)=>{null!=r.value&&t.push(new _i(n,r.value))}),t}function Op(i,t){if(mi(t))return i;{const e=Av(i,t);return new Hd(null!=e?new mr(e):i.writeTree_.subtree(t))}}function yN(i){return i.writeTree_.isEmpty()}function I0(i,t){return fz(Pi(),i.writeTree_,t)}function fz(i,t,e){if(null!=t.value)return e.updateChild(i,t.value);{let n=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,Q.hu)(null!==s.value,"Priority writes must always be leaf nodes"),n=s.value):e=fz(Pr(i,r),s,e)}),!e.getChild(i).isEmpty()&&null!==n&&(e=e.updateChild(Pr(i,".priority"),n)),e}}function kD(i,t){return vz(t,i)}function f7(i,t){if(i.snap)return Ml(i.path,t);for(const e in i.children)if(i.children.hasOwnProperty(e)&&Ml(Pr(i.path,e),t))return!0;return!1}function p7(i){return i.visible}function mz(i,t,e){let n=Hd.empty();for(let r=0;r<i.length;++r){const s=i[r];if(t(s)){const l=s.path;let u;if(s.snap)Ml(e,l)?(u=ga(e,l),n=mC(n,u,s.snap)):Ml(l,e)&&(u=ga(l,e),n=mC(n,Pi(),s.snap.getChild(u)));else{if(!s.children)throw(0,Q.g5)("WriteRecord should have .snap or .children");if(Ml(e,l))u=ga(e,l),n=vN(n,u,s.children);else if(Ml(l,e))if(u=ga(l,e),mi(u))n=vN(n,Pi(),s.children);else{const f=(0,Q.DV)(s.children,fi(u));if(f){const p=f.getChild(or(u));n=mC(n,Pi(),p)}}}}}return n}function pz(i,t,e,n,r){if(n||r){const s=Op(i.visibleWrites,t);return!r&&yN(s)?e:r||null!=e||bN(s,Pi())?I0(mz(i.allWrites,function(p){return(p.visible||r)&&(!n||!~n.indexOf(p.writeId))&&(Ml(p.path,t)||Ml(t,p.path))},t),e||Jn.EMPTY_NODE):null}{const s=Av(i.visibleWrites,t);if(null!=s)return s;{const l=Op(i.visibleWrites,t);return yN(l)?e:null!=e||bN(l,Pi())?I0(l,e||Jn.EMPTY_NODE):null}}}function RD(i,t,e,n){return pz(i.writeTree,i.treePath,t,e,n)}function xN(i,t){return function g7(i,t,e){let n=Jn.EMPTY_NODE;const r=Av(i.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(fr,(s,l)=>{n=n.updateImmediateChild(s,l)}),n;if(e){const s=Op(i.visibleWrites,t);return e.forEachChild(fr,(l,u)=>{const f=I0(Op(s,new Zi(l)),u);n=n.updateImmediateChild(l,f)}),hz(s).forEach(l=>{n=n.updateImmediateChild(l.name,l.node)}),n}return hz(Op(i.visibleWrites,t)).forEach(l=>{n=n.updateImmediateChild(l.name,l.node)}),n}(i.writeTree,i.treePath,t)}function gz(i,t,e,n){return function _7(i,t,e,n,r){(0,Q.hu)(n||r,"Either existingEventSnap or existingServerSnap must exist");const s=Pr(t,e);if(bN(i.visibleWrites,s))return null;{const l=Op(i.visibleWrites,s);return yN(l)?r.getChild(e):I0(l,r.getChild(e))}}(i.writeTree,i.treePath,t,e,n)}function PD(i,t){return function b7(i,t){return Av(i.visibleWrites,t)}(i.writeTree,Pr(i.treePath,t))}function wN(i,t,e){return function v7(i,t,e,n){const r=Pr(t,e),s=Av(i.visibleWrites,r);return null!=s?s:n.isCompleteForChild(e)?I0(Op(i.visibleWrites,r),n.getNode().getImmediateChild(e)):null}(i.writeTree,i.treePath,t,e)}function _z(i,t){return vz(Pr(i.treePath,t),i.writeTree)}function vz(i,t){return{treePath:i,writeTree:t}}class E7{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,n=t.childName;(0,Q.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,Q.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(n,lC(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(n,cC(n,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(n,T0(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,Q.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,lC(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)}getChanges(){return Array.from(this.changeMap.values())}}const bz=new class C7{getCompleteChild(t){return null}getChildAfterChild(t,e,n){return null}};class EN{constructor(t,e,n=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const n=null!=this.optCompleteServerCache_?new Pp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wN(this.writes_,t,n)}}getChildAfterChild(t,e,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Tv(this.viewCache_),s=function w7(i,t,e,n,r,s){return function y7(i,t,e,n,r,s,l){let u;const f=Op(i.visibleWrites,t),p=Av(f,Pi());if(null!=p)u=p;else{if(null==e)return[];u=I0(f,e)}if(u=u.withIndex(l),u.isEmpty()||u.isLeafNode())return[];{const b=[],y=l.getCompare(),w=s?u.getReverseIteratorFrom(n,l):u.getIteratorFrom(n,l);let S=w.getNext();for(;S&&b.length<r;)0!==y(S,n)&&b.push(S),S=w.getNext();return b}}(i.writeTree,i.treePath,t,e,n,r,s)}(this.writes_,r,e,1,n,t);return 0===s.length?null:s[0]}}function yz(i,t,e,n,r,s){const l=t.eventCache;if(null!=PD(n,e))return t;{let u,f;if(mi(e))if((0,Q.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=Tv(t),y=xN(n,p instanceof Jn?p:Jn.EMPTY_NODE);u=i.filter.updateFullNode(t.eventCache.getNode(),y,s)}else{const p=RD(n,Tv(t));u=i.filter.updateFullNode(t.eventCache.getNode(),p,s)}else{const p=fi(e);if(".priority"===p){(0,Q.hu)(1===Rp(e),"Can't have a priority with additional path components");const b=l.getNode();f=t.serverCache.getNode();const y=gz(n,e,b,f);u=null!=y?i.filter.updatePriority(b,y):l.getNode()}else{const b=or(e);let y;if(l.isCompleteForChild(p)){f=t.serverCache.getNode();const w=gz(n,e,l.getNode(),f);y=null!=w?l.getNode().getImmediateChild(p).updateChild(b,w):l.getNode().getImmediateChild(p)}else y=wN(n,p,t.serverCache);u=null!=y?i.filter.updateChild(l.getNode(),p,y,b,r,s):l.getNode()}}return fC(t,u,l.isFullyInitialized()||mi(e),i.filter.filtersNodes())}}function OD(i,t,e,n,r,s,l,u){const f=t.serverCache;let p;const b=l?i.filter:i.filter.getIndexedFilter();if(mi(e))p=b.updateFullNode(f.getNode(),n,null);else if(b.filtersNodes()&&!f.isFiltered()){const S=f.getNode().updateChild(e,n);p=b.updateFullNode(f.getNode(),S,null)}else{const S=fi(e);if(!f.isCompleteForPath(e)&&Rp(e)>1)return t;const A=or(e),I=f.getNode().getImmediateChild(S).updateChild(A,n);p=".priority"===S?b.updatePriority(f.getNode(),I):b.updateChild(f.getNode(),S,I,A,bz,null)}const y=dz(t,p,f.isFullyInitialized()||mi(e),b.filtersNodes());return yz(i,y,e,r,new EN(r,y,s),u)}function CN(i,t,e,n,r,s,l){const u=t.eventCache;let f,p;const b=new EN(r,t,s);if(mi(e))p=i.filter.updateFullNode(t.eventCache.getNode(),n,l),f=fC(t,p,!0,i.filter.filtersNodes());else{const y=fi(e);if(".priority"===y)p=i.filter.updatePriority(t.eventCache.getNode(),n),f=fC(t,p,u.isFullyInitialized(),u.isFiltered());else{const w=or(e),S=u.getNode().getImmediateChild(y);let A;if(mi(w))A=n;else{const P=b.getCompleteChild(y);A=null!=P?".priority"===tN(w)&&P.getChild(XV(w)).isEmpty()?P:P.updateChild(w,n):Jn.EMPTY_NODE}f=S.equals(A)?t:fC(t,i.filter.updateChild(u.getNode(),y,A,w,b,l),u.isFullyInitialized(),i.filter.filtersNodes())}}return f}function xz(i,t){return i.eventCache.isCompleteForChild(t)}function wz(i,t,e){return e.foreach((n,r)=>{t=t.updateChild(n,r)}),t}function SN(i,t,e,n,r,s,l,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let p,f=t;p=mi(e)?n:new mr(null).setTree(e,n);const b=t.serverCache.getNode();return p.children.inorderTraversal((y,w)=>{if(b.hasChild(y)){const A=wz(0,t.serverCache.getNode().getImmediateChild(y),w);f=OD(i,f,new Zi(y),A,r,s,l,u)}}),p.children.inorderTraversal((y,w)=>{const S=!t.serverCache.isCompleteForChild(y)&&null===w.value;if(!b.hasChild(y)&&!S){const P=wz(0,t.serverCache.getNode().getImmediateChild(y),w);f=OD(i,f,new Zi(y),P,r,s,l,u)}}),f}class P7{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new lN(n.getIndex()),s=function YZ(i){return i.loadsAllData()?new lN(i.getIndex()):i.hasLimit()?new $Z(i):new dC(i)}(n);this.processor_=function S7(i){return{filter:i}}(s);const l=e.serverCache,u=e.eventCache,f=r.updateFullNode(Jn.EMPTY_NODE,l.getNode(),null),p=s.updateFullNode(Jn.EMPTY_NODE,u.getNode(),null),b=new Pp(f,l.isFullyInitialized(),r.filtersNodes()),y=new Pp(p,u.isFullyInitialized(),s.filtersNodes());this.viewCache_=DD(y,b),this.eventGenerator_=new r7(this.query_)}get query(){return this.query_}}function L7(i,t){const e=Tv(i.viewCache_);return e&&(i.query._queryParams.loadsAllData()||!mi(t)&&!e.getImmediateChild(fi(t)).isEmpty())?e.getChild(t):null}function Ez(i){return 0===i.eventRegistrations_.length}function Cz(i,t,e){const n=[];if(e){(0,Q.hu)(null==t,"A cancel should cancel all event registrations.");const r=i.query._path;i.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(e,r);l&&n.push(l)})}if(t){let r=[];for(let s=0;s<i.eventRegistrations_.length;++s){const l=i.eventRegistrations_[s];if(l.matches(t)){if(t.hasAnyCallback()){r=r.concat(i.eventRegistrations_.slice(s+1));break}}else r.push(l)}i.eventRegistrations_=r}else i.eventRegistrations_=[];return n}function Sz(i,t,e,n){t.type===ih.MERGE&&null!==t.source.queryId&&((0,Q.hu)(Tv(i.viewCache_),"We should always have a full cache before handling merges"),(0,Q.hu)(ID(i.viewCache_),"Missing event cache, even though we have a server cache"));const r=i.viewCache_,s=function T7(i,t,e,n,r){const s=new E7;let l,u;if(e.type===ih.OVERWRITE){const p=e;p.source.fromUser?l=CN(i,t,p.path,p.snap,n,r,s):((0,Q.hu)(p.source.fromServer,"Unknown source."),u=p.source.tagged||t.serverCache.isFiltered()&&!mi(p.path),l=OD(i,t,p.path,p.snap,n,r,u,s))}else if(e.type===ih.MERGE){const p=e;p.source.fromUser?l=function D7(i,t,e,n,r,s,l){let u=t;return n.foreach((f,p)=>{const b=Pr(e,f);xz(t,fi(b))&&(u=CN(i,u,b,p,r,s,l))}),n.foreach((f,p)=>{const b=Pr(e,f);xz(t,fi(b))||(u=CN(i,u,b,p,r,s,l))}),u}(i,t,p.path,p.children,n,r,s):((0,Q.hu)(p.source.fromServer,"Unknown source."),u=p.source.tagged||t.serverCache.isFiltered(),l=SN(i,t,p.path,p.children,n,r,u,s))}else if(e.type===ih.ACK_USER_WRITE){const p=e;l=p.revert?function R7(i,t,e,n,r,s){let l;if(null!=PD(n,e))return t;{const u=new EN(n,t,r),f=t.eventCache.getNode();let p;if(mi(e)||".priority"===fi(e)){let b;if(t.serverCache.isFullyInitialized())b=RD(n,Tv(t));else{const y=t.serverCache.getNode();(0,Q.hu)(y instanceof Jn,"serverChildren would be complete if leaf node"),b=xN(n,y)}p=i.filter.updateFullNode(f,b,s)}else{const b=fi(e);let y=wN(n,b,t.serverCache);null==y&&t.serverCache.isCompleteForChild(b)&&(y=f.getImmediateChild(b)),p=null!=y?i.filter.updateChild(f,b,y,or(e),u,s):t.eventCache.getNode().hasChild(b)?i.filter.updateChild(f,b,Jn.EMPTY_NODE,or(e),u,s):f,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(l=RD(n,Tv(t)),l.isLeafNode()&&(p=i.filter.updateFullNode(p,l,s)))}return l=t.serverCache.isFullyInitialized()||null!=PD(n,Pi()),fC(t,p,l,i.filter.filtersNodes())}}(i,t,p.path,n,r,s):function I7(i,t,e,n,r,s,l){if(null!=PD(r,e))return t;const u=t.serverCache.isFiltered(),f=t.serverCache;if(null!=n.value){if(mi(e)&&f.isFullyInitialized()||f.isCompleteForPath(e))return OD(i,t,e,f.getNode().getChild(e),r,s,u,l);if(mi(e)){let p=new mr(null);return f.getNode().forEachChild(nh,(b,y)=>{p=p.set(new Zi(b),y)}),SN(i,t,e,p,r,s,u,l)}return t}{let p=new mr(null);return n.foreach((b,y)=>{const w=Pr(e,b);f.isCompleteForPath(w)&&(p=p.set(b,f.getNode().getChild(w)))}),SN(i,t,e,p,r,s,u,l)}}(i,t,p.path,p.affectedTree,n,r,s)}else{if(e.type!==ih.LISTEN_COMPLETE)throw(0,Q.g5)("Unknown operation type: "+e.type);l=function k7(i,t,e,n,r){const s=t.serverCache;return yz(i,dz(t,s.getNode(),s.isFullyInitialized()||mi(e),s.isFiltered()),e,n,bz,r)}(i,t,e.path,n,s)}const f=s.getChanges();return function A7(i,t,e){const n=t.eventCache;if(n.isFullyInitialized()){const r=n.getNode().isLeafNode()||n.getNode().isEmpty(),s=ID(i);(e.length>0||!i.eventCache.isFullyInitialized()||r&&!n.getNode().equals(s)||!n.getNode().getPriority().equals(s.getPriority()))&&e.push(oz(ID(t)))}}(t,l,f),{viewCache:l,changes:f}}(i.processor_,r,t,e,n);return function M7(i,t){(0,Q.hu)(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,Q.hu)(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}(i.processor_,s.viewCache),(0,Q.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=s.viewCache,Mz(i,s.changes,s.viewCache.eventCache.getNode(),null)}function Mz(i,t,e,n){return function s7(i,t,e,n){const r=[],s=[];return t.forEach(l=>{"child_changed"===l.type&&i.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(function jZ(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}(l.childName,l.snapshotNode))}),hC(i,r,"child_removed",t,n,e),hC(i,r,"child_added",t,n,e),hC(i,r,"child_moved",s,n,e),hC(i,r,"child_changed",t,n,e),hC(i,r,"value",t,n,e),r}(i.eventGenerator_,t,e,n?[n]:i.eventRegistrations_)}let ND,FD;class Tz{constructor(){this.views=new Map}}function MN(i,t,e,n){const r=t.source.queryId;if(null!==r){const s=i.views.get(r);return(0,Q.hu)(null!=s,"SyncTree gave us an op for an invalid query."),Sz(s,t,e,n)}{let s=[];for(const l of i.views.values())s=s.concat(Sz(l,t,e,n));return s}}function Az(i,t,e,n,r){const l=i.views.get(t._queryIdentifier);if(!l){let u=RD(e,r?n:null),f=!1;u?f=!0:n instanceof Jn?(u=xN(e,n),f=!1):(u=Jn.EMPTY_NODE,f=!1);const p=DD(new Pp(u,f,!1),new Pp(n,r,!1));return new P7(t,p)}return l}function Dz(i){const t=[];for(const e of i.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Np(i,t){let e=null;for(const n of i.views.values())e=e||L7(n,t);return e}function Iz(i,t){return t._queryParams.loadsAllData()?LD(i):i.views.get(t._queryIdentifier)}function kz(i,t){return null!=Iz(i,t)}function Lp(i){return null!=LD(i)}function LD(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let $7=1;class Rz{constructor(t){this.listenProvider_=t,this.syncPointTree_=new mr(null),this.pendingWriteTree_=function x7(){return{visibleWrites:Hd.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function TN(i,t,e,n,r){return function l7(i,t,e,n,r){(0,Q.hu)(n>i.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),i.allWrites.push({path:t,snap:e,writeId:n,visible:r}),r&&(i.visibleWrites=mC(i.visibleWrites,t,e)),i.lastWriteId=n}(i.pendingWriteTree_,t,e,n,r),r?k0(i,new Mv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Fp(i,t,e=!1){const n=function u7(i,t){for(let e=0;e<i.allWrites.length;e++){const n=i.allWrites[e];if(n.writeId===t)return n}return null}(i.pendingWriteTree_,t);if(function h7(i,t){const e=i.allWrites.findIndex(u=>u.writeId===t);(0,Q.hu)(e>=0,"removeWrite called with nonexistent writeId.");const n=i.allWrites[e];i.allWrites.splice(e,1);let r=n.visible,s=!1,l=i.allWrites.length-1;for(;r&&l>=0;){const u=i.allWrites[l];u.visible&&(l>=e&&f7(u,n.path)?r=!1:Ml(n.path,u.path)&&(s=!0)),l--}return!!r&&(s?(function m7(i){i.visibleWrites=mz(i.allWrites,p7,Pi()),i.lastWriteId=i.allWrites.length>0?i.allWrites[i.allWrites.length-1].writeId:-1}(i),!0):(n.snap?i.visibleWrites=uz(i.visibleWrites,n.path):vo(n.children,f=>{i.visibleWrites=uz(i.visibleWrites,Pr(n.path,f))}),!0))}(i.pendingWriteTree_,t)){let s=new mr(null);return null!=n.snap?s=s.set(Pi(),!0):vo(n.children,l=>{s=s.set(new Zi(l),!0)}),k0(i,new AD(n.path,s,e))}return[]}function pC(i,t,e){return k0(i,new Mv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function UD(i,t,e,n,r=!1){const s=t._path,l=i.syncPointTree_.get(s);let u=[];if(l&&("default"===t._queryIdentifier||kz(l,t))){const f=function G7(i,t,e,n){const r=t._queryIdentifier,s=[];let l=[];const u=Lp(i);if("default"===r)for(const[f,p]of i.views.entries())l=l.concat(Cz(p,e,n)),Ez(p)&&(i.views.delete(f),p.query._queryParams.loadsAllData()||s.push(p.query));else{const f=i.views.get(r);f&&(l=l.concat(Cz(f,e,n)),Ez(f)&&(i.views.delete(r),f.query._queryParams.loadsAllData()||s.push(f.query)))}return u&&!Lp(i)&&s.push(new(function V7(){return(0,Q.hu)(ND,"Reference.ts has not been loaded"),ND}())(t._repo,t._path)),{removed:s,events:l}}(l,t,e,n);(function z7(i){return 0===i.views.size})(l)&&(i.syncPointTree_=i.syncPointTree_.remove(s));const p=f.removed;if(u=f.events,!r){const b=-1!==p.findIndex(w=>w._queryParams.loadsAllData()),y=i.syncPointTree_.findOnPath(s,(w,S)=>Lp(S));if(b&&!y){const w=i.syncPointTree_.subtree(s);if(!w.isEmpty()){const S=function J7(i){return i.fold((t,e,n)=>{if(e&&Lp(e))return[LD(e)];{let r=[];return e&&(r=Dz(e)),vo(n,(s,l)=>{r=r.concat(l)}),r}})}(w);for(let A=0;A<S.length;++A){const P=S[A],I=P.query,k=Lz(i,P);i.listenProvider_.startListening(_C(I),gC(i,I),k.hashFn,k.onComplete)}}}!y&&p.length>0&&!n&&(b?i.listenProvider_.stopListening(_C(t),null):p.forEach(w=>{const S=i.queryToTagMap.get(VD(w));i.listenProvider_.stopListening(_C(w),S)}))}!function e9(i,t){for(let e=0;e<t.length;++e){const n=t[e];if(!n._queryParams.loadsAllData()){const r=VD(n),s=i.queryToTagMap.get(r);i.queryToTagMap.delete(r),i.tagToQueryMap.delete(s)}}}(i,p)}return u}function Pz(i,t,e,n){const r=DN(i,n);if(null!=r){const s=IN(r),l=s.path,u=s.queryId,f=ga(l,t);return kN(i,l,new Mv(gN(u),f,e))}return[]}function AN(i,t,e,n=!1){const r=t._path;let s=null,l=!1;i.syncPointTree_.foreachOnPath(r,(w,S)=>{const A=ga(w,r);s=s||Np(S,A),l=l||Lp(S)});let f,u=i.syncPointTree_.get(r);u?(l=l||Lp(u),s=s||Np(u,Pi())):(u=new Tz,i.syncPointTree_=i.syncPointTree_.set(r,u)),null!=s?f=!0:(f=!1,s=Jn.EMPTY_NODE,i.syncPointTree_.subtree(r).foreachChild((S,A)=>{const P=Np(A,Pi());P&&(s=s.updateImmediateChild(S,P))}));const p=kz(u,t);if(!p&&!t._queryParams.loadsAllData()){const w=VD(t);(0,Q.hu)(!i.queryToTagMap.has(w),"View does not exist, but we have a tag");const S=function t9(){return $7++}();i.queryToTagMap.set(w,S),i.tagToQueryMap.set(S,w)}let y=function H7(i,t,e,n,r,s){const l=Az(i,t,n,r,s);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,l),function F7(i,t){i.eventRegistrations_.push(t)}(l,e),function U7(i,t){const e=i.viewCache_.eventCache,n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(fr,(s,l)=>{n.push(T0(s,l))}),e.isFullyInitialized()&&n.push(oz(e.getNode())),Mz(i,n,e.getNode(),t)}(l,e)}(u,t,e,kD(i.pendingWriteTree_,r),s,f);if(!p&&!l&&!n){const w=Iz(u,t);y=y.concat(function n9(i,t,e){const n=t._path,r=gC(i,t),s=Lz(i,e),l=i.listenProvider_.startListening(_C(t),r,s.hashFn,s.onComplete),u=i.syncPointTree_.subtree(n);if(r)(0,Q.hu)(!Lp(u.value),"If we're adding a query, it shouldn't be shadowed");else{const f=u.fold((p,b,y)=>{if(!mi(p)&&b&&Lp(b))return[LD(b).query];{let w=[];return b&&(w=w.concat(Dz(b).map(S=>S.query))),vo(y,(S,A)=>{w=w.concat(A)}),w}});for(let p=0;p<f.length;++p){const b=f[p];i.listenProvider_.stopListening(_C(b),gC(i,b))}}return l}(i,t,w))}return y}function BD(i,t,e){const r=i.pendingWriteTree_,s=i.syncPointTree_.findOnPath(t,(l,u)=>{const p=Np(u,ga(l,t));if(p)return p});return pz(r,t,s,e,!0)}function k0(i,t){return Oz(t,i.syncPointTree_,null,kD(i.pendingWriteTree_,Pi()))}function Oz(i,t,e,n){if(mi(i.path))return Nz(i,t,e,n);{const r=t.get(Pi());null==e&&null!=r&&(e=Np(r,Pi()));let s=[];const l=fi(i.path),u=i.operationForChild(l),f=t.children.get(l);if(f&&u){const p=e?e.getImmediateChild(l):null,b=_z(n,l);s=s.concat(Oz(u,f,p,b))}return r&&(s=s.concat(MN(r,i,n,e))),s}}function Nz(i,t,e,n){const r=t.get(Pi());null==e&&null!=r&&(e=Np(r,Pi()));let s=[];return t.children.inorderTraversal((l,u)=>{const f=e?e.getImmediateChild(l):null,p=_z(n,l),b=i.operationForChild(l);b&&(s=s.concat(Nz(b,u,f,p)))}),r&&(s=s.concat(MN(r,i,n,e))),s}function Lz(i,t){const e=t.query,n=gC(i,e);return{hashFn:()=>(function O7(i){return i.viewCache_.serverCache.getNode()}(t)||Jn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return n?function X7(i,t,e){const n=DN(i,e);if(n){const r=IN(n),s=r.path,l=r.queryId,u=ga(s,t);return kN(i,s,new uC(gN(l),u))}return[]}(i,e._path,n):function Z7(i,t){return k0(i,new uC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(i,e._path);{const s=function qq(i,t){let e="Unknown Error";"too_big"===i?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===i?e="Client doesn't have permission to access the desired data.":"unavailable"===i&&(e="The service is unavailable");const n=new Error(i+" at "+t._path.toString()+": "+e);return n.code=i.toUpperCase(),n}(r,e);return UD(i,e,null,s)}}}}function gC(i,t){const e=VD(t);return i.queryToTagMap.get(e)}function VD(i){return i._path.toString()+"$"+i._queryIdentifier}function DN(i,t){return i.tagToQueryMap.get(t)}function IN(i){const t=i.indexOf("$");return(0,Q.hu)(-1!==t&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new Zi(i.substr(0,t))}}function kN(i,t,e){const n=i.syncPointTree_.get(t);return(0,Q.hu)(n,"Missing sync point for query tag that we're tracking"),MN(n,e,kD(i.pendingWriteTree_,t),null)}function _C(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(function j7(){return(0,Q.hu)(FD,"Reference.ts has not been loaded"),FD}())(i._repo,i._path):i}class RN{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new RN(e)}node(){return this.node_}}class PN{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Pr(this.path_,t);return new PN(this.syncTree_,e)}node(){return BD(this.syncTree_,this.path_)}}const i9=function(i){return(i=i||{}).timestamp=i.timestamp||(new Date).getTime(),i},Fz=function(i,t,e){return i&&"object"==typeof i?((0,Q.hu)(".sv"in i,"Unexpected leaf node or priority contents"),"string"==typeof i[".sv"]?r9(i[".sv"],t,e):"object"==typeof i[".sv"]?s9(i[".sv"],t):void(0,Q.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2))):i},r9=function(i,t,e){if("timestamp"===i)return e.timestamp;(0,Q.hu)(!1,"Unexpected server value: "+i)},s9=function(i,t,e){i.hasOwnProperty("increment")||(0,Q.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const n=i.increment;"number"!=typeof n&&(0,Q.hu)(!1,"Unexpected increment value: "+n);const r=t.node();if((0,Q.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return n;const l=r.getValue();return"number"!=typeof l?n:l+n},Uz=function(i,t,e,n){return NN(t,new PN(e,i),n)},ON=function(i,t,e){return NN(i,new RN(t),e)};function NN(i,t,e){const n=i.getPriority().val(),r=Fz(n,t.getImmediateChild(".priority"),e);let s;if(i.isLeafNode()){const l=i,u=Fz(l.getValue(),t,e);return u!==l.getValue()||r!==l.getPriority().val()?new S0(u,$r(r)):i}{const l=i;return s=l,r!==l.getPriority().val()&&(s=s.updatePriority(new S0(r))),l.forEachChild(fr,(u,f)=>{const p=NN(f,t.getImmediateChild(u),e);p!==f&&(s=s.updateImmediateChild(u,p))}),s}}class LN{constructor(t="",e=null,n={children:{},childCount:0}){this.name=t,this.parent=e,this.node=n}}function zD(i,t){let e=t instanceof Zi?t:new Zi(t),n=i,r=fi(e);for(;null!==r;){const s=(0,Q.DV)(n.node.children,r)||{children:{},childCount:0};n=new LN(r,n,s),e=or(e),r=fi(e)}return n}function Dv(i){return i.node.value}function FN(i,t){i.node.value=t,UN(i)}function Bz(i){return i.node.childCount>0}function HD(i,t){vo(i.node.children,(e,n)=>{t(new LN(e,i,n))})}function Vz(i,t,e,n){e&&!n&&t(i),HD(i,r=>{Vz(r,t,!0,n)}),e&&n&&t(i)}function vC(i){return new Zi(null===i.parent?i.name:vC(i.parent)+"/"+i.name)}function UN(i){null!==i.parent&&function c9(i,t,e){const n=function o9(i){return void 0===Dv(i)&&!Bz(i)}(e),r=(0,Q.r3)(i.node.children,t);n&&r?(delete i.node.children[t],i.node.childCount--,UN(i)):!n&&!r&&(i.node.children[t]=e.node,i.node.childCount++,UN(i))}(i.parent,i.name,i)}const l9=/[\[\].#$\/\u0000-\u001F\u007F]/,d9=/[\[\].#$\u0000-\u001F\u007F]/,BN=10485760,GD=function(i){return"string"==typeof i&&0!==i.length&&!l9.test(i)},zz=function(i){return"string"==typeof i&&0!==i.length&&!d9.test(i)},bC=function(i){return null===i||"string"==typeof i||"number"==typeof i&&!gD(i)||i&&"object"==typeof i&&(0,Q.r3)(i,".sv")},rh=function(i,t,e,n){n&&void 0===t||yC((0,Q.gK)(i,"value"),t,e)},yC=function(i,t,e){const n=e instanceof Zi?new TZ(e,i):e;if(void 0===t)throw new Error(i+"contains undefined "+Cv(n));if("function"==typeof t)throw new Error(i+"contains a function "+Cv(n)+" with contents = "+t.toString());if(gD(t))throw new Error(i+"contains "+t.toString()+" "+Cv(n));if("string"==typeof t&&t.length>BN/3&&(0,Q.ug)(t)>BN)throw new Error(i+"contains a string greater than "+BN+" utf8 bytes "+Cv(n)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(vo(t,(l,u)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(s=!0,!GD(l)))throw new Error(i+" contains an invalid key ("+l+") "+Cv(n)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function AZ(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=(0,Q.ug)(t),KV(i)})(n,l),yC(i,u,n),function DZ(i){const t=i.parts_.pop();i.byteLength_-=(0,Q.ug)(t),i.parts_.length>0&&(i.byteLength_-=1)}(n)}),r&&s)throw new Error(i+' contains ".value" child '+Cv(n)+" in addition to actual children.")}},Hz=function(i,t,e,n){if(n&&void 0===t)return;const r=(0,Q.gK)(i,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];vo(t,(l,u)=>{const f=new Zi(l);if(yC(r,u,Pr(e,f)),".priority"===tN(f)&&!bC(u))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(f)}),function(i,t){let e,n;for(e=0;e<t.length;e++){n=t[e];const s=rC(n);for(let l=0;l<s.length;l++)if((".priority"!==s[l]||l!==s.length-1)&&!GD(s[l]))throw new Error(i+"contains an invalid key ("+s[l]+") in path "+n.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(MZ);let r=null;for(e=0;e<t.length;e++){if(n=t[e],null!==r&&Ml(r,n))throw new Error(i+"contains a path "+r.toString()+" that is ancestor of another path "+n.toString());r=n}}(r,s)},VN=function(i,t,e){if(!e||void 0!==t){if(gD(t))throw new Error((0,Q.gK)(i,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!bC(t))throw new Error((0,Q.gK)(i,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},xC=function(i,t,e,n){if(!(n&&void 0===e||GD(e)))throw new Error((0,Q.gK)(i,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},wC=function(i,t,e,n){if(!(n&&void 0===e||zz(e)))throw new Error((0,Q.gK)(i,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},f9=function(i,t,e,n){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),wC(i,t,e,n)},Tl=function(i,t){if(".info"===fi(t))throw new Error(i+" failed = Can't modify data under /.info/")},Gz=function(i,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!GD(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),zz(i)}(e))throw new Error((0,Q.gK)(i,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class m9{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function WD(i,t){let e=null;for(let n=0;n<t.length;n++){const r=t[n],s=r.getPath();null!==e&&!nN(s,e.path)&&(i.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&i.eventLists_.push(e)}function Wz(i,t,e){WD(i,e),jz(i,n=>nN(n,t))}function Vc(i,t,e){WD(i,e),jz(i,n=>Ml(n,t)||Ml(t,n))}function jz(i,t){i.recursionDepth_++;let e=!0;for(let n=0;n<i.eventLists_.length;n++){const r=i.eventLists_[n];r&&(t(r.path)?(p9(i.eventLists_[n]),i.eventLists_[n]=null):e=!1)}e&&(i.eventLists_=[]),i.recursionDepth_--}function p9(i){for(let t=0;t<i.events.length;t++){const e=i.events[t];if(null!==e){i.events[t]=null;const n=e.getEventRunner();wv&&_o("event: "+e.toString()),E0(n)}}}const $z="repo_interrupt",g9=25;class _9{constructor(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new m9,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=TD(),this.transactionQueueTree_=new LN,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Yz(i){const e=i.infoData_.getNode(new Zi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function EC(i){return i9({timestamp:Yz(i)})}function qz(i,t,e,n,r){i.dataUpdateCount++;const s=new Zi(t);e=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,e):e;let l=[];if(r)if(n){const f=(0,Q.UI)(e,p=>$r(p));l=function K7(i,t,e,n){const r=DN(i,n);if(r){const s=IN(r),l=s.path,u=s.queryId,f=ga(l,t),p=mr.fromObject(e);return kN(i,l,new D0(gN(u),f,p))}return[]}(i.serverSyncTree_,s,f,r)}else{const f=$r(e);l=Pz(i.serverSyncTree_,s,f,r)}else if(n){const f=(0,Q.UI)(e,p=>$r(p));l=function q7(i,t,e){const n=mr.fromObject(e);return k0(i,new D0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}(i.serverSyncTree_,s,f)}else{const f=$r(e);l=pC(i.serverSyncTree_,s,f)}let u=s;l.length>0&&(u=P0(i,s)),Vc(i.eventQueue_,u,l)}function Zz(i,t){zN(i,"connected",t),!1===t&&function w9(i){R0(i,"onDisconnectEvents");const t=EC(i),e=TD();fN(i.onDisconnect_,Pi(),(r,s)=>{const l=Uz(r,s,i.serverSyncTree_,t);A0(e,r,l)});let n=[];fN(e,Pi(),(r,s)=>{n=n.concat(pC(i.serverSyncTree_,r,s));const l=jN(i,r);P0(i,l)}),i.onDisconnect_=TD(),Vc(i.eventQueue_,Pi(),n)}(i)}function zN(i,t,e){const n=new Zi("/.info/"+t),r=$r(e);i.infoData_.updateSnapshot(n,r);const s=pC(i.infoSyncTree_,n,r);Vc(i.eventQueue_,n,s)}function jD(i){return i.nextWriteId_++}function HN(i,t,e,n,r){R0(i,"set",{path:t.toString(),value:e,priority:n});const s=EC(i),l=$r(e,n),u=BD(i.serverSyncTree_,t),f=ON(l,u,s),p=jD(i),b=TN(i.serverSyncTree_,t,f,p,!0);WD(i.eventQueue_,b),i.server_.put(t.toString(),l.val(!0),(w,S)=>{const A="ok"===w;A||Qo("set at "+t+" failed: "+w);const P=Fp(i.serverSyncTree_,p,!A);Vc(i.eventQueue_,t,P),Up(0,r,w,S)});const y=jN(i,t);P0(i,y),Vc(i.eventQueue_,y,[])}function E9(i,t,e){i.server_.onDisconnectCancel(t.toString(),(n,r)=>{"ok"===n&&hN(i.onDisconnect_,t),Up(0,e,n,r)})}function Xz(i,t,e,n){const r=$r(e);i.server_.onDisconnectPut(t.toString(),r.val(!0),(s,l)=>{"ok"===s&&A0(i.onDisconnect_,t,r),Up(0,n,s,l)})}function GN(i,t,e){let n;n=".info"===fi(t._path)?UD(i.infoSyncTree_,t,e):UD(i.serverSyncTree_,t,e),Wz(i.eventQueue_,t._path,n)}function Kz(i){i.persistentConnection_&&i.persistentConnection_.interrupt($z)}function R0(i,...t){let e="";i.persistentConnection_&&(e=i.persistentConnection_.id+":"),_o(e,...t)}function Up(i,t,e,n){t&&E0(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;n&&(s+=": "+n);const l=new Error(s);l.code=r,t(l)}})}function WN(i,t,e){return BD(i.serverSyncTree_,t,e)||Jn.EMPTY_NODE}function $D(i,t=i.transactionQueueTree_){if(t||YD(i,t),Dv(t)){const e=Jz(i,t);(0,Q.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function D9(i,t,e){const n=e.map(p=>p.currentWriteId),r=WN(i,t,n);let s=r;const l=r.hash();for(let p=0;p<e.length;p++){const b=e[p];(0,Q.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const y=ga(t,b.path);s=s.updateChild(y,b.currentOutputSnapshotRaw)}const u=s.val(!0),f=t;i.server_.put(f.toString(),u,p=>{R0(i,"transaction put response",{path:f.toString(),status:p});let b=[];if("ok"===p){const y=[];for(let w=0;w<e.length;w++)e[w].status=2,b=b.concat(Fp(i.serverSyncTree_,e[w].currentWriteId)),e[w].onComplete&&y.push(()=>e[w].onComplete(null,!0,e[w].currentOutputSnapshotResolved)),e[w].unwatcher();YD(i,zD(i.transactionQueueTree_,t)),$D(i,i.transactionQueueTree_),Vc(i.eventQueue_,t,b);for(let w=0;w<y.length;w++)E0(y[w])}else{if("datastale"===p)for(let y=0;y<e.length;y++)e[y].status=3===e[y].status?4:0;else{Qo("transaction at "+f.toString()+" failed: "+p);for(let y=0;y<e.length;y++)e[y].status=4,e[y].abortReason=p}P0(i,t)}},l)}(i,vC(t),e)}else Bz(t)&&HD(t,e=>{$D(i,e)})}function P0(i,t){const e=Qz(i,t),n=vC(e);return function I9(i,t,e){if(0===t.length)return;const n=[];let r=[];const l=t.filter(u=>0===u.status).map(u=>u.currentWriteId);for(let u=0;u<t.length;u++){const f=t[u],p=ga(e,f.path);let y,b=!1;if((0,Q.hu)(null!==p,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)b=!0,y=f.abortReason,r=r.concat(Fp(i.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=g9)b=!0,y="maxretry",r=r.concat(Fp(i.serverSyncTree_,f.currentWriteId,!0));else{const w=WN(i,f.path,l);f.currentInputSnapshot=w;const S=t[u].update(w.val());if(void 0!==S){yC("transaction failed: Data returned ",S,f.path);let A=$r(S);"object"==typeof S&&null!=S&&(0,Q.r3)(S,".priority")||(A=A.updatePriority(w.getPriority()));const I=f.currentWriteId,k=EC(i),U=ON(A,w,k);f.currentOutputSnapshotRaw=A,f.currentOutputSnapshotResolved=U,f.currentWriteId=jD(i),l.splice(l.indexOf(I),1),r=r.concat(TN(i.serverSyncTree_,f.path,U,f.currentWriteId,f.applyLocally)),r=r.concat(Fp(i.serverSyncTree_,I,!0))}else b=!0,y="nodata",r=r.concat(Fp(i.serverSyncTree_,f.currentWriteId,!0))}Vc(i.eventQueue_,e,r),r=[],b&&(t[u].status=2,setTimeout(t[u].unwatcher,Math.floor(0)),t[u].onComplete&&n.push("nodata"===y?()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot):()=>t[u].onComplete(new Error(y),!1,null)))}YD(i,i.transactionQueueTree_);for(let u=0;u<n.length;u++)E0(n[u]);$D(i,i.transactionQueueTree_)}(i,Jz(i,e),n),n}function Qz(i,t){let e,n=i.transactionQueueTree_;for(e=fi(t);null!==e&&void 0===Dv(n);)n=zD(n,e),e=fi(t=or(t));return n}function Jz(i,t){const e=[];return eH(i,t,e),e.sort((n,r)=>n.order-r.order),e}function eH(i,t,e){const n=Dv(t);if(n)for(let r=0;r<n.length;r++)e.push(n[r]);HD(t,r=>{eH(i,r,e)})}function YD(i,t){const e=Dv(t);if(e){let n=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[n]=e[r],n++);e.length=n,FN(t,e.length>0?e:void 0)}HD(t,n=>{YD(i,n)})}function jN(i,t){const e=vC(Qz(i,t)),n=zD(i.transactionQueueTree_,t);return function a9(i,t,e){let n=e?i:i.parent;for(;null!==n;){if(t(n))return!0;n=n.parent}}(n,r=>{$N(i,r)}),$N(i,n),Vz(n,r=>{$N(i,r)}),e}function $N(i,t){const e=Dv(t);if(e){const n=[];let r=[],s=-1;for(let l=0;l<e.length;l++)3===e[l].status||(1===e[l].status?((0,Q.hu)(s===l-1,"All SENT items should be at beginning of queue."),s=l,e[l].status=3,e[l].abortReason="set"):((0,Q.hu)(0===e[l].status,"Unexpected transaction status in abort"),e[l].unwatcher(),r=r.concat(Fp(i.serverSyncTree_,e[l].currentWriteId,!0)),e[l].onComplete&&n.push(e[l].onComplete.bind(null,new Error("set"),!1,null))));-1===s?FN(t,void 0):e.length=s+1,Vc(i.eventQueue_,vC(t),r);for(let l=0;l<n.length;l++)E0(n[l])}}const YN=function(i,t){const e=P9(i),n=e.namespace;return"firebase.com"===e.domain&&th(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||"undefined"===n)&&"localhost"!==e.domain&&th("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Qo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ZO(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme,t,"",n!==e.subdomain),path:new Zi(e.pathString)}},P9=function(i){let t="",e="",n="",r="",s="",l=!0,u="https",f=443;if("string"==typeof i){let p=i.indexOf("//");p>=0&&(u=i.substring(0,p-1),i=i.substring(p+2));let b=i.indexOf("/");-1===b&&(b=i.length);let y=i.indexOf("?");-1===y&&(y=i.length),t=i.substring(0,Math.min(b,y)),b<y&&(r=function k9(i){let t="";const e=i.split("/");for(let n=0;n<e.length;n++)if(e[n].length>0){let r=e[n];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(i.substring(b,y)));const w=function R9(i){const t={};"?"===i.charAt(0)&&(i=i.substring(1));for(const e of i.split("&")){if(0===e.length)continue;const n=e.split("=");2===n.length?t[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):Qo(`Invalid query segment '${e}' in query '${i}'`)}return t}(i.substring(Math.min(i.length,y)));p=t.indexOf(":"),p>=0?(l="https"===u||"wss"===u,f=parseInt(t.substring(p+1),10)):p=t.length;const S=t.slice(0,p);if("localhost"===S.toLowerCase())e="localhost";else if(S.split(".").length<=2)e=S;else{const A=t.indexOf(".");n=t.substring(0,A).toLowerCase(),e=t.substring(A+1),s=n}"ns"in w&&(s=w.ns)}return{host:t,port:f,domain:e,subdomain:n,secure:l,scheme:u,pathString:r,namespace:s}},tH="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",O9=function(){let i=0;const t=[];return function(e){const n=e===i;let r;i=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=tH.charAt(e%64),e=Math.floor(e/64);(0,Q.hu)(0===e,"Cannot push at time == 0");let l=s.join("");if(n){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)l+=tH.charAt(t[r]);return(0,Q.hu)(20===l.length,"nextPushId: Length should be 20."),l}}();class nH{constructor(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Q.Wl)(this.snapshot.exportVal())}}class iH{constructor(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class qN{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,Q.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class rH{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new Q.BH;return E9(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Tl("OnDisconnect.remove",this._path);const t=new Q.BH;return Xz(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Tl("OnDisconnect.set",this._path),rh("OnDisconnect.set",t,this._path,!1);const e=new Q.BH;return Xz(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Tl("OnDisconnect.setWithPriority",this._path),rh("OnDisconnect.setWithPriority",t,this._path,!1),VN("OnDisconnect.setWithPriority",e,!1);const n=new Q.BH;return function C9(i,t,e,n,r){const s=$r(e,n);i.server_.onDisconnectPut(t.toString(),s.val(!0),(l,u)=>{"ok"===l&&A0(i.onDisconnect_,t,s),Up(0,r,l,u)})}(this._repo,this._path,t,e,n.wrapCallback(()=>{})),n.promise}update(t){Tl("OnDisconnect.update",this._path),Hz("OnDisconnect.update",t,this._path,!1);const e=new Q.BH;return function S9(i,t,e,n){if((0,Q.xb)(e))return _o("onDisconnect().update() called with empty data.  Don't do anything."),void Up(0,n,"ok",void 0);i.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&vo(e,(l,u)=>{const f=$r(u);A0(i.onDisconnect_,Pr(t,l),f)}),Up(0,n,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Xa{constructor(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}get key(){return mi(this._path)?null:tN(this._path)}get ref(){return new Al(this._repo,this._path)}get _queryIdentifier(){const t=cz(this._queryParams),e=YO(t);return"{}"===e?"default":e}get _queryObject(){return cz(this._queryParams)}isEqual(t){if(!((t=(0,Q.m9)(t))instanceof Xa))return!1;const e=this._repo===t._repo,n=nN(this._path,t._path);return e&&n&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function SZ(i){let t="";for(let e=i.pieceNum_;e<i.pieces_.length;e++)""!==i.pieces_[e]&&(t+="/"+encodeURIComponent(String(i.pieces_[e])));return t||"/"}(this._path)}}function qD(i,t){if(!0===i._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Bp(i){let t=null,e=null;if(i.hasStart()&&(t=i.getIndexStartValue()),i.hasEnd()&&(e=i.getIndexEndValue()),i.getIndex()===nh){const n="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(i.hasStart()){if(i.getIndexStartName()!==Ip)throw new Error(n);if("string"!=typeof t)throw new Error(r)}if(i.hasEnd()){if(i.getIndexEndName()!==Lf)throw new Error(n);if("string"!=typeof e)throw new Error(r)}}else if(i.getIndex()===fr){if(null!=t&&!bC(t)||null!=e&&!bC(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Q.hu)(i.getIndex()instanceof aN||i.getIndex()===cN,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ZD(i){if(i.hasStart()&&i.hasEnd()&&i.hasLimit()&&!i.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Al extends Xa{constructor(t,e){super(t,e,new CD,!1)}get parent(){const t=XV(this._path);return null===t?null:new Al(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Iv{constructor(t,e,n){this._node=t,this.ref=e,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Zi(t),n=kv(this.ref,t);return new Iv(this._node.getChild(e),n,fr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(n,r)=>t(new Iv(r,kv(this.ref,n),fr)))}hasChild(t){const e=new Zi(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function sH(i,t){return(i=(0,Q.m9)(i))._checkNotDeleted("ref"),void 0!==t?kv(i._root,t):i._root}function oH(i,t){(i=(0,Q.m9)(i))._checkNotDeleted("refFromURL");const e=YN(t,i._repo.repoInfo_.nodeAdmin);Gz("refFromURL",e);const n=e.repoInfo;return!i._repo.repoInfo_.isCustomHost()&&n.host!==i._repo.repoInfo_.host&&th("refFromURL: Host name does not match the current database: (found "+n.host+" but expected "+i._repo.repoInfo_.host+")"),sH(i,e.path.toString())}function kv(i,t){return null===fi((i=(0,Q.m9)(i))._path)?f9("child","path",t,!1):wC("child","path",t,!1),new Al(i._repo,Pr(i._path,t))}function ZN(i,t){i=(0,Q.m9)(i),Tl("set",i._path),rh("set",t,i._path,!1);const e=new Q.BH;return HN(i._repo,i._path,t,null,e.wrapCallback(()=>{})),e.promise}function B9(i,t){Hz("update",t,i._path,!1);const e=new Q.BH;return function x9(i,t,e,n){R0(i,"update",{path:t.toString(),value:e});let r=!0;const s=EC(i),l={};if(vo(e,(u,f)=>{r=!1,l[u]=Uz(Pr(t,u),$r(f),i.serverSyncTree_,s)}),r)_o("update() called with empty data.  Don't do anything."),Up(0,n,"ok",void 0);else{const u=jD(i),f=function Y7(i,t,e,n){!function d7(i,t,e,n){(0,Q.hu)(n>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:e,writeId:n,visible:!0}),i.visibleWrites=vN(i.visibleWrites,t,e),i.lastWriteId=n}(i.pendingWriteTree_,t,e,n);const r=mr.fromObject(e);return k0(i,new D0({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(i.serverSyncTree_,t,l,u);WD(i.eventQueue_,f),i.server_.merge(t.toString(),e,(p,b)=>{const y="ok"===p;y||Qo("update at "+t+" failed: "+p);const w=Fp(i.serverSyncTree_,u,!y),S=w.length>0?P0(i,t):t;Vc(i.eventQueue_,S,w),Up(0,n,p,b)}),vo(e,p=>{const b=jN(i,Pr(t,p));P0(i,b)}),Vc(i.eventQueue_,t,[])}}(i._repo,i._path,t,e.wrapCallback(()=>{})),e.promise}function V9(i){i=(0,Q.m9)(i);const t=new qN(()=>{}),e=new CC(t);return function y9(i,t,e){const n=function Q7(i,t){const e=t._path;let n=null;i.syncPointTree_.foreachOnPath(e,(p,b)=>{const y=ga(p,e);n=n||Np(b,y)});let r=i.syncPointTree_.get(e);r?n=n||Np(r,Pi()):(r=new Tz,i.syncPointTree_=i.syncPointTree_.set(e,r));const s=null!=n,l=s?new Pp(n,!0,!1):null;return function N7(i){return ID(i.viewCache_)}(Az(r,t,kD(i.pendingWriteTree_,t._path),s?l.getNode():Jn.EMPTY_NODE,s))}(i.serverSyncTree_,t);return null!=n?Promise.resolve(n):i.server_.get(t).then(r=>{const s=$r(r).withIndex(t._queryParams.getIndex());let l;if(AN(i.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())l=pC(i.serverSyncTree_,t._path,s);else{const u=gC(i.serverSyncTree_,t);l=Pz(i.serverSyncTree_,t._path,s,u)}return Vc(i.eventQueue_,t._path,l),UD(i.serverSyncTree_,t,e,null,!0),s},r=>(R0(i,"get for query "+(0,Q.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(i._repo,i,e).then(n=>new Iv(n,new Al(i._repo,i._path),i._queryParams.getIndex()))}class CC{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const n=e._queryParams.getIndex();return new nH("value",this,new Iv(t.snapshotNode,new Al(e._repo,e._path),n))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new iH(this,t,e):null}matches(t){return t instanceof CC&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class XD{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new iH(this,t,e):null}createEvent(t,e){(0,Q.hu)(null!=t.childName,"Child events should have a childName.");const n=kv(new Al(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new nH(t.type,this,new Iv(t.snapshotNode,n,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof XD&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function SC(i,t,e,n,r){let s;if("object"==typeof n&&(s=void 0,r=n),"function"==typeof n&&(s=n),r&&r.onlyOnce){const f=e,p=(b,y)=>{GN(i._repo,i,u),f(b,y)};p.userCallback=e.userCallback,p.context=e.context,e=p}const l=new qN(e,s||void 0),u="value"===t?new CC(l):new XD(t,l);return function M9(i,t,e){let n;n=".info"===fi(t._path)?AN(i.infoSyncTree_,t,e):AN(i.serverSyncTree_,t,e),Wz(i.eventQueue_,t._path,n)}(i._repo,i,u),()=>GN(i._repo,i,u)}function XN(i,t,e,n){return SC(i,"value",t,e,n)}function aH(i,t,e,n){return SC(i,"child_added",t,e,n)}function cH(i,t,e,n){return SC(i,"child_changed",t,e,n)}function lH(i,t,e,n){return SC(i,"child_moved",t,e,n)}function dH(i,t,e,n){return SC(i,"child_removed",t,e,n)}function uH(i,t,e){let n=null;const r=e?new qN(e):null;"value"===t?n=new CC(r):t&&(n=new XD(t,r)),GN(i._repo,i,n)}class Gd{}class hH extends Gd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){rh("endAt",this._value,t._path,!0);const e=uN(t._queryParams,this._value,this._key);if(ZD(e),Bp(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Xa(t._repo,t._path,e,t._orderByCalled)}}class H9 extends Gd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){rh("endBefore",this._value,t._path,!1);const e=function KZ(i,t,e){let n;return n=uN(i,t,i.index_===nh||e?e:Ip),n.endBeforeSet_=!0,n}(t._queryParams,this._value,this._key);if(ZD(e),Bp(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Xa(t._repo,t._path,e,t._orderByCalled)}}class fH extends Gd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){rh("startAt",this._value,t._path,!0);const e=dN(t._queryParams,this._value,this._key);if(ZD(e),Bp(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Xa(t._repo,t._path,e,t._orderByCalled)}}class j9 extends Gd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){rh("startAfter",this._value,t._path,!1);const e=function XZ(i,t,e){let n;return n=dN(i,t,i.index_===nh||e?e:Lf),n.startAfterSet_=!0,n}(t._queryParams,this._value,this._key);if(ZD(e),Bp(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Xa(t._repo,t._path,e,t._orderByCalled)}}class Y9 extends Gd{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Xa(t._repo,t._path,function qZ(i,t){const e=i.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Z9 extends Gd{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Xa(t._repo,t._path,function ZZ(i,t){const e=i.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class K9 extends Gd{constructor(t){super(),this._path=t}_apply(t){qD(t,"orderByChild");const e=new Zi(this._path);if(mi(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new aN(e),r=SD(t._queryParams,n);return Bp(r),new Xa(t._repo,t._path,r,!0)}}class J9 extends Gd{_apply(t){qD(t,"orderByKey");const e=SD(t._queryParams,nh);return Bp(e),new Xa(t._repo,t._path,e,!0)}}class tX extends Gd{_apply(t){qD(t,"orderByPriority");const e=SD(t._queryParams,fr);return Bp(e),new Xa(t._repo,t._path,e,!0)}}class iX extends Gd{_apply(t){qD(t,"orderByValue");const e=SD(t._queryParams,cN);return Bp(e),new Xa(t._repo,t._path,e,!0)}}class sX extends Gd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(rh("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new hH(this._value,this._key)._apply(new fH(this._value,this._key)._apply(t))}}function Wd(i,...t){let e=(0,Q.m9)(i);for(const n of t)e=n._apply(e);return e}(function B7(i){(0,Q.hu)(!ND,"__referenceConstructor has already been defined"),ND=i})(Al),function W7(i){(0,Q.hu)(!FD,"__referenceConstructor has already been defined"),FD=i}(Al);const KN={};function pH(i,t,e,n,r){let s=n||i.options.databaseURL;void 0===s&&(i.options.projectId||th("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_o("Using default host for project ",i.options.projectId),s=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f,p,l=YN(s,r),u=l.repoInfo;typeof process<"u"&&process.env&&(p=process.env.FIREBASE_DATABASE_EMULATOR_HOST),p?(f=!0,s=`http://${p}?ns=${u.namespace}`,l=YN(s,r),u=l.repoInfo):f=!l.repoInfo.secure;const b=r&&f?new iC(iC.OWNER):new eZ(i.name,i.options,t);Gz("Invalid Firebase Database URL",l),mi(l.path)||th("Database URL must point to the root of a Firebase Database (not including a child path).");const y=function dX(i,t,e,n){let r=KN[t.name];r||(r={},KN[t.name]=r);let s=r[i.toURLString()];return s&&th("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new _9(i,false,e,n),r[i.toURLString()]=s,s}(u,i,b,new Jq(i.name,e));return new hX(y,i)}class hX{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function v9(i,t,e){if(i.stats_=QO(i.repoInfo_),i.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)i.server_=new MD(i.repoInfo_,(n,r,s,l)=>{qz(i,n,r,s,l)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>Zz(i,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Q.Wl)(e)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}i.persistentConnection_=new Sv(i.repoInfo_,t,(n,r,s,l)=>{qz(i,n,r,s,l)},n=>{Zz(i,n)},n=>{!function b9(i,t){vo(t,(e,n)=>{zN(i,e,n)})}(i,n)},i.authTokenProvider_,i.appCheckProvider_,e),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(n=>{i.server_.refreshAuthToken(n)}),i.appCheckProvider_.addTokenChangeListener(n=>{i.server_.refreshAppCheckToken(n.token)}),i.statsReporter_=function iZ(i,t){const e=i.toString();return KO[e]||(KO[e]=t()),KO[e]}(i.repoInfo_,()=>new i7(i.stats_,i.server_)),i.infoData_=new QZ,i.infoSyncTree_=new Rz({startListening:(n,r,s,l)=>{let u=[];const f=i.infoData_.getNode(n._path);return f.isEmpty()||(u=pC(i.infoSyncTree_,n._path,f),setTimeout(()=>{l("ok")},0)),u},stopListening:()=>{}}),zN(i,"connected",!1),i.serverSyncTree_=new Rz({startListening:(n,r,s,l)=>(i.server_.listen(n,s,r,(u,f)=>{const p=l(u,f);Vc(i.eventQueue_,n._path,p)}),[]),stopListening:(n,r)=>{i.server_.unlisten(n,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Al(this._repo,Pi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function lX(i,t){const e=KN[t];(!e||e[i.key]!==i)&&th(`Database ${t}(${i.repoInfo_}) has already been deleted.`),Kz(i),delete e[i.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&th("Cannot call "+t+" on a deleted database.")}}function gH(){UV.IS_TRANSPORT_INITIALIZED&&Qo("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function fX(){gH(),kp.forceDisallow()}function mX(){gH(),C0.forceDisallow(),kp.forceAllow()}function _X(i,t){vV(i,t)}const bX={".sv":"timestamp"};class wX{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Sv.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)},Sv.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)},function vX(i){fV(yv.SDK_VERSION),(0,yv._registerComponent)(new bv.wA("database",(t,{instanceIdentifier:e})=>pH(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,yv.registerVersion)(uV,"0.14.4",i),(0,yv.registerVersion)(uV,"0.14.4","esm2017")}();const MX=new pD.Yd("@firebase/database-compat"),vH=function(i){MX.warn("FIREBASE WARNING: "+i)};class DX{constructor(t){this._delegate=t}cancel(t){(0,Q.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Q.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),n=>t(n)),e}remove(t){(0,Q.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Q.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),n=>t(n)),e}set(t,e){(0,Q.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Q.Wj)("OnDisconnect.set","onComplete",e,!0);const n=this._delegate.set(t);return e&&n.then(()=>e(null),r=>e(r)),n}setWithPriority(t,e,n){(0,Q.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Q.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(t,e);return n&&r.then(()=>n(null),s=>n(s)),r}update(t,e){if((0,Q.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,vH("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Q.Wj)("OnDisconnect.update","onComplete",e,!0);const n=this._delegate.update(t);return e&&n.then(()=>e(null),r=>e(r)),n}}class IX{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,Q.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Vp{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,Q.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Q.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Q.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Q.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,Q.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),wC("DataSnapshot.child","path",t,!1),new Vp(this._database,this._delegate.child(t))}hasChild(t){return(0,Q.Dv)("DataSnapshot.hasChild",1,1,arguments.length),wC("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,Q.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,Q.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Q.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Vp(this._database,e)))}hasChildren(){return(0,Q.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Q.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Q.Dv)("DataSnapshot.ref",0,0,arguments.length),new zc(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ko{constructor(t,e){this.database=t,this._delegate=e}on(t,e,n,r){var s;(0,Q.Dv)("Query.on",2,4,arguments.length),(0,Q.Wj)("Query.on","callback",e,!1);const l=ko.getCancelAndContextArgs_("Query.on",n,r),u=(p,b)=>{e.call(l.context,new Vp(this.database,p),b)};u.userCallback=e,u.context=l.context;const f=null===(s=l.cancel)||void 0===s?void 0:s.bind(l.context);switch(t){case"value":return XN(this._delegate,u,f),e;case"child_added":return aH(this._delegate,u,f),e;case"child_removed":return dH(this._delegate,u,f),e;case"child_changed":return cH(this._delegate,u,f),e;case"child_moved":return lH(this._delegate,u,f),e;default:throw new Error((0,Q.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,n){if((0,Q.Dv)("Query.off",0,3,arguments.length),function(i,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Q.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,Q.Wj)("Query.off","callback",e,!0),(0,Q.lb)("Query.off","context",n,!0),e){const r=()=>{};r.userCallback=e,r.context=n,uH(this._delegate,t,r)}else uH(this._delegate,t)}get(){return V9(this._delegate).then(t=>new Vp(this.database,t))}once(t,e,n,r){(0,Q.Dv)("Query.once",1,4,arguments.length),(0,Q.Wj)("Query.once","callback",e,!0);const s=ko.getCancelAndContextArgs_("Query.once",n,r),l=new Q.BH,u=(p,b)=>{const y=new Vp(this.database,p);e&&e.call(s.context,y,b),l.resolve(y)};u.userCallback=e,u.context=s.context;const f=p=>{s.cancel&&s.cancel.call(s.context,p),l.reject(p)};switch(t){case"value":XN(this._delegate,u,f,{onlyOnce:!0});break;case"child_added":aH(this._delegate,u,f,{onlyOnce:!0});break;case"child_removed":dH(this._delegate,u,f,{onlyOnce:!0});break;case"child_changed":cH(this._delegate,u,f,{onlyOnce:!0});break;case"child_moved":lH(this._delegate,u,f,{onlyOnce:!0});break;default:throw new Error((0,Q.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(t){return(0,Q.Dv)("Query.limitToFirst",1,1,arguments.length),new ko(this.database,Wd(this._delegate,function q9(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Y9(i)}(t)))}limitToLast(t){return(0,Q.Dv)("Query.limitToLast",1,1,arguments.length),new ko(this.database,Wd(this._delegate,function X9(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Z9(i)}(t)))}orderByChild(t){return(0,Q.Dv)("Query.orderByChild",1,1,arguments.length),new ko(this.database,Wd(this._delegate,function Q9(i){if("$key"===i)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===i)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===i)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return wC("orderByChild","path",i,!1),new K9(i)}(t)))}orderByKey(){return(0,Q.Dv)("Query.orderByKey",0,0,arguments.length),new ko(this.database,Wd(this._delegate,function eX(){return new J9}()))}orderByPriority(){return(0,Q.Dv)("Query.orderByPriority",0,0,arguments.length),new ko(this.database,Wd(this._delegate,function nX(){return new tX}()))}orderByValue(){return(0,Q.Dv)("Query.orderByValue",0,0,arguments.length),new ko(this.database,Wd(this._delegate,function rX(){return new iX}()))}startAt(t=null,e){return(0,Q.Dv)("Query.startAt",0,2,arguments.length),new ko(this.database,Wd(this._delegate,function W9(i=null,t){return xC("startAt","key",t,!0),new fH(i,t)}(t,e)))}startAfter(t=null,e){return(0,Q.Dv)("Query.startAfter",0,2,arguments.length),new ko(this.database,Wd(this._delegate,function $9(i,t){return xC("startAfter","key",t,!0),new j9(i,t)}(t,e)))}endAt(t=null,e){return(0,Q.Dv)("Query.endAt",0,2,arguments.length),new ko(this.database,Wd(this._delegate,function z9(i,t){return xC("endAt","key",t,!0),new hH(i,t)}(t,e)))}endBefore(t=null,e){return(0,Q.Dv)("Query.endBefore",0,2,arguments.length),new ko(this.database,Wd(this._delegate,function G9(i,t){return xC("endBefore","key",t,!0),new H9(i,t)}(t,e)))}equalTo(t,e){return(0,Q.Dv)("Query.equalTo",1,2,arguments.length),new ko(this.database,Wd(this._delegate,function oX(i,t){return xC("equalTo","key",t,!0),new sX(i,t)}(t,e)))}toString(){return(0,Q.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Q.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,Q.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof ko))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,n){const r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,(0,Q.Wj)(t,"cancel",r.cancel,!0),r.context=n,(0,Q.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,Q.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new zc(this.database,new Al(this._delegate._repo,this._delegate._path))}}class zc extends ko{constructor(t,e){super(t,new Xa(e._repo,e._path,new CD,!1)),this.database=t,this._delegate=e}getKey(){return(0,Q.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,Q.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new zc(this.database,kv(this._delegate,t))}getParent(){(0,Q.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new zc(this.database,t):null}getRoot(){return(0,Q.Dv)("Reference.root",0,0,arguments.length),new zc(this.database,this._delegate.root)}set(t,e){(0,Q.Dv)("Reference.set",1,2,arguments.length),(0,Q.Wj)("Reference.set","onComplete",e,!0);const n=ZN(this._delegate,t);return e&&n.then(()=>e(null),r=>e(r)),n}update(t,e){if((0,Q.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,vH("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Tl("Reference.update",this._delegate._path),(0,Q.Wj)("Reference.update","onComplete",e,!0);const n=B9(this._delegate,t);return e&&n.then(()=>e(null),r=>e(r)),n}setWithPriority(t,e,n){(0,Q.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Q.Wj)("Reference.setWithPriority","onComplete",n,!0);const r=function U9(i,t,e){if(Tl("setWithPriority",i._path),rh("setWithPriority",t,i._path,!1),VN("setWithPriority",e,!1),".length"===i.key||".keys"===i.key)throw"setWithPriority failed: "+i.key+" is a read-only object.";const n=new Q.BH;return HN(i._repo,i._path,t,e,n.wrapCallback(()=>{})),n.promise}(this._delegate,t,e);return n&&r.then(()=>n(null),s=>n(s)),r}remove(t){(0,Q.Dv)("Reference.remove",0,1,arguments.length),(0,Q.Wj)("Reference.remove","onComplete",t,!0);const e=function L9(i){return Tl("remove",i._path),ZN(i,null)}(this._delegate);return t&&e.then(()=>t(null),n=>t(n)),e}transaction(t,e,n){(0,Q.Dv)("Reference.transaction",1,3,arguments.length),(0,Q.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,Q.Wj)("Reference.transaction","onComplete",e,!0),function(i,t,e,n){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,Q.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,n);const r=function EX(i,t,e){var n;if(i=(0,Q.m9)(i),Tl("Reference.transaction",i._path),".length"===i.key||".keys"===i.key)throw"Reference.transaction failed: "+i.key+" is a read-only object.";const r=null===(n=e?.applyLocally)||void 0===n||n,s=new Q.BH,u=XN(i,()=>{});return function A9(i,t,e,n,r,s){R0(i,"transaction on "+t);const l={path:t,update:e,onComplete:n,status:null,order:pV(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=WN(i,t,void 0);l.currentInputSnapshot=u;const f=l.update(u.val());if(void 0===f)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{yC("transaction failed: Data returned ",f,l.path),l.status=0;const p=zD(i.transactionQueueTree_,t),b=Dv(p)||[];let y;b.push(l),FN(p,b),"object"==typeof f&&null!==f&&(0,Q.r3)(f,".priority")?(y=(0,Q.DV)(f,".priority"),(0,Q.hu)(bC(y),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):y=(BD(i.serverSyncTree_,t)||Jn.EMPTY_NODE).getPriority().val();const w=EC(i),S=$r(f,y),A=ON(S,u,w);l.currentOutputSnapshotRaw=S,l.currentOutputSnapshotResolved=A,l.currentWriteId=jD(i);const P=TN(i.serverSyncTree_,t,A,l.currentWriteId,l.applyLocally);Vc(i.eventQueue_,t,P),$D(i,i.transactionQueueTree_)}}(i._repo,i._path,t,(f,p,b)=>{let y=null;f?s.reject(f):(y=new Iv(b,new Al(i._repo,i._path),fr),s.resolve(new wX(p,y)))},u,r),s.promise}(this._delegate,t,{applyLocally:n}).then(s=>new IX(s.committed,new Vp(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,Q.Dv)("Reference.setPriority",1,2,arguments.length),(0,Q.Wj)("Reference.setPriority","onComplete",e,!0);const n=function F9(i,t){i=(0,Q.m9)(i),Tl("setPriority",i._path),VN("setPriority",t,!1);const e=new Q.BH;return HN(i._repo,Pr(i._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&n.then(()=>e(null),r=>e(r)),n}push(t,e){(0,Q.Dv)("Reference.push",0,2,arguments.length),(0,Q.Wj)("Reference.push","onComplete",e,!0);const n=function N9(i,t){i=(0,Q.m9)(i),Tl("push",i._path),rh("push",t,i._path,!0);const e=Yz(i._repo),n=O9(e),r=kv(i,n),s=kv(i,n);let l;return l=null!=t?ZN(s,t).then(()=>s):Promise.resolve(s),r.then=l.then.bind(l),r.catch=l.then.bind(l,void 0),r}(this._delegate,t),r=n.then(l=>new zc(this.database,l));e&&r.then(()=>e(null),l=>e(l));const s=new zc(this.database,n);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Tl("Reference.onDisconnect",this._delegate._path),new DX(new rH(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class MC{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:fX,forceLongPolling:mX}}useEmulator(t,e,n={}){!function _H(i,t,e,n={}){(i=(0,Q.m9)(i))._checkNotDeleted("useEmulator"),i._instanceStarted&&th("Cannot call useEmulator() after instance has already been initialized.");const r=i._repoInternal;let s;if(r.repoInfo_.nodeAdmin)n.mockUserToken&&th('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new iC(iC.OWNER);else if(n.mockUserToken){const l="string"==typeof n.mockUserToken?n.mockUserToken:(0,Q.Sg)(n.mockUserToken,i.app.options.projectId);s=new iC(l)}!function cX(i,t,e,n){i.repoInfo_=new ZO(`${t}:${e}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),n&&(i.authTokenProvider_=n)}(r,t,e,s)}(this._delegate,t,e,n)}ref(t){if((0,Q.Dv)("database.ref",0,1,arguments.length),t instanceof zc){const e=oH(this._delegate,t.toString());return new zc(this,e)}{const e=sH(this._delegate,t);return new zc(this,e)}}refFromURL(t){(0,Q.Dv)("database.refFromURL",1,1,arguments.length);const n=oH(this._delegate,t);return new zc(this,n)}goOffline(){return(0,Q.Dv)("database.goOffline",0,0,arguments.length),function pX(i){(i=(0,Q.m9)(i))._checkNotDeleted("goOffline"),Kz(i._repo)}(this._delegate)}goOnline(){return(0,Q.Dv)("database.goOnline",0,0,arguments.length),function gX(i){(i=(0,Q.m9)(i))._checkNotDeleted("goOnline"),function T9(i){i.persistentConnection_&&i.persistentConnection_.resume($z)}(i._repo)}(this._delegate)}}MC.ServerValue={TIMESTAMP:function yX(){return bX}(),increment:i=>function xX(i){return{".sv":{increment:i}}}(i)};var RX=Object.freeze({__proto__:null,initStandalone:function kX({app:i,url:t,version:e,customAuthImpl:n,namespace:r,nodeAdmin:s=!1}){fV(e);const l=new bv.zt("auth-internal",new bv.H0("database-standalone"));return l.setComponent(new bv.wA("auth-internal",()=>n,"PRIVATE")),{instance:new MC(pH(i,l,void 0,t,s),i),namespace:r}}});const PX=MC.ServerValue;!function OX(i){i.INTERNAL.registerComponent(new bv.wA("database-compat",(t,{instanceIdentifier:e})=>{const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new MC(r,n)},"PUBLIC").setServiceProps({Reference:zc,Query:ko,Database:MC,DataSnapshot:Vp,enableLogging:_X,INTERNAL:RX,ServerValue:PX}).setMultipleInstances(!0)),i.registerVersion("@firebase/database-compat","0.3.4")}(Vq.Z);var KD=W(3093),NX=W(4552);class LX extends sn.x{constructor(t=1/0,e=1/0,n=NX.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:l}=this;e||(n.push(t),!r&&n.push(s.now()+l)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:r}=this,s=r.slice();for(let l=0;l<s.length&&!t.closed;l+=n?1:2)t.next(s[l]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:n,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<n.length&&n.splice(0,n.length-s),!r){const l=e.now();let u=0;for(let f=1;f<n.length&&n[f]<=l;f+=2)u=f;u&&n.splice(0,u+1)}}}function QN(i,t,e){let n,r=!1;return i&&"object"==typeof i?({bufferSize:n=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=i):n=i??1/0,(0,GO.B)({connector:()=>new LX(n,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function bH(i,t){return(0,Cc.m)(t)?(0,Ni.w)(()=>i,t):(0,Ni.w)(()=>i)}var JN=W(5137);W(3182);const tL=new Map,xH={activated:!1,tokenObservers:[]},zX={initialized:!1,enabled:!1};function ls(i){return tL.get(i)||Object.assign({},xH)}function JD(){return zX}const nL="https://content-firebaseappcheck.googleapis.com/v1",jX="exchangeDebugToken",wH={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class YX{constructor(t,e,n,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Dd.Z)(function*(){e.stop();try{e.pending=new Q.BH,yield function qX(i){return new Promise(t=>{setTimeout(t,i)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Q.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(n){e.retryPolicy(n)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ro=new Q.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function iL(i){if(!ls(i).activated)throw Ro.create("use-before-activation",{appName:i.name})}function nI(i,t){return sL.apply(this,arguments)}function sL(){return(sL=(0,Dd.Z)(function*({url:i,body:t},e){const n={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const y=yield r.getHeartbeatsHeader();y&&(n["X-Firebase-Client"]=y)}const s={method:"POST",body:JSON.stringify(t),headers:n};let l,u;try{l=yield fetch(i,s)}catch(y){throw Ro.create("fetch-network-error",{originalErrorMessage:y?.message})}if(200!==l.status)throw Ro.create("fetch-status-error",{httpStatus:l.status});try{u=yield l.json()}catch(y){throw Ro.create("fetch-parse-error",{originalErrorMessage:y?.message})}const f=u.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw Ro.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const p=1e3*Number(f[1]),b=Date.now();return{token:u.token,expireTimeMillis:b+p,issuedAtTimeMillis:b}})).apply(this,arguments)}function EH(i,t){const{projectId:e,appId:n,apiKey:r}=i.options;return{url:`${nL}/projects/${e}/apps/${n}:${jX}?key=${r}`,body:{debug_token:t}}}const QX="firebase-app-check-database",JX=1,TC="firebase-app-check-store";let iI=null;function oL(){return(oL=(0,Dd.Z)(function*(i,t){const n=(yield function SH(){return iI||(iI=new Promise((i,t)=>{try{const e=indexedDB.open(QX,JX);e.onsuccess=n=>{i(n.target.result)},e.onerror=n=>{var r;t(Ro.create("storage-open",{originalErrorMessage:null===(r=n.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=n=>{0===n.oldVersion&&n.target.result.createObjectStore(TC,{keyPath:"compositeKey"})}}catch(e){t(Ro.create("storage-open",{originalErrorMessage:e?.message}))}}),iI)}()).transaction(TC,"readwrite"),s=n.objectStore(TC).put({compositeKey:i,value:t});return new Promise((l,u)=>{s.onsuccess=f=>{l()},n.onerror=f=>{var p;u(Ro.create("storage-set",{originalErrorMessage:null===(p=f.target.error)||void 0===p?void 0:p.message}))}})})).apply(this,arguments)}const AC=new pD.Yd("@firebase/app-check");function lL(i,t){return(0,Q.hl)()?function tK(i,t){return function MH(i,t){return oL.apply(this,arguments)}(function AH(i){return`${i.options.appId}-${i.name}`}(i),t)}(i,t).catch(e=>{AC.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function uL(){return JD().enabled}function hL(){return fL.apply(this,arguments)}function fL(){return(fL=(0,Dd.Z)(function*(){const i=JD();if(i.enabled&&i.token)return i.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const aK={error:"UNKNOWN_ERROR"};function cK(i){return Q.US.encodeString(JSON.stringify(i),!1)}function rI(i){return mL.apply(this,arguments)}function mL(){return(mL=(0,Dd.Z)(function*(i,t=!1){const e=i.app;iL(e);const n=ls(e);let s,r=n.token;if(r&&!O0(r)&&(n.token=void 0,r=void 0),!r){const f=yield n.cachedTokenPromise;f&&(O0(f)?r=f:yield lL(e,void 0))}if(!t&&r&&O0(r))return{token:r.token};let u,l=!1;if(uL()){n.exchangeTokenPromise||(n.exchangeTokenPromise=nI(EH(e,yield hL()),i.heartbeatServiceProvider).finally(()=>{n.exchangeTokenPromise=void 0}),l=!0);const f=yield n.exchangeTokenPromise;return yield lL(e,f),n.token=f,{token:f.token}}try{n.exchangeTokenPromise||(n.exchangeTokenPromise=n.provider.getToken().finally(()=>{n.exchangeTokenPromise=void 0}),l=!0),r=yield ls(e).exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?AC.warn(f.message):AC.error(f),s=f}return r?s?u=O0(r)?{token:r.token,internalError:s}:RH(s):(u={token:r.token},n.token=r,yield lL(e,r)):u=RH(s),l&&function kH(i,t){const e=ls(i).tokenObservers;for(const n of e)try{"EXTERNAL"===n.type&&null!=t.error?n.error(t.error):n.next(t)}catch{}}(e,u),u})).apply(this,arguments)}function DH(i){return pL.apply(this,arguments)}function pL(){return(pL=(0,Dd.Z)(function*(i){const t=i.app;iL(t);const{provider:e}=ls(t);if(uL()){const n=yield hL(),{token:r}=yield nI(EH(t,n),i.heartbeatServiceProvider);return{token:r}}{const{token:n}=yield e.getToken();return{token:n}}})).apply(this,arguments)}function _L(i,t){const e=ls(i),n=e.tokenObservers.filter(r=>r.next!==t);0===n.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=n}function IH(i){const{app:t}=i,e=ls(t);let n=e.tokenRefresher;n||(n=function lK(i){const{app:t}=i;return new YX((0,Dd.Z)(function*(){let n;if(n=ls(t).token?yield rI(i,!0):yield rI(i),n.error)throw n.error;if(n.internalError)throw n.internalError}),()=>!0,()=>{const e=ls(t);if(e.token){let n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return n=Math.min(n,e.token.expireTimeMillis-3e5),Math.max(0,n-Date.now())}return 0},wH.RETRIAL_MIN_WAIT,wH.RETRIAL_MAX_WAIT)}(i),e.tokenRefresher=n),!n.isRunning()&&e.isTokenAutoRefreshEnabled&&n.start()}function O0(i){return i.expireTimeMillis-Date.now()>0}function RH(i){return{token:cK(aK),error:i}}class dK{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=ls(this.app);for(const e of t)_L(this.app,e.next);return Promise.resolve()}}const VH="app-check-internal";!function CK(){(0,yv._registerComponent)(new bv.wA("app-check",i=>function uK(i,t){return new dK(i,t)}(i.getProvider("app").getImmediate(),i.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,t,e)=>{i.getProvider(VH).initialize()})),(0,yv._registerComponent)(new bv.wA(VH,i=>function hK(i){return{getToken:t=>rI(i,t),getLimitedUseToken:()=>DH(i),addTokenListener:t=>function gL(i,t,e,n){const{app:r}=i,s=ls(r);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:n,type:t}],s.token&&O0(s.token)){const u=s.token;Promise.resolve().then(()=>{e({token:u.token}),IH(i)}).catch(()=>{})}s.cachedTokenPromise.then(()=>IH(i))}(i,"INTERNAL",t),removeTokenListener:t=>_L(i.app,t)}}(i.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,yv.registerVersion)("@firebase/app-check","0.8.0")}();class xL{constructor(){return(0,Sl.vb)("app-check")}}typeof window<"u"&&window;var DK=W(7142);const HH=new a.OlP("angularfire2.auth.use-emulator"),GH=new a.OlP("angularfire2.auth.settings"),WH=new a.OlP("angularfire2.auth.tenant-id"),jH=new a.OlP("angularfire2.auth.langugage-code"),$H=new a.OlP("angularfire2.auth.use-device-language"),YH=new a.OlP("angularfire.auth.persistence"),qH=(i,t,e,n,r,s,l,u)=>(0,Vd.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const f=t.runOutsideAngular(()=>i.auth());if(e&&f.useEmulator(...e),n&&(f.tenantId=n),f.languageCode=r,s&&f.useDeviceLanguage(),l)for(const[p,b]of Object.entries(l))f.settings[p]=b;return u&&f.setPersistence(u),f},[e,n,r,s,l,u]);let ZH=(()=>{class i{constructor(e,n,r,s,l,u,f,p,b,y,w,S){const A=new sn.x,P=(0,Xt.of)(void 0).pipe((0,KD.Q)(l.outsideAngular),(0,Ni.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(W.bind(W,5967)))),(0,gn.U)(()=>(0,Vd.on)(e,s,n)),(0,gn.U)(I=>qH(I,s,u,p,b,y,f,w)),QN({bufferSize:1,refCount:!1}));if(Aa(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Xt.of)(null);else{P.pipe(Tu()).subscribe();const k=P.pipe((0,Ni.w)(B=>B.getRedirectResult().then(j=>j,()=>null)),Sl.iC,QN({bufferSize:1,refCount:!1})),U=P.pipe((0,Ni.w)(B=>new Gs.y(j=>({unsubscribe:s.runOutsideAngular(()=>B.onAuthStateChanged(q=>j.next(q),q=>j.error(q),()=>j.complete()))})))),O=P.pipe((0,Ni.w)(B=>new Gs.y(j=>({unsubscribe:s.runOutsideAngular(()=>B.onIdTokenChanged(q=>j.next(q),q=>j.error(q),()=>j.complete()))}))));this.authState=k.pipe(bH(U),(0,JN.R)(l.outsideAngular),(0,KD.Q)(l.insideAngular)),this.user=k.pipe(bH(O),(0,JN.R)(l.outsideAngular),(0,KD.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,Ni.w)(B=>B?(0,ts.D)(B.getIdToken()):(0,Xt.of)(null))),this.idTokenResult=this.user.pipe((0,Ni.w)(B=>B?(0,ts.D)(B.getIdTokenResult()):(0,Xt.of)(null))),this.credential=(0,Ko.T)(k,A,this.authState.pipe(rr(B=>!B))).pipe((0,gn.U)(B=>B?.user?B:null),(0,JN.R)(l.outsideAngular),(0,KD.Q)(l.insideAngular))}return(0,Vd.pX)(this,P,s,{spy:{apply:(I,k,U)=>{(I.startsWith("signIn")||I.startsWith("createUser"))&&U.then(O=>A.next(O))}}})}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Vd.Dh),a.LFG(Vd.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Sl.HU),a.LFG(HH,8),a.LFG(GH,8),a.LFG(WH,8),a.LFG(jH,8),a.LFG($H,8),a.LFG(YH,8),a.LFG(xL,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function XH(i){return null==i}function KH(i){return"function"==typeof i.set}function QH(i,t){return KH(t)?t:i.ref(t)}function JH(i,t){if(function kK(i){return"string"==typeof i}(i))return t.stringCase();if(KH(i))return t.firebaseCase();if(function RK(i){return"function"==typeof i.exportVal}(i))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof i)}function DC(i,t,e="on",n=_f.z){return new Gs.y(r=>{let s=null;return s=i[e](t,(l,u)=>{n.schedule(()=>{r.next({snapshot:l,prevKey:u})}),"once"===e&&n.schedule(()=>r.complete())},l=>{n.schedule(()=>r.error(l))}),"on"===e?{unsubscribe(){null!=s&&i.off(t,s)}}:{unsubscribe(){}}}).pipe((0,gn.U)(r=>{const{snapshot:s,prevKey:l}=r;let u=null;return s.exists()&&(u=s.key),{type:t,payload:s,prevKey:l,key:u}}),(0,GO.B)())}function e4(i,t){const e=i.length;for(let n=0;n<e;n++)if(i[n].payload.key===t)return n;return-1}function NK(i,t){const{payload:e,prevKey:n,key:r}=t,s=e4(i,r),l=function OK(i,t){if(XH(t))return 0;{const e=e4(i,t);return-1===e?i.length:e+1}}(i,n);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let u=null;t.payload.forEach(f=>{const p={payload:f,type:"value",prevKey:u,key:f.key};return u=f.key,i=[...i,p],!1})}return i;case"child_added":if(s>-1){const u=i[s-1];(u&&u.key||null)!==n&&(i=i.filter(f=>f.payload.key!==e.key)).splice(l,0,t)}else{if(null==n)return[t,...i];(i=i.slice()).splice(l,0,t)}return i;case"child_removed":return i.filter(u=>u.payload.key!==e.key);case"child_changed":return i.map(u=>u.payload.key===r?t:u);case"child_moved":if(s>-1){const u=i.splice(s,1)[0];return(i=i.slice()).splice(l,0,u),i}return i;default:return i}}function t4(i){return(XH(i)||0===i.length)&&(i=["child_added","child_removed","child_changed","child_moved"]),i}function n4(i,t,e){return function PK(i,t,e){return DC(i,"value","once",e).pipe((0,Ni.w)(n=>{const r=[(0,Xt.of)(n)];return t.forEach(s=>r.push(DC(i,s,"on",e))),(0,Ko.T)(...r).pipe(ox(NK,[]))}),(0,uy.x)())}(i,t=t4(t),e)}function r4(i,t,e){const n=(t=t4(t)).map(r=>DC(i,r,"on",e));return(0,Ko.T)(...n)}function s4(i,t){return function(n,r){return JH(n,{stringCase:()=>i.child(n)[t](r),firebaseCase:()=>n[t](r),snapshotCase:()=>n.ref[t](r)})}}function BK(i){return function(e){return e?JH(e,{stringCase:()=>i.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):i.remove()}}function o4(i,t){return function(){return DC(i,"value","on",t)}}const HK=new a.OlP("angularfire2.realtimeDatabaseURL"),GK=new a.OlP("angularfire2.database.use-emulator");let a4=(()=>{class i{constructor(e,n,r,s,l,u,f,p,b,y,w,S,A,P,I){this.schedulers=u;const k=f,U=(0,Vd.on)(e,l,n);p&&qH(U,l,b,w,S,A,y,P),this.database=(0,Vd.cc)(`${U.name}.database.${r}`,"AngularFireDatabase",U.name,()=>{const O=l.runOutsideAngular(()=>U.database(r||void 0));return k&&O.useEmulator(...k),O},[k])}list(e,n){const r=this.schedulers.ngZone.runOutsideAngular(()=>QH(this.database,e));let s=r;return n&&(s=n(r)),function VK(i,t){const e=t.schedulers.outsideAngular,n=t.schedulers.ngZone.run(()=>i.ref);return{query:i,update:s4(n,"update"),set:s4(n,"set"),push:r=>n.push(r),remove:BK(n),snapshotChanges:r=>n4(i,r,e).pipe(Sl.iC),stateChanges:r=>r4(i,r,e).pipe(Sl.iC),auditTrail:r=>function LK(i,t,e){return function UK(i,t,e){return function FK(i,t){return DC(i,"value","on",t).pipe((0,gn.U)(e=>{let n;return e.payload.forEach(r=>(n=r.key,!1)),{data:e,lastKeyToLoad:n}}))}(i,e).pipe(function Uq(...i){const t=(0,Fm.jO)(i);return(0,is.e)((e,n)=>{const r=i.length,s=new Array(r);let l=i.map(()=>!1),u=!1;for(let f=0;f<r;f++)(0,Jh.Xf)(i[f]).subscribe((0,ns.x)(n,p=>{s[f]=p,!u&&!l[f]&&(l[f]=!0,(u=l.every(Xh.y))&&(l=null))},ax.Z));e.subscribe((0,ns.x)(n,f=>{if(u){const p=[f,...s];n.next(t?t(...p):p)}}))})}(t),(0,gn.U)(([r,s])=>{const l=r.lastKeyToLoad,u=s.map(f=>f.key);return{actions:s,lastKeyToLoad:l,loadedKeys:u}}),function Bq(i){return(0,is.e)((t,e)=>{let n=!1,r=0;t.subscribe((0,ns.x)(e,s=>(n||(n=!i(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,gn.U)(r=>r.actions))}(i,r4(i,t).pipe(ox((r,s)=>[...r,s],[])),e)}(i,r,e).pipe(Sl.iC),valueChanges:(r,s)=>n4(i,r,e).pipe((0,gn.U)(u=>u.map(f=>s&&s.idField?Object.assign(Object.assign({},f.payload.val()),{[s.idField]:f.key}):f.payload.val())),Sl.iC)}}(s,this)}object(e){return function zK(i,t){return{query:i,snapshotChanges:()=>o4(i,t.schedulers.outsideAngular)().pipe(Sl.iC),update:e=>i.ref.update(e),set:e=>i.ref.set(e),remove:()=>i.ref.remove(),valueChanges:()=>o4(i,t.schedulers.outsideAngular)().pipe(Sl.iC,(0,gn.U)(n=>n.payload.exists()?n.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>QH(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Vd.Dh),a.LFG(Vd.xv,8),a.LFG(HK,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Sl.HU),a.LFG(GK,8),a.LFG(ZH,8),a.LFG(HH,8),a.LFG(GH,8),a.LFG(WH,8),a.LFG(jH,8),a.LFG($H,8),a.LFG(YH,8),a.LFG(xL,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),WK=(()=>{class i{constructor(){DK.Z.registerVersion("angularfire",Sl.q4.full,"rtdb-compat")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[a4]}),i})(),Rv=(()=>{class i{constructor(e){this.db=e,this.dbPath="/user",this.rollPath="/role",this.usersRef=e.list(this.dbPath),this.roleRef=e.list(this.rollPath)}GetAll(){return this.usersRef}RegisterUser(e){return this.db.object(`/user/${e.id}`).set(e)}Updateuser(e,n){return this.usersRef.update(e,n)}delete(e){return this.usersRef.remove(e)}deleteAll(){return this.usersRef.remove()}GetAllRoll(){return this.roleRef}getUserName(){return sessionStorage.getItem("username")||""}proceedregister(e){return this.usersRef.push(e)}isloggedin(){return null!=sessionStorage.getItem("username")}getUserRole(){return null!=sessionStorage.getItem("role")?sessionStorage.getItem("role")?.toString():""}Getbycode(e){return this.db.list(this.dbPath,n=>n.orderByChild("id").equalTo(e))}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(a4))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const c4=["toast-component",""];function jK(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"button",5),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.remove())}),a.TgZ(1,"span",6),a._uU(2,"\xd7"),a.qZA()()}}function $K(i,t){if(1&i&&(a.ynx(0),a._uU(1),a.BQk()),2&i){const e=a.oxw(2);a.xp6(1),a.hij("[",e.duplicatesCount+1,"]")}}function YK(i,t){if(1&i&&(a.TgZ(0,"div"),a._uU(1),a.YNc(2,$K,2,1,"ng-container",4),a.qZA()),2&i){const e=a.oxw();a.Tol(e.options.titleClass),a.uIk("aria-label",e.title),a.xp6(1),a.hij(" ",e.title," "),a.xp6(1),a.Q6J("ngIf",e.duplicatesCount)}}function qK(i,t){if(1&i&&a._UZ(0,"div",7),2&i){const e=a.oxw();a.Tol(e.options.messageClass),a.Q6J("innerHTML",e.message,a.oJD)}}function ZK(i,t){if(1&i&&(a.TgZ(0,"div",8),a._uU(1),a.qZA()),2&i){const e=a.oxw();a.Tol(e.options.messageClass),a.uIk("aria-label",e.message),a.xp6(1),a.hij(" ",e.message," ")}}function XK(i,t){if(1&i&&(a.TgZ(0,"div"),a._UZ(1,"div",9),a.qZA()),2&i){const e=a.oxw();a.xp6(1),a.Udp("width",e.width+"%")}}class iQ{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class rQ{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}class sQ{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new sn.x;_activate=new sn.x;_manualClose=new sn.x;_resetTimeout=new sn.x;_countDuplicate=new sn.x;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class oI{toastId;config;message;title;toastType;toastRef;_onTap=new sn.x;_onAction=new sn.x;constructor(t,e,n,r,s,l){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=s,this.toastRef=l,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const d4=new a.OlP("ToastConfig");class oQ extends rQ{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let aQ=(()=>{class i{_document=(0,a.f3M)(ye);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(n){return new(n||i)};static \u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class cQ{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let lQ=(()=>{class i{_overlayContainer=(0,a.f3M)(aQ);_componentFactoryResolver=(0,a.f3M)(a._Vd);_appRef=(0,a.f3M)(a.z2F);_document=(0,a.f3M)(ye);_paneElements=new Map;create(e,n){return this._createOverlayRef(this.getPaneElement(e,n))}getPaneElement(e="",n){return this._paneElements.get(n)||this._paneElements.set(n,{}),this._paneElements.get(n)[e]||(this._paneElements.get(n)[e]=this._createPaneElement(e,n)),this._paneElements.get(n)[e]}_createPaneElement(e,n){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),n?n.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new oQ(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new cQ(this._createPortalHost(e))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),IC=(()=>{class i{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,n,r,s,l){this.overlay=n,this._injector=r,this.sanitizer=s,this.ngZone=l,this.toastrConfig={...e.default,...e.config},e.config.iconClasses&&(this.toastrConfig.iconClasses={...e.default.iconClasses,...e.config.iconClasses})}show(e,n,r={},s=""){return this._preBuildNotification(s,e,n,this.applyConfig(r))}success(e,n,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,n,this.applyConfig(r))}error(e,n,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,n,this.applyConfig(r))}info(e,n,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,n,this.applyConfig(r))}warning(e,n,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,n,this.applyConfig(r))}clear(e){for(const n of this.toasts)if(void 0!==e){if(n.toastId===e)return void n.toastRef.manualClose()}else n.toastRef.manualClose()}remove(e){const n=this._findToast(e);if(!n||(n.activeToast.toastRef.close(),this.toasts.splice(n.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",n="",r,s){const{includeTitleDuplicates:l}=this.toastrConfig;for(const u of this.toasts)if((!l||l&&u.title===e)&&u.message===n)return u.toastRef.onDuplicate(r,s),u;return null}applyConfig(e={}){return{...this.toastrConfig,...e}}_findToast(e){for(let n=0;n<this.toasts.length;n++)if(this.toasts[n].toastId===e)return{index:n,activeToast:this.toasts[n]};return null}_preBuildNotification(e,n,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,n,r,s)):this._buildNotification(e,n,r,s)}_buildNotification(e,n,r,s){if(!s.toastComponent)throw new Error("toastComponent required");const l=this.findDuplicate(r,n,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||n)&&this.toastrConfig.preventDuplicates&&null!==l)return l;this.previousToastMessage=n;let u=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(u=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const f=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let p=n;n&&s.enableHtml&&(p=this.sanitizer.sanitize(a.q3G.HTML,n));const b=new sQ(f),y=new oI(this.index,s,p,r,e,b),S=a.zs3.create({providers:[{provide:oI,useValue:y}],parent:this._injector}),A=new iQ(s.toastComponent,S),P=f.attach(A,s.newestOnTop);b.componentInstance=P.instance;const I={toastId:this.index,title:r||"",message:n||"",toastRef:b,onShown:b.afterActivate(),onHidden:b.afterClosed(),onTap:y.onTap(),onAction:y.onAction(),portal:P};return u||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{I.toastRef.activate()})),this.toasts.push(I),I}static \u0275fac=function(n){return new(n||i)(a.LFG(d4),a.LFG(lQ),a.LFG(a.zs3),a.LFG(io),a.LFG(a.R0b))};static \u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const dQ={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class i{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,n,r){this.toastrService=e,this.toastPackage=n,this.ngZone=r,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),n)):this.timeout=setTimeout(()=>e(),n)}outsideInterval(e,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),n)):this.intervalId=setInterval(()=>e(),n)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(n){return new(n||i)(a.Y36(IC),a.Y36(oI),a.Y36(a.R0b))};static \u0275cmp=a.Xpm({type:i,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(n,r){1&n&&a.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&n&&(a.d8E("@flyInOut",r.state),a.Tol(r.toastClasses),a.Udp("display",r.displayStyle))},standalone:!0,features:[a.jDz],attrs:c4,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){1&n&&(a.YNc(0,jK,3,0,"button",0),a.YNc(1,YK,3,5,"div",1),a.YNc(2,qK,1,3,"div",2),a.YNc(3,ZK,2,4,"div",3),a.YNc(4,XK,2,2,"div",4)),2&n&&(a.Q6J("ngIf",r.options.closeButton),a.xp6(1),a.Q6J("ngIf",r.title),a.xp6(1),a.Q6J("ngIf",r.message&&r.options.enableHtml),a.xp6(1),a.Q6J("ngIf",r.message&&!r.options.enableHtml),a.xp6(1),a.Q6J("ngIf",r.options.progressBar))},dependencies:[qr],encapsulation:2,data:{animation:[Kr("flyInOut",[Hn("inactive",Sn({opacity:0})),Hn("active",Sn({opacity:1})),Hn("removed",Sn({opacity:0})),xn("inactive => active",Mi("{{ easeTime }}ms {{ easing }}")),xn("active => removed",Mi("{{ easeTime }}ms {{ easing }}"))])]}})}return i})()},uQ=(i={})=>(0,a.MR2)([{provide:d4,useValue:{default:dQ,config:i}}]);let hQ=(()=>{class i{static forRoot(e={}){return{ngModule:i,providers:[uQ(e)]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=a.oAB({type:i});static \u0275inj=a.cJS({})}return i})();const u4=ff({passive:!0});let fQ=(()=>{class i{constructor(e,n){this._platform=e,this._ngZone=n,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Go.E;const n=Ha(e),r=this._monitoredElements.get(n);if(r)return r.subject;const s=new sn.x,l="cdk-text-field-autofilled",u=f=>{"cdk-text-field-autofill-start"!==f.animationName||n.classList.contains(l)?"cdk-text-field-autofill-end"===f.animationName&&n.classList.contains(l)&&(n.classList.remove(l),this._ngZone.run(()=>s.next({target:f.target,isAutofilled:!1}))):(n.classList.add(l),this._ngZone.run(()=>s.next({target:f.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",u,u4),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:s,unlisten:()=>{n.removeEventListener("animationstart",u,u4)}}),s}stopMonitoring(e){const n=Ha(e),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((e,n)=>this.stopMonitoring(n))}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(sr),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),mQ=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({})}return i})();class pQ{constructor(t){this._box=t,this._destroyed=new sn.x,this._resizeSubject=new sn.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Gs.y(e=>{const n=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe(rr(e=>e.some(n=>n.target===t)),QN({bufferSize:1,refCount:!0}),bi(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let gQ=(()=>{class i{constructor(){this._observers=new Map,this._ngZone=(0,a.f3M)(a.R0b)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,n){const r=n?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new pQ(r)),this._observers.get(r).observe(e)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const _Q=["notch"],vQ=["matFormFieldNotchedOutline",""],bQ=["*"],yQ=["textField"],xQ=["iconPrefixContainer"],wQ=["textPrefixContainer"];function EQ(i,t){1&i&&a._UZ(0,"span",19)}function CQ(i,t){if(1&i&&(a.TgZ(0,"label",17),a.Hsn(1,1),a.YNc(2,EQ,1,0,"span",18),a.qZA()),2&i){const e=a.oxw(2);a.Q6J("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),a.uIk("for",e._control.id),a.xp6(2),a.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function SQ(i,t){if(1&i&&a.YNc(0,CQ,3,5,"label",16),2&i){const e=a.oxw();a.Q6J("ngIf",e._hasFloatingLabel())}}function MQ(i,t){1&i&&a._UZ(0,"div",20)}function TQ(i,t){}function AQ(i,t){if(1&i&&a.YNc(0,TQ,0,0,"ng-template",22),2&i){a.oxw(2);const e=a.MAs(1);a.Q6J("ngTemplateOutlet",e)}}function DQ(i,t){if(1&i&&(a.TgZ(0,"div",21),a.YNc(1,AQ,1,1,"ng-template",9),a.qZA()),2&i){const e=a.oxw();a.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),a.xp6(1),a.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function IQ(i,t){1&i&&(a.TgZ(0,"div",23,24),a.Hsn(2,2),a.qZA())}function kQ(i,t){1&i&&(a.TgZ(0,"div",25,26),a.Hsn(2,3),a.qZA())}function RQ(i,t){}function PQ(i,t){if(1&i&&a.YNc(0,RQ,0,0,"ng-template",22),2&i){a.oxw();const e=a.MAs(1);a.Q6J("ngTemplateOutlet",e)}}function OQ(i,t){1&i&&(a.TgZ(0,"div",27),a.Hsn(1,4),a.qZA())}function NQ(i,t){1&i&&(a.TgZ(0,"div",28),a.Hsn(1,5),a.qZA())}function LQ(i,t){1&i&&a._UZ(0,"div",29)}function FQ(i,t){if(1&i&&(a.TgZ(0,"div",30),a.Hsn(1,6),a.qZA()),2&i){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState)}}function UQ(i,t){if(1&i&&(a.TgZ(0,"mat-hint",34),a._uU(1),a.qZA()),2&i){const e=a.oxw(2);a.Q6J("id",e._hintLabelId),a.xp6(1),a.Oqu(e.hintLabel)}}function BQ(i,t){if(1&i&&(a.TgZ(0,"div",31),a.YNc(1,UQ,2,2,"mat-hint",32),a.Hsn(2,7),a._UZ(3,"div",33),a.Hsn(4,8),a.qZA()),2&i){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",e.hintLabel)}}const VQ=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],zQ=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let kC=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["mat-label"]]})}return i})();const HQ=new a.OlP("MatError");let GQ=0,h4=(()=>{class i{constructor(){this.align="start",this.id="mat-mdc-hint-"+GQ++}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,r){2&n&&(a.Ikx("id",r.id),a.uIk("align",null),a.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return i})();const WQ=new a.OlP("MatPrefix"),jQ=new a.OlP("MatSuffix"),f4=new a.OlP("FloatingLabelParent");let m4=(()=>{class i{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,a.f3M)(gQ),this._ngZone=(0,a.f3M)(a.R0b),this._parent=(0,a.f3M)(f4),this._resizeSubscription=new ps.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function $Q(i){if(null!==i.offsetParent)return i.scrollWidth;const e=i.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const n=e.scrollWidth;return e.remove(),n}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,r){2&n&&a.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return i})();const p4="mdc-line-ripple--active",aI="mdc-line-ripple--deactivating";let g4=(()=>{class i{constructor(e,n){this._elementRef=e,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,l=s.contains(aI);"opacity"===r.propertyName&&l&&s.remove(p4,aI)},n.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(aI),e.add(p4)}deactivate(){this._elementRef.nativeElement.classList.add(aI)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.SBq),a.Y36(a.R0b))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return i})(),_4=(()=>{class i{constructor(e,n){this._elementRef=e,this._ngZone=n,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.SBq),a.Y36(a.R0b))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,r){if(1&n&&a.Gf(_Q,5),2&n){let s;a.iGM(s=a.CRH())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,r){2&n&&a.ekj("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:vQ,ngContentSelectors:bQ,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(n,r){1&n&&(a.F$t(),a._UZ(0,"div",0),a.TgZ(1,"div",1,2),a.Hsn(3),a.qZA(),a._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return i})();const YQ={transitionMessages:Kr("transitionMessages",[Hn("enter",Sn({opacity:1,transform:"translateY(0%)"})),xn("void => enter",[Sn({opacity:0,transform:"translateY(-5px)"}),Mi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let EL=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=a.lG2({type:i})}return i})();const CL=new a.OlP("MatFormField"),qQ=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let v4=0,cI=(()=>{class i{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Pn(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const n=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,n,r,s,l,u,f,p){this._elementRef=e,this._changeDetectorRef=n,this._ngZone=r,this._dir=s,this._platform=l,this._defaults=u,this._animationMode=f,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+v4++,this._hintLabelId="mat-mdc-hint-"+v4++,this._subscriptAnimationState="",this._destroyed=new sn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,u&&(u.appearance&&(this.appearance=u.appearance),this._hideRequiredMarker=!!u?.hideRequiredMarker,u.color&&(this.color=u.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(bi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Ko.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(bi(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(bi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const n=this._control?this._control.ngControl:null;return n&&n[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;n?e.push(n.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const n=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=n?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(Md),a.Y36(sr),a.Y36(qQ,8),a.Y36(a.QbO,8),a.Y36(ye))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["mat-form-field"]],contentQueries:function(n,r,s){if(1&n&&(a.Suo(s,kC,5),a.Suo(s,kC,7),a.Suo(s,EL,5),a.Suo(s,WQ,5),a.Suo(s,jQ,5),a.Suo(s,HQ,5),a.Suo(s,h4,5)),2&n){let l;a.iGM(l=a.CRH())&&(r._labelChildNonStatic=l.first),a.iGM(l=a.CRH())&&(r._labelChildStatic=l.first),a.iGM(l=a.CRH())&&(r._formFieldControl=l.first),a.iGM(l=a.CRH())&&(r._prefixChildren=l),a.iGM(l=a.CRH())&&(r._suffixChildren=l),a.iGM(l=a.CRH())&&(r._errorChildren=l),a.iGM(l=a.CRH())&&(r._hintChildren=l)}},viewQuery:function(n,r){if(1&n&&(a.Gf(yQ,5),a.Gf(xQ,5),a.Gf(wQ,5),a.Gf(m4,5),a.Gf(_4,5),a.Gf(g4,5)),2&n){let s;a.iGM(s=a.CRH())&&(r._textField=s.first),a.iGM(s=a.CRH())&&(r._iconPrefixContainer=s.first),a.iGM(s=a.CRH())&&(r._textPrefixContainer=s.first),a.iGM(s=a.CRH())&&(r._floatingLabel=s.first),a.iGM(s=a.CRH())&&(r._notchedOutline=s.first),a.iGM(s=a.CRH())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,r){2&n&&a.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:CL,useExisting:i},{provide:f4,useExisting:i}])],ngContentSelectors:zQ,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(n,r){1&n&&(a.F$t(VQ),a.YNc(0,SQ,1,1,"ng-template",null,0,a.W1O),a.TgZ(2,"div",1,2),a.NdJ("click",function(l){return r._control.onContainerClick(l)}),a.YNc(4,MQ,1,0,"div",3),a.TgZ(5,"div",4),a.YNc(6,DQ,2,2,"div",5),a.YNc(7,IQ,3,0,"div",6),a.YNc(8,kQ,3,0,"div",7),a.TgZ(9,"div",8),a.YNc(10,PQ,1,1,"ng-template",9),a.Hsn(11),a.qZA(),a.YNc(12,OQ,2,0,"div",10),a.YNc(13,NQ,2,0,"div",11),a.qZA(),a.YNc(14,LQ,1,0,"div",12),a.qZA(),a.TgZ(15,"div",13),a.YNc(16,FQ,2,1,"div",14),a.YNc(17,BQ,5,2,"div",15),a.qZA()),2&n&&(a.xp6(2),a.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),a.xp6(2),a.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),a.xp6(2),a.Q6J("ngIf",r._hasOutline()),a.xp6(1),a.Q6J("ngIf",r._hasIconPrefix),a.xp6(1),a.Q6J("ngIf",r._hasTextPrefix),a.xp6(2),a.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),a.xp6(2),a.Q6J("ngIf",r._hasTextSuffix),a.xp6(1),a.Q6J("ngIf",r._hasIconSuffix),a.xp6(1),a.Q6J("ngIf",!r._hasOutline()),a.xp6(1),a.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),a.Q6J("ngSwitch",r._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},dependencies:[qr,Ol,Ma,Pl,h4,m4,_4,g4],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[YQ.transitionMessages]},changeDetection:0})}return i})(),SL=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({imports:[hi,ai,Cd,hi]})}return i})();const KQ=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),QQ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let JQ=0;const eJ=ZR(class{constructor(i,t,e,n){this._defaultErrorStateMatcher=i,this._parentForm=t,this._parentFormGroup=e,this.ngControl=n,this.stateChanges=new sn.x}});let x4=(()=>{class i extends eJ{get disabled(){return this._disabled}set disabled(e){this._disabled=Pn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ma.required)??!1}set required(e){this._required=Pn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Xx().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Pn(e)}constructor(e,n,r,s,l,u,f,p,b,y){super(u,s,l,r),this._elementRef=e,this._platform=n,this._autofillMonitor=p,this._formField=y,this._uid="mat-input-"+JQ++,this.focused=!1,this.stateChanges=new sn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(A=>Xx().has(A)),this._iOSKeyupListener=A=>{const P=A.target;!P.value&&0===P.selectionStart&&0===P.selectionEnd&&(P.setSelectionRange(1,1),P.setSelectionRange(0,0))};const w=this._elementRef.nativeElement,S=w.nodeName.toLowerCase();this._inputValueAccessor=f||w,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&b.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===S,this._isTextarea="textarea"===S,this._isInFormField=!!y,this._isNativeSelect&&(this.controlType=w.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const n=this._elementRef.nativeElement;this._previousPlaceholder=e,e?n.setAttribute("placeholder",e):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){QQ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,n=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&n&&n.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.SBq),a.Y36(sr),a.Y36(eh,10),a.Y36(XE,8),a.Y36(Dp,8),a.Y36(A_),a.Y36(KQ,10),a.Y36(fQ),a.Y36(a.R0b),a.Y36(CL,8))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,r){1&n&&a.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&n&&(a.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),a.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),a.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:EL,useExisting:i}]),a.qOj,a.TTD]})}return i})(),tJ=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({imports:[hi,SL,SL,mQ,hi]})}return i})();class nJ{}function ML(i){return i&&"function"==typeof i.connect&&!(i instanceof Sb)}class w4{applyChanges(t,e,n,r,s){t.forEachOperation((l,u,f)=>{let p,b;if(null==l.previousIndex){const y=n(l,u,f);p=e.createEmbeddedView(y.templateRef,y.context,y.index),b=1}else null==f?(e.remove(u),b=3):(p=e.get(u),e.move(p,f),b=2);s&&s({context:p?.context,operation:b,record:l})})}detach(){}}class TL{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,n=!0,r){this._multiple=t,this._emitChanges=n,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new sn.x,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(n=>this._markSelected(n));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(n=>this._unmarkSelected(n));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,n=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!n.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}let iJ=(()=>{class i{constructor(){this._listeners=[]}notify(e,n){for(let r of this._listeners)r(e,n)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(n=>e!==n)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const RC=new a.OlP("_ViewRepeater"),rJ=["input"],sJ=["*"];let C4=0;class S4{constructor(t,e){this.source=t,this.value=e}}const oJ={provide:Bc,useExisting:(0,a.Gpc)(()=>T4),multi:!0},M4=new a.OlP("MatRadioGroup"),aJ=new a.OlP("mat-radio-default-options",{providedIn:"root",factory:function cJ(){return{color:"accent"}}});let lJ=(()=>{class i{get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=Pn(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=Pn(e),this._markRadiosForCheck()}constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+C4++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new a.vpe}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(e=>e===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(n=>{n.checked=this.value===n.value,n.checked&&(this._selected=n)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new S4(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.sBO))};static#t=this.\u0275dir=a.lG2({type:i,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}})}return i})();class dJ{constructor(t){this._elementRef=t}}const uJ=S_(Lu(dJ));let hJ=(()=>{class i extends uJ{get checked(){return this._checked}set checked(e){const n=Pn(e);this._checked!==n&&(this._checked=n,n&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!n&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),n&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(Pn(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=Pn(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,n,r,s,l,u,f,p){super(n),this._changeDetector=r,this._focusMonitor=s,this._radioDispatcher=l,this._providerOverride=f,this._uniqueId="mat-radio-"+ ++C4,this.id=this._uniqueId,this.change=new a.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===u,p&&(this.tabIndex=jo(p,0))}focus(e,n){n?this._focusMonitor.focusVia(this._inputElement,n,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,n)=>{e!==this.id&&n===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new S4(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const n=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),n&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let n;if(n=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,n!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",n+""),this._previousTabIndex=n)}}static#e=this.\u0275fac=function(n){a.$Z()};static#t=this.\u0275dir=a.lG2({type:i,viewQuery:function(n,r){if(1&n&&a.Gf(rJ,5),2&n){let s;a.iGM(s=a.CRH())&&(r._inputElement=s.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[a.qOj]})}return i})(),T4=(()=>{class i extends lJ{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(i)))(r||i)}}();static#t=this.\u0275dir=a.lG2({type:i,selectors:[["mat-radio-group"]],contentQueries:function(n,r,s){if(1&n&&a.Suo(s,A4,5),2&n){let l;a.iGM(l=a.CRH())&&(r._radios=l)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[a._Bn([oJ,{provide:M4,useExisting:i}]),a.qOj]})}return i})(),A4=(()=>{class i extends hJ{constructor(e,n,r,s,l,u,f,p){super(e,n,r,s,l,u,f,p)}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(M4,8),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(gl),a.Y36(iJ),a.Y36(a.QbO,8),a.Y36(aJ,8),a.$8M("tabindex"))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(n,r){1&n&&a.NdJ("focus",function(){return r._inputElement.nativeElement.focus()}),2&n&&(a.uIk("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),a.ekj("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("mat-mdc-radio-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[a.qOj],ngContentSelectors:sJ,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(n,r){if(1&n&&(a.F$t(),a.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3),a.NdJ("click",function(l){return r._onTouchTargetClick(l)}),a.qZA(),a.TgZ(4,"input",4,5),a.NdJ("change",function(l){return r._onInputInteraction(l)}),a.qZA(),a.TgZ(6,"div",6),a._UZ(7,"div",7)(8,"div",8),a.qZA(),a.TgZ(9,"div",9),a._UZ(10,"div",10),a.qZA()(),a.TgZ(11,"label",11),a.Hsn(12),a.qZA()()),2&n){const s=a.MAs(1);a.ekj("mdc-form-field--align-end","before"==r.labelPosition),a.xp6(2),a.ekj("mdc-radio--disabled",r.disabled),a.xp6(2),a.Q6J("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),a.uIk("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),a.xp6(5),a.Q6J("matRippleTrigger",s)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),a.xp6(2),a.Q6J("for",r.inputId)}},dependencies:[up],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{--mdc-radio-disabled-selected-icon-opacity:0.38;--mdc-radio-disabled-unselected-icon-opacity:0.38;--mdc-radio-state-layer-size:40px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return i})(),fJ=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({imports:[hi,ai,Ad,hi]})}return i})(),mJ=(()=>{class i{get(e){throw new Error("Method not implemented.")}setValue(e){throw new Error("Method not implemented.")}constructor(e,n,r,s){this.builder=e,this.service=n,this.router=r,this.toastr=s,this.registerform=this.builder.group({id:this.builder.control("",ma.compose([ma.required,ma.minLength(5)])),name:this.builder.control("",ma.required),password:this.builder.control("",ma.compose([ma.required,ma.pattern("")])),email:this.builder.control("",ma.compose([ma.required,ma.email])),gender:this.builder.control("male"),role:this.builder.control(""),isactive:this.builder.control(!1)})}proceedregister(){this.registerform.valid?this.service.RegisterUser(this.registerform.value).then(e=>{this.toastr.warning("Please contact admin for enable access.Registered successfully"),this.router.navigate(["login"])}):this.toastr.warning("Please enter valid data.")}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(HO),a.Y36(Rv),a.Y36($i),a.Y36(IC))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["app-register"]],decls:34,vars:1,consts:[["role","main",1,"content"],[1,"example-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["matInput","","formControlName","id","zzzzz",""],["matInput","","formControlName","name"],["matInput","","formControlName","password"],["matInput","","formControlName","email"],["formControlName","gender","aria-label","Gender"],["value","male"],["value","female"],["mat-button","","color","primary"],["routerLink","/login","mat-button","","color","accent"]],template:function(n,r){1&n&&(a.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"h1"),a._uU(4,"User Registration"),a.qZA()(),a.TgZ(5,"mat-card-content")(6,"form",1),a.NdJ("ngSubmit",function(){return r.proceedregister()}),a.TgZ(7,"mat-form-field",2)(8,"mat-label"),a._uU(9,"User Name"),a.qZA(),a._UZ(10,"input",3),a.qZA(),a.TgZ(11,"mat-form-field",2)(12,"mat-label"),a._uU(13,"Name"),a.qZA(),a._UZ(14,"input",4),a.qZA(),a.TgZ(15,"mat-form-field",2)(16,"mat-label"),a._uU(17,"Password"),a.qZA(),a._UZ(18,"input",5),a.qZA(),a.TgZ(19,"mat-form-field",2)(20,"mat-label"),a._uU(21,"Email"),a.qZA(),a._UZ(22,"input",6),a.qZA(),a.TgZ(23,"div")(24,"mat-radio-group",7)(25,"mat-radio-button",8),a._uU(26,"Male"),a.qZA(),a.TgZ(27,"mat-radio-button",9),a._uU(28,"Female"),a.qZA()()(),a.TgZ(29,"div")(30,"button",10),a._uU(31,"Submit"),a.qZA(),a.TgZ(32,"a",11),a._uU(33,"Back to Login"),a.qZA()()()()()()),2&n&&(a.xp6(6),a.Q6J("formGroup",r.registerform))},dependencies:[l_,x4,cI,kC,_0,v0,b0,T4,A4,Cy,xf,mD,WE,iD,rD,Dp,QE]})}return i})(),pJ=(()=>{class i{constructor(e,n,r,s){this.builder=e,this.service=n,this.router=r,this.toastr=s,this.loginform=this.builder.group({id:this.builder.control("",ma.required),password:this.builder.control("",ma.required)}),sessionStorage.clear()}proceedlogin(){if(this.loginform.valid){const e=String(this.loginform.value.id),n=this.loginform.value.password;this.service.Getbycode(e).valueChanges().subscribe(r=>{if(r){const s=r[0];s&&s.password===n?s.isactive?null!=s.id&&null!=s.role?(sessionStorage.setItem("username",s.id),sessionStorage.setItem("role",s.role),this.router.navigate(["/user"])):this.toastr.warning("User ID is undefined."):this.toastr.warning("InActive User. Please contact Admin."):this.toastr.warning("Invalid credentials")}else this.toastr.warning("User not found")})}else this.toastr.warning("Please enter valid data.")}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(HO),a.Y36(Rv),a.Y36($i),a.Y36(IC))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["app-login"]],decls:22,vars:1,consts:[["role","main",1,"content"],[1,"card"],[1,"example-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["matInput","","formControlName","id"],["matInput","","formControlName","password"],["mat-raised-button","","color","primary"],["routerLink","/register","mat-raised-button","","color","accent"],["id","banner"],["src","https://my.spline.design/untitled-4bcfb0bfd77c7a918e5b708b631ed310/","frameborder","0","width","100%","height","100%"]],template:function(n,r){1&n&&(a.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-header",1)(3,"h1"),a._uU(4,"User Login"),a.qZA()(),a.TgZ(5,"mat-card-content")(6,"form",2),a.NdJ("ngSubmit",function(){return r.proceedlogin()}),a.TgZ(7,"mat-form-field",3)(8,"mat-label"),a._uU(9,"User Name"),a.qZA(),a._UZ(10,"input",4),a.qZA(),a.TgZ(11,"mat-form-field",3)(12,"mat-label"),a._uU(13,"Password"),a.qZA(),a._UZ(14,"input",5),a.qZA(),a.TgZ(15,"div")(16,"button",6),a._uU(17,"Login"),a.qZA(),a.TgZ(18,"a",7),a._uU(19,"New User?"),a.qZA()()()()(),a.TgZ(20,"div",8),a._UZ(21,"iframe",9),a.qZA()()),2&n&&(a.xp6(6),a.Q6J("formGroup",r.loginform))},dependencies:[l_,x4,cI,kC,_0,v0,b0,Cy,xf,mD,WE,iD,rD,Dp,QE],styles:[".content[_ngcontent-%COMP%]{padding:2%;max-width:1200px;top:50%;left:50%;display:flex;justify-content:center;align-items:center;background-color:RGB(38,0,70);background-size:cover}#banner[_ngcontent-%COMP%]{height:600px;width:1200px}"]})}return i})();var gJ=W(4266);const _J=["addListener","removeListener"],vJ=["addEventListener","removeEventListener"],bJ=["on","off"];function AL(i,t,e,n){if((0,Cc.m)(e)&&(n=e,e=void 0),n)return AL(i,t,e).pipe(Kh(n));const[r,s]=function wJ(i){return(0,Cc.m)(i.addEventListener)&&(0,Cc.m)(i.removeEventListener)}(i)?vJ.map(l=>u=>i[l](t,u,e)):function yJ(i){return(0,Cc.m)(i.addListener)&&(0,Cc.m)(i.removeListener)}(i)?_J.map(D4(i,t)):function xJ(i){return(0,Cc.m)(i.on)&&(0,Cc.m)(i.off)}(i)?bJ.map(D4(i,t)):[];if(!r&&(0,gJ.z)(i))return(0,js.z)(l=>AL(l,t,e))((0,Jh.Xf)(i));if(!r)throw new TypeError("Invalid event target");return new Gs.y(l=>{const u=(...f)=>l.next(1<f.length?f:f[0]);return r(u),()=>s(u)})}function D4(i,t){return e=>n=>i[e](t,n)}var I4=W(1954);const PC={schedule(i){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:n}=PC;n&&(t=n.requestAnimationFrame,e=n.cancelAnimationFrame);const r=t(s=>{e=void 0,i(s)});return new ps.w0(()=>e?.(r))},requestAnimationFrame(...i){const{delegate:t}=PC;return(t?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:t}=PC;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0};var k4=W(2631);new class CJ extends k4.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class EJ extends I4.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=PC.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(PC.cancelAnimationFrame(e),t._scheduled=void 0)}});let DL,MJ=1;const lI={};function R4(i){return i in lI&&(delete lI[i],!0)}const TJ={setImmediate(i){const t=MJ++;return lI[t]=!0,DL||(DL=Promise.resolve()),DL.then(()=>R4(t)&&i()),t},clearImmediate(i){R4(i)}},{setImmediate:AJ,clearImmediate:DJ}=TJ,dI={setImmediate(...i){const{delegate:t}=dI;return(t?.setImmediate||AJ)(...i)},clearImmediate(i){const{delegate:t}=dI;return(t?.clearImmediate||DJ)(i)},delegate:void 0},IL=new class kJ extends k4.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class IJ extends I4.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=dI.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(dI.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var PJ=W(671);function P4(i=0,t,e=_f.P){let n=-1;return null!=t&&((0,PJ.K)(t)?e=t:n=t),new Gs.y(r=>{let s=function OJ(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;s<0&&(s=0);let l=0;return e.schedule(function(){r.closed||(r.next(l++),0<=n?this.schedule(void 0,n):r.complete())},s)})}function O4(i,t=_f.z){return function RJ(i){return(0,is.e)((t,e)=>{let n=!1,r=null,s=null,l=!1;const u=()=>{if(s?.unsubscribe(),s=null,n){n=!1;const p=r;r=null,e.next(p)}l&&e.complete()},f=()=>{s=null,l&&e.complete()};t.subscribe((0,ns.x)(e,p=>{n=!0,r=p,s||(0,Jh.Xf)(i(p)).subscribe(s=(0,ns.x)(e,u,f))},()=>{l=!0,(!n||!s||s.closed)&&e.complete()}))})}(()=>P4(i,t))}let N4=(()=>{class i{constructor(e,n,r){this._ngZone=e,this._platform=n,this._scrolled=new sn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Gs.y(n=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(O4(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Xt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){const r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(rr(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const n=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&n.push(s)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let r=Ha(n),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>AL(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(a.R0b),a.LFG(sr),a.LFG(ye,8))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),uI=(()=>{class i{constructor(e,n,r){this._platform=e,this._change=new sn.x,this._changeListener=s=>{this._change.next(s)},this._document=r,n.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,n=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(O4(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(sr),a.LFG(a.R0b),a.LFG(ye,8))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Pv=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({})}return i})(),kL=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({imports:[C_,Pv,C_,Pv]})}return i})();const FJ=[[["caption"]],[["colgroup"],["col"]]],UJ=["caption","colgroup, col"];function RL(i){return class extends i{get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Pn(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}}}const N0=new a.OlP("CDK_TABLE");let L0=(()=>{class i{constructor(e){this.template=e}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.Rgc))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","cdkCellDef",""]]})}return i})(),F0=(()=>{class i{constructor(e){this.template=e}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.Rgc))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","cdkHeaderCellDef",""]]})}return i})(),hI=(()=>{class i{constructor(e){this.template=e}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.Rgc))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","cdkFooterCellDef",""]]})}return i})();class HJ{}const GJ=RL(HJ);let Uf=(()=>{class i extends GJ{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const n=this._stickyEnd;this._stickyEnd=Pn(e),this._hasStickyChanged=n!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(N0,8))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","cdkColumnDef",""]],contentQueries:function(n,r,s){if(1&n&&(a.Suo(s,L0,5),a.Suo(s,F0,5),a.Suo(s,hI,5)),2&n){let l;a.iGM(l=a.CRH())&&(r.cell=l.first),a.iGM(l=a.CRH())&&(r.headerCell=l.first),a.iGM(l=a.CRH())&&(r.footerCell=l.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[a._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),a.qOj]})}return i})();class PL{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let OL=(()=>{class i extends PL{constructor(e,n){super(e,n)}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(Uf),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[a.qOj]})}return i})(),NL=(()=>{class i extends PL{constructor(e,n){if(super(e,n),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");n.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(Uf),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[a.qOj]})}return i})();class F4{constructor(){this.tasks=[],this.endTasks=[]}}const LL=new a.OlP("_COALESCED_STYLE_SCHEDULER");let U4=(()=>{class i{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new sn.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new F4,this._getScheduleObservable().pipe(bi(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new F4;for(const n of e.tasks)n();for(const n of e.endTasks)n()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,ts.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(kr(1))}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac})}return i})(),FL=(()=>{class i{constructor(e,n){this.template=e,this._differs=n}ngOnChanges(e){if(!this._columnsDiffer){const n=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(n).create(),this._columnsDiffer.diff(n)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof OC?e.headerCell.template:this instanceof NC?e.footerCell.template:e.cell.template}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.Rgc),a.Y36(a.ZZ4))};static#t=this.\u0275dir=a.lG2({type:i,features:[a.TTD]})}return i})();class WJ extends FL{}const jJ=RL(WJ);let OC=(()=>{class i extends jJ{constructor(e,n,r){super(e,n),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(N0,8))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[a.qOj,a.TTD]})}return i})();class $J extends FL{}const YJ=RL($J);let NC=(()=>{class i extends YJ{constructor(e,n,r){super(e,n),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(N0,8))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[a.qOj,a.TTD]})}return i})(),fI=(()=>{class i extends FL{constructor(e,n,r){super(e,n),this._table=r}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(N0,8))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[a.qOj]})}return i})(),Bf=(()=>{class i{static#e=this.mostRecentCellOutlet=null;constructor(e){this._viewContainer=e,i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.s_b))};static#n=this.\u0275dir=a.lG2({type:i,selectors:[["","cdkCellOutlet",""]]})}return i})(),UL=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&a.GkF(0,0)},dependencies:[Bf],encapsulation:2})}return i})(),VL=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&a.GkF(0,0)},dependencies:[Bf],encapsulation:2})}return i})(),mI=(()=>{class i{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.Rgc))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["ng-template","cdkNoDataRow",""]]})}return i})();const B4=["top","bottom","left","right"];class qJ{constructor(t,e,n,r,s=!0,l=!0,u){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=l,this._positionListener=u,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const n=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){n.push(r);for(let s=0;s<r.children.length;s++)n.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of n)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,n,r=!0){if(!t.length||!this._isBrowser||!e.some(w=>w)&&!n.some(w=>w))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],l=s.children.length,u=this._getCellWidths(s,r),f=this._getStickyStartColumnPositions(u,e),p=this._getStickyEndColumnPositions(u,n),b=e.lastIndexOf(!0),y=n.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const w="rtl"===this.direction,S=w?"right":"left",A=w?"left":"right";for(const P of t)for(let I=0;I<l;I++){const k=P.children[I];e[I]&&this._addStickyStyle(k,S,f[I],I===b),n[I]&&this._addStickyStyle(k,A,p[I],I===y)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===b?[]:u.slice(0,b+1).map((P,I)=>e[I]?P:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===y?[]:u.slice(y).map((P,I)=>n[I+y]?P:null).reverse()}))})}stickRows(t,e,n){if(!this._isBrowser)return;const r="bottom"===n?t.slice().reverse():t,s="bottom"===n?e.slice().reverse():e,l=[],u=[],f=[];for(let b=0,y=0;b<r.length;b++){if(!s[b])continue;l[b]=y;const w=r[b];f[b]=this._isNativeHtmlTable?Array.from(w.children):[w];const S=w.getBoundingClientRect().height;y+=S,u[b]=S}const p=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let b=0;b<r.length;b++){if(!s[b])continue;const y=l[b],w=b===p;for(const S of f[b])this._addStickyStyle(S,n,y,w)}"top"===n?this._positionListener?.stickyHeaderRowsUpdated({sizes:u,offsets:l,elements:f}):this._positionListener?.stickyFooterRowsUpdated({sizes:u,offsets:l,elements:f})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);B4.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${n}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const r of B4)t.style[r]&&(n+=e[r]);return n?`${n}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],r=t.children;for(let s=0;s<r.length;s++)n.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(t,e){const n=[];let r=0;for(let s=0;s<t.length;s++)e[s]&&(n[s]=r,r+=t[s]);return n}_getStickyEndColumnPositions(t,e){const n=[];let r=0;for(let s=t.length;s>0;s--)e[s]&&(n[s]=r,r+=t[s]);return n}}const zL=new a.OlP("CDK_SPL");let pI=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.s_b),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","rowOutlet",""]]})}return i})(),gI=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.s_b),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","headerRowOutlet",""]]})}return i})(),_I=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.s_b),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","footerRowOutlet",""]]})}return i})(),vI=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.s_b),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","noDataRowOutlet",""]]})}return i})(),bI=(()=>{class i{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Pn(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Pn(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,n,r,s,l,u,f,p,b,y,w,S){this._differs=e,this._changeDetectorRef=n,this._elementRef=r,this._dir=l,this._platform=f,this._viewRepeater=p,this._coalescedStyleScheduler=b,this._viewportRuler=y,this._stickyPositioningListener=w,this._ngZone=S,this._onDestroy=new sn.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new a.vpe,this.viewChange=new Ws.X({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=u,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,n)=>this.trackBy?this.trackBy(n.dataIndex,n.data):n),this._viewportRuler.change().pipe(bi(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const n=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||n,this._forceRecalculateCellWidths=n,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),ML(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const n=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,n,(r,s,l)=>this._getEmbeddedViewArgs(r.item,l),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{n.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&a.R0b.isInAngularZone()?this._ngZone.onStable.pipe(kr(1),bi(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const s=this._headerRowDefs.map(l=>l.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(l=>l.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const s=this._footerRowDefs.map(l=>l.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(l=>l.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...n,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,l)=>{this._addStickyColumnStyles([s],this._headerRowDefs[l])}),this._rowDefs.forEach(s=>{const l=[];for(let u=0;u<n.length;u++)this._renderRows[u].rowDef===s&&l.push(n[u]);this._addStickyColumnStyles(l,s)}),r.forEach((s,l)=>{this._addStickyColumnStyles([s],this._footerRowDefs[l])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],n=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const l=this._getRenderRowsForData(s,r,n.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let u=0;u<l.length;u++){let f=l[u];const p=this._cachedRenderRowsMap.get(f.data);p.has(f.rowDef)?p.get(f.rowDef).push(f):p.set(f.rowDef,[f]),e.push(f)}}return e}_getRenderRowsForData(e,n,r){return this._getRowDefs(e,n).map(l=>{const u=r&&r.has(l)?r.get(l):[];if(u.length){const f=u.shift();return f.dataIndex=n,f}return{data:e,rowDef:l,dataIndex:n}})}_cacheColumnDefs(){this._columnDefsByName.clear(),yI(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(n=>{this._columnDefsByName.has(n.name),this._columnDefsByName.set(n.name,n)})}_cacheRowDefs(){this._headerRowDefs=yI(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=yI(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=yI(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(n=>!n.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(l,u)=>l||!!u.getColumnsDiff(),n=this._rowDefs.reduce(e,!1);n&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),n||r||s}_switchDataSource(e){this._data=[],ML(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;ML(this.dataSource)?e=this.dataSource.connect(this):Pg(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,Xt.of)(this.dataSource)),this._renderChangeSubscription=e.pipe(bi(this._onDestroy)).subscribe(n=>{this._data=n||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,n)=>this._renderRow(this._headerRowOutlet,e,n)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,n)=>this._renderRow(this._footerRowOutlet,e,n)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,n){const r=Array.from(n.columns||[]).map(u=>this._columnDefsByName.get(u)),s=r.map(u=>u.sticky),l=r.map(u=>u.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,l,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const n=[];for(let r=0;r<e.viewContainer.length;r++){const s=e.viewContainer.get(r);n.push(s.rootNodes[0])}return n}_getRowDefs(e,n){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(n,e));else{let s=this._rowDefs.find(l=>l.when&&l.when(n,e))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(e,n){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:n}}_renderRow(e,n,r,s={}){const l=e.viewContainer.createEmbeddedView(n.template,s,r);return this._renderCellTemplateForItem(n,s),l}_renderCellTemplateForItem(e,n){for(let r of this._getCellTemplates(e))Bf.mostRecentCellOutlet&&Bf.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,n);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let n=0,r=e.length;n<r;n++){const l=e.get(n).context;l.count=r,l.first=0===n,l.last=n===r-1,l.even=n%2==0,l.odd=!l.even,this.multiTemplateDataRows?(l.dataIndex=this._renderRows[n].dataIndex,l.renderIndex=n):l.index=this._renderRows[n].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,n=>{const r=this._columnDefsByName.get(n);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),n=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of n){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const l of r.outlets)s.appendChild(l.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(n,r)=>n||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new qJ(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,Xt.of)()).pipe(bi(this._onDestroy)).subscribe(n=>{this._stickyStyler.direction=n,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(n=>!n._table||n._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const n=0===this._rowOutlet.viewContainer.length;if(n===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(n){const s=r.createEmbeddedView(e.templateRef),l=s.rootNodes[0];1===s.rootNodes.length&&l?.nodeType===this._document.ELEMENT_NODE&&(l.setAttribute("role","row"),l.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=n,this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.ZZ4),a.Y36(a.sBO),a.Y36(a.SBq),a.$8M("role"),a.Y36(Md,8),a.Y36(ye),a.Y36(sr),a.Y36(RC),a.Y36(LL),a.Y36(uI),a.Y36(zL,12),a.Y36(a.R0b,8))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(n,r,s){if(1&n&&(a.Suo(s,mI,5),a.Suo(s,Uf,5),a.Suo(s,fI,5),a.Suo(s,OC,5),a.Suo(s,NC,5)),2&n){let l;a.iGM(l=a.CRH())&&(r._noDataRow=l.first),a.iGM(l=a.CRH())&&(r._contentColumnDefs=l),a.iGM(l=a.CRH())&&(r._contentRowDefs=l),a.iGM(l=a.CRH())&&(r._contentHeaderRowDefs=l),a.iGM(l=a.CRH())&&(r._contentFooterRowDefs=l)}},viewQuery:function(n,r){if(1&n&&(a.Gf(pI,7),a.Gf(gI,7),a.Gf(_I,7),a.Gf(vI,7)),2&n){let s;a.iGM(s=a.CRH())&&(r._rowOutlet=s.first),a.iGM(s=a.CRH())&&(r._headerRowOutlet=s.first),a.iGM(s=a.CRH())&&(r._footerRowOutlet=s.first),a.iGM(s=a.CRH())&&(r._noDataRowOutlet=s.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(n,r){2&n&&a.ekj("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[a._Bn([{provide:N0,useExisting:i},{provide:RC,useClass:w4},{provide:LL,useClass:U4},{provide:zL,useValue:null}])],ngContentSelectors:UJ,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){1&n&&(a.F$t(FJ),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[pI,gI,_I,vI],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return i})();function yI(i,t){return i.concat(Array.from(t))}let XJ=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({imports:[kL]})}return i})();const KJ=[[["caption"]],[["colgroup"],["col"]]],QJ=["caption","colgroup, col"];let z4=(()=>{class i extends bI{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(i)))(r||i)}}();static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(n,r){2&n&&a.ekj("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[a._Bn([{provide:bI,useExisting:i},{provide:N0,useExisting:i},{provide:LL,useClass:U4},{provide:RC,useClass:w4},{provide:zL,useValue:null}]),a.qOj],ngContentSelectors:QJ,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){1&n&&(a.F$t(KJ),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[pI,gI,_I,vI],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{--mat-table-row-item-outline-width:1px;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return i})(),HL=(()=>{class i extends L0{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(i)))(r||i)}}();static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","matCellDef",""]],features:[a._Bn([{provide:L0,useExisting:i}]),a.qOj]})}return i})(),GL=(()=>{class i extends F0{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(i)))(r||i)}}();static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","matHeaderCellDef",""]],features:[a._Bn([{provide:F0,useExisting:i}]),a.qOj]})}return i})(),WL=(()=>{class i extends Uf{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(i)))(r||i)}}();static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[a._Bn([{provide:Uf,useExisting:i},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),a.qOj]})}return i})(),jL=(()=>{class i extends OL{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(i)))(r||i)}}();static#t=this.\u0275dir=a.lG2({type:i,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[a.qOj]})}return i})(),$L=(()=>{class i extends NL{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(i)))(r||i)}}();static#t=this.\u0275dir=a.lG2({type:i,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[a.qOj]})}return i})(),H4=(()=>{class i extends OC{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(i)))(r||i)}}();static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[a._Bn([{provide:OC,useExisting:i}]),a.qOj]})}return i})(),G4=(()=>{class i extends fI{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(i)))(r||i)}}();static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[a._Bn([{provide:fI,useExisting:i}]),a.qOj]})}return i})(),W4=(()=>{class i extends UL{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(i)))(r||i)}}();static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[a._Bn([{provide:UL,useExisting:i}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&a.GkF(0,0)},dependencies:[Bf],encapsulation:2})}return i})(),j4=(()=>{class i extends VL{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(i)))(r||i)}}();static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[a._Bn([{provide:VL,useExisting:i}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&a.GkF(0,0)},dependencies:[Bf],encapsulation:2})}return i})(),oee=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({imports:[hi,XJ,hi]})}return i})();class cee extends nJ{get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}constructor(t=[]){super(),this._renderData=new Ws.X([]),this._filter=new Ws.X(""),this._internalPageChanges=new sn.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,n)=>{const r=e[n];if(cw(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(e,n)=>{const r=n.active,s=n.direction;return r&&""!=s?e.sort((l,u)=>{let f=this.sortingDataAccessor(l,r),p=this.sortingDataAccessor(u,r);const b=typeof f,y=typeof p;b!==y&&("number"===b&&(f+=""),"number"===y&&(p+=""));let w=0;return null!=f&&null!=p?f>p?w=1:f<p&&(w=-1):null!=f?w=1:null!=p&&(w=-1),w*("asc"==s?1:-1)}):e},this.filterPredicate=(e,n)=>{const r=Object.keys(e).reduce((l,u)=>l+e[u]+"\u25ec","").toLowerCase(),s=n.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new Ws.X(t),this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?(0,Ko.T)(this._sort.sortChange,this._sort.initialized):(0,Xt.of)(null),e=this._paginator?(0,Ko.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,Xt.of)(null),r=Qh([this._data,this._filter]).pipe((0,gn.U)(([u])=>this._filterData(u))),s=Qh([r,t]).pipe((0,gn.U)(([u])=>this._orderData(u))),l=Qh([s,e]).pipe((0,gn.U)(([u])=>this._pageData(u)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=l.subscribe(u=>this._renderData.next(u))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const n=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,n);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class lee extends cee{}class YL{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class xI extends YL{constructor(t,e,n,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=s}}class wI extends YL{constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class uee extends YL{constructor(t){super(),this.element=t instanceof a.SBq?t.nativeElement:t}}class qL{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof xI?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof wI?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof uee?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class hee extends qL{constructor(t,e,n,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=l=>{const u=l.element,f=this._document.createComment("dom-portal");u.parentNode.insertBefore(f,u),this.outletElement.appendChild(u),this._attachedPortal=l,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=s}attachComponentPortal(t){const n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(t.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);-1!==r&&e.remove(r)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let ZL=(()=>{class i extends qL{constructor(e,n,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=s=>{const l=s.element,u=this._document.createComment("dom-portal");s.setAttachedHost(this),l.parentNode.insertBefore(u,l),this._getRootNode().appendChild(l),this._attachedPortal=s,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(l,u)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const n=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),l=n.createComponent(s,n.length,e.injector||n.injector,e.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=e,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(e){e.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(ye))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]})}return i})(),EI=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({})}return i})();const $4=$k();class fee{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Gr(-this._previousScrollPosition.left),t.style.top=Gr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,n=t.style,r=this._document.body.style,s=n.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),$4&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),$4&&(n.scrollBehavior=s,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}}class mee{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(rr(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Y4{enable(){}disable(){}attach(){}}function XL(i,t){return t.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function q4(i,t){return t.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class pee{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();XL(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let gee=(()=>{class i{constructor(e,n,r,s){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new Y4,this.close=l=>new mee(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new fee(this._viewportRuler,this._document),this.reposition=l=>new pee(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=s}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(N4),a.LFG(uI),a.LFG(a.R0b),a.LFG(ye))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class CI{constructor(t){if(this.scrollStrategy=new Y4,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class _ee{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Z4=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(ye))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),vee=(()=>{class i extends Z4{constructor(e,n){super(e),this._ngZone=n,this._keydownListener=r=>{const s=this._attachedOverlays;for(let l=s.length-1;l>-1;l--)if(s[l]._keydownEvents.observers.length>0){const u=s[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(ye),a.LFG(a.R0b,8))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),bee=(()=>{class i extends Z4{constructor(e,n,r){super(e),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Nu(s)},this._clickListener=s=>{const l=Nu(s),u="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let p=f.length-1;p>-1;p--){const b=f[p];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(l)||b.overlayElement.contains(u))break;const y=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>y.next(s)):y.next(s)}}}add(e){if(super.add(e),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(ye),a.LFG(sr),a.LFG(a.R0b,8))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),SI=(()=>{class i{constructor(e,n){this._platform=n,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||ny()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const n=this._document.createElement("div");n.classList.add(e),ny()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(ye),a.LFG(sr))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class LC{constructor(t,e,n,r,s,l,u,f,p,b=!1){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=s,this._keyboardDispatcher=l,this._document=u,this._location=f,this._outsideClickDispatcher=p,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new sn.x,this._attachments=new sn.x,this._detachments=new sn.x,this._locationChanges=ps.w0.EMPTY,this._backdropClickHandler=y=>this._backdropClick.next(y),this._backdropTransitionendHandler=y=>{this._disposeBackdrop(y.target)},this._keydownEvents=new sn.x,this._outsidePointerEvents=new sn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(kr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Gr(this._config.width),t.height=Gr(this._config.height),t.minWidth=Gr(this._config.minWidth),t.minHeight=Gr(this._config.minHeight),t.maxWidth=Gr(this._config.maxWidth),t.maxHeight=Gr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,n){const r=y_(e||[]).filter(s=>!!s);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(bi((0,Ko.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const X4="cdk-overlay-connected-position-bounding-box",yee=/([A-Za-z%]+)$/;class xee{get positions(){return this._preferredPositions}constructor(t,e,n,r,s){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new sn.x,this._resizeSubscription=ps.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(X4),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,s=[];let l;for(let u of this._preferredPositions){let f=this._getOriginPoint(t,r,u),p=this._getOverlayPoint(f,e,u),b=this._getOverlayFit(p,e,n,u);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,f);this._canFitWithFlexibleDimensions(b,p,n)?s.push({position:u,origin:f,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(f,u)}):(!l||l.overlayFit.visibleArea<b.visibleArea)&&(l={overlayFit:b,overlayPoint:p,originPoint:f,position:u,overlayRect:e})}if(s.length){let u=null,f=-1;for(const p of s){const b=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);b>f&&(f=b,u=p)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ov(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(X4),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,n){let r,s;if("center"==n.originX)r=t.left+t.width/2;else{const l=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;r="start"==n.originX?l:u}return e.left<0&&(r-=e.left),s="center"==n.originY?t.top+t.height/2:"top"==n.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,n){let r,s;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,n,r){const s=Q4(e);let{x:l,y:u}=t,f=this._getOffset(r,"x"),p=this._getOffset(r,"y");f&&(l+=f),p&&(u+=p);let w=0-u,S=u+s.height-n.height,A=this._subtractOverflows(s.width,0-l,l+s.width-n.width),P=this._subtractOverflows(s.height,w,S),I=A*P;return{visibleArea:I,isCompletelyWithinViewport:s.width*s.height===I,fitsInViewportVertically:P===s.height,fitsInViewportHorizontally:A==s.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,s=n.right-e.x,l=K4(this._overlayRef.getConfig().minHeight),u=K4(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=l&&l<=r)&&(t.fitsInViewportHorizontally||null!=u&&u<=s)}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Q4(e),s=this._viewportRect,l=Math.max(t.x+r.width-s.width,0),u=Math.max(t.y+r.height-s.height,0),f=Math.max(s.top-n.top-t.y,0),p=Math.max(s.left-n.left-t.x,0);let b=0,y=0;return b=r.width<=s.width?p||-l:t.x<this._viewportMargin?s.left-n.left-t.x:0,y=r.height<=s.height?f||-u:t.y<this._viewportMargin?s.top-n.top-t.y:0,this._previousPushAmount={x:b,y},{x:t.x+b,y:t.y+y}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const n=this._getScrollVisibility(),r=new _ee(t,n);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let s,l,u,b,y,w;if("top"===e.overlayY)l=t.y,s=n.height-l+this._viewportMargin;else if("bottom"===e.overlayY)u=n.height-t.y+2*this._viewportMargin,s=n.height-u+this._viewportMargin;else{const S=Math.min(n.bottom-t.y+n.top,t.y),A=this._lastBoundingBoxSize.height;s=2*S,l=t.y-S,s>A&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.y-A/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)w=n.width-t.x+this._viewportMargin,b=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)y=t.x,b=n.right-t.x;else{const S=Math.min(n.right-t.x+n.left,t.x),A=this._lastBoundingBoxSize.width;b=2*S,y=t.x-S,b>A&&!this._isInitialRender&&!this._growAfterOpen&&(y=t.x-A/2)}return{top:l,left:y,bottom:u,right:w,width:b,height:s}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=Gr(n.height),r.top=Gr(n.top),r.bottom=Gr(n.bottom),r.width=Gr(n.width),r.left=Gr(n.left),r.right=Gr(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Gr(s)),l&&(r.maxWidth=Gr(l))}this._lastBoundingBoxSize=n,Ov(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ov(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ov(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){const b=this._viewportRuler.getViewportScrollPosition();Ov(n,this._getExactOverlayY(e,t,b)),Ov(n,this._getExactOverlayX(e,t,b))}else n.position="static";let u="",f=this._getOffset(e,"x"),p=this._getOffset(e,"y");f&&(u+=`translateX(${f}px) `),p&&(u+=`translateY(${p}px)`),n.transform=u.trim(),l.maxHeight&&(r?n.maxHeight=Gr(l.maxHeight):s&&(n.maxHeight="")),l.maxWidth&&(r?n.maxWidth=Gr(l.maxWidth):s&&(n.maxWidth="")),Ov(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Gr(s.y),r}_getExactOverlayX(t,e,n){let l,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),l=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===l?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Gr(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:q4(t,n),isOriginOutsideView:XL(t,n),isOverlayClipped:q4(e,n),isOverlayOutsideView:XL(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&y_(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof a.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Ov(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function K4(i){if("number"!=typeof i&&null!=i){const[t,e]=i.split(yee);return e&&"px"!==e?null:parseFloat(t)}return i||null}function Q4(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const J4="cdk-global-overlay-wrapper";class wee{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(J4),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:l,maxHeight:u}=n,f=!("100%"!==r&&"100vw"!==r||l&&"100%"!==l&&"100vw"!==l),p=!("100%"!==s&&"100vh"!==s||u&&"100%"!==u&&"100vh"!==u),b=this._xPosition,y=this._xOffset,w="rtl"===this._overlayRef.getConfig().direction;let S="",A="",P="";f?P="flex-start":"center"===b?(P="center",w?A=y:S=y):w?"left"===b||"end"===b?(P="flex-end",S=y):("right"===b||"start"===b)&&(P="flex-start",A=y):"left"===b||"start"===b?(P="flex-start",S=y):("right"===b||"end"===b)&&(P="flex-end",A=y),t.position=this._cssPosition,t.marginLeft=f?"0":S,t.marginTop=p?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=f?"0":A,e.justifyContent=P,e.alignItems=p?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(J4),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Eee=(()=>{class i{constructor(e,n,r,s){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=s}global(){return new wee}flexibleConnectedTo(e){return new xee(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(uI),a.LFG(ye),a.LFG(sr),a.LFG(SI))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Cee=0,Dl=(()=>{class i{constructor(e,n,r,s,l,u,f,p,b,y,w,S){this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=l,this._injector=u,this._ngZone=f,this._document=p,this._directionality=b,this._location=y,this._outsideClickDispatcher=w,this._animationsModuleType=S}create(e){const n=this._createHostElement(),r=this._createPaneElement(n),s=this._createPortalOutlet(r),l=new CI(e);return l.direction=l.direction||this._directionality.value,new LC(s,n,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const n=this._document.createElement("div");return n.id="cdk-overlay-"+Cee++,n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new hee(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(gee),a.LFG(SI),a.LFG(a._Vd),a.LFG(Eee),a.LFG(vee),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(ye),a.LFG(Md),a.LFG(Et),a.LFG(bee),a.LFG(a.QbO,8))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const See=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],eG=new a.OlP("cdk-connected-overlay-scroll-strategy");let KL=(()=>{class i{constructor(e){this.elementRef=e}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return i})(),tG=(()=>{class i{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Pn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Pn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Pn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Pn(e)}get push(){return this._push}set push(e){this._push=Pn(e)}constructor(e,n,r,s,l){this._overlay=e,this._dir=l,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ps.w0.EMPTY,this._attachSubscription=ps.w0.EMPTY,this._detachSubscription=ps.w0.EMPTY,this._positionSubscription=ps.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new a.vpe,this.positionChange=new a.vpe,this.attach=new a.vpe,this.detach=new a.vpe,this.overlayKeydown=new a.vpe,this.overlayOutsideClick=new a.vpe,this._templatePortal=new wI(n,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=See);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),27===n.keyCode&&!this.disableClose&&!za(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{this.overlayOutsideClick.next(n)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new CI({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(n.width=this.width),(this.height||0===this.height)&&(n.height=this.height),(this.minWidth||0===this.minWidth)&&(n.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){const n=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof KL?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function dee(i,t=!1){return(0,is.e)((e,n)=>{let r=0;e.subscribe((0,ns.x)(n,s=>{const l=i(s,r++);(l||t)&&n.next(s),!l&&n.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(Dl),a.Y36(a.Rgc),a.Y36(a.s_b),a.Y36(eG),a.Y36(Md,8))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[a.TTD]})}return i})();const Tee={provide:eG,deps:[Dl],useFactory:function Mee(i){return()=>i.scrollStrategies.reposition()}};let FC=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({providers:[Dl,Tee],imports:[C_,EI,kL,kL]})}return i})();const Aee=["trigger"],Dee=["panel"];function Iee(i,t){if(1&i&&(a.TgZ(0,"span",10),a._uU(1),a.qZA()),2&i){const e=a.oxw();a.xp6(1),a.Oqu(e.placeholder)}}function kee(i,t){if(1&i&&(a.TgZ(0,"span",14),a._uU(1),a.qZA()),2&i){const e=a.oxw(2);a.xp6(1),a.Oqu(e.triggerValue)}}function Ree(i,t){1&i&&a.Hsn(0,0,["*ngSwitchCase","true"])}function Pee(i,t){if(1&i&&(a.TgZ(0,"span",11),a.YNc(1,kee,2,1,"span",12),a.YNc(2,Ree,1,0,"ng-content",13),a.qZA()),2&i){const e=a.oxw();a.Q6J("ngSwitch",!!e.customTrigger),a.xp6(2),a.Q6J("ngSwitchCase",!0)}}function Oee(i,t){if(1&i){const e=a.EpF();a.O4$(),a.kcU(),a.TgZ(0,"div",15,16),a.NdJ("@transformPanel.done",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._handleKeydown(r))}),a.Hsn(2,1),a.qZA()}if(2&i){const e=a.oxw();a.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),a.Q6J("ngClass",e.panelClass)("@transformPanel","showing"),a.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Nee=[[["mat-select-trigger"]],"*"],Lee=["mat-select-trigger","*"],Fee={transformPanelWrap:Kr("transformPanelWrap",[xn("* => void",Xl("@transformPanel",[Uo()],{optional:!0}))]),transformPanel:Kr("transformPanel",[Hn("void",Sn({opacity:0,transform:"scale(1, 0.8)"})),xn("void => showing",Mi("120ms cubic-bezier(0, 0, 0.2, 1)",Sn({opacity:1,transform:"scale(1, 1)"}))),xn("* => void",Mi("100ms linear",Sn({opacity:0})))])};let nG=0;const iG=new a.OlP("mat-select-scroll-strategy"),Bee=new a.OlP("MAT_SELECT_CONFIG"),Vee={provide:iG,deps:[Dl],useFactory:function Uee(i){return()=>i.scrollStrategies.reposition()}},zee=new a.OlP("MatSelectTrigger");class Hee{constructor(t,e){this.source=t,this.value=e}}const Gee=S_(Lu(la(ZR(class{constructor(i,t,e,n,r){this._elementRef=i,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r,this.stateChanges=new sn.x}}))));let Wee=(()=>{class i extends Gee{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(ma.required)??!1}set required(e){this._required=Pn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Pn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Pn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=jo(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,n,r,s,l,u,f,p,b,y,w,S,A,P){super(l,s,f,p,y),this._viewportRuler=e,this._changeDetectorRef=n,this._ngZone=r,this._dir=u,this._parentFormField=b,this._liveAnnouncer=A,this._defaultOptions=P,this._panelOpen=!1,this._compareWith=(I,k)=>I===k,this._uid="mat-select-"+nG++,this._triggerAriaLabelledBy=null,this._destroy=new sn.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+nG++,this._panelDoneAnimatingStream=new sn.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Ng(()=>{const I=this.options;return I?I.changes.pipe(pd(I),(0,Ni.w)(()=>(0,Ko.T)(...I.map(k=>k.onSelectionChange)))):this._ngZone.onStable.pipe(kr(1),(0,Ni.w)(()=>this.optionSelectionChanges))}),this.openedChange=new a.vpe,this._openedStream=this.openedChange.pipe(rr(I=>I),(0,gn.U)(()=>{})),this._closedStream=this.openedChange.pipe(rr(I=>!I),(0,gn.U)(()=>{})),this.selectionChange=new a.vpe,this.valueChange=new a.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=P?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=P.typeaheadDebounceInterval),this._scrollStrategyFactory=S,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(w)||0,this.id=this.id}ngOnInit(){this._selectionModel=new TL(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,uy.x)(),bi(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(bi(this._destroy)).subscribe(e=>{e.added.forEach(n=>n.select()),e.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(pd(null),bi(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),n=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(void 0!==this._previousControl&&null!==n.disabled&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const n=`${this.id}-panel`;this._trackedModal&&hw(this._trackedModal,"aria-owns",n),uw(e,"aria-owns",n),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(hw(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const n=e.keyCode,r=40===n||38===n||37===n||39===n,s=13===n||32===n,l=this._keyManager;if(!l.isTyping()&&s&&!za(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const u=this.selected;l.onKeydown(e);const f=this.selected;f&&u!==f&&this._liveAnnouncer.announce(f.viewValue,1e4)}}_handleOpenKeydown(e){const n=this._keyManager,r=e.keyCode,s=40===r||38===r,l=n.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(l||13!==r&&32!==r||!n.activeItem||za(e))if(!l&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const u=this.options.some(f=>!f.disabled&&!f.selected);this.options.forEach(f=>{f.disabled||(u?f.select():f.deselect())})}else{const u=n.activeItemIndex;n.onKeydown(e),this._multiple&&s&&e.shiftKey&&n.activeItem&&n.activeItemIndex!==u&&n.activeItem._selectViaInteraction()}else e.preventDefault(),n.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(kr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{const n=this._selectOptionByValue(e);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_skipPredicate(e){return e.disabled}_initKeyManager(){this._keyManager=new TR(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Ko.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(bi(e)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Ko.T)(...this.options.map(n=>n._stateChanges)).pipe(bi(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,n){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),n&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),n&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,e):e.indexOf(n)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let n=null;n=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){e=n;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(uI),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(A_),a.Y36(a.SBq),a.Y36(Md,8),a.Y36(XE,8),a.Y36(Dp,8),a.Y36(CL,8),a.Y36(eh,10),a.$8M("tabindex"),a.Y36(iG),a.Y36(NM),a.Y36(Bee,8))};static#t=this.\u0275dir=a.lG2({type:i,viewQuery:function(n,r){if(1&n&&(a.Gf(Aee,5),a.Gf(Dee,5),a.Gf(tG,5)),2&n){let s;a.iGM(s=a.CRH())&&(r.trigger=s.first),a.iGM(s=a.CRH())&&(r.panel=s.first),a.iGM(s=a.CRH())&&(r._overlayDir=s.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[a.qOj,a.TTD]})}return i})(),rG=(()=>{class i extends Wee{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=e=>!this.panelOpen&&e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(bi(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const n=this.options.toArray()[e];if(n){const r=this.panel.nativeElement,s=function t1(i,t,e){if(e.length){let n=t.toArray(),r=e.toArray(),s=0;for(let l=0;l<i+1;l++)n[l].group&&n[l].group===r[s]&&s++;return s}return 0}(e,this.options,this.optionGroups),l=n._getHostElement();r.scrollTop=0===e&&1===s?0:function rT(i,t,e,n){return i<e?i:i+t>e+n?Math.max(0,i-n+t):e}(l.offsetTop,l.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new Hee(this,e)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof KL?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Pn(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(i)))(r||i)}}();static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["mat-select"]],contentQueries:function(n,r,s){if(1&n&&(a.Suo(s,zee,5),a.Suo(s,xy,5),a.Suo(s,tT,5)),2&n){let l;a.iGM(l=a.CRH())&&(r.customTrigger=l.first),a.iGM(l=a.CRH())&&(r.options=l),a.iGM(l=a.CRH())&&(r.optionGroups=l)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(n,r){1&n&&a.NdJ("keydown",function(l){return r._handleKeydown(l)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&n&&(a.uIk("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),a.ekj("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[a._Bn([{provide:EL,useExisting:i},{provide:Iw,useExisting:i}]),a.qOj],ngContentSelectors:Lee,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(n,r){if(1&n&&(a.F$t(Nee),a.TgZ(0,"div",0,1),a.NdJ("click",function(){return r.toggle()}),a.TgZ(3,"div",2),a.YNc(4,Iee,2,1,"span",3),a.YNc(5,Pee,3,2,"span",4),a.qZA(),a.TgZ(6,"div",5)(7,"div",6),a.O4$(),a.TgZ(8,"svg",7),a._UZ(9,"path",8),a.qZA()()()(),a.YNc(10,Oee,3,9,"ng-template",9),a.NdJ("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&n){const s=a.MAs(1);a.xp6(3),a.Q6J("ngSwitch",r.empty),a.uIk("id",r._valueId),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1),a.xp6(5),a.Q6J("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[Sa,Ma,Pl,dh,tG,KL],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[Fee.transformPanel]},changeDetection:0})}return i})(),sG=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({providers:[Vee],imports:[ai,FC,sT,hi,Pv,SL,sT,hi]})}return i})();const jee=["tooltip"],oG=new a.OlP("mat-tooltip-scroll-strategy"),qee={provide:oG,deps:[Dl],useFactory:function Yee(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}},Xee=new a.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function Zee(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),aG="tooltip-panel",cG=ff({passive:!0});let nte=(()=>{class i{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Pn(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Pn(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=jo(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=jo(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,n,r,s,l,u,f,p,b,y,w,S){this._overlay=e,this._elementRef=n,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=l,this._platform=u,this._ariaDescriber=f,this._focusMonitor=p,this._dir=y,this._defaultOptions=w,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new sn.x,this._scrollStrategy=b,this._document=S,w&&(this._showDelay=w.showDelay,this._hideDelay=w.hideDelay,w.position&&(this.position=w.position),w.positionAtOrigin&&(this.positionAtOrigin=w.positionAtOrigin),w.touchGestures&&(this.touchGestures=w.touchGestures)),y.change.pipe(bi(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(bi(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,r])=>{e.removeEventListener(n,r,cG)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(n);this._detach(),this._portal=this._portal||new xI(this._tooltipComponent,this._viewContainerRef);const s=this._tooltipInstance=r.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(bi(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(e)}hide(e=this.hideDelay){const n=this._tooltipInstance;n&&(n.isVisible()?n.hide(e):(n._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&s._origin instanceof a.SBq)return this._overlayRef;this._detach()}const n=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return r.positionChanges.pipe(bi(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${aG}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(bi(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(bi(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(bi(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!za(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const n=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();n.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n||"below"==n?r={originX:"center",originY:"above"==n?"top":"bottom"}:"before"==n||"left"==n&&e||"right"==n&&!e?r={originX:"start",originY:"center"}:("after"==n||"right"==n&&e||"left"==n&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:l}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:l}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n?r={overlayX:"center",overlayY:"bottom"}:"below"==n?r={overlayX:"center",overlayY:"top"}:"before"==n||"left"==n&&e||"right"==n&&!e?r={overlayX:"end",overlayY:"center"}:("after"==n||"right"==n&&e||"left"==n&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:l}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:l}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(kr(1),bi(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,n){return"above"===this.position||"below"===this.position?"top"===n?n="bottom":"bottom"===n&&(n="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:n}}_updateCurrentPositionClass(e){const{overlayY:n,originX:r,originY:s}=e;let l;if(l="center"===n?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===n&&"top"===s?"above":"below",l!==this._currentPosition){const u=this._overlayRef;if(u){const f=`${this._cssClassPrefix}-${aG}-`;u.removePanelClass(f+this._currentPosition),u.addPanelClass(f+l)}this._currentPosition=l}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let n;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(n=e),this.show(void 0,n)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const n=e.targetTouches?.[0],r=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",n=>{const r=n.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const n=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",n],["touchcancel",n])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,cG)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const n=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const n=this._elementRef.nativeElement,r=n.style;("on"===e||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(n){a.$Z()};static#t=this.\u0275dir=a.lG2({type:i,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return i})(),ite=(()=>{class i extends nte{constructor(e,n,r,s,l,u,f,p,b,y,w,S){super(e,n,r,s,l,u,f,p,b,y,w,S),this._tooltipComponent=ste,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(Dl),a.Y36(a.SBq),a.Y36(N4),a.Y36(a.s_b),a.Y36(a.R0b),a.Y36(sr),a.Y36(bf),a.Y36(gl),a.Y36(oG),a.Y36(Md,8),a.Y36(Xee,8),a.Y36(ye))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,r){2&n&&a.ekj("mat-mdc-tooltip-disabled",r.disabled)},exportAs:["matTooltip"],features:[a.qOj]})}return i})(),rte=(()=>{class i{constructor(e,n){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new sn.x,this._animationsDisabled="NoopAnimations"===n}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const n=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(n.classList.remove(e?s:r),n.classList.add(e?r:s),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const l=getComputedStyle(n);("0s"===l.getPropertyValue("animation-duration")||"none"===l.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.sBO),a.Y36(a.QbO,8))};static#t=this.\u0275dir=a.lG2({type:i})}return i})(),ste=(()=>{class i extends rte{constructor(e,n,r){super(e,r),this._elementRef=n,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.QbO,8))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(n,r){if(1&n&&a.Gf(jee,7),2&n){let s;a.iGM(s=a.CRH())&&(r._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(n,r){1&n&&a.NdJ("mouseleave",function(l){return r._handleMouseLeave(l)}),2&n&&a.Udp("zoom",r.isVisible()?1:null)},features:[a.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(n,r){1&n&&(a.TgZ(0,"div",0,1),a.NdJ("animationend",function(l){return r._handleAnimationEnd(l)}),a.TgZ(2,"div",2),a._uU(3),a.qZA()()),2&n&&(a.ekj("mdc-tooltip--multiline",r._isMultiline),a.Q6J("ngClass",r.tooltipClass),a.xp6(3),a.Oqu(r.message))},dependencies:[Sa],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return i})(),ote=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({providers:[qee],imports:[UM,ai,FC,hi,hi,Pv]})}return i})();function ate(i,t){if(1&i&&(a.TgZ(0,"mat-option",19),a._uU(1),a.qZA()),2&i){const e=t.$implicit;a.Q6J("value",e),a.xp6(1),a.hij(" ",e," ")}}function cte(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"mat-form-field",16)(1,"mat-select",17),a.NdJ("selectionChange",function(r){a.CHM(e);const s=a.oxw(2);return a.KtG(s._changePageSize(r.value))}),a.YNc(2,ate,2,2,"mat-option",18),a.qZA()()}if(2&i){const e=a.oxw(2);a.Q6J("appearance",e._formFieldAppearance)("color",e.color),a.xp6(1),a.Q6J("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),a.xp6(1),a.Q6J("ngForOf",e._displayedPageSizeOptions)}}function lte(i,t){if(1&i&&(a.TgZ(0,"div",20),a._uU(1),a.qZA()),2&i){const e=a.oxw(2);a.xp6(1),a.Oqu(e.pageSize)}}function dte(i,t){if(1&i&&(a.TgZ(0,"div",12)(1,"div",13),a._uU(2),a.qZA(),a.YNc(3,cte,3,8,"mat-form-field",14),a.YNc(4,lte,2,1,"div",15),a.qZA()),2&i){const e=a.oxw();a.xp6(1),a.s9C("id",e._pageSizeLabelId),a.xp6(1),a.hij(" ",e._intl.itemsPerPageLabel," "),a.xp6(1),a.Q6J("ngIf",e._displayedPageSizeOptions.length>1),a.xp6(1),a.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function ute(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"button",21),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.firstPage())}),a.O4$(),a.TgZ(1,"svg",7),a._UZ(2,"path",22),a.qZA()()}if(2&i){const e=a.oxw();a.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),a.uIk("aria-label",e._intl.firstPageLabel)}}function hte(i,t){if(1&i){const e=a.EpF();a.O4$(),a.kcU(),a.TgZ(0,"button",23),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.lastPage())}),a.O4$(),a.TgZ(1,"svg",7),a._UZ(2,"path",24),a.qZA()()}if(2&i){const e=a.oxw();a.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),a.uIk("aria-label",e._intl.lastPageLabel)}}let MI=(()=>{class i{constructor(){this.changes=new sn.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,n,r)=>{if(0==r||0==n)return`0 of ${r}`;const s=e*n;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+n,r):s+n} of ${r}`}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const mte={provide:MI,deps:[[new a.FiY,new a.tp0,MI]],useFactory:function fte(i){return i||new MI}},gte=new a.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),_te=la(_y(class{}));let vte=(()=>{class i extends _te{get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(jo(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=jo(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(jo(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(n=>jo(n)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=Pn(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=Pn(e)}constructor(e,n,r){if(super(),this._intl=e,this._changeDetectorRef=n,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new a.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:s,pageSizeOptions:l,hidePageSize:u,showFirstLastButtons:f}=r;null!=s&&(this._pageSize=s),null!=l&&(this._pageSizeOptions=l),null!=u&&(this._hidePageSize=u),null!=f&&(this._showFirstLastButtons=f)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,n)=>e-n),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(n){a.$Z()};static#t=this.\u0275dir=a.lG2({type:i,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[a.qOj]})}return i})(),bte=0,lG=(()=>{class i extends vte{constructor(e,n,r){super(e,n,r),this._pageSizeLabelId="mat-paginator-page-size-label-"+bte++,this._formFieldAppearance=r?.formFieldAppearance||"outline"}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(MI),a.Y36(a.sBO),a.Y36(gte,8))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[a.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(n,r){1&n&&(a.TgZ(0,"div",0)(1,"div",1),a.YNc(2,dte,5,4,"div",2),a.TgZ(3,"div",3)(4,"div",4),a._uU(5),a.qZA(),a.YNc(6,ute,3,5,"button",5),a.TgZ(7,"button",6),a.NdJ("click",function(){return r.previousPage()}),a.O4$(),a.TgZ(8,"svg",7),a._UZ(9,"path",8),a.qZA()(),a.kcU(),a.TgZ(10,"button",9),a.NdJ("click",function(){return r.nextPage()}),a.O4$(),a.TgZ(11,"svg",7),a._UZ(12,"path",10),a.qZA()(),a.YNc(13,hte,3,5,"button",11),a.qZA()()()),2&n&&(a.xp6(2),a.Q6J("ngIf",!r.hidePageSize),a.xp6(3),a.hij(" ",r._intl.getRangeLabel(r.pageIndex,r.pageSize,r.length)," "),a.xp6(1),a.Q6J("ngIf",r.showFirstLastButtons),a.xp6(1),a.Q6J("matTooltip",r._intl.previousPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("matTooltipPosition","above")("disabled",r._previousButtonsDisabled()),a.uIk("aria-label",r._intl.previousPageLabel),a.xp6(3),a.Q6J("matTooltip",r._intl.nextPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("matTooltipPosition","above")("disabled",r._nextButtonsDisabled()),a.uIk("aria-label",r._intl.nextPageLabel),a.xp6(3),a.Q6J("ngIf",r.showFirstLastButtons))},dependencies:[$c,qr,m1,cI,rG,xy,ite],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return i})(),yte=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({providers:[mte],imports:[ai,Rw,sG,ote]})}return i})();const xte=["mat-sort-header",""];function wte(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"div",3),a.NdJ("@arrowPosition.start",function(){a.CHM(e);const r=a.oxw();return a.KtG(r._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){a.CHM(e);const r=a.oxw();return a.KtG(r._disableViewStateAnimation=!1)}),a._UZ(1,"div",4),a.TgZ(2,"div",5),a._UZ(3,"div",6)(4,"div",7)(5,"div",8),a.qZA()()}if(2&i){const e=a.oxw();a.Q6J("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),a.xp6(2),a.Q6J("@indicator",e._getArrowDirectionState()),a.xp6(1),a.Q6J("@leftPointer",e._getArrowDirectionState()),a.xp6(1),a.Q6J("@rightPointer",e._getArrowDirectionState())}}const Ete=["*"],dG=new a.OlP("MAT_SORT_DEFAULT_OPTIONS"),Cte=_y(la(class{}));let QL=(()=>{class i extends Cte{get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Pn(e)}constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new sn.x,this.start="asc",this._direction="",this.sortChange=new a.vpe}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let r=function Ste(i,t){let e=["asc","desc"];return"desc"==i&&e.reverse(),t||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),s=r.indexOf(this.direction)+1;return s>=r.length&&(s=0),r[s]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(dG,8))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[a.qOj,a.TTD]})}return i})();const zp=GM.ENTERING+" "+HM.STANDARD_CURVE,U0={indicator:Kr("indicator",[Hn("active-asc, asc",Sn({transform:"translateY(0px)"})),Hn("active-desc, desc",Sn({transform:"translateY(10px)"})),xn("active-asc <=> active-desc",Mi(zp))]),leftPointer:Kr("leftPointer",[Hn("active-asc, asc",Sn({transform:"rotate(-45deg)"})),Hn("active-desc, desc",Sn({transform:"rotate(45deg)"})),xn("active-asc <=> active-desc",Mi(zp))]),rightPointer:Kr("rightPointer",[Hn("active-asc, asc",Sn({transform:"rotate(45deg)"})),Hn("active-desc, desc",Sn({transform:"rotate(-45deg)"})),xn("active-asc <=> active-desc",Mi(zp))]),arrowOpacity:Kr("arrowOpacity",[Hn("desc-to-active, asc-to-active, active",Sn({opacity:1})),Hn("desc-to-hint, asc-to-hint, hint",Sn({opacity:.54})),Hn("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",Sn({opacity:0})),xn("* => asc, * => desc, * => active, * => hint, * => void",Mi("0ms")),xn("* <=> *",Mi(zp))]),arrowPosition:Kr("arrowPosition",[xn("* => desc-to-hint, * => desc-to-active",Mi(zp,ro([Sn({transform:"translateY(-25%)"}),Sn({transform:"translateY(0)"})]))),xn("* => hint-to-desc, * => active-to-desc",Mi(zp,ro([Sn({transform:"translateY(0)"}),Sn({transform:"translateY(25%)"})]))),xn("* => asc-to-hint, * => asc-to-active",Mi(zp,ro([Sn({transform:"translateY(25%)"}),Sn({transform:"translateY(0)"})]))),xn("* => hint-to-asc, * => active-to-asc",Mi(zp,ro([Sn({transform:"translateY(0)"}),Sn({transform:"translateY(-25%)"})]))),Hn("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",Sn({transform:"translateY(0)"})),Hn("hint-to-desc, active-to-desc, desc",Sn({transform:"translateY(-25%)"})),Hn("hint-to-asc, active-to-asc, asc",Sn({transform:"translateY(25%)"}))]),allowChildren:Kr("allowChildren",[xn("* <=> *",[Xl("@*",Uo(),{optional:!0})])])};let TI=(()=>{class i{constructor(){this.changes=new sn.x}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Tte={provide:TI,deps:[[new a.FiY,new a.tp0,TI]],useFactory:function Mte(i){return i||new TI}},Ate=la(class{});let Dte=(()=>{class i extends Ate{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Pn(e)}constructor(e,n,r,s,l,u,f,p){super(),this._intl=e,this._changeDetectorRef=n,this._sort=r,this._columnDef=s,this._focusMonitor=l,this._elementRef=u,this._ariaDescriber=f,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",p?.arrowPosition&&(this.arrowPosition=p?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const n=!!e;n!==this._showIndicatorHint&&(this._setIndicatorHintVisible(n),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=(0,Ko.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(TI),a.Y36(a.sBO),a.Y36(QL,8),a.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),a.Y36(gl),a.Y36(a.SBq),a.Y36(bf,8),a.Y36(dG,8))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(n,r){1&n&&a.NdJ("click",function(){return r._handleClick()})("keydown",function(l){return r._handleKeydown(l)})("mouseenter",function(){return r._setIndicatorHintVisible(!0)})("mouseleave",function(){return r._setIndicatorHintVisible(!1)}),2&n&&(a.uIk("aria-sort",r._getAriaSortAttribute()),a.ekj("mat-sort-header-disabled",r._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[a.qOj],attrs:xte,ngContentSelectors:Ete,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(n,r){1&n&&(a.F$t(),a.TgZ(0,"div",0)(1,"div",1),a.Hsn(2),a.qZA(),a.YNc(3,wte,6,6,"div",2),a.qZA()),2&n&&(a.ekj("mat-sort-header-sorted",r._isSorted())("mat-sort-header-position-before","before"===r.arrowPosition),a.uIk("tabindex",r._isDisabled()?null:0)("role",r._isDisabled()?null:"button"),a.xp6(3),a.Q6J("ngIf",r._renderArrow()))},dependencies:[qr],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[U0.indicator,U0.leftPointer,U0.rightPointer,U0.arrowOpacity,U0.arrowPosition,U0.allowChildren]},changeDetection:0})}return i})(),Ite=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({providers:[Tte],imports:[ai,hi]})}return i})();function kte(i,t){}class AI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let uG=(()=>{class i extends qL{constructor(e,n,r,s,l,u,f,p){super(),this._elementRef=e,this._focusTrapFactory=n,this._config=s,this._interactivityChecker=l,this._ngZone=u,this._overlayRef=f,this._focusMonitor=p,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=b=>{this._portalOutlet.hasAttached();const y=this._portalOutlet.attachDomPortal(b);return this._contentAttached(),y},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(n)}_focusByCssSelector(e,n){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,n)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let n=null;if("string"==typeof e?n=this._document.querySelector(e):"boolean"==typeof e?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&"function"==typeof n.focus){const r=ty(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,n=ty();return e===n||e.contains(n)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=ty())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.SBq),a.Y36(w_),a.Y36(ye,8),a.Y36(AI),a.Y36(cp),a.Y36(a.R0b),a.Y36(LC),a.Y36(gl))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(n,r){if(1&n&&a.Gf(ZL,7),2&n){let s;a.iGM(s=a.CRH())&&(r._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,r){2&n&&a.uIk("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,r){1&n&&a.YNc(0,kte,0,0,"ng-template",0)},dependencies:[ZL],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return i})();class JL{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new sn.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{27===n.keyCode&&!this.disableClose&&!za(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(t),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const hG=new a.OlP("DialogScrollStrategy"),Rte=new a.OlP("DialogData"),Pte=new a.OlP("DefaultDialogConfig"),Nte={provide:hG,deps:[Dl],useFactory:function Ote(i){return()=>i.scrollStrategies.block()}};let Lte=0,fG=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,n,r,s,l,u){this._overlay=e,this._injector=n,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new sn.x,this._afterOpenedAtThisLevel=new sn.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Ng(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(pd(void 0))),this._scrollStrategy=u}open(e,n){(n={...this._defaultOptions||new AI,...n}).id=n.id||"cdk-dialog-"+Lte++,n.id&&this.getDialogById(n.id);const s=this._getOverlayConfig(n),l=this._overlay.create(s),u=new JL(l,n),f=this._attachContainer(l,u,n);return u.containerInstance=f,this._attachDialogContent(e,u,f,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.closed.subscribe(()=>this._removeOpenDialog(u,!0)),this.afterOpened.next(u),u}closeAll(){eF(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){eF(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),eF(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const n=new CI({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,r){const s=r.injector||r.viewContainerRef?.injector,l=[{provide:AI,useValue:r},{provide:JL,useValue:n},{provide:LC,useValue:e}];let u;r.container?"function"==typeof r.container?u=r.container:(u=r.container.type,l.push(...r.container.providers(r))):u=uG;const f=new xI(u,r.viewContainerRef,a.zs3.create({parent:s||this._injector,providers:l}),r.componentFactoryResolver);return e.attach(f).instance}_attachDialogContent(e,n,r,s){if(e instanceof a.Rgc){const l=this._createInjector(s,n,r,void 0);let u={$implicit:s.data,dialogRef:n};s.templateContext&&(u={...u,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new wI(e,null,u,l))}else{const l=this._createInjector(s,n,r,this._injector),u=r.attachComponentPortal(new xI(e,s.viewContainerRef,l,s.componentFactoryResolver));n.componentRef=u,n.componentInstance=u.instance}}_createInjector(e,n,r,s){const l=e.injector||e.viewContainerRef?.injector,u=[{provide:Rte,useValue:e.data},{provide:JL,useValue:n}];return e.providers&&("function"==typeof e.providers?u.push(...e.providers(n,e,r)):u.push(...e.providers)),e.direction&&(!l||!l.get(Md,null,{optional:!0}))&&u.push({provide:Md,useValue:{value:e.direction,change:(0,Xt.of)()}}),a.zs3.create({parent:l||s,providers:u})}_removeOpenDialog(e,n){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,l)=>{s?l.setAttribute("aria-hidden",s):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const n=e.parentElement.children;for(let r=n.length-1;r>-1;r--){const s=n[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(Dl),a.LFG(a.zs3),a.LFG(Pte,8),a.LFG(i,12),a.LFG(SI),a.LFG(hG))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac})}return i})();function eF(i,t){let e=i.length;for(;e--;)t(i[e])}let Fte=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({providers:[fG,Nte],imports:[FC,EI,UM,EI]})}return i})();function Ute(i,t){}class DI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const tF="mdc-dialog--open",mG="mdc-dialog--opening",pG="mdc-dialog--closing";let zte=(()=>{class i extends uG{constructor(e,n,r,s,l,u,f,p){super(e,n,r,s,l,u,f,p),this._animationStateChanged=new a.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.SBq),a.Y36(w_),a.Y36(ye,8),a.Y36(DI),a.Y36(cp),a.Y36(a.R0b),a.Y36(LC),a.Y36(gl))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["ng-component"]],features:[a.qOj],decls:0,vars:0,template:function(n,r){},encapsulation:2})}return i})();const gG="--mat-dialog-transition-duration";function _G(i){return null==i?null:"number"==typeof i?i:i.endsWith("ms")?jo(i.substring(0,i.length-2)):i.endsWith("s")?1e3*jo(i.substring(0,i.length-1)):"0"===i?0:null}let Hte=(()=>{class i extends zte{constructor(e,n,r,s,l,u,f,p,b){super(e,n,r,s,l,u,f,b),this._animationMode=p,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?_G(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?_G(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(gG,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(mG,tF)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(tF),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(tF),this._animationsEnabled?(this._hostElement.style.setProperty(gG,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(pG)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(mG,pG)}_waitForAnimationToComplete(e,n){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.SBq),a.Y36(w_),a.Y36(ye,8),a.Y36(DI),a.Y36(cp),a.Y36(a.R0b),a.Y36(LC),a.Y36(a.QbO,8),a.Y36(gl))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(n,r){2&n&&(a.Ikx("id",r._config.id),a.uIk("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),a.ekj("_mat-animation-noopable",!r._animationsEnabled))},features:[a.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,r){1&n&&(a.TgZ(0,"div",0)(1,"div",1),a.YNc(2,Ute,0,0,"ng-template",2),a.qZA()())},dependencies:[ZL],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return i})();class nF{constructor(t,e,n){this._ref=t,this._containerInstance=n,this._afterOpened=new sn.x,this._beforeClosed=new sn.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,n._animationStateChanged.pipe(rr(r=>"opened"===r.state),kr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(rr(r=>"closed"===r.state),kr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Ko.T)(this.backdropClick(),this.keydownEvents().pipe(rr(r=>27===r.keyCode&&!this.disableClose&&!za(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),vG(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(rr(e=>"closing"===e.state),kr(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function vG(i,t,e){return i._closeInteractionType=t,i.close(e)}const bG=new a.OlP("MatMdcDialogData"),Gte=new a.OlP("mat-mdc-dialog-default-options"),yG=new a.OlP("mat-mdc-dialog-scroll-strategy"),jte={provide:yG,deps:[Dl],useFactory:function Wte(i){return()=>i.scrollStrategies.block()}};let $te=0,Yte=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,n,r,s,l,u,f,p,b,y){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=f,this._dialogContainerType=p,this._dialogDataToken=b,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new sn.x,this._afterOpenedAtThisLevel=new sn.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=DI,this.afterAllClosed=Ng(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(pd(void 0))),this._scrollStrategy=u,this._dialog=n.get(fG)}open(e,n){let r;(n={...this._defaultOptions||new DI,...n}).id=n.id||`${this._idPrefix}${$te++}`,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...n,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:AI,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(l,u,f)=>(r=new this._dialogRefConstructor(l,n,f),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:f},{provide:this._dialogDataToken,useValue:u.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=s.componentRef,r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const l=this.openDialogs.indexOf(r);l>-1&&(this.openDialogs.splice(l,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}static#e=this.\u0275fac=function(n){a.$Z()};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac})}return i})(),iF=(()=>{class i extends Yte{constructor(e,n,r,s,l,u,f,p){super(e,n,s,u,f,l,nF,Hte,bG,p),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(Dl),a.LFG(a.zs3),a.LFG(Et,8),a.LFG(Gte,8),a.LFG(yG),a.LFG(i,12),a.LFG(SI),a.LFG(a.QbO,8))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac})}return i})(),qte=(()=>{class i{constructor(e,n,r){this.dialogRef=e,this._elementRef=n,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function Zte(i,t){let e=i.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(n=>n.id===e.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const n=e._matDialogClose||e._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(e){vG(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(nF,8),a.Y36(a.SBq),a.Y36(iF))};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(n,r){1&n&&a.NdJ("click",function(l){return r._onButtonClick(l)}),2&n&&a.uIk("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[a.TTD]})}return i})(),Xte=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({providers:[iF,jte],imports:[Fte,FC,EI,hi,hi]})}return i})();const Kte=["input"],Qte=["label"],Jte=["*"],ene=new a.OlP("mat-checkbox-default-options",{providedIn:"root",factory:wG});function wG(){return{color:"accent",clickAction:"check-indeterminate"}}const tne={provide:Bc,useExisting:(0,a.Gpc)(()=>CG),multi:!0};class nne{}let ine=0;const EG=wG(),rne=Lu(Sw(S_(la(class{constructor(i){this._elementRef=i}}))));let sne=(()=>{class i extends rne{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Pn(e)}constructor(e,n,r,s,l,u,f){super(n),this._changeDetectorRef=r,this._ngZone=s,this._animationMode=u,this._options=f,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new a.vpe,this.indeterminateChange=new a.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||EG,this.color=this.defaultColor=this._options.color||EG.color,this.tabIndex=parseInt(l)||0,this.id=this._uniqueId=`${e}${++ine}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const n=Pn(e);n!=this.checked&&(this._checked=n,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const n=Pn(e);n!==this.disabled&&(this._disabled=n,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const n=e!=this._indeterminate;this._indeterminate=Pn(e),n&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_transitionCheckState(e){let n=this._currentCheckState,r=this._getAnimationTargetElement();if(n!==e&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,n){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===n)return this._animationClasses.uncheckedToChecked;if(3==n)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===n?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===n?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===n?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const n=this._inputElement;n&&(n.nativeElement.indeterminate=e)}static#e=this.\u0275fac=function(n){a.$Z()};static#t=this.\u0275dir=a.lG2({type:i,viewQuery:function(n,r){if(1&n&&(a.Gf(Kte,5),a.Gf(Qte,5),a.Gf(up,5)),2&n){let s;a.iGM(s=a.CRH())&&(r._inputElement=s.first),a.iGM(s=a.CRH())&&(r._labelElement=s.first),a.iGM(s=a.CRH())&&(r.ripple=s.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[a.qOj]})}return i})(),CG=(()=>{class i extends sne{constructor(e,n,r,s,l,u){super("mat-mdc-checkbox-",e,n,r,s,l,u),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){const n=new nne;return n.source=this,n.checked=e,n}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.$8M("tabindex"),a.Y36(a.QbO,8),a.Y36(ene,8))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(n,r){2&n&&(a.Ikx("id",r.id),a.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[a._Bn([tne]),a.qOj],ngContentSelectors:Jte,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(n,r){if(1&n&&(a.F$t(),a.TgZ(0,"div",0),a.NdJ("click",function(l){return r._preventBubblingFromLabel(l)}),a.TgZ(1,"div",1,2)(3,"div",3),a.NdJ("click",function(){return r._onTouchTargetClick()}),a.qZA(),a.TgZ(4,"input",4,5),a.NdJ("blur",function(){return r._onBlur()})("click",function(){return r._onInputClick()})("change",function(l){return r._onInteractionEvent(l)}),a.qZA(),a._UZ(6,"div",6),a.TgZ(7,"div",7),a.O4$(),a.TgZ(8,"svg",8),a._UZ(9,"path",9),a.qZA(),a.kcU(),a._UZ(10,"div",10),a.qZA(),a._UZ(11,"div",11),a.qZA(),a.TgZ(12,"label",12,13),a.Hsn(14),a.qZA()()),2&n){const s=a.MAs(2);a.ekj("mdc-form-field--align-end","before"==r.labelPosition),a.xp6(4),a.ekj("mdc-checkbox--selected",r.checked),a.Q6J("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.tabIndex),a.uIk("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("name",r.name)("value",r.value),a.xp6(7),a.Q6J("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),a.xp6(1),a.Q6J("for",r.inputId)}},dependencies:[up],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return i})(),SG=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({})}return i})(),cne=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({imports:[hi,Ad,SG,hi,SG]})}return i})();function lne(i,t){if(1&i&&(a.TgZ(0,"mat-option",7),a._uU(1),a.qZA()),2&i){const e=t.$implicit;a.Q6J("value",e.code),a.xp6(1),a.hij(" ",e.name," ")}}let dne=(()=>{class i{constructor(e,n,r,s,l){this.builder=e,this.service=n,this.dialogref=r,this.toastr=s,this.data=l,this.registerform=this.builder.group({id:this.builder.control(""),name:this.builder.control(""),password:this.builder.control(""),email:this.builder.control(""),gender:this.builder.control("male"),role:this.builder.control("",ma.required),isactive:this.builder.control(!1)}),this.service.GetAllRoll().valueChanges().subscribe(u=>{this.rolelist=u})}ngOnInit(){null!=this.data.usercode&&""!=this.data.usercode&&this.loaduserdata(this.data.usercode)}loaduserdata(e){this.service.Getbycode(e).valueChanges().subscribe(n=>{this.editData=n[0],console.log(this.editData),this.registerform.setValue({id:this.editData.id,name:this.editData.name,password:this.editData.password,email:this.editData.email,gender:this.editData.gender,role:this.editData.role,isactive:this.editData.isactive}),this.idd=this.registerform.value.id})}updateUser(){if(this.registerform.valid){const e=this.registerform.get("id")?.value;""!==e?this.service.Updateuser(e,this.registerform.value).then(()=>{this.toastr.success("Data updated successfully","success"),this.dialogref.close()}).catch(n=>{this.toastr.error("Error updating data: ",n)}):this.toastr.warning("Please Select Role for the user")}else this.toastr.warning("Please Select Role for the user")}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(HO),a.Y36(Rv),a.Y36(nF),a.Y36(IC),a.Y36(bG))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["app-updatepopup"]],decls:19,vars:4,consts:[[1,"example-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["formControlName","role"],[3,"value",4,"ngFor","ngForOf"],["formControlName","isactive",1,"example-margin"],["mat-raised-button","","color","primary",3,"click"],["mat-dialog-close","","mat-raised-button","","color","accent"],[3,"value"]],template:function(n,r){1&n&&(a.TgZ(0,"mat-card")(1,"mat-card-header")(2,"h2"),a._uU(3),a.qZA()(),a.TgZ(4,"mat-card-content")(5,"form",0),a.NdJ("ngSubmit",function(){return r.updateUser}),a.TgZ(6,"mat-form-field",1)(7,"mat-label"),a._uU(8),a.qZA(),a.TgZ(9,"mat-select",2),a.YNc(10,lne,2,2,"mat-option",3),a.qZA()(),a.TgZ(11,"div")(12,"mat-checkbox",4),a._uU(13,"Is Active"),a.qZA()(),a.TgZ(14,"div")(15,"button",5),a.NdJ("click",function(){return r.updateUser()}),a._uU(16,"Update"),a.qZA(),a.TgZ(17,"a",6),a._uU(18,"Close"),a.qZA()()()()()),2&n&&(a.xp6(3),a.Oqu(r.idd),a.xp6(2),a.Q6J("formGroup",r.registerform),a.xp6(3),a.Oqu(r.registerform.value.role),a.xp6(2),a.Q6J("ngForOf",r.rolelist))},dependencies:[$c,cI,kC,rG,xy,_0,v0,b0,CG,qte,Cy,xf,mD,iD,rD,Dp,QE],styles:["h2[_ngcontent-%COMP%]{font-family:verdana}"]})}return i})();function une(i,t){1&i&&(a.TgZ(0,"th",15),a._uU(1," Username "),a.qZA())}function hne(i,t){if(1&i&&(a.TgZ(0,"td",16),a._uU(1),a.qZA()),2&i){const e=t.$implicit;a.xp6(1),a.hij(" ",e.id," ")}}function fne(i,t){1&i&&(a.TgZ(0,"th",17),a._uU(1," Name "),a.qZA())}function mne(i,t){if(1&i&&(a.TgZ(0,"td",16),a._uU(1),a.qZA()),2&i){const e=t.$implicit;a.xp6(1),a.hij(" ",e.name," ")}}function pne(i,t){1&i&&(a.TgZ(0,"th",15),a._uU(1," Email "),a.qZA())}function gne(i,t){if(1&i&&(a.TgZ(0,"td",16),a._uU(1),a.qZA()),2&i){const e=t.$implicit;a.xp6(1),a.hij(" ",e.email," ")}}function _ne(i,t){1&i&&(a.TgZ(0,"th",17),a._uU(1," Status "),a.qZA())}function vne(i,t){if(1&i&&(a.TgZ(0,"td",16),a._uU(1),a.qZA()),2&i){const e=t.$implicit;a.xp6(1),a.hij(" ",e.isactive?"Active":"Inactive"," ")}}function bne(i,t){1&i&&(a.TgZ(0,"th",17),a._uU(1," Role "),a.qZA())}function yne(i,t){if(1&i&&(a.TgZ(0,"td",16),a._uU(1),a.qZA()),2&i){const e=t.$implicit;a.xp6(1),a.hij(" ",""===e.role?"Un Assigned":e.role," ")}}function xne(i,t){1&i&&(a.TgZ(0,"th",15),a._uU(1," Action "),a.qZA())}function wne(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"button",19),a.NdJ("click",function(){a.CHM(e);const r=a.oxw().$implicit,s=a.oxw();return a.KtG(s.updateUser(r.id))}),a._uU(1,"Update"),a.qZA()}}function Ene(i,t){if(1&i&&(a.TgZ(0,"td",16),a.YNc(1,wne,2,0,"button",18),a.qZA()),2&i){const e=t.$implicit;a.xp6(1),a.Q6J("ngIf","admin"!==e.role)}}function Cne(i,t){1&i&&a._UZ(0,"tr",20)}function Sne(i,t){1&i&&a._UZ(0,"tr",21)}const Mne=function(){return[5,10,20]};let Tne=(()=>{class i{constructor(e,n){this.service=e,this.dialog=n,this.displayedColumns=["id","name","email","role","status","action"]}ngAfterViewInit(){}ngOnInit(){this.loadUser()}loadUser(){this.service.GetAll().valueChanges().subscribe(e=>{this.userList=e,this.dataSource=new lee(this.userList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}updateUser(e){this.openDialog("100ms","600ms",e)}openDialog(e,n,r){this.dialog.open(dne,{enterAnimationDuration:e,exitAnimationDuration:n,width:"20%",data:{usercode:r}}).afterClosed().subscribe(l=>{this.loadUser()})}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(Rv),a.Y36(iF))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["app-userlisting"]],viewQuery:function(n,r){if(1&n&&(a.Gf(lG,5),a.Gf(QL,5)),2&n){let s;a.iGM(s=a.CRH())&&(r.paginator=s.first),a.iGM(s=a.CRH())&&(r.sort=s.first)}},decls:29,vars:5,consts:[["role","main",1,"content"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","status"],["matColumnDef","role"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,r){1&n&&(a.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"h2"),a._uU(4,"User Listing"),a.qZA()(),a.TgZ(5,"mat-card-content")(6,"div",1)(7,"table",2),a.ynx(8,3),a.YNc(9,une,2,0,"th",4),a.YNc(10,hne,2,1,"td",5),a.BQk(),a.ynx(11,6),a.YNc(12,fne,2,0,"th",7),a.YNc(13,mne,2,1,"td",5),a.BQk(),a.ynx(14,8),a.YNc(15,pne,2,0,"th",4),a.YNc(16,gne,2,1,"td",5),a.BQk(),a.ynx(17,9),a.YNc(18,_ne,2,0,"th",7),a.YNc(19,vne,2,1,"td",5),a.BQk(),a.ynx(20,10),a.YNc(21,bne,2,0,"th",7),a.YNc(22,yne,2,1,"td",5),a.BQk(),a.ynx(23,11),a.YNc(24,xne,2,0,"th",4),a.YNc(25,Ene,2,1,"td",5),a.BQk(),a.YNc(26,Cne,1,0,"tr",12),a.YNc(27,Sne,1,0,"tr",13),a.qZA(),a._UZ(28,"mat-paginator",14),a.qZA()()()()),2&n&&(a.xp6(7),a.Q6J("dataSource",r.dataSource),a.xp6(19),a.Q6J("matHeaderRowDef",r.displayedColumns),a.xp6(1),a.Q6J("matRowDefColumns",r.displayedColumns),a.xp6(1),a.Q6J("pageSizeOptions",a.DdM(4,Mne)))},dependencies:[qr,_0,v0,b0,z4,GL,H4,WL,HL,G4,jL,$L,W4,j4,lG,QL,Dte,xf]})}return i})(),MG=(()=>{class i{constructor(e,n){this.service=e,this.router=n}canActivate(e,n){return this.service.isloggedin()?!(e.url.length>0&&"user"==e.url[0].path&&"admin"!=this.service.getUserRole()&&(this.router.navigate([""]),1)):(this.router.navigate(["login"]),!1)}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(Rv),a.LFG($i))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Ane=[{path:"",component:GY,canActivate:[MG]},{path:"register",component:mJ},{path:"login",component:pJ},{path:"user",component:Tne,canActivate:[MG]},{path:"circle",component:aB}];let Dne=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({imports:[$x.forRoot(Ane),$x]})}return i})();function TG(i,t){return t?e=>Og(t.pipe(kr(1),function Ine(){return(0,is.e)((i,t)=>{i.subscribe((0,ns.x)(t,ax.Z))})}()),e.pipe(TG(i))):(0,js.z)((e,n)=>(0,Jh.Xf)(i(e,n)).pipe(kr(1),nS(e)))}function AG(i,t=_f.z){const e=P4(i,t);return TG(()=>e)}const kne=["mat-menu-item",""];function Rne(i,t){1&i&&(a.O4$(),a.TgZ(0,"svg",3),a._UZ(1,"polygon",4),a.qZA())}const Pne=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],One=["mat-icon, [matMenuItemIcon]","*"];function Nne(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"div",0),a.NdJ("keydown",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._handleKeydown(r))})("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._onAnimationDone(r))}),a.TgZ(1,"div",1),a.Hsn(2),a.qZA()()}if(2&i){const e=a.oxw();a.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),a.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const Lne=["*"],rF=new a.OlP("MAT_MENU_PANEL"),Fne=S_(la(class{}));let II=(()=>{class i extends Fne{constructor(e,n,r,s,l){super(),this._elementRef=e,this._document=n,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=l,this.role="menuitem",this._hovered=new sn.x,this._focused=new sn.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,n):this._getHostElement().focus(n),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),n=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<n.length;r++)n[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.SBq),a.Y36(ye),a.Y36(gl),a.Y36(rF,8),a.Y36(a.sBO))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(n,r){1&n&&a.NdJ("click",function(l){return r._checkDisabled(l)})("mouseenter",function(){return r._handleMouseEnter()}),2&n&&(a.uIk("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),a.ekj("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[a.qOj],attrs:kne,ngContentSelectors:One,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(n,r){1&n&&(a.F$t(Pne),a.Hsn(0),a.TgZ(1,"span",0),a.Hsn(2,1),a.qZA(),a._UZ(3,"div",1),a.YNc(4,Rne,2,0,"svg",2)),2&n&&(a.xp6(3),a.Q6J("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),a.xp6(1),a.Q6J("ngIf",r._triggersSubmenu))},dependencies:[qr,up],encapsulation:2,changeDetection:0})}return i})();const Une=new a.OlP("MatMenuContent"),kI={transformMenu:Kr("transformMenu",[Hn("void",Sn({opacity:0,transform:"scale(0.8)"})),xn("void => enter",Mi("120ms cubic-bezier(0, 0, 0.2, 1)",Sn({opacity:1,transform:"scale(1)"}))),xn("* => void",Mi("100ms 25ms linear",Sn({opacity:0})))]),fadeInItems:Kr("fadeInItems",[Hn("showing",Sn({opacity:1})),xn("void => *",[Sn({opacity:0}),Mi("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Bne=0;const DG=new a.OlP("mat-menu-default-options",{providedIn:"root",factory:function Vne(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let UC=(()=>{class i{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Pn(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Pn(e)}set panelClass(e){const n=this._previousPanelClass;n&&n.length&&n.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,n,r,s){this._elementRef=e,this._ngZone=n,this._changeDetectorRef=s,this._directDescendantItems=new a.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new sn.x,this.closed=new a.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Bne++,this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this._overlapTrigger=r.overlapTrigger,this._hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new pw(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(pd(this._directDescendantItems),(0,Ni.w)(e=>(0,Ko.T)(...e.map(n=>n._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const n=this._keyManager;if("enter"===this._panelAnimationState&&n.activeItem?._hasFocus()){const r=e.toArray(),s=Math.max(0,Math.min(r.length-1,n.activeItemIndex||0));r[s]&&!r[s].disabled?n.setActiveItem(s):n.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(pd(this._directDescendantItems),(0,Ni.w)(n=>(0,Ko.T)(...n.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const n=e.keyCode,r=this._keyManager;switch(n){case 27:za(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===n||40===n)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(kr(1)).subscribe(()=>{let n=null;if(this._directDescendantItems.length&&(n=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!n||!n.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&n&&n.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const n=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${n}`,s=Object.keys(this._classList).find(l=>l.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,n=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===n,r["mat-menu-below"]="below"===n,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(pd(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(n=>n._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(DG),a.Y36(a.sBO))};static#t=this.\u0275dir=a.lG2({type:i,contentQueries:function(n,r,s){if(1&n&&(a.Suo(s,Une,5),a.Suo(s,II,5),a.Suo(s,II,4)),2&n){let l;a.iGM(l=a.CRH())&&(r.lazyContent=l.first),a.iGM(l=a.CRH())&&(r._allItems=l),a.iGM(l=a.CRH())&&(r.items=l)}},viewQuery:function(n,r){if(1&n&&a.Gf(a.Rgc,5),2&n){let s;a.iGM(s=a.CRH())&&(r.templateRef=s.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}})}return i})(),zne=(()=>{class i extends UC{constructor(e,n,r,s){super(e,n,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(DG),a.Y36(a.sBO))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(n,r){2&n&&a.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[a._Bn([{provide:rF,useExisting:i}]),a.qOj],ngContentSelectors:Lne,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content"]],template:function(n,r){1&n&&(a.F$t(),a.YNc(0,Nne,3,6,"ng-template"))},dependencies:[Sa],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{--mat-menu-container-shape:4px;min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[kI.transformMenu,kI.fadeInItems]},changeDetection:0})}return i})();const IG=new a.OlP("mat-menu-scroll-strategy"),Gne={provide:IG,deps:[Dl],useFactory:function Hne(i){return()=>i.scrollStrategies.reposition()}},kG=ff({passive:!0});let Wne=(()=>{class i{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(n=>{this._destroyMenu(n),("click"===n||"tab"===n)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(n)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,n,r,s,l,u,f,p,b){this._overlay=e,this._element=n,this._viewContainerRef=r,this._menuItemInstance=u,this._dir=f,this._focusMonitor=p,this._ngZone=b,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=ps.w0.EMPTY,this._hoverSubscription=ps.w0.EMPTY,this._menuCloseSubscription=ps.w0.EMPTY,this._changeDetectorRef=(0,a.f3M)(a.sBO),this._handleTouchStart=y=>{lp(y)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new a.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new a.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=l instanceof UC?l:void 0,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,kG)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,kG),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const n=this._createOverlay(e),r=n.getConfig(),s=r.positionStrategy;this._setPosition(e,s),r.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,n.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof UC&&(e._startAnimation(),e._directDescendantItems.changes.pipe(bi(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const n=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,n instanceof UC?(n._resetAnimation(),n.lazyContent?n._animationDone.pipe(rr(r=>"void"===r.toState),kr(1),bi(n.lazyContent._attached)).subscribe({next:()=>n.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),n?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let n=0,r=e.parentMenu;for(;r;)n++,r=r.parentMenu;e.setElevation(n)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const n=this._getOverlayConfig(e);this._subscribeToPositions(e,n.positionStrategy),this._overlayRef=this._overlay.create(n),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new CI({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,n){e.setPositionClasses&&n.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",l="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(s,l)):e.setPositionClasses(s,l)})}_setPosition(e,n){let[r,s]="before"===e.xPosition?["end","start"]:["start","end"],[l,u]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[f,p]=[l,u],[b,y]=[r,s],w=0;if(this.triggersSubmenu()){if(y=r="before"===e.xPosition?"start":"end",s=b="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const S=this._parentMaterialMenu.items.first;this._parentInnerPadding=S?S._getHostElement().offsetTop:0}w="bottom"===l?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(f="top"===l?"bottom":"top",p="top"===u?"bottom":"top");n.withPositions([{originX:r,originY:f,overlayX:b,overlayY:l,offsetY:w},{originX:s,originY:f,overlayX:y,overlayY:l,offsetY:w},{originX:r,originY:p,overlayX:b,overlayY:u,offsetY:-w},{originX:s,originY:p,overlayX:y,overlayY:u,offsetY:-w}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),n=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,Xt.of)(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(rr(l=>l!==this._menuItemInstance),rr(()=>this._menuOpen)):(0,Xt.of)();return(0,Ko.T)(e,r,s,n)}_handleMousedown(e){py(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const n=e.keyCode;(13===n||32===n)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===n&&"ltr"===this.dir||37===n&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(rr(e=>e===this._menuItemInstance&&!e.disabled),AG(0,IL)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof UC&&this.menu._isAnimating?this.menu._animationDone.pipe(kr(1),AG(0,IL),bi(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new wI(e.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(Dl),a.Y36(a.SBq),a.Y36(a.s_b),a.Y36(IG),a.Y36(rF,8),a.Y36(II,10),a.Y36(Md,8),a.Y36(gl),a.Y36(a.R0b))};static#t=this.\u0275dir=a.lG2({type:i,hostVars:3,hostBindings:function(n,r){1&n&&a.NdJ("click",function(l){return r._handleClick(l)})("mousedown",function(l){return r._handleMousedown(l)})("keydown",function(l){return r._handleKeydown(l)}),2&n&&a.uIk("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}})}return i})(),jne=(()=>{class i extends Wne{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(i)))(r||i)}}();static#t=this.\u0275dir=a.lG2({type:i,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[a.qOj]})}return i})(),$ne=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({providers:[Gne],imports:[ai,Ad,hi,FC,Pv,hi]})}return i})();const Yne=["*",[["mat-toolbar-row"]]],qne=["*","mat-toolbar-row"],Zne=Sw(class{constructor(i){this._elementRef=i}});let Xne=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=a.lG2({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return i})(),Kne=(()=>{class i extends Zne{constructor(e,n,r){super(e),this._platform=n,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36(a.SBq),a.Y36(sr),a.Y36(ye))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["mat-toolbar"]],contentQueries:function(n,r,s){if(1&n&&a.Suo(s,Xne,5),2&n){let l;a.iGM(l=a.CRH())&&(r._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(n,r){2&n&&a.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:qne,decls:2,vars:0,template:function(n,r){1&n&&(a.F$t(Yne),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return i})(),Qne=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({imports:[hi,hi]})}return i})();function Jne(i,t){if(1&i&&(a.TgZ(0,"p"),a._uU(1),a.qZA()),2&i){const e=a.oxw(2);a.xp6(1),a.hij("Welcome, ",e.userName,"")}}function eie(i,t){1&i&&(a.TgZ(0,"a",21),a._uU(1,"Users"),a.qZA())}function tie(i,t){if(1&i&&(a.TgZ(0,"mat-toolbar",1),a._UZ(1,"img",2),a.YNc(2,Jne,2,1,"p",3),a.TgZ(3,"div",4)(4,"p"),a.YNc(5,eie,2,0,"a",5),a.qZA(),a.TgZ(6,"p")(7,"a",6),a._uU(8,"Courses"),a.qZA()(),a.TgZ(9,"mat-menu",7,8)(11,"button",9),a._uU(12,"Circle"),a.qZA(),a.TgZ(13,"button",10),a._uU(14,"Square"),a.qZA()()(),a._UZ(15,"span")(16,"div",11),a.TgZ(17,"button",12),a._uU(18,"Logout"),a.qZA(),a.TgZ(19,"a",13),a.O4$(),a.TgZ(20,"svg",14),a._UZ(21,"rect",15)(22,"path",16),a.qZA()(),a.kcU(),a.TgZ(23,"a",17),a.O4$(),a.TgZ(24,"svg",18),a._UZ(25,"path",19)(26,"path",20),a.qZA()()()),2&i){const e=a.MAs(10),n=a.oxw();a.xp6(2),a.Q6J("ngIf",n.userName),a.xp6(3),a.Q6J("ngIf",n.isAdmin),a.xp6(2),a.Q6J("matMenuTriggerFor",e)}}let nie=(()=>{class i{constructor(e,n){this.router=e,this.service=n,this.title="shikshaa",this.isMenuRequire=!1,this.isAdmin=!1,this.isStudent=!1,this.userName=""}ngDoCheck(){let e=this.router.url;this.isMenuRequire="/login"!=e&&"/register"!=e;const n=this.service.getUserRole();this.isAdmin="admin"===n,this.isStudent="Student"===n,this.userName=this.service.getUserName()}static#e=this.\u0275fac=function(n){return new(n||i)(a.Y36($i),a.Y36(Rv))};static#t=this.\u0275cmp=a.Xpm({type:i,selectors:[["app-root"]],decls:2,vars:1,consts:[["class","toolbar","role","banner",4,"ngIf"],["role","banner",1,"toolbar"],["height","40","alt","Shikshaa Logo","src","../assets/Shikshaa_logo_white.svg"],[4,"ngIf"],["id","menu"],["mat-raised-button","","color","primary","routerLink","/user",4,"ngIf"],["mat-raised-button","","color","primary",3,"matMenuTriggerFor"],["yPosition","below"],["belowMenu","matMenu"],["mat-menu-item","","routerLink","/circle"],["mat-menu-item",""],[1,"spacer"],["routerLink","/login","mat-flat-button","","color","basic"],["aria-label","Angular on twitter","target","_blank","rel","noopener","href","https://twitter.com/pre-matrix","title","Twitter"],["id","twitter-logo","height","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 400 400"],["width","400","height","400","fill","none"],["d","M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23","fill","#fff"],["aria-label","Angular on YouTube","target","_blank","rel","noopener","href","https://youtube.com/angular","title","YouTube"],["id","youtube-logo","height","24","width","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","#fff"],["d","M0 0h24v24H0V0z","fill","none"],["d","M21.58 7.19c-.23-.86-.91-1.54-1.77-1.77C18.25 5 12 5 12 5s-6.25 0-7.81.42c-.86.23-1.54.91-1.77 1.77C2 8.75 2 12 2 12s0 3.25.42 4.81c.23.86.91 1.54 1.77 1.77C5.75 19 12 19 12 19s6.25 0 7.81-.42c.86-.23 1.54-.91 1.77-1.77C22 15.25 22 12 22 12s0-3.25-.42-4.81zM10 15V9l5.2 3-5.2 3z"],["mat-raised-button","","color","primary","routerLink","/user"]],template:function(n,r){1&n&&(a.YNc(0,tie,27,3,"mat-toolbar",0),a._UZ(1,"router-outlet")),2&n&&a.Q6J("ngIf",r.isMenuRequire)},dependencies:[qr,Tx,l_,Cy,xf,zne,II,jne,Kne],styles:['*[_ngcontent-%COMP%]{padding:0;margin:0}[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.spacer[_ngcontent-%COMP%]{flex:1}.toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:600}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 16px}#menu[_ngcontent-%COMP%]{padding-left:20px;height:40px;display:flex;justify-content:space-between;font-size:medium}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]{height:40px;margin:0 8px}.toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]{height:40px;margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover{opacity:.8}.content[_ngcontent-%COMP%]{display:flex;margin:82px auto 32px;padding:0 16px;max-width:960px;flex-direction:column;align-items:center}svg.material-icons[_ngcontent-%COMP%]{height:24px;width:auto}svg.material-icons[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#888}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:16px}.card[_ngcontent-%COMP%]{all:unset;border-radius:4px;border:1px solid #eee;background-color:#fafafa;height:40px;width:200px;margin:0 8px 16px;padding:16px;display:flex;flex-direction:row;justify-content:center;align-items:center;transition:all .2s ease-in-out;line-height:24px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child){margin-right:0}.card.card-small[_ngcontent-%COMP%]{height:16px;width:168px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card){cursor:pointer}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover{transform:translateY(-3px);box-shadow:0 4px 17px #00000059}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#696767}.card.highlight-card[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;font-weight:600;border:none;width:auto;min-width:30%;position:relative}.card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:60px}svg#rocket[_ngcontent-%COMP%]{width:80px;position:absolute;left:-10px;top:-24px}svg#rocket-smoke[_ngcontent-%COMP%]{height:calc(100vh - 95px);position:absolute;top:10px;right:180px;z-index:-10}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#000e30}.terminal[_ngcontent-%COMP%]{position:relative;width:80%;max-width:600px;border-radius:6px;padding-top:45px;margin-top:8px;overflow:hidden;background-color:#0f0f10}.terminal[_ngcontent-%COMP%]:before{content:"\\2022\\2022\\2022";position:absolute;top:0;left:0;height:4px;background:rgb(58,58,58);color:#c2c3c4;width:100%;font-size:2rem;line-height:0;padding:14px 0;text-indent:4px}.terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;color:#fff;padding:0 1rem 1rem;margin:0}.circle-link[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:40px;margin:8px;background-color:#fff;border:1px solid #eeeeee;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;transition:1s ease-out}.circle-link[_ngcontent-%COMP%]:hover{transform:translateY(-.25rem);box-shadow:0 3px 15px #0003}footer[_ngcontent-%COMP%]{margin-top:8px;display:flex;align-items:center;line-height:20px}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}.github-star-badge[_ngcontent-%COMP%]{color:#24292e;display:flex;align-items:center;font-size:12px;padding:3px 10px;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-image:linear-gradient(-180deg,#fafbfc,#eff3f6 90%);margin-left:4px;font-weight:600}.github-star-badge[_ngcontent-%COMP%]:hover{background-image:linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);border-color:#1b1f2359;background-position:-.5em}.github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:4px}svg#clouds[_ngcontent-%COMP%]{position:fixed;bottom:-160px;left:-230px;z-index:-10;width:1920px}@media screen and (max-width: 767px){.card-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]:not(.highlight-card){height:16px;margin:8px 0}.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:72px}svg#rocket-smoke[_ngcontent-%COMP%]{right:120px;transform:rotate(-5deg)}}@media screen and (max-width: 575px){svg#rocket-smoke[_ngcontent-%COMP%]{display:none;visibility:hidden}}']})}return i})(),iie=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({imports:[tJ,sG,UY,fJ,cne,oee,yte,Ite,Xte,Rw,$ne]})}return i})(),sie=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({imports:[ai,hi,Pv,Pv,hi]})}return i})(),oie=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({imports:[hi,hi]})}return i})(),Lie=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({imports:[Cd,ai,hi,Ad,Dw,oie]})}return i})();class RI{}class PI{}class sh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const r=e.slice(0,n),s=r.toLowerCase(),l=e.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.setHeaderEntries(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof sh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new sh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof sh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let l=this.headers.get(e);if(!l)return;l=l.filter(u=>-1===s.indexOf(u)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const n=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Fie{encodeKey(t){return LG(t)}encodeValue(t){return LG(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Bie=/%(\d[a-f0-9])/gi,Vie={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function LG(i){return encodeURIComponent(i).replace(Bie,(t,e)=>Vie[e]??t)}function OI(i){return`${i}`}class Hp{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Fie,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Uie(i,t){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[l,u]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],f=e.get(l)||[];f.push(u),e.set(l,f)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e],r=Array.isArray(n)?n.map(OI):[OI(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(s=>{e.push({param:n,value:s,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Hp({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(OI(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const r=n.indexOf(OI(t.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class zie{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function FG(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function UG(i){return typeof Blob<"u"&&i instanceof Blob}function BG(i){return typeof FormData<"u"&&i instanceof FormData}class BC{constructor(t,e,n,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Hie(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new sh),this.context||(this.context=new zie),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const u=e.indexOf("?");this.urlWithParams=e+(-1===u?"?":u<e.length-1?"&":"")+l}}else this.params=new Hp,this.urlWithParams=e}serializeBody(){return null===this.body?null:FG(this.body)||UG(this.body)||BG(this.body)||function Gie(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||BG(this.body)?null:UG(this.body)?this.body.type||null:FG(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,l=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,u=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let f=t.headers||this.headers,p=t.params||this.params;const b=t.context??this.context;return void 0!==t.setHeaders&&(f=Object.keys(t.setHeaders).reduce((y,w)=>y.set(w,t.setHeaders[w]),f)),t.setParams&&(p=Object.keys(t.setParams).reduce((y,w)=>y.set(w,t.setParams[w]),p)),new BC(e,n,s,{params:p,headers:f,context:b,reportProgress:u,responseType:r,withCredentials:l})}}var B0=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(B0||{});class oF{constructor(t,e=200,n="OK"){this.headers=t.headers||new sh,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class aF extends oF{constructor(t={}){super(t),this.type=B0.ResponseHeader}clone(t={}){return new aF({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class V0 extends oF{constructor(t={}){super(t),this.type=B0.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new V0({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class VG extends oF{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function cF(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let lF=(()=>{class i{constructor(e){this.handler=e}request(e,n,r={}){let s;if(e instanceof BC)s=e;else{let f,p;f=r.headers instanceof sh?r.headers:new sh(r.headers),r.params&&(p=r.params instanceof Hp?r.params:new Hp({fromObject:r.params})),s=new BC(e,n,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:p,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=(0,Xt.of)(s).pipe(zm(f=>this.handler.handle(f)));if(e instanceof BC||"events"===r.observe)return l;const u=l.pipe(rr(f=>f instanceof V0));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe((0,gn.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return u.pipe((0,gn.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return u.pipe((0,gn.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return u.pipe((0,gn.U)(f=>f.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new Hp).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,cF(r,n))}post(e,n,r={}){return this.request("POST",e,cF(r,n))}put(e,n,r={}){return this.request("PUT",e,cF(r,n))}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(RI))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac})}return i})();function GG(i,t){return t(i)}function jie(i,t){return(e,n)=>t.intercept(e,{handle:r=>i(r,n)})}const Yie=new a.OlP(""),VC=new a.OlP(""),WG=new a.OlP("");function qie(){let i=null;return(t,e)=>{null===i&&(i=((0,a.f3M)(Yie,{optional:!0})??[]).reduceRight(jie,GG));const n=(0,a.f3M)(a.HDt),r=n.add();return i(t,e).pipe(Hm(()=>n.remove(r)))}}let jG=(()=>{class i extends RI{constructor(e,n){super(),this.backend=e,this.injector=n,this.chain=null,this.pendingTasks=(0,a.f3M)(a.HDt)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(VC),...this.injector.get(WG,[])]));this.chain=r.reduceRight((s,l)=>function $ie(i,t,e){return(n,r)=>e.runInContext(()=>t(n,s=>i(s,r)))}(s,l,this.injector),GG)}const n=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Hm(()=>this.pendingTasks.remove(n)))}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(PI),a.LFG(a.lqb))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac})}return i})();const Qie=/^\)\]\}',?\n/;let YG=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new a.vHH(-2800,!1);const n=this.xhrFactory;return(n.\u0275loadImpl?(0,ts.D)(n.\u0275loadImpl()):(0,Xt.of)(null)).pipe((0,Ni.w)(()=>new Gs.y(s=>{const l=n.build();if(l.open(e.method,e.urlWithParams),e.withCredentials&&(l.withCredentials=!0),e.headers.forEach((P,I)=>l.setRequestHeader(P,I.join(","))),e.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const P=e.detectContentTypeHeader();null!==P&&l.setRequestHeader("Content-Type",P)}if(e.responseType){const P=e.responseType.toLowerCase();l.responseType="json"!==P?P:"text"}const u=e.serializeBody();let f=null;const p=()=>{if(null!==f)return f;const P=l.statusText||"OK",I=new sh(l.getAllResponseHeaders()),k=function Jie(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(l)||e.url;return f=new aF({headers:I,status:l.status,statusText:P,url:k}),f},b=()=>{let{headers:P,status:I,statusText:k,url:U}=p(),O=null;204!==I&&(O=typeof l.response>"u"?l.responseText:l.response),0===I&&(I=O?200:0);let B=I>=200&&I<300;if("json"===e.responseType&&"string"==typeof O){const j=O;O=O.replace(Qie,"");try{O=""!==O?JSON.parse(O):null}catch(q){O=j,B&&(B=!1,O={error:q,text:O})}}B?(s.next(new V0({body:O,headers:P,status:I,statusText:k,url:U||void 0})),s.complete()):s.error(new VG({error:O,headers:P,status:I,statusText:k,url:U||void 0}))},y=P=>{const{url:I}=p(),k=new VG({error:P,status:l.status||0,statusText:l.statusText||"Unknown Error",url:I||void 0});s.error(k)};let w=!1;const S=P=>{w||(s.next(p()),w=!0);let I={type:B0.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(I.total=P.total),"text"===e.responseType&&l.responseText&&(I.partialText=l.responseText),s.next(I)},A=P=>{let I={type:B0.UploadProgress,loaded:P.loaded};P.lengthComputable&&(I.total=P.total),s.next(I)};return l.addEventListener("load",b),l.addEventListener("error",y),l.addEventListener("timeout",y),l.addEventListener("abort",y),e.reportProgress&&(l.addEventListener("progress",S),null!==u&&l.upload&&l.upload.addEventListener("progress",A)),l.send(u),s.next({type:B0.Sent}),()=>{l.removeEventListener("error",y),l.removeEventListener("abort",y),l.removeEventListener("load",b),l.removeEventListener("timeout",y),e.reportProgress&&(l.removeEventListener("progress",S),null!==u&&l.upload&&l.upload.removeEventListener("progress",A)),l.readyState!==l.DONE&&l.abort()}})))}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(Fs))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac})}return i})();const dF=new a.OlP("XSRF_ENABLED"),qG=new a.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ZG=new a.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class XG{}let nre=(()=>{class i{constructor(e,n,r){this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=xo(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(n){return new(n||i)(a.LFG(ye),a.LFG(a.Lbi),a.LFG(qG))};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac})}return i})();function ire(i,t){const e=i.url.toLowerCase();if(!(0,a.f3M)(dF)||"GET"===i.method||"HEAD"===i.method||e.startsWith("http://")||e.startsWith("https://"))return t(i);const n=(0,a.f3M)(XG).getToken(),r=(0,a.f3M)(ZG);return null!=n&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,n)})),t(i)}var Gp=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(Gp||{});function rre(...i){const t=[lF,YG,jG,{provide:RI,useExisting:jG},{provide:PI,useExisting:YG},{provide:VC,useValue:ire,multi:!0},{provide:dF,useValue:!0},{provide:XG,useClass:nre}];for(const e of i)t.push(...e.\u0275providers);return(0,a.MR2)(t)}const KG=new a.OlP("LEGACY_INTERCEPTOR_FN");function sre(){return function Nv(i,t){return{\u0275kind:i,\u0275providers:t}}(Gp.LegacyInterceptors,[{provide:KG,useFactory:qie},{provide:VC,useExisting:KG,multi:!0}])}let ore=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({providers:[rre(sre())]})}return i})();const hre_firebase={apiKey:"AIzaSyCnWNW_JRtsBy6ds0Yz9J3gQhl5ufPhIVA",authDomain:"angular15-harish.firebaseapp.com",projectId:"angular15-harish",storageBucket:"angular15-harish.appspot.com",messagingSenderId:"267251024705",appId:"1:267251024705:web:5e2095d220abc3a4fc17c0"};let vre=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i});static#n=this.\u0275inj=a.cJS({imports:[hi,hi]})}return i})(),bre=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=a.oAB({type:i,bootstrap:[nie]});static#n=this.\u0275inj=a.cJS({providers:[Rv],imports:[ru,Dne,XC,iie,Qne,sie,Lie,vre,Fq,ore,Vd.hO.initializeApp(hre_firebase),WK,hQ.forRoot({timeOut:1e4,positionClass:"toast-top-right",preventDuplicates:!0}),$x.forRoot([]),Rw]})}return i})();Dr().bootstrapModule(bre).catch(i=>console.error(i))},5619:(Jt,Qe,W)=>{W.d(Qe,{X:()=>_e});var a=W(8645);class _e extends a.x{constructor(we){super(),this._value=we}get value(){return this.getValue()}_subscribe(we){const Te=super._subscribe(we);return!Te.closed&&we.next(this._value),Te}getValue(){const{hasError:we,thrownError:Te,_value:ye}=this;if(we)throw Te;return this._throwIfClosed(),ye}next(we){super.next(this._value=we)}}},5592:(Jt,Qe,W)=>{W.d(Qe,{y:()=>ut});var a=W(305),_e=W(7394),$=W(4850),we=W(8407),Te=W(2653),ye=W(4674),He=W(1441);let ut=(()=>{class ve{constructor(st){st&&(this._subscribe=st)}lift(st){const Rt=new ve;return Rt.source=this,Rt.operator=st,Rt}subscribe(st,Rt,dt){const Et=function oe(ve){return ve&&ve instanceof a.Lv||function te(ve){return ve&&(0,ye.m)(ve.next)&&(0,ye.m)(ve.error)&&(0,ye.m)(ve.complete)}(ve)&&(0,_e.Nn)(ve)}(st)?st:new a.Hp(st,Rt,dt);return(0,He.x)(()=>{const{operator:gt,source:ln}=this;Et.add(gt?gt.call(Et,ln):ln?this._subscribe(Et):this._trySubscribe(Et))}),Et}_trySubscribe(st){try{return this._subscribe(st)}catch(Rt){st.error(Rt)}}forEach(st,Rt){return new(Rt=Le(Rt))((dt,Et)=>{const gt=new a.Hp({next:ln=>{try{st(ln)}catch(rn){Et(rn),gt.unsubscribe()}},error:Et,complete:dt});this.subscribe(gt)})}_subscribe(st){var Rt;return null===(Rt=this.source)||void 0===Rt?void 0:Rt.subscribe(st)}[$.L](){return this}pipe(...st){return(0,we.U)(st)(this)}toPromise(st){return new(st=Le(st))((Rt,dt)=>{let Et;this.subscribe(gt=>Et=gt,gt=>dt(gt),()=>Rt(Et))})}}return ve.create=vt=>new ve(vt),ve})();function Le(ve){var vt;return null!==(vt=ve??Te.config.Promise)&&void 0!==vt?vt:Promise}},8645:(Jt,Qe,W)=>{W.d(Qe,{x:()=>He});var a=W(5592),_e=W(7394);const we=(0,W(2306).d)(Le=>function(){Le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=W(9039),ye=W(1441);let He=(()=>{class Le extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const ve=new ut(this,this);return ve.operator=oe,ve}_throwIfClosed(){if(this.closed)throw new we}next(oe){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ve of this.currentObservers)ve.next(oe)}})}error(oe){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:ve}=this;for(;ve.length;)ve.shift().error(oe)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:ve,isStopped:vt,observers:st}=this;return ve||vt?_e.Lc:(this.currentObservers=null,st.push(oe),new _e.w0(()=>{this.currentObservers=null,(0,Te.P)(st,oe)}))}_checkFinalizedStatuses(oe){const{hasError:ve,thrownError:vt,isStopped:st}=this;ve?oe.error(vt):st&&oe.complete()}asObservable(){const oe=new a.y;return oe.source=this,oe}}return Le.create=(te,oe)=>new ut(te,oe),Le})();class ut extends He{constructor(te,oe){super(),this.destination=te,this.source=oe}next(te){var oe,ve;null===(ve=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===ve||ve.call(oe,te)}error(te){var oe,ve;null===(ve=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===ve||ve.call(oe,te)}complete(){var te,oe;null===(oe=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===oe||oe.call(te)}_subscribe(te){var oe,ve;return null!==(ve=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(te))&&void 0!==ve?ve:_e.Lc}}},305:(Jt,Qe,W)=>{W.d(Qe,{Hp:()=>dt,Lv:()=>ve});var a=W(4674),_e=W(7394),$=W(2653),we=W(3894),Te=W(2420);const ye=Le("C",void 0,void 0);function Le(Me,Ye,Ee){return{kind:Me,value:Ye,error:Ee}}var te=W(7599),oe=W(1441);class ve extends _e.w0{constructor(Ye){super(),this.isStopped=!1,Ye?(this.destination=Ye,(0,_e.Nn)(Ye)&&Ye.add(this)):this.destination=rn}static create(Ye,Ee,Je){return new dt(Ye,Ee,Je)}next(Ye){this.isStopped?ln(function ut(Me){return Le("N",Me,void 0)}(Ye),this):this._next(Ye)}error(Ye){this.isStopped?ln(function He(Me){return Le("E",void 0,Me)}(Ye),this):(this.isStopped=!0,this._error(Ye))}complete(){this.isStopped?ln(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ye){this.destination.next(Ye)}_error(Ye){try{this.destination.error(Ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const vt=Function.prototype.bind;function st(Me,Ye){return vt.call(Me,Ye)}class Rt{constructor(Ye){this.partialObserver=Ye}next(Ye){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Ye)}catch(Je){Et(Je)}}error(Ye){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Ye)}catch(Je){Et(Je)}else Et(Ye)}complete(){const{partialObserver:Ye}=this;if(Ye.complete)try{Ye.complete()}catch(Ee){Et(Ee)}}}class dt extends ve{constructor(Ye,Ee,Je){let mt;if(super(),(0,a.m)(Ye)||!Ye)mt={next:Ye??void 0,error:Ee??void 0,complete:Je??void 0};else{let Dt;this&&$.config.useDeprecatedNextContext?(Dt=Object.create(Ye),Dt.unsubscribe=()=>this.unsubscribe(),mt={next:Ye.next&&st(Ye.next,Dt),error:Ye.error&&st(Ye.error,Dt),complete:Ye.complete&&st(Ye.complete,Dt)}):mt=Ye}this.destination=new Rt(mt)}}function Et(Me){$.config.useDeprecatedSynchronousErrorHandling?(0,oe.O)(Me):(0,we.h)(Me)}function ln(Me,Ye){const{onStoppedNotification:Ee}=$.config;Ee&&te.z.setTimeout(()=>Ee(Me,Ye))}const rn={closed:!0,next:Te.Z,error:function gt(Me){throw Me},complete:Te.Z}},7394:(Jt,Qe,W)=>{W.d(Qe,{Lc:()=>ye,w0:()=>Te,Nn:()=>He});var a=W(4674);const $=(0,W(2306).d)(Le=>function(oe){Le(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((ve,vt)=>`${vt+1}) ${ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var we=W(9039);class Te{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const st of oe)st.remove(this);else oe.remove(this);const{initialTeardown:ve}=this;if((0,a.m)(ve))try{ve()}catch(st){te=st instanceof $?st.errors:[st]}const{_finalizers:vt}=this;if(vt){this._finalizers=null;for(const st of vt)try{ut(st)}catch(Rt){te=te??[],Rt instanceof $?te=[...te,...Rt.errors]:te.push(Rt)}}if(te)throw new $(te)}}add(te){var oe;if(te&&te!==this)if(this.closed)ut(te);else{if(te instanceof Te){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(te)}}_hasParent(te){const{_parentage:oe}=this;return oe===te||Array.isArray(oe)&&oe.includes(te)}_addParent(te){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(te),oe):oe?[oe,te]:te}_removeParent(te){const{_parentage:oe}=this;oe===te?this._parentage=null:Array.isArray(oe)&&(0,we.P)(oe,te)}remove(te){const{_finalizers:oe}=this;oe&&(0,we.P)(oe,te),te instanceof Te&&te._removeParent(this)}}Te.EMPTY=(()=>{const Le=new Te;return Le.closed=!0,Le})();const ye=Te.EMPTY;function He(Le){return Le instanceof Te||Le&&"closed"in Le&&(0,a.m)(Le.remove)&&(0,a.m)(Le.add)&&(0,a.m)(Le.unsubscribe)}function ut(Le){(0,a.m)(Le)?Le():Le.unsubscribe()}},2653:(Jt,Qe,W)=>{W.d(Qe,{config:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(Jt,Qe,W)=>{W.d(Qe,{E:()=>_e});const _e=new(W(5592).y)(Te=>Te.complete())},2459:(Jt,Qe,W)=>{W.d(Qe,{D:()=>Ye});var a=W(4829),_e=W(3093),$=W(5137),ye=W(5592),ut=W(4971),Le=W(4674),te=W(7103);function ve(Ee,Je){if(!Ee)throw new Error("Iterable cannot be null");return new ye.y(mt=>{(0,te.f)(mt,Je,()=>{const Dt=Ee[Symbol.asyncIterator]();(0,te.f)(mt,Je,()=>{Dt.next().then(Ie=>{Ie.done?mt.complete():mt.next(Ie.value)})},0,!0)})})}var vt=W(8382),st=W(4026),Rt=W(4266),dt=W(3664),Et=W(5726),gt=W(9853),ln=W(541);function Ye(Ee,Je){return Je?function Me(Ee,Je){if(null!=Ee){if((0,vt.c)(Ee))return function we(Ee,Je){return(0,a.Xf)(Ee).pipe((0,$.R)(Je),(0,_e.Q)(Je))}(Ee,Je);if((0,Rt.z)(Ee))return function He(Ee,Je){return new ye.y(mt=>{let Dt=0;return Je.schedule(function(){Dt===Ee.length?mt.complete():(mt.next(Ee[Dt++]),mt.closed||this.schedule())})})}(Ee,Je);if((0,st.t)(Ee))return function Te(Ee,Je){return(0,a.Xf)(Ee).pipe((0,$.R)(Je),(0,_e.Q)(Je))}(Ee,Je);if((0,Et.D)(Ee))return ve(Ee,Je);if((0,dt.T)(Ee))return function oe(Ee,Je){return new ye.y(mt=>{let Dt;return(0,te.f)(mt,Je,()=>{Dt=Ee[ut.h](),(0,te.f)(mt,Je,()=>{let Ie,hn;try{({value:Ie,done:hn}=Dt.next())}catch(jn){return void mt.error(jn)}hn?mt.complete():mt.next(Ie)},0,!0)}),()=>(0,Le.m)(Dt?.return)&&Dt.return()})}(Ee,Je);if((0,ln.L)(Ee))return function rn(Ee,Je){return ve((0,ln.Q)(Ee),Je)}(Ee,Je)}throw(0,gt.z)(Ee)}(Ee,Je):(0,a.Xf)(Ee)}},4829:(Jt,Qe,W)=>{W.d(Qe,{Xf:()=>vt});var a=W(7582),_e=W(4266),$=W(4026),we=W(5592),Te=W(8382),ye=W(5726),He=W(9853),ut=W(3664),Le=W(541),te=W(4674),oe=W(3894),ve=W(4850);function vt(Me){if(Me instanceof we.y)return Me;if(null!=Me){if((0,Te.c)(Me))return function st(Me){return new we.y(Ye=>{const Ee=Me[ve.L]();if((0,te.m)(Ee.subscribe))return Ee.subscribe(Ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,_e.z)(Me))return function Rt(Me){return new we.y(Ye=>{for(let Ee=0;Ee<Me.length&&!Ye.closed;Ee++)Ye.next(Me[Ee]);Ye.complete()})}(Me);if((0,$.t)(Me))return function dt(Me){return new we.y(Ye=>{Me.then(Ee=>{Ye.closed||(Ye.next(Ee),Ye.complete())},Ee=>Ye.error(Ee)).then(null,oe.h)})}(Me);if((0,ye.D)(Me))return gt(Me);if((0,ut.T)(Me))return function Et(Me){return new we.y(Ye=>{for(const Ee of Me)if(Ye.next(Ee),Ye.closed)return;Ye.complete()})}(Me);if((0,Le.L)(Me))return function ln(Me){return gt((0,Le.Q)(Me))}(Me)}throw(0,He.z)(Me)}function gt(Me){return new we.y(Ye=>{(function rn(Me,Ye){var Ee,Je,mt,Dt;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,a.KL)(Me);!(Je=yield Ee.next()).done;)if(Ye.next(Je.value),Ye.closed)return}catch(Ie){mt={error:Ie}}finally{try{Je&&!Je.done&&(Dt=Ee.return)&&(yield Dt.call(Ee))}finally{if(mt)throw mt.error}}Ye.complete()})})(Me,Ye).catch(Ee=>Ye.error(Ee))})}},3019:(Jt,Qe,W)=>{W.d(Qe,{T:()=>ye});var a=W(7537),_e=W(4829),$=W(6232),we=W(9940),Te=W(2459);function ye(...He){const ut=(0,we.yG)(He),Le=(0,we._6)(He,1/0),te=He;return te.length?1===te.length?(0,_e.Xf)(te[0]):(0,a.J)(Le)((0,Te.D)(te,ut)):$.E}},2096:(Jt,Qe,W)=>{W.d(Qe,{of:()=>$});var a=W(9940),_e=W(2459);function $(...we){const Te=(0,a.yG)(we);return(0,_e.D)(we,Te)}},8251:(Jt,Qe,W)=>{W.d(Qe,{x:()=>_e});var a=W(305);function _e(we,Te,ye,He,ut){return new $(we,Te,ye,He,ut)}class $ extends a.Lv{constructor(Te,ye,He,ut,Le,te){super(Te),this.onFinalize=Le,this.shouldUnsubscribe=te,this._next=ye?function(oe){try{ye(oe)}catch(ve){Te.error(ve)}}:super._next,this._error=ut?function(oe){try{ut(oe)}catch(ve){Te.error(ve)}finally{this.unsubscribe()}}:super._error,this._complete=He?function(){try{He()}catch(oe){Te.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(Te=this.onFinalize)||void 0===Te||Te.call(this))}}}},3997:(Jt,Qe,W)=>{W.d(Qe,{x:()=>we});var a=W(2737),_e=W(9360),$=W(8251);function we(ye,He=a.y){return ye=ye??Te,(0,_e.e)((ut,Le)=>{let te,oe=!0;ut.subscribe((0,$.x)(Le,ve=>{const vt=He(ve);(oe||!ye(te,vt))&&(oe=!1,te=vt,Le.next(ve))}))})}function Te(ye,He){return ye===He}},7398:(Jt,Qe,W)=>{W.d(Qe,{U:()=>$});var a=W(9360),_e=W(8251);function $(we,Te){return(0,a.e)((ye,He)=>{let ut=0;ye.subscribe((0,_e.x)(He,Le=>{He.next(we.call(Te,Le,ut++))}))})}},7537:(Jt,Qe,W)=>{W.d(Qe,{J:()=>$});var a=W(1631),_e=W(2737);function $(we=1/0){return(0,a.z)(_e.y,we)}},1631:(Jt,Qe,W)=>{W.d(Qe,{z:()=>ut});var a=W(7398),_e=W(4829),$=W(9360),we=W(7103),Te=W(8251),He=W(4674);function ut(Le,te,oe=1/0){return(0,He.m)(te)?ut((ve,vt)=>(0,a.U)((st,Rt)=>te(ve,st,vt,Rt))((0,_e.Xf)(Le(ve,vt))),oe):("number"==typeof te&&(oe=te),(0,$.e)((ve,vt)=>function ye(Le,te,oe,ve,vt,st,Rt,dt){const Et=[];let gt=0,ln=0,rn=!1;const Me=()=>{rn&&!Et.length&&!gt&&te.complete()},Ye=Je=>gt<ve?Ee(Je):Et.push(Je),Ee=Je=>{st&&te.next(Je),gt++;let mt=!1;(0,_e.Xf)(oe(Je,ln++)).subscribe((0,Te.x)(te,Dt=>{vt?.(Dt),st?Ye(Dt):te.next(Dt)},()=>{mt=!0},void 0,()=>{if(mt)try{for(gt--;Et.length&&gt<ve;){const Dt=Et.shift();Rt?(0,we.f)(te,Rt,()=>Ee(Dt)):Ee(Dt)}Me()}catch(Dt){te.error(Dt)}}))};return Le.subscribe((0,Te.x)(te,Ye,()=>{rn=!0,Me()})),()=>{dt?.()}}(ve,vt,Le,oe)))}},3093:(Jt,Qe,W)=>{W.d(Qe,{Q:()=>we});var a=W(7103),_e=W(9360),$=W(8251);function we(Te,ye=0){return(0,_e.e)((He,ut)=>{He.subscribe((0,$.x)(ut,Le=>(0,a.f)(ut,Te,()=>ut.next(Le),ye),()=>(0,a.f)(ut,Te,()=>ut.complete(),ye),Le=>(0,a.f)(ut,Te,()=>ut.error(Le),ye)))})}},3020:(Jt,Qe,W)=>{W.d(Qe,{B:()=>Te});var a=W(4829),_e=W(8645),$=W(305),we=W(9360);function Te(He={}){const{connector:ut=(()=>new _e.x),resetOnError:Le=!0,resetOnComplete:te=!0,resetOnRefCountZero:oe=!0}=He;return ve=>{let vt,st,Rt,dt=0,Et=!1,gt=!1;const ln=()=>{st?.unsubscribe(),st=void 0},rn=()=>{ln(),vt=Rt=void 0,Et=gt=!1},Me=()=>{const Ye=vt;rn(),Ye?.unsubscribe()};return(0,we.e)((Ye,Ee)=>{dt++,!gt&&!Et&&ln();const Je=Rt=Rt??ut();Ee.add(()=>{dt--,0===dt&&!gt&&!Et&&(st=ye(Me,oe))}),Je.subscribe(Ee),!vt&&dt>0&&(vt=new $.Hp({next:mt=>Je.next(mt),error:mt=>{gt=!0,ln(),st=ye(rn,Le,mt),Je.error(mt)},complete:()=>{Et=!0,ln(),st=ye(rn,te),Je.complete()}}),(0,a.Xf)(Ye).subscribe(vt))})(ve)}}function ye(He,ut,...Le){if(!0===ut)return void He();if(!1===ut)return;const te=new $.Hp({next:()=>{te.unsubscribe(),He()}});return(0,a.Xf)(ut(...Le)).subscribe(te)}},5137:(Jt,Qe,W)=>{W.d(Qe,{R:()=>_e});var a=W(9360);function _e($,we=0){return(0,a.e)((Te,ye)=>{ye.add($.schedule(()=>Te.subscribe(ye),we))})}},4664:(Jt,Qe,W)=>{W.d(Qe,{w:()=>we});var a=W(4829),_e=W(9360),$=W(8251);function we(Te,ye){return(0,_e.e)((He,ut)=>{let Le=null,te=0,oe=!1;const ve=()=>oe&&!Le&&ut.complete();He.subscribe((0,$.x)(ut,vt=>{Le?.unsubscribe();let st=0;const Rt=te++;(0,a.Xf)(Te(vt,Rt)).subscribe(Le=(0,$.x)(ut,dt=>ut.next(ye?ye(vt,dt,Rt,st++):dt),()=>{Le=null,ve()}))},()=>{oe=!0,ve()}))})}},9397:(Jt,Qe,W)=>{W.d(Qe,{b:()=>Te});var a=W(4674),_e=W(9360),$=W(8251),we=W(2737);function Te(ye,He,ut){const Le=(0,a.m)(ye)||He||ut?{next:ye,error:He,complete:ut}:ye;return Le?(0,_e.e)((te,oe)=>{var ve;null===(ve=Le.subscribe)||void 0===ve||ve.call(Le);let vt=!0;te.subscribe((0,$.x)(oe,st=>{var Rt;null===(Rt=Le.next)||void 0===Rt||Rt.call(Le,st),oe.next(st)},()=>{var st;vt=!1,null===(st=Le.complete)||void 0===st||st.call(Le),oe.complete()},st=>{var Rt;vt=!1,null===(Rt=Le.error)||void 0===Rt||Rt.call(Le,st),oe.error(st)},()=>{var st,Rt;vt&&(null===(st=Le.unsubscribe)||void 0===st||st.call(Le)),null===(Rt=Le.finalize)||void 0===Rt||Rt.call(Le)}))}):we.y}},1954:(Jt,Qe,W)=>{W.d(Qe,{o:()=>Te});var a=W(7394);class _e extends a.w0{constructor(He,ut){super()}schedule(He,ut=0){return this}}const $={setInterval(ye,He,...ut){const{delegate:Le}=$;return Le?.setInterval?Le.setInterval(ye,He,...ut):setInterval(ye,He,...ut)},clearInterval(ye){const{delegate:He}=$;return(He?.clearInterval||clearInterval)(ye)},delegate:void 0};var we=W(9039);class Te extends _e{constructor(He,ut){super(He,ut),this.scheduler=He,this.work=ut,this.pending=!1}schedule(He,ut=0){var Le;if(this.closed)return this;this.state=He;const te=this.id,oe=this.scheduler;return null!=te&&(this.id=this.recycleAsyncId(oe,te,ut)),this.pending=!0,this.delay=ut,this.id=null!==(Le=this.id)&&void 0!==Le?Le:this.requestAsyncId(oe,this.id,ut),this}requestAsyncId(He,ut,Le=0){return $.setInterval(He.flush.bind(He,this),Le)}recycleAsyncId(He,ut,Le=0){if(null!=Le&&this.delay===Le&&!1===this.pending)return ut;null!=ut&&$.clearInterval(ut)}execute(He,ut){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Le=this._execute(He,ut);if(Le)return Le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(He,ut){let te,Le=!1;try{this.work(He)}catch(oe){Le=!0,te=oe||new Error("Scheduled action threw falsy error")}if(Le)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:He,scheduler:ut}=this,{actions:Le}=ut;this.work=this.state=this.scheduler=null,this.pending=!1,(0,we.P)(Le,this),null!=He&&(this.id=this.recycleAsyncId(ut,He,null)),this.delay=null,super.unsubscribe()}}}},2631:(Jt,Qe,W)=>{W.d(Qe,{v:()=>$});var a=W(4552);class _e{constructor(Te,ye=_e.now){this.schedulerActionCtor=Te,this.now=ye}schedule(Te,ye=0,He){return new this.schedulerActionCtor(this,Te).schedule(He,ye)}}_e.now=a.l.now;class $ extends _e{constructor(Te,ye=_e.now){super(Te,ye),this.actions=[],this._active=!1}flush(Te){const{actions:ye}=this;if(this._active)return void ye.push(Te);let He;this._active=!0;do{if(He=Te.execute(Te.state,Te.delay))break}while(Te=ye.shift());if(this._active=!1,He){for(;Te=ye.shift();)Te.unsubscribe();throw He}}}},6321:(Jt,Qe,W)=>{W.d(Qe,{P:()=>we,z:()=>$});var a=W(1954);const $=new(W(2631).v)(a.o),we=$},4552:(Jt,Qe,W)=>{W.d(Qe,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},7599:(Jt,Qe,W)=>{W.d(Qe,{z:()=>a});const a={setTimeout(_e,$,...we){const{delegate:Te}=a;return Te?.setTimeout?Te.setTimeout(_e,$,...we):setTimeout(_e,$,...we)},clearTimeout(_e){const{delegate:$}=a;return($?.clearTimeout||clearTimeout)(_e)},delegate:void 0}},4971:(Jt,Qe,W)=>{W.d(Qe,{h:()=>_e});const _e=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Jt,Qe,W)=>{W.d(Qe,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(Jt,Qe,W)=>{W.d(Qe,{_6:()=>ye,jO:()=>we,yG:()=>Te});var a=W(4674),_e=W(671);function $(He){return He[He.length-1]}function we(He){return(0,a.m)($(He))?He.pop():void 0}function Te(He){return(0,_e.K)($(He))?He.pop():void 0}function ye(He,ut){return"number"==typeof $(He)?He.pop():ut}},9039:(Jt,Qe,W)=>{function a(_e,$){if(_e){const we=_e.indexOf($);0<=we&&_e.splice(we,1)}}W.d(Qe,{P:()=>a})},2306:(Jt,Qe,W)=>{function a(_e){const we=_e(Te=>{Error.call(Te),Te.stack=(new Error).stack});return we.prototype=Object.create(Error.prototype),we.prototype.constructor=we,we}W.d(Qe,{d:()=>a})},1441:(Jt,Qe,W)=>{W.d(Qe,{O:()=>we,x:()=>$});var a=W(2653);let _e=null;function $(Te){if(a.config.useDeprecatedSynchronousErrorHandling){const ye=!_e;if(ye&&(_e={errorThrown:!1,error:null}),Te(),ye){const{errorThrown:He,error:ut}=_e;if(_e=null,He)throw ut}}else Te()}function we(Te){a.config.useDeprecatedSynchronousErrorHandling&&_e&&(_e.errorThrown=!0,_e.error=Te)}},7103:(Jt,Qe,W)=>{function a(_e,$,we,Te=0,ye=!1){const He=$.schedule(function(){we(),ye?_e.add(this.schedule(null,Te)):this.unsubscribe()},Te);if(_e.add(He),!ye)return He}W.d(Qe,{f:()=>a})},2737:(Jt,Qe,W)=>{function a(_e){return _e}W.d(Qe,{y:()=>a})},4266:(Jt,Qe,W)=>{W.d(Qe,{z:()=>a});const a=_e=>_e&&"number"==typeof _e.length&&"function"!=typeof _e},5726:(Jt,Qe,W)=>{W.d(Qe,{D:()=>_e});var a=W(4674);function _e($){return Symbol.asyncIterator&&(0,a.m)($?.[Symbol.asyncIterator])}},4674:(Jt,Qe,W)=>{function a(_e){return"function"==typeof _e}W.d(Qe,{m:()=>a})},8382:(Jt,Qe,W)=>{W.d(Qe,{c:()=>$});var a=W(4850),_e=W(4674);function $(we){return(0,_e.m)(we[a.L])}},3664:(Jt,Qe,W)=>{W.d(Qe,{T:()=>$});var a=W(4971),_e=W(4674);function $(we){return(0,_e.m)(we?.[a.h])}},4026:(Jt,Qe,W)=>{W.d(Qe,{t:()=>_e});var a=W(4674);function _e($){return(0,a.m)($?.then)}},541:(Jt,Qe,W)=>{W.d(Qe,{L:()=>we,Q:()=>$});var a=W(7582),_e=W(4674);function $(Te){return(0,a.FC)(this,arguments,function*(){const He=Te.getReader();try{for(;;){const{value:ut,done:Le}=yield(0,a.qq)(He.read());if(Le)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(ut)}}finally{He.releaseLock()}})}function we(Te){return(0,_e.m)(Te?.getReader)}},671:(Jt,Qe,W)=>{W.d(Qe,{K:()=>_e});var a=W(4674);function _e($){return $&&(0,a.m)($.schedule)}},9360:(Jt,Qe,W)=>{W.d(Qe,{A:()=>_e,e:()=>$});var a=W(4674);function _e(we){return(0,a.m)(we?.lift)}function $(we){return Te=>{if(_e(Te))return Te.lift(function(ye){try{return we(ye,this)}catch(He){this.error(He)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(Jt,Qe,W)=>{function a(){}W.d(Qe,{Z:()=>a})},8407:(Jt,Qe,W)=>{W.d(Qe,{U:()=>$,z:()=>_e});var a=W(2737);function _e(...we){return $(we)}function $(we){return 0===we.length?a.y:1===we.length?we[0]:function(ye){return we.reduce((He,ut)=>ut(He),ye)}}},3894:(Jt,Qe,W)=>{W.d(Qe,{h:()=>$});var a=W(2653),_e=W(7599);function $(we){_e.z.setTimeout(()=>{const{onUnhandledError:Te}=a.config;if(!Te)throw we;Te(we)})}},9853:(Jt,Qe,W)=>{function a(_e){return new TypeError(`You provided ${null!==_e&&"object"==typeof _e?"an invalid object":`'${_e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}W.d(Qe,{z:()=>a})},5879:(Jt,Qe,W)=>{W.d(Qe,{$8M:()=>_u,$WT:()=>Ta,$Z:()=>WS,AFp:()=>gS,AaK:()=>ve,BQk:()=>ow,CHM:()=>Eo,CRH:()=>Qw,DdM:()=>kd,EJc:()=>mo,EiD:()=>nf,EpF:()=>pR,F$t:()=>wR,F4k:()=>gR,FYo:()=>Ix,FiY:()=>ym,Gf:()=>Xw,GfV:()=>kx,GkF:()=>EM,Gpc:()=>Rt,Gre:()=>ww,HDt:()=>Yo,Hsn:()=>MM,Ikx:()=>$M,JOm:()=>Yh,JVY:()=>zm,JZr:()=>rn,KtG:()=>au,L6k:()=>rs,LAX:()=>$I,LFG:()=>pn,Lbi:()=>af,Lck:()=>E1,MAs:()=>hR,MMx:()=>vT,MR2:()=>Bg,NdJ:()=>SM,O4$:()=>mc,Ojb:()=>ku,OlP:()=>Ti,Oqu:()=>yw,P3R:()=>Ug,PXZ:()=>ju,Q6J:()=>yM,QGY:()=>CM,QbO:()=>Lb,Qsj:()=>CS,R0b:()=>Ds,RDi:()=>Bm,Rgc:()=>Ga,SBq:()=>t_,Sil:()=>dE,Suo:()=>Kw,TTD:()=>tu,TgZ:()=>iw,Tol:()=>RM,Udp:()=>cp,VuI:()=>fA,W1O:()=>iE,X6Q:()=>Yy,XFs:()=>cn,Xpm:()=>jd,Xq5:()=>uM,Xts:()=>Wm,Y36:()=>Jm,YKP:()=>Nw,YNc:()=>lR,Yjl:()=>hh,Yz7:()=>On,Z0I:()=>Si,ZZ4:()=>yE,_Bn:()=>_T,_UZ:()=>wM,_Vd:()=>Jg,_c5:()=>lA,_uU:()=>bw,aQg:()=>Fc,c2e:()=>yl,cJS:()=>Bi,cg1:()=>_y,d8E:()=>YM,dDg:()=>qT,dqk:()=>xi,eBb:()=>Au,eFA:()=>bP,eJc:()=>Hu,ekj:()=>gw,eoX:()=>Y_,f3M:()=>Rn,g9A:()=>mx,h0i:()=>Bu,hGG:()=>wE,hij:()=>gy,iGM:()=>Zw,ifc:()=>ct,ip1:()=>lE,jDz:()=>bT,kL8:()=>qM,kcU:()=>so,lG2:()=>qc,lqb:()=>Sc,lri:()=>vp,mCW:()=>bi,n5z:()=>Va,n_E:()=>Nc,oAB:()=>Nl,oJD:()=>Du,oxw:()=>xR,pB0:()=>ox,q3G:()=>rf,q4F:()=>MS,qFp:()=>ks,qLn:()=>Ru,qOj:()=>lM,qZA:()=>rw,qzn:()=>Vm,rWj:()=>fE,rg0:()=>Mh,s9C:()=>za,sBO:()=>X_,s_b:()=>U_,soG:()=>Nd,tb:()=>Wy,tp0:()=>xc,uIk:()=>fM,vHH:()=>Me,vpe:()=>Wo,wAp:()=>M_,xp6:()=>HS,ynx:()=>sw,z2F:()=>po,z3N:()=>ul,zSh:()=>Pb,zs3:()=>Ac});var a=W(8645),_e=W(7394),$=W(5592),we=W(3019),Te=W(5619),ye=W(2096),He=W(3020),ut=W(4664),Le=W(3997);function te(o){for(let c in o)if(o[c]===te)return c;throw Error("Could not find renamed property on target object.")}function oe(o,c){for(const d in c)c.hasOwnProperty(d)&&!o.hasOwnProperty(d)&&(o[d]=c[d])}function ve(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ve).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const c=o.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function vt(o,c){return null==o||""===o?null===c?"":c:null==c||""===c?o:o+" "+c}const st=te({__forward_ref__:te});function Rt(o){return o.__forward_ref__=Rt,o.toString=function(){return ve(this())},o}function dt(o){return Et(o)?o():o}function Et(o){return"function"==typeof o&&o.hasOwnProperty(st)&&o.__forward_ref__===Rt}function gt(o){return o&&!!o.\u0275providers}const rn="https://g.co/ng/security#xss";class Me extends Error{constructor(c,d){super(function Ye(o,c){return`NG0${Math.abs(o)}${c?": "+c:""}`}(c,d)),this.code=c}}function Ee(o){return"string"==typeof o?o:null==o?"":String(o)}function hn(o,c){throw new Me(-201,!1)}function Ht(o,c){null==o&&function Ct(o,c,d,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${d} ${h} ${c} <=Actual]`))}(c,o,null,"!=")}function On(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Bi(o){return{providers:o.providers||[],imports:o.imports||[]}}function yr(o){return Yr(o,Ns)||Yr(o,xa)}function Si(o){return null!==yr(o)}function Yr(o,c){return o.hasOwnProperty(c)?o[c]:null}function ya(o){return o&&(o.hasOwnProperty(Ls)||o.hasOwnProperty(kl))?o[Ls]:null}const Ns=te({\u0275prov:te}),Ls=te({\u0275inj:te}),xa=te({ngInjectableDef:te}),kl=te({ngInjectorDef:te});var cn=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(cn||{});let $n;function Di(o){const c=$n;return $n=o,c}function Xi(o,c,d){const h=yr(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:d&cn.Optional?null:void 0!==c?c:void hn(ve(o))}const xi=globalThis,ws={},cr="__NG_DI_FLAG__",Ks="ngTempTokenPath",re=/\n/gm,ue="__source";let Xe;function Ft(o){const c=Xe;return Xe=o,c}function Cn(o,c=cn.Default){if(void 0===Xe)throw new Me(-203,!1);return null===Xe?Xi(o,void 0,c):Xe.get(o,c&cn.Optional?null:void 0,c)}function pn(o,c=cn.Default){return(function Tn(){return $n}()||Cn)(dt(o),c)}function Rn(o,c=cn.Default){return pn(o,Qi(c))}function Qi(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function ti(o){const c=[];for(let d=0;d<o.length;d++){const h=dt(o[d]);if(Array.isArray(h)){if(0===h.length)throw new Me(900,!1);let m,_=cn.Default;for(let x=0;x<h.length;x++){const M=h[x],D=Oo(M);"number"==typeof D?-1===D?m=M.token:_|=D:m=M}c.push(pn(m,_))}else c.push(pn(h))}return c}function gr(o,c){return o[cr]=c,o.prototype[cr]=c,o}function Oo(o){return o[cr]}function Pe(o){return{toString:o}.toString()}var Se=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(Se||{}),ct=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(ct||{});const jt={},It=[],Nn=te({\u0275cmp:te}),ui=te({\u0275dir:te}),lr=te({\u0275pipe:te}),dr=te({\u0275mod:te}),Lr=te({\u0275fac:te}),xo=te({__NG_ELEMENT_ID__:te}),jc=te({__NG_ENV_ID__:te});function ah(o,c,d){let h=o.length;for(;;){const m=o.indexOf(c,d);if(-1===m)return m;if(0===m||o.charCodeAt(m-1)<=32){const _=c.length;if(m+_===h||o.charCodeAt(m+_)<=32)return m}d=m+1}}function Sa(o,c,d){let h=0;for(;h<d.length;){const m=d[h];if("number"==typeof m){if(0!==m)break;h++;const _=d[h++],x=d[h++],M=d[h++];o.setAttribute(c,x,M,_)}else{const _=m,x=d[++h];Js(_)?o.setProperty(c,_,x):o.setAttribute(c,_,x),h++}}return h}function ch(o){return 3===o||4===o||6===o}function Js(o){return 64===o.charCodeAt(0)}function Qa(o,c){if(null!==c&&0!==c.length)if(null===o||0===o.length)o=c.slice();else{let d=-1;for(let h=0;h<c.length;h++){const m=c[h];"number"==typeof m?d=m:0===d||$c(o,d,m,null,-1===d||2===d?c[++h]:null)}}return o}function $c(o,c,d,h,m){let _=0,x=o.length;if(-1===c)x=-1;else for(;_<o.length;){const M=o[_++];if("number"==typeof M){if(M===c){x=-1;break}if(M>c){x=_-1;break}}}for(;_<o.length;){const M=o[_];if("number"==typeof M)break;if(M===d){if(null===h)return void(null!==m&&(o[_+1]=m));if(h===o[_+1])return void(o[_+2]=m)}_++,null!==h&&_++,null!==m&&_++}-1!==x&&(o.splice(x,0,c),_=x+1),o.splice(_++,0,d),null!==h&&o.splice(_++,0,h),null!==m&&o.splice(_++,0,m)}const lh="ng-template";function ur(o,c,d){let h=0,m=!0;for(;h<o.length;){let _=o[h++];if("string"==typeof _&&m){const x=o[h++];if(d&&"class"===_&&-1!==ah(x.toLowerCase(),c,0))return!0}else{if(1===_){for(;h<o.length&&"string"==typeof(_=o[h++]);)if(_.toLowerCase()===c)return!0;return!1}"number"==typeof _&&(m=!1)}}return!1}function qr(o){return 4===o.type&&o.value!==lh}function Bv(o,c,d){return c===(4!==o.type||d?o.value:lh)}function Wp(o,c,d){let h=4;const m=o.attrs||[],_=function Vv(o){for(let c=0;c<o.length;c++)if(ch(o[c]))return c;return o.length}(m);let x=!1;for(let M=0;M<c.length;M++){const D=c[M];if("number"!=typeof D){if(!x)if(4&h){if(h=2|1&h,""!==D&&!Bv(o,D,d)||""===D&&1===c.length){if(Es(h))return!1;x=!0}}else{const L=8&h?D:c[++M];if(8&h&&null!==o.attrs){if(!ur(o.attrs,L,d)){if(Es(h))return!1;x=!0}continue}const X=Ma(8&h?"class":D,m,qr(o),d);if(-1===X){if(Es(h))return!1;x=!0;continue}if(""!==L){let de;de=X>_?"":m[X+1].toLowerCase();const ge=8&h?de:null;if(ge&&-1!==ah(ge,L,0)||2&h&&L!==de){if(Es(h))return!1;x=!0}}}}else{if(!x&&!Es(h)&&!Es(D))return!1;if(x&&Es(D))continue;x=!1,h=D|1&h}}return Es(h)||x}function Es(o){return 0==(1&o)}function Ma(o,c,d,h){if(null===c)return-1;let m=0;if(h||!d){let _=!1;for(;m<c.length;){const x=c[m];if(x===o)return m;if(3===x||6===x)_=!0;else{if(1===x||2===x){let M=c[++m];for(;"string"==typeof M;)M=c[++m];continue}if(4===x)break;if(0===x){m+=4;continue}}m+=_?1:2}return-1}return function Ja(o,c){let d=o.indexOf(4);if(d>-1)for(d++;d<o.length;){const h=o[d];if("number"==typeof h)return-1;if(h===c)return d;d++}return-1}(c,o)}function Pl(o,c,d=!1){for(let h=0;h<c.length;h++)if(Wp(o,c[h],d))return!0;return!1}function zf(o,c){e:for(let d=0;d<c.length;d++){const h=c[d];if(o.length===h.length){for(let m=0;m<o.length;m++)if(o[m]!==h[m])continue e;return!0}}return!1}function Yc(o,c){return o?":not("+c.trim()+")":c}function Ol(o){let c=o[0],d=1,h=2,m="",_=!1;for(;d<o.length;){let x=o[d];if("string"==typeof x)if(2&h){const M=o[++d];m+="["+x+(M.length>0?'="'+M+'"':"")+"]"}else 8&h?m+="."+x:4&h&&(m+=" "+x);else""!==m&&!Es(x)&&(c+=Yc(_,m),m=""),h=x,_=_||!Es(h);d++}return""!==m&&(c+=Yc(_,m)),c}function jd(o){return Pe(()=>{const c=fh(o),d={...c,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Se.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||ct.Emulated,styles:o.styles||It,_:null,schemas:o.schemas||null,tView:null,id:""};jp(d);const h=o.dependencies;return d.directiveDefs=Ll(h,!1),d.pipeDefs=Ll(h,!0),d.id=function to(o){let c=0;const d=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const m of d)c=Math.imul(31,c)+m.charCodeAt(0)<<0;return c+=2147483648,"c"+c}(d),d})}function uh(o){return ni(o)||ir(o)}function $d(o){return null!==o}function Nl(o){return Pe(()=>({type:o.type,bootstrap:o.bootstrap||It,declarations:o.declarations||It,imports:o.imports||It,exports:o.exports||It,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Yd(o,c){if(null==o)return jt;const d={};for(const h in o)if(o.hasOwnProperty(h)){let m=o[h],_=m;Array.isArray(m)&&(_=m[1],m=m[0]),d[m]=h,c&&(c[m]=_)}return d}function qc(o){return Pe(()=>{const c=fh(o);return jp(c),c})}function hh(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function ni(o){return o[Nn]||null}function ir(o){return o[ui]||null}function hs(o){return o[lr]||null}function Ta(o){const c=ni(o)||ir(o)||hs(o);return null!==c&&c.standalone}function fs(o,c){const d=o[dr]||null;if(!d&&!0===c)throw new Error(`Type ${ve(o)} does not have '\u0275mod' property.`);return d}function fh(o){const c={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputTransforms:null,inputConfig:o.inputs||jt,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||It,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Yd(o.inputs,c),outputs:Yd(o.outputs)}}function jp(o){o.features?.forEach(c=>c(o))}function Ll(o,c){if(!o)return null;const d=c?hs:uh;return()=>("function"==typeof o?o():o).map(h=>d(h)).filter($d)}const Vi=0,Bt=1,mn=2,zi=3,ms=4,ec=5,Fr=6,Fl=7,ai=8,ta=9,Zc=10,vn=11,Ur=12,Wf=13,Aa=14,Hi=15,mh=16,tc=17,Cr=18,na=19,ia=20,Da=21,Fs=22,Ul=23,Ia=24,Un=25,Xc=1,Zd=2,Sr=7,Mr=9,Br=11;function Tr(o){return Array.isArray(o)&&"object"==typeof o[Xc]}function Xr(o){return Array.isArray(o)&&!0===o[Xc]}function Xd(o){return 0!=(4&o.flags)}function ic(o){return o.componentOffset>-1}function Us(o){return 1==(1&o.flags)}function Cs(o){return!!o.template}function Kc(o){return 0!=(512&o[mn])}function rc(o,c){return o.hasOwnProperty(Lr)?o[Lr]:null}let _r=null,sc=!1;function Ss(o){const c=_r;return _r=o,c}const oc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function zl(o){if(!ac(o)||o.dirty){if(!o.producerMustRecompute(o)&&!xh(o))return void(o.dirty=!1);o.producerRecomputeValue(o),o.dirty=!1}}function Hl(o){o.dirty=!0,function Zf(o){if(void 0===o.liveConsumerNode)return;const c=sc;sc=!0;try{for(const d of o.liveConsumerNode)d.dirty||Hl(d)}finally{sc=c}}(o),o.consumerMarkedDirty?.(o)}function Xf(o){return o&&(o.nextProducerIndex=0),Ss(o)}function Ar(o,c){if(Ss(c),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(ac(o))for(let d=o.nextProducerIndex;d<o.producerNode.length;d++)Gl(o.producerNode[d],o.producerIndexOfThis[d]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function xh(o){Ra(o);for(let c=0;c<o.producerNode.length;c++){const d=o.producerNode[c],h=o.producerLastReadVersion[c];if(h!==d.version||(zl(d),h!==d.version))return!0}return!1}function wh(o){if(Ra(o),ac(o))for(let c=0;c<o.producerNode.length;c++)Gl(o.producerNode[c],o.producerIndexOfThis[c]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function Gl(o,c){if(function Wl(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}(o),Ra(o),1===o.liveConsumerNode.length)for(let h=0;h<o.producerNode.length;h++)Gl(o.producerNode[h],o.producerIndexOfThis[h]);const d=o.liveConsumerNode.length-1;if(o.liveConsumerNode[c]=o.liveConsumerNode[d],o.liveConsumerIndexOfThis[c]=o.liveConsumerIndexOfThis[d],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,c<o.liveConsumerNode.length){const h=o.liveConsumerIndexOfThis[c],m=o.liveConsumerNode[c];Ra(m),m.producerIndexOfThis[h]=c}}function ac(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function Ra(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}let Jf=null;function Mh(o){const c=Ss(null);try{return o()}finally{Ss(c)}}const Th=()=>{},Kp=(()=>({...oc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{o.schedule(o.ref)},hasRun:!1,cleanupFn:Th}))();class Qp{constructor(c,d,h){this.previousValue=c,this.currentValue=d,this.firstChange=h}isFirstChange(){return this.firstChange}}function tu(){return Yl}function Yl(o){return o.type.prototype.ngOnChanges&&(o.setInput=cc),Jp}function Jp(){const o=lc(this),c=o?.current;if(c){const d=o.previous;if(d===jt)o.previous=c;else for(let h in c)d[h]=c[h];o.current=null,this.ngOnChanges(c)}}function cc(o,c,d,h){const m=this.declaredInputs[d],_=lc(o)||function tm(o,c){return o[Lo]=c}(o,{previous:jt,current:null}),x=_.current||(_.current={}),M=_.previous,D=M[m];x[m]=new Qp(D&&D.currentValue,c,M===jt),o[h]=c}tu.ngInherit=!0;const Lo="__ngSimpleChanges__";function lc(o){return o[Lo]||null}const wo=function(o,c,d){},nm="svg";function vi(o){for(;Array.isArray(o);)o=o[Vi];return o}function dc(o,c){return vi(c[o])}function Vr(o,c){return vi(c[o.index])}function Dh(o,c){return o.data[c]}function zr(o,c){const d=c[o];return Tr(d)?d:d[Vi]}function Ms(o,c){return null==c?null:o[c]}function rg(o){o[tc]=0}function Ih(o){1024&o[mn]||(o[mn]|=1024,Zv(o,1))}function nu(o){1024&o[mn]&&(o[mn]&=-1025,Zv(o,-1))}function Zv(o,c){let d=o[zi];if(null===d)return;d[ec]+=c;let h=d;for(d=d[zi];null!==d&&(1===c&&1===h[ec]||-1===c&&0===h[ec]);)d[ec]+=c,h=d,d=d[zi]}const bn={lFrame:As(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Hr(){return bn.bindingsEnabled}function Fo(){return null!==bn.skipHydrationRootTNode}function et(){return bn.lFrame.lView}function Kn(){return bn.lFrame.tView}function Eo(o){return bn.lFrame.contextLView=o,o[ai]}function au(o){return bn.lFrame.contextLView=null,o}function Ir(){let o=cu();for(;null!==o&&64===o.type;)o=o.parent;return o}function cu(){return bn.lFrame.currentTNode}function Oa(o,c){const d=bn.lFrame;d.currentTNode=o,d.isParent=c}function hc(){return bn.lFrame.isParent}function Rh(){bn.lFrame.isParent=!1}function fc(){return bn.lFrame.bindingIndex++}function io(o){const c=bn.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+o,d}function lu(o,c){const d=bn.lFrame;d.bindingIndex=d.bindingRootIndex=o,du(c)}function du(o){bn.lFrame.currentDirectiveIndex=o}function cm(o){const c=bn.lFrame.currentDirectiveIndex;return-1===c?null:o[c]}function uu(){return bn.lFrame.currentQueryIndex}function lm(o){bn.lFrame.currentQueryIndex=o}function dm(o){const c=o[Bt];return 2===c.type?c.declTNode:1===c.type?o[Fr]:null}function og(o,c,d){if(d&cn.SkipSelf){let m=c,_=o;for(;!(m=m.parent,null!==m||d&cn.Host||(m=dm(_),null===m||(_=_[Aa],10&m.type))););if(null===m)return!1;c=m,o=_}const h=bn.lFrame=um();return h.currentTNode=c,h.lView=o,!0}function Na(o){const c=um(),d=o[Bt];bn.lFrame=c,c.currentTNode=d.firstChild,c.lView=o,c.tView=d,c.contextLView=o,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function um(){const o=bn.lFrame,c=null===o?null:o.child;return null===c?As(o):c}function As(o){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=c),c}function Kr(){const o=bn.lFrame;return bn.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Mi=Kr;function sl(){const o=Kr();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Hn(){return bn.lFrame.selectedIndex}function ro(o){bn.lFrame.selectedIndex=o}function xn(){const o=bn.lFrame;return Dh(o.tView,o.selectedIndex)}function mc(){bn.lFrame.currentNamespace=nm}function so(){!function Xl(){bn.lFrame.currentNamespace=null}()}let sa=!0;function La(){return sa}function oo(o){sa=o}function pc(o,c){for(let d=c.directiveStart,h=c.directiveEnd;d<h;d++){const _=o.data[d].type.prototype,{ngAfterContentInit:x,ngAfterContentChecked:M,ngAfterViewInit:D,ngAfterViewChecked:L,ngOnDestroy:V}=_;x&&(o.contentHooks??=[]).push(-d,x),M&&((o.contentHooks??=[]).push(d,M),(o.contentCheckHooks??=[]).push(d,M)),D&&(o.viewHooks??=[]).push(-d,D),L&&((o.viewHooks??=[]).push(d,L),(o.viewCheckHooks??=[]).push(d,L)),null!=V&&(o.destroyHooks??=[]).push(d,V)}}function Kl(o,c,d){ag(o,c,3,d)}function hu(o,c,d,h){(3&o[mn])===d&&ag(o,c,d,h)}function Ql(o,c){let d=o[mn];(3&d)===c&&(d&=8191,d+=1,o[mn]=d)}function ag(o,c,d,h){const _=h??-1,x=c.length-1;let M=0;for(let D=void 0!==h?65535&o[tc]:0;D<x;D++)if("number"==typeof c[D+1]){if(M=c[D],null!=h&&M>=h)break}else c[D]<0&&(o[tc]+=65536),(M<_||-1==_)&&(Lh(o,d,c,D),o[tc]=(4294901760&o[tc])+D+2),D++}function fu(o,c){wo(4,o,c);const d=Ss(null);try{c.call(o)}finally{Ss(d),wo(5,o,c)}}function Lh(o,c,d,h){const m=d[h]<0,_=d[h+1],M=o[m?-d[h]:d[h]];m?o[mn]>>13<o[tc]>>16&&(3&o[mn])===c&&(o[mn]+=8192,fu(M,_)):fu(M,_)}const Fa=-1;class Ua{constructor(c,d,h){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=h}}function Jl(o){return o!==Fa}function ol(o){return 32767&o}function gc(o,c){let d=function lg(o){return o>>16}(o),h=c;for(;d>0;)h=h[Aa],d--;return h}let Uh=!0;function mu(o){const c=Uh;return Uh=o,c}const _m=255,dg=5;let Bh=0;const Bo={};function _c(o,c){const d=td(o,c);if(-1!==d)return d;const h=c[Bt];h.firstCreatePass&&(o.injectorIndex=c.length,ed(h.data,o),ed(c,null),ed(h.blueprint,null));const m=Ba(o,c),_=o.injectorIndex;if(Jl(m)){const x=ol(m),M=gc(m,c),D=M[Bt].data;for(let L=0;L<8;L++)c[_+L]=M[x+L]|D[x+L]}return c[_+8]=m,_}function ed(o,c){o.push(0,0,0,0,0,0,0,0,c)}function td(o,c){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===c[o.injectorIndex+8]?-1:o.injectorIndex}function Ba(o,c){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let d=0,h=null,m=c;for(;null!==m;){if(h=gu(m),null===h)return Fa;if(d++,m=m[Aa],-1!==h.injectorIndex)return h.injectorIndex|d<<16}return Fa}function nd(o,c,d){!function Vh(o,c,d){let h;"string"==typeof d?h=d.charCodeAt(0)||0:d.hasOwnProperty(xo)&&(h=d[xo]),null==h&&(h=d[xo]=Bh++);const m=h&_m;c.data[o+(m>>dg)]|=1<<m}(o,c,d)}function id(o,c,d){if(d&cn.Optional||void 0!==o)return o;hn()}function rd(o,c,d,h){if(d&cn.Optional&&void 0===h&&(h=null),!(d&(cn.Self|cn.Host))){const m=o[ta],_=Di(void 0);try{return m?m.get(c,h,d&cn.Optional):Xi(c,h,d&cn.Optional)}finally{Di(_)}}return id(h,0,d)}function Co(o,c,d,h=cn.Default,m){if(null!==o){if(2048&c[mn]&&!(h&cn.Self)){const x=function nb(o,c,d,h,m){let _=o,x=c;for(;null!==_&&null!==x&&2048&x[mn]&&!(512&x[mn]);){const M=Hh(_,x,d,h|cn.Self,Bo);if(M!==Bo)return M;let D=_.parent;if(!D){const L=x[ia];if(L){const V=L.get(d,Bo,h);if(V!==Bo)return V}D=gu(x),x=x[Aa]}_=D}return m}(o,c,d,h,Bo);if(x!==Bo)return x}const _=Hh(o,c,d,h,Bo);if(_!==Bo)return _}return rd(c,d,h,m)}function Hh(o,c,d,h,m){const _=function Vs(o){if("string"==typeof o)return o.charCodeAt(0)||0;const c=o.hasOwnProperty(xo)?o[xo]:void 0;return"number"==typeof c?c>=0?c&_m:od:c}(d);if("function"==typeof _){if(!og(c,o,h))return h&cn.Host?id(m,0,h):rd(c,d,h,m);try{let x;if(x=_(h),null!=x||h&cn.Optional)return x;hn()}finally{Mi()}}else if("number"==typeof _){let x=null,M=td(o,c),D=Fa,L=h&cn.Host?c[Hi][Fr]:null;for((-1===M||h&cn.SkipSelf)&&(D=-1===M?Ba(o,c):c[M+8],D!==Fa&&Gh(h,!1)?(x=c[Bt],M=ol(D),c=gc(D,c)):M=-1);-1!==M;){const V=c[Bt];if(Vo(_,M,V.data)){const X=pu(M,c,d,x,h,L);if(X!==Bo)return X}D=c[M+8],D!==Fa&&Gh(h,c[Bt].data[M+8]===L)&&Vo(_,M,c)?(x=V,M=ol(D),c=gc(D,c)):M=-1}}return m}function pu(o,c,d,h,m,_){const x=c[Bt],M=x.data[o+8],V=sd(M,x,d,null==h?ic(M)&&Uh:h!=x&&0!=(3&M.type),m&cn.Host&&_===M);return null!==V?aa(c,x,V,M):Bo}function sd(o,c,d,h,m){const _=o.providerIndexes,x=c.data,M=1048575&_,D=o.directiveStart,V=_>>20,de=m?M+V:o.directiveEnd;for(let ge=h?M:M+V;ge<de;ge++){const We=x[ge];if(ge<D&&d===We||ge>=D&&We.type===d)return ge}if(m){const ge=x[D];if(ge&&Cs(ge)&&ge.type===d)return D}return null}function aa(o,c,d,h){let m=o[d];const _=c.data;if(function Jv(o){return o instanceof Ua}(m)){const x=m;x.resolving&&function mt(o,c){const d=c?`. Dependency path: ${c.join(" > ")} > ${o}`:"";throw new Me(-200,`Circular dependency in DI detected for ${o}${d}`)}(function Je(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ee(o)}(_[d]));const M=mu(x.canSeeViewProviders);x.resolving=!0;const L=x.injectImpl?Di(x.injectImpl):null;og(o,h,cn.Default);try{m=o[d]=x.factory(void 0,_,o,h),c.firstCreatePass&&d>=h.directiveStart&&function oa(o,c,d){const{ngOnChanges:h,ngOnInit:m,ngDoCheck:_}=c.type.prototype;if(h){const x=Yl(c);(d.preOrderHooks??=[]).push(o,x),(d.preOrderCheckHooks??=[]).push(o,x)}m&&(d.preOrderHooks??=[]).push(0-o,m),_&&((d.preOrderHooks??=[]).push(o,_),(d.preOrderCheckHooks??=[]).push(o,_))}(d,_[d],c)}finally{null!==L&&Di(L),mu(M),x.resolving=!1,Mi()}}return m}function Vo(o,c,d){return!!(d[c+(o>>dg)]&1<<o)}function Gh(o,c){return!(o&cn.Self||o&cn.Host&&c)}class Ii{constructor(c,d){this._tNode=c,this._lView=d}get(c,d,h){return Co(this._tNode,this._lView,c,Qi(h),d)}}function od(){return new Ii(Ir(),et())}function Va(o){return Pe(()=>{const c=o.prototype.constructor,d=c[Lr]||ug(c),h=Object.prototype;let m=Object.getPrototypeOf(o.prototype).constructor;for(;m&&m!==h;){const _=m[Lr]||ug(m);if(_&&_!==d)return _;m=Object.getPrototypeOf(m)}return _=>new _})}function ug(o){return Et(o)?()=>{const c=ug(dt(o));return c&&c()}:rc(o)}function gu(o){const c=o[Bt],d=c.type;return 2===d?c.declTNode:1===d?o[Fr]:null}function _u(o){return function zh(o,c){if("class"===c)return o.classes;if("style"===c)return o.styles;const d=o.attrs;if(d){const h=d.length;let m=0;for(;m<h;){const _=d[m];if(ch(_))break;if(0===_)m+=2;else if("number"==typeof _)for(m++;m<h&&"string"==typeof d[m];)m++;else{if(_===c)return d[m+1];m+=2}}}return null}(Ir(),o)}const al="__parameters__";function Y(o,c,d){return Pe(()=>{const h=function F(o){return function(...d){if(o){const h=o(...d);for(const m in h)this[m]=h[m]}}}(c);function m(..._){if(this instanceof m)return h.apply(this,_),this;const x=new m(..._);return M.annotation=x,M;function M(D,L,V){const X=D.hasOwnProperty(al)?D[al]:Object.defineProperty(D,al,{value:[]})[al];for(;X.length<=V;)X.push(null);return(X[V]=X[V]||[]).push(x),D}}return d&&(m.prototype=Object.create(d.prototype)),m.prototype.ngMetadataName=o,m.annotationCls=m,m})}function ao(o,c){o.forEach(d=>Array.isArray(d)?ao(d,c):c(d))}function vu(o,c,d){c>=o.length?o.push(d):o.splice(c,0,d)}function hg(o,c){return c>=o.length-1?o.pop():o.splice(c,1)[0]}function yc(o,c){const d=[];for(let h=0;h<o;h++)d.push(c);return d}function zs(o,c,d){let h=bu(o,c);return h>=0?o[1|h]=d:(h=~h,function Wh(o,c,d,h){let m=o.length;if(m==c)o.push(d,h);else if(1===m)o.push(h,o[0]),o[0]=d;else{for(m--,o.push(o[m-1],o[m]);m>c;)o[m]=o[m-2],m--;o[c]=d,o[c+1]=h}}(o,h,c,d)),h}function ib(o,c){const d=bu(o,c);if(d>=0)return o[1|d]}function bu(o,c){return function co(o,c,d){let h=0,m=o.length>>d;for(;m!==h;){const _=h+(m-h>>1),x=o[_<<d];if(c===x)return _<<d;x>c?m=_:h=_+1}return~(m<<d)}(o,c,1)}const ym=gr(Y("Optional"),8),xc=gr(Y("SkipSelf"),4);function ud(o){return 128==(128&o.flags)}var Yh=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(Yh||{});const pb=/^>|^->|<!--|-->|--!>|<!-$/g,ll=/(<|>)/g,km="\u200b$1\u200b";const Cg=new Map;let Z0=0;const Pm="__ngContext__";function es(o,c){Tr(c)?(o[Pm]=c[na],function Hs(o){Cg.set(o[na],o)}(c)):o[Pm]=c}let se;function be(o,c){return se(o,c)}function bt(o){const c=o[zi];return Xr(c)?c[zi]:c}function ji(o){return Su(o[Ur])}function Ho(o){return Su(o[ms])}function Su(o){for(;null!==o&&!Xr(o);)o=o[ms];return o}function fd(o,c,d,h,m){if(null!=h){let _,x=!1;Xr(h)?_=h:Tr(h)&&(x=!0,h=h[Vi]);const M=vi(h);0===o&&null!==d?null==m?HI(c,d,M):Nm(c,d,M,m||null,!0):1===o&&null!==d?Nm(c,d,M,m||null,!0):2===o?function gn(o,c,d){const h=Pg(o,c);h&&function Gs(o,c,d,h){o.removeChild(c,d,h)}(o,h,c,d)}(c,M,x):3===o&&c.destroyNode(M),null!=_&&function ns(o,c,d,h,m){const _=d[Sr];_!==vi(d)&&fd(c,o,h,_,m);for(let M=Br;M<d.length;M++){const D=d[M];Kh(D[Bt],D,o,c,h,_)}}(c,o,_,d,m)}}function Om(o,c){return o.createComment(function gb(o){return o.replace(pb,c=>c.replace(ll,km))}(c))}function md(o,c,d){return o.createElement(c,d)}function bb(o,c){const d=o[Mr],h=d.indexOf(c);nu(c),d.splice(h,1)}function yb(o,c){if(o.length<=Br)return;const d=Br+c,h=o[d];if(h){const m=h[mh];null!==m&&m!==o&&bb(m,h),c>0&&(o[d-1][ms]=h[ms]);const _=hg(o,Br+c);!function Zh(o,c){Kh(o,c,c[vn],2,null,null),c[Vi]=null,c[Fr]=null}(h[Bt],h);const x=_[Cr];null!==x&&x.detachView(_[Bt]),h[zi]=null,h[ms]=null,h[mn]&=-129}return h}function Q0(o,c){if(!(256&c[mn])){const d=c[vn];c[Ul]&&wh(c[Ul]),c[Ia]&&wh(c[Ia]),d.destroyNode&&Kh(o,c,d,3,null,null),function kg(o){let c=o[Ur];if(!c)return J0(o[Bt],o);for(;c;){let d=null;if(Tr(c))d=c[Ur];else{const h=c[Br];h&&(d=h)}if(!d){for(;c&&!c[ms]&&c!==o;)Tr(c)&&J0(c[Bt],c),c=c[zi];null===c&&(c=o),Tr(c)&&J0(c[Bt],c),d=c&&c[ms]}c=d}}(c)}}function J0(o,c){if(!(256&c[mn])){c[mn]&=-129,c[mn]|=256,function ex(o,c){let d;if(null!=o&&null!=(d=o.destroyHooks))for(let h=0;h<d.length;h+=2){const m=c[d[h]];if(!(m instanceof Ua)){const _=d[h+1];if(Array.isArray(_))for(let x=0;x<_.length;x+=2){const M=m[_[x]],D=_[x+1];wo(4,M,D);try{D.call(M)}finally{wo(5,M,D)}}else{wo(4,m,_);try{_.call(m)}finally{wo(5,m,_)}}}}}(o,c),function ZC(o,c){const d=o.cleanup,h=c[Fl];if(null!==d)for(let _=0;_<d.length-1;_+=2)if("string"==typeof d[_]){const x=d[_+3];x>=0?h[x]():h[-x].unsubscribe(),_+=2}else d[_].call(h[d[_+1]]);null!==h&&(c[Fl]=null);const m=c[Da];if(null!==m){c[Da]=null;for(let _=0;_<m.length;_++)(0,m[_])()}}(o,c),1===c[Bt].type&&c[vn].destroy();const d=c[mh];if(null!==d&&Xr(c[zi])){d!==c[zi]&&bb(d,c);const h=c[Cr];null!==h&&h.detachView(o)}!function So(o){Cg.delete(o[na])}(c)}}function xb(o,c,d){return function XC(o,c,d){let h=c;for(;null!==h&&40&h.type;)h=(c=h).parent;if(null===h)return d[Vi];{const{componentOffset:m}=h;if(m>-1){const{encapsulation:_}=o.data[h.directiveStart+m];if(_===ct.None||_===ct.Emulated)return null}return Vr(h,d)}}(o,c.parent,d)}function Nm(o,c,d,h,m){o.insertBefore(c,d,h,m)}function HI(o,c,d){o.appendChild(c,d)}function GI(o,c,d,h,m){null!==h?Nm(o,c,d,h,m):HI(o,c,d)}function Pg(o,c){return o.parentNode(c)}function Xt(o,c,d){return KC(o,c,d)}let tx,Eb,sx,ps,KC=function Ws(o,c,d){return 40&o.type?Vr(o,d):null};function wb(o,c,d,h){const m=xb(o,h,c),_=c[vn],M=Xt(h.parent||c[Fr],h,c);if(null!=m)if(Array.isArray(d))for(let D=0;D<d.length;D++)GI(_,m,d[D],M,!1);else GI(_,m,d,M,!1);void 0!==tx&&tx(_,h,c,d,m)}function Lm(o,c){if(null!==c){const d=c.type;if(3&d)return Vr(c,o);if(4&d)return Xh(-1,o[c.index]);if(8&d){const h=c.child;if(null!==h)return Lm(o,h);{const m=o[c.index];return Xr(m)?Xh(-1,m):vi(m)}}if(32&d)return be(c,o)()||vi(o[c.index]);{const h=JC(o,c);return null!==h?Array.isArray(h)?h[0]:Lm(bt(o[Hi]),h):Lm(o,c.next)}}return null}function JC(o,c){return null!==c?o[Hi][Fr].projection[c.projection]:null}function Xh(o,c){const d=Br+o+1;if(d<c.length){const h=c[d],m=h[Bt].firstChild;if(null!==m)return Lm(h,m)}return c[Sr]}function nx(o,c,d,h,m,_,x){for(;null!=d;){const M=h[d.index],D=d.type;if(x&&0===c&&(M&&es(vi(M),h),d.flags|=2),32!=(32&d.flags))if(8&D)nx(o,c,d.child,h,m,_,!1),fd(c,o,m,M,_);else if(32&D){const L=be(d,h);let V;for(;V=L();)fd(c,o,m,V,_);fd(c,o,m,M,_)}else 16&D?ix(o,c,h,d,m,_):fd(c,o,m,M,_);d=x?d.projectionNext:d.next}}function Kh(o,c,d,h,m,_){nx(d,h,o.firstChild,c,m,_,!1)}function ix(o,c,d,h,m,_){const x=d[Hi],D=x[Fr].projection[h.projection];if(Array.isArray(D))for(let L=0;L<D.length;L++)fd(c,o,m,D[L],_);else{let L=D;const V=x[zi];ud(h)&&(L.flags|=128),nx(o,c,L,V,m,_,!0)}}function tS(o,c,d){""===d?o.removeAttribute(c,"class"):o.setAttribute(c,"class",d)}function rx(o,c,d){const{mergedAttrs:h,classes:m,styles:_}=d;null!==h&&Sa(o,c,h),null!==m&&tS(o,c,m),null!==_&&function Qh(o,c,d){o.setAttribute(c,"style",d)}(o,c,_)}function dl(o){return function Um(){if(void 0===Eb&&(Eb=null,xi.trustedTypes))try{Eb=xi.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Eb}()?.createHTML(o)||o}function Bm(o){sx=o}function Go(){if(void 0!==sx)return sx;if(typeof document<"u")return document;throw new Me(210,!1)}function is(){if(void 0===ps&&(ps=null,xi.trustedTypes))try{ps=xi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return ps}function Cb(o){return is()?.createHTML(o)||o}function sn(o){return is()?.createScriptURL(o)||o}class Ni{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rn})`}}class kr extends Ni{getTypeName(){return"HTML"}}class pd extends Ni{getTypeName(){return"Style"}}class rr extends Ni{getTypeName(){return"Script"}}class js extends Ni{getTypeName(){return"URL"}}class Mb extends Ni{getTypeName(){return"ResourceURL"}}function ul(o){return o instanceof Ni?o.changingThisBreaksApplicationSecurity:o}function Vm(o,c){const d=function Tu(o){return o instanceof Ni&&o.getTypeName()||null}(o);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see ${rn})`)}return d===c}function zm(o){return new kr(o)}function rs(o){return new pd(o)}function Au(o){return new rr(o)}function $I(o){return new js(o)}function ox(o){return new Mb(o)}class YI{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const d=(new window.DOMParser).parseFromString(dl(c),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(c):(d.removeChild(d.firstChild),d)}catch{return null}}}class nS{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const d=this.inertDocument.createElement("template");return d.innerHTML=dl(c),d}}const ax=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bi(o){return(o=String(o)).match(ax)?o:"unsafe:"+o}function Dn(o){const c={};for(const d of o.split(","))c[d]=!0;return c}function gd(...o){const c={};for(const d of o)for(const h in d)d.hasOwnProperty(h)&&(c[h]=!0);return c}const iS=Dn("area,br,col,hr,img,wbr"),ef=Dn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rS=Dn("rp,rt"),Ab=gd(iS,gd(ef,Dn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gd(rS,Dn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gd(rS,ef)),hl=Dn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cx=gd(hl,Dn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Dn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),XI=Dn("script,style,template");class sS{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let d=c.firstChild,h=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?h=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,h&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let m=this.checkClobberedElement(d,d.nextSibling);if(m){d=m;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(c){const d=c.nodeName.toLowerCase();if(!Ab.hasOwnProperty(d))return this.sanitizedSomething=!0,!XI.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const h=c.attributes;for(let m=0;m<h.length;m++){const _=h.item(m),x=_.name,M=x.toLowerCase();if(!cx.hasOwnProperty(M)){this.sanitizedSomething=!0;continue}let D=_.value;hl[M]&&(D=bi(D)),this.buf.push(" ",x,'="',lx(D),'"')}return this.buf.push(">"),!0}endElement(c){const d=c.nodeName.toLowerCase();Ab.hasOwnProperty(d)&&!iS.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(c){this.buf.push(lx(c))}checkClobberedElement(c,d){if(d&&(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return d}}const KI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,oS=/([^\#-~ |!])/g;function lx(o){return o.replace(/&/g,"&amp;").replace(KI,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(oS,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tf;function nf(o,c){let d=null;try{tf=tf||function Tb(o){const c=new nS(o);return function Hm(){try{return!!(new window.DOMParser).parseFromString(dl(""),"text/html")}catch{return!1}}()?new YI(c):c}(o);let h=c?String(c):"";d=tf.getInertBodyElement(h);let m=5,_=h;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,h=_,_=d.innerHTML,d=tf.getInertBodyElement(h)}while(h!==_);return dl((new sS).sanitizeChildren(ki(d)||d))}finally{if(d){const h=ki(d)||d;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function ki(o){return"content"in o&&function Lg(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var rf=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(rf||{});function Du(o){const c=Iu();return c?Cb(c.sanitize(rf.HTML,o)||""):Vm(o,"HTML")?Cb(ul(o)):nf(Go(),Ee(o))}function Gm(o){const c=Iu();return c?c.sanitize(rf.URL,o)||"":Vm(o,"URL")?ul(o):bi(Ee(o))}function Db(o){const c=Iu();if(c)return sn(c.sanitize(rf.RESOURCE_URL,o)||"");if(Vm(o,"ResourceURL"))return sn(ul(o));throw new Me(904,!1)}function Ug(o,c,d){return function aS(o,c){return"src"===c&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===c&&("base"===o||"link"===o)?Db:Gm}(c,d)(o)}function Iu(){const o=et();return o&&o[Zc].sanitizer}class Ti{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=On({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Wm=new Ti("ENVIRONMENT_INITIALIZER"),lS=new Ti("INJECTOR",-1),dS=new Ti("INJECTOR_DEF_TYPES");class dx{get(c,d=ws){if(d===ws){const h=new Error(`NullInjectorError: No provider for ${ve(c)}!`);throw h.name="NullInjectorError",h}return d}}function Bg(o){return{\u0275providers:o}}function ek(...o){return{\u0275providers:uS(0,o),\u0275fromNgModule:!0}}function uS(o,...c){const d=[],h=new Set;let m;const _=x=>{d.push(x)};return ao(c,x=>{const M=x;kb(M,_,[],h)&&(m||=[],m.push(M))}),void 0!==m&&hS(m,_),d}function hS(o,c){for(let d=0;d<o.length;d++){const{ngModule:h,providers:m}=o[d];ux(m,_=>{c(_,h)})}}function kb(o,c,d,h){if(!(o=dt(o)))return!1;let m=null,_=ya(o);const x=!_&&ni(o);if(_||x){if(x&&!x.standalone)return!1;m=o}else{const D=o.ngModule;if(_=ya(D),!_)return!1;m=D}const M=h.has(m);if(x){if(M)return!1;if(h.add(m),x.dependencies){const D="function"==typeof x.dependencies?x.dependencies():x.dependencies;for(const L of D)kb(L,c,d,h)}}else{if(!_)return!1;{if(null!=_.imports&&!M){let L;h.add(m);try{ao(_.imports,V=>{kb(V,c,d,h)&&(L||=[],L.push(V))})}finally{}void 0!==L&&hS(L,c)}if(!M){const L=rc(m)||(()=>new m);c({provide:m,useFactory:L,deps:It},m),c({provide:dS,useValue:m,multi:!0},m),c({provide:Wm,useValue:()=>pn(m),multi:!0},m)}const D=_.providers;if(null!=D&&!M){const L=o;ux(D,V=>{c(V,L)})}}}return m!==o&&void 0!==o.providers}function ux(o,c){for(let d of o)gt(d)&&(d=d.\u0275providers),Array.isArray(d)?ux(d,c):c(d)}const tk=te({provide:String,useValue:te});function Rb(o){return null!==o&&"object"==typeof o&&tk in o}function ca(o){return"function"==typeof o}const Pb=new Ti("Set Injector scope."),Vg={},Ob={};let sf;function jm(){return void 0===sf&&(sf=new dx),sf}class Sc{}class zg extends Sc{get destroyed(){return this._destroyed}constructor(c,d,h,m){super(),this.parent=d,this.source=h,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gg(c,x=>this.processProvider(x)),this.records.set(lS,$m(void 0,this)),m.has("environment")&&this.records.set(Sc,$m(void 0,this));const _=this.records.get(Pb);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(dS.multi,It,cn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const d of this._ngOnDestroyHooks)d.ngOnDestroy();const c=this._onDestroyHooks;this._onDestroyHooks=[];for(const d of c)d()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(c){return this.assertNotDestroyed(),this._onDestroyHooks.push(c),()=>this.removeOnDestroy(c)}runInContext(c){this.assertNotDestroyed();const d=Ft(this),h=Di(void 0);try{return c()}finally{Ft(d),Di(h)}}get(c,d=ws,h=cn.Default){if(this.assertNotDestroyed(),c.hasOwnProperty(jc))return c[jc](this);h=Qi(h);const _=Ft(this),x=Di(void 0);try{if(!(h&cn.SkipSelf)){let D=this.records.get(c);if(void 0===D){const L=function rk(o){return"function"==typeof o||"object"==typeof o&&o instanceof Ti}(c)&&yr(c);D=L&&this.injectableDefInScope(L)?$m(fx(c),Vg):null,this.records.set(c,D)}if(null!=D)return this.hydrate(c,D)}return(h&cn.Self?jm():this.parent).get(c,d=h&cn.Optional&&d===ws?null:d)}catch(M){if("NullInjectorError"===M.name){if((M[Ks]=M[Ks]||[]).unshift(ve(c)),_)throw M;return function ea(o,c,d,h){const m=o[Ks];throw c[ue]&&m.unshift(c[ue]),o.message=function Rl(o,c,d,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let m=ve(c);if(Array.isArray(c))m=c.map(ve).join(" -> ");else if("object"==typeof c){let _=[];for(let x in c)if(c.hasOwnProperty(x)){let M=c[x];_.push(x+":"+("string"==typeof M?JSON.stringify(M):ve(M)))}m=`{${_.join(", ")}}`}return`${d}${h?"("+h+")":""}[${m}]: ${o.replace(re,"\n  ")}`}("\n"+o.message,m,d,h),o.ngTokenPath=m,o[Ks]=null,o}(M,c,"R3InjectorError",this.source)}throw M}finally{Di(x),Ft(_)}}resolveInjectorInitializers(){const c=Ft(this),d=Di(void 0);try{const m=this.get(Wm.multi,It,cn.Self);for(const _ of m)_()}finally{Ft(c),Di(d)}}toString(){const c=[],d=this.records;for(const h of d.keys())c.push(ve(h));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processProvider(c){let d=ca(c=dt(c))?c:dt(c&&c.provide);const h=function ik(o){return Rb(o)?$m(void 0,o.useValue):$m(mS(o),Vg)}(c);if(ca(c)||!0!==c.multi)this.records.get(d);else{let m=this.records.get(d);m||(m=$m(void 0,Vg,!0),m.factory=()=>ti(m.multi),this.records.set(d,m)),d=c,m.multi.push(c)}this.records.set(d,h)}hydrate(c,d){return d.value===Vg&&(d.value=Ob,d.value=d.factory()),"object"==typeof d.value&&d.value&&function Hg(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(c){if(!c.providedIn)return!1;const d=dt(c.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}removeOnDestroy(c){const d=this._onDestroyHooks.indexOf(c);-1!==d&&this._onDestroyHooks.splice(d,1)}}function fx(o){const c=yr(o),d=null!==c?c.factory:rc(o);if(null!==d)return d;if(o instanceof Ti)throw new Me(204,!1);if(o instanceof Function)return function Nb(o){const c=o.length;if(c>0)throw yc(c,"?"),new Me(204,!1);const d=function Os(o){return o&&(o[Ns]||o[xa])||null}(o);return null!==d?()=>d.factory(o):()=>new o}(o);throw new Me(204,!1)}function mS(o,c,d){let h;if(ca(o)){const m=dt(o);return rc(m)||fx(m)}if(Rb(o))h=()=>dt(o.useValue);else if(function fS(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...ti(o.deps||[]));else if(function hx(o){return!(!o||!o.useExisting)}(o))h=()=>pn(dt(o.useExisting));else{const m=dt(o&&(o.useClass||o.provide));if(!function pS(o){return!!o.deps}(o))return rc(m)||fx(m);h=()=>new m(...ti(o.deps))}return h}function $m(o,c,d=!1){return{factory:o,value:c,multi:d?[]:void 0}}function Gg(o,c){for(const d of o)Array.isArray(d)?Gg(d,c):d&&gt(d)?Gg(d.\u0275providers,c):c(d)}const gS=new Ti("AppId",{providedIn:"root",factory:()=>_S}),_S="ng",mx=new Ti("Platform Initializer"),af=new Ti("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Lb=new Ti("AnimationModuleType"),ku=new Ti("CSP nonce",{providedIn:"root",factory:()=>Go().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let xx=(o,c,d)=>null;function Mc(o,c,d=!1){return xx(o,c,d)}class Mx{}class Vb{}class ES{resolveComponentFactory(c){throw function Tx(o){const c=Error(`No component factory found for ${ve(o)}.`);return c.ngComponent=o,c}(c)}}let Jg=(()=>{class o{static#e=this.NULL=new ES}return o})();function e_(){return Km(Ir(),et())}function Km(o,c){return new t_(Vr(o,c))}let t_=(()=>{class o{constructor(d){this.nativeElement=d}static#e=this.__NG_ELEMENT_ID__=e_}return o})();function Dx(o){return o instanceof t_?o.nativeElement:o}class Ix{}let CS=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function ok(){const o=et(),d=zr(Ir().index,o);return(Tr(d)?d:o)[vn]}()}return o})(),SS=(()=>{class o{static#e=this.\u0275prov=On({token:o,providedIn:"root",factory:()=>null})}return o})();class kx{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const MS=new kx("16.2.9"),TS={};function uk(o,c=null,d=null,h){const m=IS(o,c,d,h);return m.resolveInjectorInitializers(),m}function IS(o,c=null,d=null,h,m=new Set){const _=[d||It,ek(o)];return h=h||("object"==typeof o?void 0:ve(o)),new zg(_,c||jm(),h||null,m)}let Ac=(()=>{class o{static#e=this.THROW_IF_NOT_FOUND=ws;static#t=this.NULL=new dx;static create(d,h){if(Array.isArray(d))return uk({name:""},h,d,"");{const m=d.name??"";return uk({name:m},d.parent,d.providers,m)}}static#n=this.\u0275prov=On({token:o,providedIn:"any",factory:()=>pn(lS)});static#i=this.__NG_ELEMENT_ID__=-1}return o})();function Ox(o){return o.ngOriginalError}class Ru{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c);this._console.error("ERROR",c),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(c){let d=c&&Ox(c);for(;d&&Ox(d);)d=Ox(d);return d||null}}function lf(o){return c=>{setTimeout(o,void 0,c)}}const Wo=class hk extends a.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,h){let m=c,_=d||(()=>null),x=h;if(c&&"object"==typeof c){const D=c;m=D.next?.bind(D),_=D.error?.bind(D),x=D.complete?.bind(D)}this.__isAsync&&(_=lf(_),m&&(m=lf(m)),x&&(x=lf(x)));const M=super.subscribe({next:m,error:_,complete:x});return c instanceof _e.w0&&c.add(M),M}};function kS(...o){}class Ds{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wo(!1),this.onMicrotaskEmpty=new Wo(!1),this.onStable=new Wo(!1),this.onError=new Wo(!1),typeof Zone>"u")throw new Me(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!h&&d,m.shouldCoalesceRunChangeDetection=h,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function fk(){const o="function"==typeof xi.requestAnimationFrame;let c=xi[o?"requestAnimationFrame":"setTimeout"],d=xi[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&c&&d){const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h);const m=d[Zone.__symbol__("OriginalDelegate")];m&&(d=m)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function pk(o){const c=()=>{!function CF(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(xi,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Gb(o),o.isCheckStableRunning=!0,Nx(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Gb(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,h,m,_,x,M)=>{if(function _k(o){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0].data?.__ignore_ng_zone__}(M))return d.invokeTask(m,_,x,M);try{return i_(o),d.invokeTask(m,_,x,M)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||o.shouldCoalesceRunChangeDetection)&&c(),df(o)}},onInvoke:(d,h,m,_,x,M,D)=>{try{return i_(o),d.invoke(m,_,x,M,D)}finally{o.shouldCoalesceRunChangeDetection&&c(),df(o)}},onHasTask:(d,h,m,_)=>{d.hasTask(m,_),h===m&&("microTask"==_.change?(o._hasPendingMicrotasks=_.microTask,Gb(o),Nx(o)):"macroTask"==_.change&&(o.hasPendingMacrotasks=_.macroTask))},onHandleError:(d,h,m,_)=>(d.handleError(m,_),o.runOutsideAngular(()=>o.onError.emit(_)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ds.isInAngularZone())throw new Me(909,!1)}static assertNotInAngularZone(){if(Ds.isInAngularZone())throw new Me(909,!1)}run(c,d,h){return this._inner.run(c,d,h)}runTask(c,d,h,m){const _=this._inner,x=_.scheduleEventTask("NgZoneEvent: "+m,c,mk,kS,kS);try{return _.runTask(x,d,h)}finally{_.cancelTask(x)}}runGuarded(c,d,h){return this._inner.runGuarded(c,d,h)}runOutsideAngular(c){return this._outer.run(c)}}const mk={};function Nx(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Gb(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function i_(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function df(o){o._nesting--,Nx(o)}class gk{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wo,this.onMicrotaskEmpty=new Wo,this.onStable=new Wo,this.onError=new Wo}run(c,d,h){return c.apply(d,h)}runGuarded(c,d,h){return c.apply(d,h)}runOutsideAngular(c){return c()}runTask(c,d,h,m){return c.apply(d,h)}}const RS=new Ti("",{providedIn:"root",factory:PS});function PS(){const o=Rn(Ds);let c=!0;const d=new $.y(m=>{c=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{m.next(c),m.complete()})}),h=new $.y(m=>{let _;o.runOutsideAngular(()=>{_=o.onStable.subscribe(()=>{Ds.assertNotInAngularZone(),queueMicrotask(()=>{!c&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(c=!0,m.next(!0))})})});const x=o.onUnstable.subscribe(()=>{Ds.assertInAngularZone(),c&&(c=!1,o.runOutsideAngular(()=>{m.next(!1)}))});return()=>{_.unsubscribe(),x.unsubscribe()}});return(0,we.T)(d,h.pipe((0,He.B)()))}function bd(o){return o instanceof Function?o():o}let jb=(()=>{class o{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=On({token:o,providedIn:"root",factory:()=>new o})}return o})();function r_(o){for(;o;){o[mn]|=64;const c=bt(o);if(Kc(o)&&!c)return o;o=c}return null}const Yb=new Ti("",{providedIn:"root",factory:()=>!1});let qb=null;function Bx(o,c){return o[c]??zS()}function Ck(o,c){const d=zS();d.producerNode?.length&&(o[c]=qb,d.lView=o,qb=Vx())}const VS={...oc,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{r_(o.lView)},lView:null};function Vx(){return Object.create(VS)}function zS(){return qb??=Vx(),qb}const Wn={};function HS(o){GS(Kn(),et(),Hn()+o,!1)}function GS(o,c,d,h){if(!h)if(3==(3&c[mn])){const _=o.preOrderCheckHooks;null!==_&&Kl(c,_,d)}else{const _=o.preOrderHooks;null!==_&&hu(c,_,0,d)}ro(d)}function Jm(o,c=cn.Default){const d=et();return null===d?pn(o,c):Co(Ir(),d,dt(o),c)}function WS(){throw new Error("invalid")}function ep(o,c,d,h,m,_,x,M,D,L,V){const X=c.blueprint.slice();return X[Vi]=m,X[mn]=140|h,(null!==L||o&&2048&o[mn])&&(X[mn]|=2048),rg(X),X[zi]=X[Aa]=o,X[ai]=d,X[Zc]=x||o&&o[Zc],X[vn]=M||o&&o[vn],X[ta]=D||o&&o[ta]||null,X[Fr]=_,X[na]=function _b(){return Z0++}(),X[Fs]=V,X[ia]=L,X[Hi]=2==c.type?o[Hi]:X,X}function Dc(o,c,d,h,m){let _=o.data[c];if(null===_)_=function s_(o,c,d,h,m){const _=cu(),x=hc(),D=o.data[c]=function YS(o,c,d,h,m,_){let x=c?c.injectorIndex:-1,M=0;return Fo()&&(M|=128),{type:d,index:h,insertBeforeIndex:null,injectorIndex:x,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:M,providerIndexes:0,value:m,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,x?_:_&&_.parent,d,c,h,m);return null===o.firstChild&&(o.firstChild=D),null!==_&&(x?null==_.child&&null!==D.parent&&(_.child=D):null===_.next&&(_.next=D,D.prev=_)),D}(o,c,d,h,m),function Oh(){return bn.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=d,_.value=h,_.attrs=m;const x=function rl(){const o=bn.lFrame,c=o.currentTNode;return o.isParent?c:c.parent}();_.injectorIndex=null===x?-1:x.injectorIndex}return Oa(_,!0),_}function o_(o,c,d,h){if(0===d)return-1;const m=c.length;for(let _=0;_<d;_++)c.push(h),o.blueprint.push(h),o.data.push(null);return m}function $S(o,c,d,h,m){const _=Bx(c,Ul),x=Hn(),M=2&h;try{ro(-1),M&&c.length>Un&&GS(o,c,Un,!1),wo(M?2:0,m);const L=M?_:null,V=Xf(L);try{null!==L&&(L.dirty=!1),d(h,m)}finally{Ar(L,V)}}finally{M&&null===c[Ul]&&Ck(c,Ul),ro(x),wo(M?3:1,m)}}function Zb(o,c,d){if(Xd(c)){const h=Ss(null);try{const _=c.directiveEnd;for(let x=c.directiveStart;x<_;x++){const M=o.data[x];M.contentQueries&&M.contentQueries(1,d[x],x)}}finally{Ss(h)}}}function tp(o,c,d){Hr()&&(function IF(o,c,d,h){const m=d.directiveStart,_=d.directiveEnd;ic(d)&&function RF(o,c,d){const h=Vr(c,o),m=zx(d);let x=16;d.signals?x=4096:d.onPush&&(x=64);const M=d_(o,ep(o,m,null,x,h,c,null,o[Zc].rendererFactory.createRenderer(h,d),null,null,null));o[c.index]=M}(c,d,o.data[m+d.componentOffset]),o.firstCreatePass||_c(d,c),es(h,c);const x=d.initialInputs;for(let M=m;M<_;M++){const D=o.data[M],L=aa(c,o,M,d);es(L,c),null!==x&&iM(0,M-m,L,D,0,x),Cs(D)&&(zr(d.index,c)[ai]=aa(c,o,M,d))}}(o,c,d,Vr(d,c)),64==(64&d.flags)&&JS(o,c,d))}function Xb(o,c,d=Vr){const h=c.localNames;if(null!==h){let m=c.index+1;for(let _=0;_<h.length;_+=2){const x=h[_+1],M=-1===x?d(c,o):o[x];o[m++]=M}}}function zx(o){const c=o.tView;return null===c||c.incompleteFirstPass?o.tView=Hx(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):c}function Hx(o,c,d,h,m,_,x,M,D,L,V){const X=Un+h,de=X+m,ge=function Sk(o,c){const d=[];for(let h=0;h<c;h++)d.push(h<o?null:Wn);return d}(X,de),We="function"==typeof L?L():L;return ge[Bt]={type:o,blueprint:ge,template:d,queries:null,viewQuery:M,declTNode:c,data:ge.slice().fill(null,X),bindingStartIndex:X,expandoStartIndex:de,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof x?x():x,firstChild:null,schemas:D,consts:We,incompleteFirstPass:!1,ssrId:V}}let a_=o=>null;function qS(o,c,d,h){for(let m in o)if(o.hasOwnProperty(m)){d=null===d?{}:d;const _=o[m];null===h?ZS(d,c,m,_):h.hasOwnProperty(m)&&ZS(d,c,h[m],_)}return d}function ZS(o,c,d,h){o.hasOwnProperty(d)?o[d].push(c,h):o[d]=[c,h]}function $i(o,c,d,h,m,_,x,M){const D=Vr(c,d);let V,L=c.inputs;!M&&null!=L&&(V=L[h])?(Jb(o,d,V,h,m),ic(c)&&function Rk(o,c){const d=zr(c,o);16&d[mn]||(d[mn]|=64)}(d,c.index)):3&c.type&&(h=function kk(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),m=null!=x?x(m,c.value||"",h):m,_.setProperty(D,h,m))}function Gx(o,c,d,h){if(Hr()){const m=null===h?null:{"":-1},_=function eM(o,c){const d=o.directiveRegistry;let h=null,m=null;if(d)for(let _=0;_<d.length;_++){const x=d[_];if(Pl(c,x.selectors,!1))if(h||(h=[]),Cs(x))if(null!==x.findHostDirectiveDefs){const M=[];m=m||new Map,x.findHostDirectiveDefs(x,M,m),h.unshift(...M,x),tM(o,c,M.length)}else h.unshift(x),tM(o,c,0);else m=m||new Map,x.findHostDirectiveDefs?.(x,h,m),h.push(x)}return null===h?null:[h,m]}(o,d);let x,M;null===_?x=M=null:[x,M]=_,null!==x&&KS(o,c,d,x,m,M),m&&function nM(o,c,d){if(c){const h=o.localNames=[];for(let m=0;m<c.length;m+=2){const _=d[c[m+1]];if(null==_)throw new Me(-301,!1);h.push(c[m],_)}}}(d,h,m)}d.mergedAttrs=Qa(d.mergedAttrs,d.attrs)}function KS(o,c,d,h,m,_){for(let L=0;L<h.length;L++)nd(_c(d,c),o,h[L].type);!function Pk(o,c,d){o.flags|=1,o.directiveStart=c,o.directiveEnd=c+d,o.providerIndexes=c}(d,o.data.length,h.length);for(let L=0;L<h.length;L++){const V=h[L];V.providersResolver&&V.providersResolver(V)}let x=!1,M=!1,D=o_(o,c,h.length,null);for(let L=0;L<h.length;L++){const V=h[L];d.mergedAttrs=Qa(d.mergedAttrs,V.hostAttrs),kF(o,d,c,D,V),yd(D,V,m),null!==V.contentQueries&&(d.flags|=4),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(d.flags|=64);const X=V.type.prototype;!x&&(X.ngOnChanges||X.ngOnInit||X.ngDoCheck)&&((o.preOrderHooks??=[]).push(d.index),x=!0),!M&&(X.ngOnChanges||X.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(d.index),M=!0),D++}!function Ik(o,c,d){const m=c.directiveEnd,_=o.data,x=c.attrs,M=[];let D=null,L=null;for(let V=c.directiveStart;V<m;V++){const X=_[V],de=d?d.get(X):null,We=de?de.outputs:null;D=qS(X.inputs,V,D,de?de.inputs:null),L=qS(X.outputs,V,L,We);const pt=null===D||null===x||qr(c)?null:Ok(D,V,x);M.push(pt)}null!==D&&(D.hasOwnProperty("class")&&(c.flags|=8),D.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=M,c.inputs=D,c.outputs=L}(o,d,_)}function JS(o,c,d){const h=d.directiveStart,m=d.directiveEnd,_=d.index,x=function Qv(){return bn.lFrame.currentDirectiveIndex}();try{ro(_);for(let M=h;M<m;M++){const D=o.data[M],L=c[M];du(M),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Wx(D,L)}}finally{ro(-1),du(x)}}function Wx(o,c){null!==o.hostBindings&&o.hostBindings(1,c)}function tM(o,c,d){c.componentOffset=d,(o.components??=[]).push(c.index)}function yd(o,c,d){if(d){if(c.exportAs)for(let h=0;h<c.exportAs.length;h++)d[c.exportAs[h]]=o;Cs(c)&&(d[""]=o)}}function kF(o,c,d,h,m){o.data[h]=m;const _=m.factory||(m.factory=rc(m.type)),x=new Ua(_,Cs(m),Jm);o.blueprint[h]=x,d[h]=x,function QS(o,c,d,h,m){const _=m.hostBindings;if(_){let x=o.hostBindingOpCodes;null===x&&(x=o.hostBindingOpCodes=[]);const M=~c.index;(function DF(o){let c=o.length;for(;c>0;){const d=o[--c];if("number"==typeof d&&d<0)return d}return 0})(x)!=M&&x.push(M),x.push(d,h,_)}}(o,c,h,o_(o,d,m.hostVars,Wn),m)}function xd(o,c,d,h,m,_){const x=Vr(o,c);!function Kb(o,c,d,h,m,_,x){if(null==_)o.removeAttribute(c,m,d);else{const M=null==x?Ee(_):x(_,h||"",m);o.setAttribute(c,m,M,d)}}(c[vn],x,_,o.value,d,h,m)}function iM(o,c,d,h,m,_){const x=_[c];if(null!==x)for(let M=0;M<x.length;)Qb(h,d,x[M++],x[M++],x[M++])}function Qb(o,c,d,h,m){const _=Ss(null);try{const x=o.inputTransforms;null!==x&&x.hasOwnProperty(h)&&(m=x[h].call(c,m)),null!==o.setInput?o.setInput(c,m,d,h):c[h]=m}finally{Ss(_)}}function Ok(o,c,d){let h=null,m=0;for(;m<d.length;){const _=d[m];if(0!==_)if(5!==_){if("number"==typeof _)break;if(o.hasOwnProperty(_)){null===h&&(h=[]);const x=o[_];for(let M=0;M<x.length;M+=2)if(x[M]===c){h.push(_,x[M+1],d[m+1]);break}}m+=2}else m+=2;else m+=4}return h}function rM(o,c,d,h){return[o,!0,!1,c,null,0,h,d,null,null,null]}function Nk(o,c){const d=o.contentQueries;if(null!==d)for(let h=0;h<d.length;h+=2){const _=d[h+1];if(-1!==_){const x=o.data[_];lm(d[h]),x.contentQueries(2,c[_],_)}}}function d_(o,c){return o[Ur]?o[Wf][ms]=c:o[Ur]=c,o[Wf]=c,c}function jx(o,c,d){lm(0);const h=Ss(null);try{c(o,d)}finally{Ss(h)}}function Lk(o){return o[Fl]||(o[Fl]=[])}function Fk(o){return o.cleanup||(o.cleanup=[])}function sM(o,c,d){return(null===o||Cs(o))&&(d=function Pa(o){for(;Array.isArray(o);){if("object"==typeof o[Xc])return o;o=o[Vi]}return null}(d[c.index])),d[vn]}function Uk(o,c){const d=o[ta],h=d?d.get(Ru,null):null;h&&h.handleError(c)}function Jb(o,c,d,h,m){for(let _=0;_<d.length;){const x=d[_++],M=d[_++];Qb(o.data[x],c[x],h,M,m)}}function Bk(o,c){const d=zr(c,o),h=d[Bt];!function $x(o,c){for(let d=c.length;d<o.blueprint.length;d++)c.push(o.blueprint[d])}(h,d);const m=d[Vi];null!==m&&null===d[Fs]&&(d[Fs]=Mc(m,d[ta])),Yx(h,d,d[ai])}function Yx(o,c,d){Na(c);try{const h=o.viewQuery;null!==h&&jx(1,h,d);const m=o.template;null!==m&&$S(o,c,m,1,d),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Nk(o,c),o.staticViewQueries&&jx(2,o.viewQuery,d);const _=o.components;null!==_&&function Vk(o,c){for(let d=0;d<c.length;d++)Bk(o,c[d])}(c,_)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{c[mn]&=-5,sl()}}let oM=(()=>{class o{constructor(){this.all=new Set,this.queue=new Map}create(d,h,m){const _=typeof Zone>"u"?null:Zone.current,x=function qv(o,c,d){const h=Object.create(Kp);d&&(h.consumerAllowSignalWrites=!0),h.fn=o,h.schedule=c;const m=x=>{h.cleanupFn=x};return h.ref={notify:()=>Hl(h),run:()=>{if(h.dirty=!1,h.hasRun&&!xh(h))return;h.hasRun=!0;const x=Xf(h);try{h.cleanupFn(),h.cleanupFn=Th,h.fn(m)}finally{Ar(h,x)}},cleanup:()=>h.cleanupFn()},h.ref}(d,L=>{this.all.has(L)&&this.queue.set(L,_)},m);let M;this.all.add(x),x.notify();const D=()=>{x.cleanup(),M?.(),this.all.delete(x),this.queue.delete(x)};return M=h?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[d,h]of this.queue)this.queue.delete(d),h?h.run(()=>d.run()):d.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=On({token:o,providedIn:"root",factory:()=>new o})}return o})();function ey(o,c,d){let h=d?o.styles:null,m=d?o.classes:null,_=0;if(null!==c)for(let x=0;x<c.length;x++){const M=c[x];"number"==typeof M?_=M:1==_?m=vt(m,M):2==_&&(h=vt(h,M+": "+c[++x]+";"))}d?o.styles=h:o.stylesWithoutHost=h,d?o.classes=m:o.classesWithoutHost=m}function np(o,c,d,h,m=!1){for(;null!==d;){const _=c[d.index];null!==_&&h.push(vi(_)),Xr(_)&&aM(_,h);const x=d.type;if(8&x)np(o,c,d.child,h);else if(32&x){const M=be(d,c);let D;for(;D=M();)h.push(D)}else if(16&x){const M=JC(c,d);if(Array.isArray(M))h.push(...M);else{const D=bt(c[Hi]);np(D[Bt],D,M,h,!0)}}d=m?d.projectionNext:d.next}return h}function aM(o,c){for(let d=Br;d<o.length;d++){const h=o[d],m=h[Bt].firstChild;null!==m&&np(h[Bt],h,m,c)}o[Sr]!==o[Vi]&&c.push(o[Sr])}function qx(o,c,d,h=!0){const m=c[Zc],_=m.rendererFactory,x=m.afterRenderEventManager;_.begin?.(),x?.begin();try{Hk(o,c,o.template,d)}catch(D){throw h&&Uk(c,D),D}finally{_.end?.(),m.effectManager?.flush(),x?.end()}}function Hk(o,c,d,h){const m=c[mn];if(256!=(256&m)){c[Zc].effectManager?.flush(),Na(c);try{rg(c),function am(o){return bn.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==d&&$S(o,c,d,2,h);const x=3==(3&m);if(x){const L=o.preOrderCheckHooks;null!==L&&Kl(c,L,null)}else{const L=o.preOrderHooks;null!==L&&hu(c,L,0,null),Ql(c,0)}if(function OF(o){for(let c=ji(o);null!==c;c=Ho(c)){if(!c[Zd])continue;const d=c[Mr];for(let h=0;h<d.length;h++){Ih(d[h])}}}(c),Gk(c,2),null!==o.contentQueries&&Nk(o,c),x){const L=o.contentCheckHooks;null!==L&&Kl(c,L)}else{const L=o.contentHooks;null!==L&&hu(c,L,1),Ql(c,1)}!function jS(o,c){const d=o.hostBindingOpCodes;if(null===d)return;const h=Bx(c,Ia);try{for(let m=0;m<d.length;m++){const _=d[m];if(_<0)ro(~_);else{const x=_,M=d[++m],D=d[++m];lu(M,x),h.dirty=!1;const L=Xf(h);try{D(2,c[x])}finally{Ar(h,L)}}}}finally{null===c[Ia]&&Ck(c,Ia),ro(-1)}}(o,c);const M=o.components;null!==M&&Wk(c,M,0);const D=o.viewQuery;if(null!==D&&jx(2,D,h),x){const L=o.viewCheckHooks;null!==L&&Kl(c,L)}else{const L=o.viewHooks;null!==L&&hu(c,L,2),Ql(c,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),c[mn]&=-73,nu(c)}finally{sl()}}}function Gk(o,c){for(let d=ji(o);null!==d;d=Ho(d))for(let h=Br;h<d.length;h++)sr(d[h],c)}function Zx(o,c,d){sr(zr(c,o),d)}function sr(o,c){if(!function il(o){return 128==(128&o[mn])}(o))return;const d=o[Bt],h=o[mn];if(80&h&&0===c||1024&h||2===c)Hk(d,o,d.template,o[ai]);else if(o[ec]>0){Gk(o,1);const m=d.components;null!==m&&Wk(o,m,1)}}function Wk(o,c,d){for(let h=0;h<c.length;h++)Zx(o,c[h],d)}class fl{get rootNodes(){const c=this._lView,d=c[Bt];return np(d,c,d.firstChild,[])}constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ai]}set context(c){this._lView[ai]=c}get destroyed(){return 256==(256&this._lView[mn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[zi];if(Xr(c)){const d=c[8],h=d?d.indexOf(this):-1;h>-1&&(yb(c,h),hg(d,h))}this._attachedToViewContainer=!1}Q0(this._lView[Bt],this._lView)}onDestroy(c){!function Oi(o,c){if(256==(256&o[mn]))throw new Me(911,!1);null===o[Da]&&(o[Da]=[]),o[Da].push(c)}(this._lView,c)}markForCheck(){r_(this._cdRefInjectingView||this._lView)}detach(){this._lView[mn]&=-129}reattach(){this._lView[mn]|=128}detectChanges(){qx(this._lView[Bt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ig(o,c){Kh(o,c,c[vn],2,null,null)}(this._lView[Bt],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new Me(902,!1);this._appRef=c}}class cM extends fl{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;qx(c[Bt],c,c[ai],!1)}checkNoChanges(){}get context(){return null}}class Xx extends Jg{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=ni(c);return new Ou(d,this.ngModule)}}function ip(o){const c=[];for(let d in o)o.hasOwnProperty(d)&&c.push({propName:o[d],templateName:d});return c}class ff{constructor(c,d){this.injector=c,this.parentInjector=d}get(c,d,h){h=Qi(h);const m=this.injector.get(c,TS,h);return m!==TS||d===TS?m:this.parentInjector.get(c,d,h)}}class Ou extends Vb{get inputs(){const c=this.componentDef,d=c.inputTransforms,h=ip(c.inputs);if(null!==d)for(const m of h)d.hasOwnProperty(m.propName)&&(m.transform=d[m.propName]);return h}get outputs(){return ip(this.componentDef.outputs)}constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=function Hf(o){return o.map(Ol).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}create(c,d,h,m){let _=(m=m||this.ngModule)instanceof Sc?m:m?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const x=_?new ff(c,_):c,M=x.get(Ix,null);if(null===M)throw new Me(407,!1);const X={rendererFactory:M,sanitizer:x.get(SS,null),effectManager:x.get(oM,null),afterRenderEventManager:x.get(jb,null)},de=M.createRenderer(null,this.componentDef),ge=this.componentDef.selectors[0][0]||"div",We=h?function Mk(o,c,d,h){const _=h.get(Yb,!1)||d===ct.ShadowDom,x=o.selectRootElement(c,_);return function Tk(o){a_(o)}(x),x}(de,h,this.componentDef.encapsulation,x):md(de,ge,function jk(o){const c=o.toLowerCase();return"svg"===c?nm:"math"===c?"math":null}(ge)),Wt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let at=null;null!==We&&(at=Mc(We,x,!0));const In=Hx(0,null,null,1,0,null,null,null,null,null,null),Bn=ep(null,In,null,Wt,null,null,X,de,x,null,at);let wi,qi;Na(Bn);try{const Bd=this.componentDef;let Pf,SE=null;Bd.findHostDirectiveDefs?(Pf=[],SE=new Map,Bd.findHostDirectiveDefs(Bd,Pf,SE),Pf.push(Bd)):Pf=[Bd];const SP=function $k(o,c){const d=o[Bt],h=Un;return o[h]=c,Dc(d,h,2,"#host",null)}(Bn,We),MP=function NF(o,c,d,h,m,_,x){const M=m[Bt];!function Kx(o,c,d,h){for(const m of o)c.mergedAttrs=Qa(c.mergedAttrs,m.hostAttrs);null!==c.mergedAttrs&&(ey(c,c.mergedAttrs,!0),null!==d&&rx(h,d,c))}(h,o,c,x);let D=null;null!==c&&(D=Mc(c,m[ta]));const L=_.rendererFactory.createRenderer(c,d);let V=16;d.signals?V=4096:d.onPush&&(V=64);const X=ep(m,zx(d),null,V,m[o.index],o,_,L,null,null,D);return M.firstCreatePass&&tM(M,o,h.length-1),d_(m,X),m[o.index]=X}(SP,We,Bd,Pf,Bn,X,de);qi=Dh(In,Un),We&&function qk(o,c,d,h){if(h)Sa(o,d,["ng-version",MS.full]);else{const{attrs:m,classes:_}=function eo(o){const c=[],d=[];let h=1,m=2;for(;h<o.length;){let _=o[h];if("string"==typeof _)2===m?""!==_&&c.push(_,o[++h]):8===m&&d.push(_);else{if(!Es(m))break;m=_}h++}return{attrs:c,classes:d}}(c.selectors[0]);m&&Sa(o,d,m),_&&_.length>0&&tS(o,d,_.join(" "))}}(de,Bd,We,h),void 0!==d&&function ty(o,c,d){const h=o.projection=[];for(let m=0;m<c.length;m++){const _=d[m];h.push(null!=_?Array.from(_):null)}}(qi,this.ngContentSelectors,d),wi=function Yk(o,c,d,h,m,_){const x=Ir(),M=m[Bt],D=Vr(x,m);KS(M,m,x,d,null,h);for(let V=0;V<d.length;V++)es(aa(m,M,x.directiveStart+V,x),m);JS(M,m,x),D&&es(D,m);const L=aa(m,M,x.directiveStart+x.componentOffset,x);if(o[ai]=m[ai]=L,null!==_)for(const V of _)V(L,c);return Zb(M,x,o),L}(MP,Bd,Pf,SE,Bn,[Nu]),Yx(In,Bn,null)}finally{sl()}return new mf(this.componentType,wi,Km(qi,Bn),Bn,qi)}}class mf extends Mx{constructor(c,d,h,m,_){super(),this.location=h,this._rootLView=m,this._tNode=_,this.previousInputValues=null,this.instance=d,this.hostView=this.changeDetectorRef=new cM(m),this.componentType=c}setInput(c,d){const h=this._tNode.inputs;let m;if(null!==h&&(m=h[c])){if(this.previousInputValues??=new Map,this.previousInputValues.has(c)&&Object.is(this.previousInputValues.get(c),d))return;const _=this._rootLView;Jb(_[Bt],_,m,c,d),this.previousInputValues.set(c,d),r_(zr(this._tNode.index,_))}}get injector(){return new Ii(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function Nu(){const o=Ir();pc(et()[Bt],o)}function lM(o){let c=function ny(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),d=!0;const h=[o];for(;c;){let m;if(Cs(o))m=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new Me(903,!1);m=c.\u0275dir}if(m){if(d){h.push(m);const x=o;x.inputs=iy(o.inputs),x.inputTransforms=iy(o.inputTransforms),x.declaredInputs=iy(o.declaredInputs),x.outputs=iy(o.outputs);const M=m.hostBindings;M&&Zk(o,M);const D=m.viewQuery,L=m.contentQueries;if(D&&FF(o,D),L&&rp(o,L),oe(o.inputs,m.inputs),oe(o.declaredInputs,m.declaredInputs),oe(o.outputs,m.outputs),null!==m.inputTransforms&&(null===x.inputTransforms&&(x.inputTransforms={}),oe(x.inputTransforms,m.inputTransforms)),Cs(m)&&m.data.animation){const V=o.data;V.animation=(V.animation||[]).concat(m.data.animation)}}const _=m.features;if(_)for(let x=0;x<_.length;x++){const M=_[x];M&&M.ngInherit&&M(o),M===lM&&(d=!1)}}c=Object.getPrototypeOf(c)}!function LF(o){let c=0,d=null;for(let h=o.length-1;h>=0;h--){const m=o[h];m.hostVars=c+=m.hostVars,m.hostAttrs=Qa(m.hostAttrs,d=Qa(d,m.hostAttrs))}}(h)}function iy(o){return o===jt?{}:o===It?[]:o}function FF(o,c){const d=o.viewQuery;o.viewQuery=d?(h,m)=>{c(h,m),d(h,m)}:c}function rp(o,c){const d=o.contentQueries;o.contentQueries=d?(h,m,_)=>{c(h,m,_),d(h,m,_)}:c}function Zk(o,c){const d=o.hostBindings;o.hostBindings=d?(h,m)=>{c(h,m),d(h,m)}:c}function uM(o){const c=o.inputConfig,d={};for(const h in c)if(c.hasOwnProperty(h)){const m=c[h];Array.isArray(m)&&m[2]&&(d[h]=m[2])}o.inputTransforms=d}function gf(o){return!!hM(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function hM(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function uo(o,c,d){return!Object.is(o[c],d)&&(o[c]=d,!0)}function fM(o,c,d,h){const m=et();return uo(m,fc(),c)&&(Kn(),xd(xn(),m,o,c,d,h)),fM}function h_(o,c,d,h){return uo(o,fc(),d)?c+Ee(d)+h:Wn}function lR(o,c,d,h,m,_,x,M){const D=et(),L=Kn(),V=o+Un,X=L.firstCreatePass?function s2(o,c,d,h,m,_,x,M,D){const L=c.consts,V=Dc(c,o,4,x||null,Ms(L,M));Gx(c,d,V,Ms(L,D)),pc(c,V);const X=V.tView=Hx(2,V,h,m,_,c.directiveRegistry,c.pipeRegistry,null,c.schemas,L,null);return null!==c.queries&&(c.queries.template(c,V),X.queries=c.queries.embeddedTView(V)),V}(V,L,D,c,d,h,m,_,x):L.data[V];Oa(X,!1);const de=dR(L,D,X,o);La()&&wb(L,D,de,X),es(de,D),d_(D,D[V]=rM(de,D,de,X)),Us(X)&&tp(L,D,X),null!=x&&Xb(D,X,M)}let dR=function uR(o,c,d,h){return oo(!0),c[vn].createComment("")};function hR(o){return function uc(o,c){return o[c]}(function sg(){return bn.lFrame.contextLView}(),Un+o)}function yM(o,c,d){const h=et();return uo(h,fc(),c)&&$i(Kn(),xn(),h,o,c,h[vn],d,!1),yM}function xM(o,c,d,h,m){const x=m?"class":"style";Jb(o,d,c.inputs[x],x,h)}function iw(o,c,d,h){const m=et(),_=Kn(),x=Un+o,M=m[vn],D=_.firstCreatePass?function l2(o,c,d,h,m,_){const x=c.consts,D=Dc(c,o,2,h,Ms(x,m));return Gx(c,d,D,Ms(x,_)),null!==D.attrs&&ey(D,D.attrs,!1),null!==D.mergedAttrs&&ey(D,D.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,D),D}(x,_,m,c,d,h):_.data[x],L=fR(_,m,D,M,c,o);m[x]=L;const V=Us(D);return Oa(D,!0),rx(M,L,D),32!=(32&D.flags)&&La()&&wb(_,m,L,D),0===function iu(){return bn.lFrame.elementDepthCount}()&&es(L,m),function Dr(){bn.lFrame.elementDepthCount++}(),V&&(tp(_,m,D),Zb(_,D,m)),null!==h&&Xb(m,D),iw}function rw(){let o=Ir();hc()?Rh():(o=o.parent,Oa(o,!1));const c=o;(function ru(o){return bn.skipHydrationRootTNode===o})(c)&&function kh(){bn.skipHydrationRootTNode=null}(),function om(){bn.lFrame.elementDepthCount--}();const d=Kn();return d.firstCreatePass&&(pc(d,o),Xd(o)&&d.queries.elementEnd(o)),null!=c.classesWithoutHost&&function mm(o){return 0!=(8&o.flags)}(c)&&xM(d,c,et(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function eb(o){return 0!=(16&o.flags)}(c)&&xM(d,c,et(),c.stylesWithoutHost,!1),rw}function wM(o,c,d,h){return iw(o,c,d,h),rw(),wM}let fR=(o,c,d,h,m,_)=>(oo(!0),md(h,m,function hm(){return bn.lFrame.currentNamespace}()));function sw(o,c,d){const h=et(),m=Kn(),_=o+Un,x=m.firstCreatePass?function h2(o,c,d,h,m){const _=c.consts,x=Ms(_,h),M=Dc(c,o,8,"ng-container",x);return null!==x&&ey(M,x,!0),Gx(c,d,M,Ms(_,m)),null!==c.queries&&c.queries.elementStart(c,M),M}(_,m,h,c,d):m.data[_];Oa(x,!0);const M=mR(m,h,x,o);return h[_]=M,La()&&wb(m,h,M,x),es(M,h),Us(x)&&(tp(m,h,x),Zb(m,x,h)),null!=d&&Xb(h,x),sw}function ow(){let o=Ir();const c=Kn();return hc()?Rh():(o=o.parent,Oa(o,!1)),c.firstCreatePass&&(pc(c,o),Xd(o)&&c.queries.elementEnd(o)),ow}function EM(o,c,d){return sw(o,c,d),ow(),EM}let mR=(o,c,d,h)=>(oo(!0),Om(c[vn],""));function pR(){return et()}function CM(o){return!!o&&"function"==typeof o.then}function gR(o){return!!o&&"function"==typeof o.subscribe}function SM(o,c,d,h){const m=et(),_=Kn(),x=Ir();return function vR(o,c,d,h,m,_,x){const M=Us(h),L=o.firstCreatePass&&Fk(o),V=c[ai],X=Lk(c);let de=!0;if(3&h.type||x){const pt=Vr(h,c),Ot=x?x(pt):pt,Wt=X.length,at=x?Bn=>x(vi(Bn[h.index])):h.index;let In=null;if(!x&&M&&(In=function p2(o,c,d,h){const m=o.cleanup;if(null!=m)for(let _=0;_<m.length-1;_+=2){const x=m[_];if(x===d&&m[_+1]===h){const M=c[Fl],D=m[_+2];return M.length>D?M[D]:null}"string"==typeof x&&(_+=2)}return null}(o,c,m,h.index)),null!==In)(In.__ngLastListenerFn__||In).__ngNextListenerFn__=_,In.__ngLastListenerFn__=_,de=!1;else{_=yR(h,c,V,_,!1);const Bn=d.listen(Ot,m,_);X.push(_,Bn),L&&L.push(m,at,Wt,Wt+1)}}else _=yR(h,c,V,_,!1);const ge=h.outputs;let We;if(de&&null!==ge&&(We=ge[m])){const pt=We.length;if(pt)for(let Ot=0;Ot<pt;Ot+=2){const wi=c[We[Ot]][We[Ot+1]].subscribe(_),qi=X.length;X.push(_,wi),L&&L.push(m,h.index,qi,-(qi+1))}}}(_,m,m[vn],x,o,c,h),SM}function bR(o,c,d,h){try{return wo(6,c,d),!1!==d(h)}catch(m){return Uk(o,m),!1}finally{wo(7,c,d)}}function yR(o,c,d,h,m){return function _(x){if(x===Function)return h;r_(o.componentOffset>-1?zr(o.index,c):c);let D=bR(c,d,h,x),L=_.__ngNextListenerFn__;for(;L;)D=bR(c,d,L,x)&&D,L=L.__ngNextListenerFn__;return m&&!1===D&&x.preventDefault(),D}}function xR(o=1){return function Zl(o){return(bn.lFrame.contextLView=function Sn(o,c){for(;o>0;)c=c[Aa],o--;return c}(o,bn.lFrame.contextLView))[ai]}(o)}function g2(o,c){let d=null;const h=function dh(o){const c=o.attrs;if(null!=c){const d=c.indexOf(5);if(!(1&d))return c[d+1]}return null}(o);for(let m=0;m<c.length;m++){const _=c[m];if("*"!==_){if(null===h?Pl(o,_,!0):zf(h,_))return m}else d=m}return d}function wR(o){const c=et()[Hi][Fr];if(!c.projection){const h=c.projection=yc(o?o.length:1,null),m=h.slice();let _=c.child;for(;null!==_;){const x=o?g2(_,o):0;null!==x&&(m[x]?m[x].projectionNext=_:h[x]=_,m[x]=_),_=_.next}}}function MM(o,c=0,d){const h=et(),m=Kn(),_=Dc(m,Un+o,16,null,d||null);null===_.projection&&(_.projection=c),Rh(),(!h[Fs]||Fo())&&32!=(32&_.flags)&&function Fm(o,c,d){ix(c[vn],0,c,d,xb(o,d,c),Xt(d.parent||c[Fr],d,c))}(m,h,_)}function za(o,c,d){return _f(o,"",c,"",d),za}function _f(o,c,d,h,m){const _=et(),x=h_(_,c,d,h);return x!==Wn&&$i(Kn(),xn(),_,o,x,_[vn],m,!1),_f}function Ha(o,c){return o<<17|c<<2}function vf(o){return o>>17&32767}function lw(o){return 2|o}function Cd(o){return(131068&o)>>2}function AM(o,c){return-131069&o|c<<2}function Sd(o){return 1|o}function dw(o,c,d,h,m){const _=o[d+1],x=null===c;let M=h?vf(_):Cd(_),D=!1;for(;0!==M&&(!1===D||x);){const V=o[M+1];b2(o[M],c)&&(D=!0,o[M+1]=h?Sd(V):lw(V)),M=h?vf(V):Cd(V)}D&&(o[d+1]=h?lw(_):Sd(_))}function b2(o,c){return null===o||null==c||(Array.isArray(o)?o[1]:o)===c||!(!Array.isArray(o)||"string"!=typeof c)&&bu(o,c)>=0}const ss={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function uw(o){return o.substring(ss.key,ss.keyEnd)}function MR(o,c){const d=ss.textEnd;return d===c?-1:(c=ss.keyEnd=function fw(o,c,d){for(;c<d&&o.charCodeAt(c)>32;)c++;return c}(o,ss.key=c,d),bf(o,c,d))}function bf(o,c,d){for(;c<d&&o.charCodeAt(c)<=32;)c++;return c}function cp(o,c,d){return kc(o,c,d,!1),cp}function gw(o,c){return kc(o,c,null,!0),gw}function RM(o){Rc(x2,pl,o,!0)}function pl(o,c){for(let d=function hy(o){return function fy(o){ss.key=0,ss.keyEnd=0,ss.value=0,ss.valueEnd=0,ss.textEnd=o.length}(o),MR(o,bf(o,0,ss.textEnd))}(c);d>=0;d=MR(c,d))zs(o,uw(c),!0)}function kc(o,c,d,h){const m=et(),_=Kn(),x=io(2);_.firstUpdatePass&&vw(_,o,x,h),c!==Wn&&uo(m,x,c)&&OR(_,_.data[Hn()],m,m[vn],o,m[x+1]=function NR(o,c){return null==o||""===o||("string"==typeof c?o+=c:"object"==typeof o&&(o=ve(ul(o)))),o}(c,d),h,x)}function Rc(o,c,d,h){const m=Kn(),_=io(2);m.firstUpdatePass&&vw(m,null,_,h);const x=et();if(d!==Wn&&uo(x,_,d)){const M=m.data[Hn()];if(PM(M,h)&&!_w(m,_)){let D=h?M.classesWithoutHost:M.stylesWithoutHost;null!==D&&(d=vt(D,d||"")),xM(m,M,x,d,h)}else!function w2(o,c,d,h,m,_,x,M){m===Wn&&(m=It);let D=0,L=0,V=0<m.length?m[0]:null,X=0<_.length?_[0]:null;for(;null!==V||null!==X;){const de=D<m.length?m[D+1]:void 0,ge=L<_.length?_[L+1]:void 0;let pt,We=null;V===X?(D+=2,L+=2,de!==ge&&(We=X,pt=ge)):null===X||null!==V&&V<X?(D+=2,We=V):(L+=2,We=X,pt=ge),null!==We&&OR(o,c,d,h,We,pt,x,M),V=D<m.length?m[D]:null,X=L<_.length?_[L]:null}}(m,M,x,x[vn],x[_+1],x[_+1]=function y2(o,c,d){if(null==d||""===d)return It;const h=[],m=ul(d);if(Array.isArray(m))for(let _=0;_<m.length;_++)o(h,m[_],!0);else if("object"==typeof m)for(const _ in m)m.hasOwnProperty(_)&&o(h,_,m[_]);else"string"==typeof m&&c(h,m);return h}(o,c,d),h,_)}}function _w(o,c){return c>=o.expandoStartIndex}function vw(o,c,d,h){const m=o.data;if(null===m[d+1]){const _=m[Hn()],x=_w(o,d);PM(_,h)&&null===c&&!x&&(c=!1),c=function DR(o,c,d,h){const m=cm(o);let _=h?c.residualClasses:c.residualStyles;if(null===m)0===(h?c.classBindings:c.styleBindings)&&(d=my(d=w_(null,o,c,d,h),c.attrs,h),_=null);else{const x=c.directiveStylingLast;if(-1===x||o[x]!==m)if(d=w_(m,o,c,d,h),null===_){let D=function IR(o,c,d){const h=d?c.classBindings:c.styleBindings;if(0!==Cd(h))return o[vf(h)]}(o,c,h);void 0!==D&&Array.isArray(D)&&(D=w_(null,o,c,D[1],h),D=my(D,c.attrs,h),function kR(o,c,d,h){o[vf(d?c.classBindings:c.styleBindings)]=h}(o,c,h,D))}else _=function RR(o,c,d){let h;const m=c.directiveEnd;for(let _=1+c.directiveStylingLast;_<m;_++)h=my(h,o[_].hostAttrs,d);return my(h,c.attrs,d)}(o,c,h)}return void 0!==_&&(h?c.residualClasses=_:c.residualStyles=_),d}(m,_,c,h),function CR(o,c,d,h,m,_){let x=_?c.classBindings:c.styleBindings,M=vf(x),D=Cd(x);o[h]=d;let V,L=!1;if(Array.isArray(d)?(V=d[1],(null===V||bu(d,V)>0)&&(L=!0)):V=d,m)if(0!==D){const de=vf(o[M+1]);o[h+1]=Ha(de,M),0!==de&&(o[de+1]=AM(o[de+1],h)),o[M+1]=function ER(o,c){return 131071&o|c<<17}(o[M+1],h)}else o[h+1]=Ha(M,0),0!==M&&(o[M+1]=AM(o[M+1],h)),M=h;else o[h+1]=Ha(D,0),0===M?M=h:o[D+1]=AM(o[D+1],h),D=h;L&&(o[h+1]=lw(o[h+1])),dw(o,V,h,!0),dw(o,V,h,!1),function SR(o,c,d,h,m){const _=m?o.residualClasses:o.residualStyles;null!=_&&"string"==typeof c&&bu(_,c)>=0&&(d[h+1]=Sd(d[h+1]))}(c,V,o,h,_),x=Ha(M,D),_?c.classBindings=x:c.styleBindings=x}(m,_,c,d,x,h)}}function w_(o,c,d,h,m){let _=null;const x=d.directiveEnd;let M=d.directiveStylingLast;for(-1===M?M=d.directiveStart:M++;M<x&&(_=c[M],h=my(h,_.hostAttrs,m),_!==o);)M++;return null!==o&&(d.directiveStylingLast=M),h}function my(o,c,d){const h=d?1:2;let m=-1;if(null!==c)for(let _=0;_<c.length;_++){const x=c[_];"number"==typeof x?m=x:m===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),zs(o,x,!!d||c[++_]))}return void 0===o?null:o}function x2(o,c,d){const h=String(c);""!==h&&!h.includes(" ")&&zs(o,h,d)}function OR(o,c,d,h,m,_,x,M){if(!(3&c.type))return;const D=o.data,L=D[M+1],V=function DM(o){return 1==(1&o)}(L)?py(D,c,d,m,Cd(L),x):void 0;lp(V)||(lp(_)||function TM(o){return 2==(2&o)}(L)&&(_=py(D,null,d,m,M,x)),function WI(o,c,d,h,m){if(c)m?o.addClass(d,h):o.removeClass(d,h);else{let _=-1===h.indexOf("-")?void 0:Yh.DashCase;null==m?o.removeStyle(d,h,_):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),_|=Yh.Important),o.setStyle(d,h,m,_))}}(h,x,dc(Hn(),d),m,_))}function py(o,c,d,h,m,_){const x=null===c;let M;for(;m>0;){const D=o[m],L=Array.isArray(D),V=L?D[1]:D,X=null===V;let de=d[m+1];de===Wn&&(de=X?It:void 0);let ge=X?ib(de,h):V===h?de:void 0;if(L&&!lp(ge)&&(ge=ib(D,h)),lp(ge)&&(M=ge,x))return M;const We=o[m+1];m=x?vf(We):Cd(We)}if(null!==c){let D=_?c.residualClasses:c.residualStyles;null!=D&&(M=ib(D,h))}return M}function lp(o){return void 0!==o}function PM(o,c){return 0!=(o.flags&(c?8:16))}function bw(o,c=""){const d=et(),h=Kn(),m=o+Un,_=h.firstCreatePass?Dc(h,m,1,c,null):h.data[m],x=yf(h,d,_,c,o);d[m]=x,La()&&wb(h,d,x,_),Oa(_,!1)}let yf=(o,c,d,h,m)=>(oo(!0),function Mu(o,c){return o.createText(c)}(c[vn],h));function yw(o){return gy("",o,""),yw}function gy(o,c,d){const h=et(),m=h_(h,o,c,d);return m!==Wn&&function wd(o,c,d){const h=dc(c,o);!function Ag(o,c,d){o.setValue(c,d)}(o[vn],h,d)}(h,Hn(),m),gy}function ww(o,c,d){Rc(zs,pl,h_(et(),o,c,d),!0)}function $M(o,c,d){const h=et();return uo(h,fc(),c)&&$i(Kn(),xn(),h,o,c,h[vn],d,!0),$M}function YM(o,c,d){const h=et();if(uo(h,fc(),c)){const _=Kn(),x=xn();$i(_,x,h,o,c,sM(cm(_.data),x,h),d,!0)}return YM}const la=void 0;var S_=["en",[["a","p"],["AM","PM"],la],[["AM","PM"],la,la],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],la,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],la,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",la,"{1} 'at' {0}",la],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Sw(o){const d=Math.floor(Math.abs(o)),h=o.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===h?1:5}];let Lu={};function _y(o){const c=function M2(o){return o.toLowerCase().replace(/_/g,"-")}(o);let d=XR(c);if(d)return d;const h=c.split("-")[0];if(d=XR(h),d)return d;if("en"===h)return S_;throw new Me(701,!1)}function qM(o){return _y(o)[M_.PluralCase]}function XR(o){return o in Lu||(Lu[o]=xi.ng&&xi.ng.common&&xi.ng.common.locales&&xi.ng.common.locales[o]),Lu[o]}var M_=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(M_||{});const T_="en-US";let dp=T_;function bl(o,c,d,h,m){if(o=dt(o),Array.isArray(o))for(let _=0;_<o.length;_++)bl(o[_],c,d,h,m);else{const _=Kn(),x=et(),M=Ir();let D=ca(o)?o:dt(o.provide);const L=mS(o),V=1048575&M.providerIndexes,X=M.directiveStart,de=M.providerIndexes>>20;if(ca(o)||!o.multi){const ge=new Ua(L,m,Jm),We=Sy(D,c,m?V:V+de,X);-1===We?(nd(_c(M,x),_,D),Uu(_,o,c.length),c.push(D),M.directiveStart++,M.directiveEnd++,m&&(M.providerIndexes+=1048576),d.push(ge),x.push(ge)):(d[We]=ge,x[We]=ge)}else{const ge=Sy(D,c,V+de,X),We=Sy(D,c,V,V+de),Ot=We>=0&&d[We];if(m&&!Ot||!m&&!(ge>=0&&d[ge])){nd(_c(M,x),_,D);const Wt=function w1(o,c,d,h,m){const _=new Ua(o,d,Jm);return _.multi=[],_.index=c,_.componentProviders=0,Ow(_,m,h&&!d),_}(m?x1:gT,d.length,m,h,L);!m&&Ot&&(d[We].providerFactory=Wt),Uu(_,o,c.length,0),c.push(D),M.directiveStart++,M.directiveEnd++,m&&(M.providerIndexes+=1048576),d.push(Wt),x.push(Wt)}else Uu(_,o,ge>-1?ge:We,Ow(d[m?We:ge],L,!m&&h));!m&&h&&Ot&&d[We].componentProviders++}}}function Uu(o,c,d,h){const m=ca(c),_=function nk(o){return!!o.useClass}(c);if(m||_){const D=(_?dt(c.useClass):c).prototype.ngOnDestroy;if(D){const L=o.destroyHooks||(o.destroyHooks=[]);if(!m&&c.multi){const V=L.indexOf(d);-1===V?L.push(d,[h,D]):L[V+1].push(h,D)}else L.push(d,D)}}}function Ow(o,c,d){return d&&o.componentProviders++,o.multi.push(c)-1}function Sy(o,c,d,h){for(let m=d;m<h;m++)if(c[m]===o)return m;return-1}function gT(o,c,d,h){return Id(this.multi,[])}function x1(o,c,d,h){const m=this.multi;let _;if(this.providerFactory){const x=this.providerFactory.componentProviders,M=aa(d,d[Bt],this.providerFactory.index,h);_=M.slice(0,x),Id(m,_);for(let D=x;D<M.length;D++)_.push(M[D])}else _=[],Id(m,_);return _}function Id(o,c){for(let d=0;d<o.length;d++)c.push((0,o[d])());return c}function _T(o,c=[]){return d=>{d.providersResolver=(h,m)=>function G2(o,c,d){const h=Kn();if(h.firstCreatePass){const m=Cs(o);bl(d,h.data,h.blueprint,m,!0),bl(c,h.data,h.blueprint,m,!1)}}(h,m?m(o):o,c)}}class Bu{}class Nw{}function E1(o,c){return new Lw(o,c??null,[])}class Lw extends Bu{constructor(c,d,h){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xx(this);const m=fs(c);this._bootstrapComponents=bd(m.bootstrap),this._r3Injector=IS(c,d,[{provide:Bu,useValue:this},{provide:Jg,useValue:this.componentFactoryResolver},...h],ve(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class Fw extends Nw{constructor(c){super(),this.moduleType=c}create(c){return new Lw(this.moduleType,c,[])}}class My extends Bu{constructor(c){super(),this.componentFactoryResolver=new Xx(this),this.instance=null;const d=new zg([...c.providers,{provide:Bu,useValue:this},{provide:Jg,useValue:this.componentFactoryResolver}],c.parent||jm(),c.debugName,new Set(["environment"]));this.injector=d,c.runEnvironmentInitializers&&d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function vT(o,c,d=null){return new My({providers:o,parent:c,debugName:d,runEnvironmentInitializers:!0}).injector}let C1=(()=>{class o{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d)){const h=uS(0,d.type),m=h.length>0?vT([h],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d,m)}return this.cachedInjectors.get(d)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=On({token:o,providedIn:"environment",factory:()=>new o(pn(Sc))})}return o})();function bT(o){o.getStandaloneInjector=c=>c.get(C1).getOrCreateStandaloneInjector(o)}function kd(o,c,d){const h=function Ts(){const o=bn.lFrame;let c=o.bindingRootIndex;return-1===c&&(c=o.bindingRootIndex=o.tView.bindingStartIndex),c}()+o,m=et();return m[h]===Wn?function Ed(o,c,d){return o[c]=d}(m,h,d?c.call(d):c()):function oy(o,c){return o[c]}(m,h)}function q2(){return this._results[Symbol.iterator]()}class Nc{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Wo)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Nc.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=q2)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const h=this;h.dirty=!1;const m=function er(o){return o.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function Jr(o,c,d){if(o.length!==c.length)return!1;for(let h=0;h<o.length;h++){let m=o[h],_=c[h];if(d&&(m=d(m),_=d(_)),_!==m)return!1}return!0}(h._results,m,d))&&(h._results=m,h.length=m.length,h.last=m[this.length-1],h.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Hw(o,c,d,h=!0){const m=c[Bt];if(function K0(o,c,d,h){const m=Br+h,_=d.length;h>0&&(d[m-1][ms]=c),h<_-Br?(c[ms]=d[m],vu(d,Br+h,c)):(d.push(c),c[ms]=null),c[zi]=d;const x=c[mh];null!==x&&d!==x&&function Rg(o,c){const d=o[Mr];c[Hi]!==c[zi][zi][Hi]&&(o[Zd]=!0),null===d?o[Mr]=[c]:d.push(c)}(x,c);const M=c[Cr];null!==M&&M.insertView(o),c[mn]|=128}(m,c,o,d),h){const _=Xh(d,o),x=c[vn],M=Pg(x,o[Sr]);null!==M&&function Dg(o,c,d,h,m,_){h[Vi]=m,h[Fr]=c,Kh(o,h,d,1,m,_)}(m,o[Fr],x,c,M,_)}}let Ga=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=AT}return o})();const Rd=Ga,L_=class extends Rd{constructor(c,d,h){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=h}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(c,d){return this.createEmbeddedViewImpl(c,d)}createEmbeddedViewImpl(c,d,h){const m=function B1(o,c,d,h){const m=c.tView,M=ep(o,m,d,4096&o[mn]?4096:16,null,c,null,null,null,h?.injector??null,h?.hydrationInfo??null);M[mh]=o[c.index];const L=o[Cr];return null!==L&&(M[Cr]=L.createEmbeddedView(m)),Yx(m,M,d),M}(this._declarationLView,this._declarationTContainer,c,{injector:d,hydrationInfo:h});return new fl(m)}};function AT(){return F_(Ir(),et())}function F_(o,c){return 4&o.type?new L_(c,o,Km(o,c)):null}let U_=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=kT}return o})();function kT(){return Ww(Ir(),et())}const Gw=U_,Iy=class extends Gw{constructor(c,d,h){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=h}get element(){return Km(this._hostTNode,this._hostLView)}get injector(){return new Ii(this._hostTNode,this._hostLView)}get parentInjector(){const c=Ba(this._hostTNode,this._hostLView);if(Jl(c)){const d=gc(c,this._hostLView),h=ol(c);return new Ii(d[Bt].data[h+8],d)}return new Ii(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=ky(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-Br}createEmbeddedView(c,d,h){let m,_;"number"==typeof h?m=h:null!=h&&(m=h.index,_=h.injector);const M=c.createEmbeddedViewImpl(d||{},_,null);return this.insertImpl(M,m,false),M}createComponent(c,d,h,m,_){const x=c&&!function Qr(o){return"function"==typeof o}(c);let M;if(x)M=d;else{const pt=d||{};M=pt.index,h=pt.injector,m=pt.projectableNodes,_=pt.environmentInjector||pt.ngModuleRef}const D=x?c:new Ou(ni(c)),L=h||this.parentInjector;if(!_&&null==D.ngModule){const Ot=(x?L:this.parentInjector).get(Sc,null);Ot&&(_=Ot)}ni(D.componentType??{});const ge=D.create(L,m,null,_);return this.insertImpl(ge.hostView,M,false),ge}insert(c,d){return this.insertImpl(c,d,!1)}insertImpl(c,d,h){const m=c._lView;if(function ig(o){return Xr(o[zi])}(m)){const D=this.indexOf(c);if(-1!==D)this.detach(D);else{const L=m[zi],V=new Iy(L,L[Fr],L[zi]);V.detach(V.indexOf(c))}}const x=this._adjustIndex(d),M=this._lContainer;return Hw(M,m,x,!h),c.attachToViewContainerRef(),vu(B_(M),x,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=ky(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),h=yb(this._lContainer,d);h&&(hg(B_(this._lContainer),d),Q0(h[Bt],h))}detach(c){const d=this._adjustIndex(c,-1),h=yb(this._lContainer,d);return h&&null!=hg(B_(this._lContainer),d)?new fl(h):null}_adjustIndex(c,d=0){return c??this.length+d}};function ky(o){return o[8]}function B_(o){return o[8]||(o[8]=[])}function Ww(o,c){let d;const h=c[o.index];return Xr(h)?d=h:(d=rM(h,c,null,o),c[o.index]=d,d_(c,d)),jw(d,c,o,h),new Iy(d,o,c)}let jw=function $w(o,c,d,h){if(o[Sr])return;let m;m=8&d.type?vi(h):function RT(o,c){const d=o[vn],h=d.createComment(""),m=Vr(c,o);return Nm(d,Pg(d,m),h,function ts(o,c){return o.nextSibling(c)}(d,m),!1),h}(c,d),o[Sr]=m};class Ry{constructor(c){this.queryList=c,this.matches=null}clone(){return new Ry(this.queryList)}setDirty(){this.queryList.setDirty()}}class Py{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const h=null!==c.contentQueries?c.contentQueries[0]:d.length,m=[];for(let _=0;_<h;_++){const x=d.getByIndex(_);m.push(this.queries[x.indexInDeclarationView].clone())}return new Py(m)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==nE(c,d).matches&&this.queries[d].setDirty()}}class Yw{constructor(c,d,h=null){this.predicate=c,this.flags=d,this.read=h}}class Oy{constructor(c=[]){this.queries=c}elementStart(c,d){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let h=0;h<this.length;h++){const m=null!==d?d.length:0,_=this.getByIndex(h).embeddedTView(c,m);_&&(_.indexInDeclarationView=h,null!==d?d.push(_):d=[_])}return null!==d?new Oy(d):null}template(c,d){for(let h=0;h<this.queries.length;h++)this.queries[h].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class Ny{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new Ny(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let h=c.parent;for(;null!==h&&8&h.type&&h.index!==d;)h=h.parent;return d===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const h=this.metadata.predicate;if(Array.isArray(h))for(let m=0;m<h.length;m++){const _=h[m];this.matchTNodeWithReadOption(c,d,OT(d,_)),this.matchTNodeWithReadOption(c,d,sd(d,c,_,!1,!1))}else h===Ga?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,sd(d,c,h,!1,!1))}matchTNodeWithReadOption(c,d,h){if(null!==h){const m=this.metadata.read;if(null!==m)if(m===t_||m===U_||m===Ga&&4&d.type)this.addMatch(d.index,-2);else{const _=sd(d,c,m,!1,!1);null!==_&&this.addMatch(d.index,_)}else this.addMatch(d.index,h)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function OT(o,c){const d=o.localNames;if(null!==d)for(let h=0;h<d.length;h+=2)if(d[h]===c)return d[h+1];return null}function LT(o,c,d,h){return-1===d?function NT(o,c){return 11&o.type?Km(o,c):4&o.type?F_(o,c):null}(c,o):-2===d?function FT(o,c,d){return d===t_?Km(c,o):d===Ga?F_(c,o):d===U_?Ww(c,o):void 0}(o,c,h):aa(o,o[Bt],d,c)}function qw(o,c,d,h){const m=c[Cr].queries[h];if(null===m.matches){const _=o.data,x=d.matches,M=[];for(let D=0;D<x.length;D+=2){const L=x[D];M.push(L<0?null:LT(c,_[L],x[D+1],d.metadata.read))}m.matches=M}return m.matches}function Ly(o,c,d,h){const m=o.queries.getByIndex(d),_=m.matches;if(null!==_){const x=qw(o,c,m,d);for(let M=0;M<_.length;M+=2){const D=_[M];if(D>0)h.push(x[M/2]);else{const L=_[M+1],V=c[-D];for(let X=Br;X<V.length;X++){const de=V[X];de[mh]===de[zi]&&Ly(de[Bt],de,L,h)}if(null!==V[Mr]){const X=V[Mr];for(let de=0;de<X.length;de++){const ge=X[de];Ly(ge[Bt],ge,L,h)}}}}}return h}function Zw(o){const c=et(),d=Kn(),h=uu();lm(h+1);const m=nE(d,h);if(o.dirty&&function ng(o){return 4==(4&o[mn])}(c)===(2==(2&m.metadata.flags))){if(null===m.matches)o.reset([]);else{const _=m.crossesNgTemplate?Ly(d,c,h,[]):qw(d,c,m,h);o.reset(_,Dx),o.notifyOnChanges()}return!0}return!1}function Xw(o,c,d){const h=Kn();h.firstCreatePass&&(tE(h,new Yw(o,c,d),-1),2==(2&c)&&(h.staticViewQueries=!0)),eE(h,et(),c)}function Kw(o,c,d,h){const m=Kn();if(m.firstCreatePass){const _=Ir();tE(m,new Yw(c,d,h),_.index),function j1(o,c){const d=o.contentQueries||(o.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(o.queries.length-1,c)}(m,o),2==(2&d)&&(m.staticContentQueries=!0)}eE(m,et(),d)}function Qw(){return function Jw(o,c){return o[Cr].queries[c].queryList}(et(),uu())}function eE(o,c,d){const h=new Nc(4==(4&d));(function c_(o,c,d,h){const m=Lk(c);m.push(d),o.firstCreatePass&&Fk(o).push(h,m.length-1)})(o,c,h,h.destroy),null===c[Cr]&&(c[Cr]=new Py),c[Cr].queries.push(new Ry(h))}function tE(o,c,d){null===o.queries&&(o.queries=new Oy),o.queries.track(new Ny(c,d))}function nE(o,c){return o.queries.getByIndex(c)}function iE(o,c){return F_(o,c)}function Hu(o){return!!fs(o)}const lE=new Ti("Application Initializer");let G_=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h}),this.appInits=Rn(lE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const d=[];for(const m of this.appInits){const _=m();if(CM(_))d.push(_);else if(gR(_)){const x=new Promise((M,D)=>{_.subscribe({complete:M,error:D})});d.push(x)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(d).then(()=>{h()}).catch(m=>{this.reject(m)}),0===d.length&&h(),this.initialized=!0}static#e=this.\u0275fac=function(h){return new(h||o)};static#t=this.\u0275prov=On({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),yl=(()=>{class o{log(d){console.log(d)}warn(d){console.warn(d)}static#e=this.\u0275fac=function(h){return new(h||o)};static#t=this.\u0275prov=On({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const Nd=new Ti("LocaleId",{providedIn:"root",factory:()=>Rn(Nd,cn.Optional|cn.SkipSelf)||function Vy(){return typeof $localize<"u"&&$localize.locale||T_}()}),mo=new Ti("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Yo=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Te.X(!1)}add(){this.hasPendingTasks.next(!0);const d=this.taskId++;return this.pendingTasks.add(d),d}remove(d){this.pendingTasks.delete(d),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(h){return new(h||o)};static#t=this.\u0275prov=On({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class Rr{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}let dE=(()=>{class o{compileModuleSync(d){return new Fw(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const h=this.compileModuleSync(d),_=bd(fs(d).declarations).reduce((x,M)=>{const D=ni(M);return D&&x.push(new Ou(D)),x},[]);return new Rr(h,_)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}static#e=this.\u0275fac=function(h){return new(h||o)};static#t=this.\u0275prov=On({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const vp=new Ti(""),fE=new Ti("");let Ri,qT=(()=>{class o{constructor(d,h,m){this._ngZone=d,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ri||(function pP(o){Ri=o}(m),m.addToWindow(h)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ds.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(d)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,h,m){let _=-1;h&&h>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(x=>x.timeoutId!==_),d(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:d,timeoutId:_,updateCb:m})}whenStable(d,h,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,h,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,h,m){return[]}static#e=this.\u0275fac=function(h){return new(h||o)(pn(Ds),pn(Y_),pn(fE))};static#t=this.\u0275prov=On({token:o,factory:o.\u0275fac})}return o})(),Y_=(()=>{class o{constructor(){this._applications=new Map}registerApplication(d,h){this._applications.set(d,h)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,h=!0){return Ri?.findTestabilityInTree(this,d,h)??null}static#e=this.\u0275fac=function(h){return new(h||o)};static#t=this.\u0275prov=On({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})(),ha=null;const Gy=new Ti("AllowMultipleToken"),Wu=new Ti("PlatformDestroyListeners"),Wy=new Ti("appBootstrapListener");class ju{constructor(c,d){this.name=c,this.token=d}}function bP(o,c,d=[]){const h=`Platform: ${c}`,m=new Ti(h);return(_=[])=>{let x=To();if(!x||x.injector.get(Gy,!1)){const M=[...d,..._,{provide:m,useValue:!0}];o?o(M):function Yi(o){if(ha&&!ha.get(Gy,!1))throw new Me(400,!1);(function jy(){!function Zp(o){Jf=o}(()=>{throw new Me(600,!1)})})(),ha=o;const c=o.get(ee);(function $u(o){o.get(mx,null)?.forEach(d=>d())})(o)}(function yP(o=[],c){return Ac.create({name:c,providers:[{provide:Pb,useValue:"platform"},{provide:Wu,useValue:new Set([()=>ha=null])},...o]})}(M,h))}return function XT(o){const c=To();if(!c)throw new Me(401,!1);return c}()}}function To(){return ha?.get(ee)??null}let ee=(()=>{class o{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,h){const m=function KT(o="zone.js",c){return"noop"===o?new gk:"zone.js"===o?new Ds(c):o}(h?.ngZone,function $y(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return m.run(()=>{const _=function Uw(o,c,d){return new Lw(o,c,d)}(d.moduleType,this.injector,function qu(o){return[{provide:Ds,useFactory:o},{provide:Wm,multi:!0,useFactory:()=>{const c=Rn(Yu,{optional:!0});return()=>c.initialize()}},{provide:Af,useFactory:bp},{provide:RS,useFactory:PS}]}(()=>m)),x=_.injector.get(Ru,null);return m.runOutsideAngular(()=>{const M=m.onError.subscribe({next:D=>{x.handleError(D)}});_.onDestroy(()=>{Mf(this._modules,_),M.unsubscribe()})}),function xl(o,c,d){try{const h=d();return CM(h)?h.catch(m=>{throw c.runOutsideAngular(()=>o.handleError(m)),m}):h}catch(h){throw c.runOutsideAngular(()=>o.handleError(h)),h}}(x,m,()=>{const M=_.injector.get(G_);return M.runInitializers(),M.donePromise.then(()=>(function KR(o){Ht(o,"Expected localeId to be defined"),"string"==typeof o&&(dp=o.toLowerCase().replace(/_/g,"-"))}(_.injector.get(Nd,T_)||T_),this._moduleDoBootstrap(_),_))})})}bootstrapModule(d,h=[]){const m=wl({},h);return function gP(o,c,d){const h=new Fw(d);return Promise.resolve(h)}(0,0,d).then(_=>this.bootstrapModuleFactory(_,m))}_moduleDoBootstrap(d){const h=d.injector.get(po);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(m=>h.bootstrap(m));else{if(!d.instance.ngDoBootstrap)throw new Me(-403,!1);d.instance.ngDoBootstrap(h)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const d=this._injector.get(Wu,null);d&&(d.forEach(h=>h()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(h){return new(h||o)(pn(Ac))};static#t=this.\u0275prov=On({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function wl(o,c){return Array.isArray(c)?c.reduce(wl,o):{...o,...c}}let po=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Rn(Af),this.zoneIsStable=Rn(RS),this.componentTypes=[],this.components=[],this.isStable=Rn(Yo).hasPendingTasks.pipe((0,ut.w)(d=>d?(0,ye.of)(!1):this.zoneIsStable),(0,Le.x)(),(0,He.B)()),this._injector=Rn(Sc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,h){const m=d instanceof Vb;if(!this._injector.get(G_).done)throw!m&&Ta(d),new Me(405,!1);let x;x=m?d:this._injector.get(Jg).resolveComponentFactory(d),this.componentTypes.push(x.componentType);const M=function _P(o){return o.isBoundToModule}(x)?void 0:this._injector.get(Bu),L=x.create(Ac.NULL,[],h||x.selector,M),V=L.location.nativeElement,X=L.injector.get(vp,null);return X?.registerApplication(V),L.onDestroy(()=>{this.detachView(L.hostView),Mf(this.components,L),X?.unregisterApplication(V)}),this._loadComponent(L),L}tick(){if(this._runningTick)throw new Me(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1}}attachView(d){const h=d;this._views.push(h),h.attachToAppRef(this)}detachView(d){const h=d;Mf(this._views,h),h.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const h=this._injector.get(Wy,[]);h.push(...this._bootstrapListeners),h.forEach(m=>m(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Mf(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new Me(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(h){return new(h||o)};static#t=this.\u0275prov=On({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Mf(o,c){const d=o.indexOf(c);d>-1&&o.splice(d,1)}const Af=new Ti("",{providedIn:"root",factory:()=>Rn(Ru).handleError.bind(void 0)});function bp(){const o=Rn(Ds),c=Rn(Ru);return d=>o.runOutsideAngular(()=>c.handleError(d))}let Yu=(()=>{class o{constructor(){this.zone=Rn(Ds),this.applicationRef=Rn(po)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(h){return new(h||o)};static#t=this.\u0275prov=On({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Yy(){return!1}let X_=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=pE}return o})();function pE(o){return function El(o,c,d){if(ic(o)&&!d){const h=zr(o.index,c);return new fl(h,h)}return 47&o.type?new fl(c[Hi],c):null}(Ir(),et(),16==(16&o))}class vE{constructor(){}supports(c){return gf(c)}create(c){return new Ld(c)}}const wp=(o,c)=>c;class Ld{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||wp}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,h=this._removalsHead,m=0,_=null;for(;d||h;){const x=!h||d&&d.currentIndex<sA(h,m,_)?d:h,M=sA(x,m,_),D=x.currentIndex;if(x===h)m--,h=h._nextRemoved;else if(d=d._next,null==x.previousIndex)m++;else{_||(_=[]);const L=M-m,V=D-m;if(L!=V){for(let de=0;de<L;de++){const ge=de<_.length?_[de]:_[de]=0,We=ge+de;V<=We&&We<L&&(_[de]=ge+1)}_[x.previousIndex]=V-L}}M!==D&&c(x,M,D)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!gf(c))throw new Me(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let m,_,x,d=this._itHead,h=!1;if(Array.isArray(c)){this.length=c.length;for(let M=0;M<this.length;M++)_=c[M],x=this._trackByFn(M,_),null!==d&&Object.is(d.trackById,x)?(h&&(d=this._verifyReinsertion(d,_,x,M)),Object.is(d.item,_)||this._addIdentityChange(d,_)):(d=this._mismatch(d,_,x,M),h=!0),d=d._next}else m=0,function sy(o,c){if(Array.isArray(o))for(let d=0;d<o.length;d++)c(o[d]);else{const d=o[Symbol.iterator]();let h;for(;!(h=d.next()).done;)c(h.value)}}(c,M=>{x=this._trackByFn(m,M),null!==d&&Object.is(d.trackById,x)?(h&&(d=this._verifyReinsertion(d,M,x,m)),Object.is(d.item,M)||this._addIdentityChange(d,M)):(d=this._mismatch(d,M,x,m),h=!0),d=d._next,m++}),this.length=m;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,h,m){let _;return null===c?_=this._itTail:(_=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,_,m)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(h,m))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,_,m)):c=this._addAfter(new Ky(d,h),_,m),c}_verifyReinsertion(c,d,h,m){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==_?c=this._reinsertAfter(_,c._prev,m):c.currentIndex!=m&&(c.currentIndex=m,this._addToMoves(c,m)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const m=c._prevRemoved,_=c._nextRemoved;return null===m?this._removalsHead=_:m._nextRemoved=_,null===_?this._removalsTail=m:_._prevRemoved=m,this._insertAfter(c,d,h),this._addToMoves(c,h),c}_moveAfter(c,d,h){return this._unlink(c),this._insertAfter(c,d,h),this._addToMoves(c,h),c}_addAfter(c,d,h){return this._insertAfter(c,d,h),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,h){const m=null===d?this._itHead:d._next;return c._next=m,c._prev=d,null===m?this._itTail=c:m._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new rA),this._linkedRecords.put(c),c.currentIndex=h,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,h=c._next;return null===d?this._itHead=h:d._next=h,null===h?this._itTail=d:h._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rA),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class Ky{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class J_{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===d||d<=h.currentIndex)&&Object.is(h.trackById,c))return h;return null}remove(c){const d=c._prevDup,h=c._nextDup;return null===d?this._head=h:d._nextDup=h,null===h?this._tail=d:h._prevDup=d,null===this._head}}class rA{constructor(){this.map=new Map}put(c){const d=c.trackById;let h=this.map.get(d);h||(h=new J_,this.map.set(d,h)),h.add(c)}get(c,d){const m=this.map.get(c);return m?m.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sA(o,c,d){const h=o.previousIndex;if(null===h)return h;let m=0;return d&&h<d.length&&(m=d[h]),h+c+m}class bE{constructor(){}supports(c){return c instanceof Map||hM(c)}create(){return new oA}}class oA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||hM(c)))throw new Me(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(h,m)=>{if(d&&d.key===m)this._maybeAddToChanges(d,h),this._appendAfter=d,d=d._next;else{const _=this._getOrCreateRecordForKey(m,h);d=this._insertBeforeOrAppend(d,_)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let h=d;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const h=c._prev;return d._next=c,d._prev=h,c._prev=d,h&&(h._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const m=this._records.get(c);this._maybeAddToChanges(m,d);const _=m._prev,x=m._next;return _&&(_._next=x),x&&(x._prev=_),m._next=null,m._prev=null,m}const h=new aA(c);return this._records.set(c,h),h.currentValue=d,this._addToAdditions(h),h}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(h=>d(c[h],h))}}class aA{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cA(){return new yE([new vE])}let yE=(()=>{class o{static#e=this.\u0275prov=On({token:o,providedIn:"root",factory:cA});constructor(d){this.factories=d}static create(d,h){if(null!=h){const m=h.factories.slice();d=d.concat(m)}return new o(d)}static extend(d){return{provide:o,useFactory:h=>o.create(d,h||cA()),deps:[[o,new xc,new ym]]}}find(d){const h=this.factories.find(m=>m.supports(d));if(null!=h)return h;throw new Me(901,!1)}}return o})();function $a(){return new Fc([new bE])}let Fc=(()=>{class o{static#e=this.\u0275prov=On({token:o,providedIn:"root",factory:$a});constructor(d){this.factories=d}static create(d,h){if(h){const m=h.factories.slice();d=d.concat(m)}return new o(d)}static extend(d){return{provide:o,useFactory:h=>o.create(d,h||$a()),deps:[[o,new xc,new ym]]}}find(d){const h=this.factories.find(m=>m.supports(d));if(h)return h;throw new Me(901,!1)}}return o})();const lA=bP(null,"core",[]);let wE=(()=>{class o{constructor(d){}static#e=this.\u0275fac=function(h){return new(h||o)(pn(po))};static#t=this.\u0275mod=Nl({type:o});static#n=this.\u0275inj=Bi({})}return o})();function fA(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function ks(o){const c=ni(o);if(!c)return null;const d=new Ou(c);return{get selector(){return d.selector},get type(){return d.componentType},get inputs(){return d.inputs},get outputs(){return d.outputs},get ngContentSelectors(){return d.ngContentSelectors},get isStandalone(){return c.standalone},get isSignal(){return c.signals}}}},3106:(Jt,Qe,W)=>{W.d(Qe,{Z:()=>Rt});var a=W(9058),_e=W(4537),$=W(534),we=W(7879);class Te{constructor(Et,gt){this._delegate=Et,this.firebase=gt,(0,$._addComponent)(Et,new _e.wA("app-compat",()=>this,"PUBLIC")),this.container=Et.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Et){this._delegate.automaticDataCollectionEnabled=Et}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Et=>{this._delegate.checkDestroyed(),Et()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService(Et,gt=$._DEFAULT_ENTRY_NAME){var ln;this._delegate.checkDestroyed();const rn=this._delegate.container.getProvider(Et);return!rn.isInitialized()&&"EXPLICIT"===(null===(ln=rn.getComponent())||void 0===ln?void 0:ln.instantiationMode)&&rn.initialize(),rn.getImmediate({identifier:gt})}_removeServiceInstance(Et,gt=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Et).clearInstance(gt)}_addComponent(Et){(0,$._addComponent)(this._delegate,Et)}_addOrOverwriteComponent(Et){(0,$._addOrOverwriteComponent)(this._delegate,Et)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const He=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function Le(){const dt=function ut(dt){const Et={},gt={__esModule:!0,initializeApp:function Me(mt,Dt={}){const Ie=$.initializeApp(mt,Dt);if((0,a.r3)(Et,Ie.name))return Et[Ie.name];const hn=new dt(Ie,gt);return Et[Ie.name]=hn,hn},app:rn,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function Ee(mt){const Dt=mt.name,Ie=Dt.replace("-compat","");if($._registerComponent(mt)&&"PUBLIC"===mt.type){const hn=(jn=rn())=>{if("function"!=typeof jn[Ie])throw He.create("invalid-app-argument",{appName:Dt});return jn[Ie]()};void 0!==mt.serviceProps&&(0,a.ZB)(hn,mt.serviceProps),gt[Ie]=hn,dt.prototype[Ie]=function(...jn){return this._getService.bind(this,Dt).apply(this,mt.multipleInstances?jn:[])}}return"PUBLIC"===mt.type?gt[Ie]:null},removeApp:function ln(mt){delete Et[mt]},useAsService:function Je(mt,Dt){return"serverAuth"===Dt?null:Dt},modularAPIs:$}};function rn(mt){if(!(0,a.r3)(Et,mt=mt||$._DEFAULT_ENTRY_NAME))throw He.create("no-app",{appName:mt});return Et[mt]}return gt.default=gt,Object.defineProperty(gt,"apps",{get:function Ye(){return Object.keys(Et).map(mt=>Et[mt])}}),rn.App=dt,gt}(Te);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:Le,extendNamespace:function Et(gt){(0,a.ZB)(dt,gt)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),dt}(),oe=new we.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){oe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&oe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Rt=te;!function st(dt){(0,$.registerVersion)("@firebase/app-compat","0.2.13",dt)}()},534:(Jt,Qe,W)=>{W.r(Qe),W.d(Qe,{FirebaseError:()=>we.ZR,SDK_VERSION:()=>wa,_DEFAULT_ENTRY_NAME:()=>cn,_addComponent:()=>Xi,_addOrOverwriteComponent:()=>ys,_apps:()=>Tn,_clearComponents:()=>di,_components:()=>Di,_getProvider:()=>Nr,_registerComponent:()=>xi,_removeServiceInstance:()=>Wc,deleteApp:()=>yo,getApp:()=>Xs,getApps:()=>Ca,initializeApp:()=>Ea,onLog:()=>ws,registerVersion:()=>wr,setLogLevel:()=>cr});var a=W(5861),_e=W(4537),$=W(7879),we=W(9058);const Te=(Pe,Se)=>Se.some(ct=>Pe instanceof ct);let ye,He;const te=new WeakMap,oe=new WeakMap,ve=new WeakMap,vt=new WeakMap,st=new WeakMap;let Et={get(Pe,Se,ct){if(Pe instanceof IDBTransaction){if("done"===Se)return oe.get(Pe);if("objectStoreNames"===Se)return Pe.objectStoreNames||ve.get(Pe);if("store"===Se)return ct.objectStoreNames[1]?void 0:ct.objectStore(ct.objectStoreNames[0])}return Me(Pe[Se])},set:(Pe,Se,ct)=>(Pe[Se]=ct,!0),has:(Pe,Se)=>Pe instanceof IDBTransaction&&("done"===Se||"store"===Se)||Se in Pe};function rn(Pe){return"function"==typeof Pe?function ln(Pe){return Pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Le(){return He||(He=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Pe)?function(...Se){return Pe.apply(Ye(this),Se),Me(te.get(this))}:function(...Se){return Me(Pe.apply(Ye(this),Se))}:function(Se,...ct){const jt=Pe.call(Ye(this),Se,...ct);return ve.set(jt,Se.sort?Se.sort():[Se]),Me(jt)}}(Pe):(Pe instanceof IDBTransaction&&function dt(Pe){if(oe.has(Pe))return;const Se=new Promise((ct,jt)=>{const It=()=>{Pe.removeEventListener("complete",Nn),Pe.removeEventListener("error",ui),Pe.removeEventListener("abort",ui)},Nn=()=>{ct(),It()},ui=()=>{jt(Pe.error||new DOMException("AbortError","AbortError")),It()};Pe.addEventListener("complete",Nn),Pe.addEventListener("error",ui),Pe.addEventListener("abort",ui)});oe.set(Pe,Se)}(Pe),Te(Pe,function ut(){return ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Pe,Et):Pe)}function Me(Pe){if(Pe instanceof IDBRequest)return function Rt(Pe){const Se=new Promise((ct,jt)=>{const It=()=>{Pe.removeEventListener("success",Nn),Pe.removeEventListener("error",ui)},Nn=()=>{ct(Me(Pe.result)),It()},ui=()=>{jt(Pe.error),It()};Pe.addEventListener("success",Nn),Pe.addEventListener("error",ui)});return Se.then(ct=>{ct instanceof IDBCursor&&te.set(ct,Pe)}).catch(()=>{}),st.set(Se,Pe),Se}(Pe);if(vt.has(Pe))return vt.get(Pe);const Se=rn(Pe);return Se!==Pe&&(vt.set(Pe,Se),st.set(Se,Pe)),Se}const Ye=Pe=>st.get(Pe),mt=["get","getKey","getAll","getAllKeys","count"],Dt=["put","add","delete","clear"],Ie=new Map;function hn(Pe,Se){if(!(Pe instanceof IDBDatabase)||Se in Pe||"string"!=typeof Se)return;if(Ie.get(Se))return Ie.get(Se);const ct=Se.replace(/FromIndex$/,""),jt=Se!==ct,It=Dt.includes(ct);if(!(ct in(jt?IDBIndex:IDBObjectStore).prototype)||!It&&!mt.includes(ct))return;const Nn=function(){var ui=(0,a.Z)(function*(lr,...dr){const Lr=this.transaction(lr,It?"readwrite":"readonly");let xo=Lr.store;return jt&&(xo=xo.index(dr.shift())),(yield Promise.all([xo[ct](...dr),It&&Lr.done]))[0]});return function(dr){return ui.apply(this,arguments)}}();return Ie.set(Se,Nn),Nn}!function gt(Pe){Et=Pe(Et)}(Pe=>({...Pe,get:(Se,ct,jt)=>hn(Se,ct)||Pe.get(Se,ct,jt),has:(Se,ct)=>!!hn(Se,ct)||Pe.has(Se,ct)}));class jn{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(ct=>{if(function Or(Pe){const Se=Pe.getComponent();return"VERSION"===Se?.type}(ct)){const jt=ct.getImmediate();return`${jt.library}/${jt.version}`}return null}).filter(ct=>ct).join(" ")}}const bs="@firebase/app",ar=new $.Yd("@firebase/app"),cn="[DEFAULT]",$n={[bs]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Tn=new Map,Di=new Map;function Xi(Pe,Se){try{Pe.container.addComponent(Se)}catch(ct){ar.debug(`Component ${Se.name} failed to register with FirebaseApp ${Pe.name}`,ct)}}function ys(Pe,Se){Pe.container.addOrOverwriteComponent(Se)}function xi(Pe){const Se=Pe.name;if(Di.has(Se))return ar.debug(`There were multiple attempts to register component ${Se}.`),!1;Di.set(Se,Pe);for(const ct of Tn.values())Xi(ct,Pe);return!0}function Nr(Pe,Se){const ct=Pe.container.getProvider("heartbeat").getImmediate({optional:!0});return ct&&ct.triggerHeartbeat(),Pe.container.getProvider(Se)}function Wc(Pe,Se,ct=cn){Nr(Pe,Se).clearInstance(ct)}function di(){Di.clear()}const Gn=new we.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Po{constructor(Se,ct,jt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},ct),this._name=ct.name,this._automaticDataCollectionEnabled=ct.automaticDataCollectionEnabled,this._container=jt,this.container.addComponent(new _e.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}}const wa="9.23.0";function Ea(Pe,Se={}){let ct=Pe;"object"!=typeof Se&&(Se={name:Se});const jt=Object.assign({name:cn,automaticDataCollectionEnabled:!1},Se),It=jt.name;if("string"!=typeof It||!It)throw Gn.create("bad-app-name",{appName:String(It)});if(ct||(ct=(0,we.aH)()),!ct)throw Gn.create("no-options");const Nn=Tn.get(It);if(Nn){if((0,we.vZ)(ct,Nn.options)&&(0,we.vZ)(jt,Nn.config))return Nn;throw Gn.create("duplicate-app",{appName:It})}const ui=new _e.H0(It);for(const dr of Di.values())ui.addComponent(dr);const lr=new Po(ct,jt,ui);return Tn.set(It,lr),lr}function Xs(Pe=cn){const Se=Tn.get(Pe);if(!Se&&Pe===cn&&(0,we.aH)())return Ea();if(!Se)throw Gn.create("no-app",{appName:Pe});return Se}function Ca(){return Array.from(Tn.values())}function yo(Pe){return xr.apply(this,arguments)}function xr(){return(xr=(0,a.Z)(function*(Pe){const Se=Pe.name;Tn.has(Se)&&(Tn.delete(Se),yield Promise.all(Pe.container.getProviders().map(ct=>ct.delete())),Pe.isDeleted=!0)})).apply(this,arguments)}function wr(Pe,Se,ct){var jt;let It=null!==(jt=$n[Pe])&&void 0!==jt?jt:Pe;ct&&(It+=`-${ct}`);const Nn=It.match(/\s|\//),ui=Se.match(/\s|\//);if(Nn||ui){const lr=[`Unable to register library "${It}" with version "${Se}":`];return Nn&&lr.push(`library name "${It}" contains illegal characters (whitespace or "/")`),Nn&&ui&&lr.push("and"),ui&&lr.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void ar.warn(lr.join(" "))}xi(new _e.wA(`${It}-version`,()=>({library:It,version:Se}),"VERSION"))}function ws(Pe,Se){if(null!==Pe&&"function"!=typeof Pe)throw Gn.create("invalid-log-argument");(0,$.Am)(Pe,Se)}function cr(Pe){(0,$.Ub)(Pe)}const Ks="firebase-heartbeat-database",Qs=1,re="firebase-heartbeat-store";let ie=null;function ue(){return ie||(ie=function Ee(Pe,Se,{blocked:ct,upgrade:jt,blocking:It,terminated:Nn}={}){const ui=indexedDB.open(Pe,Se),lr=Me(ui);return jt&&ui.addEventListener("upgradeneeded",dr=>{jt(Me(ui.result),dr.oldVersion,dr.newVersion,Me(ui.transaction),dr)}),ct&&ui.addEventListener("blocked",dr=>ct(dr.oldVersion,dr.newVersion,dr)),lr.then(dr=>{Nn&&dr.addEventListener("close",()=>Nn()),It&&dr.addEventListener("versionchange",Lr=>It(Lr.oldVersion,Lr.newVersion,Lr))}).catch(()=>{}),lr}(Ks,Qs,{upgrade:(Pe,Se)=>{0===Se&&Pe.createObjectStore(re)}}).catch(Pe=>{throw Gn.create("idb-open",{originalErrorMessage:Pe.message})})),ie}function Ae(){return(Ae=(0,a.Z)(function*(Pe){try{return yield(yield ue()).transaction(re).objectStore(re).get(pn(Pe))}catch(Se){if(Se instanceof we.ZR)ar.warn(Se.message);else{const ct=Gn.create("idb-get",{originalErrorMessage:Se?.message});ar.warn(ct.message)}}})).apply(this,arguments)}function Ft(Pe,Se){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,a.Z)(function*(Pe,Se){try{const jt=(yield ue()).transaction(re,"readwrite");yield jt.objectStore(re).put(Se,pn(Pe)),yield jt.done}catch(ct){if(ct instanceof we.ZR)ar.warn(ct.message);else{const jt=Gn.create("idb-set",{originalErrorMessage:ct?.message});ar.warn(jt.message)}}})).apply(this,arguments)}function pn(Pe){return`${Pe.name}!${Pe.options.appId}`}class Qi{constructor(Se){this.container=Se,this._heartbeatsCache=null;const ct=this.container.getProvider("app").getImmediate();this._storage=new Oo(ct),this._heartbeatsCachePromise=this._storage.read().then(jt=>(this._heartbeatsCache=jt,jt))}triggerHeartbeat(){var Se=this;return(0,a.Z)(function*(){const jt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),It=ti();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==It&&!Se._heartbeatsCache.heartbeats.some(Nn=>Nn.date===It))return Se._heartbeatsCache.heartbeats.push({date:It,agent:jt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(Nn=>{const ui=new Date(Nn.date).valueOf();return Date.now()-ui<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,a.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const ct=ti(),{heartbeatsToSend:jt,unsentEntries:It}=function gr(Pe,Se=1024){const ct=[];let jt=Pe.slice();for(const It of Pe){const Nn=ct.find(ui=>ui.agent===It.agent);if(Nn){if(Nn.dates.push(It.date),ea(ct)>Se){Nn.dates.pop();break}}else if(ct.push({agent:It.agent,dates:[It.date]}),ea(ct)>Se){ct.pop();break}jt=jt.slice(1)}return{heartbeatsToSend:ct,unsentEntries:jt}}(Se._heartbeatsCache.heartbeats),Nn=(0,we.L)(JSON.stringify({version:2,heartbeats:jt}));return Se._heartbeatsCache.lastSentHeartbeatDate=ct,It.length>0?(Se._heartbeatsCache.heartbeats=It,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),Nn})()}}function ti(){return(new Date).toISOString().substring(0,10)}class Oo{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,we.hl)()&&(0,we.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,a.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function Xe(Pe){return Ae.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var ct=this;return(0,a.Z)(function*(){var jt;if(yield ct._canUseIndexedDBPromise){const Nn=yield ct.read();return Ft(ct.app,{lastSentHeartbeatDate:null!==(jt=Se.lastSentHeartbeatDate)&&void 0!==jt?jt:Nn.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var ct=this;return(0,a.Z)(function*(){var jt;if(yield ct._canUseIndexedDBPromise){const Nn=yield ct.read();return Ft(ct.app,{lastSentHeartbeatDate:null!==(jt=Se.lastSentHeartbeatDate)&&void 0!==jt?jt:Nn.lastSentHeartbeatDate,heartbeats:[...Nn.heartbeats,...Se.heartbeats]})}})()}}function ea(Pe){return(0,we.L)(JSON.stringify({version:2,heartbeats:Pe})).length}!function Rl(Pe){xi(new _e.wA("platform-logger",Se=>new jn(Se),"PRIVATE")),xi(new _e.wA("heartbeat",Se=>new Qi(Se),"PRIVATE")),wr(bs,"0.9.13",Pe),wr(bs,"0.9.13","esm2017"),wr("fire-js","")}("")},4537:(Jt,Qe,W)=>{W.d(Qe,{H0:()=>ut,wA:()=>$,zt:()=>Te});var a=W(5861),_e=W(9058);class ${constructor(te,oe,ve){this.name=te,this.instanceFactory=oe,this.type=ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const we="[DEFAULT]";class Te{constructor(te,oe){this.name=te,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const oe=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(oe)){const ve=new _e.BH;if(this.instancesDeferred.set(oe,ve),this.isInitialized(oe)||this.shouldAutoInitialize())try{const vt=this.getOrInitializeService({instanceIdentifier:oe});vt&&ve.resolve(vt)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(te){var oe;const ve=this.normalizeInstanceIdentifier(te?.identifier),vt=null!==(oe=te?.optional)&&void 0!==oe&&oe;if(!this.isInitialized(ve)&&!this.shouldAutoInitialize()){if(vt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ve})}catch(st){if(vt)return null;throw st}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function He(Le){return"EAGER"===Le.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:we})}catch{}for(const[oe,ve]of this.instancesDeferred.entries()){const vt=this.normalizeInstanceIdentifier(oe);try{const st=this.getOrInitializeService({instanceIdentifier:vt});ve.resolve(st)}catch{}}}}clearInstance(te=we){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,a.Z)(function*(){const oe=Array.from(te.instances.values());yield Promise.all([...oe.filter(ve=>"INTERNAL"in ve).map(ve=>ve.INTERNAL.delete()),...oe.filter(ve=>"_delete"in ve).map(ve=>ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=we){return this.instances.has(te)}getOptions(te=we){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:oe={}}=te,ve=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(ve))throw Error(`${this.name}(${ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const vt=this.getOrInitializeService({instanceIdentifier:ve,options:oe});for(const[st,Rt]of this.instancesDeferred.entries())ve===this.normalizeInstanceIdentifier(st)&&Rt.resolve(vt);return vt}onInit(te,oe){var ve;const vt=this.normalizeInstanceIdentifier(oe),st=null!==(ve=this.onInitCallbacks.get(vt))&&void 0!==ve?ve:new Set;st.add(te),this.onInitCallbacks.set(vt,st);const Rt=this.instances.get(vt);return Rt&&te(Rt,vt),()=>{st.delete(te)}}invokeOnInitCallbacks(te,oe){const ve=this.onInitCallbacks.get(oe);if(ve)for(const vt of ve)try{vt(te,oe)}catch{}}getOrInitializeService({instanceIdentifier:te,options:oe={}}){let ve=this.instances.get(te);if(!ve&&this.component&&(ve=this.component.instanceFactory(this.container,{instanceIdentifier:(Le=te,Le===we?void 0:Le),options:oe}),this.instances.set(te,ve),this.instancesOptions.set(te,oe),this.invokeOnInitCallbacks(ve,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,ve)}catch{}var Le;return ve||null}normalizeInstanceIdentifier(te=we){return this.component?this.component.multipleInstances?te:we:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ut{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const oe=this.getProvider(te.name);if(oe.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);oe.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const oe=new Te(te,this);return this.providers.set(te,oe),oe}getProviders(){return Array.from(this.providers.values())}}},7879:(Jt,Qe,W)=>{W.d(Qe,{Am:()=>Le,Ub:()=>ut,Yd:()=>He,in:()=>_e});const a=[];var _e=function(te){return te[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",te}(_e||{});const $={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},we=_e.INFO,Te={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},ye=(te,oe,...ve)=>{if(oe<te.logLevel)return;const vt=(new Date).toISOString(),st=Te[oe];if(!st)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[st](`[${vt}]  ${te.name}:`,...ve)};class He{constructor(oe){this.name=oe,this._logLevel=we,this._logHandler=ye,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in _e))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?$[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...oe),this._logHandler(this,_e.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...oe),this._logHandler(this,_e.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...oe),this._logHandler(this,_e.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...oe),this._logHandler(this,_e.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...oe),this._logHandler(this,_e.ERROR,...oe)}}function ut(te){a.forEach(oe=>{oe.setLogLevel(te)})}function Le(te,oe){for(const ve of a){let vt=null;oe&&oe.level&&(vt=$[oe.level]),ve.userLogHandler=null===te?null:(st,Rt,...dt)=>{const Et=dt.map(gt=>{if(null==gt)return null;if("string"==typeof gt)return gt;if("number"==typeof gt||"boolean"==typeof gt)return gt.toString();if(gt instanceof Error)return gt.message;try{return JSON.stringify(gt)}catch{return null}}).filter(gt=>gt).join(" ");Rt>=(vt??st.logLevel)&&te({level:_e[Rt].toLowerCase(),message:Et,args:dt,type:st.name})}}}},3182:(Jt,Qe,W)=>{W.d(Qe,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=W(534);(0,a.registerVersion)("firebase","9.23.0","app")},7142:(Jt,Qe,W)=>{W.d(Qe,{Z:()=>a.Z});var a=W(3106);a.Z.registerVersion("firebase","9.23.0","app-compat")},5967:(Jt,Qe,W)=>{W.r(Qe);var a=W(5861),_e=W(3106),$=W(9058),we=W(534),Te=W(7582),ye=W(7879),He=W(4537);const Le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Rt=function vt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},dt=function st(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Et=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ln=new ye.Yd("@firebase/auth");function Me(E,...g){ln.logLevel<=ye.in.ERROR&&ln.error(`Auth (${we.SDK_VERSION}): ${E}`,...g)}function Ye(E,...g){throw Dt(E,...g)}function Ee(E,...g){return Dt(E,...g)}function Je(E,g,v){const C=Object.assign(Object.assign({},dt()),{[g]:v});return new $.LL("auth","Firebase",C).create(g,{appName:E.name})}function mt(E,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&Ye(E,"argument-error"),Je(E,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dt(E,...g){if("string"!=typeof E){const v=g[0],C=[...g.slice(1)];return C[0]&&(C[0].appName=E.name),E._errorFactory.create(v,...C)}return Et.create(E,...g)}function Ie(E,g,...v){if(!E)throw Dt(g,...v)}function hn(E){const g="INTERNAL ASSERTION FAILED: "+E;throw Me(g),new Error(g)}function jn(E,g){E||hn(g)}function Or(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function bs(){return"http:"===Jo()||"https:"===Jo()}function Jo(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class ba{constructor(g,v){this.shortDelay=g,this.longDelay=v,jn(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function ar(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(bs()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Re(E,g){jn(E.emulator,"Emulator should always be set here");const{url:v}=E.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class Ne{static initialize(g,v,C){this.fetchImpl=g,v&&(this.headersImpl=v),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ze=new ba(3e4,6e4);function Ke(E,g){return E.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:E.tenantId}):g}function tt(E,g,v,C){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,a.Z)(function*(E,g,v,C,N={}){return Ct(E,N,(0,a.Z)(function*(){let z={},se={};C&&("GET"===g?se=C:z={body:JSON.stringify(C)});const be=(0,$.xO)(Object.assign({key:E.config.apiKey},se)).slice(1),lt=yield E._getAdditionalHeaders();return lt["Content-Type"]="application/json",E.languageCode&&(lt["X-Firebase-Locale"]=E.languageCode),Ne.fetch()(On(E,E.config.apiHost,v,be),Object.assign({method:g,headers:lt,referrerPolicy:"no-referrer"},z))}))})).apply(this,arguments)}function Ct(E,g,v){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,a.Z)(function*(E,g,v){E._canInitEmulator=!1;const C=Object.assign(Object.assign({},qe),g);try{const N=new Ui(E),z=yield Promise.race([v(),N.promise]);N.clearNetworkTimeout();const se=yield z.json();if("needConfirmation"in se)throw Bi(E,"account-exists-with-different-credential",se);if(z.ok&&!("errorMessage"in se))return se;{const be=z.ok?se.errorMessage:se.error.message,[lt,bt]=be.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===lt)throw Bi(E,"credential-already-in-use",se);if("EMAIL_EXISTS"===lt)throw Bi(E,"email-already-in-use",se);if("USER_DISABLED"===lt)throw Bi(E,"user-disabled",se);const Gt=C[lt]||lt.toLowerCase().replace(/[_\s]+/g,"-");if(bt)throw Je(E,Gt,bt);Ye(E,Gt)}}catch(N){if(N instanceof $.ZR)throw N;Ye(E,"network-request-failed",{message:String(N)})}})).apply(this,arguments)}function an(E,g,v,C){return li.apply(this,arguments)}function li(){return(li=(0,a.Z)(function*(E,g,v,C,N={}){const z=yield tt(E,g,v,C,N);return"mfaPendingCredential"in z&&Ye(E,"multi-factor-auth-required",{_serverResponse:z}),z})).apply(this,arguments)}function On(E,g,v,C){const N=`${g}${v}?${C}`;return E.config.emulator?Re(E.config,N):`${E.config.apiScheme}://${N}`}class Ui{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,C)=>{this.timer=setTimeout(()=>C(Ee(this.auth,"network-request-failed")),Ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bi(E,g,v){const C={appName:E.name};v.email&&(C.email=v.email),v.phoneNumber&&(C.phoneNumber=v.phoneNumber);const N=Ee(E,g,C);return N.customData._tokenResponse=v,N}function Si(){return(Si=(0,a.Z)(function*(E,g){return tt(E,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Os(){return(Os=(0,a.Z)(function*(E,g){return tt(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ns(){return(Ns=(0,a.Z)(function*(E,g){return tt(E,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ls(E){if(E)try{const g=new Date(Number(E));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function cn(){return(cn=(0,a.Z)(function*(E,g=!1){const v=(0,$.m9)(E),C=yield v.getIdToken(g),N=Tn(C);Ie(N&&N.exp&&N.auth_time&&N.iat,v.auth,"internal-error");const z="object"==typeof N.firebase?N.firebase:void 0,se=z?.sign_in_provider;return{claims:N,token:C,authTime:Ls($n(N.auth_time)),issuedAtTime:Ls($n(N.iat)),expirationTime:Ls($n(N.exp)),signInProvider:se||null,signInSecondFactor:z?.sign_in_second_factor||null}})).apply(this,arguments)}function $n(E){return 1e3*Number(E)}function Tn(E){const[g,v,C]=E.split(".");if(void 0===g||void 0===v||void 0===C)return Me("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,$.tV)(v);return N?JSON.parse(N):(Me("Failed to decode base64 JWT payload"),null)}catch(N){return Me("Caught error parsing JWT payload as JSON",N?.toString()),null}}function Xi(E,g){return ys.apply(this,arguments)}function ys(){return(ys=(0,a.Z)(function*(E,g,v=!1){if(v)return g;try{return yield g}catch(C){throw C instanceof $.ZR&&function xi({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(C)&&E.auth.currentUser===E&&(yield E.auth.signOut()),C}})).apply(this,arguments)}class Nr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const N=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const C=this.getInterval(g);this.timerId=setTimeout((0,a.Z)(function*(){yield v.iteration()}),C)}iteration(){var g=this;return(0,a.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&g.schedule(!0))}g.schedule()})()}}class Wc{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ls(this.lastLoginAt),this.creationTime=Ls(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function di(E){return xs.apply(this,arguments)}function xs(){return xs=(0,a.Z)(function*(E){var g;const v=E.auth,C=yield E.getIdToken(),N=yield Xi(E,function ya(E,g){return Ns.apply(this,arguments)}(v,{idToken:C}));Ie(N?.users.length,v,"internal-error");const z=N.users[0];E._notifyReloadListener(z);const se=null!==(g=z.providerUserInfo)&&void 0!==g&&g.length?function Ea(E){return E.map(g=>{var{providerId:v}=g,C=(0,Te._T)(g,["providerId"]);return{providerId:v,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(z.providerUserInfo):[],be=function wa(E,g){return[...E.filter(C=>!g.some(N=>N.providerId===C.providerId)),...g]}(E.providerData,se),Gt=!!E.isAnonymous&&!(E.email&&z.passwordHash||be?.length),$t={uid:z.localId,displayName:z.displayName||null,photoURL:z.photoUrl||null,email:z.email||null,emailVerified:z.emailVerified||!1,phoneNumber:z.phoneNumber||null,tenantId:z.tenantId||null,providerData:be,metadata:new Wc(z.createdAt,z.lastLoginAt),isAnonymous:Gt};Object.assign(E,$t)}),xs.apply(this,arguments)}function Po(){return(Po=(0,a.Z)(function*(E){const g=(0,$.m9)(E);yield di(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Ca(){return(Ca=(0,a.Z)(function*(E,g){const v=yield Ct(E,{},(0,a.Z)(function*(){const C=(0,$.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:N,apiKey:z}=E.config,se=On(E,N,"/v1/token",`key=${z}`),be=yield E._getAdditionalHeaders();return be["Content-Type"]="application/x-www-form-urlencoded",Ne.fetch()(se,{method:"POST",headers:be,body:C})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Ie(g.idToken,"internal-error"),Ie(typeof g.idToken<"u","internal-error"),Ie(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Di(E){const g=Tn(E);return Ie(g,"internal-error"),Ie(typeof g.exp<"u","internal-error"),Ie(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}getToken(g,v=!1){var C=this;return(0,a.Z)(function*(){return Ie(!C.accessToken||C.refreshToken,g,"user-token-expired"),v||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(g,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var C=this;return(0,a.Z)(function*(){const{accessToken:N,refreshToken:z,expiresIn:se}=yield function Xs(E,g){return Ca.apply(this,arguments)}(g,v);C.updateTokensAndExpiration(N,z,Number(se))})()}updateTokensAndExpiration(g,v,C){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(g,v){const{refreshToken:C,accessToken:N,expirationTime:z}=v,se=new yo;return C&&(Ie("string"==typeof C,"internal-error",{appName:g}),se.refreshToken=C),N&&(Ie("string"==typeof N,"internal-error",{appName:g}),se.accessToken=N),z&&(Ie("number"==typeof z,"internal-error",{appName:g}),se.expirationTime=z),se}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return hn("not implemented")}}function xr(E,g){Ie("string"==typeof E||typeof E>"u","internal-error",{appName:g})}class wr{constructor(g){var{uid:v,auth:C,stsTokenManager:N}=g,z=(0,Te._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=C,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=z.displayName||null,this.email=z.email||null,this.emailVerified=z.emailVerified||!1,this.phoneNumber=z.phoneNumber||null,this.photoURL=z.photoURL||null,this.isAnonymous=z.isAnonymous||!1,this.tenantId=z.tenantId||null,this.providerData=z.providerData?[...z.providerData]:[],this.metadata=new Wc(z.createdAt||void 0,z.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,a.Z)(function*(){const C=yield Xi(v,v.stsTokenManager.getToken(v.auth,g));return Ie(C,v.auth,"internal-error"),v.accessToken!==C&&(v.accessToken=C,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),C})()}getIdTokenResult(g){return function kl(E){return cn.apply(this,arguments)}(this,g)}reload(){return function Gn(E){return Po.apply(this,arguments)}(this)}_assign(g){this!==g&&(Ie(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const v=new wr(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(g){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var C=this;return(0,a.Z)(function*(){let N=!1;g.idToken&&g.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(g),N=!0),v&&(yield di(C)),yield C.auth._persistUserIfCurrent(C),N&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var g=this;return(0,a.Z)(function*(){const v=yield g.getIdToken();return yield Xi(g,function yr(E,g){return Si.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var C,N,z,se,be,lt,bt,Gt;const $t=null!==(C=v.displayName)&&void 0!==C?C:void 0,ji=null!==(N=v.email)&&void 0!==N?N:void 0,Ho=null!==(z=v.phoneNumber)&&void 0!==z?z:void 0,Su=null!==(se=v.photoURL)&&void 0!==se?se:void 0,fd=null!==(be=v.tenantId)&&void 0!==be?be:void 0,Mu=null!==(lt=v._redirectEventId)&&void 0!==lt?lt:void 0,Ag=null!==(bt=v.createdAt)&&void 0!==bt?bt:void 0,Om=null!==(Gt=v.lastLoginAt)&&void 0!==Gt?Gt:void 0,{uid:md,emailVerified:Zh,isAnonymous:Dg,providerData:Ig,stsTokenManager:kg}=v;Ie(md&&kg,g,"internal-error");const K0=yo.fromJSON(this.name,kg);Ie("string"==typeof md,g,"internal-error"),xr($t,g.name),xr(ji,g.name),Ie("boolean"==typeof Zh,g,"internal-error"),Ie("boolean"==typeof Dg,g,"internal-error"),xr(Ho,g.name),xr(Su,g.name),xr(fd,g.name),xr(Mu,g.name),xr(Ag,g.name),xr(Om,g.name);const Rg=new wr({uid:md,auth:g,email:ji,emailVerified:Zh,displayName:$t,isAnonymous:Dg,photoURL:Su,phoneNumber:Ho,tenantId:fd,stsTokenManager:K0,createdAt:Ag,lastLoginAt:Om});return Ig&&Array.isArray(Ig)&&(Rg.providerData=Ig.map(bb=>Object.assign({},bb))),Mu&&(Rg._redirectEventId=Mu),Rg}static _fromIdTokenResponse(g,v,C=!1){return(0,a.Z)(function*(){const N=new yo;N.updateFromServerResponse(v);const z=new wr({uid:v.localId,auth:g,stsTokenManager:N,isAnonymous:C});return yield di(z),z})()}}const ws=new Map;function cr(E){jn(E instanceof Function,"Expected a class definition");let g=ws.get(E);return g?(jn(g instanceof E,"Instance stored in cache mismatched with class"),g):(g=new E,ws.set(E,g),g)}const Qs=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(v,C){var N=this;return(0,a.Z)(function*(){N.storage[v]=C})()}_get(v){var C=this;return(0,a.Z)(function*(){const N=C.storage[v];return void 0===N?null:N})()}_remove(v){var C=this;return(0,a.Z)(function*(){delete C.storage[v]})()}_addListener(v,C){}_removeListener(v,C){}}return E.type="NONE",E})();function re(E,g,v){return`firebase:${E}:${g}:${v}`}class ie{constructor(g,v,C){this.persistence=g,this.auth=v,this.userKey=C;const{config:N,name:z}=this.auth;this.fullUserKey=re(this.userKey,N.apiKey,z),this.fullPersistenceKey=re("persistence",N.apiKey,z),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,a.Z)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?wr._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,a.Z)(function*(){if(v.persistence===g)return;const C=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,C?v.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,C="authUser"){return(0,a.Z)(function*(){if(!v.length)return new ie(cr(Qs),g,C);const N=(yield Promise.all(v.map(function(){var bt=(0,a.Z)(function*(Gt){if(yield Gt._isAvailable())return Gt});return function(Gt){return bt.apply(this,arguments)}}()))).filter(bt=>bt);let z=N[0]||cr(Qs);const se=re(C,g.config.apiKey,g.name);let be=null;for(const bt of v)try{const Gt=yield bt._get(se);if(Gt){const $t=wr._fromJSON(g,Gt);bt!==z&&(be=$t),z=bt;break}}catch{}const lt=N.filter(bt=>bt._shouldAllowMigration);return z._shouldAllowMigration&&lt.length?(z=lt[0],be&&(yield z._set(se,be.toJSON())),yield Promise.all(v.map(function(){var bt=(0,a.Z)(function*(Gt){if(Gt!==z)try{yield Gt._remove(se)}catch{}});return function(Gt){return bt.apply(this,arguments)}}())),new ie(z,g,C)):new ie(z,g,C)})()}}function ue(E){const g=E.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Cn(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Xe(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Er(g))return"Blackberry";if(Rn(g))return"Webos";if(Ae(g))return"Safari";if((g.includes("chrome/")||Ft(g))&&!g.includes("edge/"))return"Chrome";if(pn(g))return"Android";{const C=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function Xe(E=(0,$.z$)()){return/firefox\//i.test(E)}function Ae(E=(0,$.z$)()){const g=E.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Ft(E=(0,$.z$)()){return/crios\//i.test(E)}function Cn(E=(0,$.z$)()){return/iemobile/i.test(E)}function pn(E=(0,$.z$)()){return/android/i.test(E)}function Er(E=(0,$.z$)()){return/blackberry/i.test(E)}function Rn(E=(0,$.z$)()){return/webos/i.test(E)}function Qi(E=(0,$.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function ea(E=(0,$.z$)()){return Qi(E)||pn(E)||Rn(E)||Er(E)||/windows phone/i.test(E)||Cn(E)}function Pe(E,g=[]){let v;switch(E){case"Browser":v=ue((0,$.z$)());break;case"Worker":v=`${ue((0,$.z$)())}-${E}`;break;default:v=E}const C=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${we.SDK_VERSION}/${C}`}function ct(){return(ct=(0,a.Z)(function*(E){return(yield tt(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function jt(E,g){return It.apply(this,arguments)}function It(){return(It=(0,a.Z)(function*(E,g){return tt(E,"GET","/v2/recaptchaConfig",Ke(E,g))})).apply(this,arguments)}function Nn(E){return void 0!==E&&void 0!==E.getResponse}function ui(E){return void 0!==E&&void 0!==E.enterprise}class lr{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(v=>"EMAIL_PASSWORD_PROVIDER"===v.provider&&"OFF"!==v.enforcementState)}}function Lr(E){return new Promise((g,v)=>{const C=document.createElement("script");C.setAttribute("src",E),C.onload=g,C.onerror=N=>{const z=Ee("internal-error");z.customData=N,v(z)},C.type="text/javascript",C.charset="UTF-8",function dr(){var E,g;return null!==(g=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==g?g:document}().appendChild(C)})}function xo(E){return`__${E}${Math.floor(1e6*Math.random())}`}class ch{constructor(g){this.type="recaptcha-enterprise",this.auth=ur(g)}verify(g="verify",v=!1){var C=this;return(0,a.Z)(function*(){function z(){return z=(0,a.Z)(function*(be){if(!v){if(null==be.tenantId&&null!=be._agentRecaptchaConfig)return be._agentRecaptchaConfig.siteKey;if(null!=be.tenantId&&void 0!==be._tenantRecaptchaConfigs[be.tenantId])return be._tenantRecaptchaConfigs[be.tenantId].siteKey}return new Promise(function(){var lt=(0,a.Z)(function*(bt,Gt){jt(be,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then($t=>{if(void 0!==$t.recaptchaKey){const ji=new lr($t);return null==be.tenantId?be._agentRecaptchaConfig=ji:be._tenantRecaptchaConfigs[be.tenantId]=ji,bt(ji.siteKey)}Gt(new Error("recaptcha Enterprise site key undefined"))}).catch($t=>{Gt($t)})});return function(bt,Gt){return lt.apply(this,arguments)}}())}),z.apply(this,arguments)}function se(be,lt,bt){const Gt=window.grecaptcha;ui(Gt)?Gt.enterprise.ready(()=>{Gt.enterprise.execute(be,{action:g}).then($t=>{lt($t)}).catch(()=>{lt("NO_RECAPTCHA")})}):bt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((be,lt)=>{(function N(be){return z.apply(this,arguments)})(C.auth).then(bt=>{if(!v&&ui(window.grecaptcha))se(bt,be,lt);else{if(typeof window>"u")return void lt(new Error("RecaptchaVerifier is only supported in browser"));Lr("https://www.google.com/recaptcha/enterprise.js?render="+bt).then(()=>{se(bt,be,lt)}).catch(Gt=>{lt(Gt)})}}).catch(bt=>{lt(bt)})})})()}}function Js(E,g,v){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,a.Z)(function*(E,g,v,C=!1){const N=new ch(E);let z;try{z=yield N.verify(v)}catch{z=yield N.verify(v,!0)}const se=Object.assign({},g);return Object.assign(se,C?{captchaResp:z}:{captchaResponse:z}),Object.assign(se,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(se,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),se})).apply(this,arguments)}class $c{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const C=z=>new Promise((se,be)=>{try{se(g(z))}catch(lt){be(lt)}});C.onAbort=v,this.queue.push(C);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,a.Z)(function*(){if(v.auth.currentUser===g)return;const C=[];try{for(const N of v.queue)yield N(g),N.onAbort&&C.push(N.onAbort)}catch(N){C.reverse();for(const z of C)try{z()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:N?.message})}})()}}class lh{constructor(g,v,C,N){this.app=g,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=C,this.config=N,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qr(this),this.idTokenSubscription=new qr(this),this.beforeStateQueue=new $c(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Et,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=N.sdkClientVersion}_initializeWithPersistence(g,v){var C=this;return v&&(this._popupRedirectResolver=cr(v)),this._initializationPromise=this.queue((0,a.Z)(function*(){var N,z;if(!C._deleted&&(C.persistenceManager=yield ie.create(C,g),!C._deleted)){if(null!==(N=C._popupRedirectResolver)&&void 0!==N&&N._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(v),C.lastNotifiedUid=(null===(z=C.currentUser)||void 0===z?void 0:z.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,a.Z)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUser(g){var v=this;return(0,a.Z)(function*(){var C;const N=yield v.assertedPersistence.getCurrentUser();let z=N,se=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const be=null===(C=v.redirectUser)||void 0===C?void 0:C._redirectEventId,lt=z?._redirectEventId,bt=yield v.tryRedirectSignIn(g);(!be||be===lt)&&bt?.user&&(z=bt.user,se=!0)}if(!z)return v.directlySetCurrentUser(null);if(!z._redirectEventId){if(se)try{yield v.beforeStateQueue.runMiddleware(z)}catch(be){z=N,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(be))}return z?v.reloadAndSetCurrentUserOrClear(z):v.directlySetCurrentUser(null)}return Ie(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===z._redirectEventId?v.directlySetCurrentUser(z):v.reloadAndSetCurrentUserOrClear(z)})()}tryRedirectSignIn(g){var v=this;return(0,a.Z)(function*(){let C=null;try{C=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch{yield v._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,a.Z)(function*(){try{yield di(g)}catch(C){if("auth/network-request-failed"!==C?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ka(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var g=this;return(0,a.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,a.Z)(function*(){const C=g?(0,$.m9)(g):null;return C&&Ie(C.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(C&&C._clone(v))})()}_updateCurrentUser(g,v=!1){var C=this;return(0,a.Z)(function*(){if(!C._deleted)return g&&Ie(C.tenantId===g.tenantId,C,"tenant-id-mismatch"),v||(yield C.beforeStateQueue.runMiddleware(g)),C.queue((0,a.Z)(function*(){yield C.directlySetCurrentUser(g),C.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,a.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var v=this;return this.queue((0,a.Z)(function*(){yield v.assertedPersistence.setPersistence(cr(g))}))}initializeRecaptchaConfig(){var g=this;return(0,a.Z)(function*(){const v=yield jt(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new lr(v);null==g.tenantId?g._agentRecaptchaConfig=C:g._tenantRecaptchaConfigs[g.tenantId]=C,C.emailPasswordEnabled&&new ch(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new $.LL("auth","Firebase",g())}onAuthStateChanged(g,v,C){return this.registerStateListener(this.authStateSubscription,g,v,C)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,C){return this.registerStateListener(this.idTokenSubscription,g,v,C)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var C=this;return(0,a.Z)(function*(){const N=yield C.getOrInitRedirectPersistenceManager(v);return null===g?N.removeCurrentUser():N.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,a.Z)(function*(){if(!v.redirectPersistenceManager){const C=g&&cr(g)||v._popupRedirectResolver;Ie(C,v,"argument-error"),v.redirectPersistenceManager=yield ie.create(v,[cr(C._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,a.Z)(function*(){var C,N;return v._isInitialized&&(yield v.queue((0,a.Z)(function*(){}))),(null===(C=v._currentUser)||void 0===C?void 0:C._redirectEventId)===g?v._currentUser:(null===(N=v.redirectUser)||void 0===N?void 0:N._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,a.Z)(function*(){if(g===v.currentUser)return v.queue((0,a.Z)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,C,N){if(this._deleted)return()=>{};const z="function"==typeof v?v:v.next.bind(v),se=this._isInitialized?Promise.resolve():this._initializationPromise;return Ie(se,this,"internal-error"),se.then(()=>z(this.currentUser)),"function"==typeof v?g.addObserver(v,C,N):g.addObserver(v)}directlySetCurrentUser(g){var v=this;return(0,a.Z)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Pe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,a.Z)(function*(){var v;const C={"X-Client-Version":g.clientVersion};g.app.options.appId&&(C["X-Firebase-gmpid"]=g.app.options.appId);const N=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();N&&(C["X-Firebase-Client"]=N);const z=yield g._getAppCheckToken();return z&&(C["X-Firebase-AppCheck"]=z),C})()}_getAppCheckToken(){var g=this;return(0,a.Z)(function*(){var v;const C=yield null===(v=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return C?.error&&function rn(E,...g){ln.logLevel<=ye.in.WARN&&ln.warn(`Auth (${we.SDK_VERSION}): ${E}`,...g)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function ur(E){return(0,$.m9)(E)}class qr{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,$.ne)(v=>this.observer=v)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ma(E){const g=E.indexOf(":");return g<0?"":E.substr(0,g+1)}function dh(E){if(!E)return null;const g=Number(E);return isNaN(g)?null:g}class Ja{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return hn("not implemented")}_getIdTokenResponse(g){return hn("not implemented")}_linkToIdToken(g,v){return hn("not implemented")}_getReauthenticationResolver(g){return hn("not implemented")}}function zf(E,g){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,a.Z)(function*(E,g){return tt(E,"POST","/v1/accounts:resetPassword",Ke(E,g))})).apply(this,arguments)}function Ol(E,g){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,a.Z)(function*(E,g){return tt(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function jd(){return(jd=(0,a.Z)(function*(E,g){return tt(E,"POST","/v1/accounts:update",Ke(E,g))})).apply(this,arguments)}function Zr(E,g){return uh.apply(this,arguments)}function uh(){return(uh=(0,a.Z)(function*(E,g){return an(E,"POST","/v1/accounts:signInWithPassword",Ke(E,g))})).apply(this,arguments)}function $d(E,g){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,a.Z)(function*(E,g){return tt(E,"POST","/v1/accounts:sendOobCode",Ke(E,g))})).apply(this,arguments)}function Yd(){return(Yd=(0,a.Z)(function*(E,g){return $d(E,g)})).apply(this,arguments)}function qc(E,g){return hh.apply(this,arguments)}function hh(){return(hh=(0,a.Z)(function*(E,g){return $d(E,g)})).apply(this,arguments)}function ni(E,g){return ir.apply(this,arguments)}function ir(){return(ir=(0,a.Z)(function*(E,g){return $d(E,g)})).apply(this,arguments)}function Ta(){return(Ta=(0,a.Z)(function*(E,g){return $d(E,g)})).apply(this,arguments)}function fh(){return(fh=(0,a.Z)(function*(E,g){return an(E,"POST","/v1/accounts:signInWithEmailLink",Ke(E,g))})).apply(this,arguments)}function Ll(){return(Ll=(0,a.Z)(function*(E,g){return an(E,"POST","/v1/accounts:signInWithEmailLink",Ke(E,g))})).apply(this,arguments)}class qd extends Ja{constructor(g,v,C,N=null){super("password",C),this._email=g,this._password=v,this._tenantId=N}static _fromEmailAndPassword(g,v){return new qd(g,v,"password")}static _fromEmailAndCode(g,v,C=null){return new qd(g,v,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,a.Z)(function*(){var C;switch(v.signInMethod){case"password":const N={returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=g._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const z=yield Js(g,N,"signInWithPassword");return Zr(g,z)}return Zr(g,N).catch(function(){var z=(0,a.Z)(function*(se){if("auth/missing-recaptcha-token"===se.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const be=yield Js(g,N,"signInWithPassword");return Zr(g,be)}return Promise.reject(se)});return function(se){return z.apply(this,arguments)}}());case"emailLink":return function fs(E,g){return fh.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:Ye(g,"internal-error")}})()}_linkToIdToken(g,v){var C=this;return(0,a.Z)(function*(){switch(C.signInMethod){case"password":return Ol(g,{idToken:v,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function jp(E,g){return Ll.apply(this,arguments)}(g,{idToken:v,email:C._email,oobCode:C._password});default:Ye(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function to(E,g){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,a.Z)(function*(E,g){return an(E,"POST","/v1/accounts:signInWithIdp",Ke(E,g))})).apply(this,arguments)}class mn extends Ja{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new mn(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):Ye("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:N}=v,z=(0,Te._T)(v,["providerId","signInMethod"]);if(!C||!N)return null;const se=new mn(C,N);return se.idToken=z.idToken||void 0,se.accessToken=z.accessToken||void 0,se.secret=z.secret,se.nonce=z.nonce,se.pendingToken=z.pendingToken||null,se}_getIdTokenResponse(g){return to(g,this.buildRequest())}_linkToIdToken(g,v){const C=this.buildRequest();return C.idToken=v,to(g,C)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,to(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,$.xO)(v)}return g}}function ms(){return(ms=(0,a.Z)(function*(E,g){return tt(E,"POST","/v1/accounts:sendVerificationCode",Ke(E,g))})).apply(this,arguments)}function Fr(){return(Fr=(0,a.Z)(function*(E,g){return an(E,"POST","/v1/accounts:signInWithPhoneNumber",Ke(E,g))})).apply(this,arguments)}function ai(){return(ai=(0,a.Z)(function*(E,g){const v=yield an(E,"POST","/v1/accounts:signInWithPhoneNumber",Ke(E,g));if(v.temporaryProof)throw Bi(E,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const ta={USER_NOT_FOUND:"user-not-found"};function vn(){return(vn=(0,a.Z)(function*(E,g){return an(E,"POST","/v1/accounts:signInWithPhoneNumber",Ke(E,Object.assign(Object.assign({},g),{operation:"REAUTH"})),ta)})).apply(this,arguments)}class Ur extends Ja{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new Ur({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new Ur({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function ec(E,g){return Fr.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function Fl(E,g){return ai.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Zc(E,g){return vn.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:C,verificationCode:N}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:C,code:N}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:C,phoneNumber:N,temporaryProof:z}=g;return C||v||N||z?new Ur({verificationId:v,verificationCode:C,phoneNumber:N,temporaryProof:z}):null}}class Hi{constructor(g){var v,C,N,z,se,be;const lt=(0,$.zd)((0,$.pd)(g)),bt=null!==(v=lt.apiKey)&&void 0!==v?v:null,Gt=null!==(C=lt.oobCode)&&void 0!==C?C:null,$t=function Wf(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=lt.mode)&&void 0!==N?N:null);Ie(bt&&Gt&&$t,"argument-error"),this.apiKey=bt,this.operation=$t,this.code=Gt,this.continueUrl=null!==(z=lt.continueUrl)&&void 0!==z?z:null,this.languageCode=null!==(se=lt.languageCode)&&void 0!==se?se:null,this.tenantId=null!==(be=lt.tenantId)&&void 0!==be?be:null}static parseLink(g){const v=function Aa(E){const g=(0,$.zd)((0,$.pd)(E)).link,v=g?(0,$.zd)((0,$.pd)(g)).deep_link_id:null,C=(0,$.zd)((0,$.pd)(E)).deep_link_id;return(C?(0,$.zd)((0,$.pd)(C)).link:null)||C||v||g||E}(g);try{return new Hi(v)}catch{return null}}}let tc=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(v,C){return qd._fromEmailAndPassword(v,C)}static credentialWithLink(v,C){const N=Hi.parseLink(C);return Ie(N,"argument-error"),qd._fromEmailAndCode(v,N.code,N.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Cr{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class na extends Cr{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class ia extends na{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return Ie("providerId"in v&&"signInMethod"in v,"argument-error"),mn._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Ie(g.idToken||g.accessToken,"argument-error"),mn._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return ia.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return ia.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:C,oauthTokenSecret:N,pendingToken:z,nonce:se,providerId:be}=g;if(!C&&!N&&!v&&!z||!be)return null;try{return new ia(be)._credential({idToken:v,accessToken:C,nonce:se,pendingToken:z})}catch{return null}}}let Da=(()=>{class E extends na{constructor(){super("facebook.com")}static credential(v){return mn._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),Fs=(()=>{class E extends na{constructor(){super("google.com"),this.addScope("profile")}static credential(v,C){return mn._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:C})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:C,oauthAccessToken:N}=v;if(!C&&!N)return null;try{return E.credential(C,N)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),Ul=(()=>{class E extends na{constructor(){super("github.com")}static credential(v){return mn._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Un extends Ja{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return to(g,this.buildRequest())}_linkToIdToken(g,v){const C=this.buildRequest();return C.idToken=v,to(g,C)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,to(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:N,pendingToken:z}=v;return C&&N&&z&&C===N?new Un(C,z):null}static _create(g,v){return new Un(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Xc extends Cr{constructor(g){Ie(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Xc.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Xc.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=Un.fromJSON(g);return Ie(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:C}=g;if(!v||!C)return null;try{return Un._create(C,v)}catch{return null}}}let Zd=(()=>{class E extends na{constructor(){super("twitter.com")}static credential(v,C){return mn._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:C})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:C,oauthTokenSecret:N}=v;if(!C||!N)return null;try{return E.credential(C,N)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function Sr(E,g){return nc.apply(this,arguments)}function nc(){return(nc=(0,a.Z)(function*(E,g){return an(E,"POST","/v1/accounts:signUp",Ke(E,g))})).apply(this,arguments)}class Mr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,C,N=!1){return(0,a.Z)(function*(){const z=yield wr._fromIdTokenResponse(g,C,N),se=ka(C);return new Mr({user:z,providerId:se,_tokenResponse:C,operationType:v})})()}static _forOperation(g,v,C){return(0,a.Z)(function*(){yield g._updateTokensIfNecessary(C,!0);const N=ka(C);return new Mr({user:g,providerId:N,_tokenResponse:C,operationType:v})})()}}function ka(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function $p(){return($p=(0,a.Z)(function*(E){var g;const v=ur(E);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new Mr({user:v.currentUser,providerId:null,operationType:"signIn"});const C=yield Sr(v,{returnSecureToken:!0}),N=yield Mr._fromIdTokenResponse(v,"signIn",C,!0);return yield v._updateCurrentUser(N.user),N})).apply(this,arguments)}class Tr extends $.ZR{constructor(g,v,C,N){var z;super(v.code,v.message),this.operationType=C,this.user=N,Object.setPrototypeOf(this,Tr.prototype),this.customData={appName:g.name,tenantId:null!==(z=g.tenantId)&&void 0!==z?z:void 0,_serverResponse:v.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(g,v,C,N){return new Tr(g,v,C,N)}}function Xr(E,g,v,C){return("reauthenticate"===g?v._getReauthenticationResolver(E):v._getIdTokenResponse(E)).catch(z=>{throw"auth/multi-factor-auth-required"===z.code?Tr._fromErrorAndOperation(E,z,g,C):z})}function Xd(E){return new Set(E.map(({providerId:g})=>g).filter(g=>!!g))}function Us(){return Us=(0,a.Z)(function*(E,g){const v=(0,$.m9)(E);yield Qc(!0,v,g);const{providerUserInfo:C}=yield function Yr(E,g){return Os.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),N=Xd(C||[]);return v.providerData=v.providerData.filter(z=>N.has(z.providerId)),N.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),Us.apply(this,arguments)}function Cs(E,g){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,a.Z)(function*(E,g,v=!1){const C=yield Xi(E,g._linkToIdToken(E.auth,yield E.getIdToken()),v);return Mr._forOperation(E,"link",C)})).apply(this,arguments)}function Qc(E,g,v){return ph.apply(this,arguments)}function ph(){return(ph=(0,a.Z)(function*(E,g,v){yield di(g);const N=!1===E?"provider-already-linked":"no-such-provider";Ie(Xd(g.providerData).has(v)===E,g.auth,N)})).apply(this,arguments)}function Hv(E,g){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,a.Z)(function*(E,g,v=!1){const{auth:C}=E,N="reauthenticate";try{const z=yield Xi(E,Xr(C,N,g,E),v);Ie(z.idToken,C,"internal-error");const se=Tn(z.idToken);Ie(se,C,"internal-error");const{sub:be}=se;return Ie(E.uid===be,C,"user-mismatch"),Mr._forOperation(E,N,z)}catch(z){throw"auth/user-not-found"===z?.code&&Ye(C,"user-mismatch"),z}})).apply(this,arguments)}function gh(E,g){return jf.apply(this,arguments)}function jf(){return(jf=(0,a.Z)(function*(E,g,v=!1){const C="signIn",N=yield Xr(E,C,g),z=yield Mr._fromIdTokenResponse(E,C,N);return v||(yield E._updateCurrentUser(z.user)),z})).apply(this,arguments)}function _h(E,g){return $f.apply(this,arguments)}function $f(){return($f=(0,a.Z)(function*(E,g){return gh(ur(E),g)})).apply(this,arguments)}function Gv(E,g){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,a.Z)(function*(E,g){const v=(0,$.m9)(E);return yield Qc(!1,v,g.providerId),Cs(v,g)})).apply(this,arguments)}function Wv(E,g){return Yp.apply(this,arguments)}function Yp(){return(Yp=(0,a.Z)(function*(E,g){return Hv((0,$.m9)(E),g)})).apply(this,arguments)}function qp(){return(qp=(0,a.Z)(function*(E,g){return an(E,"POST","/v1/accounts:signInWithCustomToken",Ke(E,g))})).apply(this,arguments)}function ra(){return ra=(0,a.Z)(function*(E,g){const v=ur(E),C=yield function z0(E,g){return qp.apply(this,arguments)}(v,{token:g,returnSecureToken:!0}),N=yield Mr._fromIdTokenResponse(v,"signIn",C);return yield v._updateCurrentUser(N.user),N}),ra.apply(this,arguments)}class vh{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?Jc._fromServerResponse(g,v):"totpInfo"in v?bh._fromServerResponse(g,v):Ye(g,"internal-error")}}class Jc extends vh{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new Jc(v)}}class bh extends vh{constructor(g){super("totp",g)}static _fromServerResponse(g,v){return new bh(v)}}function Bl(E,g,v){var C;Ie((null===(C=v.url)||void 0===C?void 0:C.length)>0,E,"invalid-continue-uri"),Ie(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Ie(v.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(Ie(v.android.packageName.length>0,E,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function Vl(){return Vl=(0,a.Z)(function*(E,g,v){var C;const N=ur(E),z={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=N._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const se=yield Js(N,z,"getOobCode",!0);v&&Bl(N,se,v),yield qc(N,se)}else v&&Bl(N,z,v),yield qc(N,z).catch(function(){var se=(0,a.Z)(function*(be){if("auth/missing-recaptcha-token"!==be.code)return Promise.reject(be);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const lt=yield Js(N,z,"getOobCode",!0);v&&Bl(N,lt,v),yield qc(N,lt)}});return function(be){return se.apply(this,arguments)}}())}),Vl.apply(this,arguments)}function No(){return(No=(0,a.Z)(function*(E,g,v){yield zf((0,$.m9)(E),{oobCode:g,newPassword:v})})).apply(this,arguments)}function no(){return no=(0,a.Z)(function*(E,g){yield function eo(E,g){return jd.apply(this,arguments)}((0,$.m9)(E),{oobCode:g})}),no.apply(this,arguments)}function _r(E,g){return sc.apply(this,arguments)}function sc(){return(sc=(0,a.Z)(function*(E,g){const v=(0,$.m9)(E),C=yield zf(v,{oobCode:g}),N=C.requestType;switch(Ie(N,v,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(C.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(C.mfaInfo,v,"internal-error");default:Ie(C.email,v,"internal-error")}let z=null;return C.mfaInfo&&(z=vh._fromServerResponse(ur(v),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:z},operation:N}})).apply(this,arguments)}function oc(){return(oc=(0,a.Z)(function*(E,g){const{data:v}=yield _r((0,$.m9)(E),g);return v.email})).apply(this,arguments)}function zl(){return zl=(0,a.Z)(function*(E,g,v){var C;const N=ur(E),z={returnSecureToken:!0,email:g,password:v,clientType:"CLIENT_TYPE_WEB"};let se;if(null!==(C=N._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const bt=yield Js(N,z,"signUpPassword");se=Sr(N,bt)}else se=Sr(N,z).catch(function(){var bt=(0,a.Z)(function*(Gt){if("auth/missing-recaptcha-token"===Gt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const $t=yield Js(N,z,"signUpPassword");return Sr(N,$t)}return Promise.reject(Gt)});return function(Gt){return bt.apply(this,arguments)}}());const be=yield se.catch(bt=>Promise.reject(bt)),lt=yield Mr._fromIdTokenResponse(N,"signIn",be);return yield N._updateCurrentUser(lt.user),lt}),zl.apply(this,arguments)}function Hl(){return Hl=(0,a.Z)(function*(E,g,v){var C;const N=ur(E),z={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function se(be,lt){Ie(lt.handleCodeInApp,N,"argument-error"),lt&&Bl(N,be,lt)}if(null!==(C=N._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const be=yield Js(N,z,"getOobCode",!0);se(be,v),yield ni(N,be)}else se(z,v),yield ni(N,z).catch(function(){var be=(0,a.Z)(function*(lt){if("auth/missing-recaptcha-token"!==lt.code)return Promise.reject(lt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const bt=yield Js(N,z,"getOobCode",!0);se(bt,v),yield ni(N,bt)}});return function(lt){return be.apply(this,arguments)}}())}),Hl.apply(this,arguments)}function xh(){return(xh=(0,a.Z)(function*(E,g,v){const C=(0,$.m9)(E),N=tc.credentialWithLink(g,v||Or());return Ie(N._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),_h(C,N)})).apply(this,arguments)}function Eh(){return(Eh=(0,a.Z)(function*(E,g){return tt(E,"POST","/v1/accounts:createAuthUri",Ke(E,g))})).apply(this,arguments)}function ac(){return ac=(0,a.Z)(function*(E,g){const C={identifier:g,continueUri:bs()?Or():"http://localhost"},{signinMethods:N}=yield function wh(E,g){return Eh.apply(this,arguments)}((0,$.m9)(E),C);return N||[]}),ac.apply(this,arguments)}function Wl(){return Wl=(0,a.Z)(function*(E,g){const v=(0,$.m9)(E),N={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};g&&Bl(v.auth,N,g);const{email:z}=yield function Gf(E,g){return Yd.apply(this,arguments)}(v.auth,N);z!==E.email&&(yield E.reload())}),Wl.apply(this,arguments)}function Qd(){return Qd=(0,a.Z)(function*(E,g,v){const C=(0,$.m9)(E),z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:g};v&&Bl(C.auth,z,v);const{email:se}=yield function hs(E,g){return Ta.apply(this,arguments)}(C.auth,z);se!==E.email&&(yield E.reload())}),Qd.apply(this,arguments)}function Qf(){return(Qf=(0,a.Z)(function*(E,g){return tt(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ch(){return Ch=(0,a.Z)(function*(E,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const C=(0,$.m9)(E),z={idToken:yield C.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},se=yield Xi(C,function jv(E,g){return Qf.apply(this,arguments)}(C.auth,z));C.displayName=se.displayName||null,C.photoURL=se.photoUrl||null;const be=C.providerData.find(({providerId:lt})=>"password"===lt);be&&(be.displayName=C.displayName,be.photoURL=C.photoURL),yield C._updateTokensIfNecessary(se)}),Ch.apply(this,arguments)}function Zp(E,g,v){return tl.apply(this,arguments)}function tl(){return(tl=(0,a.Z)(function*(E,g,v){const{auth:C}=E,z={idToken:yield E.getIdToken(),returnSecureToken:!0};g&&(z.email=g),v&&(z.password=v);const se=yield Xi(E,Ol(C,z));yield E._updateTokensIfNecessary(se,!0)})).apply(this,arguments)}class nl{constructor(g,v,C={}){this.isNewUser=g,this.providerId=v,this.profile=C}}class jl extends nl{constructor(g,v,C,N){super(g,v,C),this.username=N}}class Sh extends nl{constructor(g,v){super(g,"facebook.com",v)}}class em extends jl{constructor(g,v){super(g,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class eu extends nl{constructor(g,v){super(g,"google.com",v)}}class $l extends jl{constructor(g,v,C){super(g,"twitter.com",v,C)}}function Xp(E){const{user:g,_tokenResponse:v}=E;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Yv(E){var g,v;if(!E)return null;const{providerId:C}=E,N=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},z=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!C&&E?.idToken){const se=null===(v=null===(g=Tn(E.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(se)return new nl(z,"anonymous"!==se&&"custom"!==se?se:null)}if(!C)return null;switch(C){case"facebook.com":return new Sh(z,N);case"github.com":return new em(z,N);case"google.com":return new eu(z,N);case"twitter.com":return new $l(z,N,E.screenName||null);case"custom":case"anonymous":return new nl(z,null);default:return new nl(z,C,N)}}(v)}class Lo{constructor(g,v,C){this.type=g,this.credential=v,this.auth=C}static _fromIdtoken(g,v){return new Lo("enroll",g,v)}static _fromMfaPendingCredential(g){return new Lo("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,C;if(g?.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Lo._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(C=g.multiFactorSession)&&void 0!==C&&C.idToken)return Lo._fromIdtoken(g.multiFactorSession.idToken)}return null}}class lc{constructor(g,v,C){this.session=g,this.hints=v,this.signInResolver=C}static _fromError(g,v){const C=ur(g),N=v.customData._serverResponse,z=(N.mfaInfo||[]).map(be=>vh._fromServerResponse(C,be));Ie(N.mfaPendingCredential,C,"internal-error");const se=Lo._fromMfaPendingCredential(N.mfaPendingCredential);return new lc(se,z,function(){var be=(0,a.Z)(function*(lt){const bt=yield lt._process(C,se);delete N.mfaInfo,delete N.mfaPendingCredential;const Gt=Object.assign(Object.assign({},N),{idToken:bt.idToken,refreshToken:bt.refreshToken});switch(v.operationType){case"signIn":const $t=yield Mr._fromIdTokenResponse(C,v.operationType,Gt);return yield C._updateCurrentUser($t.user),$t;case"reauthenticate":return Ie(v.user,C,"internal-error"),Mr._forOperation(v.user,v.operationType,Gt);default:Ye(C,"internal-error")}});return function(lt){return be.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,a.Z)(function*(){return v.signInResolver(g)})()}}class vi{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(C=>vh._fromServerResponse(g.auth,C)))})}static _fromUser(g){return new vi(g)}getSession(){var g=this;return(0,a.Z)(function*(){return Lo._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,v){var C=this;return(0,a.Z)(function*(){const N=g,z=yield C.getSession(),se=yield Xi(C.user,N._process(C.user.auth,z,v));return yield C.user._updateTokensIfNecessary(se),C.user.reload()})()}unenroll(g){var v=this;return(0,a.Z)(function*(){const C="string"==typeof g?g:g.uid,N=yield v.user.getIdToken();try{const z=yield Xi(v.user,function im(E,g){return tt(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Ke(E,g))}(v.user.auth,{idToken:N,mfaEnrollmentId:C}));v.enrolledFactors=v.enrolledFactors.filter(({uid:se})=>se!==C),yield v.user._updateTokensIfNecessary(z),yield v.user.reload()}catch(z){throw z}})()}}const Pa=new WeakMap,Vr="__sak";class tg{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Vr,"1"),this.storage.removeItem(Vr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const il=(()=>{class E extends tg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,C)=>this.onStorageEvent(v,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dh(){const E=(0,$.z$)();return Ae(E)||Qi(E)}()&&function Rl(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ea(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const C of Object.keys(this.listeners)){const N=this.storage.getItem(C),z=this.localCache[C];N!==z&&v(C,z,N)}}onStorageEvent(v,C=!1){if(!v.key)return void this.forAllChangedKeys((be,lt,bt)=>{this.notifyListeners(be,bt)});const N=v.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const be=this.storage.getItem(N);if(v.newValue!==be)null!==v.newValue?this.storage.setItem(N,v.newValue):this.storage.removeItem(N);else if(this.localCache[N]===v.newValue&&!C)return}const z=()=>{const be=this.storage.getItem(N);!C&&this.localCache[N]===be||this.notifyListeners(N,be)},se=this.storage.getItem(N);!function Oo(){return(0,$.w1)()&&10===document.documentMode}()||se===v.newValue||v.newValue===v.oldValue?z():setTimeout(z,10)}notifyListeners(v,C){this.localCache[v]=C;const N=this.listeners[v];if(N)for(const z of Array.from(N))z(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,C,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:C,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,C){var N=()=>super._set,z=this;return(0,a.Z)(function*(){yield N().call(z,v,C),z.localCache[v]=JSON.stringify(C)})()}_get(v){var C=()=>super._get,N=this;return(0,a.Z)(function*(){const z=yield C().call(N,v);return N.localCache[v]=JSON.stringify(z),z})()}_remove(v){var C=()=>super._remove,N=this;return(0,a.Z)(function*(){yield C().call(N,v),delete N.localCache[v]})()}}return E.type="LOCAL",E})(),Ms=(()=>{class E extends tg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,C){}_removeListener(v,C){}}return E.type="SESSION",E})();let Ih=(()=>{class E{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const C=this.receivers.find(z=>z.isListeningto(v));if(C)return C;const N=new E(v);return this.receivers.push(N),N}isListeningto(v){return this.eventTarget===v}handleEvent(v){var C=this;return(0,a.Z)(function*(){const N=v,{eventId:z,eventType:se,data:be}=N.data,lt=C.handlersMap[se];if(!lt?.size)return;N.ports[0].postMessage({status:"ack",eventId:z,eventType:se});const bt=Array.from(lt).map(function(){var $t=(0,a.Z)(function*(ji){return ji(N.origin,be)});return function(ji){return $t.apply(this,arguments)}}()),Gt=yield function rg(E){return Promise.all(E.map(function(){var g=(0,a.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(C){return{fulfilled:!1,reason:C}}});return function(v){return g.apply(this,arguments)}}()))}(bt);N.ports[0].postMessage({status:"done",eventId:z,eventType:se,response:Gt})})()}_subscribe(v,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(C)}_unsubscribe(v,C){this.handlersMap[v]&&C&&this.handlersMap[v].delete(C),(!C||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function nu(E="",g=10){let v="";for(let C=0;C<g;C++)v+=Math.floor(10*Math.random());return E+v}class Zv{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,C=50){var N=this;return(0,a.Z)(function*(){const z=typeof MessageChannel<"u"?new MessageChannel:null;if(!z)throw new Error("connection_unavailable");let se,be;return new Promise((lt,bt)=>{const Gt=nu("",20);z.port1.start();const $t=setTimeout(()=>{bt(new Error("unsupported_event"))},C);be={messageChannel:z,onMessage(ji){const Ho=ji;if(Ho.data.eventId===Gt)switch(Ho.data.status){case"ack":clearTimeout($t),se=setTimeout(()=>{bt(new Error("timeout"))},3e3);break;case"done":clearTimeout(se),lt(Ho.data.response);break;default:clearTimeout($t),clearTimeout(se),bt(new Error("invalid_response"))}}},N.handlers.add(be),z.port1.addEventListener("message",be.onMessage),N.target.postMessage({eventType:g,eventId:Gt,data:v},[z.port2])}).finally(()=>{be&&N.removeMessageHandler(be)})})()}}function Oi(){return window}function bn(){return typeof Oi().WorkerGlobalScope<"u"&&"function"==typeof Oi().importScripts}function sm(){return(sm=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const om="firebaseLocalStorageDb",Fo="firebaseLocalStorage",ru="fbase_key";class su{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function ou(E,g){return E.transaction([Fo],g?"readwrite":"readonly").objectStore(Fo)}function kh(){const E=indexedDB.open(om,1);return new Promise((g,v)=>{E.addEventListener("error",()=>{v(E.error)}),E.addEventListener("upgradeneeded",()=>{const C=E.result;try{C.createObjectStore(Fo,{keyPath:ru})}catch(N){v(N)}}),E.addEventListener("success",(0,a.Z)(function*(){const C=E.result;C.objectStoreNames.contains(Fo)?g(C):(C.close(),yield function Kv(){const E=indexedDB.deleteDatabase(om);return new su(E).toPromise()}(),g(yield kh()))}))})}function et(E,g,v){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,a.Z)(function*(E,g,v){const C=ou(E,!0).put({[ru]:g,value:v});return new su(C).toPromise()})).apply(this,arguments)}function au(){return(au=(0,a.Z)(function*(E,g){const v=ou(E,!1).get(g),C=yield new su(v).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Ir(E,g){const v=ou(E,!0).delete(g);return new su(v).toPromise()}const hc=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,a.Z)(function*(){return v.db||(v.db=yield kh()),v.db})()}_withRetries(v){var C=this;return(0,a.Z)(function*(){let N=0;for(;;)try{const z=yield C._openDb();return yield v(z)}catch(z){if(N++>3)throw z;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,a.Z)(function*(){return bn()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,a.Z)(function*(){v.receiver=Ih._getInstance(function Dr(){return bn()?self:null}()),v.receiver._subscribe("keyChanged",function(){var C=(0,a.Z)(function*(N,z){return{keyProcessed:(yield v._poll()).includes(z.key)}});return function(N,z){return C.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var C=(0,a.Z)(function*(N,z){return["keyChanged"]});return function(N,z){return C.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,a.Z)(function*(){var C,N;if(v.activeServiceWorker=yield function rm(){return sm.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Zv(v.activeServiceWorker);const z=yield v.sender._send("ping",{},800);z&&null!==(C=z[0])&&void 0!==C&&C.fulfilled&&null!==(N=z[0])&&void 0!==N&&N.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var C=this;return(0,a.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function iu(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:v},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const v=yield kh();return yield et(v,Vr,"1"),yield Ir(v,Vr),!0}catch{}return!1})()}_withPendingWrite(v){var C=this;return(0,a.Z)(function*(){C.pendingWrites++;try{yield v()}finally{C.pendingWrites--}})()}_set(v,C){var N=this;return(0,a.Z)(function*(){return N._withPendingWrite((0,a.Z)(function*(){return yield N._withRetries(z=>et(z,v,C)),N.localCache[v]=C,N.notifyServiceWorker(v)}))})()}_get(v){var C=this;return(0,a.Z)(function*(){const N=yield C._withRetries(z=>function Eo(E,g){return au.apply(this,arguments)}(z,v));return C.localCache[v]=N,N})()}_remove(v){var C=this;return(0,a.Z)(function*(){return C._withPendingWrite((0,a.Z)(function*(){return yield C._withRetries(N=>Ir(N,v)),delete C.localCache[v],C.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,a.Z)(function*(){const C=yield v._withRetries(se=>{const be=ou(se,!1).getAll();return new su(be).toPromise()});if(!C)return[];if(0!==v.pendingWrites)return[];const N=[],z=new Set;for(const{fbase_key:se,value:be}of C)z.add(se),JSON.stringify(v.localCache[se])!==JSON.stringify(be)&&(v.notifyListeners(se,be),N.push(se));for(const se of Object.keys(v.localCache))v.localCache[se]&&!z.has(se)&&(v.notifyListeners(se,null),N.push(se));return N})()}notifyListeners(v,C){this.localCache[v]=C;const N=this.listeners[v];if(N)for(const z of Array.from(N))z(C)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})(),Bs=1e12;class am{constructor(g){this.auth=g,this.counter=Bs,this._widgets=new Map}render(g,v){const C=this.counter;return this._widgets.set(C,new fc(g,this.auth.name,v||{})),this.counter++,C}reset(g){var v;const C=g||Bs;null===(v=this._widgets.get(C))||void 0===v||v.delete(),this._widgets.delete(C)}getResponse(g){var v;return(null===(v=this._widgets.get(g||Bs))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,a.Z)(function*(){var C;return null===(C=v._widgets.get(g||Bs))||void 0===C||C.execute(),""})()}}class fc{constructor(g,v,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof g?document.getElementById(g):g;Ie(N,"argument-error",{appName:v}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function io(E){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<E;C++)g.push(v.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Oh=xo("rcb"),Nh=new ba(3e4,6e4);class Qv{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Oi().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return Ie(function du(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(v),g,"argument-error"),this.shouldResolveImmediately(v)&&Nn(Oi().grecaptcha)?Promise.resolve(Oi().grecaptcha):new Promise((C,N)=>{const z=Oi().setTimeout(()=>{N(Ee(g,"network-request-failed"))},Nh.get());Oi()[Oh]=()=>{Oi().clearTimeout(z),delete Oi()[Oh];const be=Oi().grecaptcha;if(!be||!Nn(be))return void N(Ee(g,"internal-error"));const lt=be.render;be.render=(bt,Gt)=>{const $t=lt(bt,Gt);return this.counter++,$t},this.hostLanguage=v,C(be)},Lr(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:Oh,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(z),N(Ee(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=Oi().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class cm{load(g){return(0,a.Z)(function*(){return new am(g)})()}clearedOneInstance(){}}const uu="recaptcha",lm={theme:"light",type:"image"};class dm{constructor(g,v=Object.assign({},lm),C){this.parameters=v,this.type=uu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ur(C),this.isInvisible="invisible"===this.parameters.size,Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof g?document.getElementById(g):g;Ie(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cm:new Qv,this.validateStartingState()}verify(){var g=this;return(0,a.Z)(function*(){g.assertNotDestroyed();const v=yield g.render(),C=g.getAssertedRecaptcha();return C.getResponse(v)||new Promise(z=>{const se=be=>{be&&(g.tokenChangeListeners.delete(se),z(be))};g.tokenChangeListeners.add(se),g.isInvisible&&C.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(C=>C(v)),"function"==typeof g)g(v);else if("string"==typeof g){const C=Oi()[g];"function"==typeof C&&C(v)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,a.Z)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const C=document.createElement("div");v.appendChild(C),v=C}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,a.Z)(function*(){Ie(bs()&&!bn(),g.auth,"internal-error"),yield function og(){let E=null;return new Promise(g=>{"complete"!==document.readyState?(E=()=>g(),window.addEventListener("load",E)):g()}).catch(g=>{throw E&&window.removeEventListener("load",E),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function Se(E){return ct.apply(this,arguments)}(g.auth);Ie(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Na{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=Ur._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function As(){return(As=(0,a.Z)(function*(E,g,v){const C=ur(E),N=yield Sn(C,g,(0,$.m9)(v));return new Na(N,z=>_h(C,z))})).apply(this,arguments)}function Mi(){return(Mi=(0,a.Z)(function*(E,g,v){const C=(0,$.m9)(E);yield Qc(!1,C,"phone");const N=yield Sn(C.auth,g,(0,$.m9)(v));return new Na(N,z=>Gv(C,z))})).apply(this,arguments)}function Zl(){return(Zl=(0,a.Z)(function*(E,g,v){const C=(0,$.m9)(E),N=yield Sn(C.auth,g,(0,$.m9)(v));return new Na(N,z=>Wv(C,z))})).apply(this,arguments)}function Sn(E,g,v){return Hn.apply(this,arguments)}function Hn(){return Hn=(0,a.Z)(function*(E,g,v){var C;const N=yield v.verify();try{let z;if(Ie("string"==typeof N,E,"argument-error"),Ie(v.type===uu,E,"argument-error"),z="string"==typeof g?{phoneNumber:g}:g,"session"in z){const se=z.session;if("phoneNumber"in z)return Ie("enroll"===se.type,E,"internal-error"),(yield function ql(E,g){return tt(E,"POST","/v2/accounts/mfaEnrollment:start",Ke(E,g))}(E,{idToken:se.credential,phoneEnrollmentInfo:{phoneNumber:z.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{Ie("signin"===se.type,E,"internal-error");const be=(null===(C=z.multiFactorHint)||void 0===C?void 0:C.uid)||z.multiFactorUid;return Ie(be,E,"missing-multi-factor-info"),(yield function Rh(E,g){return tt(E,"POST","/v2/accounts/mfaSignIn:start",Ke(E,g))}(E,{mfaPendingCredential:se.credential,mfaEnrollmentId:be,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:se}=yield function zi(E,g){return ms.apply(this,arguments)}(E,{phoneNumber:z.phoneNumber,recaptchaToken:N});return se}}finally{v._reset()}}),Hn.apply(this,arguments)}function xn(){return(xn=(0,a.Z)(function*(E,g){yield Cs((0,$.m9)(E),g)})).apply(this,arguments)}let mc=(()=>{class E{constructor(v){this.providerId=E.PROVIDER_ID,this.auth=ur(v)}verifyPhoneNumber(v,C){return Sn(this.auth,v,(0,$.m9)(C))}static credential(v,C){return Ur._fromVerification(v,C)}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:C,temporaryProof:N}=v;return C&&N?Ur._fromTokenResponse(C,N):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Uo(E,g){return g?cr(g):(Ie(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class so extends Ja{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return to(g,this._buildIdpRequest())}_linkToIdToken(g,v){return to(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return to(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function Xl(E){return gh(E.auth,new so(E),E.bypassAuthState)}function hm(E){const{auth:g,user:v}=E;return Ie(v,g,"internal-error"),Hv(v,new so(E),E.bypassAuthState)}function sa(E){return La.apply(this,arguments)}function La(){return(La=(0,a.Z)(function*(E){const{auth:g,user:v}=E;return Ie(v,g,"internal-error"),Cs(v,new so(E),E.bypassAuthState)})).apply(this,arguments)}class oo{constructor(g,v,C,N,z=!1){this.auth=g,this.resolver=C,this.user=N,this.bypassAuthState=z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,a.Z)(function*(C,N){g.pendingPromise={resolve:C,reject:N};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(z){g.reject(z)}});return function(C,N){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,a.Z)(function*(){const{urlResponse:C,sessionId:N,postBody:z,tenantId:se,error:be,type:lt}=g;if(be)return void v.reject(be);const bt={auth:v.auth,requestUri:C,sessionId:N,tenantId:se||void 0,postBody:z||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(lt)(bt))}catch(Gt){v.reject(Gt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Xl;case"linkViaPopup":case"linkViaRedirect":return sa;case"reauthViaPopup":case"reauthViaRedirect":return hm;default:Ye(this.auth,"internal-error")}}resolve(g){jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oa=new ba(2e3,1e4);function Kl(){return(Kl=(0,a.Z)(function*(E,g,v){const C=ur(E);mt(E,g,Cr);const N=Uo(C,v);return new Lh(C,"signInViaPopup",g,N).executeNotNull()})).apply(this,arguments)}function Ql(){return(Ql=(0,a.Z)(function*(E,g,v){const C=(0,$.m9)(E);mt(C.auth,g,Cr);const N=Uo(C.auth,v);return new Lh(C.auth,"reauthViaPopup",g,N,C).executeNotNull()})).apply(this,arguments)}function fu(){return(fu=(0,a.Z)(function*(E,g,v){const C=(0,$.m9)(E);mt(C.auth,g,Cr);const N=Uo(C.auth,v);return new Lh(C.auth,"linkViaPopup",g,N,C).executeNotNull()})).apply(this,arguments)}let Lh=(()=>{class E extends oo{constructor(v,C,N,z,se){super(v,C,z,se),this.provider=N,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var v=this;return(0,a.Z)(function*(){const C=yield v.execute();return Ie(C,v.auth,"internal-error"),C})()}onExecution(){var v=this;return(0,a.Z)(function*(){jn(1===v.filter.length,"Popup operations only handle one event");const C=nu();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],C),v.authWindow.associatedEvent=C,v.resolver._originValidation(v.auth).catch(N=>{v.reject(N)}),v.resolver._isIframeWebStorageSupported(v.auth,N=>{N||v.reject(Ee(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const v=()=>{var C,N;this.pollId=null!==(N=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==N&&N.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,oa.get())};v()}}return E.currentPopupAction=null,E})();const Fa="pendingRedirect",Ua=new Map;class Jv extends oo{constructor(g,v,C=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,C),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,a.Z)(function*(){let C=Ua.get(v.auth._key());if(!C){try{const z=(yield function fm(E,g){return Fh.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;C=()=>Promise.resolve(z)}catch(N){C=()=>Promise.reject(N)}Ua.set(v.auth._key(),C)}return v.bypassAuthState||Ua.set(v.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,C=this;return(0,a.Z)(function*(){if("signInViaRedirect"===g.type)return v().call(C,g);if("unknown"!==g.type){if(g.eventId){const N=yield C.auth._redirectUserForId(g.eventId);if(N)return C.user=N,v().call(C,g);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Fh(){return(Fh=(0,a.Z)(function*(E,g){const v=Jl(g),C=tb(E);if(!(yield C._isAvailable()))return!1;const N="true"===(yield C._get(v));return yield C._remove(v),N})).apply(this,arguments)}function cg(E,g){return mm.apply(this,arguments)}function mm(){return(mm=(0,a.Z)(function*(E,g){return tb(E)._set(Jl(g),"true")})).apply(this,arguments)}function pm(E,g){Ua.set(E._key(),g)}function tb(E){return cr(E._redirectPersistence)}function Jl(E){return re(Fa,E.config.apiKey,E.name)}function ol(E,g,v){return function lg(E,g,v){return gc.apply(this,arguments)}(E,g,v)}function gc(){return(gc=(0,a.Z)(function*(E,g,v){const C=ur(E);mt(E,g,Cr),yield C._initializationPromise;const N=Uo(C,v);return yield cg(N,C),N._openRedirect(C,g,"signInViaRedirect")})).apply(this,arguments)}function Uh(E,g,v){return function mu(E,g,v){return gm.apply(this,arguments)}(E,g,v)}function gm(){return(gm=(0,a.Z)(function*(E,g,v){const C=(0,$.m9)(E);mt(C.auth,g,Cr),yield C.auth._initializationPromise;const N=Uo(C.auth,v);yield cg(N,C.auth);const z=yield td(C);return N._openRedirect(C.auth,g,"reauthViaRedirect",z)})).apply(this,arguments)}function _m(E,g,v){return function dg(E,g,v){return Bh.apply(this,arguments)}(E,g,v)}function Bh(){return(Bh=(0,a.Z)(function*(E,g,v){const C=(0,$.m9)(E);mt(C.auth,g,Cr),yield C.auth._initializationPromise;const N=Uo(C.auth,v);yield Qc(!1,C,g.providerId),yield cg(N,C.auth);const z=yield td(C);return N._openRedirect(C.auth,g,"linkViaRedirect",z)})).apply(this,arguments)}function Vh(){return(Vh=(0,a.Z)(function*(E,g){return yield ur(E)._initializationPromise,_c(E,g,!1)})).apply(this,arguments)}function _c(E,g){return ed.apply(this,arguments)}function ed(){return(ed=(0,a.Z)(function*(E,g,v=!1){const C=ur(E),N=Uo(C,g),se=yield new Jv(C,N,v).execute();return se&&!v&&(delete se.user._redirectEventId,yield C._persistUserIfCurrent(se.user),yield C._setRedirectUser(null,g)),se})).apply(this,arguments)}function td(E){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,a.Z)(function*(E){const g=nu(`${E.uid}:::`);return E._redirectEventId=g,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),g})).apply(this,arguments)}class zh{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(g,C)&&(v=!0,this.sendToConsumer(g,C),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Co(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rd(E);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var C;if(g.error&&!rd(g)){const N=(null===(C=g.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";v.onError(Ee(this.auth,N))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const C=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&C}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(id(g))}saveEventToCache(g){this.cachedEventUids.add(id(g)),this.lastProcessedEventTime=Date.now()}}function id(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(g=>g).join("-")}function rd({type:E,error:g}){return"unknown"===E&&"auth/no-auth-event"===g?.code}function Hh(E){return pu.apply(this,arguments)}function pu(){return(pu=(0,a.Z)(function*(E,g={}){return tt(E,"GET","/v1/projects",g)})).apply(this,arguments)}const sd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aa=/^https?/;function Vo(){return(Vo=(0,a.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:g}=yield Hh(E);for(const v of g)try{if(Gh(v))return}catch{}Ye(E,"unauthorized-domain")})).apply(this,arguments)}function Gh(E){const g=Or(),{protocol:v,hostname:C}=new URL(g);if(E.startsWith("chrome-extension://")){const se=new URL(E);return""===se.hostname&&""===C?"chrome-extension:"===v&&E.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&se.hostname===C}if(!aa.test(v))return!1;if(sd.test(E))return C===E;const N=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(C)}const vc=new ba(3e4,6e4);function vm(){const E=Oi().___jsl;if(E?.H)for(const g of Object.keys(E.H))if(E.H[g].r=E.H[g].r||[],E.H[g].L=E.H[g].L||[],E.H[g].r=[...E.H[g].L],E.CP)for(let v=0;v<E.CP.length;v++)E.CP[v]=null}let od=null;const ug=new ba(5e3,15e3),nb="__/auth/iframe",gu="emulator/auth/iframe",_u={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ad=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function al(E){const g=E.config;Ie(g.authDomain,E,"auth-domain-config-required");const v=g.emulator?Re(g,gu):`https://${E.config.authDomain}/${nb}`,C={apiKey:g.apiKey,appName:E.name,v:we.SDK_VERSION},N=ad.get(E.config.apiHost);N&&(C.eid=N);const z=E._getFrameworks();return z.length&&(C.fw=z.join(",")),`${v}?${(0,$.xO)(C).slice(1)}`}function R(){return R=(0,a.Z)(function*(E){const g=yield function Va(E){return od=od||function Ii(E){return new Promise((g,v)=>{var C,N,z;function se(){vm(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{vm(),v(Ee(E,"network-request-failed"))},timeout:vc.get()})}if(null!==(N=null===(C=Oi().gapi)||void 0===C?void 0:C.iframes)&&void 0!==N&&N.Iframe)g(gapi.iframes.getContext());else{if(null===(z=Oi().gapi)||void 0===z||!z.load){const be=xo("iframefcb");return Oi()[be]=()=>{gapi.load?se():v(Ee(E,"network-request-failed"))},Lr(`https://apis.google.com/js/api.js?onload=${be}`).catch(lt=>v(lt))}se()}}).catch(g=>{throw od=null,g})}(E),od}(E),v=Oi().gapi;return Ie(v,E,"internal-error"),g.open({where:document.body,url:al(E),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_u,dontclear:!0},C=>new Promise(function(){var N=(0,a.Z)(function*(z,se){yield C.restyle({setHideOnLeave:!1});const be=Ee(E,"network-request-failed"),lt=Oi().setTimeout(()=>{se(be)},ug.get());function bt(){Oi().clearTimeout(lt),z(C)}C.ping(bt).then(bt,()=>{se(be)})});return function(z,se){return N.apply(this,arguments)}}()))}),R.apply(this,arguments)}const F={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Mt{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const fn="__/auth/handler",An="emulator/auth/handler",hr=encodeURIComponent("fac");function vr(E,g,v,C,N,z){return zo.apply(this,arguments)}function zo(){return(zo=(0,a.Z)(function*(E,g,v,C,N,z){Ie(E.config.authDomain,E,"auth-domain-config-required"),Ie(E.config.apiKey,E,"invalid-api-key");const se={apiKey:E.config.apiKey,appName:E.name,authType:v,redirectUrl:C,v:we.SDK_VERSION,eventId:N};if(g instanceof Cr){g.setDefaultLanguage(E.languageCode),se.providerId=g.providerId||"",(0,$.xb)(g.getCustomParameters())||(se.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Gt,$t]of Object.entries(z||{}))se[Gt]=$t}if(g instanceof na){const Gt=g.getScopes().filter($t=>""!==$t);Gt.length>0&&(se.scopes=Gt.join(","))}E.tenantId&&(se.tid=E.tenantId);const be=se;for(const Gt of Object.keys(be))void 0===be[Gt]&&delete be[Gt];const lt=yield E._getAppCheckToken(),bt=lt?`#${hr}=${encodeURIComponent(lt)}`:"";return`${function Ji({config:E}){return E.emulator?Re(E,An):`https://${E.authDomain}/${fn}`}(E)}?${(0,$.xO)(be).slice(1)}${bt}`})).apply(this,arguments)}const bc="webStorageSupport",Jr=class Qr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ms,this._completeRedirectFn=_c,this._overrideRedirectResult=pm}_openPopup(g,v,C,N){var z=this;return(0,a.Z)(function*(){var se;jn(null===(se=z.eventManagers[g._key()])||void 0===se?void 0:se.manager,"_initialize() not called before _openPopup()");const be=yield vr(g,v,C,Or(),N);return function wt(E,g,v,C=500,N=600){const z=Math.max((window.screen.availHeight-N)/2,0).toString(),se=Math.max((window.screen.availWidth-C)/2,0).toString();let be="";const lt=Object.assign(Object.assign({},F),{width:C.toString(),height:N.toString(),top:z,left:se}),bt=(0,$.z$)().toLowerCase();v&&(be=Ft(bt)?"_blank":v),Xe(bt)&&(g=g||"http://localhost",lt.scrollbars="yes");const Gt=Object.entries(lt).reduce((ji,[Ho,Su])=>`${ji}${Ho}=${Su},`,"");if(function gr(E=(0,$.z$)()){var g;return Qi(E)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(bt)&&"_self"!==be)return function Zt(E,g){const v=document.createElement("a");v.href=E,v.target=g;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(C)}(g||"",be),new Mt(null);const $t=window.open(g||"",be,Gt);Ie($t,E,"popup-blocked");try{$t.focus()}catch{}return new Mt($t)}(g,be,nu())})()}_openRedirect(g,v,C,N){var z=this;return(0,a.Z)(function*(){return yield z._originValidation(g),function Xv(E){Oi().location.href=E}(yield vr(g,v,C,Or(),N)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:N,promise:z}=this.eventManagers[v];return N?Promise.resolve(N):(jn(z,"If manager is not set, promise should be"),z)}const C=this.initAndGetManager(g);return this.eventManagers[v]={promise:C},C.catch(()=>{delete this.eventManagers[v]}),C}initAndGetManager(g){var v=this;return(0,a.Z)(function*(){const C=yield function T(E){return R.apply(this,arguments)}(g),N=new zh(g);return C.register("authEvent",z=>(Ie(z?.authEvent,g,"invalid-auth-event"),{status:N.onEvent(z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:N},v.iframes[g._key()]=C,N})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(bc,{type:bc},N=>{var z;const se=null===(z=N?.[0])||void 0===z?void 0:z[bc];void 0!==se&&v(!!se),Ye(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Vs(E){return Vo.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return ea()||Ae()||Qi()}};class er{constructor(g){this.factorId=g}_process(g,v,C){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,C);case"signin":return this._finalizeSignIn(g,v.credential);default:return hn("unexpected MultiFactorSessionType")}}}class ao extends er{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new ao(g)}_finalizeEnroll(g,v,C){return function eg(E,g){return tt(E,"POST","/v2/accounts/mfaEnrollment:finalize",Ke(E,g))}(g,{idToken:v,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function sg(E,g){return tt(E,"POST","/v2/accounts/mfaSignIn:finalize",Ke(E,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let vu=(()=>{class E{constructor(){}static assertion(v){return ao._fromCredential(v)}}return E.FACTOR_ID="phone",E})();var Wh="@firebase/auth";class zs{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,a.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(C=>{g(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);v&&(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yu(){return window}(0,$.Pz)("authIdTokenMaxAge"),function bu(E){(0,we._registerComponent)(new He.wA("auth",(g,{options:v})=>{const C=g.getProvider("app").getImmediate(),N=g.getProvider("heartbeat"),z=g.getProvider("app-check-internal"),{apiKey:se,authDomain:be}=C.options;Ie(se&&!se.includes(":"),"invalid-api-key",{appName:C.name});const lt={apiKey:se,authDomain:be,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pe(E)},bt=new lh(C,N,z,lt);return function Wp(E,g){const v=g?.persistence||[],C=(Array.isArray(v)?v:[v]).map(cr);g?.errorMap&&E._updateErrorMap(g.errorMap),E._initializeWithPersistence(C,g?.popupRedirectResolver)}(bt,v),bt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,C)=>{g.getProvider("auth-internal").initialize()})),(0,we._registerComponent)(new He.wA("auth-internal",g=>{const v=ur(g.getProvider("auth").getImmediate());return new zs(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,we.registerVersion)(Wh,"0.23.2",function ib(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,we.registerVersion)(Wh,"0.23.2","esm2017")}("Browser");function bm(){return bm=(0,a.Z)(function*(E,g,v){var C;const{BuildInfo:N}=yu();jn(g.sessionId,"AuthEvent did not contain a session ID");const z=yield function gg(E){return xu.apply(this,arguments)}(g.sessionId),se={};return Qi()?se.ibi=N.packageName:pn()?se.apn=N.packageName:Ye(E,"operation-not-supported-in-this-environment"),N.displayName&&(se.appDisplayName=N.displayName),se.sessionId=z,vr(E,v,g.type,void 0,null!==(C=g.eventId)&&void 0!==C?C:void 0,se)}),bm.apply(this,arguments)}function pg(){return(pg=(0,a.Z)(function*(E){const{BuildInfo:g}=yu(),v={};Qi()?v.iosBundleId=g.packageName:pn()?v.androidPackageName=g.packageName:Ye(E,"operation-not-supported-in-this-environment"),yield Hh(E,v)})).apply(this,arguments)}function xc(){return(xc=(0,a.Z)(function*(E,g,v){const{cordova:C}=yu();let N=()=>{};try{yield new Promise((z,se)=>{let be=null;function lt(){var $t;z();const ji=null===($t=C.plugins.browsertab)||void 0===$t?void 0:$t.close;"function"==typeof ji&&ji(),"function"==typeof v?.close&&v.close()}function bt(){be||(be=window.setTimeout(()=>{se(Ee(E,"redirect-cancelled-by-user"))},2e3))}function Gt(){"visible"===document?.visibilityState&&bt()}g.addPassiveListener(lt),document.addEventListener("resume",bt,!1),pn()&&document.addEventListener("visibilitychange",Gt,!1),N=()=>{g.removePassiveListener(lt),document.removeEventListener("resume",bt,!1),document.removeEventListener("visibilitychange",Gt,!1),be&&window.clearTimeout(be)}})}finally{N()}})).apply(this,arguments)}function xu(){return(xu=(0,a.Z)(function*(E){const g=function wm(E){if(jn(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(E);const g=new ArrayBuffer(E.length),v=new Uint8Array(g);for(let C=0;C<E.length;C++)v[C]=E.charCodeAt(C);return v}(E),v=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(v)).map(N=>N.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class rb extends zh{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(g)),super.onEvent(g)}initialized(){var g=this;return(0,a.Z)(function*(){yield g.initPromise})()}}function Eu(E){return _g.apply(this,arguments)}function _g(){return(_g=(0,a.Z)(function*(E){const g=yield wc()._get(Cm(E));return g&&(yield wc()._remove(Cm(E))),g})).apply(this,arguments)}function sb(){const E=[];for(let v=0;v<20;v++){const C=Math.floor(62*Math.random());E.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(C))}return E.join("")}function wc(){return cr(il)}function Cm(E){return re("authEvent",E.config.apiKey,E.name)}function Mm(E){if(!E?.includes("?"))return{};const[g,...v]=E.split("?");return(0,$.zd)(v.join("?"))}const Y0=class ob{constructor(){this._redirectPersistence=Ms,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_c,this._overrideRedirectResult=pm}_initialize(g){var v=this;return(0,a.Z)(function*(){const C=g._key();let N=v.eventManagers.get(C);return N||(N=new rb(g),v.eventManagers.set(C,N),v.attachCallbackListeners(g,N)),N})()}_openPopup(g){Ye(g,"operation-not-supported-in-this-environment")}_openRedirect(g,v,C,N){var z=this;return(0,a.Z)(function*(){!function xm(E){var g,v,C,N,z,se,be,lt,bt,Gt;const $t=yu();Ie("function"==typeof(null===(g=$t?.universalLinks)||void 0===g?void 0:g.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ie(typeof(null===(v=$t?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ie("function"==typeof(null===(z=null===(N=null===(C=$t?.cordova)||void 0===C?void 0:C.plugins)||void 0===N?void 0:N.browsertab)||void 0===z?void 0:z.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ie("function"==typeof(null===(lt=null===(be=null===(se=$t?.cordova)||void 0===se?void 0:se.plugins)||void 0===be?void 0:be.browsertab)||void 0===lt?void 0:lt.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ie("function"==typeof(null===(Gt=null===(bt=$t?.cordova)||void 0===bt?void 0:bt.InAppBrowser)||void 0===Gt?void 0:Gt.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const se=yield z._initialize(g);yield se.initialized(),se.resetRedirect(),function eb(){Ua.clear()}(),yield z._originValidation(g);const be=function $0(E,g,v=null){return{type:g,eventId:v,urlResponse:null,sessionId:sb(),postBody:null,tenantId:E.tenantId,error:Ee(E,"no-auth-event")}}(g,C,N);yield function wu(E,g){return wc()._set(Cm(E),g)}(g,be);const lt=yield function $C(E,g,v){return bm.apply(this,arguments)}(g,be,v),bt=yield function ym(E){const{cordova:g}=yu();return new Promise(v=>{g.plugins.browsertab.isAvailable(C=>{let N=null;C?g.plugins.browsertab.openUrl(E):N=g.InAppBrowser.open(E,function ti(E=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),v(N)})})}(lt);return function j0(E,g,v){return xc.apply(this,arguments)}(g,se,bt)})()}_isIframeWebStorageSupported(g,v){throw new Error("Method not implemented.")}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function ld(E){return pg.apply(this,arguments)}(g)),this.originValidationPromises[v]}attachCallbackListeners(g,v){const{universalLinks:C,handleOpenURL:N,BuildInfo:z}=yu(),se=setTimeout((0,a.Z)(function*(){yield Eu(g),v.onEvent(bg())}),500),be=function(){var Gt=(0,a.Z)(function*($t){clearTimeout(se);const ji=yield Eu(g);let Ho=null;ji&&$t?.url&&(Ho=function YC(E,g){var v,C;const N=function Sm(E){const g=Mm(E),v=g.link?decodeURIComponent(g.link):void 0,C=Mm(v).link,N=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Mm(N).link||N||C||v||E}(g);if(N.includes("/__/auth/callback")){const z=Mm(N),se=z.firebaseError?function vg(E){try{return JSON.parse(E)}catch{return null}}(decodeURIComponent(z.firebaseError)):null,be=null===(C=null===(v=se?.code)||void 0===v?void 0:v.split("auth/"))||void 0===C?void 0:C[1],lt=be?Ee(be):null;return lt?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:lt,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:N,postBody:null}}return null}(ji,$t.url)),v.onEvent(Ho||bg())});return function(ji){return Gt.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,be);const lt=N,bt=`${z.packageName.toLowerCase()}://`;yu().handleOpenURL=function(){var Gt=(0,a.Z)(function*($t){if($t.toLowerCase().startsWith(bt)&&be({url:$t}),"function"==typeof lt)try{lt($t)}catch(ji){console.error(ji)}});return function($t){return Gt.apply(this,arguments)}}()}};function bg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}function cl(){var E;return(null===(E=self?.location)||void 0===E?void 0:E.protocol)||null}function lb(E=(0,$.z$)()){return!("file:"!==cl()&&"ionic:"!==cl()&&"capacitor:"!==cl()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function q0(){try{const E=self.localStorage,g=nu();if(E)return E.setItem(g,"1"),E.removeItem(g),!function zI(E=(0,$.z$)()){return function db(){return(0,$.w1)()&&11===document?.documentMode}()||function ub(E=(0,$.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,$.hl)()}catch{return hb()&&(0,$.hl)()}return!1}function hb(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Eg(){return(function wg(){return"http:"===cl()||"https:"===cl()}()||(0,$.ru)()||lb())&&!function qC(){return(0,$.b$)()||(0,$.UG)()}()&&q0()&&!hb()}function Am(){return lb()&&typeof document<"u"}function $h(){return($h=(0,a.Z)(function*(){return!!Am()&&new Promise(E=>{const g=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),E(!0)})})})).apply(this,arguments)}const lo={LOCAL:"local",NONE:"none",SESSION:"session"},Cu=Ie,dd="persistence";function Dm(E){return ud.apply(this,arguments)}function ud(){return(ud=(0,a.Z)(function*(E){yield E._initializationPromise;const g=Yh(),v=re(dd,E.config.apiKey,E.name);g&&g.setItem(v,E._getPersistence())})).apply(this,arguments)}function Yh(){var E;try{return(null===(E=function fb(){return typeof window<"u"?window:null}())||void 0===E?void 0:E.sessionStorage)||null}catch{return null}}const pb=Ie;class ll{constructor(){this.browserResolver=cr(Jr),this.cordovaResolver=cr(Y0),this.underlyingResolver=null,this._redirectPersistence=Ms,this._completeRedirectFn=_c,this._overrideRedirectResult=pm}_initialize(g){var v=this;return(0,a.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,v,C,N){var z=this;return(0,a.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._openPopup(g,v,C,N)})()}_openRedirect(g,v,C,N){var z=this;return(0,a.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._openRedirect(g,v,C,N)})()}_isIframeWebStorageSupported(g,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,v)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Am()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return pb(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,a.Z)(function*(){if(g.underlyingResolver)return;const v=yield function jh(){return $h.apply(this,arguments)}();g.underlyingResolver=v?g.cordovaResolver:g.browserResolver})()}}function km(E){return E.unwrap()}function Cg(E){return _b(E)}function _b(E){const{_tokenResponse:g}=E instanceof $.ZR?E.customData:E;if(!g)return null;if(!(E instanceof $.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return mc.credentialFromResult(E);const v=g.providerId;if(!v||v===Le.PASSWORD)return null;let C;switch(v){case Le.GOOGLE:C=Fs;break;case Le.FACEBOOK:C=Da;break;case Le.GITHUB:C=Ul;break;case Le.TWITTER:C=Zd;break;default:const{oauthIdToken:N,oauthAccessToken:z,oauthTokenSecret:se,pendingToken:be,nonce:lt}=g;return z||se||N||be?be?v.startsWith("saml.")?Un._create(v,be):mn._fromParams({providerId:v,signInMethod:v,pendingToken:be,idToken:N,accessToken:z}):new ia(v).credential({idToken:N,accessToken:z,rawNonce:lt}):null}return E instanceof $.ZR?C.credentialFromError(E):C.credentialFromResult(E)}function Hs(E,g){return g.catch(v=>{throw v instanceof $.ZR&&function Z0(E,g){var v;const C=null===(v=g.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===g?.code)g.resolver=new Sg(E,function tm(E,g){var v;const C=(0,$.m9)(E),N=g;return Ie(g.customData.operationType,C,"argument-error"),Ie(null===(v=N.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,C,"argument-error"),lc._fromError(C,N)}(E,g));else if(C){const N=_b(g),z=g;N&&(z.credential=N,z.tenantId=C.tenantId||void 0,z.email=C.email||void 0,z.phoneNumber=C.phoneNumber||void 0)}}(E,v),v}).then(v=>{const N=v.user;return{operationType:v.operationType,credential:Cg(v),additionalUserInfo:Xp(v),user:Wi.getOrCreate(N)}})}function Rm(E,g){return So.apply(this,arguments)}function So(){return(So=(0,a.Z)(function*(E,g){const v=yield g;return{verificationId:v.verificationId,confirm:C=>Hs(E,v.confirm(C))}})).apply(this,arguments)}class Sg{constructor(g,v){this.resolver=v,this.auth=function gb(E){return E.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Hs(km(this.auth),this.resolver.resolveSignIn(g))}}class Wi{constructor(g){this._delegate=g,this.multiFactor=function dc(E){const g=(0,$.m9)(E);return Pa.has(g)||Pa.set(g,vi._fromUser(g)),Pa.get(g)}(g)}static getOrCreate(g){return Wi.USER_MAP.has(g)||Wi.USER_MAP.set(g,new Wi(g)),Wi.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var v=this;return(0,a.Z)(function*(){return Hs(v.auth,Gv(v._delegate,g))})()}linkWithPhoneNumber(g,v){var C=this;return(0,a.Z)(function*(){return Rm(C.auth,function Kr(E,g,v){return Mi.apply(this,arguments)}(C._delegate,g,v))})()}linkWithPopup(g){var v=this;return(0,a.Z)(function*(){return Hs(v.auth,function ag(E,g,v){return fu.apply(this,arguments)}(v._delegate,g,ll))})()}linkWithRedirect(g){var v=this;return(0,a.Z)(function*(){return yield Dm(ur(v.auth)),_m(v._delegate,g,ll)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var v=this;return(0,a.Z)(function*(){return Hs(v.auth,Wv(v._delegate,g))})()}reauthenticateWithPhoneNumber(g,v){return Rm(this.auth,function sl(E,g,v){return Zl.apply(this,arguments)}(this._delegate,g,v))}reauthenticateWithPopup(g){return Hs(this.auth,function hu(E,g,v){return Ql.apply(this,arguments)}(this._delegate,g,ll))}reauthenticateWithRedirect(g){var v=this;return(0,a.Z)(function*(){return yield Dm(ur(v.auth)),Uh(v._delegate,g,ll)})()}sendEmailVerification(g){return function Ra(E,g){return Wl.apply(this,arguments)}(this._delegate,g)}unlink(g){var v=this;return(0,a.Z)(function*(){return yield function ic(E,g){return Us.apply(this,arguments)}(v._delegate,g),v})()}updateEmail(g){return function Jf(E,g){return Zp((0,$.m9)(E),g,null)}(this._delegate,g)}updatePassword(g){return function Jd(E,g){return Zp((0,$.m9)(E),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function ro(E,g){return xn.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function $v(E,g){return Ch.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,v){return function Kf(E,g,v){return Qd.apply(this,arguments)}(this._delegate,g,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wi.USER_MAP=new WeakMap;const Ec=Ie;let Mg=(()=>{class E{constructor(v,C){if(this.app=v,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:N}=v.options;Ec(N,"invalid-api-key",{appName:v.name}),Ec(N,"invalid-api-key",{appName:v.name});const z=typeof window<"u"?ll:void 0;this._delegate=C.initialize({options:{persistence:es(N,v.name),popupRedirectResolver:z}}),this._delegate._updateErrorMap(Rt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,C){!function Es(E,g,v){const C=ur(E);Ie(C._canInitEmulator,C,"emulator-config-failed"),Ie(/^https?:\/\//.test(g),C,"invalid-emulator-scheme");const N=!!v?.disableWarnings,z=Ma(g),{host:se,port:be}=function Pl(E){const g=Ma(E),v=/(\/\/)?([^?#/]+)/.exec(E.substr(g.length));if(!v)return{host:"",port:null};const C=v[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(C);if(N){const z=N[1];return{host:z,port:dh(C.substr(z.length+1))}}{const[z,se]=C.split(":");return{host:z,port:dh(se)}}}(g);C.config.emulator={url:`${z}//${se}${null===be?"":`:${be}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:se,port:be,protocol:z.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function Vv(){function E(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(this._delegate,v,C)}applyActionCode(v){return function qf(E,g){return no.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return _r(this._delegate,v)}confirmPasswordReset(v,C){return function rc(E,g,v){return No.apply(this,arguments)}(this._delegate,v,C)}createUserWithEmailAndPassword(v,C){var N=this;return(0,a.Z)(function*(){return Hs(N._delegate,function yh(E,g,v){return zl.apply(this,arguments)}(N._delegate,v,C))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function Gl(E,g){return ac.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function Xf(E,g){const v=Hi.parseLink(g);return"EMAIL_SIGNIN"===v?.operation}(0,v)}getRedirectResult(){var v=this;return(0,a.Z)(function*(){Ec(Eg(),v._delegate,"operation-not-supported-in-this-environment");const C=yield function Bo(E,g){return Vh.apply(this,arguments)}(v._delegate,ll);return C?Hs(v._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function ab(E,g){ur(E)._logFramework(g)}(this._delegate,v)}onAuthStateChanged(v,C,N){const{next:z,error:se,complete:be}=Pm(v,C,N);return this._delegate.onAuthStateChanged(z,se,be)}onIdTokenChanged(v,C,N){const{next:z,error:se,complete:be}=Pm(v,C,N);return this._delegate.onIdTokenChanged(z,se,be)}sendSignInLinkToEmail(v,C){return function el(E,g,v){return Hl.apply(this,arguments)}(this._delegate,v,C)}sendPasswordResetEmail(v,C){return function H0(E,g,v){return Vl.apply(this,arguments)}(this._delegate,v,C||void 0)}setPersistence(v){var C=this;return(0,a.Z)(function*(){let N;switch(function mb(E,g){Cu(Object.values(lo).includes(g),E,"invalid-persistence-type"),(0,$.b$)()?Cu(g!==lo.SESSION,E,"unsupported-persistence-type"):(0,$.UG)()?Cu(g===lo.NONE,E,"unsupported-persistence-type"):hb()?Cu(g===lo.NONE||g===lo.LOCAL&&(0,$.hl)(),E,"unsupported-persistence-type"):Cu(g===lo.NONE||q0(),E,"unsupported-persistence-type")}(C._delegate,v),v){case lo.SESSION:N=Ms;break;case lo.LOCAL:N=(yield cr(hc)._isAvailable())?hc:il;break;case lo.NONE:N=Qs;break;default:return Ye("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(N)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return Hs(this._delegate,function Br(E){return $p.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return Hs(this._delegate,_h(this._delegate,v))}signInWithCustomToken(v){return Hs(this._delegate,function Yf(E,g){return ra.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,C){return Hs(this._delegate,function Zf(E,g,v){return _h((0,$.m9)(E),tc.credential(g,v))}(this._delegate,v,C))}signInWithEmailLink(v,C){return Hs(this._delegate,function Ar(E,g,v){return xh.apply(this,arguments)}(this._delegate,v,C))}signInWithPhoneNumber(v,C){return Rm(this._delegate,function um(E,g,v){return As.apply(this,arguments)}(this._delegate,v,C))}signInWithPopup(v){var C=this;return(0,a.Z)(function*(){return Ec(Eg(),C._delegate,"operation-not-supported-in-this-environment"),Hs(C._delegate,function pc(E,g,v){return Kl.apply(this,arguments)}(C._delegate,v,ll))})()}signInWithRedirect(v){var C=this;return(0,a.Z)(function*(){return Ec(Eg(),C._delegate,"operation-not-supported-in-this-environment"),yield Dm(C._delegate),ol(C._delegate,v,ll)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function Ss(E,g){return oc.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=lo,E})();function Pm(E,g,v){let C=E;"function"!=typeof E&&({next:C,error:g,complete:v}=E);const N=C;return{next:se=>N(se&&Wi.getOrCreate(se)),error:g,complete:v}}function es(E,g){const v=function Im(E,g){const v=Yh();if(!v)return[];const C=re(dd,E,g);switch(v.getItem(C)){case lo.NONE:return[Qs];case lo.LOCAL:return[hc,Ms];case lo.SESSION:return[Ms];default:return[]}}(E,g);if(typeof self<"u"&&!v.includes(hc)&&v.push(hc),typeof window<"u")for(const C of[il,Ms])v.includes(C)||v.push(C);return v.includes(Qs)||v.push(Qs),v}class hd{constructor(){this.providerId="phone",this._delegate=new mc(km(_e.Z.auth()))}static credential(g,v){return mc.credential(g,v)}verifyPhoneNumber(g,v){return this._delegate.verifyPhoneNumber(g,v)}unwrap(){return this._delegate}}hd.PHONE_SIGN_IN_METHOD=mc.PHONE_SIGN_IN_METHOD,hd.PROVIDER_ID=mc.PROVIDER_ID;const vb=Ie;class qh{constructor(g,v,C=_e.Z.app()){var N;vb(null===(N=C.options)||void 0===N?void 0:N.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new dm(g,v,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Tg(E){E.INTERNAL.registerComponent(new He.wA("auth-compat",g=>{const v=g.getProvider("app-compat").getImmediate(),C=g.getProvider("auth");return new Mg(v,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:tc,FacebookAuthProvider:Da,GithubAuthProvider:Ul,GoogleAuthProvider:Fs,OAuthProvider:ia,SAMLAuthProvider:Xc,PhoneAuthProvider:hd,PhoneMultiFactorGenerator:vu,RecaptchaVerifier:qh,TwitterAuthProvider:Zd,Auth:Mg,AuthCredential:Ja,Error:$.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.4.2")}(_e.Z)},5861:(Jt,Qe,W)=>{function a($,we,Te,ye,He,ut,Le){try{var te=$[ut](Le),oe=te.value}catch(ve){return void Te(ve)}te.done?we(oe):Promise.resolve(oe).then(ye,He)}function _e($){return function(){var we=this,Te=arguments;return new Promise(function(ye,He){var ut=$.apply(we,Te);function Le(oe){a(ut,ye,He,Le,te,"next",oe)}function te(oe){a(ut,ye,He,Le,te,"throw",oe)}Le(void 0)})}}W.d(Qe,{Z:()=>_e})},7582:(Jt,Qe,W)=>{function we(Re,Ne){var qe={};for(var Ze in Re)Object.prototype.hasOwnProperty.call(Re,Ze)&&Ne.indexOf(Ze)<0&&(qe[Ze]=Re[Ze]);if(null!=Re&&"function"==typeof Object.getOwnPropertySymbols){var Ke=0;for(Ze=Object.getOwnPropertySymbols(Re);Ke<Ze.length;Ke++)Ne.indexOf(Ze[Ke])<0&&Object.prototype.propertyIsEnumerable.call(Re,Ze[Ke])&&(qe[Ze[Ke]]=Re[Ze[Ke]])}return qe}function ve(Re,Ne,qe,Ze){return new(qe||(qe=Promise))(function(tt,Ht){function Ct(li){try{an(Ze.next(li))}catch(On){Ht(On)}}function Ki(li){try{an(Ze.throw(li))}catch(On){Ht(On)}}function an(li){li.done?tt(li.value):function Ke(tt){return tt instanceof qe?tt:new qe(function(Ht){Ht(tt)})}(li.value).then(Ct,Ki)}an((Ze=Ze.apply(Re,Ne||[])).next())})}function Me(Re){return this instanceof Me?(this.v=Re,this):new Me(Re)}function Ye(Re,Ne,qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,Ze=qe.apply(Re,Ne||[]),tt=[];return Ke={},Ht("next"),Ht("throw"),Ht("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke;function Ht(Ui){Ze[Ui]&&(Ke[Ui]=function(Bi){return new Promise(function(yr,Si){tt.push([Ui,Bi,yr,Si])>1||Ct(Ui,Bi)})})}function Ct(Ui,Bi){try{!function Ki(Ui){Ui.value instanceof Me?Promise.resolve(Ui.value.v).then(an,li):On(tt[0][2],Ui)}(Ze[Ui](Bi))}catch(yr){On(tt[0][3],yr)}}function an(Ui){Ct("next",Ui)}function li(Ui){Ct("throw",Ui)}function On(Ui,Bi){Ui(Bi),tt.shift(),tt.length&&Ct(tt[0][0],tt[0][1])}}function Je(Re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,Ne=Re[Symbol.asyncIterator];return Ne?Ne.call(Re):(Re=function dt(Re){var Ne="function"==typeof Symbol&&Symbol.iterator,qe=Ne&&Re[Ne],Ze=0;if(qe)return qe.call(Re);if(Re&&"number"==typeof Re.length)return{next:function(){return Re&&Ze>=Re.length&&(Re=void 0),{value:Re&&Re[Ze++],done:!Re}}};throw new TypeError(Ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(Re),qe={},Ze("next"),Ze("throw"),Ze("return"),qe[Symbol.asyncIterator]=function(){return this},qe);function Ze(tt){qe[tt]=Re[tt]&&function(Ht){return new Promise(function(Ct,Ki){!function Ke(tt,Ht,Ct,Ki){Promise.resolve(Ki).then(function(an){tt({value:an,done:Ct})},Ht)}(Ct,Ki,(Ht=Re[tt](Ht)).done,Ht.value)})}}}W.d(Qe,{FC:()=>Ye,KL:()=>Je,_T:()=>we,mG:()=>ve,qq:()=>Me}),"function"==typeof SuppressedError&&SuppressedError}},Jt=>{Jt(Jt.s=6642)}]);