"use strict";(self.webpackChunkauthentication=self.webpackChunkauthentication||[]).push([[179],{6304:(Kt,Je,W)=>{W.d(Je,{Dh:()=>ht,GT:()=>xe,cc:()=>at,hO:()=>vt,on:()=>te,pX:()=>Te,xv:()=>Le});var c=W(5879),_e=W(7142),$=W(8186);Kt=W.hmd(Kt);const we=["ngOnDestroy"],Te=(gt,dn,tn,Me={})=>new Proxy(gt,{get:(Ye,Ee)=>tn.runOutsideAngular(()=>{var Qe;if(gt[Ee])return!(null===(Qe=Me?.spy)||void 0===Qe)&&Qe.get&&Me.spy.get(Ee,gt[Ee]),gt[Ee];if(we.indexOf(Ee)>-1)return()=>{};const mt=dn.toPromise().then(Dt=>{const Ie=Dt&&Dt[Ee];return"function"==typeof Ie?Ie.bind(Dt):Ie&&Ie.then?Ie.then(hn=>tn.run(()=>hn)):tn.run(()=>Ie)});return new Proxy(()=>{},{get:(Dt,Ie)=>mt[Ie],apply:(Dt,Ie,hn)=>mt.then(Gn=>{var Pr;const gs=Gn&&Gn(...hn);return!(null===(Pr=Me?.spy)||void 0===Pr)&&Pr.apply&&Me.spy.apply(Ee,hn,gs),gs})})})}),xe=(gt,dn)=>{dn.forEach(tn=>{Object.getOwnPropertyNames(tn.prototype||tn).forEach(Me=>{Object.defineProperty(gt.prototype,Me,Object.getOwnPropertyDescriptor(tn.prototype||tn,Me))})})};class ze{constructor(dn){return dn}}const ht=new c.OlP("angularfire2.app.options"),Le=new c.OlP("angularfire2.app.name");function te(gt,dn,tn){const Ye="object"==typeof tn&&tn||{};Ye.name=Ye.name||"string"==typeof tn&&tn||"[DEFAULT]";const Qe=_e.Z.apps.filter(mt=>mt&&mt.name===Ye.name)[0]||dn.runOutsideAngular(()=>_e.Z.initializeApp(gt,Ye));try{JSON.stringify(gt)!==JSON.stringify(Qe.options)&&oe("error",`${Qe.name} Firebase App already initialized with different options${Kt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ze(Qe)}const oe=(gt,...dn)=>{(0,c.X6Q)()&&typeof console<"u"&&console[gt](...dn)},ve={provide:ze,useFactory:te,deps:[ht,c.R0b,[new c.FiY,Le]]};let vt=(()=>{class gt{constructor(tn){_e.Z.registerVersion("angularfire",$.q4.full,"core"),_e.Z.registerVersion("angularfire",$.q4.full,"app-compat"),_e.Z.registerVersion("angular",c.q4F.full,tn.toString())}static initializeApp(tn,Me){return{ngModule:gt,providers:[{provide:ht,useValue:tn},{provide:Le,useValue:Me}]}}}return gt.\u0275fac=function(tn){return new(tn||gt)(c.LFG(c.Lbi))},gt.\u0275mod=c.oAB({type:gt}),gt.\u0275inj=c.cJS({providers:[ve]}),gt})();function at(gt,dn,tn,Me,Ye){const[,Ee,Qe]=globalThis.\u0275AngularfireInstanceCache.find(mt=>mt[0]===gt)||[];if(Ee)return function Pt(gt,dn){try{return gt.toString()===dn.toString()}catch{return gt===dn}}(Ye,Qe)||(Et("error",`${dn} was already initialized on the ${tn} Firebase App with different settings.${ut?" You may need to reload as Firebase is not HMR aware.":""}`),Et("warn",{is:Ye,was:Qe})),Ee;{const mt=Me();return globalThis.\u0275AngularfireInstanceCache.push([gt,mt,Ye]),mt}}const ut=!!Kt.hot,Et=(gt,...dn)=>{(0,c.X6Q)()&&typeof console<"u"&&console[gt](...dn)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(Kt,Je,W)=>{W.d(Je,{q4:()=>Zc,iC:()=>cu,HU:()=>xp,vb:()=>Vs,JM:()=>oa});var c=W(5879),_e=W(3182),$=W(5861),we=W(534),Te=W(9058),xe=W(4537),ze=W(7879);const ht=(T,P)=>P.some(F=>T instanceof F);let Le,te;const vt=new WeakMap,at=new WeakMap,Pt=new WeakMap,ut=new WeakMap,Et=new WeakMap;let tn={get(T,P,F){if(T instanceof IDBTransaction){if("done"===P)return at.get(T);if("objectStoreNames"===P)return T.objectStoreNames||Pt.get(T);if("store"===P)return F.objectStoreNames[1]?void 0:F.objectStore(F.objectStoreNames[0])}return Qe(T[P])},set:(T,P,F)=>(T[P]=F,!0),has:(T,P)=>T instanceof IDBTransaction&&("done"===P||"store"===P)||P in T};function Ee(T){return"function"==typeof T?function Ye(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...P){return T.apply(mt(this),P),Qe(vt.get(this))}:function(...P){return Qe(T.apply(mt(this),P))}:function(P,...F){const Y=T.call(mt(this),P,...F);return Pt.set(Y,P.sort?P.sort():[P]),Qe(Y)}}(T):(T instanceof IDBTransaction&&function dn(T){if(at.has(T))return;const P=new Promise((F,Y)=>{const ae=()=>{T.removeEventListener("complete",fe),T.removeEventListener("error",Oe),T.removeEventListener("abort",Oe)},fe=()=>{F(),ae()},Oe=()=>{Y(T.error||new DOMException("AbortError","AbortError")),ae()};T.addEventListener("complete",fe),T.addEventListener("error",Oe),T.addEventListener("abort",Oe)});at.set(T,P)}(T),ht(T,function oe(){return Le||(Le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,tn):T)}function Qe(T){if(T instanceof IDBRequest)return function gt(T){const P=new Promise((F,Y)=>{const ae=()=>{T.removeEventListener("success",fe),T.removeEventListener("error",Oe)},fe=()=>{F(Qe(T.result)),ae()},Oe=()=>{Y(T.error),ae()};T.addEventListener("success",fe),T.addEventListener("error",Oe)});return P.then(F=>{F instanceof IDBCursor&&vt.set(F,T)}).catch(()=>{}),Et.set(P,T),P}(T);if(ut.has(T))return ut.get(T);const P=Ee(T);return P!==T&&(ut.set(T,P),Et.set(P,T)),P}const mt=T=>Et.get(T),hn=["get","getKey","getAll","getAllKeys","count"],Gn=["put","add","delete","clear"],Pr=new Map;function gs(T,P){if(!(T instanceof IDBDatabase)||P in T||"string"!=typeof P)return;if(Pr.get(P))return Pr.get(P);const F=P.replace(/FromIndex$/,""),Y=P!==F,ae=Gn.includes(F);if(!(F in(Y?IDBIndex:IDBObjectStore).prototype)||!ae&&!hn.includes(F))return;const fe=function(){var Oe=(0,$.Z)(function*(Mt,...wt){const qt=this.transaction(Mt,ae?"readwrite":"readonly");let fn=qt.store;return Y&&(fn=fn.index(wt.shift())),(yield Promise.all([fn[F](...wt),ae&&qt.done]))[0]});return function(wt){return Oe.apply(this,arguments)}}();return Pr.set(P,fe),fe}!function Me(T){tn=T(tn)}(T=>({...T,get:(P,F,Y)=>gs(P,F)||T.get(P,F,Y),has:(P,F)=>!!gs(P,F)||T.has(P,F)}));const Jo="@firebase/installations",sr="0.6.4",Ja=1e4,ya=`w:${sr}`,Pe="FIS_v2",Ne="https://firebaseinstallations.googleapis.com/v1",qe=36e5,zt=new Te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ct(T){return T instanceof Te.ZR&&T.code.includes("request-failed")}function Zi({projectId:T}){return`${Ne}/projects/${T}/installations`}function sn(T){return{token:T.token,requestStatus:2,expiresIn:Gr(T.expiresIn),creationTime:Date.now()}}function li(T,P){return kn.apply(this,arguments)}function kn(){return(kn=(0,$.Z)(function*(T,P){const Y=(yield P.json()).error;return zt.create("request-failed",{requestName:T,serverCode:Y.code,serverMessage:Y.message,serverStatus:Y.status})})).apply(this,arguments)}function Ui({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function yr(T){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,$.Z)(function*(T){const P=yield T();return P.status>=500&&P.status<600?T():P})).apply(this,arguments)}function Gr(T){return Number(T.replace("s","000"))}function Ns(){return(Ns=(0,$.Z)(function*({appConfig:T,heartbeatServiceProvider:P},{fid:F}){const Y=Zi(T),ae=Ui(T),fe=P.getImmediate({optional:!0});if(fe){const qt=yield fe.getHeartbeatsHeader();qt&&ae.append("x-firebase-client",qt)}const Mt={method:"POST",headers:ae,body:JSON.stringify({fid:F,authVersion:Pe,appId:T.appId,sdkVersion:ya})},wt=yield yr(()=>fetch(Y,Mt));if(wt.ok){const qt=yield wt.json();return{fid:qt.fid||F,registrationStatus:2,refreshToken:qt.refreshToken,authToken:sn(qt.authToken)}}throw yield li("Create Installation",wt)})).apply(this,arguments)}function Ls(T){return new Promise(P=>{setTimeout(P,T)})}const Tc=/^[cdef][\w-]{21}$/,on="";function Wn(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const F=function Mn(T){return function xa(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return Tc.test(F)?F:on}catch{return on}}function Ti(T){return`${T.appName}!${T.appId}`}const qi=new Map;function _s(T,P){const F=Ti(T);Hl(F,P),function ci(T,P){const F=function Hn(){return!vs&&"BroadcastChannel"in self&&(vs=new BroadcastChannel("[Firebase] FID Change"),vs.onmessage=T=>{Hl(T.data.key,T.data.fid)}),vs}();F&&F.postMessage({key:T,fid:P}),function Io(){0===qi.size&&vs&&(vs.close(),vs=null)}()}(F,P)}function Hl(T,P){const F=qi.get(T);if(F)for(const Y of F)Y(P)}let vs=null;const wa="firebase-installations-database",Ea=1,Zs="firebase-installations-store";let Ca=null;function mo(){return Ca||(Ca=function Dt(T,P,{blocked:F,upgrade:Y,blocking:ae,terminated:fe}={}){const Oe=indexedDB.open(T,P),Mt=Qe(Oe);return Y&&Oe.addEventListener("upgradeneeded",wt=>{Y(Qe(Oe.result),wt.oldVersion,wt.newVersion,Qe(Oe.transaction))}),F&&Oe.addEventListener("blocked",()=>F()),Mt.then(wt=>{fe&&wt.addEventListener("close",()=>fe()),ae&&wt.addEventListener("versionchange",()=>ae())}).catch(()=>{}),Mt}(wa,Ea,{upgrade:(T,P)=>{0===P&&T.createObjectStore(Zs)}})),Ca}function br(T,P){return xr.apply(this,arguments)}function xr(){return(xr=(0,$.Z)(function*(T,P){const F=Ti(T),ae=(yield mo()).transaction(Zs,"readwrite"),fe=ae.objectStore(Zs),Oe=yield fe.get(F);return yield fe.put(P,F),yield ae.done,(!Oe||Oe.fid!==P.fid)&&_s(T,P.fid),P})).apply(this,arguments)}function ys(T){return or.apply(this,arguments)}function or(){return(or=(0,$.Z)(function*(T){const P=Ti(T),Y=(yield mo()).transaction(Zs,"readwrite");yield Y.objectStore(Zs).delete(P),yield Y.done})).apply(this,arguments)}function Xs(T,P){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,$.Z)(function*(T,P){const F=Ti(T),ae=(yield mo()).transaction(Zs,"readwrite"),fe=ae.objectStore(Zs),Oe=yield fe.get(F),Mt=P(Oe);return void 0===Mt?yield fe.delete(F):yield fe.put(Mt,F),yield ae.done,Mt&&(!Oe||Oe.fid!==Mt.fid)&&_s(T,Mt.fid),Mt})).apply(this,arguments)}function re(T){return ie.apply(this,arguments)}function ie(){return ie=(0,$.Z)(function*(T){let P;const F=yield Xs(T.appConfig,Y=>{const ae=function ue(T){return Rn(T||{fid:Wn(),registrationStatus:0})}(Y),fe=function Xe(T,P){if(0===P.registrationStatus){if(!navigator.onLine)return{installationEntry:P,registrationPromise:Promise.reject(zt.create("app-offline"))};const F={fid:P.fid,registrationStatus:1,registrationTime:Date.now()},Y=function Ae(T,P){return Ft.apply(this,arguments)}(T,F);return{installationEntry:F,registrationPromise:Y}}return 1===P.registrationStatus?{installationEntry:P,registrationPromise:wn(T)}:{installationEntry:P}}(T,ae);return P=fe.registrationPromise,fe.installationEntry});return F.fid===on?{installationEntry:yield P}:{installationEntry:F,registrationPromise:P}}),ie.apply(this,arguments)}function Ft(){return Ft=(0,$.Z)(function*(T,P){try{const F=yield function ba(T,P){return Ns.apply(this,arguments)}(T,P);return br(T.appConfig,F)}catch(F){throw Ct(F)&&409===F.customData.serverCode?yield ys(T.appConfig):yield br(T.appConfig,{fid:P.fid,registrationStatus:0}),F}}),Ft.apply(this,arguments)}function wn(T){return mn.apply(this,arguments)}function mn(){return(mn=(0,$.Z)(function*(T){let P=yield wr(T.appConfig);for(;1===P.registrationStatus;)yield Ls(100),P=yield wr(T.appConfig);if(0===P.registrationStatus){const{installationEntry:F,registrationPromise:Y}=yield re(T);return Y||F}return P})).apply(this,arguments)}function wr(T){return Xs(T,P=>{if(!P)throw zt.create("installation-not-found");return Rn(P)})}function Rn(T){return function Xi(T){return 1===T.registrationStatus&&T.registrationTime+Ja<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function mr(){return(mr=(0,$.Z)(function*({appConfig:T,heartbeatServiceProvider:P},F){const Y=function Ro(T,{fid:P}){return`${Zi(T)}/${P}/authTokens:generate`}(T,F),ae=function Bi(T,{refreshToken:P}){const F=Ui(T);return F.append("Authorization",function Os(T){return`${Pe} ${T}`}(P)),F}(T,F),fe=P.getImmediate({optional:!0});if(fe){const qt=yield fe.getHeartbeatsHeader();qt&&ae.append("x-firebase-client",qt)}const Mt={method:"POST",headers:ae,body:JSON.stringify({installation:{sdkVersion:ya,appId:T.appId}})},wt=yield yr(()=>fetch(Y,Mt));if(wt.ok)return sn(yield wt.json());throw yield li("Generate Auth Token",wt)})).apply(this,arguments)}function Qo(T){return Ac.apply(this,arguments)}function Ac(){return Ac=(0,$.Z)(function*(T,P=!1){let F;const Y=yield Xs(T.appConfig,fe=>{if(!On(fe))throw zt.create("not-registered");const Oe=fe.authToken;if(!P&&function di(T){return 2===T.requestStatus&&!function ar(T){const P=Date.now();return P<T.creationTime||T.creationTime+T.expiresIn<P+qe}(T)}(Oe))return fe;if(1===Oe.requestStatus)return F=function ke(T,P){return Se.apply(this,arguments)}(T,P),fe;{if(!navigator.onLine)throw zt.create("app-offline");const Mt=function lr(T){const P={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:P})}(fe);return F=function Wt(T,P){return It.apply(this,arguments)}(T,Mt),Mt}});return F?yield F:Y.authToken}),Ac.apply(this,arguments)}function Se(){return(Se=(0,$.Z)(function*(T,P){let F=yield ct(T.appConfig);for(;1===F.authToken.requestStatus;)yield Ls(100),F=yield ct(T.appConfig);const Y=F.authToken;return 0===Y.requestStatus?Qo(T,P):Y})).apply(this,arguments)}function ct(T){return Xs(T,P=>{if(!On(P))throw zt.create("not-registered");return function Or(T){return 1===T.requestStatus&&T.requestTime+Ja<Date.now()}(P.authToken)?Object.assign(Object.assign({},P),{authToken:{requestStatus:0}}):P})}function It(){return It=(0,$.Z)(function*(T,P){try{const F=yield function ei(T,P){return mr.apply(this,arguments)}(T,P),Y=Object.assign(Object.assign({},P),{authToken:F});return yield br(T.appConfig,Y),F}catch(F){if(!Ct(F)||401!==F.customData.serverCode&&404!==F.customData.serverCode){const Y=Object.assign(Object.assign({},P),{authToken:{requestStatus:0}});yield br(T.appConfig,Y)}else yield ys(T.appConfig);throw F}}),It.apply(this,arguments)}function On(T){return void 0!==T&&2===T.registrationStatus}function zl(){return(zl=(0,$.Z)(function*(T){const P=T,{installationEntry:F,registrationPromise:Y}=yield re(P);return Y?Y.catch(console.error):Qo(P).catch(console.error),F.fid})).apply(this,arguments)}function Sa(){return Sa=(0,$.Z)(function*(T,P=!1){const F=T;return yield function Ju(T){return Js.apply(this,arguments)}(F),(yield Qo(F,P)).token}),Sa.apply(this,arguments)}function Js(){return(Js=(0,$.Z)(function*(T){const{registrationPromise:P}=yield re(T);P&&(yield P)})).apply(this,arguments)}function Ma(T){return zt.create("missing-app-config-values",{valueName:T})}const Dc="installations",jv=T=>{const P=T.getProvider("app").getImmediate(),F=function xs(T){if(!T||!T.options)throw Ma("App Configuration");if(!T.name)throw Ma("App Name");const P=["projectId","apiKey","appId"];for(const F of P)if(!T.options[F])throw Ma(F);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(P);return{app:P,appConfig:F,heartbeatServiceProvider:(0,we._getProvider)(P,"heartbeat"),_delete:()=>Promise.resolve()}},el=T=>{const P=T.getProvider("app").getImmediate(),F=(0,we._getProvider)(P,Dc).getImmediate();return{getId:()=>function go(T){return zl.apply(this,arguments)}(F),getToken:ae=>function Ku(T){return Sa.apply(this,arguments)}(F,ae)}};(function Wf(){(0,we._registerComponent)(new xe.wA(Dc,jv,"PUBLIC")),(0,we._registerComponent)(new xe.wA("installations-internal",el,"PRIVATE"))})(),(0,we.registerVersion)(Jo,sr),(0,we.registerVersion)(Jo,sr,"esm2017");const Wl="@firebase/remote-config",Wr=new Te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class pn{constructor(P,F,Y,ae){this.client=P,this.storage=F,this.storageCache=Y,this.logger=ae}isCachedDataFresh(P,F){if(!F)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Y=Date.now()-F,ae=Y<=P;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Y}. Cache max age millis (minimumFetchIntervalMillis setting): ${P}. Is cache hit: ${ae}.`),ae}fetch(P){var F=this;return(0,$.Z)(function*(){const[Y,ae]=yield Promise.all([F.storage.getLastSuccessfulFetchTimestampMillis(),F.storage.getLastSuccessfulFetchResponse()]);if(ae&&F.isCachedDataFresh(P.cacheMaxAgeMillis,Y))return ae;P.eTag=ae&&ae.eTag;const fe=yield F.client.fetch(P),Oe=[F.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===fe.status&&Oe.push(F.storage.setLastSuccessfulFetchResponse(fe)),yield Promise.all(Oe),fe})()}}function Hi(T=navigator){return T.languages&&T.languages[0]||T.language}class ls{constructor(P,F,Y,ae,fe,Oe){this.firebaseInstallations=P,this.sdkVersion=F,this.namespace=Y,this.projectId=ae,this.apiKey=fe,this.appId=Oe}fetch(P){var F=this;return(0,$.Z)(function*(){const[Y,ae]=yield Promise.all([F.firebaseInstallations.getId(),F.firebaseInstallations.getToken()]),Oe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${F.projectId}/namespaces/${F.namespace}:fetch?key=${F.apiKey}`,Mt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":P.eTag||"*"},wt={sdk_version:F.sdkVersion,app_instance_id:Y,app_instance_id_token:ae,app_id:F.appId,language_code:Hi()},qt={method:"POST",headers:Mt,body:JSON.stringify(wt)},fn=fetch(Oe,qt),Tn=new Promise(($r,Yr)=>{P.signal.addEventListener(()=>{const Ji=new Error("The operation was aborted.");Ji.name="AbortError",Yr(Ji)})});let dr;try{yield Promise.race([fn,Tn]),dr=yield fn}catch($r){let Yr="fetch-client-network";throw"AbortError"===$r?.name&&(Yr="fetch-timeout"),Wr.create(Yr,{originalErrorMessage:$r?.message})}let _r=dr.status;const Bo=dr.headers.get("ETag")||void 0;let Ki,bl;if(200===dr.status){let $r;try{$r=yield dr.json()}catch(Yr){throw Wr.create("fetch-client-parse",{originalErrorMessage:Yr?.message})}Ki=$r.entries,bl=$r.state}if("INSTANCE_STATE_UNSPECIFIED"===bl?_r=500:"NO_CHANGE"===bl?_r=304:("NO_TEMPLATE"===bl||"EMPTY_CONFIG"===bl)&&(Ki={}),304!==_r&&200!==_r)throw Wr.create("fetch-status",{httpStatus:_r});return{status:_r,eTag:Bo,config:Ki}})()}}class Pc{constructor(P,F){this.client=P,this.storage=F}fetch(P){var F=this;return(0,$.Z)(function*(){const Y=(yield F.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return F.attemptFetch(P,Y)})()}attemptFetch(P,{throttleEndTimeMillis:F,backoffCount:Y}){var ae=this;return(0,$.Z)(function*(){yield function tl(T,P){return new Promise((F,Y)=>{const ae=Math.max(P-Date.now(),0),fe=setTimeout(F,ae);T.addEventListener(()=>{clearTimeout(fe),Y(Wr.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(P.signal,F);try{const fe=yield ae.client.fetch(P);return yield ae.storage.deleteThrottleMetadata(),fe}catch(fe){if(!function Nr(T){if(!(T instanceof Te.ZR&&T.customData))return!1;const P=Number(T.customData.httpStatus);return 429===P||500===P||503===P||504===P}(fe))throw fe;const Oe={throttleEndTimeMillis:Date.now()+(0,Te.$s)(Y),backoffCount:Y+1};return yield ae.storage.setThrottleMetadata(Oe),ae.attemptFetch(P,Oe)}})()}}class $l{constructor(P,F,Y,ae,fe){this.app=P,this._client=F,this._storageCache=Y,this._storage=ae,this._logger=fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function _n(T,P){const F=T.target.error||void 0;return Wr.create(P,{originalErrorMessage:F&&F?.message})}const Lr="app_namespace_store";class rh{constructor(P,F,Y,ae=function zi(){return new Promise((T,P)=>{try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=Y=>{P(_n(Y,"storage-open"))},F.onsuccess=Y=>{T(Y.target.result)},F.onupgradeneeded=Y=>{0===Y.oldVersion&&Y.target.result.createObjectStore(Lr,{keyPath:"compositeKey"})}}catch(F){P(Wr.create("storage-open",{originalErrorMessage:F?.message}))}})}()){this.appId=P,this.appName=F,this.namespace=Y,this.openDbPromise=ae}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(P){return this.set("last_fetch_status",P)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(P){return this.set("last_successful_fetch_timestamp_millis",P)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(P){return this.set("last_successful_fetch_response",P)}getActiveConfig(){return this.get("active_config")}setActiveConfig(P){return this.set("active_config",P)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(P){return this.set("active_config_etag",P)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(P){return this.set("throttle_metadata",P)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(P){var F=this;return(0,$.Z)(function*(){const Y=yield F.openDbPromise;return new Promise((ae,fe)=>{const Mt=Y.transaction([Lr],"readonly").objectStore(Lr),wt=F.createCompositeKey(P);try{const qt=Mt.get(wt);qt.onerror=fn=>{fe(_n(fn,"storage-get"))},qt.onsuccess=fn=>{const Tn=fn.target.result;ae(Tn?Tn.value:void 0)}}catch(qt){fe(Wr.create("storage-get",{originalErrorMessage:qt?.message}))}})})()}set(P,F){var Y=this;return(0,$.Z)(function*(){const ae=yield Y.openDbPromise;return new Promise((fe,Oe)=>{const wt=ae.transaction([Lr],"readwrite").objectStore(Lr),qt=Y.createCompositeKey(P);try{const fn=wt.put({compositeKey:qt,value:F});fn.onerror=Tn=>{Oe(_n(Tn,"storage-set"))},fn.onsuccess=()=>{fe()}}catch(fn){Oe(Wr.create("storage-set",{originalErrorMessage:fn?.message}))}})})()}delete(P){var F=this;return(0,$.Z)(function*(){const Y=yield F.openDbPromise;return new Promise((ae,fe)=>{const Mt=Y.transaction([Lr],"readwrite").objectStore(Lr),wt=F.createCompositeKey(P);try{const qt=Mt.delete(wt);qt.onerror=fn=>{fe(_n(fn,"storage-delete"))},qt.onsuccess=()=>{ae()}}catch(qt){fe(Wr.create("storage-delete",{originalErrorMessage:qt?.message}))}})})()}createCompositeKey(P){return[this.appId,this.appName,this.namespace,P].join()}}class nl{constructor(P){this.storage=P}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var P=this;return(0,$.Z)(function*(){const F=P.storage.getLastFetchStatus(),Y=P.storage.getLastSuccessfulFetchTimestampMillis(),ae=P.storage.getActiveConfig(),fe=yield F;fe&&(P.lastFetchStatus=fe);const Oe=yield Y;Oe&&(P.lastSuccessfulFetchTimestampMillis=Oe);const Mt=yield ae;Mt&&(P.activeConfig=Mt)})()}setLastFetchStatus(P){return this.lastFetchStatus=P,this.storage.setLastFetchStatus(P)}setLastSuccessfulFetchTimestampMillis(P){return this.lastSuccessfulFetchTimestampMillis=P,this.storage.setLastSuccessfulFetchTimestampMillis(P)}setActiveConfig(P){return this.activeConfig=P,this.storage.setActiveConfig(P)}}function Da(){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,$.Z)(function*(){if(!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch{return!1}})).apply(this,arguments)}!function Er(){(0,we._registerComponent)(new xe.wA("remote-config",function T(P,{instanceIdentifier:F}){const Y=P.getProvider("app").getImmediate(),ae=P.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Wr.create("registration-window");if(!(0,Te.hl)())throw Wr.create("indexed-db-unavailable");const{projectId:fe,apiKey:Oe,appId:Mt}=Y.options;if(!fe)throw Wr.create("registration-project-id");if(!Oe)throw Wr.create("registration-api-key");if(!Mt)throw Wr.create("registration-app-id");const wt=new rh(Mt,Y.name,F=F||"firebase"),qt=new nl(wt),fn=new ze.Yd(Wl);fn.logLevel=ze.in.ERROR;const Tn=new ls(ae,we.SDK_VERSION,F,fe,Oe,Mt),dr=new Pc(Tn,wt),_r=new pn(dr,wt,qt,fn),Bo=new $l(Y,_r,qt,wt,fn);return function os(T){const P=(0,Te.m9)(T);P._initializePromise||(P._initializePromise=P._storageCache.loadFromStorage().then(()=>{P._isInitializationComplete=!0}))}(Bo),Bo},"PUBLIC").setMultipleInstances(!0)),(0,we.registerVersion)(Wl,"0.4.4"),(0,we.registerVersion)(Wl,"0.4.4","esm2017")}();const kc=(T,P)=>P.some(F=>T instanceof F);let Ia,Fn;const zd=new WeakMap,Cr=new WeakMap,il=new WeakMap,Sr=new WeakMap,Ra=new WeakMap;let Mr={get(T,P,F){if(T instanceof IDBTransaction){if("done"===P)return Cr.get(T);if("objectStoreNames"===P)return T.objectStoreNames||il.get(T);if("store"===P)return F.objectStoreNames[1]?void 0:F.objectStore(F.objectStoreNames[0])}return Us(T[P])},set:(T,P,F)=>(T[P]=F,!0),has:(T,P)=>T instanceof IDBTransaction&&("done"===P||"store"===P)||P in T};function rl(T){return"function"==typeof T?function Gd(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Yl(){return Fn||(Fn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...P){return T.apply(ws(this),P),Us(zd.get(this))}:function(...P){return Us(T.apply(ws(this),P))}:function(P,...F){const Y=T.call(ws(this),P,...F);return il.set(Y,P.sort?P.sort():[P]),Us(Y)}}(T):(T instanceof IDBTransaction&&function lg(T){if(Cr.has(T))return;const P=new Promise((F,Y)=>{const ae=()=>{T.removeEventListener("complete",fe),T.removeEventListener("error",Oe),T.removeEventListener("abort",Oe)},fe=()=>{F(),ae()},Oe=()=>{Y(T.error||new DOMException("AbortError","AbortError")),ae()};T.addEventListener("complete",fe),T.addEventListener("error",Oe),T.addEventListener("abort",Oe)});Cr.set(T,P)}(T),kc(T,function $v(){return Ia||(Ia=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,Mr):T)}function Us(T){if(T instanceof IDBRequest)return function Fr(T){const P=new Promise((F,Y)=>{const ae=()=>{T.removeEventListener("success",fe),T.removeEventListener("error",Oe)},fe=()=>{F(Us(T.result)),ae()},Oe=()=>{Y(T.error),ae()};T.addEventListener("success",fe),T.addEventListener("error",Oe)});return P.then(F=>{F instanceof IDBCursor&&zd.set(F,T)}).catch(()=>{}),Ra.set(P,T),P}(T);if(Sr.has(T))return Sr.get(T);const P=rl(T);return P!==T&&(Sr.set(T,P),Ra.set(P,T)),P}const ws=T=>Ra.get(T);function ql(T,P,{blocked:F,upgrade:Y,blocking:ae,terminated:fe}={}){const Oe=indexedDB.open(T,P),Mt=Us(Oe);return Y&&Oe.addEventListener("upgradeneeded",wt=>{Y(Us(Oe.result),wt.oldVersion,wt.newVersion,Us(Oe.transaction))}),F&&Oe.addEventListener("blocked",()=>F()),Mt.then(wt=>{fe&&wt.addEventListener("close",()=>fe()),ae&&wt.addEventListener("versionchange",()=>ae())}).catch(()=>{}),Mt}function Zl(T,{blocked:P}={}){const F=indexedDB.deleteDatabase(T);return P&&F.addEventListener("blocked",()=>P()),Us(F).then(()=>{})}const sh=["get","getKey","getAll","getAllKeys","count"],Yv=["put","add","delete","clear"],Wd=new Map;function oh(T,P){if(!(T instanceof IDBDatabase)||P in T||"string"!=typeof P)return;if(Wd.get(P))return Wd.get(P);const F=P.replace(/FromIndex$/,""),Y=P!==F,ae=Yv.includes(F);if(!(F in(Y?IDBIndex:IDBObjectStore).prototype)||!ae&&!sh.includes(F))return;const fe=function(){var Oe=(0,$.Z)(function*(Mt,...wt){const qt=this.transaction(Mt,ae?"readwrite":"readonly");let fn=qt.store;return Y&&(fn=fn.index(wt.shift())),(yield Promise.all([fn[F](...wt),ae&&qt.done]))[0]});return function(wt){return Oe.apply(this,arguments)}}();return Wd.set(P,fe),fe}!function jr(T){Mr=T(Mr)}(T=>({...T,get:(P,F,Y)=>oh(P,F)||T.get(P,F,Y),has:(P,F)=>!!oh(P,F)||T.has(P,F)}));const qf="/firebase-messaging-sw.js",ah="/firebase-cloud-messaging-push-scope",Zf="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",qv="https://fcmregistrations.googleapis.com/v1",Gi="google.c.a.c_id",Zv="google.c.a.c_l",cg="google.c.a.ts";var Xf=function(T){return T.PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",T}(Xf||{});function ia(T){const P=new Uint8Array(T);return btoa(String.fromCharCode(...P)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function lh(T){const F=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Y=atob(F),ae=new Uint8Array(Y.length);for(let fe=0;fe<Y.length;++fe)ae[fe]=Y.charCodeAt(fe);return ae}const Xl="fcm_token_details_db",ch=5,Oc="fcm_token_object_Store";function Nc(){return Nc=(0,$.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(fe=>fe.name).includes(Xl))return null;let P=null;return(yield ql(Xl,ch,{upgrade:(Y=(0,$.Z)(function*(ae,fe,Oe,Mt){var wt;if(fe<2||!ae.objectStoreNames.contains(Oc))return;const qt=Mt.objectStore(Oc),fn=yield qt.index("fcmSenderId").get(T);if(yield qt.clear(),fn)if(2===fe){const Tn=fn;if(!Tn.auth||!Tn.p256dh||!Tn.endpoint)return;P={token:Tn.fcmToken,createTime:null!==(wt=Tn.createTime)&&void 0!==wt?wt:Date.now(),subscriptionOptions:{auth:Tn.auth,p256dh:Tn.p256dh,endpoint:Tn.endpoint,swScope:Tn.swScope,vapidKey:"string"==typeof Tn.vapidKey?Tn.vapidKey:ia(Tn.vapidKey)}}}else if(3===fe){const Tn=fn;P={token:Tn.fcmToken,createTime:Tn.createTime,subscriptionOptions:{auth:ia(Tn.auth),p256dh:ia(Tn.p256dh),endpoint:Tn.endpoint,swScope:Tn.swScope,vapidKey:ia(Tn.vapidKey)}}}else if(4===fe){const Tn=fn;P={token:Tn.fcmToken,createTime:Tn.createTime,subscriptionOptions:{auth:ia(Tn.auth),p256dh:ia(Tn.p256dh),endpoint:Tn.endpoint,swScope:Tn.swScope,vapidKey:ia(Tn.vapidKey)}}}}),function(fe,Oe,Mt,wt){return Y.apply(this,arguments)})})).close(),yield Zl(Xl),yield Zl("fcm_vapid_details_db"),yield Zl("undefined"),function sl(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:P}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof P.auth&&P.auth.length>0&&"string"==typeof P.p256dh&&P.p256dh.length>0&&"string"==typeof P.endpoint&&P.endpoint.length>0&&"string"==typeof P.swScope&&P.swScope.length>0&&"string"==typeof P.vapidKey&&P.vapidKey.length>0}(P)?P:null;var Y}),Nc.apply(this,arguments)}const Po="firebase-messaging-database",Kf=1,to="firebase-messaging-store";let gr=null;function ol(){return gr||(gr=ql(Po,Kf,{upgrade:(T,P)=>{0===P&&T.createObjectStore(to)}})),gr}function Es(T){return al.apply(this,arguments)}function al(){return al=(0,$.Z)(function*(T){const P=Fc(T),Y=yield(yield ol()).transaction(to).objectStore(to).get(P);if(Y)return Y;{const ae=yield function tx(T){return Nc.apply(this,arguments)}(T.appConfig.senderId);if(ae)return yield dh(T,ae),ae}}),al.apply(this,arguments)}function dh(T,P){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,$.Z)(function*(T,P){const F=Fc(T),ae=(yield ol()).transaction(to,"readwrite");return yield ae.objectStore(to).put(P,F),yield ae.done,P})).apply(this,arguments)}function Kl(){return(Kl=(0,$.Z)(function*(T){const P=Fc(T),Y=(yield ol()).transaction(to,"readwrite");yield Y.objectStore(to).delete(P),yield Y.done})).apply(this,arguments)}function Fc({appConfig:T}){return T.appId}const Tr=new Te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function uh(T,P){return hh.apply(this,arguments)}function hh(){return(hh=(0,$.Z)(function*(T,P){const F=yield ep(T),Y=Xv(P),ae={method:"POST",headers:F,body:JSON.stringify(Y)};let fe;try{fe=yield(yield fetch(Bc(T.appConfig),ae)).json()}catch(Oe){throw Tr.create("token-subscribe-failed",{errorInfo:Oe?.toString()})}if(fe.error)throw Tr.create("token-subscribe-failed",{errorInfo:fe.error.message});if(!fe.token)throw Tr.create("token-subscribe-no-token");return fe.token})).apply(this,arguments)}function Uc(){return(Uc=(0,$.Z)(function*(T,P){const F=yield ep(T),Y=Xv(P.subscriptionOptions),ae={method:"PATCH",headers:F,body:JSON.stringify(Y)};let fe;try{fe=yield(yield fetch(`${Bc(T.appConfig)}/${P.token}`,ae)).json()}catch(Oe){throw Tr.create("token-update-failed",{errorInfo:Oe?.toString()})}if(fe.error)throw Tr.create("token-update-failed",{errorInfo:fe.error.message});if(!fe.token)throw Tr.create("token-update-no-token");return fe.token})).apply(this,arguments)}function ll(T,P){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,$.Z)(function*(T,P){const Y={method:"DELETE",headers:yield ep(T)};try{const fe=yield(yield fetch(`${Bc(T.appConfig)}/${P}`,Y)).json();if(fe.error)throw Tr.create("token-unsubscribe-failed",{errorInfo:fe.error.message})}catch(ae){throw Tr.create("token-unsubscribe-failed",{errorInfo:ae?.toString()})}})).apply(this,arguments)}function Bc({projectId:T}){return`${qv}/projects/${T}/registrations`}function ep(T){return jd.apply(this,arguments)}function jd(){return(jd=(0,$.Z)(function*({appConfig:T,installations:P}){const F=yield P.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${F}`})})).apply(this,arguments)}function Xv({p256dh:T,auth:P,endpoint:F,vapidKey:Y}){const ae={web:{endpoint:F,auth:P,p256dh:T}};return Y!==Zf&&(ae.web.applicationPubKey=Y),ae}const tp=6048e5;function ph(){return ph=(0,$.Z)(function*(T){const P=yield function Vc(T,P){return mh.apply(this,arguments)}(T.swRegistration,T.vapidKey),F={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:P.endpoint,auth:ia(P.getKey("auth")),p256dh:ia(P.getKey("p256dh"))},Y=yield Es(T.firebaseDependencies);if(Y){if(function ip(T,P){return P.vapidKey===T.vapidKey&&P.endpoint===T.endpoint&&P.auth===T.auth&&P.p256dh===T.p256dh}(Y.subscriptionOptions,F))return Date.now()>=Y.createTime+tp?function ug(T,P){return Jl.apply(this,arguments)}(T,{token:Y.token,createTime:Date.now(),subscriptionOptions:F}):Y.token;try{yield ll(T.firebaseDependencies,Y.token)}catch(ae){console.warn(ae)}return Jv(T.firebaseDependencies,F)}return Jv(T.firebaseDependencies,F)}),ph.apply(this,arguments)}function $d(){return $d=(0,$.Z)(function*(T){const P=yield Es(T.firebaseDependencies);P&&(yield ll(T.firebaseDependencies,P.token),yield function Jf(T){return Kl.apply(this,arguments)}(T.firebaseDependencies));const F=yield T.swRegistration.pushManager.getSubscription();return!F||F.unsubscribe()}),$d.apply(this,arguments)}function Jl(){return Jl=(0,$.Z)(function*(T,P){try{const F=yield function fh(T,P){return Uc.apply(this,arguments)}(T.firebaseDependencies,P),Y=Object.assign(Object.assign({},P),{token:F,createTime:Date.now()});return yield dh(T.firebaseDependencies,Y),F}catch(F){throw yield function np(T){return $d.apply(this,arguments)}(T),F}}),Jl.apply(this,arguments)}function Jv(T,P){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,$.Z)(function*(T,P){const Y={token:yield uh(T,P),createTime:Date.now(),subscriptionOptions:P};return yield dh(T,Y),Y.token})).apply(this,arguments)}function mh(){return(mh=(0,$.Z)(function*(T,P){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:lh(P)})})).apply(this,arguments)}function Yd(T){const P={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function Hc(T,P){if(!P.notification)return;T.notification={};const F=P.notification.title;F&&(T.notification.title=F);const Y=P.notification.body;Y&&(T.notification.body=Y);const ae=P.notification.image;ae&&(T.notification.image=ae);const fe=P.notification.icon;fe&&(T.notification.icon=fe)}(P,T),function hg(T,P){P.data&&(T.data=P.data)}(P,T),function gh(T,P){var F,Y,ae,fe,Oe;if(!(P.fcmOptions||null!==(F=P.notification)&&void 0!==F&&F.click_action))return;T.fcmOptions={};const Mt=null!==(ae=null===(Y=P.fcmOptions)||void 0===Y?void 0:Y.link)&&void 0!==ae?ae:null===(fe=P.notification)||void 0===fe?void 0:fe.click_action;Mt&&(T.fcmOptions.link=Mt);const wt=null===(Oe=P.fcmOptions)||void 0===Oe?void 0:Oe.analytics_label;wt&&(T.fcmOptions.analyticsLabel=wt)}(P,T),P}function _h(T,P){const F=[];for(let Y=0;Y<T.length;Y++)F.push(T.charAt(Y)),Y<P.length&&F.push(P.charAt(Y));return F.join("")}function vh(T){return Tr.create("missing-app-config-values",{valueName:T})}_h("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),_h("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class pg{constructor(P,F,Y){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ae=function fg(T){if(!T||!T.options)throw vh("App Configuration Object");if(!T.name)throw vh("App Name");const P=["projectId","apiKey","appId","messagingSenderId"],{options:F}=T;for(const Y of P)if(!F[Y])throw vh(Y);return{appName:T.name,projectId:F.projectId,apiKey:F.apiKey,appId:F.appId,senderId:F.messagingSenderId}}(P);this.firebaseDependencies={app:P,appConfig:ae,installations:F,analyticsProvider:Y}}_delete(){return Promise.resolve()}}function zc(){return(zc=(0,$.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(qf,{scope:ah}),T.swRegistration.update().catch(()=>{})}catch(P){throw Tr.create("failed-service-worker-registration",{browserErrorMessage:P?.message})}})).apply(this,arguments)}function cl(){return(cl=(0,$.Z)(function*(T,P){if(!P&&!T.swRegistration&&(yield function qd(T){return zc.apply(this,arguments)}(T)),P||!T.swRegistration){if(!(P instanceof ServiceWorkerRegistration))throw Tr.create("invalid-sw-registration");T.swRegistration=P}})).apply(this,arguments)}function dl(){return(dl=(0,$.Z)(function*(T,P){P?T.vapidKey=P:T.vapidKey||(T.vapidKey=Zf)})).apply(this,arguments)}function Gc(){return Gc=(0,$.Z)(function*(T,P){if(!navigator)throw Tr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Tr.create("permission-blocked");return yield function ko(T,P){return dl.apply(this,arguments)}(T,P?.vapidKey),yield function mg(T,P){return cl.apply(this,arguments)}(T,P?.serviceWorkerRegistration),function Kv(T){return ph.apply(this,arguments)}(T)}),Gc.apply(this,arguments)}function _o(){return(_o=(0,$.Z)(function*(T,P,F){const Y=function sp(T){switch(T){case Xf.NOTIFICATION_CLICKED:return"notification_open";case Xf.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(P);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(Y,{message_id:F[Gi],message_name:F[Zv],message_time:F[cg],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _i(){return _i=(0,$.Z)(function*(T,P){const F=P.data;if(!F.isFirebaseMessaging)return;T.onMessageHandler&&F.messageType===Xf.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(Yd(F)):T.onMessageHandler.next(Yd(F)));const Y=F.data;(function Qv(T){return"object"==typeof T&&!!T&&Gi in T})(Y)&&"1"===Y["google.c.a.e"]&&(yield function gg(T,P,F){return _o.apply(this,arguments)}(T,F.messageType,Y))}),_i.apply(this,arguments)}const ka="@firebase/messaging",Ur=T=>{const P=new pg(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",F=>function op(T,P){return _i.apply(this,arguments)}(P,F)),P},_g=T=>{const P=T.getProvider("messaging").getImmediate();return{getToken:Y=>function rp(T,P){return Gc.apply(this,arguments)}(P,Y)}};function hl(){return Br.apply(this,arguments)}function Br(){return(Br=(0,$.Z)(function*(){try{yield(0,Te.eu)()}catch{return!1}return typeof window<"u"&&(0,Te.hl)()&&(0,Te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function yh(){(0,we._registerComponent)(new xe.wA("messaging",Ur,"PUBLIC")),(0,we._registerComponent)(new xe.wA("messaging-internal",_g,"PRIVATE")),(0,we.registerVersion)(ka,"0.12.4"),(0,we.registerVersion)(ka,"0.12.4","esm2017")}();const Pi="analytics",ty="firebase_id",vn="origin",ap=6e4,lp="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xd="https://www.googletagmanager.com/gtag/js",Ar=new ze.Yd("@firebase/analytics"),Vr=new Te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Oo(T){if(!T.startsWith(Xd)){const P=Vr.create("invalid-gtag-resource",{gtagURL:T});return Ar.warn(P.message),""}return T}function Kd(T){return Promise.all(T.map(P=>P.catch(F=>F)))}function et(){return(et=(0,$.Z)(function*(T,P,F,Y,ae,fe){const Oe=Y[ae];try{if(Oe)yield P[Oe];else{const wt=(yield Kd(F)).find(qt=>qt.measurementId===ae);wt&&(yield P[wt.appId])}}catch(Mt){Ar.error(Mt)}T("config",ae,fe)})).apply(this,arguments)}function vo(){return(vo=(0,$.Z)(function*(T,P,F,Y,ae){try{let fe=[];if(ae&&ae.send_to){let Oe=ae.send_to;Array.isArray(Oe)||(Oe=[Oe]);const Mt=yield Kd(F);for(const wt of Oe){const qt=Mt.find(Tn=>Tn.measurementId===wt),fn=qt&&P[qt.appId];if(!fn){fe=[];break}fe.push(fn)}}0===fe.length&&(fe=Object.values(P)),yield Promise.all(fe),T("event",Y,ae||{})}catch(fe){Ar.error(fe)}})).apply(this,arguments)}const tc=30,wh=new class fl{constructor(P={},F=1e3){this.throttleMetadata=P,this.intervalMillis=F}getThrottleMetadata(P){return this.throttleMetadata[P]}setThrottleMetadata(P,F){this.throttleMetadata[P]=F}deleteThrottleMetadata(P){delete this.throttleMetadata[P]}};function xg(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function Eh(){return(Eh=(0,$.Z)(function*(T){var P;const{appId:F,apiKey:Y}=T,ae={method:"GET",headers:xg(Y)},fe=lp.replace("{app-id}",F),Oe=yield fetch(fe,ae);if(200!==Oe.status&&304!==Oe.status){let Mt="";try{const wt=yield Oe.json();null!==(P=wt.error)&&void 0!==P&&P.message&&(Mt=wt.error.message)}catch{}throw Vr.create("config-fetch-failed",{httpStatus:Oe.status,responseMessage:Mt})}return Oe.json()})).apply(this,arguments)}function Bs(){return(Bs=(0,$.Z)(function*(T,P=wh,F){const{appId:Y,apiKey:ae,measurementId:fe}=T.options;if(!Y)throw Vr.create("no-app-id");if(!ae){if(fe)return{measurementId:fe,appId:Y};throw Vr.create("no-api-key")}const Oe=P.getThrottleMetadata(Y)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Mt=new Sh;return setTimeout((0,$.Z)(function*(){Mt.abort()}),void 0!==F?F:ap),dp({appId:Y,apiKey:ae,measurementId:fe},Oe,Mt,P)})).apply(this,arguments)}function dp(T,P,F){return pl.apply(this,arguments)}function pl(){return pl=(0,$.Z)(function*(T,{throttleEndTimeMillis:P,backoffCount:F},Y,ae=wh){var fe;const{appId:Oe,measurementId:Mt}=T;try{yield function No(T,P){return new Promise((F,Y)=>{const ae=Math.max(P-Date.now(),0),fe=setTimeout(F,ae);T.addEventListener(()=>{clearTimeout(fe),Y(Vr.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(Y,P)}catch(wt){if(Mt)return Ar.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Mt} provided in the "measurementId" field in the local Firebase config. [${wt?.message}]`),{appId:Oe,measurementId:Mt};throw wt}try{const wt=yield function nx(T){return Eh.apply(this,arguments)}(T);return ae.deleteThrottleMetadata(Oe),wt}catch(wt){const qt=wt;if(!function Ch(T){if(!(T instanceof Te.ZR&&T.customData))return!1;const P=Number(T.customData.httpStatus);return 429===P||500===P||503===P||504===P}(qt)){if(ae.deleteThrottleMetadata(Oe),Mt)return Ar.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Mt} provided in the "measurementId" field in the local Firebase config. [${qt?.message}]`),{appId:Oe,measurementId:Mt};throw wt}const fn=503===Number(null===(fe=qt?.customData)||void 0===fe?void 0:fe.httpStatus)?(0,Te.$s)(F,ae.intervalMillis,tc):(0,Te.$s)(F,ae.intervalMillis),Tn={throttleEndTimeMillis:Date.now()+fn,backoffCount:F+1};return ae.setThrottleMetadata(Oe,Tn),Ar.debug(`Calling attemptFetch again in ${fn} millis`),dp(T,Tn,Y,ae)}}),pl.apply(this,arguments)}class Sh{constructor(){this.listeners=[]}addEventListener(P){this.listeners.push(P)}abort(){this.listeners.forEach(P=>P())}}let nu,nc;function iu(){return(iu=(0,$.Z)(function*(T,P,F,Y,ae){if(ae&&ae.global)T("event",F,Y);else{const fe=yield P;T("event",F,Object.assign(Object.assign({},Y),{send_to:fe}))}})).apply(this,arguments)}function no(){return(no=(0,$.Z)(function*(){if(!(0,Te.hl)())return Ar.warn(Vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Te.eu)()}catch(T){return Ar.warn(Vr.create("indexeddb-unavailable",{errorInfo:T?.toString()}).message),!1}return!0})).apply(this,arguments)}function ml(){return ml=(0,$.Z)(function*(T,P,F,Y,ae,fe,Oe){var Mt;const wt=function Ss(T){return Bs.apply(this,arguments)}(T);wt.then(_r=>{F[_r.measurementId]=_r.appId,T.options.measurementId&&_r.measurementId!==T.options.measurementId&&Ar.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${_r.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_r=>Ar.error(_r)),P.push(wt);const qt=function jn(){return no.apply(this,arguments)}().then(_r=>{if(_r)return Y.getId()}),[fn,Tn]=yield Promise.all([wt,qt]);(function tu(T){const P=window.document.getElementsByTagName("script");for(const F of Object.values(P))if(F.src&&F.src.includes(Xd)&&F.src.includes(T))return F;return null})(fe)||function Qd(T,P){const F=function Jd(T,P){let F;return window.trustedTypes&&(F=window.trustedTypes.createPolicy(T,P)),F}("firebase-js-sdk-policy",{createScriptURL:Oo}),Y=document.createElement("script"),ae=`${Xd}?l=${T}&id=${P}`;Y.src=F?F?.createScriptURL(ae):ae,Y.async=!0,document.head.appendChild(Y)}(fe,fn.measurementId),nc&&(ae("consent","default",nc),function Wc(T){nc=T}(void 0)),ae("js",new Date);const dr=null!==(Mt=Oe?.config)&&void 0!==Mt?Mt:{};return dr[vn]="firebase",dr.update=!0,null!=Tn&&(dr[ty]=Tn),ae("config",fn.measurementId,dr),nu&&(ae("set",nu),function Pn(T){nu=T}(void 0)),fn.measurementId}),ml.apply(this,arguments)}class Lo{constructor(P){this.app=P}_delete(){return delete io[this.app.options.appId],Promise.resolve()}}let io={},jc=[];const mp={};let ro,sa,ra="dataLayer",gl=!1;function Yc(T,P,F){!function su(){const T=[];if((0,Te.ru)()&&T.push("This is a browser extension environment."),(0,Te.zI)()||T.push("Cookies are not available."),T.length>0){const P=T.map((Y,ae)=>`(${ae+1}) ${Y}`).join(" "),F=Vr.create("invalid-analytics-context",{errorInfo:P});Ar.warn(F.message)}}();const Y=T.options.appId;if(!Y)throw Vr.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw Vr.create("no-api-key");Ar.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=io[Y])throw Vr.create("already-exists",{id:Y});if(!gl){!function ny(T){let P=[];Array.isArray(window[T])?P=window[T]:window[T]=P}(ra);const{wrappedGtag:fe,gtagCore:Oe}=function Dr(T,P,F,Y,ae){let fe=function(...Oe){window[Y].push(arguments)};return window[ae]&&"function"==typeof window[ae]&&(fe=window[ae]),window[ae]=function eu(T,P,F,Y){function fe(){return fe=(0,$.Z)(function*(Oe,...Mt){try{if("event"===Oe){const[wt,qt]=Mt;yield function Xn(T,P,F,Y,ae){return vo.apply(this,arguments)}(T,P,F,wt,qt)}else if("config"===Oe){const[wt,qt]=Mt;yield function xh(T,P,F,Y,ae,fe){return et.apply(this,arguments)}(T,P,F,Y,wt,qt)}else if("consent"===Oe){const[wt]=Mt;T("consent","update",wt)}else if("get"===Oe){const[wt,qt,fn]=Mt;T("get",wt,qt,fn)}else if("set"===Oe){const[wt]=Mt;T("set",wt)}else T(Oe,...Mt)}catch(wt){Ar.error(wt)}}),fe.apply(this,arguments)}return function ae(Oe){return fe.apply(this,arguments)}}(fe,T,P,F),{gtagCore:fe,wrappedGtag:window[ae]}}(io,jc,mp,ra,"gtag");sa=fe,ro=Oe,gl=!0}return io[Y]=function En(T,P,F,Y,ae,fe,Oe){return ml.apply(this,arguments)}(T,jc,mp,P,ro,ra,F),new Lo(T)}function Mh(){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,$.Z)(function*(){if((0,Te.ru)()||!(0,Te.zI)()||!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch{return!1}})).apply(this,arguments)}const qc="@firebase/analytics";!function Sg(){(0,we._registerComponent)(new xe.wA(Pi,(P,{options:F})=>Yc(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),F),"PUBLIC")),(0,we._registerComponent)(new xe.wA("analytics-internal",function T(P){try{const F=P.getProvider(Pi).getImmediate();return{logEvent:(Y,ae,fe)=>function vp(T,P,F,Y){T=(0,Te.m9)(T),function iy(T,P,F,Y,ae){return iu.apply(this,arguments)}(sa,io[T.app.options.appId],P,F,Y).catch(ae=>Ar.error(ae))}(F,Y,ae,fe)}}catch(F){throw Vr.create("interop-component-reg-failed",{reason:F})}},"PRIVATE")),(0,we.registerVersion)(qc,"0.10.0"),(0,we.registerVersion)(qc,"0.10.0","esm2017")}();var _l=W(1954),au=W(2631);const bp=new class yp extends au.v{}(class Ah extends _l.o{constructor(P,F){super(P,F),this.scheduler=P,this.work=F}schedule(P,F=0){return F>0?super.schedule(P,F):(this.delay=F,this.state=P,this.scheduler.flush(this),this)}execute(P,F){return F>0||this.closed?super.execute(P,F):this._execute(P,F)}requestAsyncId(P,F,Y=0){return null!=Y&&Y>0||null==Y&&this.delay>0?super.requestAsyncId(P,F,Y):(P.flush(this),0)}});var Dh=W(6321),Fo=W(9397),Ih=W(5137),vl=W(3093);const Zc=new c.GfV("7.6.1"),Xc="__angularfire_symbol__analyticsIsSupportedValue",Ba="__angularfire_symbol__analyticsIsSupported",Kc="__angularfire_symbol__remoteConfigIsSupportedValue",Rh="__angularfire_symbol__remoteConfigIsSupported",Jc="__angularfire_symbol__messagingIsSupportedValue",Qc="__angularfire_symbol__messagingIsSupported";function oa(T,P,F){if(P){if(1===P.length)return P[0];const fe=P.filter(Oe=>Oe.app===F);if(1===fe.length)return fe[0]}return F.container.getProvider(T).getImmediate({optional:!0})}globalThis[Ba]||(globalThis[Ba]=Mh().then(T=>globalThis[Xc]=T).catch(()=>globalThis[Xc]=!1)),globalThis[Qc]||(globalThis[Qc]=hl().then(T=>globalThis[Jc]=T).catch(()=>globalThis[Jc]=!1)),globalThis[Rh]||(globalThis[Rh]=Da().then(T=>globalThis[Kc]=T).catch(()=>globalThis[Kc]=!1));const Vs=(T,P)=>{const F=P?[P]:(0,_e.C6)(),Y=[];return F.forEach(ae=>{ae.container.getProvider(T).instances.forEach(Oe=>{Y.includes(Oe)||Y.push(Oe)})}),Y};function Uo(){}class kh{constructor(P,F=bp){this.zone=P,this.delegate=F}now(){return this.delegate.now()}schedule(P,F,Y){const ae=this.zone;return this.delegate.schedule(function(Oe){ae.runGuarded(()=>{P.apply(this,[Oe])})},F,Y)}}class yl{constructor(P){this.zone=P,this.task=null}call(P,F){const Y=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Uo,{},Uo,Uo)),F.pipe((0,Fo.b)({next:Y,complete:Y,error:Y})).subscribe(P).add(Y)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xp=(()=>{class T{constructor(F){this.ngZone=F,this.outsideAngular=F.runOutsideAngular(()=>new kh(Zone.current)),this.insideAngular=F.run(()=>new kh(Zone.current,Dh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(F){return new(F||T)(c.LFG(c.R0b))},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Ai(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function cu(T){return Ai(),function du(T){return function(F){return(F=F.lift(new yl(T.ngZone))).pipe((0,Ih.R)(T.outsideAngular),(0,vl.Q)(T.insideAngular))}}(Ai())(T)}},9058:(Kt,Je,W)=>{W.d(Je,{$s:()=>ys,BH:()=>Ee,DV:()=>Gr,Dv:()=>Hl,GJ:()=>yr,L:()=>Le,LL:()=>tt,Pz:()=>Ye,Sg:()=>Qe,UG:()=>Ie,UI:()=>ba,US:()=>xe,Wj:()=>Hn,Wl:()=>sn,Yr:()=>Ja,ZB:()=>ve,ZR:()=>Ke,aH:()=>Me,b$:()=>Pr,cI:()=>Zi,dS:()=>wa,eu:()=>Ne,g5:()=>$,gK:()=>ci,gQ:()=>Mn,h$:()=>ht,hl:()=>Pe,hu:()=>_e,jU:()=>hn,lb:()=>Io,m9:()=>Ks,ne:()=>Ti,p$:()=>oe,pd:()=>Wn,r3:()=>Ei,ru:()=>Gn,tV:()=>te,uI:()=>Dt,ug:()=>Ea,vZ:()=>Ns,w1:()=>Jo,w9:()=>Bi,xO:()=>Tc,xb:()=>Os,z$:()=>mt,zI:()=>qe,zd:()=>on});const c={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},_e=function(re,ie){if(!re)throw $(ie)},$=function(re){return new Error("Firebase Database ("+c.SDK_VERSION+") INTERNAL ASSERT FAILED: "+re)},we=function(re){const ie=[];let ue=0;for(let Xe=0;Xe<re.length;Xe++){let Ae=re.charCodeAt(Xe);Ae<128?ie[ue++]=Ae:Ae<2048?(ie[ue++]=Ae>>6|192,ie[ue++]=63&Ae|128):55296==(64512&Ae)&&Xe+1<re.length&&56320==(64512&re.charCodeAt(Xe+1))?(Ae=65536+((1023&Ae)<<10)+(1023&re.charCodeAt(++Xe)),ie[ue++]=Ae>>18|240,ie[ue++]=Ae>>12&63|128,ie[ue++]=Ae>>6&63|128,ie[ue++]=63&Ae|128):(ie[ue++]=Ae>>12|224,ie[ue++]=Ae>>6&63|128,ie[ue++]=63&Ae|128)}return ie},xe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(re,ie){if(!Array.isArray(re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ue=ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,Xe=[];for(let Ae=0;Ae<re.length;Ae+=3){const Ft=re[Ae],wn=Ae+1<re.length,mn=wn?re[Ae+1]:0,wr=Ae+2<re.length,Rn=wr?re[Ae+2]:0;let mr=(15&mn)<<2|Rn>>6,Ro=63&Rn;wr||(Ro=64,wn||(mr=64)),Xe.push(ue[Ft>>2],ue[(3&Ft)<<4|mn>>4],ue[mr],ue[Ro])}return Xe.join("")},encodeString(re,ie){return this.HAS_NATIVE_SUPPORT&&!ie?btoa(re):this.encodeByteArray(we(re),ie)},decodeString(re,ie){return this.HAS_NATIVE_SUPPORT&&!ie?atob(re):function(re){const ie=[];let ue=0,Xe=0;for(;ue<re.length;){const Ae=re[ue++];if(Ae<128)ie[Xe++]=String.fromCharCode(Ae);else if(Ae>191&&Ae<224){const Ft=re[ue++];ie[Xe++]=String.fromCharCode((31&Ae)<<6|63&Ft)}else if(Ae>239&&Ae<365){const wr=((7&Ae)<<18|(63&re[ue++])<<12|(63&re[ue++])<<6|63&re[ue++])-65536;ie[Xe++]=String.fromCharCode(55296+(wr>>10)),ie[Xe++]=String.fromCharCode(56320+(1023&wr))}else{const Ft=re[ue++],wn=re[ue++];ie[Xe++]=String.fromCharCode((15&Ae)<<12|(63&Ft)<<6|63&wn)}}return ie.join("")}(this.decodeStringToByteArray(re,ie))},decodeStringToByteArray(re,ie){this.init_();const ue=ie?this.charToByteMapWebSafe_:this.charToByteMap_,Xe=[];for(let Ae=0;Ae<re.length;){const Ft=ue[re.charAt(Ae++)],mn=Ae<re.length?ue[re.charAt(Ae)]:0;++Ae;const Rn=Ae<re.length?ue[re.charAt(Ae)]:64;++Ae;const ei=Ae<re.length?ue[re.charAt(Ae)]:64;if(++Ae,null==Ft||null==mn||null==Rn||null==ei)throw new ze;Xe.push(Ft<<2|mn>>4),64!==Rn&&(Xe.push(mn<<4&240|Rn>>2),64!==ei&&Xe.push(Rn<<6&192|ei))}return Xe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let re=0;re<this.ENCODED_VALS.length;re++)this.byteToCharMap_[re]=this.ENCODED_VALS.charAt(re),this.charToByteMap_[this.byteToCharMap_[re]]=re,this.byteToCharMapWebSafe_[re]=this.ENCODED_VALS_WEBSAFE.charAt(re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[re]]=re,re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(re)]=re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(re)]=re)}}};class ze extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ht=function(re){const ie=we(re);return xe.encodeByteArray(ie,!0)},Le=function(re){return ht(re).replace(/\./g,"")},te=function(re){try{return xe.decodeString(re,!0)}catch(ie){console.error("base64Decode failed: ",ie)}return null};function oe(re){return ve(void 0,re)}function ve(re,ie){if(!(ie instanceof Object))return ie;switch(ie.constructor){case Date:return new Date(ie.getTime());case Object:void 0===re&&(re={});break;case Array:re=[];break;default:return ie}for(const ue in ie)!ie.hasOwnProperty(ue)||!vt(ue)||(re[ue]=ve(re[ue],ie[ue]));return re}function vt(re){return"__proto__"!==re}const gt=()=>{try{return function at(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const re=process.env.__FIREBASE_DEFAULTS__;return re?JSON.parse(re):void 0})()||(()=>{if(typeof document>"u")return;let re;try{re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ie=re&&te(re[1]);return ie&&JSON.parse(ie)})()}catch(re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${re}`)}},Me=()=>{var re;return null===(re=gt())||void 0===re?void 0:re.config},Ye=re=>{var ie;return null===(ie=gt())||void 0===ie?void 0:ie[`_${re}`]};class Ee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ie,ue)=>{this.resolve=ie,this.reject=ue})}wrapCallback(ie){return(ue,Xe)=>{ue?this.reject(ue):this.resolve(Xe),"function"==typeof ie&&(this.promise.catch(()=>{}),1===ie.length?ie(ue):ie(ue,Xe))}}}function Qe(re,ie){if(re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Xe=ie||"demo-project",Ae=re.iat||0,Ft=re.sub||re.user_id;if(!Ft)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const wn=Object.assign({iss:`https://securetoken.google.com/${Xe}`,aud:Xe,iat:Ae,exp:Ae+3600,auth_time:Ae,sub:Ft,user_id:Ft,firebase:{sign_in_provider:"custom",identities:{}}},re);return[Le(JSON.stringify({alg:"none",type:"JWT"})),Le(JSON.stringify(wn)),""].join(".")}function mt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Dt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function Ie(){var re;const ie=null===(re=gt())||void 0===re?void 0:re.forceEnvironment;if("node"===ie)return!0;if("browser"===ie)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function hn(){return"object"==typeof self&&self.self===self}function Gn(){const re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof re&&void 0!==re.id}function Pr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Jo(){const re=mt();return re.indexOf("MSIE ")>=0||re.indexOf("Trident/")>=0}function Ja(){return!0===c.NODE_CLIENT||!0===c.NODE_ADMIN}function Pe(){try{return"object"==typeof indexedDB}catch{return!1}}function Ne(){return new Promise((re,ie)=>{try{let ue=!0;const Xe="validate-browser-context-for-indexeddb-analytics-module",Ae=self.indexedDB.open(Xe);Ae.onsuccess=()=>{Ae.result.close(),ue||self.indexedDB.deleteDatabase(Xe),re(!0)},Ae.onupgradeneeded=()=>{ue=!1},Ae.onerror=()=>{var Ft;ie((null===(Ft=Ae.error)||void 0===Ft?void 0:Ft.message)||"")}}catch(ue){ie(ue)}})}function qe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ke extends Error{constructor(ie,ue,Xe){super(ue),this.code=ie,this.customData=Xe,this.name="FirebaseError",Object.setPrototypeOf(this,Ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tt.prototype.create)}}class tt{constructor(ie,ue,Xe){this.service=ie,this.serviceName=ue,this.errors=Xe}create(ie,...ue){const Xe=ue[0]||{},Ae=`${this.service}/${ie}`,Ft=this.errors[ie],wn=Ft?function zt(re,ie){return re.replace(Ct,(ue,Xe)=>{const Ae=ie[Xe];return null!=Ae?String(Ae):`<${Xe}?>`})}(Ft,Xe):"Error";return new Ke(Ae,`${this.serviceName}: ${wn} (${Ae}).`,Xe)}}const Ct=/\{\$([^}]+)}/g;function Zi(re){return JSON.parse(re)}function sn(re){return JSON.stringify(re)}const li=function(re){let ie={},ue={},Xe={},Ae="";try{const Ft=re.split(".");ie=Zi(te(Ft[0])||""),ue=Zi(te(Ft[1])||""),Ae=Ft[2],Xe=ue.d||{},delete ue.d}catch{}return{header:ie,claims:ue,data:Xe,signature:Ae}},Bi=function(re){const ue=li(re).claims;return!!ue&&"object"==typeof ue&&ue.hasOwnProperty("iat")},yr=function(re){const ie=li(re).claims;return"object"==typeof ie&&!0===ie.admin};function Ei(re,ie){return Object.prototype.hasOwnProperty.call(re,ie)}function Gr(re,ie){if(Object.prototype.hasOwnProperty.call(re,ie))return re[ie]}function Os(re){for(const ie in re)if(Object.prototype.hasOwnProperty.call(re,ie))return!1;return!0}function ba(re,ie,ue){const Xe={};for(const Ae in re)Object.prototype.hasOwnProperty.call(re,Ae)&&(Xe[Ae]=ie.call(ue,re[Ae],Ae,re));return Xe}function Ns(re,ie){if(re===ie)return!0;const ue=Object.keys(re),Xe=Object.keys(ie);for(const Ae of ue){if(!Xe.includes(Ae))return!1;const Ft=re[Ae],wn=ie[Ae];if(Ls(Ft)&&Ls(wn)){if(!Ns(Ft,wn))return!1}else if(Ft!==wn)return!1}for(const Ae of Xe)if(!ue.includes(Ae))return!1;return!0}function Ls(re){return null!==re&&"object"==typeof re}function Tc(re){const ie=[];for(const[ue,Xe]of Object.entries(re))Array.isArray(Xe)?Xe.forEach(Ae=>{ie.push(encodeURIComponent(ue)+"="+encodeURIComponent(Ae))}):ie.push(encodeURIComponent(ue)+"="+encodeURIComponent(Xe));return ie.length?"&"+ie.join("&"):""}function on(re){const ie={};return re.replace(/^\?/,"").split("&").forEach(Xe=>{if(Xe){const[Ae,Ft]=Xe.split("=");ie[decodeURIComponent(Ae)]=decodeURIComponent(Ft)}}),ie}function Wn(re){const ie=re.indexOf("?");if(!ie)return"";const ue=re.indexOf("#",ie);return re.substring(ie,ue>0?ue:void 0)}class Mn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ie=1;ie<this.blockSize;++ie)this.pad_[ie]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ie,ue){ue||(ue=0);const Xe=this.W_;if("string"==typeof ie)for(let ei=0;ei<16;ei++)Xe[ei]=ie.charCodeAt(ue)<<24|ie.charCodeAt(ue+1)<<16|ie.charCodeAt(ue+2)<<8|ie.charCodeAt(ue+3),ue+=4;else for(let ei=0;ei<16;ei++)Xe[ei]=ie[ue]<<24|ie[ue+1]<<16|ie[ue+2]<<8|ie[ue+3],ue+=4;for(let ei=16;ei<80;ei++){const mr=Xe[ei-3]^Xe[ei-8]^Xe[ei-14]^Xe[ei-16];Xe[ei]=4294967295&(mr<<1|mr>>>31)}let Rn,Xi,Ae=this.chain_[0],Ft=this.chain_[1],wn=this.chain_[2],mn=this.chain_[3],wr=this.chain_[4];for(let ei=0;ei<80;ei++){ei<40?ei<20?(Rn=mn^Ft&(wn^mn),Xi=1518500249):(Rn=Ft^wn^mn,Xi=1859775393):ei<60?(Rn=Ft&wn|mn&(Ft|wn),Xi=2400959708):(Rn=Ft^wn^mn,Xi=3395469782);const mr=(Ae<<5|Ae>>>27)+Rn+wr+Xi+Xe[ei]&4294967295;wr=mn,mn=wn,wn=4294967295&(Ft<<30|Ft>>>2),Ft=Ae,Ae=mr}this.chain_[0]=this.chain_[0]+Ae&4294967295,this.chain_[1]=this.chain_[1]+Ft&4294967295,this.chain_[2]=this.chain_[2]+wn&4294967295,this.chain_[3]=this.chain_[3]+mn&4294967295,this.chain_[4]=this.chain_[4]+wr&4294967295}update(ie,ue){if(null==ie)return;void 0===ue&&(ue=ie.length);const Xe=ue-this.blockSize;let Ae=0;const Ft=this.buf_;let wn=this.inbuf_;for(;Ae<ue;){if(0===wn)for(;Ae<=Xe;)this.compress_(ie,Ae),Ae+=this.blockSize;if("string"==typeof ie){for(;Ae<ue;)if(Ft[wn]=ie.charCodeAt(Ae),++wn,++Ae,wn===this.blockSize){this.compress_(Ft),wn=0;break}}else for(;Ae<ue;)if(Ft[wn]=ie[Ae],++wn,++Ae,wn===this.blockSize){this.compress_(Ft),wn=0;break}}this.inbuf_=wn,this.total_+=ue}digest(){const ie=[];let ue=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Ae=this.blockSize-1;Ae>=56;Ae--)this.buf_[Ae]=255&ue,ue/=256;this.compress_(this.buf_);let Xe=0;for(let Ae=0;Ae<5;Ae++)for(let Ft=24;Ft>=0;Ft-=8)ie[Xe]=this.chain_[Ae]>>Ft&255,++Xe;return ie}}function Ti(re,ie){const ue=new qi(re,ie);return ue.subscribe.bind(ue)}class qi{constructor(ie,ue){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ue,this.task.then(()=>{ie(this)}).catch(Xe=>{this.error(Xe)})}next(ie){this.forEachObserver(ue=>{ue.next(ie)})}error(ie){this.forEachObserver(ue=>{ue.error(ie)}),this.close(ie)}complete(){this.forEachObserver(ie=>{ie.complete()}),this.close()}subscribe(ie,ue,Xe){let Ae;if(void 0===ie&&void 0===ue&&void 0===Xe)throw new Error("Missing Observer.");Ae=function yi(re,ie){if("object"!=typeof re||null===re)return!1;for(const ue of ie)if(ue in re&&"function"==typeof re[ue])return!0;return!1}(ie,["next","error","complete"])?ie:{next:ie,error:ue,complete:Xe},void 0===Ae.next&&(Ae.next=kr),void 0===Ae.error&&(Ae.error=kr),void 0===Ae.complete&&(Ae.complete=kr);const Ft=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ae.error(this.finalError):Ae.complete()}catch{}}),this.observers.push(Ae),Ft}unsubscribeOne(ie){void 0===this.observers||void 0===this.observers[ie]||(delete this.observers[ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ie){if(!this.finalized)for(let ue=0;ue<this.observers.length;ue++)this.sendOne(ue,ie)}sendOne(ie,ue){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ie])try{ue(this.observers[ie])}catch(Xe){typeof console<"u"&&console.error&&console.error(Xe)}})}close(ie){this.finalized||(this.finalized=!0,void 0!==ie&&(this.finalError=ie),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kr(){}const Hl=function(re,ie,ue,Xe){let Ae;if(Xe<ie?Ae="at least "+ie:Xe>ue&&(Ae=0===ue?"none":"no more than "+ue),Ae)throw new Error(re+" failed: Was called with "+Xe+(1===Xe?" argument.":" arguments.")+" Expects "+Ae+".")};function ci(re,ie){return`${re} failed: ${ie} argument `}function Hn(re,ie,ue,Xe){if((!Xe||ue)&&"function"!=typeof ue)throw new Error(ci(re,ie)+"must be a valid function.")}function Io(re,ie,ue,Xe){if((!Xe||ue)&&("object"!=typeof ue||null===ue))throw new Error(ci(re,ie)+"must be a valid context object.")}const wa=function(re){const ie=[];let ue=0;for(let Xe=0;Xe<re.length;Xe++){let Ae=re.charCodeAt(Xe);if(Ae>=55296&&Ae<=56319){const Ft=Ae-55296;Xe++,_e(Xe<re.length,"Surrogate pair missing trail surrogate."),Ae=65536+(Ft<<10)+(re.charCodeAt(Xe)-56320)}Ae<128?ie[ue++]=Ae:Ae<2048?(ie[ue++]=Ae>>6|192,ie[ue++]=63&Ae|128):Ae<65536?(ie[ue++]=Ae>>12|224,ie[ue++]=Ae>>6&63|128,ie[ue++]=63&Ae|128):(ie[ue++]=Ae>>18|240,ie[ue++]=Ae>>12&63|128,ie[ue++]=Ae>>6&63|128,ie[ue++]=63&Ae|128)}return ie},Ea=function(re){let ie=0;for(let ue=0;ue<re.length;ue++){const Xe=re.charCodeAt(ue);Xe<128?ie++:Xe<2048?ie+=2:Xe>=55296&&Xe<=56319?(ie+=4,ue++):ie+=3}return ie},Ca=1e3,mo=2,br=144e5,xr=.5;function ys(re,ie=Ca,ue=mo){const Xe=ie*Math.pow(ue,re),Ae=Math.round(xr*Xe*(Math.random()-.5)*2);return Math.min(br,Xe+Ae)}function Ks(re){return re&&re._delegate?re._delegate:re}},40:(Kt,Je,W)=>{var c=W(5879);let _e=null;function $(){return _e}class Te{}const xe=new c.OlP("DocumentToken");let ze=(()=>{class i{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:function(){return(0,c.f3M)(Le)},providedIn:"platform"})}return i})();const ht=new c.OlP("Location Initialized");let Le=(()=>{class i extends ze{constructor(){super(),this._doc=(0,c.f3M)(xe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(e){const n=$().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){const n=$().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,r){this._history.pushState(e,n,r)}replaceState(e,n,r){this._history.replaceState(e,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:function(){return new i},providedIn:"platform"})}return i})();function te(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function oe(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function ve(i){return i&&"?"!==i[0]?"?"+i:i}let vt=(()=>{class i{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:function(){return(0,c.f3M)(Pt)},providedIn:"root"})}return i})();const at=new c.OlP("appBaseHref");let Pt=(()=>{class i extends vt{constructor(e,n){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return te(this._baseHref,e)}path(e=!1){const n=this._platformLocation.pathname+ve(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${n}${r}`:n}pushState(e,n,r,s){const l=this.prepareExternalUrl(r+ve(s));this._platformLocation.pushState(e,n,l)}replaceState(e,n,r,s){const l=this.prepareExternalUrl(r+ve(s));this._platformLocation.replaceState(e,n,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(ze),c.LFG(at,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ut=(()=>{class i extends vt{constructor(e,n){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(e){const n=te(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,r,s){let l=this.prepareExternalUrl(r+ve(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,n,l)}replaceState(e,n,r,s){let l=this.prepareExternalUrl(r+ve(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(ze),c.LFG(at,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})(),Et=(()=>{class i{constructor(e){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const n=this._locationStrategy.getBaseHref();this._basePath=function Me(i){if(new RegExp("^(https?:)?//").test(i)){const[,e]=i.split(/\/\/[^\/]+/);return e}return i}(oe(tn(n))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+ve(n))}normalize(e){return i.stripTrailingSlash(function dn(i,t){if(!i||!t.startsWith(i))return t;const e=t.substring(i.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,tn(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",r=null){this._locationStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ve(n)),r)}replaceState(e,n="",r=null){this._locationStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ve(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)})),()=>{const n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(r=>r(e,n))}subscribe(e,n,r){return this._subject.subscribe({next:e,error:n,complete:r})}static#e=this.normalizeQueryParams=ve;static#t=this.joinWithSlash=te;static#n=this.stripTrailingSlash=oe;static#i=this.\u0275fac=function(n){return new(n||i)(c.LFG(vt))};static#r=this.\u0275prov=c.Yz7({token:i,factory:function(){return function gt(){return new Et((0,c.LFG)(vt))}()},providedIn:"root"})}return i})();function tn(i){return i.replace(/\/index.html$/,"")}function go(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const n=e.indexOf("="),[r,s]=-1==n?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const zl=/\s+/,Ku=[];let Sa=(()=>{class i{constructor(e,n,r,s){this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=s,this.initialClasses=Ku,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(zl):Ku}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(zl):e}ngDoCheck(){for(const n of this.initialClasses)this._updateState(n,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const n of e)this._updateState(n,!0);else if(null!=e)for(const n of Object.keys(e))this._updateState(n,!!e[n]);this._applyStateDiff()}_updateState(e,n){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(e,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const n=e[0],r=e[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(e,n){(e=e.trim()).length>0&&e.split(zl).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return i})();class Qa{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gl=(()=>{class i{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,n,r){this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const n=this._viewContainer;e.forEachOperation((r,s,l)=>{if(null==r.previousIndex)n.createEmbeddedView(this._template,new Qa(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)n.remove(null===s?void 0:s);else if(null!==s){const u=n.get(s);n.move(u,l),Qu(u,r)}});for(let r=0,s=n.length;r<s;r++){const u=n.get(r).context;u.index=r,u.count=s,u.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Qu(n.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,n){return!0}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return i})();function Qu(i,t){i.context.$implicit=t.item}let bs=(()=>{class i{constructor(e,n){this._viewContainer=e,this._context=new Wv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){og("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){og("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,n){return!0}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.s_b),c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return i})();class Wv{constructor(){this.$implicit=null,this.ngIf=null}}function og(i,t){if(t&&!t.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}class xs{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ma=(()=>{class i{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const n=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const n of this._defaultViews)n.enforceState(e)}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return i})(),Dc=(()=>{class i{constructor(e,n,r){this.ngSwitch=r,r._addCase(),this._view=new xs(e,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Ma,9))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return i})(),eh=(()=>{class i{constructor(e,n,r){r._addDefault(new xs(e,n))}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Ma,9))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return i})(),Fd=(()=>{class i{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:l}=this;this._viewRef=n.createEmbeddedView(r,s,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.s_b))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]})}return i})(),mi=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({})}return i})();const ea="browser";function Aa(i){return"server"===i}let Er=(()=>{class i{static#e=this.\u0275prov=(0,c.Yz7)({token:i,providedIn:"root",factory:()=>new ta((0,c.LFG)(xe),window)})}return i})();class ta{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function na(i,t){const e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&"function"==typeof i.body.attachShadow){const n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const s=r.shadowRoot;if(s){const l=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(l)return l}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Fs{}class ip extends Te{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Yd extends ip{static makeCurrent(){!function we(i){_e||(_e=i)}(new Yd)}onAndCancel(t,e,n){return t.addEventListener(e,n),()=>{t.removeEventListener(e,n)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function hg(){return Hc=Hc||document.querySelector("base"),Hc?Hc.getAttribute("href"):null}();return null==e?null:function Qv(i){gh=gh||document.createElement("a"),gh.setAttribute("href",i);const t=gh.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Hc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return go(document.cookie,t)}}let gh,Hc=null,fg=(()=>{class i{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();const vh=new c.OlP("EventManagerPlugins");let pg=(()=>{class i{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r){return this._findPluginFor(n).addEventListener(e,n,r)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(s=>s.supports(e)),!n)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(e,n),n}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(vh),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();class qd{constructor(t){this._doc=t}}const zc="ng-app-id";let mg=(()=>{class i{constructor(e,n,r,s={}){this.doc=e,this.appId=n,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Aa(s),this.resetHostNodes()}addStyles(e){for(const n of e)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(e){for(const n of e)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(n=>n.remove()),e.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const n of this.getAllStyles())this.addStyleToHost(e,n)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const n of this.hostNodes)this.addStyleToHost(n,e)}onStyleRemoved(e){const n=this.styleRef;n.get(e)?.elements?.forEach(r=>r.remove()),n.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${zc}="${this.appId}"]`);if(e?.length){const n=new Map;return e.forEach(r=>{null!=r.textContent&&n.set(r.textContent,r)}),n}return null}changeUsageCount(e,n){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=n,s.usage}return r.set(e,{usage:n,elements:[]}),n}getStyleElement(e,n){const r=this.styleNodesInDOM,s=r?.get(n);if(s?.parentNode===e)return r.delete(n),s.removeAttribute(zc),s;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=n,this.platformIsServer&&l.setAttribute(zc,this.appId),l}}addStyleToHost(e,n){const r=this.getStyleElement(e,n);e.appendChild(r);const s=this.styleRef,l=s.get(n)?.elements;l?l.push(r):s.set(n,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(xe),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();const cl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ko=/%COMP%/g,_o=new c.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function _i(i,t){return t.map(e=>e.replace(ko,i))}let ka=(()=>{class i{constructor(e,n,r,s,l,u,f,m=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=l,this.platformId=u,this.ngZone=f,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=Aa(u),this.defaultRenderer=new ul(e,l,f,this.platformIsServer)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===c.ifc.ShadowDom&&(n={...n,encapsulation:c.ifc.Emulated});const r=this.getOrCreateRenderer(e,n);return r instanceof vg?r.applyToHost(e):r instanceof Br&&r.applyStyles(),r}getOrCreateRenderer(e,n){const r=this.rendererByCompId;let s=r.get(n.id);if(!s){const l=this.doc,u=this.ngZone,f=this.eventManager,m=this.sharedStylesHost,y=this.removeStylesOnCompDestroy,b=this.platformIsServer;switch(n.encapsulation){case c.ifc.Emulated:s=new vg(f,m,n,this.appId,y,l,u,b);break;case c.ifc.ShadowDom:return new hl(f,m,e,n,l,u,this.nonce,b);default:s=new Br(f,m,n,y,l,u,b)}r.set(n.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(pg),c.LFG(mg),c.LFG(c.AFp),c.LFG(_o),c.LFG(xe),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();class ul{constructor(t,e,n,r){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(cl[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(yh(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(yh(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new c.vHH(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const s=cl[r];s?t.setAttributeNS(s,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=cl[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,n,r&c.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){if("string"==typeof t&&!(t=$().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(n))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function yh(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class hl extends ul{constructor(t,e,n,r,s,l,u,f){super(t,s,l,f),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const m=_i(r.id,r.styles);for(const y of m){const b=document.createElement("style");u&&b.setAttribute("nonce",u),b.textContent=y,this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Br extends ul{constructor(t,e,n,r,s,l,u,f){super(t,s,l,u),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=f?_i(f,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class vg extends Br{constructor(t,e,n,r,s,l,u,f){const m=r+"-"+n.id;super(t,e,n,s,l,u,f,m),this.contentAttr=function sp(i){return"_ngcontent-%COMP%".replace(ko,i)}(m),this.hostAttr=function op(i){return"_nghost-%COMP%".replace(ko,i)}(m)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}let ec=(()=>{class i extends qd{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r){return e.addEventListener(n,r,!1),()=>this.removeEventListener(e,n,r)}removeEventListener(e,n,r){return e.removeEventListener(n,r)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(xe))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();const yg=["alt","control","meta","shift"],Cs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bg={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let bh=(()=>{class i extends qd{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,n,r){const s=i.parseEventName(n),l=i.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$().onAndCancel(e,s.domEventName,l))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const s=i._normalizeKey(n.pop());let l="",u=n.indexOf("code");if(u>-1&&(n.splice(u,1),l="code."),yg.forEach(m=>{const y=n.indexOf(m);y>-1&&(n.splice(y,1),l+=m+".")}),l+=s,0!=n.length||0===s.length)return null;const f={};return f.domEventName=r,f.fullKey=l,f}static matchEventFullKeyCode(e,n){let r=Cs[e.key]||e.key,s="";return n.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),yg.forEach(l=>{l!==r&&(0,bg[l])(e)&&(s+=l+".")}),s+=r,s===n)}static eventCallback(e,n,r){return s=>{i.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>n(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(xe))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();const Ar=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:ea},{provide:c.g9A,useValue:function vn(){Yd.makeCurrent()},multi:!0},{provide:xe,useFactory:function lp(){return(0,c.RDi)(document),document},deps:[]}]),cp=new c.OlP(""),Vr=[{provide:c.rWj,useClass:class _h{addToWindow(t){c.dqk.getAngularTestability=(n,r=!0)=>{const s=t.findTestabilityInTree(n,r);if(null==s)throw new c.vHH(5103,!1);return s},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(n=>{const r=c.dqk.getAllAngularTestabilities();let s=r.length,l=!1;const u=function(f){l=l||f,s--,0==s&&n(l)};r.forEach(f=>{f.whenStable(u)})})}findTestabilityInTree(t,e,n){return null==e?null:t.getTestability(e)??(n?$().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Oo=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function ap(){return new c.qLn},deps:[]},{provide:vh,useClass:ec,multi:!0,deps:[xe,c.R0b,c.Lbi]},{provide:vh,useClass:bh,multi:!0,deps:[xe]},ka,mg,pg,{provide:c.FYo,useExisting:ka},{provide:Fs,useClass:fg,deps:[]},[]];let Kd=(()=>{class i{constructor(e){}static withServerTransition(e){return{ngModule:i,providers:[{provide:c.AFp,useValue:e.appId}]}}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(cp,12))};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:[...Oo,...Vr],imports:[mi,c.hGG]})}return i})(),et=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(xe))};static#t=this.\u0275prov=c.Yz7({token:i,factory:function(n){let r=null;return r=n?new n:function xh(){return new et((0,c.LFG)(xe))}(),r},providedIn:"root"})}return i})();typeof window<"u"&&window;let No=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:function(n){let r=null;return r=n?new(n||i):c.LFG(Sh),r},providedIn:"root"})}return i})(),Sh=(()=>{class i extends No{constructor(e){super(),this._doc=e}sanitize(e,n){if(null==n)return null;switch(e){case c.q3G.NONE:return n;case c.q3G.HTML:return(0,c.qzn)(n,"HTML")?(0,c.z3N)(n):(0,c.EiD)(this._doc,String(n)).toString();case c.q3G.STYLE:return(0,c.qzn)(n,"Style")?(0,c.z3N)(n):n;case c.q3G.SCRIPT:if((0,c.qzn)(n,"Script"))return(0,c.z3N)(n);throw new c.vHH(5200,!1);case c.q3G.URL:return(0,c.qzn)(n,"URL")?(0,c.z3N)(n):(0,c.mCW)(String(n));case c.q3G.RESOURCE_URL:if((0,c.qzn)(n,"ResourceURL"))return(0,c.z3N)(n);throw new c.vHH(5201,!1);default:throw new c.vHH(5202,!1)}}bypassSecurityTrustHtml(e){return(0,c.JVY)(e)}bypassSecurityTrustStyle(e){return(0,c.L6k)(e)}bypassSecurityTrustScript(e){return(0,c.eBb)(e)}bypassSecurityTrustUrl(e){return(0,c.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,c.pB0)(e)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(xe))};static#t=this.\u0275prov=c.Yz7({token:i,factory:function(n){let r=null;return r=n?new n:function Ch(i){return new Sh(i.get(xe))}(c.LFG(c.zs3)),r},providedIn:"root"})}return i})();class Na{}class pp{}const Ms="*";function cs(i,t){return{type:7,name:i,definitions:t,options:{}}}function Ii(i,t=null){return{type:4,styles:t,timings:i}}function Wc(i,t=null){return{type:2,steps:i,options:t}}function Pn(i){return{type:6,styles:i,offset:null}}function jn(i,t,e){return{type:0,name:i,styles:t,options:e}}function no(i){return{type:5,steps:i}}function En(i,t,e=null){return{type:1,expr:i,animation:t,options:e}}function Lo(i=null){return{type:9,options:i}}function jc(i,t,e=null){return{type:11,selector:i,animation:t,options:e}}class ra{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class La{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==s&&this._onFinish()}),l.onDestroy(()=>{++n==s&&this._onDestroy()}),l.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,u)=>Math.max(l,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(n=>{const r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){const t=this.players.reduce((e,n)=>null===e||n.totalTime>e.totalTime?n:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}function gl(i){return new c.vHH(3e3,!1)}function yo(i){switch(i.length){case 0:return new ra;case 1:return i[0];default:return new La(i)}}function Ph(i,t,e=new Map,n=new Map){const r=[],s=[];let l=-1,u=null;if(t.forEach(f=>{const m=f.get("offset"),y=m==l,b=y&&u||new Map;f.forEach((w,S)=>{let A=S,k=w;if("offset"!==S)switch(A=i.normalizePropertyName(A,r),k){case"!":k=e.get(S);break;case Ms:k=n.get(S);break;default:k=i.normalizeStyleValue(S,A,k,r)}b.set(A,k)}),y||s.push(b),u=b,l=m}),r.length)throw function bp(i){return new c.vHH(3502,!1)}();return s}function lu(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&ed(e,"start",i)));break;case"done":i.onDone(()=>n(e&&ed(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&ed(e,"destroy",i)))}}function ed(i,t,e){const s=oa(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,e.totalTime??i.totalTime,!!e.disabled),l=i._data;return null!=l&&(s._data=l),s}function oa(i,t,e,n,r="",s=0,l){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:r,totalTime:s,disabled:!!l}}function Vs(i,t,e){let n=i.get(t);return n||i.set(t,n=e),n}function Uo(i){const t=i.indexOf(":");return[i.substring(1,t),i.slice(t+1)]}const kh=(()=>typeof document>"u"?null:document.documentElement)();function yl(i){const t=i.parentNode||i.host||null;return t===kh?null:t}let Ai=null,td=!1;function cu(i,t){for(;t;){if(t===i)return!0;t=yl(t)}return!1}function du(i,t,e){if(e)return Array.from(i.querySelectorAll(t));const n=i.querySelector(t);return n?[n]:[]}let rc=(()=>{class i{validateStyleProperty(e){return function Va(i){Ai||(Ai=function ay(){return typeof document<"u"?document.body:null}()||{},td=!!Ai.style&&"WebkitAppearance"in Ai.style);let t=!0;return Ai.style&&!function xp(i){return"ebkit"==i.substring(1,6)}(i)&&(t=i in Ai.style,!t&&td&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Ai.style)),t}(e)}matchesElement(e,n){return!1}containsElement(e,n){return cu(e,n)}getParentElement(e){return yl(e)}query(e,n,r){return du(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,s,l,u=[],f){return new ra(r,s)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})(),T=(()=>{class i{static#e=this.NOOP=new rc}return i})();const P=1e3,ae="ng-enter",fe="ng-leave",Oe="ng-trigger",Mt=".ng-trigger",wt="ng-animating",qt=".ng-animating";function fn(i){if("number"==typeof i)return i;const t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Tn(parseFloat(t[1]),t[2])}function Tn(i,t){return"s"===t?i*P:i}function dr(i,t,e){return i.hasOwnProperty("duration")?i:function _r(i,t,e){let r,s=0,l="";if("string"==typeof i){const u=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return t.push(gl()),{duration:0,delay:0,easing:""};r=Tn(parseFloat(u[1]),u[2]);const f=u[3];null!=f&&(s=Tn(parseFloat(f),u[4]));const m=u[5];m&&(l=m)}else r=i;if(!e){let u=!1,f=t.length;r<0&&(t.push(function $c(){return new c.vHH(3100,!1)}()),u=!0),s<0&&(t.push(function su(){return new c.vHH(3101,!1)}()),u=!0),u&&t.splice(f,0,gl())}return{duration:r,delay:s,easing:l}}(i,t,e)}function Bo(i,t={}){return Object.keys(i).forEach(e=>{t[e]=i[e]}),t}function Ki(i){const t=new Map;return Object.keys(i).forEach(e=>{t.set(e,i[e])}),t}function Yr(i,t=new Map,e){if(e)for(let[n,r]of e)t.set(n,r);for(let[n,r]of i)t.set(n,r);return t}function Ji(i,t,e){t.forEach((n,r)=>{const s=Hs(r);e&&!e.has(r)&&e.set(r,i.style[s]),i.style[s]=n})}function so(i,t){t.forEach((e,n)=>{const r=Hs(n);i.style[r]=""})}function uu(i){return Array.isArray(i)?1==i.length?i[0]:Wc(i):i}const xl=new RegExp("{{\\s*(.+?)\\s*}}","g");function Dg(i){let t=[];if("string"==typeof i){let e;for(;e=xl.exec(i);)t.push(e[1]);xl.lastIndex=0}return t}function id(i,t,e){const n=i.toString(),r=n.replace(xl,(s,l)=>{let u=t[l];return null==u&&(e.push(function Eg(i){return new c.vHH(3003,!1)}()),u=""),u.toString()});return r==n?i:r}function Oh(i){const t=[];let e=i.next();for(;!e.done;)t.push(e.value),e=i.next();return t}const ix=/-+([a-z0-9])/g;function Hs(i){return i.replace(ix,(...t)=>t[1].toUpperCase())}function oo(i,t,e){switch(t.type){case 7:return i.visitTrigger(t,e);case 0:return i.visitState(t,e);case 1:return i.visitTransition(t,e);case 2:return i.visitSequence(t,e);case 3:return i.visitGroup(t,e);case 4:return i.visitAnimate(t,e);case 5:return i.visitKeyframes(t,e);case 6:return i.visitStyle(t,e);case 8:return i.visitReference(t,e);case 9:return i.visitAnimateChild(t,e);case 10:return i.visitAnimateRef(t,e);case 11:return i.visitQuery(t,e);case 12:return i.visitStagger(t,e);default:throw function ou(i){return new c.vHH(3004,!1)}()}}function Ig(i,t){return window.getComputedStyle(i)[t]}const rd="*";function Rg(i,t){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(n=>function Ep(i,t,e){if(":"==i[0]){const f=function rx(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(function _l(i){return new c.vHH(3016,!1)}()),"* => *"}}(i,e);if("function"==typeof f)return void t.push(f);i=f}const n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return e.push(function Sg(i){return new c.vHH(3015,!1)}()),t;const r=n[1],s=n[2],l=n[3];t.push(Pg(r,l));"<"==s[0]&&!(r==rd&&l==rd)&&t.push(Pg(l,r))}(n,e,t)):e.push(i),e}const wl=new Set(["true","1"]),Cp=new Set(["false","0"]);function Pg(i,t){const e=wl.has(i)||Cp.has(i),n=wl.has(t)||Cp.has(t);return(r,s)=>{let l=i==rd||i==r,u=t==rd||t==s;return!l&&e&&"boolean"==typeof r&&(l=r?wl.has(i):Cp.has(i)),!u&&n&&"boolean"==typeof s&&(u=s?wl.has(t):Cp.has(t)),l&&u}}const Sp=new RegExp("s*:selfs*,?","g");function Mp(i,t,e,n){return new sx(i).build(t,e,n)}class sx{constructor(t){this._driver=t}build(t,e,n){const r=new kg(e);return this._resetContextStyleTimingState(r),oo(this,uu(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const s=[],l=[];return"@"==t.name.charAt(0)&&e.errors.push(function Fa(){return new c.vHH(3006,!1)}()),t.definitions.forEach(u=>{if(this._resetContextStyleTimingState(e),0==u.type){const f=u,m=f.name;m.toString().split(/\s*,\s*/).forEach(y=>{f.name=y,s.push(this.visitState(f,e))}),f.name=m}else if(1==u.type){const f=this.visitTransition(u,e);n+=f.queryCount,r+=f.depCount,l.push(f)}else e.errors.push(function Ua(){return new c.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:l,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const s=new Set,l=r||{};n.styles.forEach(u=>{u instanceof Map&&u.forEach(f=>{Dg(f).forEach(m=>{l.hasOwnProperty(m)||s.add(m)})})}),s.size&&(Oh(s.values()),e.errors.push(function ry(i,t){return new c.vHH(3008,!1)}()))}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=oo(this,uu(t.animation),e);return{type:1,matchers:Rg(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:El(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(n=>oo(this,n,e)),options:El(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const s=t.steps.map(l=>{e.currentTime=n;const u=oo(this,l,e);return r=Math.max(r,e.currentTime),u});return e.currentTime=r,{type:3,steps:s,options:El(t.options)}}visitAnimate(t,e){const n=function dy(i,t){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return Tp(dr(i,t).duration,0,"");const e=i;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Tp(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=dr(e,t);return Tp(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=n;let r,s=t.styles?t.styles:Pn({});if(5==s.type)r=this.visitKeyframes(s,e);else{let l=t.styles,u=!1;if(!l){u=!0;const m={};n.easing&&(m.easing=n.easing),l=Pn(m)}e.currentTime+=n.duration+n.delay;const f=this.visitStyle(l,e);f.isEmptyStep=u,r=f}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let u of r)"string"==typeof u?u===Ms?n.push(u):e.errors.push(new c.vHH(3002,!1)):n.push(Ki(u));let s=!1,l=null;return n.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(l=u.get("easing"),u.delete("easing")),!s))for(let f of u.values())if(f.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:n,easing:l,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;n&&s>0&&(s-=n.duration+n.delay),t.styles.forEach(l=>{"string"!=typeof l&&l.forEach((u,f)=>{const m=e.collectedStyles.get(e.currentQuerySelector),y=m.get(f);let b=!0;y&&(s!=r&&s>=y.startTime&&r<=y.endTime&&(e.errors.push(function Cg(i,t,e,n,r){return new c.vHH(3010,!1)}()),b=!1),s=y.startTime),b&&m.set(f,{startTime:s,endTime:r}),e.options&&function Ag(i,t,e){const n=t.params||{},r=Dg(i);r.length&&r.forEach(s=>{n.hasOwnProperty(s)||e.push(function Yc(i){return new c.vHH(3001,!1)}())})}(u,e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function _p(){return new c.vHH(3011,!1)}()),n;let s=0;const l=[];let u=!1,f=!1,m=0;const y=t.steps.map(R=>{const U=this._makeStyleAst(R,e);let O=null!=U.offset?U.offset:function rS(i){if("string"==typeof i)return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){const e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(U.styles),B=0;return null!=O&&(s++,B=U.offset=O),f=f||B<0||B>1,u=u||B<m,m=B,l.push(B),U});f&&e.errors.push(function sy(){return new c.vHH(3012,!1)}()),u&&e.errors.push(function vp(){return new c.vHH(3200,!1)}());const b=t.steps.length;let w=0;s>0&&s<b?e.errors.push(function oy(){return new c.vHH(3202,!1)}()):0==s&&(w=1/(b-1));const S=b-1,A=e.currentTime,k=e.currentAnimateTimings,I=k.duration;return y.forEach((R,U)=>{const O=w>0?U==S?1:w*U:l[U],B=O*I;e.currentTime=A+k.delay+B,k.duration=B,this._validateStyleAst(R,e),R.offset=O,n.styles.push(R)}),n}visitReference(t,e){return{type:8,animation:oo(this,uu(t.animation),e),options:El(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:El(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:El(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,l]=function mu(i){const t=!!i.split(/\s*,\s*/).find(e=>":self"==e);return t&&(i=i.replace(Sp,"")),i=i.replace(/@\*/g,Mt).replace(/@\w+/g,e=>Mt+"-"+e.slice(1)).replace(/:animating/g,qt),[i,t]}(t.selector);e.currentQuerySelector=n.length?n+" "+s:s,Vs(e.collectedStyles,e.currentQuerySelector,new Map);const u=oo(this,uu(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:u,originalSelector:t.selector,options:El(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function qc(){return new c.vHH(3013,!1)}());const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:dr(t.timings,e.errors,!0);return{type:12,animation:oo(this,uu(t.animation),e),timings:n,options:null}}}class kg{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function El(i){return i?(i=Bo(i)).params&&(i.params=function gu(i){return i?Bo(i):null}(i.params)):i={},i}function Tp(i,t,e){return{duration:i,delay:t,easing:e}}function Og(i,t,e,n,r,s,l=null,u=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:l,subTimeline:u}}class Ap{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const uy=new RegExp(":enter","g"),Ng=new RegExp(":leave","g");function hy(i,t,e,n,r,s=new Map,l=new Map,u,f,m=[]){return(new fy).buildKeyframes(i,t,e,n,r,s,l,u,f,m)}class fy{buildKeyframes(t,e,n,r,s,l,u,f,m,y=[]){m=m||new Ap;const b=new Fg(t,e,m,r,s,y,[]);b.options=f;const w=f.delay?fn(f.delay):0;b.currentTimeline.delayNextStep(w),b.currentTimeline.setStyles([l],null,b.errors,f),oo(this,n,b);const S=b.timelines.filter(A=>A.containsAnimation());if(S.length&&u.size){let A;for(let k=S.length-1;k>=0;k--){const I=S[k];if(I.element===e){A=I;break}}A&&!A.allowOnlyTimelineStyles()&&A.setStyles([u],null,b.errors,f)}return S.length?S.map(A=>A.buildKeyframes()):[Og(e,[],[],[],0,w,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.get(e.element);if(n){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,l=this._visitSubInstructions(n,r,r.options);s!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(const r of t){const s=r?.delay;if(s){const l="number"==typeof s?s:fn(id(s,r?.params??{},e.errors));n.delayNextStep(l)}}}_visitSubInstructions(t,e,n){let s=e.currentTimeline.currentTime;const l=null!=n.duration?fn(n.duration):null,u=null!=n.delay?fn(n.delay):null;return 0!==l&&t.forEach(f=>{const m=e.appendInstructionToTimeline(f,l,u);s=Math.max(s,m.duration+m.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),oo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Lg);const l=fn(s.delay);r.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>oo(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?fn(t.options.delay):0;t.steps.forEach(l=>{const u=e.createSubContext(t.options);s&&u.delayNextStep(s),oo(this,l,u),r=Math.max(r,u.currentTimeline.currentTime),n.push(u.currentTimeline)}),n.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return dr(e.params?id(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(n.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(s):n.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,s=n.duration,u=e.createSubContext().currentTimeline;u.easing=n.easing,t.styles.forEach(f=>{u.forwardTime((f.offset||0)*s),u.setStyles(f.styles,f.easing,e.errors,e.options),u.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(u),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?fn(r.delay):0;s&&(6===e.previousNode.type||0==n&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Lg);let l=n;const u=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=u.length;let f=null;u.forEach((m,y)=>{e.currentQueryIndex=y;const b=e.createSubContext(t.options,m);s&&b.delayNextStep(s),m===e.element&&(f=b.currentTimeline),oo(this,t.animation,b),b.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,b.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),f&&(e.currentTimeline.mergeTimelineCollectedStyles(f),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,s=t.timings,l=Math.abs(s.duration),u=l*(e.currentQueryTotal-1);let f=l*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":f=u-f;break;case"full":f=n.currentStaggerTime}const y=e.currentTimeline;f&&y.delayNextStep(f);const b=y.currentTime;oo(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-b+(r.startTime-n.currentTimeline.startTime)}}const Lg={};class Fg{constructor(t,e,n,r,s,l,u,f){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=s,this.errors=l,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Lg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new sc(this._driver,e,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=fn(n.duration)),null!=n.delay&&(r.delay=fn(n.delay));const s=n.params;if(s){let l=r.params;l||(l=this.options.params={}),Object.keys(s).forEach(u=>{(!e||!l.hasOwnProperty(u))&&(l[u]=id(s[u],l,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,s=new Fg(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Lg,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},s=new Ug(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,s,l){let u=[];if(r&&u.push(this.element),t.length>0){t=(t=t.replace(uy,"."+this._enterClassName)).replace(Ng,"."+this._leaveClassName);let m=this._driver.query(this.element,t,1!=n);0!==n&&(m=n<0?m.slice(m.length+n,m.length):m.slice(0,n)),u.push(...m)}return!s&&0==u.length&&l.push(function ic(i){return new c.vHH(3014,!1)}()),u}}class sc{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new sc(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||Ms),this._currentKeyframe.set(e,Ms);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},l=function sS(i,t){const e=new Map;let n;return i.forEach(r=>{if("*"===r){n=n||t.keys();for(let s of n)e.set(s,Ms)}else Yr(r,e)}),e}(t,this._globalTimelineStyles);for(let[u,f]of l){const m=id(f,s,n);this._pendingStyles.set(u,m),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??Ms),this._updateStyle(u,m)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{const r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((u,f)=>{const m=Yr(u,new Map,this._backFill);m.forEach((y,b)=>{"!"===y?t.add(b):y===Ms&&e.add(b)}),n||m.set("offset",f/this.duration),r.push(m)});const s=t.size?Oh(t.values()):[],l=e.size?Oh(e.values()):[];if(n){const u=r[0],f=new Map(u);u.set("offset",0),f.set("offset",1),r=[u,f]}return Og(this.element,r,s,l,this.duration,this.startTime,this.easing,!1)}}class Ug extends sc{constructor(t,e,n,r,s,l,u=!1){super(t,e,l.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=u,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],l=n+e,u=e/l,f=Yr(t[0]);f.set("offset",0),s.push(f);const m=Yr(t[0]);m.set("offset",py(u)),s.push(m);const y=t.length-1;for(let b=1;b<=y;b++){let w=Yr(t[b]);const S=w.get("offset");w.set("offset",py((e+S*n)/l)),s.push(w)}n=l,e=0,r="",t=s}return Og(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function py(i,t=3){const e=Math.pow(10,t-1);return Math.round(i*e)/e}class gy{}const ax=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class _y extends gy{normalizePropertyName(t,e){return Hs(t)}normalizeStyleValue(t,e,n,r){let s="";const l=n.toString().trim();if(ax.has(e)&&0!==n&&"0"!==n)if("number"==typeof n)s="px";else{const u=n.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&r.push(function Mh(i,t){return new c.vHH(3005,!1)}())}return l+s}}function Bg(i,t,e,n,r,s,l,u,f,m,y,b,w){return{type:0,element:i,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:n,toStyles:l,timelines:u,queriedElements:f,preStyleProps:m,postStyleProps:y,totalTime:b,errors:w}}const Rp={};class Nh{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function vy(i,t,e,n,r){return i.some(s=>s(t,e,n,r))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,n):new Map}build(t,e,n,r,s,l,u,f,m,y){const b=[],w=this.ast.options&&this.ast.options.params||Rp,A=this.buildStyles(n,u&&u.params||Rp,b),k=f&&f.params||Rp,I=this.buildStyles(r,k,b),R=new Set,U=new Map,O=new Map,B="void"===r,j={params:ao(k,w),delay:this.ast.options?.delay},q=y?[]:hy(t,e,this.ast.animation,s,l,A,I,j,m,b);let ee=0;if(q.forEach(z=>{ee=Math.max(z.duration+z.delay,ee)}),b.length)return Bg(e,this._triggerName,n,r,B,A,I,[],[],U,O,ee,b);q.forEach(z=>{const K=z.element,Re=Vs(U,K,new Set);z.preStyleProps.forEach(pt=>Re.add(pt));const it=Vs(O,K,new Set);z.postStyleProps.forEach(pt=>it.add(pt)),K!==e&&R.add(K)});const ce=Oh(R.values());return Bg(e,this._triggerName,n,r,B,A,I,q,ce,U,O,ee)}}function ao(i,t){const e=Bo(t);for(const n in i)i.hasOwnProperty(n)&&null!=i[n]&&(e[n]=i[n]);return e}class _u{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n=new Map,r=Bo(this.defaultParams);return Object.keys(t).forEach(s=>{const l=t[s];null!==l&&(r[s]=l)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,u)=>{l&&(l=id(l,r,e));const f=this.normalizer.normalizePropertyName(u,e);l=this.normalizer.normalizeStyleValue(u,f,l,e),n.set(u,l)})}),n}}class yy{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new _u(r.style,r.options&&r.options.params||{},n))}),od(this.states,"true","1"),od(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Nh(t,r,this.states))}),this.fallbackTransition=function Pp(i,t,e){return new Nh(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,u)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(l=>l.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function od(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}const kp=new Ap;class Fh{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const n=[],s=Mp(this._driver,e,n,[]);if(n.length)throw function Mg(i){return new c.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,n){const r=t.element,s=Ph(this._normalizer,t.keyframes,e,n);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],s=this._animations.get(t);let l;const u=new Map;if(s?(l=hy(this._driver,e,s,ae,fe,new Map,new Map,n,kp,r),l.forEach(y=>{const b=Vs(u,y.element,new Map);y.postStyleProps.forEach(w=>b.set(w,null))})):(r.push(function Dh(){return new c.vHH(3300,!1)}()),l=[]),r.length)throw function Fo(i){return new c.vHH(3504,!1)}();u.forEach((y,b)=>{y.forEach((w,S)=>{y.set(S,this._driver.computeStyle(b,S,Ms))})});const m=yo(l.map(y=>{const b=u.get(y.element);return this._buildPlayer(y,new Map,b)}));return this._playersById.set(t,m),m.onDestroy(()=>this.destroy(t)),this.players.push(m),m}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Ih(i){return new c.vHH(3301,!1)}();return e}listen(t,e,n,r){const s=oa(e,"","","");return lu(this._getPlayer(t),n,s,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const by="ng-animate-queued",Op="ng-animate-disabled",wy=[],zs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Np={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},bo="__ng_removed";class Hg{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function Ey(i){return i??null}(n?t.value:t),n){const s=Bo(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const n=this.options.params;Object.keys(e).forEach(r=>{null==n[r]&&(n[r]=e[r])})}}}const Wi="void",Cl=new Hg(Wi);class zg{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,v(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.has(e))throw function vl(i,t){return new c.vHH(3302,!1)}();if(null==n||0==n.length)throw function Zc(i){return new c.vHH(3303,!1)}();if(!function cx(i){return"start"==i||"done"==i}(n))throw function Xc(i,t){return new c.vHH(3400,!1)}();const s=Vs(this._elementListeners,t,[]),l={name:e,phase:n,callback:r};s.push(l);const u=Vs(this._engine.statesByElement,t,new Map);return u.has(e)||(v(t,Oe),v(t,Oe+"-"+e),u.set(e,Cl)),()=>{this._engine.afterFlush(()=>{const f=s.indexOf(l);f>=0&&s.splice(f,1),this._triggers.has(e)||u.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Ba(i){return new c.vHH(3401,!1)}();return e}trigger(t,e,n,r=!0){const s=this._getTrigger(e),l=new qr(this.id,e,t);let u=this._engine.statesByElement.get(t);u||(v(t,Oe),v(t,Oe+"-"+e),this._engine.statesByElement.set(t,u=new Map));let f=u.get(e);const m=new Hg(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&f&&m.absorbOptions(f.options),u.set(e,m),f||(f=Cl),m.value!==Wi&&f.value===m.value){if(!function ye(i,t){const e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||i[s]!==t[s])return!1}return!0}(f.params,m.params)){const k=[],I=s.matchStyles(f.value,f.params,k),R=s.matchStyles(m.value,m.params,k);k.length?this._engine.reportError(k):this._engine.afterFlush(()=>{so(t,I),Ji(t,R)})}return}const w=Vs(this._engine.playersByElement,t,[]);w.forEach(k=>{k.namespaceId==this.id&&k.triggerName==e&&k.queued&&k.destroy()});let S=s.matchTransition(f.value,m.value,t,m.params),A=!1;if(!S){if(!r)return;S=s.fallbackTransition,A=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:S,fromState:f,toState:m,player:l,isFallbackTransition:A}),A||(v(t,by),l.onStart(()=>{C(t,by)})),l.onDone(()=>{let k=this.players.indexOf(l);k>=0&&this.players.splice(k,1);const I=this._engine.playersByElement.get(t);if(I){let R=I.indexOf(l);R>=0&&I.splice(R,1)}}),this.players.push(l),w.push(l),l}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Mt,!0);n.forEach(r=>{if(r[bo])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(l=>l.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,n,r){const s=this._engine.statesByElement.get(t),l=new Map;if(s){const u=[];if(s.forEach((f,m)=>{if(l.set(m,f.value),this._triggers.has(m)){const y=this.trigger(t,m,Wi,r);y&&u.push(y)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,l),n&&yo(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(s=>{const l=s.name;if(r.has(l))return;r.add(l);const f=this._triggers.get(l).fallbackTransition,m=n.get(l)||Cl,y=new Hg(Wi),b=new qr(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:f,fromState:m,toState:y,player:b,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const s=n.players.length?n.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let l=t;for(;l=l.parentNode;)if(n.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const s=t[bo];(!s||s===zs)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){v(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const s=n.element,l=this._elementListeners.get(s);l&&l.forEach(u=>{if(u.name==n.triggerName){const f=oa(s,n.triggerName,n.fromState.value,n.toState.value);f._data=t,lu(n.player,u.phase,f,u.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{const s=n.transition.ast.depCount,l=r.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class Lp{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){const n=new zg(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let l=!1,u=this.driver.getParentElement(e);for(;u;){const f=r.get(u);if(f){const m=n.indexOf(f);n.splice(m+1,0,t),l=!0;break}u=this.driver.getParentElement(u)}l||n.unshift(t)}else n.push(t);return r.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n)for(let r of n.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,n,r){if(Uh(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Uh(e))return;const s=e[bo];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){const l=this._fetchNamespace(t);l&&l.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),v(t,Op)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),C(t,Op))}removeNode(t,e,n){if(Uh(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,r,s){this.collectedLeaveElements.push(e),e[bo]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,n,r,s){return Uh(e)?this._fetchNamespace(t).listen(e,n,r,s):()=>{}}_buildInstruction(t,e,n,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Mt,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,qt,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return yo(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[bo];if(e&&e.setForRemoval){if(t[bo]=zs,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Op)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)v(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],e.length?yo(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw function Kc(i){return new c.vHH(3402,!1)}()}_flushAnimations(t,e){const n=new Ap,r=[],s=new Map,l=[],u=new Map,f=new Map,m=new Map,y=new Set;this.disabledNodes.forEach(be=>{y.add(be);const Ce=this.driver.query(be,".ng-animate-queued",!0);for(let He=0;He<Ce.length;He++)y.add(Ce[He])});const b=this.bodyNode,w=Array.from(this.statesByElement.keys()),S=g(w,this.collectedEnterElements),A=new Map;let k=0;S.forEach((be,Ce)=>{const He=ae+k++;A.set(Ce,He),be.forEach(Ue=>v(Ue,He))});const I=[],R=new Set,U=new Set;for(let be=0;be<this.collectedLeaveElements.length;be++){const Ce=this.collectedLeaveElements[be],He=Ce[bo];He&&He.setForRemoval&&(I.push(Ce),R.add(Ce),He.hasAnimation?this.driver.query(Ce,".ng-star-inserted",!0).forEach(Ue=>R.add(Ue)):U.add(Ce))}const O=new Map,B=g(w,Array.from(R));B.forEach((be,Ce)=>{const He=fe+k++;O.set(Ce,He),be.forEach(Ue=>v(Ue,He))}),t.push(()=>{S.forEach((be,Ce)=>{const He=A.get(Ce);be.forEach(Ue=>C(Ue,He))}),B.forEach((be,Ce)=>{const He=O.get(Ce);be.forEach(Ue=>C(Ue,He))}),I.forEach(be=>{this.processLeaveNode(be)})});const j=[],q=[];for(let be=this._namespaceList.length-1;be>=0;be--)this._namespaceList[be].drainQueuedTransitions(e).forEach(He=>{const Ue=He.player,ot=He.element;if(j.push(Ue),this.collectedEnterElements.length){const rn=ot[bo];if(rn&&rn.setForMove){if(rn.previousTriggersValues&&rn.previousTriggersValues.has(He.triggerName)){const yn=rn.previousTriggersValues.get(He.triggerName),bn=this.statesByElement.get(He.element);if(bn&&bn.has(He.triggerName)){const vi=bn.get(He.triggerName);vi.value=yn,bn.set(He.triggerName,vi)}}return void Ue.destroy()}}const pe=!b||!this.driver.containsElement(b,ot),$e=O.get(ot),Nt=A.get(ot),xt=this._buildInstruction(He,n,Nt,$e,pe);if(xt.errors&&xt.errors.length)return void q.push(xt);if(pe)return Ue.onStart(()=>so(ot,xt.fromStyles)),Ue.onDestroy(()=>Ji(ot,xt.toStyles)),void r.push(Ue);if(He.isFallbackTransition)return Ue.onStart(()=>so(ot,xt.fromStyles)),Ue.onDestroy(()=>Ji(ot,xt.toStyles)),void r.push(Ue);const Jt=[];xt.timelines.forEach(rn=>{rn.stretchStartingKeyframe=!0,this.disabledNodes.has(rn.element)||Jt.push(rn)}),xt.timelines=Jt,n.append(ot,xt.timelines),l.push({instruction:xt,player:Ue,element:ot}),xt.queriedElements.forEach(rn=>Vs(u,rn,[]).push(Ue)),xt.preStyleProps.forEach((rn,yn)=>{if(rn.size){let bn=f.get(yn);bn||f.set(yn,bn=new Set),rn.forEach((vi,In)=>bn.add(In))}}),xt.postStyleProps.forEach((rn,yn)=>{let bn=m.get(yn);bn||m.set(yn,bn=new Set),rn.forEach((vi,In)=>bn.add(In))})});if(q.length){const be=[];q.forEach(Ce=>{be.push(function Jc(i,t){return new c.vHH(3505,!1)}())}),j.forEach(Ce=>Ce.destroy()),this.reportError(be)}const ee=new Map,ce=new Map;l.forEach(be=>{const Ce=be.element;n.has(Ce)&&(ce.set(Ce,Ce),this._beforeAnimationBuild(be.player.namespaceId,be.instruction,ee))}),r.forEach(be=>{const Ce=be.element;this._getPreviousPlayers(Ce,!1,be.namespaceId,be.triggerName,null).forEach(Ue=>{Vs(ee,Ce,[]).push(Ue),Ue.destroy()})});const z=I.filter(be=>dt(be,f,m)),K=new Map;E(K,this.driver,U,m,Ms).forEach(be=>{dt(be,f,m)&&z.push(be)});const it=new Map;S.forEach((be,Ce)=>{E(it,this.driver,new Set(be),f,"!")}),z.forEach(be=>{const Ce=K.get(be),He=it.get(be);K.set(be,new Map([...Ce?.entries()??[],...He?.entries()??[]]))});const pt=[],he=[],Ve={};l.forEach(be=>{const{element:Ce,player:He,instruction:Ue}=be;if(n.has(Ce)){if(y.has(Ce))return He.onDestroy(()=>Ji(Ce,Ue.toStyles)),He.disabled=!0,He.overrideTotalTime(Ue.totalTime),void r.push(He);let ot=Ve;if(ce.size>1){let $e=Ce;const Nt=[];for(;$e=$e.parentNode;){const xt=ce.get($e);if(xt){ot=xt;break}Nt.push($e)}Nt.forEach(xt=>ce.set(xt,ot))}const pe=this._buildAnimation(He.namespaceId,Ue,ee,s,it,K);if(He.setRealPlayer(pe),ot===Ve)pt.push(He);else{const $e=this.playersByElement.get(ot);$e&&$e.length&&(He.parentPlayer=yo($e)),r.push(He)}}else so(Ce,Ue.fromStyles),He.onDestroy(()=>Ji(Ce,Ue.toStyles)),he.push(He),y.has(Ce)&&r.push(He)}),he.forEach(be=>{const Ce=s.get(be.element);if(Ce&&Ce.length){const He=yo(Ce);be.setRealPlayer(He)}}),r.forEach(be=>{be.parentPlayer?be.syncPlayerEvents(be.parentPlayer):be.destroy()});for(let be=0;be<I.length;be++){const Ce=I[be],He=Ce[bo];if(C(Ce,fe),He&&He.hasAnimation)continue;let Ue=[];if(u.size){let pe=u.get(Ce);pe&&pe.length&&Ue.push(...pe);let $e=this.driver.query(Ce,qt,!0);for(let Nt=0;Nt<$e.length;Nt++){let xt=u.get($e[Nt]);xt&&xt.length&&Ue.push(...xt)}}const ot=Ue.filter(pe=>!pe.destroyed);ot.length?N(this,Ce,ot):this.processLeaveNode(Ce)}return I.length=0,pt.forEach(be=>{this.players.push(be),be.onDone(()=>{be.destroy();const Ce=this.players.indexOf(be);this.players.splice(Ce,1)}),be.play()}),pt}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,s){let l=[];if(e){const u=this.playersByQueriedElement.get(t);u&&(l=u)}else{const u=this.playersByElement.get(t);if(u){const f=!s||s==Wi;u.forEach(m=>{m.queued||!f&&m.triggerName!=r||l.push(m)})}}return(n||r)&&(l=l.filter(u=>!(n&&n!=u.namespaceId||r&&r!=u.triggerName))),l}_beforeAnimationBuild(t,e,n){const s=e.element,l=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName;for(const f of e.timelines){const m=f.element,y=m!==s,b=Vs(n,m,[]);this._getPreviousPlayers(m,y,l,u,e.toState).forEach(S=>{const A=S.getRealPlayer();A.beforeDestroy&&A.beforeDestroy(),S.destroy(),b.push(S)})}so(s,e.fromStyles)}_buildAnimation(t,e,n,r,s,l){const u=e.triggerName,f=e.element,m=[],y=new Set,b=new Set,w=e.timelines.map(A=>{const k=A.element;y.add(k);const I=k[bo];if(I&&I.removedBeforeQueried)return new ra(A.duration,A.delay);const R=k!==f,U=function H(i){const t=[];return se(i,t),t}((n.get(k)||wy).map(ee=>ee.getRealPlayer())).filter(ee=>!!ee.element&&ee.element===k),O=s.get(k),B=l.get(k),j=Ph(this._normalizer,A.keyframes,O,B),q=this._buildPlayer(A,j,U);if(A.subTimeline&&r&&b.add(k),R){const ee=new qr(t,u,k);ee.setRealPlayer(q),m.push(ee)}return q});m.forEach(A=>{Vs(this.playersByQueriedElement,A.element,[]).push(A),A.onDone(()=>function ad(i,t,e){let n=i.get(t);if(n){if(n.length){const r=n.indexOf(e);n.splice(r,1)}0==n.length&&i.delete(t)}return n}(this.playersByQueriedElement,A.element,A))}),y.forEach(A=>v(A,wt));const S=yo(w);return S.onDestroy(()=>{y.forEach(A=>C(A,wt)),Ji(f,e.toStyles)}),b.forEach(A=>{Vs(r,A,[]).push(S)}),S}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new ra(t.duration,t.delay)}}class qr{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new ra,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>lu(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Vs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Uh(i){return i&&1===i.nodeType}function Gg(i,t){const e=i.style.display;return i.style.display=t??"none",e}function E(i,t,e,n,r){const s=[];e.forEach(f=>s.push(Gg(f)));const l=[];n.forEach((f,m)=>{const y=new Map;f.forEach(b=>{const w=t.computeStyle(m,b,r);y.set(b,w),(!w||0==w.length)&&(m[bo]=Np,l.push(m))}),i.set(m,y)});let u=0;return e.forEach(f=>Gg(f,s[u++])),l}function g(i,t){const e=new Map;if(i.forEach(u=>e.set(u,[])),0==t.length)return e;const r=new Set(t),s=new Map;function l(u){if(!u)return 1;let f=s.get(u);if(f)return f;const m=u.parentNode;return f=e.has(m)?m:r.has(m)?1:l(m),s.set(u,f),f}return t.forEach(u=>{const f=l(u);1!==f&&e.get(f).push(u)}),e}function v(i,t){i.classList?.add(t)}function C(i,t){i.classList?.remove(t)}function N(i,t,e){yo(e).onDone(()=>i.processLeaveNode(t))}function se(i,t){for(let e=0;e<i.length;e++){const n=i[e];n instanceof La?se(n.players,t):t.push(n)}}function dt(i,t,e){const n=e.get(i);if(!n)return!1;let r=t.get(i);return r?n.forEach(s=>r.add(s)):t.set(i,n),e.delete(i),!0}class yt{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Lp(t,e,n),this._timelineEngine=new Fh(t,e,n),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,n,r,s){const l=t+"-"+r;let u=this._triggerCache[l];if(!u){const f=[],y=Mp(this._driver,s,f,[]);if(f.length)throw function yp(i,t){return new c.vHH(3404,!1)}();u=function sd(i,t,e){return new yy(i,t,e)}(r,y,this._normalizer),this._triggerCache[l]=u}this._transitionEngine.registerTrigger(e,r,u)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[s,l]=Uo(n);this._timelineEngine.command(s,e,l,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,s){if("@"==n.charAt(0)){const[l,u]=Uo(n);return this._timelineEngine.listen(l,e,u,s)}return this._transitionEngine.listen(t,e,n,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let jt=(()=>{class i{static#e=this.initialStylesByElement=new WeakMap;constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let s=i.initialStylesByElement.get(e);s||i.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ji(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ji(this._element,this._initialStyles),this._endStyles&&(Ji(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(so(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(so(this._element,this._endStyles),this._endStyles=null),Ji(this._element,this._initialStyles),this._state=3)}}return i})();function ji(i){let t=null;return i.forEach((e,n)=>{(function Vo(i){return"display"===i||"position"===i})(n)&&(t=t||new Map,t.set(n,e))}),t}class vu{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{"offset"!==r&&t.set(r,this._finished?n:Ig(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class ld{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return cu(t,e)}getParentElement(t){return yl(t)}query(t,e,n){return du(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}animate(t,e,n,r,s,l=[]){const f={duration:n,delay:r,fill:0==r?"both":"forwards"};s&&(f.easing=s);const m=new Map,y=l.filter(S=>S instanceof vu);(function hu(i,t){return 0===i||0===t})(n,r)&&y.forEach(S=>{S.currentSnapshot.forEach((A,k)=>m.set(k,A))});let b=function bl(i){return i.length?i[0]instanceof Map?i:i.map(t=>Ki(t)):[]}(e).map(S=>Yr(S));b=function eS(i,t,e){if(e.size&&t.length){let n=t[0],r=[];if(e.forEach((s,l)=>{n.has(l)||r.push(l),n.set(l,s)}),r.length)for(let s=1;s<t.length;s++){let l=t[s];r.forEach(u=>l.set(u,Ig(i,u)))}}return t}(t,b,m);const w=function Gt(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=ji(t[0]),t.length>1&&(n=ji(t[t.length-1]))):t instanceof Map&&(e=ji(t)),e||n?new jt(i,e,n):null}(t,b);return new vu(t,b,f,w)}}let yu=(()=>{class i extends Na{constructor(e,n){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(n.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(e){const n=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Wc(e):e;return cd(this._renderer,null,n,"register",[r]),new Wg(n,this._renderer)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(c.FYo),c.LFG(xe))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();class Wg extends pp{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Fp(this._id,t,e||{},this._renderer)}}class Fp{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return cd(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function cd(i,t,e,n,r){return i.setProperty(t,`@@${e}:${n}`,r)}const jg="@.disabled";let $g=(()=>{class i{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(s,l)=>{const u=l?.parentNode(s);u&&l.removeChild(u,s)}}createRenderer(e,n){const s=this.delegate.createRenderer(e,n);if(!(e&&n&&n.data&&n.data.animation)){let y=this._rendererCache.get(s);return y||(y=new Yg("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,y)),y}const l=n.id,u=n.id+"-"+this._currentId;this._currentId++,this.engine.register(u,e);const f=y=>{Array.isArray(y)?y.forEach(f):this.engine.registerTrigger(l,u,e,y.name,y)};return n.data.animation.forEach(f),new dx(this,u,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){e>=0&&e<this._microtaskId?this._zone.run(()=>n(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,u]=s;l(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(c.FYo),c.LFG(yt),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();class Yg{constructor(t,e,n,r){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&e==jg?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class dx extends Yg{constructor(t,e,n,r,s){super(e,n,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&e==jg?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function qg(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(t);let s=e.slice(1),l="";return"@"!=s.charAt(0)&&([s,l]=function Cy(i){const t=i.indexOf(".");return[i.substring(0,t),i.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,l,u=>{this.factory.scheduleListenerCallback(u._data||-1,n,u)})}return this.delegate.listen(t,e,n)}}const oS=[{provide:Na,useClass:yu},{provide:gy,useFactory:function ux(){return new _y}},{provide:yt,useClass:(()=>{class i extends yt{constructor(e,n,r,s){super(e.body,n,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(xe),c.LFG(T),c.LFG(gy),c.LFG(c.z2F))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})()},{provide:c.FYo,useFactory:function hx(i,t,e){return new $g(i,t,e)},deps:[ka,yt,c.R0b]}],fx=[{provide:T,useFactory:()=>new ld},{provide:c.QbO,useValue:"BrowserAnimations"},...oS],My=[{provide:T,useClass:rc},{provide:c.QbO,useValue:"NoopAnimations"},...oS];let aS=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?My:fx}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:fx,imports:[Kd]})}return i})();var lo=W(5592),Sl=W(4674);function Zg(i){return!!i&&(i instanceof lo.y||(0,Sl.m)(i.lift)&&(0,Sl.m)(i.subscribe))}var Zr=W(2459),nn=W(2096),Gs=W(5619);const{isArray:lS}=Array,{getPrototypeOf:px,prototype:cS,keys:Ty}=Object;function Bp(i){if(1===i.length){const t=i[0];if(lS(t))return{args:t,keys:null};if(function dS(i){return i&&"object"==typeof i&&px(i)===cS}(t)){const e=Ty(t);return{args:e.map(n=>t[n]),keys:e}}}return{args:i,keys:null}}var Vh=W(2737),An=W(7398);const{isArray:uS}=Array;function Hh(i){return(0,An.U)(t=>function mx(i,t){return uS(t)?i(...t):i(t)}(i,t))}var Vp=W(9940);function gx(i,t){return i.reduce((e,n,r)=>(e[n]=t[r],e),{})}var Xr=W(8251),gR=W(7103);function zh(...i){const t=(0,Vp.yG)(i),e=(0,Vp.jO)(i),{args:n,keys:r}=Bp(i);if(0===n.length)return(0,Zr.D)([],t);const s=new lo.y(function hS(i,t,e=Vh.y){return n=>{_x(t,()=>{const{length:r}=i,s=new Array(r);let l=r,u=r;for(let f=0;f<r;f++)_x(t,()=>{const m=(0,Zr.D)(i[f],t);let y=!1;m.subscribe((0,Xr.x)(n,b=>{s[f]=b,y||(y=!0,u--),u||n.next(e(s.slice()))},()=>{--l||n.complete()}))},n)},n)}}(n,t,r?l=>gx(r,l):Vh.y));return e?s.pipe(Hh(e)):s}function _x(i,t,e){i?(0,gR.f)(e,i,t):t()}const Hp=(0,W(2306).d)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});var ac=W(7537);function Xg(...i){return function _R(){return(0,ac.J)(1)}()((0,Zr.D)(i,(0,Vp.yG)(i)))}var Gh=W(4829);function Kg(i){return new lo.y(t=>{(0,Gh.Xf)(i()).subscribe(t)})}var vx=W(8407);function Jg(i,t){const e=(0,Sl.m)(i)?i:()=>i,n=r=>r.error(e());return new lo.y(t?r=>t.schedule(n,0,r):n)}var Ho=W(6232),Ts=W(7394),Kr=W(9360);function Dy(){return(0,Kr.e)((i,t)=>{let e=null;i._refCount++;const n=(0,Xr.x)(t,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(e=null);const r=i._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});i.subscribe(n),n.closed||(e=i.connect())})}class Iy extends lo.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Kr.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ts.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Xr.x)(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ts.w0.EMPTY)}return t}refCount(){return Dy()(this)}}var an=W(8645),ki=W(4664);function Ir(i){return i<=0?()=>Ho.E:(0,Kr.e)((t,e)=>{let n=0;t.subscribe((0,Xr.x)(e,r=>{++n<=i&&(e.next(r),i<=n&&e.complete())}))})}function dd(...i){const t=(0,Vp.yG)(i);return(0,Kr.e)((e,n)=>{(t?Xg(i,e,t):Xg(i,e)).subscribe(n)})}function tr(i,t){return(0,Kr.e)((e,n)=>{let r=0;e.subscribe((0,Xr.x)(n,s=>i.call(t,s,r++)&&n.next(s)))})}var Ws=W(1631);function Ry(i){return(0,Kr.e)((t,e)=>{let n=!1;t.subscribe((0,Xr.x)(e,r=>{n=!0,e.next(r)},()=>{n||e.next(i),e.complete()}))})}function lc(i=zp){return(0,Kr.e)((t,e)=>{let n=!1;t.subscribe((0,Xr.x)(e,r=>{n=!0,e.next(r)},()=>n?e.complete():e.error(i())))})}function zp(){return new Hp}function bu(i,t){const e=arguments.length>=2;return n=>n.pipe(i?tr((r,s)=>i(r,s,n)):Vh.y,Ir(1),e?Ry(t):lc(()=>new Hp))}function Gp(i,t){return(0,Sl.m)(t)?(0,Ws.z)(i,t,1):(0,Ws.z)(i,1)}var js=W(9397);function Wh(i){return(0,Kr.e)((t,e)=>{let s,n=null,r=!1;n=t.subscribe((0,Xr.x)(e,void 0,void 0,l=>{s=(0,Gh.Xf)(i(l,Wh(i)(t))),n?(n.unsubscribe(),n=null,s.subscribe(e)):r=!0})),r&&(n.unsubscribe(),n=null,s.subscribe(e))})}function yx(i,t){return(0,Kr.e)(function vR(i,t,e,n,r){return(s,l)=>{let u=e,f=t,m=0;s.subscribe((0,Xr.x)(l,y=>{const b=m++;f=u?i(f,y,b):(u=!0,y),n&&l.next(f)},r&&(()=>{u&&l.next(f),l.complete()})))}}(i,t,arguments.length>=2,!0))}function Py(i){return i<=0?()=>Ho.E:(0,Kr.e)((t,e)=>{let n=[];t.subscribe((0,Xr.x)(e,r=>{n.push(r),i<n.length&&n.shift()},()=>{for(const r of n)e.next(r);e.complete()},void 0,()=>{n=null}))})}function fS(i){return(0,An.U)(()=>i)}function Qg(i){return(0,Kr.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(i)}})}var bx=W(2420);function Ci(i){return(0,Kr.e)((t,e)=>{(0,Gh.Xf)(i).subscribe((0,Xr.x)(e,()=>e.complete(),bx.Z)),!e.closed&&t.subscribe(e)})}const Dn="primary",ud=Symbol("RouteTitle");class pS{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function jh(i){return new pS(i)}function mS(i,t,e){const n=e.path.split("/");if(n.length>i.length||"full"===e.pathMatch&&(t.hasChildren()||n.length<i.length))return null;const r={};for(let s=0;s<n.length;s++){const l=n[s],u=i[s];if(l.startsWith(":"))r[l.substring(1)]=u;else if(l!==u.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function hd(i,t){const e=i?Object.keys(i):void 0,n=t?Object.keys(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!bR(i[r],t[r]))return!1;return!0}function bR(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;const e=[...i].sort(),n=[...t].sort();return e.every((r,s)=>n[s]===r)}return i===t}function ky(i){return i.length>0?i[i.length-1]:null}function cc(i){return Zg(i)?i:(0,c.QGY)(i)?(0,Zr.D)(Promise.resolve(i)):(0,nn.of)(i)}const FF={exact:function gS(i,t,e){if(!xu(i.segments,t.segments)||!$h(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!i.children[n]||!gS(i.children[n],t.children[n],e))return!1;return!0},subset:_S},xR={exact:function wR(i,t){return hd(i,t)},subset:function ER(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>bR(i[e],t[e]))},ignored:()=>!0};function xx(i,t,e){return FF[e.paths](i.root,t.root,e.matrixParams)&&xR[e.queryParams](i.queryParams,t.queryParams)&&!("exact"===e.fragment&&i.fragment!==t.fragment)}function _S(i,t,e){return wx(i,t,t.segments,e)}function wx(i,t,e,n){if(i.segments.length>e.length){const r=i.segments.slice(0,e.length);return!(!xu(r,e)||t.hasChildren()||!$h(r,e,n))}if(i.segments.length===e.length){if(!xu(i.segments,e)||!$h(i.segments,e,n))return!1;for(const r in t.children)if(!i.children[r]||!_S(i.children[r],t.children[r],n))return!1;return!0}{const r=e.slice(0,i.segments.length),s=e.slice(i.segments.length);return!!(xu(i.segments,r)&&$h(i.segments,r,n)&&i.children[Dn])&&wx(i.children[Dn],t,s,n)}}function $h(i,t,e){return t.every((n,r)=>xR[e](i[r].parameters,n.parameters))}class Yh{constructor(t=new Di([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jh(this.queryParams)),this._queryParamMap}toString(){return SR.serialize(this)}}class Di{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ny(this)}}class e_{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=jh(this.parameters)),this._parameterMap}toString(){return jp(this)}}function xu(i,t){return i.length===t.length&&i.every((e,n)=>e.path===t[n].path)}let Wp=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:function(){return new Oy},providedIn:"root"})}return i})();class Oy{parse(t){const e=new TR(t);return new Yh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${t_(t.root,!0)}`,n=function xS(i){const t=Object.keys(i).map(e=>{const n=i[e];return Array.isArray(n)?n.map(r=>`${n_(e)}=${n_(r)}`).join("&"):`${n_(e)}=${n_(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${n}${"string"==typeof t.fragment?`#${function UF(i){return encodeURI(i)}(t.fragment)}`:""}`}}const SR=new Oy;function Ny(i){return i.segments.map(t=>jp(t)).join("/")}function t_(i,t){if(!i.hasChildren())return Ny(i);if(t){const e=i.children[Dn]?t_(i.children[Dn],!1):"",n=[];return Object.entries(i.children).forEach(([r,s])=>{r!==Dn&&n.push(`${r}:${t_(s,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function CR(i,t){let e=[];return Object.entries(i.children).forEach(([n,r])=>{n===Dn&&(e=e.concat(t(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==Dn&&(e=e.concat(t(r,n)))}),e}(i,(n,r)=>r===Dn?[t_(i.children[Dn],!1)]:[`${r}:${t_(n,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Dn]?`${Ny(i)}/${e[0]}`:`${Ny(i)}/(${e.join("//")})`}}function vS(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function n_(i){return vS(i).replace(/%3B/gi,";")}function yS(i){return vS(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wu(i){return decodeURIComponent(i)}function Si(i){return wu(i.replace(/\+/g,"%20"))}function jp(i){return`${yS(i.path)}${function bS(i){return Object.keys(i).map(t=>`;${yS(t)}=${yS(i[t])}`).join("")}(i.parameters)}`}const Ex=/^[^\/()?;#]+/;function i_(i){const t=i.match(Ex);return t?t[0]:""}const MR=/^[^\/()?;=#]+/,ES=/^[^=?&#]+/,BF=/^[^&#]+/;class TR{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Di([],{}):new Di([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Dn]=new Di(t,e)),n}parseSegment(){const t=i_(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(t),new e_(wu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function wS(i){const t=i.match(MR);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const r=i_(this.remaining);r&&(n=r,this.capture(n))}t[wu(e)]=wu(n)}parseQueryParam(t){const e=function Ly(i){const t=i.match(ES);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const l=function Cx(i){const t=i.match(BF);return t?t[0]:""}(this.remaining);l&&(n=l,this.capture(n))}const r=Si(e),s=Si(n);if(t.hasOwnProperty(r)){let l=t[r];Array.isArray(l)||(l=[l],t[r]=l),l.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=i_(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new c.vHH(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Dn);const l=this.parseChildren();e[s]=1===Object.keys(l).length?l[Dn]:new Di([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new c.vHH(4011,!1)}}function Fy(i){return i.segments.length>0?new Di([],{[Dn]:i}):i}function Sx(i){const t={};for(const n of Object.keys(i.children)){const s=Sx(i.children[n]);if(n===Dn&&0===s.segments.length&&s.hasChildren())for(const[l,u]of Object.entries(s.children))t[l]=u;else(s.segments.length>0||s.hasChildren())&&(t[n]=s)}return function CS(i){if(1===i.numberOfChildren&&i.children[Dn]){const t=i.children[Dn];return new Di(i.segments.concat(t.segments),t.children)}return i}(new Di(i.segments,t))}function aa(i){return i instanceof Yh}function Uy(i){let t;const r=Fy(function e(s){const l={};for(const f of s.children){const m=e(f);l[f.outlet]=m}const u=new Di(s.url,l);return s===i&&(t=u),u}(i.root));return t??r}function r_(i,t,e,n){let r=i;for(;r.parent;)r=r.parent;if(0===t.length)return $p(r,r,r,e,n);const s=function Mx(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new s_(!0,0,i);let t=0,e=!1;const n=i.reduce((r,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const u={};return Object.entries(s.outlets).forEach(([f,m])=>{u[f]="string"==typeof m?m.split("/"):m}),[...r,{outlets:u}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===l?(s.split("/").forEach((u,f)=>{0==f&&"."===u||(0==f&&""===u?e=!0:".."===u?t++:""!=u&&r.push(u))}),r):[...r,s]},[]);return new s_(e,t,n)}(t);if(s.toRoot())return $p(r,r,new Di([],{}),e,n);const l=function DR(i,t,e){if(i.isAbsolute)return new Vy(t,!0,0);if(!e)return new Vy(t,!1,NaN);if(null===e.parent)return new Vy(e,!0,0);const n=By(i.commands[0])?0:1;return function SS(i,t,e){let n=i,r=t,s=e;for(;s>r;){if(s-=r,n=n.parent,!n)throw new c.vHH(4005,!1);r=n.segments.length}return new Vy(n,!1,r-s)}(e,e.segments.length-1+n,i.numberOfDoubleDots)}(s,r,i),u=l.processChildren?o_(l.segmentGroup,l.index,s.commands):MS(l.segmentGroup,l.index,s.commands);return $p(r,l.segmentGroup,u,e,n)}function By(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Zh(i){return"object"==typeof i&&null!=i&&i.outlets}function $p(i,t,e,n,r){let l,s={};n&&Object.entries(n).forEach(([f,m])=>{s[f]=Array.isArray(m)?m.map(y=>`${y}`):`${m}`}),l=i===t?e:Ml(i,t,e);const u=Fy(Sx(l));return new Yh(u,s,r)}function Ml(i,t,e){const n={};return Object.entries(i.children).forEach(([r,s])=>{n[r]=s===t?e:Ml(s,t,e)}),new Di(i.segments,n)}class s_{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&By(n[0]))throw new c.vHH(4003,!1);const r=n.find(Zh);if(r&&r!==ky(n))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vy{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function MS(i,t,e){if(i||(i=new Di([],{})),0===i.segments.length&&i.hasChildren())return o_(i,t,e);const n=function IR(i,t,e){let n=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return s;const l=i.segments[r],u=e[n];if(Zh(u))break;const f=`${u}`,m=n<e.length-1?e[n+1]:null;if(r>0&&void 0===f)break;if(f&&m&&"object"==typeof m&&void 0===m.outlets){if(!Tx(f,m,l))return s;n+=2}else{if(!Tx(f,{},l))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){const s=new Di(i.segments.slice(0,n.pathIndex),{});return s.children[Dn]=new Di(i.segments.slice(n.pathIndex),i.children),o_(s,0,r)}return n.match&&0===r.length?new Di(i.segments,{}):n.match&&!i.hasChildren()?a_(i,t,e):n.match?o_(i,0,r):a_(i,t,e)}function o_(i,t,e){if(0===e.length)return new Di(i.segments,{});{const n=function Yp(i){return Zh(i[0])?i[0].outlets:{[Dn]:i}}(e),r={};if(Object.keys(n).some(s=>s!==Dn)&&i.children[Dn]&&1===i.numberOfChildren&&0===i.children[Dn].segments.length){const s=o_(i.children[Dn],t,e);return new Di(i.segments,s.children)}return Object.entries(n).forEach(([s,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(r[s]=MS(i.children[s],t,l))}),Object.entries(i.children).forEach(([s,l])=>{void 0===n[s]&&(r[s]=l)}),new Di(i.segments,r)}}function a_(i,t,e){const n=i.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(Zh(s)){const f=TS(s.outlets);return new Di(n,f)}if(0===r&&By(e[0])){n.push(new e_(i.segments[t].path,AS(e[0]))),r++;continue}const l=Zh(s)?s.outlets[Dn]:`${s}`,u=r<e.length-1?e[r+1]:null;l&&u&&By(u)?(n.push(new e_(l,AS(u))),r+=2):(n.push(new e_(l,{})),r++)}return new Di(n,{})}function TS(i){const t={};return Object.entries(i).forEach(([e,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[e]=a_(new Di([],{}),0,n))}),t}function AS(i){const t={};return Object.entries(i).forEach(([e,n])=>t[e]=`${n}`),t}function Tx(i,t,e){return i==e.path&&hd(t,e.parameters)}const Xh="imperative";class fd{constructor(t,e){this.id=t,this.url=e}}class Hy extends fd{constructor(t,e,n="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Eu extends fd{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class l_ extends fd{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class c_ extends fd{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=16}}class Ax extends fd{constructor(t,e,n,r){super(t,e),this.error=n,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class d_ extends fd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RR extends fd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dx extends fd{constructor(t,e,n,r,s){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ix extends fd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qp extends fd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rx{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Px{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class u_{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zy{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zp{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kx{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gy{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Xp{}class DS{constructor(t){this.url=t}}class h_{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new f_,this.attachRef=null}}let f_=(()=>{class i{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new h_,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class Ox{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Nx(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){const e=Nx(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Lx(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Lx(t,this._root).map(e=>e.value)}}function Nx(i,t){if(i===t.value)return t;for(const e of t.children){const n=Nx(i,e);if(n)return n}return null}function Lx(i,t){if(i===t.value)return[t];for(const e of t.children){const n=Lx(i,e);if(n.length)return n.unshift(t),n}return[]}class Tl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Kh(i){const t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}class RS extends Ox{constructor(t,e){super(t),this.snapshot=e,m_(this,t)}toString(){return this.snapshot.toString()}}function PS(i,t){const e=function VF(i,t){const l=new Wy([],{},{},"",{},Dn,t,null,{});return new Ux("",new Tl(l,[]))}(0,t),n=new Gs.X([new e_("",{})]),r=new Gs.X({}),s=new Gs.X({}),l=new Gs.X({}),u=new Gs.X(""),f=new Kp(n,r,l,u,s,Dn,t,e.root);return f.snapshot=e.root,new RS(new Tl(f,[]),e)}class Kp{constructor(t,e,n,r,s,l,u,f){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=l,this.component=u,this._futureSnapshot=f,this.title=this.dataSubject?.pipe((0,An.U)(m=>m[ud]))??(0,nn.of)(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,An.U)(t=>jh(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,An.U)(t=>jh(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function p_(i,t="emptyOnly"){const e=i.pathFromRoot;let n=0;if("always"!==t)for(n=e.length-1;n>=1;){const r=e[n],s=e[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(s.component)break;n--}}return function Fx(i){return i.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(n))}class Wy{get title(){return this.data?.[ud]}constructor(t,e,n,r,s,l,u,f,m){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=l,this.component=u,this.routeConfig=f,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=jh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ux extends Ox{constructor(t,e){super(e),this.url=t,m_(this,e)}toString(){return g_(this._root)}}function m_(i,t){t.value._routerState=i,t.children.forEach(e=>m_(i,e))}function g_(i){const t=i.children.length>0?` { ${i.children.map(g_).join(", ")} } `:"";return`${i.value}${t}`}function Bx(i){if(i.snapshot){const t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,hd(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),hd(t.params,e.params)||i.paramsSubject.next(e.params),function LF(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!hd(i[e],t[e]))return!1;return!0}(t.url,e.url)||i.urlSubject.next(e.url),hd(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function jy(i,t){const e=hd(i.params,t.params)&&function qh(i,t){return xu(i,t)&&i.every((e,n)=>hd(e.parameters,t[n].parameters))}(i.url,t.url);return e&&!(!i.parent!=!t.parent)&&(!i.parent||jy(i.parent,t.parent))}let Vx=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=Dn,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(f_),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(Hx,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=e;const r=this.location,l=e.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,f=new kS(e,u,r.injector);this.activated=r.createComponent(l,{index:r.length,injector:f,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]})}return i})();class kS{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Kp?this.route:t===f_?this.childContexts:this.parent.get(t,e)}}const Hx=new c.OlP("");let OS=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:n}=e,r=zh([n.queryParams,n.params,n.data]).pipe((0,ki.w)(([s,l,u],f)=>(u={...s,...l,...u},0===f?(0,nn.of)(u):Promise.resolve(u)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(e);const l=(0,c.qFp)(n.component);if(l)for(const{templateName:u}of l.inputs)e.activatedComponentRef.setInput(u,s[u]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();function v_(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){const n=e.value;n._futureSnapshot=t.value;const r=function Jp(i,t,e){return t.children.map(n=>{for(const r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return v_(i,n,r);return v_(i,n)})}(i,t,e);return new Tl(n,r)}{if(i.shouldAttach(t.value)){const s=i.retrieve(t.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(u=>v_(i,u)),l}}const n=function y_(i){return new Kp(new Gs.X(i.url),new Gs.X(i.params),new Gs.X(i.queryParams),new Gs.X(i.fragment),new Gs.X(i.data),i.outlet,i.component,i)}(t.value),r=t.children.map(s=>v_(i,s));return new Tl(n,r)}}const zx="ngNavigationCancelingError";function Gx(i,t){const{redirectTo:e,navigationBehaviorOptions:n}=aa(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=NS(!1,0,t);return r.url=e,r.navigationBehaviorOptions=n,r}function NS(i,t,e){const n=new Error("NavigationCancelingError: "+(i||""));return n[zx]=!0,n.cancellationCode=t,e&&(n.url=e),n}function LS(i){return i&&i[zx]}let Wx=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(n,r){1&n&&c._UZ(0,"router-outlet")},dependencies:[Vx],encapsulation:2})}return i})();function $y(i){const t=i.children&&i.children.map($y),e=t?{...i,children:t}:{...i};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Dn&&(e.component=Wx),e}function Al(i){return i.outlet||Dn}function Yy(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Dl{constructor(t,e,n,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Bx(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Kh(e);t.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,r[l],n),delete r[l]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(t,e,n){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const l=n.getContext(r.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,n);else s&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,s=Kh(t);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);if(n&&n.outlet){const l=n.outlet.detach(),u=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,s=Kh(t);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){const r=Kh(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new kx(s.value.snapshot))}),t.children.length&&this.forwardEvent(new zy(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,s=e?e.value:null;if(Bx(r),r===s)if(r.component){const l=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const l=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(u.contexts),l.attachRef=u.componentRef,l.route=u.route.value,l.outlet&&l.outlet.attach(u.componentRef,u.route.value),Bx(u.route.value),this.activateChildRoutes(t,null,l.children)}else{const u=Yy(r.snapshot);l.attachRef=null,l.route=r,l.injector=u,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,n)}}class jx{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class $x{constructor(t,e){this.component=t,this.route=e}}function Yx(i,t,e){const n=i._root;return b_(n,t?t._root:null,e,[n.value])}function Su(i,t){const e=Symbol(),n=t.get(i,e);return n===e?"function"!=typeof i||(0,c.Z0I)(i)?t.get(i):i:n}function b_(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Kh(t);return i.children.forEach(l=>{(function zF(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=i.value,l=t?t.value:null,u=e?e.getContext(i.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const f=function UR(i,t,e){if("function"==typeof e)return e(i,t);switch(e){case"pathParamsChange":return!xu(i.url,t.url);case"pathParamsOrQueryParamsChange":return!xu(i.url,t.url)||!hd(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jy(i,t)||!hd(i.queryParams,t.queryParams);default:return!jy(i,t)}}(l,s,s.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new jx(n)):(s.data=l.data,s._resolvedData=l._resolvedData),b_(i,t,s.component?u?u.children:null:e,n,r),f&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new $x(u.outlet.component,l))}else l&&Jh(t,u,r),r.canActivateChecks.push(new jx(n)),b_(i,null,s.component?u?u.children:null:e,n,r)})(l,s[l.value.outlet],e,n.concat([l.value]),r),delete s[l.value.outlet]}),Object.entries(s).forEach(([l,u])=>Jh(u,e.getContext(l),r)),r}function Jh(i,t,e){const n=Kh(i),r=i.value;Object.entries(n).forEach(([s,l])=>{Jh(l,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new $x(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function zo(i){return"function"==typeof i}function qy(i){return i instanceof Hp||"EmptyError"===i?.name}const x_=Symbol("INITIAL_VALUE");function Qh(){return(0,ki.w)(i=>zh(i.map(t=>t.pipe(Ir(1),dd(x_)))).pipe((0,An.U)(t=>{for(const e of t)if(!0!==e){if(e===x_)return x_;if(!1===e||e instanceof Yh)return e}return!0}),tr(t=>t!==x_),Ir(1)))}function ef(i){return(0,vx.z)((0,js.b)(t=>{if(aa(t))throw Gx(0,t)}),(0,An.U)(t=>!0===t))}class Zy{constructor(t){this.segmentGroup=t||null}}class Zx{constructor(t){this.urlTree=t}}function tf(i){return Jg(new Zy(i))}function Xy(i){return Jg(new Zx(i))}class $S{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new c.vHH(4002,!1)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,nn.of)(n);if(r.numberOfChildren>1||!r.children[Dn])return Jg(new c.vHH(4e3,!1));r=r.children[Dn]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreateUrlTree(t,e,n,r){const s=this.createSegmentGroup(t,e.root,n,r);return new Yh(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const u=s.substring(1);n[r]=e[u]}else n[r]=s}),n}createSegmentGroup(t,e,n,r){const s=this.createSegments(t,e.segments,n,r);let l={};return Object.entries(e.children).forEach(([u,f])=>{l[u]=this.createSegmentGroup(t,f,n,r)}),new Di(s,l)}createSegments(t,e,n,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new c.vHH(4001,!1);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}const Jy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function YR(i,t,e,n,r){const s=Xx(i,t,e);return s.matched?(n=function FS(i,t){return i.providers&&!i._injector&&(i._injector=(0,c.MMx)(i.providers,t,`Route: ${i.path}`)),i._injector??t}(t,n),function $R(i,t,e,n){const r=t.canMatch;if(!r||0===r.length)return(0,nn.of)(!0);const s=r.map(l=>{const u=Su(l,i);return cc(function qx(i){return i&&zo(i.canMatch)}(u)?u.canMatch(t,e):i.runInContext(()=>u(t,e)))});return(0,nn.of)(s).pipe(Qh(),ef())}(n,t,e).pipe((0,An.U)(l=>!0===l?s:{...Jy}))):(0,nn.of)(s)}function Xx(i,t,e){if(""===t.path)return"full"===t.pathMatch&&(i.hasChildren()||e.length>0)?{...Jy}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||mS)(e,i,t);if(!r)return{...Jy};const s={};Object.entries(r.posParams??{}).forEach(([u,f])=>{s[u]=f.path});const l=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function YS(i,t,e,n){return e.length>0&&function jF(i,t,e){return e.some(n=>Kx(i,t,n)&&Al(n)!==Dn)}(i,e,n)?{segmentGroup:new Di(t,qS(n,new Di(e,i.children))),slicedSegments:[]}:0===e.length&&function ZR(i,t,e){return e.some(n=>Kx(i,t,n))}(i,e,n)?{segmentGroup:new Di(i.segments,qR(i,0,e,n,i.children)),slicedSegments:e}:{segmentGroup:new Di(i.segments,i.children),slicedSegments:e}}function qR(i,t,e,n,r){const s={};for(const l of n)if(Kx(i,e,l)&&!r[Al(l)]){const u=new Di([],{});s[Al(l)]=u}return{...r,...s}}function qS(i,t){const e={};e[Dn]=t;for(const n of i)if(""===n.path&&Al(n)!==Dn){const r=new Di([],{});e[Al(n)]=r}return e}function Kx(i,t,e){return(!(i.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class YF{constructor(t,e,n,r,s,l,u){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=l,this.urlSerializer=u,this.allowRedirects=!0,this.applyRedirects=new $S(this.urlSerializer,this.urlTree)}noMatchError(t){return new c.vHH(4002,!1)}recognize(){const t=YS(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Dn).pipe(Wh(e=>{if(e instanceof Zx)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Zy?this.noMatchError(e):e}),(0,An.U)(e=>{const n=new Wy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Dn,this.rootComponentType,null,{}),r=new Tl(n,e),s=new Ux("",r),l=function AR(i,t,e=null,n=null){return r_(Uy(i),t,e,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(s._root),{state:s,tree:l}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Dn).pipe(Wh(n=>{throw n instanceof Zy?this.noMatchError(n):n}))}inheritParamsAndData(t){const e=t.value,n=p_(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,e,n):this.processSegment(t,e,n,n.segments,r,!0)}processChildren(t,e,n){const r=[];for(const s of Object.keys(n.children))"primary"===s?r.unshift(s):r.push(s);return(0,Zr.D)(r).pipe(Gp(s=>{const l=n.children[s],u=function LR(i,t){const e=i.filter(n=>Al(n)===t);return e.push(...i.filter(n=>Al(n)!==t)),e}(e,s);return this.processSegmentGroup(t,u,l,s)}),yx((s,l)=>(s.push(...l),s)),Ry(null),function yR(i,t){const e=arguments.length>=2;return n=>n.pipe(i?tr((r,s)=>i(r,s,n)):Vh.y,Py(1),e?Ry(t):lc(()=>new Hp))}(),(0,Ws.z)(s=>{if(null===s)return tf(n);const l=Jx(s);return function Qy(i){i.sort((t,e)=>t.value.outlet===Dn?-1:e.value.outlet===Dn?1:t.value.outlet.localeCompare(e.value.outlet))}(l),(0,nn.of)(l)}))}processSegment(t,e,n,r,s,l){return(0,Zr.D)(e).pipe(Gp(u=>this.processSegmentAgainstRoute(u._injector??t,e,u,n,r,s,l).pipe(Wh(f=>{if(f instanceof Zy)return(0,nn.of)(null);throw f}))),bu(u=>!!u),Wh(u=>{if(qy(u))return function ZS(i,t,e){return 0===t.length&&!i.children[e]}(n,r,s)?(0,nn.of)([]):tf(n);throw u}))}processSegmentAgainstRoute(t,e,n,r,s,l,u){return function $F(i,t,e,n){return!!(Al(i)===n||n!==Dn&&Kx(t,e,i))&&("**"===i.path||Xx(t,i,e).matched)}(n,r,s,l)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,r,n,s,l,u):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,n,s,l):tf(r):tf(r)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,s,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const s=this.applyRedirects.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Xy(s):this.applyRedirects.lineralizeSegments(n,s).pipe((0,Ws.z)(l=>{const u=new Di(l,{});return this.processSegment(t,e,u,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,s,l){const{matched:u,consumedSegments:f,remainingSegments:m,positionalParamSegments:y}=Xx(e,r,s);if(!u)return tf(e);const b=this.applyRedirects.applyRedirectCommands(f,r.redirectTo,y);return r.redirectTo.startsWith("/")?Xy(b):this.applyRedirects.lineralizeSegments(r,b).pipe((0,Ws.z)(w=>this.processSegment(t,n,e,w.concat(m),l,!1)))}matchSegmentAgainstRoute(t,e,n,r,s,l){let u;if("**"===n.path){const f=r.length>0?ky(r).parameters:{},m=new Wy(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,KS(n),Al(n),n.component??n._loadedComponent??null,n,Qx(n));u=(0,nn.of)({snapshot:m,consumedSegments:[],remainingSegments:[]}),e.children={}}else u=YR(e,n,r,t).pipe((0,An.U)(({matched:f,consumedSegments:m,remainingSegments:y,parameters:b})=>f?{snapshot:new Wy(m,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,KS(n),Al(n),n.component??n._loadedComponent??null,n,Qx(n)),consumedSegments:m,remainingSegments:y}:null));return u.pipe((0,ki.w)(f=>null===f?tf(e):this.getChildConfig(t=n._injector??t,n,r).pipe((0,ki.w)(({routes:m})=>{const y=n._loadedInjector??t,{snapshot:b,consumedSegments:w,remainingSegments:S}=f,{segmentGroup:A,slicedSegments:k}=YS(e,w,S,m);if(0===k.length&&A.hasChildren())return this.processChildren(y,m,A).pipe((0,An.U)(R=>null===R?null:[new Tl(b,R)]));if(0===m.length&&0===k.length)return(0,nn.of)([new Tl(b,[])]);const I=Al(n)===s;return this.processSegment(y,m,A,k,I?Dn:s,!0).pipe((0,An.U)(R=>[new Tl(b,R)]))}))))}getChildConfig(t,e,n){return e.children?(0,nn.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,nn.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function pd(i,t,e,n){const r=t.canLoad;if(void 0===r||0===r.length)return(0,nn.of)(!0);const s=r.map(l=>{const u=Su(l,i);return cc(function BR(i){return i&&zo(i.canLoad)}(u)?u.canLoad(t,e):i.runInContext(()=>u(t,e)))});return(0,nn.of)(s).pipe(Qh(),ef())}(t,e,n).pipe((0,Ws.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,js.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function Ky(i){return Jg(NS(!1,3))}())):(0,nn.of)({routes:[],injector:t})}}function qF(i){const t=i.value.routeConfig;return t&&""===t.path}function Jx(i){const t=[],e=new Set;for(const n of i){if(!qF(n)){t.push(n);continue}const r=t.find(s=>n.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...n.children),e.add(r)):t.push(n)}for(const n of e){const r=Jx(n.children);t.push(new Tl(n.value,r))}return t.filter(n=>!e.has(n))}function KS(i){return i.data||{}}function Qx(i){return i.resolve||{}}function nM(i){return"string"==typeof i.title||null===i.title}function tm(i){return(0,ki.w)(t=>{const e=i(t);return e?(0,Zr.D)(e).pipe((0,An.U)(()=>t)):(0,nn.of)(t)})}const Il=new c.OlP("ROUTES");let E_=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,nn.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const n=cc(e.loadComponent()).pipe((0,An.U)(eb),(0,js.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Qg(()=>{this.componentLoaders.delete(e)})),r=new Iy(n,()=>new an.x).pipe(Dy());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return(0,nn.of)({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const s=function C_(i,t,e,n){return cc(i.loadChildren()).pipe((0,An.U)(eb),(0,Ws.z)(r=>r instanceof c.YKP||Array.isArray(r)?(0,nn.of)(r):(0,Zr.D)(t.compileModuleAsync(r))),(0,An.U)(r=>{n&&n(i);let s,l,u=!1;return Array.isArray(r)?(l=r,!0):(s=r.create(e).injector,l=s.get(Il,[],{optional:!0,self:!0}).flat()),{routes:l.map($y),injector:s}}))}(n,this.compiler,e,this.onLoadEndListener).pipe(Qg(()=>{this.childrenLoaders.delete(n)})),l=new Iy(s,()=>new an.x).pipe(Dy());return this.childrenLoaders.set(n,l),l}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function eb(i){return function iM(i){return i&&"object"==typeof i&&"default"in i}(i)?i.default:i}let nm=(()=>{class i{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new an.x,this.transitionAbortSubject=new an.x,this.configLoader=(0,c.f3M)(E_),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(Wp),this.rootContexts=(0,c.f3M)(f_),this.inputBindingEnabled=null!==(0,c.f3M)(Hx,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,nn.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Px(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Rx(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:n})}setupNavigations(e,n,r){return this.transitions=new Gs.X({id:0,currentUrlTree:n,currentRawUrl:n,currentBrowserUrl:n,extractedUrl:e.urlHandlingStrategy.extract(n),urlAfterRedirects:e.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Xh,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(tr(s=>0!==s.id),(0,An.U)(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),(0,ki.w)(s=>{this.currentTransition=s;let l=!1,u=!1;return(0,nn.of)(s).pipe((0,js.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ki.w)(f=>{const m=f.currentBrowserUrl.toString(),y=!e.navigated||f.extractedUrl.toString()!==m||m!==f.currentUrlTree.toString();if(!y&&"reload"!==(f.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const w="";return this.events.next(new c_(f.id,this.urlSerializer.serialize(f.rawUrl),w,0)),f.resolve(null),Ho.E}if(e.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return(0,nn.of)(f).pipe((0,ki.w)(w=>{const S=this.transitions?.getValue();return this.events.next(new Hy(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),S!==this.transitions?.getValue()?Ho.E:Promise.resolve(w)}),function JS(i,t,e,n,r,s){return(0,Ws.z)(l=>function XS(i,t,e,n,r,s,l="emptyOnly"){return new YF(i,t,e,n,r,l,s).recognize()}(i,t,e,n,l.extractedUrl,r,s).pipe((0,An.U)(({state:u,tree:f})=>({...l,targetSnapshot:u,urlAfterRedirects:f}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,js.b)(w=>{s.targetSnapshot=w.targetSnapshot,s.urlAfterRedirects=w.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:w.urlAfterRedirects};const S=new d_(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(S)}));if(y&&e.urlHandlingStrategy.shouldProcessUrl(f.currentRawUrl)){const{id:w,extractedUrl:S,source:A,restoredState:k,extras:I}=f,R=new Hy(w,this.urlSerializer.serialize(S),A,k);this.events.next(R);const U=PS(0,this.rootComponentType).snapshot;return this.currentTransition=s={...f,targetSnapshot:U,urlAfterRedirects:S,extras:{...I,skipLocationChange:!1,replaceUrl:!1}},(0,nn.of)(s)}{const w="";return this.events.next(new c_(f.id,this.urlSerializer.serialize(f.extractedUrl),w,1)),f.resolve(null),Ho.E}}),(0,js.b)(f=>{const m=new RR(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),(0,An.U)(f=>(this.currentTransition=s={...f,guards:Yx(f.targetSnapshot,f.currentSnapshot,this.rootContexts)},s)),function zR(i,t){return(0,Ws.z)(e=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=e;return 0===l.length&&0===s.length?(0,nn.of)({...e,guardsResult:!0}):function GS(i,t,e,n){return(0,Zr.D)(i).pipe((0,Ws.z)(r=>function Qp(i,t,e,n,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,nn.of)(!0);const l=s.map(u=>{const f=Yy(t)??r,m=Su(u,f);return cc(function VR(i){return i&&zo(i.canDeactivate)}(m)?m.canDeactivate(i,t,e,n):f.runInContext(()=>m(i,t,e,n))).pipe(bu())});return(0,nn.of)(l).pipe(Qh())}(r.component,r.route,e,t,n)),bu(r=>!0!==r,!0))}(l,n,r,i).pipe((0,Ws.z)(u=>u&&function zS(i){return"boolean"==typeof i}(u)?function WS(i,t,e,n){return(0,Zr.D)(t).pipe(Gp(r=>Xg(function WR(i,t){return null!==i&&t&&t(new u_(i)),(0,nn.of)(!0)}(r.route.parent,n),function GR(i,t){return null!==i&&t&&t(new Zp(i)),(0,nn.of)(!0)}(r.route,n),function jS(i,t,e){const n=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(l=>function Cu(i){const t=i.routeConfig?i.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:i,guards:t}:null}(l)).filter(l=>null!==l).map(l=>Kg(()=>{const u=l.guards.map(f=>{const m=Yy(l.node)??e,y=Su(f,m);return cc(function As(i){return i&&zo(i.canActivateChild)}(y)?y.canActivateChild(n,i):m.runInContext(()=>y(n,i))).pipe(bu())});return(0,nn.of)(u).pipe(Qh())}));return(0,nn.of)(s).pipe(Qh())}(i,r.path,e),function jR(i,t,e){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return(0,nn.of)(!0);const r=n.map(s=>Kg(()=>{const l=Yy(t)??e,u=Su(s,l);return cc(function GF(i){return i&&zo(i.canActivate)}(u)?u.canActivate(t,i):l.runInContext(()=>u(t,i))).pipe(bu())}));return(0,nn.of)(r).pipe(Qh())}(i,r.route,e))),bu(r=>!0!==r,!0))}(n,s,i,t):(0,nn.of)(u)),(0,An.U)(u=>({...e,guardsResult:u})))})}(this.environmentInjector,f=>this.events.next(f)),(0,js.b)(f=>{if(s.guardsResult=f.guardsResult,aa(f.guardsResult))throw Gx(0,f.guardsResult);const m=new Dx(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(m)}),tr(f=>!!f.guardsResult||(this.cancelNavigationTransition(f,"",3),!1)),tm(f=>{if(f.guards.canActivateChecks.length)return(0,nn.of)(f).pipe((0,js.b)(m=>{const y=new Ix(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}),(0,ki.w)(m=>{let y=!1;return(0,nn.of)(m).pipe(function zn(i,t){return(0,Ws.z)(e=>{const{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,nn.of)(e);let s=0;return(0,Zr.D)(r).pipe(Gp(l=>function QS(i,t,e,n){const r=i.routeConfig,s=i._resolve;return void 0!==r?.title&&!nM(r)&&(s[ud]=r.title),function eM(i,t,e,n){const r=function em(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}(i);if(0===r.length)return(0,nn.of)({});const s={};return(0,Zr.D)(r).pipe((0,Ws.z)(l=>function tM(i,t,e,n){const r=Yy(t)??n,s=Su(i,r);return cc(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(i[l],t,e,n).pipe(bu(),(0,js.b)(u=>{s[l]=u}))),Py(1),fS(s),Wh(l=>qy(l)?Ho.E:Jg(l)))}(s,i,t,n).pipe((0,An.U)(l=>(i._resolvedData=l,i.data=p_(i,e).resolve,r&&nM(r)&&(i.data[ud]=r.title),null)))}(l.route,n,i,t)),(0,js.b)(()=>s++),Py(1),(0,Ws.z)(l=>s===r.length?(0,nn.of)(e):Ho.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,js.b)({next:()=>y=!0,complete:()=>{y||this.cancelNavigationTransition(m,"",2)}}))}),(0,js.b)(m=>{const y=new qp(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}))}),tm(f=>{const m=y=>{const b=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,js.b)(w=>{y.component=w}),(0,An.U)(()=>{})));for(const w of y.children)b.push(...m(w));return b};return zh(m(f.targetSnapshot.root)).pipe(Ry(),Ir(1))}),tm(()=>this.afterPreactivation()),(0,An.U)(f=>{const m=function __(i,t,e){const n=v_(i,t._root,e?e._root:void 0);return new RS(n,t)}(e.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return this.currentTransition=s={...f,targetRouterState:m},s}),(0,js.b)(()=>{this.events.next(new Xp)}),((i,t,e,n)=>(0,An.U)(r=>(new Dl(t,r.targetRouterState,r.currentRouterState,e,n).activate(i),r)))(this.rootContexts,e.routeReuseStrategy,f=>this.events.next(f),this.inputBindingEnabled),Ir(1),(0,js.b)({next:f=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Eu(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects))),e.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{l=!0}}),Ci(this.transitionAbortSubject.pipe((0,js.b)(f=>{throw f}))),Qg(()=>{l||u||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Wh(f=>{if(u=!0,LS(f))this.events.next(new l_(s.id,this.urlSerializer.serialize(s.extractedUrl),f.message,f.cancellationCode)),function PR(i){return LS(i)&&aa(i.url)}(f)?this.events.next(new DS(f.url)):s.resolve(!1);else{this.events.next(new Ax(s.id,this.urlSerializer.serialize(s.extractedUrl),f,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(f))}catch(m){s.reject(m)}}return Ho.E}))}))}cancelNavigationTransition(e,n,r){const s=new l_(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(s),e.resolve(!1)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function tb(i){return i!==Xh}let ew=(()=>{class i{buildTitle(e){let n,r=e.root;for(;void 0!==r;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(s=>s.outlet===Dn);return n}getResolvedTitleForRoute(e){return e.data[ud]}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:function(){return(0,c.f3M)(tw)},providedIn:"root"})}return i})(),tw=(()=>{class i extends ew{constructor(e){super(),this.title=e}updateTitle(e){const n=this.buildTitle(e);void 0!==n&&this.title.setTitle(n)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(et))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),KR=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:function(){return(0,c.f3M)(QR)},providedIn:"root"})}return i})();class JR{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let QR=(()=>{class i extends JR{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const S_=new c.OlP("",{providedIn:"root",factory:()=>({})});let e1=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:function(){return(0,c.f3M)(t1)},providedIn:"root"})}return i})(),t1=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var M_=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(M_||{});function rM(i,t){i.events.pipe(tr(e=>e instanceof Eu||e instanceof l_||e instanceof Ax||e instanceof c_),(0,An.U)(e=>e instanceof Eu||e instanceof c_?M_.COMPLETE:e instanceof l_&&(0===e.code||1===e.code)?M_.REDIRECTING:M_.FAILED),tr(e=>e!==M_.REDIRECTING),Ir(1)).subscribe(()=>{t()})}function sM(i){throw i}function oM(i,t,e){return t.parse("/")}const n1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},r1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $i=(()=>{class i{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this._events=new an.x,this.options=(0,c.f3M)(S_,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||sM,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||oM,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(e1),this.routeReuseStrategy=(0,c.f3M)(KR),this.titleStrategy=(0,c.f3M)(ew),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(Il,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(nm),this.urlSerializer=(0,c.f3M)(Wp),this.location=(0,c.f3M)(Et),this.componentInputBindingEnabled=!!(0,c.f3M)(Hx,{optional:!0}),this.eventsSubscription=new Ts.w0,this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Yh,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=PS(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(n=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(aM(n)&&this._events.next(n));if(n instanceof Hy)tb(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(n instanceof c_)this.rawUrlTree=r.rawUrl;else if(n instanceof d_){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(n instanceof Xp)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(n instanceof l_)0!==n.code&&1!==n.code&&(this.navigated=!0),(3===n.code||2===n.code)&&this.restoreHistory(r);else if(n instanceof DS){const s=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),l={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||tb(r.source)};this.scheduleNavigation(s,Xh,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}n instanceof Ax&&this.restoreHistory(r,!0),n instanceof Eu&&(this.navigated=!0),aM(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Xh,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const n="popstate"===e.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,n,e.state)},0)}))}navigateToSyncWithBrowser(e,n,r){const s={replaceUrl:!0},l=r?.navigationId?r:null;if(r){const f={...r};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(s.state=f)}const u=this.parseUrl(e);this.scheduleNavigation(u,n,l,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map($y),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){const{relativeTo:r,queryParams:s,fragment:l,queryParamsHandling:u,preserveFragment:f}=n,m=f?this.currentUrlTree.fragment:l;let b,y=null;switch(u){case"merge":y={...this.currentUrlTree.queryParams,...s};break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=s||null}null!==y&&(y=this.removeEmptyProps(y));try{b=Uy(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),b=this.currentUrlTree.root}return r_(b,e,y,m??null)}navigateByUrl(e,n={skipLocationChange:!1}){const r=aa(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Xh,null,n)}navigate(e,n={skipLocationChange:!1}){return function s1(i){for(let t=0;t<i.length;t++)if(null==i[t])throw new c.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let n;try{n=this.urlSerializer.parse(e)}catch(r){n=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return n}isActive(e,n){let r;if(r=!0===n?{...n1}:!1===n?{...r1}:n,aa(e))return xx(this.currentUrlTree,e,r);const s=this.parseUrl(e);return xx(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((n,r)=>{const s=e[r];return null!=s&&(n[r]=s),n},{})}scheduleNavigation(e,n,r,s,l){if(this.disposed)return Promise.resolve(!1);let u,f,m;l?(u=l.resolve,f=l.reject,m=l.promise):m=new Promise((b,w)=>{u=b,f=w});const y=this.pendingTasks.add();return rM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(y))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:s,resolve:u,reject:f,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(b=>Promise.reject(b))}setBrowserUrl(e,n){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){const l={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(r,"",l)}else{const s={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,n=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function aM(i){return!(i instanceof Xp||i instanceof DS)}let T_=(()=>{class i{constructor(e,n,r,s,l,u){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=s,this.el=l,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new an.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const f=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===f||"area"===f,this.isAnchorElement?this.subscription=e.events.subscribe(m=>{m instanceof Eu&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,n,r,s,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||n||r||s||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,n){const r=this.renderer,s=this.el.nativeElement;null!==n?r.setAttribute(s,e,n):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36($i),c.Y36(Kp),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(vt))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&c.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&n&&c.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",c.VuI],replaceUrl:["replaceUrl","replaceUrl",c.VuI],routerLink:"routerLink"},standalone:!0,features:[c.Xq5,c.TTD]})}return i})();class cM{}let dM=(()=>{class i{constructor(e,n,r,s,l){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(tr(e=>e instanceof Eu),Gp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){const r=[];for(const s of n){s.providers&&!s._injector&&(s._injector=(0,c.MMx)(s.providers,e,`Route: ${s.path}`));const l=s._injector??e,u=s._loadedInjector??l;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(l,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(u,s.children??s._loadedRoutes))}return(0,Zr.D)(r).pipe((0,ac.J)())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;r=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(e,n):(0,nn.of)(null);const s=r.pipe((0,Ws.z)(l=>null===l?(0,nn.of)(void 0):(n._loadedRoutes=l.routes,n._loadedInjector=l.injector,this.processRoutes(l.injector??e,l.routes))));if(n.loadComponent&&!n._loadedComponent){const l=this.loader.loadComponent(n);return(0,Zr.D)([s,l]).pipe((0,ac.J)())}return s})}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG($i),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(cM),c.LFG(E_))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const iw=new c.OlP("");let uM=(()=>{class i{constructor(e,n,r,s,l={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Hy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Eu?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof c_&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Gy&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Gy(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){c.$Z()};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();function md(i,t){return{\u0275kind:i,\u0275providers:t}}function nb(){const i=(0,c.f3M)(c.zs3);return t=>{const e=i.get(c.z2F);if(t!==e.components[0])return;const n=i.get($i),r=i.get(pM);1===i.get(ib)&&n.initialNavigation(),i.get(A_,null,c.XFs.Optional)?.setUpPreloading(),i.get(iw,null,c.XFs.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const pM=new c.OlP("",{factory:()=>new an.x}),ib=new c.OlP("",{providedIn:"root",factory:()=>1}),A_=new c.OlP("");function rw(i){return md(0,[{provide:A_,useExisting:dM},{provide:cM,useExisting:i}])}const rb=new c.OlP("ROUTER_FORROOT_GUARD"),_d=[Et,{provide:Wp,useClass:Oy},$i,f_,{provide:Kp,useFactory:function fM(i){return i.routerState.root},deps:[$i]},E_,[]];function h1(){return new c.PXZ("Router",$i)}let sw=(()=>{class i{constructor(e){}static forRoot(e,n){return{ngModule:i,providers:[_d,[],{provide:Il,multi:!0,useValue:e},{provide:rb,useFactory:p1,deps:[[$i,new c.FiY,new c.tp0]]},{provide:S_,useValue:n||{}},n?.useHash?{provide:vt,useClass:ut}:{provide:vt,useClass:Pt},{provide:iw,useFactory:()=>{const i=(0,c.f3M)(Er),t=(0,c.f3M)(c.R0b),e=(0,c.f3M)(S_),n=(0,c.f3M)(nm),r=(0,c.f3M)(Wp);return e.scrollOffset&&i.setOffset(e.scrollOffset),new uM(r,n,i,t,e)}},n?.preloadingStrategy?rw(n.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:h1},n?.initialNavigation?sb(n):[],n?.bindToComponentInputs?md(8,[OS,{provide:Hx,useExisting:OS}]).\u0275providers:[],[{provide:im,useFactory:nb},{provide:c.tb,multi:!0,useExisting:im}]]}}static forChild(e){return{ngModule:i,providers:[{provide:Il,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(rb,8))};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({})}return i})();function p1(i){return"guarded"}function sb(i){return["disabled"===i.initialNavigation?md(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const t=(0,c.f3M)($i);return()=>{t.setUpLocationChangeListener()}}},{provide:ib,useValue:2}]).\u0275providers:[],"enabledBlocking"===i.initialNavigation?md(2,[{provide:ib,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:t=>{const e=t.get(ht,Promise.resolve());return()=>e.then(()=>new Promise(n=>{const r=t.get($i),s=t.get(pM);rM(r,()=>{n(!0)}),t.get(nm).afterPreactivation=()=>(n(!0),s.closed?(0,nn.of)(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const im=new c.OlP("");var vd=W(5861);const rm=1,y1=2,yd=3,xd=0,lm=1,cm=2,la=0,dm=1,um=2,hm=3,AM=4,DM=5,wd=301,Au=302,af=306,Wo=1001,Jr=1003,Qr=1006,Ed=1008,uc=1009,Du=1014,ca=1015,P_=1016,cf=1020,xo=1023,df=1026,fm=1027,jo=3001,Ds="srgb",Rl="srgb-linear",ZM="display-p3",Iw="display-p3-linear",Tb="linear",nr="srgb",H_="rec709",Ab="p3",pf=7680,QM="300 es",pc=2e3;class mm{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const r=this._listeners[t];if(void 0!==r){const s=r.indexOf(e);-1!==s&&r.splice(s,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const n=this._listeners[t.type];if(void 0!==n){t.target=this;const r=n.slice(0);for(let s=0,l=r.length;s<l;s++)r[s].call(this,t);t.target=null}}}const $s=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Iu=Math.PI/180,gm=180/Math.PI;function da(){const i=4294967295*Math.random()|0,t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return($s[255&i]+$s[i>>8&255]+$s[i>>16&255]+$s[i>>24&255]+"-"+$s[255&t]+$s[t>>8&255]+"-"+$s[t>>16&15|64]+$s[t>>24&255]+"-"+$s[63&e|128]+$s[e>>8&255]+"-"+$s[e>>16&255]+$s[e>>24&255]+$s[255&n]+$s[n>>8&255]+$s[n>>16&255]+$s[n>>24&255]).toLowerCase()}function ur(i,t,e){return Math.max(t,Math.min(e,i))}function vm(i,t,e){return(1-e)*i+e*t}function kw(i){return 0==(i&i-1)&&0!==i}function Pb(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function Yo(i,t){switch(t.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function Kn(i,t){switch(t.constructor){case Float32Array:return i;case Uint32Array:return Math.round(4294967295*i);case Uint16Array:return Math.round(65535*i);case Uint8Array:return Math.round(255*i);case Int32Array:return Math.round(2147483647*i);case Int16Array:return Math.round(32767*i);case Int8Array:return Math.round(127*i);default:throw new Error("Invalid component type.")}}class ft{constructor(t=0,e=0){ft.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(ur(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),r=Math.sin(e),s=this.x-t.x,l=this.y-t.y;return this.x=s*n-l*r+t.x,this.y=s*r+l*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class si{constructor(t,e,n,r,s,l,u,f,m){si.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,e,n,r,s,l,u,f,m)}set(t,e,n,r,s,l,u,f,m){const y=this.elements;return y[0]=t,y[1]=r,y[2]=u,y[3]=e,y[4]=s,y[5]=f,y[6]=n,y[7]=l,y[8]=m,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,s=this.elements,l=n[0],u=n[3],f=n[6],m=n[1],y=n[4],b=n[7],w=n[2],S=n[5],A=n[8],k=r[0],I=r[3],R=r[6],U=r[1],O=r[4],B=r[7],j=r[2],q=r[5],ee=r[8];return s[0]=l*k+u*U+f*j,s[3]=l*I+u*O+f*q,s[6]=l*R+u*B+f*ee,s[1]=m*k+y*U+b*j,s[4]=m*I+y*O+b*q,s[7]=m*R+y*B+b*ee,s[2]=w*k+S*U+A*j,s[5]=w*I+S*O+A*q,s[8]=w*R+S*B+A*ee,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],r=t[2],s=t[3],l=t[4],u=t[5],f=t[6],m=t[7],y=t[8];return e*l*y-e*u*m-n*s*y+n*u*f+r*s*m-r*l*f}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],s=t[3],l=t[4],u=t[5],f=t[6],m=t[7],y=t[8],b=y*l-u*m,w=u*f-y*s,S=m*s-l*f,A=e*b+n*w+r*S;if(0===A)return this.set(0,0,0,0,0,0,0,0,0);const k=1/A;return t[0]=b*k,t[1]=(r*m-y*n)*k,t[2]=(u*n-r*l)*k,t[3]=w*k,t[4]=(y*e-r*f)*k,t[5]=(r*s-u*e)*k,t[6]=S*k,t[7]=(n*f-m*e)*k,t[8]=(l*e-n*s)*k,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,r,s,l,u){const f=Math.cos(s),m=Math.sin(s);return this.set(n*f,n*m,-n*(f*l+m*u)+l+t,-r*m,r*f,-r*(-m*l+f*u)+u+e,0,0,1),this}scale(t,e){return this.premultiply(Ow.makeScale(t,e)),this}rotate(t){return this.premultiply(Ow.makeRotation(-t)),this}translate(t,e){return this.premultiply(Ow.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,n,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,n=t.elements;for(let r=0;r<9;r++)if(e[r]!==n[r])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}const Ow=new si;function cT(i){for(let t=i.length-1;t>=0;--t)if(i[t]>=65535)return!0;return!1}function bm(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function dT(){const i=bm("canvas");return i.style.display="block",i}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const Nw={};function xm(i){i in Nw||(Nw[i]=!0,console.warn(i))}const Lw=(new si).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),Fw=(new si).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),W_={[Rl]:{transfer:Tb,primaries:H_,toReference:i=>i,fromReference:i=>i},[Ds]:{transfer:nr,primaries:H_,toReference:i=>i.convertSRGBToLinear(),fromReference:i=>i.convertLinearToSRGB()},[Iw]:{transfer:Tb,primaries:Ab,toReference:i=>i.applyMatrix3(Fw),fromReference:i=>i.applyMatrix3(Lw)},[ZM]:{transfer:nr,primaries:Ab,toReference:i=>i.convertSRGBToLinear().applyMatrix3(Fw),fromReference:i=>i.applyMatrix3(Lw).convertLinearToSRGB()}},uT=new Set([Rl,Iw]),Oi={enabled:!0,_workingColorSpace:Rl,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(i){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!i},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(i){if(!uT.has(i))throw new Error(`Unsupported working color space, "${i}".`);this._workingColorSpace=i},convert:function(i,t,e){return!1!==this.enabled&&t!==e&&t&&e?(0,W_[e].fromReference)((0,W_[t].toReference)(i)):i},fromWorkingColorSpace:function(i,t){return this.convert(i,this._workingColorSpace,t)},toWorkingColorSpace:function(i,t){return this.convert(i,t,this._workingColorSpace)},getPrimaries:function(i){return W_[i].primaries},getTransfer:function(i){return""===i?Tb:W_[i].transfer}};function Ru(i){return i<.04045?.0773993808*i:Math.pow(.9478672986*i+.0521327014,2.4)}function j_(i){return i<.0031308?12.92*i:1.055*Math.pow(i,.41666)-.055}let za;class hT{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===za&&(za=bm("canvas")),za.width=t.width,za.height=t.height;const n=za.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=za}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=bm("canvas");e.width=t.width,e.height=t.height;const n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);const r=n.getImageData(0,0,t.width,t.height),s=r.data;for(let l=0;l<s.length;l++)s[l]=255*Ru(s[l]/255);return n.putImageData(r,0,0),e}if(t.data){const e=t.data.slice(0);for(let n=0;n<e.length;n++)e[n]=e instanceof Uint8Array||e instanceof Uint8ClampedArray?Math.floor(255*Ru(e[n]/255)):Ru(e[n]);return{data:e,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let Y1=0;class Ol{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Y1++}),this.uuid=da(),this.data=t,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let s;if(Array.isArray(r)){s=[];for(let l=0,u=r.length;l<u;l++)s.push(fT(r[l].isDataTexture?r[l].image:r[l]))}else s=fT(r);n.url=s}return e||(t.images[this.uuid]=n),n}}function fT(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?hT.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Uw=0,gf=(()=>{class i extends mm{constructor(e=i.DEFAULT_IMAGE,n=i.DEFAULT_MAPPING,r=Wo,s=Wo,l=Qr,u=Ed,f=xo,m=uc,y=i.DEFAULT_ANISOTROPY,b=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Uw++}),this.uuid=da(),this.name="",this.source=new Ol(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=s,this.magFilter=l,this.minFilter=u,this.anisotropy=y,this.format=f,this.internalFormat=null,this.type=m,this.offset=new ft(0,0),this.repeat=new ft(1,1),this.center=new ft(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new si,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof b?this.colorSpace=b:(xm("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=b===jo?Ds:""),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=void 0===e||"string"==typeof e;if(!n&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case Wo:e.x=e.x<0?0:1;break;case 1002:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case Wo:e.y=e.y<0?0:1;break;case 1002:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return xm("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Ds?jo:3e3}set encoding(e){xm("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===jo?Ds:""}}return i.DEFAULT_IMAGE=null,i.DEFAULT_MAPPING=300,i.DEFAULT_ANISOTROPY=1,i})();class Ni{constructor(t=0,e=0,n=0,r=1){Ni.prototype.isVector4=!0,this.x=t,this.y=e,this.z=n,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,s=this.w,l=t.elements;return this.x=l[0]*e+l[4]*n+l[8]*r+l[12]*s,this.y=l[1]*e+l[5]*n+l[9]*r+l[13]*s,this.z=l[2]*e+l[6]*n+l[10]*r+l[14]*s,this.w=l[3]*e+l[7]*n+l[11]*r+l[15]*s,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,r,s;const f=t.elements,m=f[0],y=f[4],b=f[8],w=f[1],S=f[5],A=f[9],k=f[2],I=f[6],R=f[10];if(Math.abs(y-w)<.01&&Math.abs(b-k)<.01&&Math.abs(A-I)<.01){if(Math.abs(y+w)<.1&&Math.abs(b+k)<.1&&Math.abs(A+I)<.1&&Math.abs(m+S+R-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const O=(m+1)/2,B=(S+1)/2,j=(R+1)/2,q=(y+w)/4,ee=(b+k)/4,ce=(A+I)/4;return O>B&&O>j?O<.01?(n=0,r=.707106781,s=.707106781):(n=Math.sqrt(O),r=q/n,s=ee/n):B>j?B<.01?(n=.707106781,r=0,s=.707106781):(r=Math.sqrt(B),n=q/r,s=ce/r):j<.01?(n=.707106781,r=.707106781,s=0):(s=Math.sqrt(j),n=ee/s,r=ce/s),this.set(n,r,s,e),this}let U=Math.sqrt((I-A)*(I-A)+(b-k)*(b-k)+(w-y)*(w-y));return Math.abs(U)<.001&&(U=1),this.x=(I-A)/U,this.y=(b-k)/U,this.z=(w-y)/U,this.w=Math.acos((m+S+R-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class pT extends mm{constructor(t=1,e=1,n={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new Ni(0,0,t,e),this.scissorTest=!1,this.viewport=new Ni(0,0,t,e);const r={width:t,height:e,depth:1};void 0!==n.encoding&&(xm("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===jo?Ds:""),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Qr,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},n),this.texture=new gf(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps,this.texture.internalFormat=n.internalFormat,this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}setSize(t,e,n=1){(this.width!==t||this.height!==e||this.depth!==n)&&(this.width=t,this.height=e,this.depth=n,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;const e=Object.assign({},t.texture.image);return this.texture.source=new Ol(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class wm extends pT{constructor(t=1,e=1,n={}){super(t,e,n),this.isWebGLRenderTarget=!0}}class Pu extends gf{constructor(t=null,e=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:n,depth:r},this.magFilter=Jr,this.minFilter=Jr,this.wrapR=Wo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class mT extends gf{constructor(t=null,e=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:n,depth:r},this.magFilter=Jr,this.minFilter=Jr,this.wrapR=Wo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ua{constructor(t=0,e=0,n=0,r=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=n,this._w=r}static slerpFlat(t,e,n,r,s,l,u){let f=n[r+0],m=n[r+1],y=n[r+2],b=n[r+3];const w=s[l+0],S=s[l+1],A=s[l+2],k=s[l+3];if(0===u)return t[e+0]=f,t[e+1]=m,t[e+2]=y,void(t[e+3]=b);if(1===u)return t[e+0]=w,t[e+1]=S,t[e+2]=A,void(t[e+3]=k);if(b!==k||f!==w||m!==S||y!==A){let I=1-u;const R=f*w+m*S+y*A+b*k,U=R>=0?1:-1,O=1-R*R;if(O>Number.EPSILON){const j=Math.sqrt(O),q=Math.atan2(j,R*U);I=Math.sin(I*q)/j,u=Math.sin(u*q)/j}const B=u*U;if(f=f*I+w*B,m=m*I+S*B,y=y*I+A*B,b=b*I+k*B,I===1-u){const j=1/Math.sqrt(f*f+m*m+y*y+b*b);f*=j,m*=j,y*=j,b*=j}}t[e]=f,t[e+1]=m,t[e+2]=y,t[e+3]=b}static multiplyQuaternionsFlat(t,e,n,r,s,l){const u=n[r],f=n[r+1],m=n[r+2],y=n[r+3],b=s[l],w=s[l+1],S=s[l+2],A=s[l+3];return t[e]=u*A+y*b+f*S-m*w,t[e+1]=f*A+y*w+m*b-u*S,t[e+2]=m*A+y*S+u*w-f*b,t[e+3]=y*A-u*b-f*w-m*S,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){const n=t._x,r=t._y,s=t._z,l=t._order,u=Math.cos,f=Math.sin,m=u(n/2),y=u(r/2),b=u(s/2),w=f(n/2),S=f(r/2),A=f(s/2);switch(l){case"XYZ":this._x=w*y*b+m*S*A,this._y=m*S*b-w*y*A,this._z=m*y*A+w*S*b,this._w=m*y*b-w*S*A;break;case"YXZ":this._x=w*y*b+m*S*A,this._y=m*S*b-w*y*A,this._z=m*y*A-w*S*b,this._w=m*y*b+w*S*A;break;case"ZXY":this._x=w*y*b-m*S*A,this._y=m*S*b+w*y*A,this._z=m*y*A+w*S*b,this._w=m*y*b-w*S*A;break;case"ZYX":this._x=w*y*b-m*S*A,this._y=m*S*b+w*y*A,this._z=m*y*A-w*S*b,this._w=m*y*b+w*S*A;break;case"YZX":this._x=w*y*b+m*S*A,this._y=m*S*b+w*y*A,this._z=m*y*A-w*S*b,this._w=m*y*b-w*S*A;break;case"XZY":this._x=w*y*b-m*S*A,this._y=m*S*b-w*y*A,this._z=m*y*A+w*S*b,this._w=m*y*b+w*S*A;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],r=e[4],s=e[8],l=e[1],u=e[5],f=e[9],m=e[2],y=e[6],b=e[10],w=n+u+b;if(w>0){const S=.5/Math.sqrt(w+1);this._w=.25/S,this._x=(y-f)*S,this._y=(s-m)*S,this._z=(l-r)*S}else if(n>u&&n>b){const S=2*Math.sqrt(1+n-u-b);this._w=(y-f)/S,this._x=.25*S,this._y=(r+l)/S,this._z=(s+m)/S}else if(u>b){const S=2*Math.sqrt(1+u-n-b);this._w=(s-m)/S,this._x=(r+l)/S,this._y=.25*S,this._z=(f+y)/S}else{const S=2*Math.sqrt(1+b-n-u);this._w=(l-r)/S,this._x=(s+m)/S,this._y=(f+y)/S,this._z=.25*S}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(ur(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const r=Math.min(1,e/n);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,r=t._y,s=t._z,l=t._w,u=e._x,f=e._y,m=e._z,y=e._w;return this._x=n*y+l*u+r*m-s*f,this._y=r*y+l*f+s*u-n*m,this._z=s*y+l*m+n*f-r*u,this._w=l*y-n*u-r*f-s*m,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,r=this._y,s=this._z,l=this._w;let u=l*t._w+n*t._x+r*t._y+s*t._z;if(u<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,u=-u):this.copy(t),u>=1)return this._w=l,this._x=n,this._y=r,this._z=s,this;const f=1-u*u;if(f<=Number.EPSILON){const S=1-e;return this._w=S*l+e*this._w,this._x=S*n+e*this._x,this._y=S*r+e*this._y,this._z=S*s+e*this._z,this.normalize(),this._onChangeCallback(),this}const m=Math.sqrt(f),y=Math.atan2(m,u),b=Math.sin((1-e)*y)/m,w=Math.sin(e*y)/m;return this._w=l*b+this._w*w,this._x=n*b+this._x*w,this._y=r*b+this._y*w,this._z=s*b+this._z*w,this._onChangeCallback(),this}slerpQuaternions(t,e,n){return this.copy(t).slerp(e,n)}random(){const t=Math.random(),e=Math.sqrt(1-t),n=Math.sqrt(t),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(e*Math.cos(r),n*Math.sin(s),n*Math.cos(s),e*Math.sin(r))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Q{constructor(t=0,e=0,n=0){Q.prototype.isVector3=!0,this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(wo.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(wo.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,r=this.z,s=t.elements;return this.x=s[0]*e+s[3]*n+s[6]*r,this.y=s[1]*e+s[4]*n+s[7]*r,this.z=s[2]*e+s[5]*n+s[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,s=t.elements,l=1/(s[3]*e+s[7]*n+s[11]*r+s[15]);return this.x=(s[0]*e+s[4]*n+s[8]*r+s[12])*l,this.y=(s[1]*e+s[5]*n+s[9]*r+s[13])*l,this.z=(s[2]*e+s[6]*n+s[10]*r+s[14])*l,this}applyQuaternion(t){const e=this.x,n=this.y,r=this.z,s=t.x,l=t.y,u=t.z,f=t.w,m=2*(l*r-u*n),y=2*(u*e-s*r),b=2*(s*n-l*e);return this.x=e+f*m+l*b-u*y,this.y=n+f*y+u*m-s*b,this.z=r+f*b+s*y-l*m,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,r=this.z,s=t.elements;return this.x=s[0]*e+s[4]*n+s[8]*r,this.y=s[1]*e+s[5]*n+s[9]*r,this.z=s[2]*e+s[6]*n+s[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,r=t.y,s=t.z,l=e.x,u=e.y,f=e.z;return this.x=r*f-s*u,this.y=s*l-n*f,this.z=n*u-r*l,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return Em.copy(this).projectOnVector(t),this.sub(Em)}reflect(t){return this.sub(Em.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(ur(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=2*(Math.random()-.5),e=Math.random()*Math.PI*2,n=Math.sqrt(1-t**2);return this.x=n*Math.cos(e),this.y=n*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Em=new Q,wo=new ua;class ku{constructor(t=new Q(1/0,1/0,1/0),e=new Q(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e+=3)this.expandByPoint(Ga.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,n=t.count;e<n;e++)this.expandByPoint(Ga.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=Ga.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const n=t.geometry;if(void 0!==n){const s=n.getAttribute("position");if(!0===e&&void 0!==s&&!0!==t.isInstancedMesh)for(let l=0,u=s.count;l<u;l++)!0===t.isMesh?t.getVertexPosition(l,Ga):Ga.fromBufferAttribute(s,l),Ga.applyMatrix4(t.matrixWorld),this.expandByPoint(Ga);else void 0!==t.boundingBox?(null===t.boundingBox&&t.computeBoundingBox(),kb.copy(t.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),kb.copy(n.boundingBox)),kb.applyMatrix4(t.matrixWorld),this.union(kb)}const r=t.children;for(let s=0,l=r.length;s<l;s++)this.expandByObject(r[s],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,Ga),Ga.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Y_),Nu.subVectors(this.max,Y_),_f.subVectors(t.a,Y_),vf.subVectors(t.b,Y_),yf.subVectors(t.c,Y_),Sd.subVectors(vf,_f),Ou.subVectors(yf,vf),bf.subVectors(_f,yf);let e=[0,-Sd.z,Sd.y,0,-Ou.z,Ou.y,0,-bf.z,bf.y,Sd.z,0,-Sd.x,Ou.z,0,-Ou.x,bf.z,0,-bf.x,-Sd.y,Sd.x,0,-Ou.y,Ou.x,0,-bf.y,bf.x,0];return!(!Bw(e,_f,vf,yf,Nu)||(e=[1,0,0,0,1,0,0,0,1],!Bw(e,_f,vf,yf,Nu)))&&(Ob.crossVectors(Sd,Ou),e=[Ob.x,Ob.y,Ob.z],Bw(e,_f,vf,yf,Nu))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Ga).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(Ga).length()),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(mc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),mc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),mc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),mc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),mc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),mc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),mc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),mc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(mc)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const mc=[new Q,new Q,new Q,new Q,new Q,new Q,new Q,new Q],Ga=new Q,kb=new ku,_f=new Q,vf=new Q,yf=new Q,Sd=new Q,Ou=new Q,bf=new Q,Y_=new Q,Nu=new Q,Ob=new Q,xf=new Q;function Bw(i,t,e,n,r){for(let s=0,l=i.length-3;s<=l;s+=3){xf.fromArray(i,s);const u=r.x*Math.abs(xf.x)+r.y*Math.abs(xf.y)+r.z*Math.abs(xf.z),f=t.dot(xf),m=e.dot(xf),y=n.dot(xf);if(Math.max(-Math.max(f,m,y),Math.min(f,m,y))>u)return!1}return!0}const Nb=new ku,Cm=new Q,Lb=new Q;class Nl{constructor(t=new Q,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):Nb.setFromPoints(t).getCenter(n);let r=0;for(let s=0,l=t.length;s<l;s++)r=Math.max(r,n.distanceToSquared(t[s]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;Cm.subVectors(t,this.center);const e=Cm.lengthSq();if(e>this.radius*this.radius){const n=Math.sqrt(e),r=.5*(n-this.radius);this.center.addScaledVector(Cm,r/n),this.radius+=r}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(Lb.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(Cm.copy(t.center).add(Lb)),this.expandByPoint(Cm.copy(t.center).sub(Lb))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Md=new Q,wf=new Q,Lu=new Q,Fu=new Q,Vw=new Q,Fb=new Q,Ub=new Q;class Sm{constructor(t=new Q,e=new Q(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Md)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Md.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Md.copy(this.origin).addScaledVector(this.direction,e),Md.distanceToSquared(t))}distanceSqToSegment(t,e,n,r){wf.copy(t).add(e).multiplyScalar(.5),Lu.copy(e).sub(t).normalize(),Fu.copy(this.origin).sub(wf);const s=.5*t.distanceTo(e),l=-this.direction.dot(Lu),u=Fu.dot(this.direction),f=-Fu.dot(Lu),m=Fu.lengthSq(),y=Math.abs(1-l*l);let b,w,S,A;if(y>0)if(b=l*f-u,w=l*u-f,A=s*y,b>=0)if(w>=-A)if(w<=A){const k=1/y;b*=k,w*=k,S=b*(b+l*w+2*u)+w*(l*b+w+2*f)+m}else w=s,b=Math.max(0,-(l*w+u)),S=-b*b+w*(w+2*f)+m;else w=-s,b=Math.max(0,-(l*w+u)),S=-b*b+w*(w+2*f)+m;else w<=-A?(b=Math.max(0,-(-l*s+u)),w=b>0?-s:Math.min(Math.max(-s,-f),s),S=-b*b+w*(w+2*f)+m):w<=A?(b=0,w=Math.min(Math.max(-s,-f),s),S=w*(w+2*f)+m):(b=Math.max(0,-(l*s+u)),w=b>0?s:Math.min(Math.max(-s,-f),s),S=-b*b+w*(w+2*f)+m);else w=l>0?-s:s,b=Math.max(0,-(l*w+u)),S=-b*b+w*(w+2*f)+m;return n&&n.copy(this.origin).addScaledVector(this.direction,b),r&&r.copy(wf).addScaledVector(Lu,w),S}intersectSphere(t,e){Md.subVectors(t.center,this.origin);const n=Md.dot(this.direction),r=Md.dot(Md)-n*n,s=t.radius*t.radius;if(r>s)return null;const l=Math.sqrt(s-r),u=n-l,f=n+l;return f<0?null:this.at(u<0?f:u,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,r,s,l,u,f;const m=1/this.direction.x,y=1/this.direction.y,b=1/this.direction.z,w=this.origin;return m>=0?(n=(t.min.x-w.x)*m,r=(t.max.x-w.x)*m):(n=(t.max.x-w.x)*m,r=(t.min.x-w.x)*m),y>=0?(s=(t.min.y-w.y)*y,l=(t.max.y-w.y)*y):(s=(t.max.y-w.y)*y,l=(t.min.y-w.y)*y),n>l||s>r||((s>n||isNaN(n))&&(n=s),(l<r||isNaN(r))&&(r=l),b>=0?(u=(t.min.z-w.z)*b,f=(t.max.z-w.z)*b):(u=(t.max.z-w.z)*b,f=(t.min.z-w.z)*b),n>f||u>r)||((u>n||n!=n)&&(n=u),(f<r||r!=r)&&(r=f),r<0)?null:this.at(n>=0?n:r,e)}intersectsBox(t){return null!==this.intersectBox(t,Md)}intersectTriangle(t,e,n,r,s){Vw.subVectors(e,t),Fb.subVectors(n,t),Ub.crossVectors(Vw,Fb);let u,l=this.direction.dot(Ub);if(l>0){if(r)return null;u=1}else{if(!(l<0))return null;u=-1,l=-l}Fu.subVectors(this.origin,t);const f=u*this.direction.dot(Fb.crossVectors(Fu,Fb));if(f<0)return null;const m=u*this.direction.dot(Vw.cross(Fu));if(m<0||f+m>l)return null;const y=-u*Fu.dot(Ub);return y<0?null:this.at(y/l,s)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class $n{constructor(t,e,n,r,s,l,u,f,m,y,b,w,S,A,k,I){$n.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,e,n,r,s,l,u,f,m,y,b,w,S,A,k,I)}set(t,e,n,r,s,l,u,f,m,y,b,w,S,A,k,I){const R=this.elements;return R[0]=t,R[4]=e,R[8]=n,R[12]=r,R[1]=s,R[5]=l,R[9]=u,R[13]=f,R[2]=m,R[6]=y,R[10]=b,R[14]=w,R[3]=S,R[7]=A,R[11]=k,R[15]=I,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new $n).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,r=1/Mm.setFromMatrixColumn(t,0).length(),s=1/Mm.setFromMatrixColumn(t,1).length(),l=1/Mm.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*s,e[5]=n[5]*s,e[6]=n[6]*s,e[7]=0,e[8]=n[8]*l,e[9]=n[9]*l,e[10]=n[10]*l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,n=t.x,r=t.y,s=t.z,l=Math.cos(n),u=Math.sin(n),f=Math.cos(r),m=Math.sin(r),y=Math.cos(s),b=Math.sin(s);if("XYZ"===t.order){const w=l*y,S=l*b,A=u*y,k=u*b;e[0]=f*y,e[4]=-f*b,e[8]=m,e[1]=S+A*m,e[5]=w-k*m,e[9]=-u*f,e[2]=k-w*m,e[6]=A+S*m,e[10]=l*f}else if("YXZ"===t.order){const w=f*y,S=f*b,A=m*y,k=m*b;e[0]=w+k*u,e[4]=A*u-S,e[8]=l*m,e[1]=l*b,e[5]=l*y,e[9]=-u,e[2]=S*u-A,e[6]=k+w*u,e[10]=l*f}else if("ZXY"===t.order){const w=f*y,S=f*b,A=m*y,k=m*b;e[0]=w-k*u,e[4]=-l*b,e[8]=A+S*u,e[1]=S+A*u,e[5]=l*y,e[9]=k-w*u,e[2]=-l*m,e[6]=u,e[10]=l*f}else if("ZYX"===t.order){const w=l*y,S=l*b,A=u*y,k=u*b;e[0]=f*y,e[4]=A*m-S,e[8]=w*m+k,e[1]=f*b,e[5]=k*m+w,e[9]=S*m-A,e[2]=-m,e[6]=u*f,e[10]=l*f}else if("YZX"===t.order){const w=l*f,S=l*m,A=u*f,k=u*m;e[0]=f*y,e[4]=k-w*b,e[8]=A*b+S,e[1]=b,e[5]=l*y,e[9]=-u*y,e[2]=-m*y,e[6]=S*b+A,e[10]=w-k*b}else if("XZY"===t.order){const w=l*f,S=l*m,A=u*f,k=u*m;e[0]=f*y,e[4]=-b,e[8]=m*y,e[1]=w*b+k,e[5]=l*y,e[9]=S*b-A,e[2]=A*b-S,e[6]=u*y,e[10]=k*b+w}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(q1,t,Z1)}lookAt(t,e,n){const r=this.elements;return ja.subVectors(t,e),0===ja.lengthSq()&&(ja.z=1),ja.normalize(),Ef.crossVectors(n,ja),0===Ef.lengthSq()&&(1===Math.abs(n.z)?ja.x+=1e-4:ja.z+=1e-4,ja.normalize(),Ef.crossVectors(n,ja)),Ef.normalize(),Hw.crossVectors(ja,Ef),r[0]=Ef.x,r[4]=Hw.x,r[8]=ja.x,r[1]=Ef.y,r[5]=Hw.y,r[9]=ja.y,r[2]=Ef.z,r[6]=Hw.z,r[10]=ja.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,s=this.elements,l=n[0],u=n[4],f=n[8],m=n[12],y=n[1],b=n[5],w=n[9],S=n[13],A=n[2],k=n[6],I=n[10],R=n[14],U=n[3],O=n[7],B=n[11],j=n[15],q=r[0],ee=r[4],ce=r[8],z=r[12],K=r[1],Re=r[5],it=r[9],pt=r[13],he=r[2],Ve=r[6],be=r[10],Ce=r[14],He=r[3],Ue=r[7],ot=r[11],pe=r[15];return s[0]=l*q+u*K+f*he+m*He,s[4]=l*ee+u*Re+f*Ve+m*Ue,s[8]=l*ce+u*it+f*be+m*ot,s[12]=l*z+u*pt+f*Ce+m*pe,s[1]=y*q+b*K+w*he+S*He,s[5]=y*ee+b*Re+w*Ve+S*Ue,s[9]=y*ce+b*it+w*be+S*ot,s[13]=y*z+b*pt+w*Ce+S*pe,s[2]=A*q+k*K+I*he+R*He,s[6]=A*ee+k*Re+I*Ve+R*Ue,s[10]=A*ce+k*it+I*be+R*ot,s[14]=A*z+k*pt+I*Ce+R*pe,s[3]=U*q+O*K+B*he+j*He,s[7]=U*ee+O*Re+B*Ve+j*Ue,s[11]=U*ce+O*it+B*be+j*ot,s[15]=U*z+O*pt+B*Ce+j*pe,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],r=t[8],s=t[12],l=t[1],u=t[5],f=t[9],m=t[13],y=t[2],b=t[6],w=t[10],S=t[14];return t[3]*(+s*f*b-r*m*b-s*u*w+n*m*w+r*u*S-n*f*S)+t[7]*(+e*f*S-e*m*w+s*l*w-r*l*S+r*m*y-s*f*y)+t[11]*(+e*m*b-e*u*S-s*l*b+n*l*S+s*u*y-n*m*y)+t[15]*(-r*u*y-e*f*b+e*u*w+r*l*b-n*l*w+n*f*y)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],s=t[3],l=t[4],u=t[5],f=t[6],m=t[7],y=t[8],b=t[9],w=t[10],S=t[11],A=t[12],k=t[13],I=t[14],R=t[15],U=b*I*m-k*w*m+k*f*S-u*I*S-b*f*R+u*w*R,O=A*w*m-y*I*m-A*f*S+l*I*S+y*f*R-l*w*R,B=y*k*m-A*b*m+A*u*S-l*k*S-y*u*R+l*b*R,j=A*b*f-y*k*f-A*u*w+l*k*w+y*u*I-l*b*I,q=e*U+n*O+r*B+s*j;if(0===q)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const ee=1/q;return t[0]=U*ee,t[1]=(k*w*s-b*I*s-k*r*S+n*I*S+b*r*R-n*w*R)*ee,t[2]=(u*I*s-k*f*s+k*r*m-n*I*m-u*r*R+n*f*R)*ee,t[3]=(b*f*s-u*w*s-b*r*m+n*w*m+u*r*S-n*f*S)*ee,t[4]=O*ee,t[5]=(y*I*s-A*w*s+A*r*S-e*I*S-y*r*R+e*w*R)*ee,t[6]=(A*f*s-l*I*s-A*r*m+e*I*m+l*r*R-e*f*R)*ee,t[7]=(l*w*s-y*f*s+y*r*m-e*w*m-l*r*S+e*f*S)*ee,t[8]=B*ee,t[9]=(A*b*s-y*k*s-A*n*S+e*k*S+y*n*R-e*b*R)*ee,t[10]=(l*k*s-A*u*s+A*n*m-e*k*m-l*n*R+e*u*R)*ee,t[11]=(y*u*s-l*b*s-y*n*m+e*b*m+l*n*S-e*u*S)*ee,t[12]=j*ee,t[13]=(y*k*r-A*b*r+A*n*w-e*k*w-y*n*I+e*b*I)*ee,t[14]=(A*u*r-l*k*r-A*n*f+e*k*f+l*n*I-e*u*I)*ee,t[15]=(l*b*r-y*u*r+y*n*f-e*b*f-l*n*w+e*u*w)*ee,this}scale(t){const e=this.elements,n=t.x,r=t.y,s=t.z;return e[0]*=n,e[4]*=r,e[8]*=s,e[1]*=n,e[5]*=r,e[9]*=s,e[2]*=n,e[6]*=r,e[10]*=s,e[3]*=n,e[7]*=r,e[11]*=s,this}getMaxScaleOnAxis(){const t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))}makeTranslation(t,e,n){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),r=Math.sin(e),s=1-n,l=t.x,u=t.y,f=t.z,m=s*l,y=s*u;return this.set(m*l+n,m*u-r*f,m*f+r*u,0,m*u+r*f,y*u+n,y*f-r*l,0,m*f-r*u,y*f+r*l,s*f*f+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,r,s,l){return this.set(1,n,s,0,t,1,l,0,e,r,1,0,0,0,0,1),this}compose(t,e,n){const r=this.elements,s=e._x,l=e._y,u=e._z,f=e._w,m=s+s,y=l+l,b=u+u,w=s*m,S=s*y,A=s*b,k=l*y,I=l*b,R=u*b,U=f*m,O=f*y,B=f*b,j=n.x,q=n.y,ee=n.z;return r[0]=(1-(k+R))*j,r[1]=(S+B)*j,r[2]=(A-O)*j,r[3]=0,r[4]=(S-B)*q,r[5]=(1-(w+R))*q,r[6]=(I+U)*q,r[7]=0,r[8]=(A+O)*ee,r[9]=(I-U)*ee,r[10]=(1-(w+k))*ee,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,n){const r=this.elements;let s=Mm.set(r[0],r[1],r[2]).length();const l=Mm.set(r[4],r[5],r[6]).length(),u=Mm.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),t.x=r[12],t.y=r[13],t.z=r[14],Wa.copy(this);const m=1/s,y=1/l,b=1/u;return Wa.elements[0]*=m,Wa.elements[1]*=m,Wa.elements[2]*=m,Wa.elements[4]*=y,Wa.elements[5]*=y,Wa.elements[6]*=y,Wa.elements[8]*=b,Wa.elements[9]*=b,Wa.elements[10]*=b,e.setFromRotationMatrix(Wa),n.x=s,n.y=l,n.z=u,this}makePerspective(t,e,n,r,s,l,u=pc){const f=this.elements,m=2*s/(e-t),y=2*s/(n-r),b=(e+t)/(e-t),w=(n+r)/(n-r);let S,A;if(u===pc)S=-(l+s)/(l-s),A=-2*l*s/(l-s);else{if(2001!==u)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);S=-l/(l-s),A=-l*s/(l-s)}return f[0]=m,f[4]=0,f[8]=b,f[12]=0,f[1]=0,f[5]=y,f[9]=w,f[13]=0,f[2]=0,f[6]=0,f[10]=S,f[14]=A,f[3]=0,f[7]=0,f[11]=-1,f[15]=0,this}makeOrthographic(t,e,n,r,s,l,u=pc){const f=this.elements,m=1/(e-t),y=1/(n-r),b=1/(l-s),w=(e+t)*m,S=(n+r)*y;let A,k;if(u===pc)A=(l+s)*b,k=-2*b;else{if(2001!==u)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);A=s*b,k=-1*b}return f[0]=2*m,f[4]=0,f[8]=0,f[12]=-w,f[1]=0,f[5]=2*y,f[9]=0,f[13]=-S,f[2]=0,f[6]=0,f[10]=k,f[14]=-A,f[3]=0,f[7]=0,f[11]=0,f[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}const Mm=new Q,Wa=new $n,q1=new Q(0,0,0),Z1=new Q(1,1,1),Ef=new Q,Hw=new Q,ja=new Q,X1=new $n,zw=new ua;let Bb=(()=>{class i{constructor(e=0,n=0,r=0,s=i.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,s=this._order){return this._x=e,this._y=n,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const s=e.elements,l=s[0],u=s[4],f=s[8],m=s[1],y=s[5],b=s[9],w=s[2],S=s[6],A=s[10];switch(n){case"XYZ":this._y=Math.asin(ur(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-b,A),this._z=Math.atan2(-u,l)):(this._x=Math.atan2(S,y),this._z=0);break;case"YXZ":this._x=Math.asin(-ur(b,-1,1)),Math.abs(b)<.9999999?(this._y=Math.atan2(f,A),this._z=Math.atan2(m,y)):(this._y=Math.atan2(-w,l),this._z=0);break;case"ZXY":this._x=Math.asin(ur(S,-1,1)),Math.abs(S)<.9999999?(this._y=Math.atan2(-w,A),this._z=Math.atan2(-u,y)):(this._y=0,this._z=Math.atan2(m,l));break;case"ZYX":this._y=Math.asin(-ur(w,-1,1)),Math.abs(w)<.9999999?(this._x=Math.atan2(S,A),this._z=Math.atan2(m,l)):(this._x=0,this._z=Math.atan2(-u,y));break;case"YZX":this._z=Math.asin(ur(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(-b,y),this._y=Math.atan2(-w,l)):(this._x=0,this._y=Math.atan2(f,A));break;case"XZY":this._z=Math.asin(-ur(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(S,y),this._y=Math.atan2(f,l)):(this._x=Math.atan2(-b,A),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,!0===r&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return X1.makeRotationFromQuaternion(e),this.setFromRotationMatrix(X1,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return zw.setFromEuler(this),this.setFromQuaternion(zw,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return i.DEFAULT_ORDER="XYZ",i})();class Gw{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}isEnabled(t){return 0!=(this.mask&(1<<t|0))}}let K1=0;const Ww=new Q,gc=new ua,Td=new $n,Vb=new Q,q_=new Q,J1=new Q,E2=new ua,gT=new Q(1,0,0),jw=new Q(0,1,0),_T=new Q(0,0,1),Q1={type:"added"},Z_={type:"removed"};let $a=(()=>{class i extends mm{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:K1++}),this.uuid=da(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=i.DEFAULT_UP.clone();const e=new Q,n=new Bb,r=new ua,s=new Q(1,1,1);n._onChange(function l(){r.setFromEuler(n,!1)}),r._onChange(function u(){n.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new $n},normalMatrix:{value:new si}}),this.matrix=new $n,this.matrixWorld=new $n,this.matrixAutoUpdate=i.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=i.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Gw,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return gc.setFromAxisAngle(e,n),this.quaternion.multiply(gc),this}rotateOnWorldAxis(e,n){return gc.setFromAxisAngle(e,n),this.quaternion.premultiply(gc),this}rotateX(e){return this.rotateOnAxis(gT,e)}rotateY(e){return this.rotateOnAxis(jw,e)}rotateZ(e){return this.rotateOnAxis(_T,e)}translateOnAxis(e,n){return Ww.copy(e).applyQuaternion(this.quaternion),this.position.add(Ww.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(gT,e)}translateY(e){return this.translateOnAxis(jw,e)}translateZ(e){return this.translateOnAxis(_T,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Td.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Vb.copy(e):Vb.set(e,n,r);const s=this.parent;this.updateWorldMatrix(!0,!1),q_.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Td.lookAt(q_,Vb,this.up):Td.lookAt(Vb,q_,this.up),this.quaternion.setFromRotationMatrix(Td),s&&(Td.extractRotation(s.matrixWorld),gc.setFromRotationMatrix(Td),this.quaternion.premultiply(gc.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Q1)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Z_)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Td.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Td.multiply(e.parent.matrixWorld)),e.applyMatrix4(Td),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,s=this.children.length;r<s;r++){const u=this.children[r].getObjectByProperty(e,n);if(void 0!==u)return u}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let s=0,l=this.children.length;s<l;s++){const u=this.children[s].getObjectsByProperty(e,n);u.length>0&&(r=r.concat(u))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(q_,e,J1),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(q_,E2,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,s=n.length;r<s;r++)n[r].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const n=this.children;for(let r=0,s=n.length;r<s;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;null!==n&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,s=n.length;r<s;r++){const l=n[r];(!0===l.matrixWorldAutoUpdate||!0===e)&&l.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(!0===e&&null!==r&&!0===r.matrixWorldAutoUpdate&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===n){const s=this.children;for(let l=0,u=s.length;l<u;l++){const f=s[l];!0===f.matrixWorldAutoUpdate&&f.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=void 0===e||"string"==typeof e,r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};function l(f,m){return void 0===f[m.uuid]&&(f[m.uuid]=m.toJSON(e)),m.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=l(e.geometries,this.geometry);const f=this.geometry.parameters;if(void 0!==f&&void 0!==f.shapes){const m=f.shapes;if(Array.isArray(m))for(let y=0,b=m.length;y<b;y++)l(e.shapes,m[y]);else l(e.shapes,m)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(l(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const f=[];for(let m=0,y=this.material.length;m<y;m++)f.push(l(e.materials,this.material[m]));s.material=f}else s.material=l(e.materials,this.material);if(this.children.length>0){s.children=[];for(let f=0;f<this.children.length;f++)s.children.push(this.children[f].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let f=0;f<this.animations.length;f++)s.animations.push(l(e.animations,this.animations[f]))}if(n){const f=u(e.geometries),m=u(e.materials),y=u(e.textures),b=u(e.images),w=u(e.shapes),S=u(e.skeletons),A=u(e.animations),k=u(e.nodes);f.length>0&&(r.geometries=f),m.length>0&&(r.materials=m),y.length>0&&(r.textures=y),b.length>0&&(r.images=b),w.length>0&&(r.shapes=w),S.length>0&&(r.skeletons=S),A.length>0&&(r.animations=A),k.length>0&&(r.nodes=k)}return r.object=s,r;function u(f){const m=[];for(const y in f){const b=f[y];delete b.metadata,m.push(b)}return m}}clone(e){return(new this.constructor).copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===n)for(let r=0;r<e.children.length;r++)this.add(e.children[r].clone());return this}}return i.DEFAULT_UP=new Q(0,1,0),i.DEFAULT_MATRIX_AUTO_UPDATE=!0,i.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,i})();const Ya=new Q,Ad=new Q,Hb=new Q,Dd=new Q,Cf=new Q,Tm=new Q,zb=new Q,$w=new Q,Gb=new Q,Wb=new Q;let jb=!1;class ha{constructor(t=new Q,e=new Q,n=new Q){this.a=t,this.b=e,this.c=n}static getNormal(t,e,n,r){r.subVectors(n,e),Ya.subVectors(t,e),r.cross(Ya);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(t,e,n,r,s){Ya.subVectors(r,e),Ad.subVectors(n,e),Hb.subVectors(t,e);const l=Ya.dot(Ya),u=Ya.dot(Ad),f=Ya.dot(Hb),m=Ad.dot(Ad),y=Ad.dot(Hb),b=l*m-u*u;if(0===b)return s.set(-2,-1,-1);const w=1/b,S=(m*f-u*y)*w,A=(l*y-u*f)*w;return s.set(1-S-A,A,S)}static containsPoint(t,e,n,r){return this.getBarycoord(t,e,n,r,Dd),Dd.x>=0&&Dd.y>=0&&Dd.x+Dd.y<=1}static getUV(t,e,n,r,s,l,u,f){return!1===jb&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),jb=!0),this.getInterpolation(t,e,n,r,s,l,u,f)}static getInterpolation(t,e,n,r,s,l,u,f){return this.getBarycoord(t,e,n,r,Dd),f.setScalar(0),f.addScaledVector(s,Dd.x),f.addScaledVector(l,Dd.y),f.addScaledVector(u,Dd.z),f}static isFrontFacing(t,e,n,r){return Ya.subVectors(n,e),Ad.subVectors(t,e),Ya.cross(Ad).dot(r)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,e,n,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,r),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Ya.subVectors(this.c,this.b),Ad.subVectors(this.a,this.b),.5*Ya.cross(Ad).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return ha.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return ha.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,n,r,s){return!1===jb&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),jb=!0),ha.getInterpolation(t,this.a,this.b,this.c,e,n,r,s)}getInterpolation(t,e,n,r,s){return ha.getInterpolation(t,this.a,this.b,this.c,e,n,r,s)}containsPoint(t){return ha.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return ha.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const n=this.a,r=this.b,s=this.c;let l,u;Cf.subVectors(r,n),Tm.subVectors(s,n),$w.subVectors(t,n);const f=Cf.dot($w),m=Tm.dot($w);if(f<=0&&m<=0)return e.copy(n);Gb.subVectors(t,r);const y=Cf.dot(Gb),b=Tm.dot(Gb);if(y>=0&&b<=y)return e.copy(r);const w=f*b-y*m;if(w<=0&&f>=0&&y<=0)return l=f/(f-y),e.copy(n).addScaledVector(Cf,l);Wb.subVectors(t,s);const S=Cf.dot(Wb),A=Tm.dot(Wb);if(A>=0&&S<=A)return e.copy(s);const k=S*m-f*A;if(k<=0&&m>=0&&A<=0)return u=m/(m-A),e.copy(n).addScaledVector(Tm,u);const I=y*A-S*b;if(I<=0&&b-y>=0&&S-A>=0)return zb.subVectors(s,r),u=(b-y)/(b-y+(S-A)),e.copy(r).addScaledVector(zb,u);const R=1/(I+k+w);return l=k*R,u=w*R,e.copy(n).addScaledVector(Cf,l).addScaledVector(Tm,u)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const vT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_c={h:0,s:0,l:0},$b={h:0,s:0,l:0};function Yb(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+6*(t-i)*e:e<.5?t:e<2/3?i+6*(t-i)*(2/3-e):i}class Zt{constructor(t,e,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,n)}set(t,e,n){if(void 0===e&&void 0===n){const r=t;r&&r.isColor?this.copy(r):"number"==typeof r?this.setHex(r):"string"==typeof r&&this.setStyle(r)}else this.setRGB(t,e,n);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=Ds){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,Oi.toWorkingColorSpace(this,e),this}setRGB(t,e,n,r=Oi.workingColorSpace){return this.r=t,this.g=e,this.b=n,Oi.toWorkingColorSpace(this,r),this}setHSL(t,e,n,r=Oi.workingColorSpace){if(t=function _m(i,t){return(i%t+t)%t}(t,1),e=ur(e,0,1),n=ur(n,0,1),0===e)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+e):n+e-n*e,l=2*n-s;this.r=Yb(l,s,t+1/3),this.g=Yb(l,s,t),this.b=Yb(l,s,t-1/3)}return Oi.toWorkingColorSpace(this,r),this}setStyle(t,e=Ds){function n(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(t)){let s;const u=r[2];switch(r[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,e);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,e);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){const s=r[1],l=s.length;if(3===l)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,e);if(6===l)return this.setHex(parseInt(s,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=Ds){const n=vT[t.toLowerCase()];return void 0!==n?this.setHex(n,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Ru(t.r),this.g=Ru(t.g),this.b=Ru(t.b),this}copyLinearToSRGB(t){return this.r=j_(t.r),this.g=j_(t.g),this.b=j_(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Ds){return Oi.fromWorkingColorSpace(uo.copy(this),t),65536*Math.round(ur(255*uo.r,0,255))+256*Math.round(ur(255*uo.g,0,255))+Math.round(ur(255*uo.b,0,255))}getHexString(t=Ds){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Oi.workingColorSpace){Oi.fromWorkingColorSpace(uo.copy(this),e);const n=uo.r,r=uo.g,s=uo.b,l=Math.max(n,r,s),u=Math.min(n,r,s);let f,m;const y=(u+l)/2;if(u===l)f=0,m=0;else{const b=l-u;switch(m=y<=.5?b/(l+u):b/(2-l-u),l){case n:f=(r-s)/b+(r<s?6:0);break;case r:f=(s-n)/b+2;break;case s:f=(n-r)/b+4}f/=6}return t.h=f,t.s=m,t.l=y,t}getRGB(t,e=Oi.workingColorSpace){return Oi.fromWorkingColorSpace(uo.copy(this),e),t.r=uo.r,t.g=uo.g,t.b=uo.b,t}getStyle(t=Ds){Oi.fromWorkingColorSpace(uo.copy(this),t);const e=uo.r,n=uo.g,r=uo.b;return t!==Ds?`color(${t} ${e.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*e)},${Math.round(255*n)},${Math.round(255*r)})`}offsetHSL(t,e,n){return this.getHSL(_c),this.setHSL(_c.h+t,_c.s+e,_c.l+n)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}lerpHSL(t,e){this.getHSL(_c),t.getHSL($b);const n=vm(_c.h,$b.h,e),r=vm(_c.s,$b.s,e),s=vm(_c.l,$b.l,e);return this.setHSL(n,r,s),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,n=this.g,r=this.b,s=t.elements;return this.r=s[0]*e+s[3]*n+s[6]*r,this.g=s[1]*e+s[4]*n+s[7]*r,this.b=s[2]*e+s[5]*n+s[8]*r,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const uo=new Zt;Zt.NAMES=vT;let eP=0;class X_ extends mm{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:eP++}),this.uuid=da(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Zt(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=pf,this.stencilZFail=pf,this.stencilZPass=pf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=n:console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`)}}toJSON(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(s){const l=[];for(const u in s){const f=s[u];delete f.metadata,l.push(f)}return l}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),204!==this.blendSrc&&(n.blendSrc=this.blendSrc),205!==this.blendDst&&(n.blendDst=this.blendDst),100!==this.blendEquation&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==pf&&(n.stencilFail=this.stencilFail),this.stencilZFail!==pf&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==pf&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),e){const s=r(t.textures),l=r(t.images);s.length>0&&(n.textures=s),l.length>0&&(n.images=l)}return n}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const r=e.length;n=new Array(r);for(let s=0;s!==r;++s)n[s]=e[s].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}}class Uu extends X_{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Zt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=xd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const es=new Q,qb=new ft;class ds{constructor(t,e,n=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=n,this.usage=35044,this.updateRange={offset:0,count:-1},this.gpuType=ca,this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[t+r]=e.array[n+r];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)qb.fromBufferAttribute(this,e),qb.applyMatrix3(t),this.setXY(e,qb.x,qb.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)es.fromBufferAttribute(this,e),es.applyMatrix3(t),this.setXYZ(e,es.x,es.y,es.z);return this}applyMatrix4(t){for(let e=0,n=this.count;e<n;e++)es.fromBufferAttribute(this,e),es.applyMatrix4(t),this.setXYZ(e,es.x,es.y,es.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)es.fromBufferAttribute(this,e),es.applyNormalMatrix(t),this.setXYZ(e,es.x,es.y,es.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)es.fromBufferAttribute(this,e),es.transformDirection(t),this.setXYZ(e,es.x,es.y,es.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let n=this.array[t*this.itemSize+e];return this.normalized&&(n=Yo(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=Kn(n,this.array)),this.array[t*this.itemSize+e]=n,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=Yo(e,this.array)),e}setX(t,e){return this.normalized&&(e=Kn(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=Yo(e,this.array)),e}setY(t,e){return this.normalized&&(e=Kn(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=Yo(e,this.array)),e}setZ(t,e){return this.normalized&&(e=Kn(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=Yo(e,this.array)),e}setW(t,e){return this.normalized&&(e=Kn(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return t*=this.itemSize,this.normalized&&(e=Kn(e,this.array),n=Kn(n,this.array)),this.array[t+0]=e,this.array[t+1]=n,this}setXYZ(t,e,n,r){return t*=this.itemSize,this.normalized&&(e=Kn(e,this.array),n=Kn(n,this.array),r=Kn(r,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this}setXYZW(t,e,n,r,s){return t*=this.itemSize,this.normalized&&(e=Kn(e,this.array),n=Kn(n,this.array),r=Kn(r,this.array),s=Kn(s,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=s,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),35044!==this.usage&&(t.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(t.updateRange=this.updateRange),t}}class Zb extends ds{constructor(t,e,n){super(new Uint16Array(t),e,n)}}class Yw extends ds{constructor(t,e,n){super(new Uint32Array(t),e,n)}}class ln extends ds{constructor(t,e,n){super(new Float32Array(t),e,n)}}let qw=0;const qa=new $n,Xb=new $a,Za=new Q,Zo=new ku,K_=new ku,Ys=new Q;class oi extends mm{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:qw++}),this.uuid=da(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return this.index=Array.isArray(t)?new(cT(t)?Yw:Zb)(t,1):t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const s=(new si).getNormalMatrix(t);n.applyNormalMatrix(s),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return qa.makeRotationFromQuaternion(t),this.applyMatrix4(qa),this}rotateX(t){return qa.makeRotationX(t),this.applyMatrix4(qa),this}rotateY(t){return qa.makeRotationY(t),this.applyMatrix4(qa),this}rotateZ(t){return qa.makeRotationZ(t),this.applyMatrix4(qa),this}translate(t,e,n){return qa.makeTranslation(t,e,n),this.applyMatrix4(qa),this}scale(t,e,n){return qa.makeScale(t,e,n),this.applyMatrix4(qa),this}lookAt(t){return Xb.lookAt(t),Xb.updateMatrix(),this.applyMatrix4(Xb.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Za).negate(),this.translate(Za.x,Za.y,Za.z),this}setFromPoints(t){const e=[];for(let n=0,r=t.length;n<r;n++){const s=t[n];e.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new ln(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new ku);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Q(-1/0,-1/0,-1/0),new Q(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let n=0,r=e.length;n<r;n++)Zo.setFromBufferAttribute(e[n]),this.morphTargetsRelative?(Ys.addVectors(this.boundingBox.min,Zo.min),this.boundingBox.expandByPoint(Ys),Ys.addVectors(this.boundingBox.max,Zo.max),this.boundingBox.expandByPoint(Ys)):(this.boundingBox.expandByPoint(Zo.min),this.boundingBox.expandByPoint(Zo.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Nl);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Q,1/0);if(t){const n=this.boundingSphere.center;if(Zo.setFromBufferAttribute(t),e)for(let s=0,l=e.length;s<l;s++)K_.setFromBufferAttribute(e[s]),this.morphTargetsRelative?(Ys.addVectors(Zo.min,K_.min),Zo.expandByPoint(Ys),Ys.addVectors(Zo.max,K_.max),Zo.expandByPoint(Ys)):(Zo.expandByPoint(K_.min),Zo.expandByPoint(K_.max));Zo.getCenter(n);let r=0;for(let s=0,l=t.count;s<l;s++)Ys.fromBufferAttribute(t,s),r=Math.max(r,n.distanceToSquared(Ys));if(e)for(let s=0,l=e.length;s<l;s++){const u=e[s],f=this.morphTargetsRelative;for(let m=0,y=u.count;m<y;m++)Ys.fromBufferAttribute(u,m),f&&(Za.fromBufferAttribute(t,m),Ys.add(Za)),r=Math.max(r,n.distanceToSquared(Ys))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.array,r=e.position.array,s=e.normal.array,l=e.uv.array,u=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new ds(new Float32Array(4*u),4));const f=this.getAttribute("tangent").array,m=[],y=[];for(let K=0;K<u;K++)m[K]=new Q,y[K]=new Q;const b=new Q,w=new Q,S=new Q,A=new ft,k=new ft,I=new ft,R=new Q,U=new Q;function O(K,Re,it){b.fromArray(r,3*K),w.fromArray(r,3*Re),S.fromArray(r,3*it),A.fromArray(l,2*K),k.fromArray(l,2*Re),I.fromArray(l,2*it),w.sub(b),S.sub(b),k.sub(A),I.sub(A);const pt=1/(k.x*I.y-I.x*k.y);isFinite(pt)&&(R.copy(w).multiplyScalar(I.y).addScaledVector(S,-k.y).multiplyScalar(pt),U.copy(S).multiplyScalar(k.x).addScaledVector(w,-I.x).multiplyScalar(pt),m[K].add(R),m[Re].add(R),m[it].add(R),y[K].add(U),y[Re].add(U),y[it].add(U))}let B=this.groups;0===B.length&&(B=[{start:0,count:n.length}]);for(let K=0,Re=B.length;K<Re;++K){const it=B[K],pt=it.start;for(let Ve=pt,be=pt+it.count;Ve<be;Ve+=3)O(n[Ve+0],n[Ve+1],n[Ve+2])}const j=new Q,q=new Q,ee=new Q,ce=new Q;function z(K){ee.fromArray(s,3*K),ce.copy(ee);const Re=m[K];j.copy(Re),j.sub(ee.multiplyScalar(ee.dot(Re))).normalize(),q.crossVectors(ce,Re);const pt=q.dot(y[K])<0?-1:1;f[4*K]=j.x,f[4*K+1]=j.y,f[4*K+2]=j.z,f[4*K+3]=pt}for(let K=0,Re=B.length;K<Re;++K){const it=B[K],pt=it.start;for(let Ve=pt,be=pt+it.count;Ve<be;Ve+=3)z(n[Ve+0]),z(n[Ve+1]),z(n[Ve+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new ds(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let w=0,S=n.count;w<S;w++)n.setXYZ(w,0,0,0);const r=new Q,s=new Q,l=new Q,u=new Q,f=new Q,m=new Q,y=new Q,b=new Q;if(t)for(let w=0,S=t.count;w<S;w+=3){const A=t.getX(w+0),k=t.getX(w+1),I=t.getX(w+2);r.fromBufferAttribute(e,A),s.fromBufferAttribute(e,k),l.fromBufferAttribute(e,I),y.subVectors(l,s),b.subVectors(r,s),y.cross(b),u.fromBufferAttribute(n,A),f.fromBufferAttribute(n,k),m.fromBufferAttribute(n,I),u.add(y),f.add(y),m.add(y),n.setXYZ(A,u.x,u.y,u.z),n.setXYZ(k,f.x,f.y,f.z),n.setXYZ(I,m.x,m.y,m.z)}else for(let w=0,S=e.count;w<S;w+=3)r.fromBufferAttribute(e,w+0),s.fromBufferAttribute(e,w+1),l.fromBufferAttribute(e,w+2),y.subVectors(l,s),b.subVectors(r,s),y.cross(b),n.setXYZ(w+0,y.x,y.y,y.z),n.setXYZ(w+1,y.x,y.y,y.z),n.setXYZ(w+2,y.x,y.y,y.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)Ys.fromBufferAttribute(t,e),Ys.normalize(),t.setXYZ(e,Ys.x,Ys.y,Ys.z)}toNonIndexed(){function t(u,f){const m=u.array,y=u.itemSize,b=u.normalized,w=new m.constructor(f.length*y);let S=0,A=0;for(let k=0,I=f.length;k<I;k++){S=u.isInterleavedBufferAttribute?f[k]*u.data.stride+u.offset:f[k]*y;for(let R=0;R<y;R++)w[A++]=m[S++]}return new ds(w,y,b)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new oi,n=this.index.array,r=this.attributes;for(const u in r){const m=t(r[u],n);e.setAttribute(u,m)}const s=this.morphAttributes;for(const u in s){const f=[],m=s[u];for(let y=0,b=m.length;y<b;y++){const S=t(m[y],n);f.push(S)}e.morphAttributes[u]=f}e.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let u=0,f=l.length;u<f;u++){const m=l[u];e.addGroup(m.start,m.count,m.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const f=this.parameters;for(const m in f)void 0!==f[m]&&(t[m]=f[m]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const f in n)t.data.attributes[f]=n[f].toJSON(t.data);const r={};let s=!1;for(const f in this.morphAttributes){const m=this.morphAttributes[f],y=[];for(let b=0,w=m.length;b<w;b++)y.push(m[b].toJSON(t.data));y.length>0&&(r[f]=y,s=!0)}s&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(t.data.groups=JSON.parse(JSON.stringify(l)));const u=this.boundingSphere;return null!==u&&(t.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone(e));const r=t.attributes;for(const m in r)this.setAttribute(m,r[m].clone(e));const s=t.morphAttributes;for(const m in s){const y=[],b=s[m];for(let w=0,S=b.length;w<S;w++)y.push(b[w].clone(e));this.morphAttributes[m]=y}this.morphTargetsRelative=t.morphTargetsRelative;const l=t.groups;for(let m=0,y=l.length;m<y;m++){const b=l[m];this.addGroup(b.start,b.count,b.materialIndex)}const u=t.boundingBox;null!==u&&(this.boundingBox=u.clone());const f=t.boundingSphere;return null!==f&&(this.boundingSphere=f.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Kb=new $n,Sf=new Sm,J_=new Nl,Zw=new Q,Dm=new Q,Mf=new Q,Bu=new Q,Jb=new Q,Q_=new Q,ev=new ft,tv=new ft,Qb=new ft,xT=new Q,wT=new Q,ET=new Q,nv=new Q,Xw=new Q;class Eo extends $a{constructor(t=new oi,e=new Uu){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const r=e[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,l=r.length;s<l;s++){const u=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}getVertexPosition(t,e){const n=this.geometry,s=n.morphAttributes.position,l=n.morphTargetsRelative;e.fromBufferAttribute(n.attributes.position,t);const u=this.morphTargetInfluences;if(s&&u){Q_.set(0,0,0);for(let f=0,m=s.length;f<m;f++){const y=u[f];0!==y&&(Jb.fromBufferAttribute(s[f],t),Q_.addScaledVector(l?Jb:Jb.sub(e),y))}e.add(Q_)}return e}raycast(t,e){const n=this.geometry,s=this.matrixWorld;void 0!==this.material&&(null===n.boundingSphere&&n.computeBoundingSphere(),J_.copy(n.boundingSphere),J_.applyMatrix4(s),Sf.copy(t.ray).recast(t.near),(!1!==J_.containsPoint(Sf.origin)||!(null===Sf.intersectSphere(J_,Zw)||Sf.origin.distanceToSquared(Zw)>(t.far-t.near)**2))&&(Kb.copy(s).invert(),Sf.copy(t.ray).applyMatrix4(Kb),(null===n.boundingBox||!1!==Sf.intersectsBox(n.boundingBox))&&this._computeIntersections(t,e,Sf)))}_computeIntersections(t,e,n){let r;const s=this.geometry,l=this.material,u=s.index,f=s.attributes.position,m=s.attributes.uv,y=s.attributes.uv1,b=s.attributes.normal,w=s.groups,S=s.drawRange;if(null!==u)if(Array.isArray(l))for(let A=0,k=w.length;A<k;A++){const I=w[A],R=l[I.materialIndex];for(let B=Math.max(I.start,S.start),j=Math.min(u.count,Math.min(I.start+I.count,S.start+S.count));B<j;B+=3)r=e0(this,R,t,n,m,y,b,u.getX(B),u.getX(B+1),u.getX(B+2)),r&&(r.faceIndex=Math.floor(B/3),r.face.materialIndex=I.materialIndex,e.push(r))}else for(let I=Math.max(0,S.start),R=Math.min(u.count,S.start+S.count);I<R;I+=3)r=e0(this,l,t,n,m,y,b,u.getX(I),u.getX(I+1),u.getX(I+2)),r&&(r.faceIndex=Math.floor(I/3),e.push(r));else if(void 0!==f)if(Array.isArray(l))for(let A=0,k=w.length;A<k;A++){const I=w[A],R=l[I.materialIndex];for(let B=Math.max(I.start,S.start),j=Math.min(f.count,Math.min(I.start+I.count,S.start+S.count));B<j;B+=3)r=e0(this,R,t,n,m,y,b,B,B+1,B+2),r&&(r.faceIndex=Math.floor(B/3),r.face.materialIndex=I.materialIndex,e.push(r))}else for(let I=Math.max(0,S.start),R=Math.min(f.count,S.start+S.count);I<R;I+=3)r=e0(this,l,t,n,m,y,b,I,I+1,I+2),r&&(r.faceIndex=Math.floor(I/3),e.push(r))}}function e0(i,t,e,n,r,s,l,u,f,m){i.getVertexPosition(u,Dm),i.getVertexPosition(f,Mf),i.getVertexPosition(m,Bu);const y=function iP(i,t,e,n,r,s,l,u){let f;if(f=1===t.side?n.intersectTriangle(l,s,r,!0,u):n.intersectTriangle(r,s,l,0===t.side,u),null===f)return null;Xw.copy(u),Xw.applyMatrix4(i.matrixWorld);const m=e.ray.origin.distanceTo(Xw);return m<e.near||m>e.far?null:{distance:m,point:Xw.clone(),object:i}}(i,t,e,n,Dm,Mf,Bu,nv);if(y){r&&(ev.fromBufferAttribute(r,u),tv.fromBufferAttribute(r,f),Qb.fromBufferAttribute(r,m),y.uv=ha.getInterpolation(nv,Dm,Mf,Bu,ev,tv,Qb,new ft)),s&&(ev.fromBufferAttribute(s,u),tv.fromBufferAttribute(s,f),Qb.fromBufferAttribute(s,m),y.uv1=ha.getInterpolation(nv,Dm,Mf,Bu,ev,tv,Qb,new ft),y.uv2=y.uv1),l&&(xT.fromBufferAttribute(l,u),wT.fromBufferAttribute(l,f),ET.fromBufferAttribute(l,m),y.normal=ha.getInterpolation(nv,Dm,Mf,Bu,xT,wT,ET,new Q),y.normal.dot(n.direction)>0&&y.normal.multiplyScalar(-1));const b={a:u,b:f,c:m,normal:new Q,materialIndex:0};ha.getNormal(Dm,Mf,Bu,b.normal),y.face=b}return y}class Im extends oi{constructor(t=1,e=1,n=1,r=1,s=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:s,depthSegments:l};const u=this;r=Math.floor(r),s=Math.floor(s),l=Math.floor(l);const f=[],m=[],y=[],b=[];let w=0,S=0;function A(k,I,R,U,O,B,j,q,ee,ce,z){const K=B/ee,Re=j/ce,it=B/2,pt=j/2,he=q/2,Ve=ee+1,be=ce+1;let Ce=0,He=0;const Ue=new Q;for(let ot=0;ot<be;ot++){const pe=ot*Re-pt;for(let $e=0;$e<Ve;$e++)Ue[k]=($e*K-it)*U,Ue[I]=pe*O,Ue[R]=he,m.push(Ue.x,Ue.y,Ue.z),Ue[k]=0,Ue[I]=0,Ue[R]=q>0?1:-1,y.push(Ue.x,Ue.y,Ue.z),b.push($e/ee),b.push(1-ot/ce),Ce+=1}for(let ot=0;ot<ce;ot++)for(let pe=0;pe<ee;pe++){const Nt=w+pe+Ve*(ot+1),xt=w+(pe+1)+Ve*(ot+1),Jt=w+(pe+1)+Ve*ot;f.push(w+pe+Ve*ot,Nt,Jt),f.push(Nt,xt,Jt),He+=6}u.addGroup(S,He,z),S+=He,w+=Ce}A("z","y","x",-1,-1,n,e,t,l,s,0),A("z","y","x",1,-1,n,e,-t,l,s,1),A("x","z","y",1,1,t,n,e,r,l,2),A("x","z","y",1,-1,t,n,-e,r,l,3),A("x","y","z",1,-1,t,e,n,r,s,4),A("x","y","z",-1,-1,t,e,-n,r,s,5),this.setIndex(f),this.setAttribute("position",new ln(m,3)),this.setAttribute("normal",new ln(y,3)),this.setAttribute("uv",new ln(b,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Im(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Rm(i){const t={};for(const e in i){t[e]={};for(const n in i[e]){const r=i[e][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][n]=null):t[e][n]=r.clone():t[e][n]=Array.isArray(r)?r.slice():r}}return t}function Co(i){const t={};for(let e=0;e<i.length;e++){const n=Rm(i[e]);for(const r in n)t[r]=n[r]}return t}function ST(i){return null===i.getRenderTarget()?i.outputColorSpace:Oi.workingColorSpace}const rP={clone:Rm,merge:Co};class Vu extends X_{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Rm(t.uniforms),this.uniformsGroups=function CT(i){const t=[];for(let e=0;e<i.length;e++)t.push(i[e].clone());return t}(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const r in this.uniforms){const l=this.uniforms[r].value;e.uniforms[r]=l&&l.isTexture?{type:"t",value:l.toJSON(t).uuid}:l&&l.isColor?{type:"c",value:l.getHex()}:l&&l.isVector2?{type:"v2",value:l.toArray()}:l&&l.isVector3?{type:"v3",value:l.toArray()}:l&&l.isVector4?{type:"v4",value:l.toArray()}:l&&l.isMatrix3?{type:"m3",value:l.toArray()}:l&&l.isMatrix4?{type:"m4",value:l.toArray()}:{value:l}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(e.extensions=n),e}}class Kw extends $a{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new $n,this.projectionMatrix=new $n,this.projectionMatrixInverse=new $n,this.coordinateSystem=pc}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class qs extends Kw{constructor(t=50,e=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*gm*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*Iu*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*gm*Math.atan(Math.tan(.5*Iu*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,n,r,s,l){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*Iu*this.fov)/this.zoom,n=2*e,r=this.aspect*n,s=-.5*r;const l=this.view;if(null!==this.view&&this.view.enabled){const f=l.fullWidth,m=l.fullHeight;s+=l.offsetX*r/f,e-=l.offsetY*n/m,r*=l.width/f,n*=l.height/m}const u=this.filmOffset;0!==u&&(s+=t*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,e,e-n,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}class iv extends $a{constructor(t,e,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new qs(-90,1,t,e);r.layers=this.layers,this.add(r);const s=new qs(-90,1,t,e);s.layers=this.layers,this.add(s);const l=new qs(-90,1,t,e);l.layers=this.layers,this.add(l);const u=new qs(-90,1,t,e);u.layers=this.layers,this.add(u);const f=new qs(-90,1,t,e);f.layers=this.layers,this.add(f);const m=new qs(-90,1,t,e);m.layers=this.layers,this.add(m)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[n,r,s,l,u,f]=e;for(const m of e)this.remove(m);if(t===pc)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),f.up.set(0,1,0),f.lookAt(0,0,-1);else{if(2001!==t)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),f.up.set(0,-1,0),f.lookAt(0,0,-1)}for(const m of e)this.add(m),m.updateMatrixWorld()}update(t,e){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[s,l,u,f,m,y]=this.children,b=t.getRenderTarget(),w=t.getActiveCubeFace(),S=t.getActiveMipmapLevel(),A=t.xr.enabled;t.xr.enabled=!1;const k=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0,r),t.render(e,s),t.setRenderTarget(n,1,r),t.render(e,l),t.setRenderTarget(n,2,r),t.render(e,u),t.setRenderTarget(n,3,r),t.render(e,f),t.setRenderTarget(n,4,r),t.render(e,m),n.texture.generateMipmaps=k,t.setRenderTarget(n,5,r),t.render(e,y),t.setRenderTarget(b,w,S),t.xr.enabled=A,n.texture.needsPMREMUpdate=!0}}class rv extends gf{constructor(t,e,n,r,s,l,u,f,m,y){super(t=void 0!==t?t:[],e=void 0!==e?e:wd,n,r,s,l,u,f,m,y),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class MT extends wm{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const n={width:t,height:t,depth:1},r=[n,n,n,n,n,n];void 0!==e.encoding&&(xm("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),e.colorSpace=e.encoding===jo?Ds:""),this.texture=new rv(r,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:Qr}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n_uniforms={tEquirect:{value:null}},n_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",n_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new Im(5,5,5),s=new Vu({name:"CubemapFromEquirect",uniforms:Rm(n_uniforms),vertexShader:n_vertexShader,fragmentShader:n_fragmentShader,side:1,blending:0});s.uniforms.tEquirect.value=e;const l=new Eo(r,s),u=e.minFilter;return e.minFilter===Ed&&(e.minFilter=Qr),new iv(1,10,this).update(t,l),e.minFilter=u,l.geometry.dispose(),l.material.dispose(),this}clear(t,e,n,r){const s=t.getRenderTarget();for(let l=0;l<6;l++)t.setRenderTarget(this,l),t.clear(e,n,r);t.setRenderTarget(s)}}const t0=new Q,TT=new Q,AT=new si;class Tf{constructor(t=new Q(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const r=t0.subVectors(n,e).cross(TT.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const n=t.delta(t0),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const s=-(t.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:e.copy(t.start).addScaledVector(n,s)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||AT.getNormalMatrix(t),r=this.coplanarPoint(t0).applyMatrix4(t),s=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(s),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Af=new Nl,Jw=new Q;class DT{constructor(t=new Tf,e=new Tf,n=new Tf,r=new Tf,s=new Tf,l=new Tf){this.planes=[t,e,n,r,s,l]}set(t,e,n,r,s,l){const u=this.planes;return u[0].copy(t),u[1].copy(e),u[2].copy(n),u[3].copy(r),u[4].copy(s),u[5].copy(l),this}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t,e=pc){const n=this.planes,r=t.elements,s=r[0],l=r[1],u=r[2],f=r[3],m=r[4],y=r[5],b=r[6],w=r[7],S=r[8],A=r[9],k=r[10],I=r[11],R=r[12],U=r[13],O=r[14],B=r[15];if(n[0].setComponents(f-s,w-m,I-S,B-R).normalize(),n[1].setComponents(f+s,w+m,I+S,B+R).normalize(),n[2].setComponents(f+l,w+y,I+A,B+U).normalize(),n[3].setComponents(f-l,w-y,I-A,B-U).normalize(),n[4].setComponents(f-u,w-b,I-k,B-O).normalize(),e===pc)n[5].setComponents(f+u,w+b,I+k,B+O).normalize();else{if(2001!==e)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);n[5].setComponents(u,b,k,O).normalize()}return this}intersectsObject(t){if(void 0!==t.boundingSphere)null===t.boundingSphere&&t.computeBoundingSphere(),Af.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;null===e.boundingSphere&&e.computeBoundingSphere(),Af.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(Af)}intersectsSprite(t){return Af.center.set(0,0,0),Af.radius=.7071067811865476,Af.applyMatrix4(t.matrixWorld),this.intersectsSphere(Af)}intersectsSphere(t){const e=this.planes,n=t.center,r=-t.radius;for(let s=0;s<6;s++)if(e[s].distanceToPoint(n)<r)return!1;return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const r=e[n];if(Jw.x=r.normal.x>0?t.max.x:t.min.x,Jw.y=r.normal.y>0?t.max.y:t.min.y,Jw.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(Jw)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function IT(){let i=null,t=!1,e=null,n=null;function r(s,l){e(s,l),n=i.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==e&&(n=i.requestAnimationFrame(r),t=!0)},stop:function(){i.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(s){e=s},setContext:function(s){i=s}}}function aP(i,t){const e=t.isWebGL2,n=new WeakMap;return{get:function l(m){return m.isInterleavedBufferAttribute&&(m=m.data),n.get(m)},remove:function u(m){m.isInterleavedBufferAttribute&&(m=m.data);const y=n.get(m);y&&(i.deleteBuffer(y.buffer),n.delete(m))},update:function f(m,y){if(m.isGLBufferAttribute){const w=n.get(m);return void((!w||w.version<m.version)&&n.set(m,{buffer:m.buffer,type:m.type,bytesPerElement:m.elementSize,version:m.version}))}m.isInterleavedBufferAttribute&&(m=m.data);const b=n.get(m);void 0===b?n.set(m,function r(m,y){const b=m.array,w=m.usage,S=i.createBuffer();let A;if(i.bindBuffer(y,S),i.bufferData(y,b,w),m.onUploadCallback(),b instanceof Float32Array)A=i.FLOAT;else if(b instanceof Uint16Array)if(m.isFloat16BufferAttribute){if(!e)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");A=i.HALF_FLOAT}else A=i.UNSIGNED_SHORT;else if(b instanceof Int16Array)A=i.SHORT;else if(b instanceof Uint32Array)A=i.UNSIGNED_INT;else if(b instanceof Int32Array)A=i.INT;else if(b instanceof Int8Array)A=i.BYTE;else if(b instanceof Uint8Array)A=i.UNSIGNED_BYTE;else{if(!(b instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+b);A=i.UNSIGNED_BYTE}return{buffer:S,type:A,bytesPerElement:b.BYTES_PER_ELEMENT,version:m.version}}(m,y)):b.version<m.version&&(function s(m,y,b){const w=y.array,S=y.updateRange;i.bindBuffer(b,m),-1===S.count?i.bufferSubData(b,0,w):(e?i.bufferSubData(b,S.offset*w.BYTES_PER_ELEMENT,w,S.offset,S.count):i.bufferSubData(b,S.offset*w.BYTES_PER_ELEMENT,w.subarray(S.offset,S.offset+S.count)),S.count=-1),y.onUploadCallback()}(b.buffer,m,y),b.version=m.version)}}}class n0 extends oi{constructor(t=1,e=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};const s=t/2,l=e/2,u=Math.floor(n),f=Math.floor(r),m=u+1,y=f+1,b=t/u,w=e/f,S=[],A=[],k=[],I=[];for(let R=0;R<y;R++){const U=R*w-l;for(let O=0;O<m;O++)A.push(O*b-s,-U,0),k.push(0,0,1),I.push(O/u),I.push(1-R/f)}for(let R=0;R<f;R++)for(let U=0;U<u;U++){const B=U+m*(R+1),j=U+1+m*(R+1),q=U+1+m*R;S.push(U+m*R,B,q),S.push(B,j,q)}this.setIndex(S),this.setAttribute("position",new ln(A,3)),this.setAttribute("normal",new ln(k,3)),this.setAttribute("uv",new ln(I,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new n0(t.width,t.height,t.widthSegments,t.heightSegments)}}const ni={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Vt={common:{diffuse:{value:new Zt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new si},alphaMap:{value:null},alphaMapTransform:{value:new si},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new si}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new si}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new si}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new si},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new si},normalScale:{value:new ft(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new si},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new si}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new si}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new si}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Zt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Zt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new si},alphaTest:{value:0},uvTransform:{value:new si}},sprite:{diffuse:{value:new Zt(16777215)},opacity:{value:1},center:{value:new ft(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new si},alphaMap:{value:null},alphaMapTransform:{value:new si},alphaTest:{value:0}}},vc={basic:{uniforms:Co([Vt.common,Vt.specularmap,Vt.envmap,Vt.aomap,Vt.lightmap,Vt.fog]),vertexShader:ni.meshbasic_vert,fragmentShader:ni.meshbasic_frag},lambert:{uniforms:Co([Vt.common,Vt.specularmap,Vt.envmap,Vt.aomap,Vt.lightmap,Vt.emissivemap,Vt.bumpmap,Vt.normalmap,Vt.displacementmap,Vt.fog,Vt.lights,{emissive:{value:new Zt(0)}}]),vertexShader:ni.meshlambert_vert,fragmentShader:ni.meshlambert_frag},phong:{uniforms:Co([Vt.common,Vt.specularmap,Vt.envmap,Vt.aomap,Vt.lightmap,Vt.emissivemap,Vt.bumpmap,Vt.normalmap,Vt.displacementmap,Vt.fog,Vt.lights,{emissive:{value:new Zt(0)},specular:{value:new Zt(1118481)},shininess:{value:30}}]),vertexShader:ni.meshphong_vert,fragmentShader:ni.meshphong_frag},standard:{uniforms:Co([Vt.common,Vt.envmap,Vt.aomap,Vt.lightmap,Vt.emissivemap,Vt.bumpmap,Vt.normalmap,Vt.displacementmap,Vt.roughnessmap,Vt.metalnessmap,Vt.fog,Vt.lights,{emissive:{value:new Zt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ni.meshphysical_vert,fragmentShader:ni.meshphysical_frag},toon:{uniforms:Co([Vt.common,Vt.aomap,Vt.lightmap,Vt.emissivemap,Vt.bumpmap,Vt.normalmap,Vt.displacementmap,Vt.gradientmap,Vt.fog,Vt.lights,{emissive:{value:new Zt(0)}}]),vertexShader:ni.meshtoon_vert,fragmentShader:ni.meshtoon_frag},matcap:{uniforms:Co([Vt.common,Vt.bumpmap,Vt.normalmap,Vt.displacementmap,Vt.fog,{matcap:{value:null}}]),vertexShader:ni.meshmatcap_vert,fragmentShader:ni.meshmatcap_frag},points:{uniforms:Co([Vt.points,Vt.fog]),vertexShader:ni.points_vert,fragmentShader:ni.points_frag},dashed:{uniforms:Co([Vt.common,Vt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ni.linedashed_vert,fragmentShader:ni.linedashed_frag},depth:{uniforms:Co([Vt.common,Vt.displacementmap]),vertexShader:ni.depth_vert,fragmentShader:ni.depth_frag},normal:{uniforms:Co([Vt.common,Vt.bumpmap,Vt.normalmap,Vt.displacementmap,{opacity:{value:1}}]),vertexShader:ni.meshnormal_vert,fragmentShader:ni.meshnormal_frag},sprite:{uniforms:Co([Vt.sprite,Vt.fog]),vertexShader:ni.sprite_vert,fragmentShader:ni.sprite_frag},background:{uniforms:{uvTransform:{value:new si},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ni.background_vert,fragmentShader:ni.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ni.backgroundCube_vert,fragmentShader:ni.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ni.cube_vert,fragmentShader:ni.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ni.equirect_vert,fragmentShader:ni.equirect_frag},distanceRGBA:{uniforms:Co([Vt.common,Vt.displacementmap,{referencePosition:{value:new Q},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ni.distanceRGBA_vert,fragmentShader:ni.distanceRGBA_frag},shadow:{uniforms:Co([Vt.lights,Vt.fog,{color:{value:new Zt(0)},opacity:{value:1}}]),vertexShader:ni.shadow_vert,fragmentShader:ni.shadow_frag}};vc.physical={uniforms:Co([vc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new si},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new si},clearcoatNormalScale:{value:new ft(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new si},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new si},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new si},sheen:{value:0},sheenColor:{value:new Zt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new si},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new si},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new si},transmissionSamplerSize:{value:new ft},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new si},attenuationDistance:{value:0},attenuationColor:{value:new Zt(0)},specularColor:{value:new Zt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new si},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new si},anisotropyVector:{value:new ft},anisotropyMap:{value:null},anisotropyMapTransform:{value:new si}}]),vertexShader:ni.meshphysical_vert,fragmentShader:ni.meshphysical_frag};const d0={r:0,b:0,g:0};function ik(i,t,e,n,r,s,l){const u=new Zt(0);let m,y,f=!0===s?0:1,b=null,w=0,S=null;function k(I,R){I.getRGB(d0,ST(i)),n.buffers.color.setClear(d0.r,d0.g,d0.b,R,l)}return{getClearColor:function(){return u},setClearColor:function(I,R=1){u.set(I),f=R,k(u,f)},getClearAlpha:function(){return f},setClearAlpha:function(I){f=I,k(u,f)},render:function A(I,R){let U=!1,O=!0===R.isScene?R.background:null;O&&O.isTexture&&(O=(R.backgroundBlurriness>0?e:t).get(O)),null===O?k(u,f):O&&O.isColor&&(k(O,1),U=!0);const B=i.xr.getEnvironmentBlendMode();"additive"===B?n.buffers.color.setClear(0,0,0,1,l):"alpha-blend"===B&&n.buffers.color.setClear(0,0,0,0,l),(i.autoClear||U)&&i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil),O&&(O.isCubeTexture||O.mapping===af)?(void 0===y&&(y=new Eo(new Im(1,1,1),new Vu({name:"BackgroundCubeMaterial",uniforms:Rm(vc.backgroundCube.uniforms),vertexShader:vc.backgroundCube.vertexShader,fragmentShader:vc.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),y.geometry.deleteAttribute("normal"),y.geometry.deleteAttribute("uv"),y.onBeforeRender=function(j,q,ee){this.matrixWorld.copyPosition(ee.matrixWorld)},Object.defineProperty(y.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(y)),y.material.uniforms.envMap.value=O,y.material.uniforms.flipEnvMap.value=O.isCubeTexture&&!1===O.isRenderTargetTexture?-1:1,y.material.uniforms.backgroundBlurriness.value=R.backgroundBlurriness,y.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,y.material.toneMapped=Oi.getTransfer(O.colorSpace)!==nr,(b!==O||w!==O.version||S!==i.toneMapping)&&(y.material.needsUpdate=!0,b=O,w=O.version,S=i.toneMapping),y.layers.enableAll(),I.unshift(y,y.geometry,y.material,0,0,null)):O&&O.isTexture&&(void 0===m&&(m=new Eo(new n0(2,2),new Vu({name:"BackgroundMaterial",uniforms:Rm(vc.background.uniforms),vertexShader:vc.background.vertexShader,fragmentShader:vc.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),m.geometry.deleteAttribute("normal"),Object.defineProperty(m.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(m)),m.material.uniforms.t2D.value=O,m.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,m.material.toneMapped=Oi.getTransfer(O.colorSpace)!==nr,!0===O.matrixAutoUpdate&&O.updateMatrix(),m.material.uniforms.uvTransform.value.copy(O.matrix),(b!==O||w!==O.version||S!==i.toneMapping)&&(m.material.needsUpdate=!0,b=O,w=O.version,S=i.toneMapping),m.layers.enableAll(),I.unshift(m,m.geometry,m.material,0,0,null))}}}function hE(i,t,e,n){const r=i.getParameter(i.MAX_VERTEX_ATTRIBS),s=n.isWebGL2?null:t.get("OES_vertex_array_object"),l=n.isWebGL2||null!==s,u={},f=I(null);let m=f,y=!1;function S(he){return n.isWebGL2?i.bindVertexArray(he):s.bindVertexArrayOES(he)}function A(he){return n.isWebGL2?i.deleteVertexArray(he):s.deleteVertexArrayOES(he)}function I(he){const Ve=[],be=[],Ce=[];for(let He=0;He<r;He++)Ve[He]=0,be[He]=0,Ce[He]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Ve,enabledAttributes:be,attributeDivisors:Ce,object:he,attributes:{},index:null}}function O(){const he=m.newAttributes;for(let Ve=0,be=he.length;Ve<be;Ve++)he[Ve]=0}function B(he){j(he,0)}function j(he,Ve){const Ce=m.enabledAttributes,He=m.attributeDivisors;m.newAttributes[he]=1,0===Ce[he]&&(i.enableVertexAttribArray(he),Ce[he]=1),He[he]!==Ve&&((n.isWebGL2?i:t.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](he,Ve),He[he]=Ve)}function q(){const he=m.newAttributes,Ve=m.enabledAttributes;for(let be=0,Ce=Ve.length;be<Ce;be++)Ve[be]!==he[be]&&(i.disableVertexAttribArray(be),Ve[be]=0)}function ee(he,Ve,be,Ce,He,Ue,ot){!0===ot?i.vertexAttribIPointer(he,Ve,be,He,Ue):i.vertexAttribPointer(he,Ve,be,Ce,He,Ue)}function it(){pt(),y=!0,m!==f&&(m=f,S(m.object))}function pt(){f.geometry=null,f.program=null,f.wireframe=!1}return{setup:function b(he,Ve,be,Ce,He){let Ue=!1;if(l){const ot=function k(he,Ve,be){const Ce=!0===be.wireframe;let He=u[he.id];void 0===He&&(He={},u[he.id]=He);let Ue=He[Ve.id];void 0===Ue&&(Ue={},He[Ve.id]=Ue);let ot=Ue[Ce];return void 0===ot&&(ot=I(function w(){return n.isWebGL2?i.createVertexArray():s.createVertexArrayOES()}()),Ue[Ce]=ot),ot}(Ce,be,Ve);m!==ot&&(m=ot,S(m.object)),Ue=function R(he,Ve,be,Ce){const He=m.attributes,Ue=Ve.attributes;let ot=0;const pe=be.getAttributes();for(const $e in pe)if(pe[$e].location>=0){const xt=He[$e];let Jt=Ue[$e];if(void 0===Jt&&("instanceMatrix"===$e&&he.instanceMatrix&&(Jt=he.instanceMatrix),"instanceColor"===$e&&he.instanceColor&&(Jt=he.instanceColor)),void 0===xt||xt.attribute!==Jt||Jt&&xt.data!==Jt.data)return!0;ot++}return m.attributesNum!==ot||m.index!==Ce}(he,Ce,be,He),Ue&&function U(he,Ve,be,Ce){const He={},Ue=Ve.attributes;let ot=0;const pe=be.getAttributes();for(const $e in pe)if(pe[$e].location>=0){let xt=Ue[$e];void 0===xt&&("instanceMatrix"===$e&&he.instanceMatrix&&(xt=he.instanceMatrix),"instanceColor"===$e&&he.instanceColor&&(xt=he.instanceColor));const Jt={};Jt.attribute=xt,xt&&xt.data&&(Jt.data=xt.data),He[$e]=Jt,ot++}m.attributes=He,m.attributesNum=ot,m.index=Ce}(he,Ce,be,He)}else{const ot=!0===Ve.wireframe;(m.geometry!==Ce.id||m.program!==be.id||m.wireframe!==ot)&&(m.geometry=Ce.id,m.program=be.id,m.wireframe=ot,Ue=!0)}null!==He&&e.update(He,i.ELEMENT_ARRAY_BUFFER),(Ue||y)&&(y=!1,function ce(he,Ve,be,Ce){if(!1===n.isWebGL2&&(he.isInstancedMesh||Ce.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;O();const He=Ce.attributes,Ue=be.getAttributes(),ot=Ve.defaultAttributeValues;for(const pe in Ue){const $e=Ue[pe];if($e.location>=0){let Nt=He[pe];if(void 0===Nt&&("instanceMatrix"===pe&&he.instanceMatrix&&(Nt=he.instanceMatrix),"instanceColor"===pe&&he.instanceColor&&(Nt=he.instanceColor)),void 0!==Nt){const xt=Nt.normalized,Jt=Nt.itemSize,Nn=e.get(Nt);if(void 0===Nn)continue;const rn=Nn.buffer,yn=Nn.type,bn=Nn.bytesPerElement,vi=!0===n.isWebGL2&&(yn===i.INT||yn===i.UNSIGNED_INT||1013===Nt.gpuType);if(Nt.isInterleavedBufferAttribute){const In=Nt.data,le=In.stride,Ht=Nt.offset;if(In.isInstancedInterleavedBuffer){for(let lt=0;lt<$e.locationSize;lt++)j($e.location+lt,In.meshPerAttribute);!0!==he.isInstancedMesh&&void 0===Ce._maxInstanceCount&&(Ce._maxInstanceCount=In.meshPerAttribute*In.count)}else for(let lt=0;lt<$e.locationSize;lt++)B($e.location+lt);i.bindBuffer(i.ARRAY_BUFFER,rn);for(let lt=0;lt<$e.locationSize;lt++)ee($e.location+lt,Jt/$e.locationSize,yn,xt,le*bn,(Ht+Jt/$e.locationSize*lt)*bn,vi)}else{if(Nt.isInstancedBufferAttribute){for(let In=0;In<$e.locationSize;In++)j($e.location+In,Nt.meshPerAttribute);!0!==he.isInstancedMesh&&void 0===Ce._maxInstanceCount&&(Ce._maxInstanceCount=Nt.meshPerAttribute*Nt.count)}else for(let In=0;In<$e.locationSize;In++)B($e.location+In);i.bindBuffer(i.ARRAY_BUFFER,rn);for(let In=0;In<$e.locationSize;In++)ee($e.location+In,Jt/$e.locationSize,yn,xt,Jt*bn,Jt/$e.locationSize*In*bn,vi)}}else if(void 0!==ot){const xt=ot[pe];if(void 0!==xt)switch(xt.length){case 2:i.vertexAttrib2fv($e.location,xt);break;case 3:i.vertexAttrib3fv($e.location,xt);break;case 4:i.vertexAttrib4fv($e.location,xt);break;default:i.vertexAttrib1fv($e.location,xt)}}}}q()}(he,Ve,be,Ce),null!==He&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.get(He).buffer))},reset:it,resetDefaultState:pt,dispose:function z(){it();for(const he in u){const Ve=u[he];for(const be in Ve){const Ce=Ve[be];for(const He in Ce)A(Ce[He].object),delete Ce[He];delete Ve[be]}delete u[he]}},releaseStatesOfGeometry:function K(he){if(void 0===u[he.id])return;const Ve=u[he.id];for(const be in Ve){const Ce=Ve[be];for(const He in Ce)A(Ce[He].object),delete Ce[He];delete Ve[be]}delete u[he.id]},releaseStatesOfProgram:function Re(he){for(const Ve in u){const be=u[Ve];if(void 0===be[he.id])continue;const Ce=be[he.id];for(const He in Ce)A(Ce[He].object),delete Ce[He];delete be[he.id]}},initAttributes:O,enableAttribute:B,disableUnusedAttributes:q}}function rk(i,t,e,n){const r=n.isWebGL2;let s;this.setMode=function l(m){s=m},this.render=function u(m,y){i.drawArrays(s,m,y),e.update(y,s,1)},this.renderInstances=function f(m,y,b){if(0===b)return;let w,S;if(r)w=i,S="drawArraysInstanced";else if(w=t.get("ANGLE_instanced_arrays"),S="drawArraysInstancedANGLE",null===w)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");w[S](s,m,y,b),e.update(y,s,b)}}function sk(i,t,e){let n;function s(ee){if("highp"===ee){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";ee="mediump"}return"mediump"===ee&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const l=typeof WebGL2RenderingContext<"u"&&"WebGL2RenderingContext"===i.constructor.name;let u=void 0!==e.precision?e.precision:"highp";const f=s(u);f!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",f,"instead."),u=f);const m=l||t.has("WEBGL_draw_buffers"),y=!0===e.logarithmicDepthBuffer,b=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),w=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),S=i.getParameter(i.MAX_TEXTURE_SIZE),A=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),k=i.getParameter(i.MAX_VERTEX_ATTRIBS),I=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),R=i.getParameter(i.MAX_VARYING_VECTORS),U=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),O=w>0,B=l||t.has("OES_texture_float");return{isWebGL2:l,drawBuffers:m,getMaxAnisotropy:function r(){if(void 0!==n)return n;if(!0===t.has("EXT_texture_filter_anisotropic")){const ee=t.get("EXT_texture_filter_anisotropic");n=i.getParameter(ee.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n},getMaxPrecision:s,precision:u,logarithmicDepthBuffer:y,maxTextures:b,maxVertexTextures:w,maxTextureSize:S,maxCubemapSize:A,maxAttributes:k,maxVertexUniforms:I,maxVaryings:R,maxFragmentUniforms:U,vertexTextures:O,floatFragmentTextures:B,floatVertexTextures:O&&B,maxSamples:l?i.getParameter(i.MAX_SAMPLES):0}}function ok(i){const t=this;let e=null,n=0,r=!1,s=!1;const l=new Tf,u=new si,f={value:null,needsUpdate:!1};function y(b,w,S,A){const k=null!==b?b.length:0;let I=null;if(0!==k){if(I=f.value,!0!==A||null===I){const R=S+4*k,U=w.matrixWorldInverse;u.getNormalMatrix(U),(null===I||I.length<R)&&(I=new Float32Array(R));for(let O=0,B=S;O!==k;++O,B+=4)l.copy(b[O]).applyMatrix4(U,u),l.normal.toArray(I,B),I[B+3]=l.constant}f.value=I,f.needsUpdate=!0}return t.numPlanes=k,t.numIntersection=0,I}this.uniform=f,this.numPlanes=0,this.numIntersection=0,this.init=function(b,w){const S=0!==b.length||w||0!==n||r;return r=w,n=b.length,S},this.beginShadows=function(){s=!0,y(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(b,w){e=y(b,w,0)},this.setState=function(b,w,S){const A=b.clippingPlanes,k=b.clipIntersection,I=b.clipShadows,R=i.get(b);if(!r||null===A||0===A.length||s&&!I)s?y(null):function m(){f.value!==e&&(f.value=e,f.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}();else{const U=s?0:n,O=4*U;let B=R.clippingState||null;f.value=B,B=y(A,w,O,S);for(let j=0;j!==O;++j)B[j]=e[j];R.clippingState=B,this.numIntersection=k?this.numPlanes:0,this.numPlanes+=U}}}function ak(i){let t=new WeakMap;function e(l,u){return 303===u?l.mapping=wd:304===u&&(l.mapping=Au),l}function r(l){const u=l.target;u.removeEventListener("dispose",r);const f=t.get(u);void 0!==f&&(t.delete(u),f.dispose())}return{get:function n(l){if(l&&l.isTexture&&!1===l.isRenderTargetTexture){const u=l.mapping;if(303===u||304===u){if(t.has(l))return e(t.get(l).texture,l.mapping);{const f=l.image;if(f&&f.height>0){const m=new MT(f.height/2);return m.fromEquirectangularTexture(i,l),t.set(l,m),l.addEventListener("dispose",r),e(m.texture,l.mapping)}return null}}}return l},dispose:function s(){t=new WeakMap}}}class fE extends Kw{constructor(t=-1,e=1,n=1,r=-1,s=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=s,this.far=l,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,n,r,s,l){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=n-t,l=n+t,u=r+e,f=r-e;if(null!==this.view&&this.view.enabled){const m=(this.right-this.left)/this.view.fullWidth/this.zoom,y=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=m*this.view.offsetX,l=s+m*this.view.width,u-=y*this.view.offsetY,f=u-y*this.view.height}this.projectionMatrix.makeOrthographic(s,l,u,f,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}const cA=[.125,.215,.35,.446,.526,.582],pE=new fE,mE=new Zt;let lv=null,gE=0,_E=0;const Hu=(1+Math.sqrt(5))/2,If=1/Hu,lk=[new Q(1,1,1),new Q(-1,1,1),new Q(1,1,-1),new Q(-1,1,-1),new Q(0,Hu,If),new Q(0,Hu,-If),new Q(If,0,Hu),new Q(-If,0,Hu),new Q(Hu,If,0),new Q(-Hu,If,0)];class Mo{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,n=.1,r=100){lv=this._renderer.getRenderTarget(),gE=this._renderer.getActiveCubeFace(),_E=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(t,n,r,s),e>0&&this._blur(s,0,0,e),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=h0(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=hA(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(lv,gE,_E),t.scissorTest=!1,u0(t,0,0,t.width,t.height)}_fromTexture(t,e){this._setSize(t.mapping===wd||t.mapping===Au?0===t.image.length?16:t.image[0].width||t.image[0].image.width:t.image.width/4),lv=this._renderer.getRenderTarget(),gE=this._renderer.getActiveCubeFace(),_E=this._renderer.getActiveMipmapLevel();const n=e||this._allocateTargets();return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,n={magFilter:Qr,minFilter:Qr,generateMipmaps:!1,type:P_,format:xo,colorSpace:Rl,depthBuffer:!1},r=vE(t,e,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=vE(t,e,n);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function dA(i){const t=[],e=[],n=[];let r=i;const s=i-4+1+cA.length;for(let l=0;l<s;l++){const u=Math.pow(2,r);e.push(u);let f=1/u;l>i-4?f=cA[l-i+4-1]:0===l&&(f=0),n.push(f);const m=1/(u-2),y=-m,b=1+m,w=[y,y,b,y,b,b,y,y,b,b,y,b],S=6,A=6,k=3,I=2,R=1,U=new Float32Array(k*A*S),O=new Float32Array(I*A*S),B=new Float32Array(R*A*S);for(let q=0;q<S;q++){const ee=q%3*2/3-1,ce=q>2?0:-1;U.set([ee,ce,0,ee+2/3,ce,0,ee+2/3,ce+1,0,ee,ce,0,ee+2/3,ce+1,0,ee,ce+1,0],k*A*q),O.set(w,I*A*q),B.set([q,q,q,q,q,q],R*A*q)}const j=new oi;j.setAttribute("position",new ds(U,k)),j.setAttribute("uv",new ds(O,I)),j.setAttribute("faceIndex",new ds(B,R)),t.push(j),r>4&&r--}return{lodPlanes:t,sizeLods:e,sigmas:n}}(s)),this._blurMaterial=function uA(i,t,e){const n=new Float32Array(20),r=new Q(0,1,0);return new Vu({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(s,t,e)}return r}_compileMaterial(t){const e=new Eo(this._lodPlanes[0],t);this._renderer.compile(e,pE)}_sceneToCubeUV(t,e,n,r){const u=new qs(90,1,e,n),f=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],y=this._renderer,b=y.autoClear,w=y.toneMapping;y.getClearColor(mE),y.toneMapping=la,y.autoClear=!1;const S=new Uu({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),A=new Eo(new Im,S);let k=!1;const I=t.background;I?I.isColor&&(S.color.copy(I),t.background=null,k=!0):(S.color.copy(mE),k=!0);for(let R=0;R<6;R++){const U=R%3;0===U?(u.up.set(0,f[R],0),u.lookAt(m[R],0,0)):1===U?(u.up.set(0,0,f[R]),u.lookAt(0,m[R],0)):(u.up.set(0,f[R],0),u.lookAt(0,0,m[R]));const O=this._cubeSize;u0(r,U*O,R>2?O:0,O,O),y.setRenderTarget(r),k&&y.render(A,u),y.render(t,u)}A.geometry.dispose(),A.material.dispose(),y.toneMapping=w,y.autoClear=b,t.background=I}_textureToCubeUV(t,e){const n=this._renderer,r=t.mapping===wd||t.mapping===Au;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=h0()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=hA());const s=r?this._cubemapMaterial:this._equirectMaterial,l=new Eo(this._lodPlanes[0],s);s.uniforms.envMap.value=t;const f=this._cubeSize;u0(e,0,0,3*f,2*f),n.setRenderTarget(e),n.render(l,pE)}_applyPMREM(t){const e=this._renderer,n=e.autoClear;e.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]);this._blur(t,r-1,r,s,lk[(r-1)%lk.length])}e.autoClear=n}_blur(t,e,n,r,s){const l=this._pingPongRenderTarget;this._halfBlur(t,l,e,n,r,"latitudinal",s),this._halfBlur(l,t,n,n,r,"longitudinal",s)}_halfBlur(t,e,n,r,s,l,u){const f=this._renderer,m=this._blurMaterial;"latitudinal"!==l&&"longitudinal"!==l&&console.error("blur direction must be either latitudinal or longitudinal!");const b=new Eo(this._lodPlanes[r],m),w=m.uniforms,S=this._sizeLods[n]-1,A=isFinite(s)?Math.PI/(2*S):2*Math.PI/39,k=s/A,I=isFinite(s)?1+Math.floor(3*k):20;I>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${I} samples when the maximum is set to 20`);const R=[];let U=0;for(let ee=0;ee<20;++ee){const ce=ee/k,z=Math.exp(-ce*ce/2);R.push(z),0===ee?U+=z:ee<I&&(U+=2*z)}for(let ee=0;ee<R.length;ee++)R[ee]=R[ee]/U;w.envMap.value=t.texture,w.samples.value=I,w.weights.value=R,w.latitudinal.value="latitudinal"===l,u&&(w.poleAxis.value=u);const{_lodMax:O}=this;w.dTheta.value=A,w.mipInt.value=O-n;const B=this._sizeLods[r];u0(e,3*B*(r>O-4?r-O+4:0),4*(this._cubeSize-B),3*B,2*B),f.setRenderTarget(e),f.render(b,pE)}}function vE(i,t,e){const n=new wm(i,t,e);return n.texture.mapping=af,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function u0(i,t,e,n,r){i.viewport.set(t,e,n,r),i.scissor.set(t,e,n,r)}function hA(){return new Vu({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function h0(){return new Vu({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function fA(i){let t=new WeakMap,e=null;function s(u){const f=u.target;f.removeEventListener("dispose",s);const m=t.get(f);void 0!==m&&(t.delete(f),m.dispose())}return{get:function n(u){if(u&&u.isTexture){const f=u.mapping,m=303===f||304===f,y=f===wd||f===Au;if(m||y){if(u.isRenderTargetTexture&&!0===u.needsPMREMUpdate){u.needsPMREMUpdate=!1;let b=t.get(u);return null===e&&(e=new Mo(i)),b=m?e.fromEquirectangular(u,b):e.fromCubemap(u,b),t.set(u,b),b.texture}if(t.has(u))return t.get(u).texture;{const b=u.image;if(m&&b&&b.height>0||y&&b&&function r(u){let f=0;for(let y=0;y<6;y++)void 0!==u[y]&&f++;return 6===f}(b)){null===e&&(e=new Mo(i));const w=m?e.fromEquirectangular(u):e.fromCubemap(u);return t.set(u,w),u.addEventListener("dispose",s),w.texture}return null}}}return u},dispose:function l(){t=new WeakMap,null!==e&&(e.dispose(),e=null)}}}function yE(i){const t={};function e(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return t[n]=r,r}return{has:function(n){return null!==e(n)},init:function(n){n.isWebGL2?e("EXT_color_buffer_float"):(e("WEBGL_depth_texture"),e("OES_texture_float"),e("OES_texture_half_float"),e("OES_texture_half_float_linear"),e("OES_standard_derivatives"),e("OES_element_index_uint"),e("OES_vertex_array_object"),e("ANGLE_instanced_arrays")),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture")},get:function(n){const r=e(n);return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function bE(i,t,e,n){const r={},s=new WeakMap;function l(b){const w=b.target;null!==w.index&&t.remove(w.index);for(const A in w.attributes)t.remove(w.attributes[A]);for(const A in w.morphAttributes){const k=w.morphAttributes[A];for(let I=0,R=k.length;I<R;I++)t.remove(k[I])}w.removeEventListener("dispose",l),delete r[w.id];const S=s.get(w);S&&(t.remove(S),s.delete(w)),n.releaseStatesOfGeometry(w),!0===w.isInstancedBufferGeometry&&delete w._maxInstanceCount,e.memory.geometries--}function m(b){const w=[],S=b.index,A=b.attributes.position;let k=0;if(null!==S){const U=S.array;k=S.version;for(let O=0,B=U.length;O<B;O+=3){const j=U[O+0],q=U[O+1],ee=U[O+2];w.push(j,q,q,ee,ee,j)}}else{if(void 0===A)return;k=A.version;for(let O=0,B=A.array.length/3-1;O<B;O+=3){const j=O+0,q=O+1,ee=O+2;w.push(j,q,q,ee,ee,j)}}const I=new(cT(w)?Yw:Zb)(w,1);I.version=k;const R=s.get(b);R&&t.remove(R),s.set(b,I)}return{get:function u(b,w){return!0===r[w.id]||(w.addEventListener("dispose",l),r[w.id]=!0,e.memory.geometries++),w},update:function f(b){const w=b.attributes;for(const A in w)t.update(w[A],i.ARRAY_BUFFER);const S=b.morphAttributes;for(const A in S){const k=S[A];for(let I=0,R=k.length;I<R;I++)t.update(k[I],i.ARRAY_BUFFER)}},getWireframeAttribute:function y(b){const w=s.get(b);if(w){const S=b.index;null!==S&&w.version<S.version&&m(b)}else m(b);return s.get(b)}}}function ck(i,t,e,n){const r=n.isWebGL2;let s,u,f;this.setMode=function l(w){s=w},this.setIndex=function m(w){u=w.type,f=w.bytesPerElement},this.render=function y(w,S){i.drawElements(s,S,u,w*f),e.update(S,s,1)},this.renderInstances=function b(w,S,A){if(0===A)return;let k,I;if(r)k=i,I="drawElementsInstanced";else if(k=t.get("ANGLE_instanced_arrays"),I="drawElementsInstancedANGLE",null===k)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");k[I](s,S,u,w*f,A),e.update(S,s,A)}}function Z2(i){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function r(){e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function n(s,l,u){switch(e.calls++,l){case i.TRIANGLES:e.triangles+=u*(s/3);break;case i.LINES:e.lines+=u*(s/2);break;case i.LINE_STRIP:e.lines+=u*(s-1);break;case i.LINE_LOOP:e.lines+=u*s;break;case i.POINTS:e.points+=u*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l)}}}}function pA(i,t){return i[0]-t[0]}function dk(i,t){return Math.abs(t[1])-Math.abs(i[1])}function uk(i,t,e){const n={},r=new Float32Array(8),s=new WeakMap,l=new Ni,u=[];for(let m=0;m<8;m++)u[m]=[m,0];return{update:function f(m,y,b){const w=m.morphTargetInfluences;if(!0===t.isWebGL2){const S=y.morphAttributes.position||y.morphAttributes.normal||y.morphAttributes.color,A=void 0!==S?S.length:0;let k=s.get(y);if(void 0===k||k.count!==A){let he=function(){it.dispose(),s.delete(y),y.removeEventListener("dispose",he)};void 0!==k&&k.texture.dispose();const U=void 0!==y.morphAttributes.position,O=void 0!==y.morphAttributes.normal,B=void 0!==y.morphAttributes.color,j=y.morphAttributes.position||[],q=y.morphAttributes.normal||[],ee=y.morphAttributes.color||[];let ce=0;!0===U&&(ce=1),!0===O&&(ce=2),!0===B&&(ce=3);let z=y.attributes.position.count*ce,K=1;z>t.maxTextureSize&&(K=Math.ceil(z/t.maxTextureSize),z=t.maxTextureSize);const Re=new Float32Array(z*K*4*A),it=new Pu(Re,z,K,A);it.type=ca,it.needsUpdate=!0;const pt=4*ce;for(let Ve=0;Ve<A;Ve++){const be=j[Ve],Ce=q[Ve],He=ee[Ve],Ue=z*K*4*Ve;for(let ot=0;ot<be.count;ot++){const pe=ot*pt;!0===U&&(l.fromBufferAttribute(be,ot),Re[Ue+pe+0]=l.x,Re[Ue+pe+1]=l.y,Re[Ue+pe+2]=l.z,Re[Ue+pe+3]=0),!0===O&&(l.fromBufferAttribute(Ce,ot),Re[Ue+pe+4]=l.x,Re[Ue+pe+5]=l.y,Re[Ue+pe+6]=l.z,Re[Ue+pe+7]=0),!0===B&&(l.fromBufferAttribute(He,ot),Re[Ue+pe+8]=l.x,Re[Ue+pe+9]=l.y,Re[Ue+pe+10]=l.z,Re[Ue+pe+11]=4===He.itemSize?l.w:1)}}k={count:A,texture:it,size:new ft(z,K)},s.set(y,k),y.addEventListener("dispose",he)}let I=0;for(let U=0;U<w.length;U++)I+=w[U];const R=y.morphTargetsRelative?1:1-I;b.getUniforms().setValue(i,"morphTargetBaseInfluence",R),b.getUniforms().setValue(i,"morphTargetInfluences",w),b.getUniforms().setValue(i,"morphTargetsTexture",k.texture,e),b.getUniforms().setValue(i,"morphTargetsTextureSize",k.size)}else{const S=void 0===w?0:w.length;let A=n[y.id];if(void 0===A||A.length!==S){A=[];for(let O=0;O<S;O++)A[O]=[O,0];n[y.id]=A}for(let O=0;O<S;O++){const B=A[O];B[0]=O,B[1]=w[O]}A.sort(dk);for(let O=0;O<8;O++)O<S&&A[O][1]?(u[O][0]=A[O][0],u[O][1]=A[O][1]):(u[O][0]=Number.MAX_SAFE_INTEGER,u[O][1]=0);u.sort(pA);const k=y.morphAttributes.position,I=y.morphAttributes.normal;let R=0;for(let O=0;O<8;O++){const B=u[O],j=B[0],q=B[1];j!==Number.MAX_SAFE_INTEGER&&q?(k&&y.getAttribute("morphTarget"+O)!==k[j]&&y.setAttribute("morphTarget"+O,k[j]),I&&y.getAttribute("morphNormal"+O)!==I[j]&&y.setAttribute("morphNormal"+O,I[j]),r[O]=q,R+=q):(k&&!0===y.hasAttribute("morphTarget"+O)&&y.deleteAttribute("morphTarget"+O),I&&!0===y.hasAttribute("morphNormal"+O)&&y.deleteAttribute("morphNormal"+O),r[O]=0)}const U=y.morphTargetsRelative?1:1-R;b.getUniforms().setValue(i,"morphTargetBaseInfluence",U),b.getUniforms().setValue(i,"morphTargetInfluences",r)}}}}function hk(i,t,e,n){let r=new WeakMap;function u(f){const m=f.target;m.removeEventListener("dispose",u),e.remove(m.instanceMatrix),null!==m.instanceColor&&e.remove(m.instanceColor)}return{update:function s(f){const m=n.render.frame,b=t.get(f,f.geometry);if(r.get(b)!==m&&(t.update(b),r.set(b,m)),f.isInstancedMesh&&(!1===f.hasEventListener("dispose",u)&&f.addEventListener("dispose",u),r.get(f)!==m&&(e.update(f.instanceMatrix,i.ARRAY_BUFFER),null!==f.instanceColor&&e.update(f.instanceColor,i.ARRAY_BUFFER),r.set(f,m))),f.isSkinnedMesh){const w=f.skeleton;r.get(w)!==m&&(w.update(),r.set(w,m))}return b},dispose:function l(){r=new WeakMap}}}const mA=new gf,xE=new Pu,fk=new mT,wE=new rv,gA=[],EE=[],pk=new Float32Array(16),f0=new Float32Array(9),CE=new Float32Array(4);function Rf(i,t,e){const n=i[0];if(n<=0||n>0)return i;const r=t*e;let s=gA[r];if(void 0===s&&(s=new Float32Array(r),gA[r]=s),0!==t){n.toArray(s,0);for(let l=1,u=0;l!==t;++l)u+=e,i[l].toArray(s,u)}return s}function us(i,t){if(i.length!==t.length)return!1;for(let e=0,n=i.length;e<n;e++)if(i[e]!==t[e])return!1;return!0}function ts(i,t){for(let e=0,n=t.length;e<n;e++)i[e]=t[e]}function cv(i,t){let e=EE[t];void 0===e&&(e=new Int32Array(t),EE[t]=e);for(let n=0;n!==t;++n)e[n]=i.allocateTextureUnit();return e}function Fm(i,t){const e=this.cache;e[0]!==t&&(i.uniform1f(this.addr,t),e[0]=t)}function p0(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(us(e,t))return;i.uniform2fv(this.addr,t),ts(e,t)}}function _A(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(void 0!==t.r)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(i.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(us(e,t))return;i.uniform3fv(this.addr,t),ts(e,t)}}function vA(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(us(e,t))return;i.uniform4fv(this.addr,t),ts(e,t)}}function mk(i,t){const e=this.cache,n=t.elements;if(void 0===n){if(us(e,t))return;i.uniformMatrix2fv(this.addr,!1,t),ts(e,t)}else{if(us(e,n))return;CE.set(n),i.uniformMatrix2fv(this.addr,!1,CE),ts(e,n)}}function gk(i,t){const e=this.cache,n=t.elements;if(void 0===n){if(us(e,t))return;i.uniformMatrix3fv(this.addr,!1,t),ts(e,t)}else{if(us(e,n))return;f0.set(n),i.uniformMatrix3fv(this.addr,!1,f0),ts(e,n)}}function X2(i,t){const e=this.cache,n=t.elements;if(void 0===n){if(us(e,t))return;i.uniformMatrix4fv(this.addr,!1,t),ts(e,t)}else{if(us(e,n))return;pk.set(n),i.uniformMatrix4fv(this.addr,!1,pk),ts(e,n)}}function yA(i,t){const e=this.cache;e[0]!==t&&(i.uniform1i(this.addr,t),e[0]=t)}function _k(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2i(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(us(e,t))return;i.uniform2iv(this.addr,t),ts(e,t)}}function vk(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3i(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(us(e,t))return;i.uniform3iv(this.addr,t),ts(e,t)}}function K2(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4i(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(us(e,t))return;i.uniform4iv(this.addr,t),ts(e,t)}}function J2(i,t){const e=this.cache;e[0]!==t&&(i.uniform1ui(this.addr,t),e[0]=t)}function Q2(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2ui(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(us(e,t))return;i.uniform2uiv(this.addr,t),ts(e,t)}}function bA(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3ui(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(us(e,t))return;i.uniform3uiv(this.addr,t),ts(e,t)}}function yk(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4ui(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(us(e,t))return;i.uniform4uiv(this.addr,t),ts(e,t)}}function bk(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTexture2D(t||mA,r)}function xk(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTexture3D(t||fk,r)}function eU(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTextureCube(t||wE,r)}function tU(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTexture2DArray(t||xE,r)}function iU(i,t){i.uniform1fv(this.addr,t)}function rU(i,t){const e=Rf(t,this.size,2);i.uniform2fv(this.addr,e)}function wk(i,t){const e=Rf(t,this.size,3);i.uniform3fv(this.addr,e)}function m0(i,t){const e=Rf(t,this.size,4);i.uniform4fv(this.addr,e)}function Ek(i,t){const e=Rf(t,this.size,4);i.uniformMatrix2fv(this.addr,!1,e)}function Ck(i,t){const e=Rf(t,this.size,9);i.uniformMatrix3fv(this.addr,!1,e)}function xA(i,t){const e=Rf(t,this.size,16);i.uniformMatrix4fv(this.addr,!1,e)}function Pf(i,t){i.uniform1iv(this.addr,t)}function wA(i,t){i.uniform2iv(this.addr,t)}function SE(i,t){i.uniform3iv(this.addr,t)}function ME(i,t){i.uniform4iv(this.addr,t)}function Sk(i,t){i.uniform1uiv(this.addr,t)}function TE(i,t){i.uniform2uiv(this.addr,t)}function AE(i,t){i.uniform3uiv(this.addr,t)}function g0(i,t){i.uniform4uiv(this.addr,t)}function sU(i,t,e){const n=this.cache,r=t.length,s=cv(e,r);us(n,s)||(i.uniform1iv(this.addr,s),ts(n,s));for(let l=0;l!==r;++l)e.setTexture2D(t[l]||mA,s[l])}function oU(i,t,e){const n=this.cache,r=t.length,s=cv(e,r);us(n,s)||(i.uniform1iv(this.addr,s),ts(n,s));for(let l=0;l!==r;++l)e.setTexture3D(t[l]||fk,s[l])}function aU(i,t,e){const n=this.cache,r=t.length,s=cv(e,r);us(n,s)||(i.uniform1iv(this.addr,s),ts(n,s));for(let l=0;l!==r;++l)e.setTextureCube(t[l]||wE,s[l])}function EA(i,t,e){const n=this.cache,r=t.length,s=cv(e,r);us(n,s)||(i.uniform1iv(this.addr,s),ts(n,s));for(let l=0;l!==r;++l)e.setTexture2DArray(t[l]||xE,s[l])}class Tk{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function nU(i){switch(i){case 5126:return Fm;case 35664:return p0;case 35665:return _A;case 35666:return vA;case 35674:return mk;case 35675:return gk;case 35676:return X2;case 5124:case 35670:return yA;case 35667:case 35671:return _k;case 35668:case 35672:return vk;case 35669:case 35673:return K2;case 5125:return J2;case 36294:return Q2;case 36295:return bA;case 36296:return yk;case 35678:case 36198:case 36298:case 36306:case 35682:return bk;case 35679:case 36299:case 36307:return xk;case 35680:case 36300:case 36308:case 36293:return eU;case 36289:case 36303:case 36311:case 36292:return tU}}(e.type)}}class Ak{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function Mk(i){switch(i){case 5126:return iU;case 35664:return rU;case 35665:return wk;case 35666:return m0;case 35674:return Ek;case 35675:return Ck;case 35676:return xA;case 5124:case 35670:return Pf;case 35667:case 35671:return wA;case 35668:case 35672:return SE;case 35669:case 35673:return ME;case 5125:return Sk;case 36294:return TE;case 36295:return AE;case 36296:return g0;case 35678:case 36198:case 36298:case 36306:case 35682:return sU;case 35679:case 36299:case 36307:return oU;case 35680:case 36300:case 36308:case 36293:return aU;case 36289:case 36303:case 36311:case 36292:return EA}}(e.type)}}class Dk{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,n){const r=this.seq;for(let s=0,l=r.length;s!==l;++s){const u=r[s];u.setValue(t,e[u.id],n)}}}const _0=/(\w+)(\])?(\[|\.)?/g;function DE(i,t){i.seq.push(t),i.map[t.id]=t}function CA(i,t,e){const n=i.name,r=n.length;for(_0.lastIndex=0;;){const s=_0.exec(n);let u=s[1];const m=s[3];if("]"===s[2]&&(u|=0),void 0===m||"["===m&&_0.lastIndex+2===r){DE(e,void 0===m?new Tk(u,i,t):new Ak(u,i,t));break}{let b=e.map[u];void 0===b&&(b=new Dk(u),DE(e,b)),e=b}}}class v0{constructor(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const s=t.getActiveUniform(e,r);CA(s,t.getUniformLocation(e,s.name),this)}}setValue(t,e,n,r){const s=this.map[e];void 0!==s&&s.setValue(t,n,r)}setOptional(t,e,n){const r=e[n];void 0!==r&&this.setValue(t,n,r)}static upload(t,e,n,r){for(let s=0,l=e.length;s!==l;++s){const u=e[s],f=n[u.id];!1!==f.needsUpdate&&u.setValue(t,f.value,r)}}static seqWithValue(t,e){const n=[];for(let r=0,s=t.length;r!==s;++r){const l=t[r];l.id in e&&n.push(l)}return n}}function SA(i,t,e){const n=i.createShader(t);return i.shaderSource(n,e),i.compileShader(n),n}const MA=37297;let IE=0;function y0(i,t,e){const n=i.getShaderParameter(t,i.COMPILE_STATUS),r=i.getShaderInfoLog(t).trim();if(n&&""===r)return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const l=parseInt(s[1]);return e.toUpperCase()+"\n\n"+r+"\n\n"+function lU(i,t){const e=i.split("\n"),n=[],r=Math.max(t-6,0),s=Math.min(t+6,e.length);for(let l=r;l<s;l++){const u=l+1;n.push(`${u===t?">":" "} ${u}: ${e[l]}`)}return n.join("\n")}(i.getShaderSource(t),l)}return r}function Ik(i,t){const e=function TA(i){const t=Oi.getPrimaries(Oi.workingColorSpace),e=Oi.getPrimaries(i);let n;switch(t===e?n="":t===Ab&&e===H_?n="LinearDisplayP3ToLinearSRGB":t===H_&&e===Ab&&(n="LinearSRGBToLinearDisplayP3"),i){case Rl:case Iw:return[n,"LinearTransferOETF"];case Ds:case ZM:return[n,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",i),[n,"LinearTransferOETF"]}}(t);return`vec4 ${i}( vec4 value ) { return ${e[0]}( ${e[1]}( value ) ); }`}function Rk(i,t){let e;switch(t){case dm:e="Linear";break;case um:e="Reinhard";break;case hm:e="OptimizedCineon";break;case AM:e="ACESFilmic";break;case DM:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+i+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}function dv(i){return""!==i}function AA(i,t){const e=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,e).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function DA(i,t){return i.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const IA=/^[ \t]*#include +<([\w\d./]+)>/gm;function b0(i){return i.replace(IA,RA)}const kk=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function RA(i,t){let e=ni[t];if(void 0===e){const n=kk.get(t);if(void 0===n)throw new Error("Can not resolve #include <"+t+">");e=ni[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,n)}return b0(e)}const PA=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Ok(i){return i.replace(PA,Nk)}function Nk(i,t,e,n){let r="";for(let s=parseInt(t);s<parseInt(e);s++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function x0(i){let t="precision "+i.precision+" float;\nprecision "+i.precision+" int;";return"highp"===i.precision?t+="\n#define HIGH_PRECISION":"mediump"===i.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===i.precision&&(t+="\n#define LOW_PRECISION"),t}function Uk(i,t,e,n){const r=i.getContext(),s=e.defines;let l=e.vertexShader,u=e.fragmentShader;const f=function kA(i){let t="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===rm?t="SHADOWMAP_TYPE_PCF":i.shadowMapType===y1?t="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===yd&&(t="SHADOWMAP_TYPE_VSM"),t}(e),m=function OA(i){let t="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case wd:case Au:t="ENVMAP_TYPE_CUBE";break;case af:t="ENVMAP_TYPE_CUBE_UV"}return t}(e),y=function Lk(i){let t="ENVMAP_MODE_REFLECTION";return i.envMap&&i.envMapMode===Au&&(t="ENVMAP_MODE_REFRACTION"),t}(e),b=function w0(i){let t="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case xd:t="ENVMAP_BLENDING_MULTIPLY";break;case lm:t="ENVMAP_BLENDING_MIX";break;case cm:t="ENVMAP_BLENDING_ADD"}return t}(e),w=function Fk(i){const t=i.envMapCubeUVHeight;if(null===t)return null;const e=Math.log2(t)-2,n=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),112)),texelHeight:n,maxMip:e}}(e),S=e.isWebGL2?"":function cU(i){return[i.extensionDerivatives||i.envMapCubeUVHeight||i.bumpMap||i.normalMapTangentSpace||i.clearcoatNormalMap||i.flatShading||"physical"===i.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(i.extensionFragDepth||i.logarithmicDepthBuffer)&&i.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",i.extensionDrawBuffers&&i.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(i.extensionShaderTextureLOD||i.envMap||i.transmission)&&i.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(dv).join("\n")}(e),A=function dU(i){const t=[];for(const e in i){const n=i[e];!1!==n&&t.push("#define "+e+" "+n)}return t.join("\n")}(s),k=r.createProgram();let I,R,U=e.glslVersion?"#version "+e.glslVersion+"\n":"";e.isRawShaderMaterial?(I=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,A].filter(dv).join("\n"),I.length>0&&(I+="\n"),R=[S,"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,A].filter(dv).join("\n"),R.length>0&&(R+="\n")):(I=[x0(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,A,e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+y:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.displacementMap?"#define USE_DISPLACEMENTMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.mapUv?"#define MAP_UV "+e.mapUv:"",e.alphaMapUv?"#define ALPHAMAP_UV "+e.alphaMapUv:"",e.lightMapUv?"#define LIGHTMAP_UV "+e.lightMapUv:"",e.aoMapUv?"#define AOMAP_UV "+e.aoMapUv:"",e.emissiveMapUv?"#define EMISSIVEMAP_UV "+e.emissiveMapUv:"",e.bumpMapUv?"#define BUMPMAP_UV "+e.bumpMapUv:"",e.normalMapUv?"#define NORMALMAP_UV "+e.normalMapUv:"",e.displacementMapUv?"#define DISPLACEMENTMAP_UV "+e.displacementMapUv:"",e.metalnessMapUv?"#define METALNESSMAP_UV "+e.metalnessMapUv:"",e.roughnessMapUv?"#define ROUGHNESSMAP_UV "+e.roughnessMapUv:"",e.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+e.anisotropyMapUv:"",e.clearcoatMapUv?"#define CLEARCOATMAP_UV "+e.clearcoatMapUv:"",e.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+e.clearcoatNormalMapUv:"",e.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+e.clearcoatRoughnessMapUv:"",e.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+e.iridescenceMapUv:"",e.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+e.iridescenceThicknessMapUv:"",e.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+e.sheenColorMapUv:"",e.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+e.sheenRoughnessMapUv:"",e.specularMapUv?"#define SPECULARMAP_UV "+e.specularMapUv:"",e.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+e.specularColorMapUv:"",e.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+e.specularIntensityMapUv:"",e.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+e.transmissionMapUv:"",e.thicknessMapUv?"#define THICKNESSMAP_UV "+e.thicknessMapUv:"",e.vertexTangents&&!1===e.flatShading?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&!1===e.flatShading?"#define USE_MORPHNORMALS":"",e.morphColors&&e.isWebGL2?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+f:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.useLegacyLights?"#define LEGACY_LIGHTS":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(dv).join("\n"),R=[S,x0(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,A,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+m:"",e.envMap?"#define "+y:"",e.envMap?"#define "+b:"",w?"#define CUBEUV_TEXEL_WIDTH "+w.texelWidth:"",w?"#define CUBEUV_TEXEL_HEIGHT "+w.texelHeight:"",w?"#define CUBEUV_MAX_MIP "+w.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents&&!1===e.flatShading?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+f:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.useLegacyLights?"#define LEGACY_LIGHTS":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==la?"#define TONE_MAPPING":"",e.toneMapping!==la?ni.tonemapping_pars_fragment:"",e.toneMapping!==la?Rk("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",ni.colorspace_pars_fragment,Ik("linearToOutputTexel",e.outputColorSpace),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"","\n"].filter(dv).join("\n")),l=b0(l),l=AA(l,e),l=DA(l,e),u=b0(u),u=AA(u,e),u=DA(u,e),l=Ok(l),u=Ok(u),e.isWebGL2&&!0!==e.isRawShaderMaterial&&(U="#version 300 es\n",I=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+I,R=["precision mediump sampler2DArray;","#define varying in",e.glslVersion===QM?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===QM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+R);const B=U+R+u,j=SA(r,r.VERTEX_SHADER,U+I+l),q=SA(r,r.FRAGMENT_SHADER,B);function ee(Re){if(i.debug.checkShaderErrors){const it=r.getProgramInfoLog(k).trim(),pt=r.getShaderInfoLog(j).trim(),he=r.getShaderInfoLog(q).trim();let Ve=!0,be=!0;if(!1===r.getProgramParameter(k,r.LINK_STATUS))if(Ve=!1,"function"==typeof i.debug.onShaderError)i.debug.onShaderError(r,k,j,q);else{const Ce=y0(r,j,"vertex"),He=y0(r,q,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(k,r.VALIDATE_STATUS)+"\n\nProgram Info Log: "+it+"\n"+Ce+"\n"+He)}else""!==it?console.warn("THREE.WebGLProgram: Program Info Log:",it):(""===pt||""===he)&&(be=!1);be&&(Re.diagnostics={runnable:Ve,programLog:it,vertexShader:{log:pt,prefix:I},fragmentShader:{log:he,prefix:R}})}r.deleteShader(j),r.deleteShader(q),ce=new v0(r,k),z=function Pk(i,t){const e={},n=i.getProgramParameter(t,i.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){const s=i.getActiveAttrib(t,r),l=s.name;let u=1;s.type===i.FLOAT_MAT2&&(u=2),s.type===i.FLOAT_MAT3&&(u=3),s.type===i.FLOAT_MAT4&&(u=4),e[l]={type:s.type,location:i.getAttribLocation(t,l),locationSize:u}}return e}(r,k)}let ce,z;r.attachShader(k,j),r.attachShader(k,q),void 0!==e.index0AttributeName?r.bindAttribLocation(k,0,e.index0AttributeName):!0===e.morphTargets&&r.bindAttribLocation(k,0,"position"),r.linkProgram(k),this.getUniforms=function(){return void 0===ce&&ee(this),ce},this.getAttributes=function(){return void 0===z&&ee(this),z};let K=!1===e.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===K&&(K=r.getProgramParameter(k,MA)),K},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(k),this.program=void 0},this.type=e.shaderType,this.name=e.shaderName,this.id=IE++,this.cacheKey=t,this.usedTimes=1,this.program=k,this.vertexShader=j,this.fragmentShader=q,this}let NA=0;class LA{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const n=t.fragmentShader,r=this._getShaderStage(t.vertexShader),s=this._getShaderStage(n),l=this._getShaderCacheForMaterial(t);return!1===l.has(r)&&(l.add(r),r.usedTimes++),!1===l.has(s)&&(l.add(s),s.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const n of e)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let n=e.get(t);return void 0===n&&(n=new Set,e.set(t,n)),n}_getShaderStage(t){const e=this.shaderCache;let n=e.get(t);return void 0===n&&(n=new uU(t),e.set(t,n)),n}}class uU{constructor(t){this.id=NA++,this.code=t,this.usedTimes=0}}function Bk(i,t,e,n,r,s,l){const u=new Gw,f=new LA,m=[],y=r.isWebGL2,b=r.logarithmicDepthBuffer,w=r.vertexTextures;let S=r.precision;const A={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function k(z){return 0===z?"uv":`uv${z}`}return{getParameters:function I(z,K,Re,it,pt){const he=it.fog,Ve=pt.geometry,Ce=(z.isMeshStandardMaterial?e:t).get(z.envMap||(z.isMeshStandardMaterial?it.environment:null)),He=Ce&&Ce.mapping===af?Ce.image.height:null,Ue=A[z.type];null!==z.precision&&(S=r.getMaxPrecision(z.precision),S!==z.precision&&console.warn("THREE.WebGLProgram.getParameters:",z.precision,"not supported, using",S,"instead."));const ot=Ve.morphAttributes.position||Ve.morphAttributes.normal||Ve.morphAttributes.color,pe=void 0!==ot?ot.length:0;let Nt,xt,Jt,Nn,$e=0;if(void 0!==Ve.morphAttributes.position&&($e=1),void 0!==Ve.morphAttributes.normal&&($e=2),void 0!==Ve.morphAttributes.color&&($e=3),Ue){const Ps=vc[Ue];Nt=Ps.vertexShader,xt=Ps.fragmentShader}else Nt=z.vertexShader,xt=z.fragmentShader,f.update(z),Jt=f.getVertexShaderID(z),Nn=f.getFragmentShaderID(z);const rn=i.getRenderTarget(),yn=!0===pt.isInstancedMesh,bn=!!z.map,In=!!Ce,le=!!z.aoMap,Ht=!!z.lightMap,lt=!!z.bumpMap,St=!!z.normalMap,_t=!!z.displacementMap,Sn=!!z.emissiveMap,Xt=!!z.metalnessMap,un=!!z.roughnessMap,Qn=z.anisotropy>0,xi=z.clearcoat>0,rs=z.iridescence>0,ne=z.sheen>0,G=z.transmission>0,Fe=Qn&&!!z.anisotropyMap,Tt=xi&&!!z.clearcoatMap,bt=xi&&!!z.clearcoatNormalMap,At=xi&&!!z.clearcoatRoughnessMap,gn=rs&&!!z.iridescenceMap,Lt=rs&&!!z.iridescenceThicknessMap,$t=ne&&!!z.sheenColorMap,Yn=ne&&!!z.sheenRoughnessMap,Li=!!z.specularMap,Rt=!!z.specularColorMap,Qi=!!z.specularIntensityMap,ii=G&&!!z.transmissionMap,qn=G&&!!z.thicknessMap,en=!!z.alphaMap,Yt=!!z.extensions,Ot=!!Ve.attributes.uv1,rt=!!Ve.attributes.uv2,Ut=!!Ve.attributes.uv3;let Un=la;return z.toneMapped&&(null===rn||!0===rn.isXRRenderTarget)&&(Un=i.toneMapping),{isWebGL2:y,shaderID:Ue,shaderType:z.type,shaderName:z.name,vertexShader:Nt,fragmentShader:xt,defines:z.defines,customVertexShaderID:Jt,customFragmentShaderID:Nn,isRawShaderMaterial:!0===z.isRawShaderMaterial,glslVersion:z.glslVersion,precision:S,instancing:yn,instancingColor:yn&&null!==pt.instanceColor,supportsVertexTextures:w,outputColorSpace:null===rn?i.outputColorSpace:!0===rn.isXRRenderTarget?rn.texture.colorSpace:Rl,map:bn,matcap:!!z.matcap,envMap:In,envMapMode:In&&Ce.mapping,envMapCubeUVHeight:He,aoMap:le,lightMap:Ht,bumpMap:lt,normalMap:St,displacementMap:w&&_t,emissiveMap:Sn,normalMapObjectSpace:St&&1===z.normalMapType,normalMapTangentSpace:St&&0===z.normalMapType,metalnessMap:Xt,roughnessMap:un,anisotropy:Qn,anisotropyMap:Fe,clearcoat:xi,clearcoatMap:Tt,clearcoatNormalMap:bt,clearcoatRoughnessMap:At,iridescence:rs,iridescenceMap:gn,iridescenceThicknessMap:Lt,sheen:ne,sheenColorMap:$t,sheenRoughnessMap:Yn,specularMap:Li,specularColorMap:Rt,specularIntensityMap:Qi,transmission:G,transmissionMap:ii,thicknessMap:qn,gradientMap:!!z.gradientMap,opaque:!1===z.transparent&&1===z.blending,alphaMap:en,alphaTest:z.alphaTest>0,alphaHash:!!z.alphaHash,combine:z.combine,mapUv:bn&&k(z.map.channel),aoMapUv:le&&k(z.aoMap.channel),lightMapUv:Ht&&k(z.lightMap.channel),bumpMapUv:lt&&k(z.bumpMap.channel),normalMapUv:St&&k(z.normalMap.channel),displacementMapUv:_t&&k(z.displacementMap.channel),emissiveMapUv:Sn&&k(z.emissiveMap.channel),metalnessMapUv:Xt&&k(z.metalnessMap.channel),roughnessMapUv:un&&k(z.roughnessMap.channel),anisotropyMapUv:Fe&&k(z.anisotropyMap.channel),clearcoatMapUv:Tt&&k(z.clearcoatMap.channel),clearcoatNormalMapUv:bt&&k(z.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:At&&k(z.clearcoatRoughnessMap.channel),iridescenceMapUv:gn&&k(z.iridescenceMap.channel),iridescenceThicknessMapUv:Lt&&k(z.iridescenceThicknessMap.channel),sheenColorMapUv:$t&&k(z.sheenColorMap.channel),sheenRoughnessMapUv:Yn&&k(z.sheenRoughnessMap.channel),specularMapUv:Li&&k(z.specularMap.channel),specularColorMapUv:Rt&&k(z.specularColorMap.channel),specularIntensityMapUv:Qi&&k(z.specularIntensityMap.channel),transmissionMapUv:ii&&k(z.transmissionMap.channel),thicknessMapUv:qn&&k(z.thicknessMap.channel),alphaMapUv:en&&k(z.alphaMap.channel),vertexTangents:!!Ve.attributes.tangent&&(St||Qn),vertexColors:z.vertexColors,vertexAlphas:!0===z.vertexColors&&!!Ve.attributes.color&&4===Ve.attributes.color.itemSize,vertexUv1s:Ot,vertexUv2s:rt,vertexUv3s:Ut,pointsUvs:!0===pt.isPoints&&!!Ve.attributes.uv&&(bn||en),fog:!!he,useFog:!0===z.fog,fogExp2:he&&he.isFogExp2,flatShading:!0===z.flatShading,sizeAttenuation:!0===z.sizeAttenuation,logarithmicDepthBuffer:b,skinning:!0===pt.isSkinnedMesh,morphTargets:void 0!==Ve.morphAttributes.position,morphNormals:void 0!==Ve.morphAttributes.normal,morphColors:void 0!==Ve.morphAttributes.color,morphTargetsCount:pe,morphTextureStride:$e,numDirLights:K.directional.length,numPointLights:K.point.length,numSpotLights:K.spot.length,numSpotLightMaps:K.spotLightMap.length,numRectAreaLights:K.rectArea.length,numHemiLights:K.hemi.length,numDirLightShadows:K.directionalShadowMap.length,numPointLightShadows:K.pointShadowMap.length,numSpotLightShadows:K.spotShadowMap.length,numSpotLightShadowsWithMaps:K.numSpotLightShadowsWithMaps,numLightProbes:K.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:z.dithering,shadowMapEnabled:i.shadowMap.enabled&&Re.length>0,shadowMapType:i.shadowMap.type,toneMapping:Un,useLegacyLights:i._useLegacyLights,decodeVideoTexture:bn&&!0===z.map.isVideoTexture&&Oi.getTransfer(z.map.colorSpace)===nr,premultipliedAlpha:z.premultipliedAlpha,doubleSided:2===z.side,flipSided:1===z.side,useDepthPacking:z.depthPacking>=0,depthPacking:z.depthPacking||0,index0AttributeName:z.index0AttributeName,extensionDerivatives:Yt&&!0===z.extensions.derivatives,extensionFragDepth:Yt&&!0===z.extensions.fragDepth,extensionDrawBuffers:Yt&&!0===z.extensions.drawBuffers,extensionShaderTextureLOD:Yt&&!0===z.extensions.shaderTextureLOD,rendererExtensionFragDepth:y||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:y||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:y||n.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:z.customProgramCacheKey()}},getProgramCacheKey:function R(z){const K=[];if(z.shaderID?K.push(z.shaderID):(K.push(z.customVertexShaderID),K.push(z.customFragmentShaderID)),void 0!==z.defines)for(const Re in z.defines)K.push(Re),K.push(z.defines[Re]);return!1===z.isRawShaderMaterial&&(function U(z,K){z.push(K.precision),z.push(K.outputColorSpace),z.push(K.envMapMode),z.push(K.envMapCubeUVHeight),z.push(K.mapUv),z.push(K.alphaMapUv),z.push(K.lightMapUv),z.push(K.aoMapUv),z.push(K.bumpMapUv),z.push(K.normalMapUv),z.push(K.displacementMapUv),z.push(K.emissiveMapUv),z.push(K.metalnessMapUv),z.push(K.roughnessMapUv),z.push(K.anisotropyMapUv),z.push(K.clearcoatMapUv),z.push(K.clearcoatNormalMapUv),z.push(K.clearcoatRoughnessMapUv),z.push(K.iridescenceMapUv),z.push(K.iridescenceThicknessMapUv),z.push(K.sheenColorMapUv),z.push(K.sheenRoughnessMapUv),z.push(K.specularMapUv),z.push(K.specularColorMapUv),z.push(K.specularIntensityMapUv),z.push(K.transmissionMapUv),z.push(K.thicknessMapUv),z.push(K.combine),z.push(K.fogExp2),z.push(K.sizeAttenuation),z.push(K.morphTargetsCount),z.push(K.morphAttributeCount),z.push(K.numDirLights),z.push(K.numPointLights),z.push(K.numSpotLights),z.push(K.numSpotLightMaps),z.push(K.numHemiLights),z.push(K.numRectAreaLights),z.push(K.numDirLightShadows),z.push(K.numPointLightShadows),z.push(K.numSpotLightShadows),z.push(K.numSpotLightShadowsWithMaps),z.push(K.numLightProbes),z.push(K.shadowMapType),z.push(K.toneMapping),z.push(K.numClippingPlanes),z.push(K.numClipIntersection),z.push(K.depthPacking)}(K,z),function O(z,K){u.disableAll(),K.isWebGL2&&u.enable(0),K.supportsVertexTextures&&u.enable(1),K.instancing&&u.enable(2),K.instancingColor&&u.enable(3),K.matcap&&u.enable(4),K.envMap&&u.enable(5),K.normalMapObjectSpace&&u.enable(6),K.normalMapTangentSpace&&u.enable(7),K.clearcoat&&u.enable(8),K.iridescence&&u.enable(9),K.alphaTest&&u.enable(10),K.vertexColors&&u.enable(11),K.vertexAlphas&&u.enable(12),K.vertexUv1s&&u.enable(13),K.vertexUv2s&&u.enable(14),K.vertexUv3s&&u.enable(15),K.vertexTangents&&u.enable(16),K.anisotropy&&u.enable(17),K.alphaHash&&u.enable(18),z.push(u.mask),u.disableAll(),K.fog&&u.enable(0),K.useFog&&u.enable(1),K.flatShading&&u.enable(2),K.logarithmicDepthBuffer&&u.enable(3),K.skinning&&u.enable(4),K.morphTargets&&u.enable(5),K.morphNormals&&u.enable(6),K.morphColors&&u.enable(7),K.premultipliedAlpha&&u.enable(8),K.shadowMapEnabled&&u.enable(9),K.useLegacyLights&&u.enable(10),K.doubleSided&&u.enable(11),K.flipSided&&u.enable(12),K.useDepthPacking&&u.enable(13),K.dithering&&u.enable(14),K.transmission&&u.enable(15),K.sheen&&u.enable(16),K.opaque&&u.enable(17),K.pointsUvs&&u.enable(18),K.decodeVideoTexture&&u.enable(19),z.push(u.mask)}(K,z),K.push(i.outputColorSpace)),K.push(z.customProgramCacheKey),K.join()},getUniforms:function B(z){const K=A[z.type];let Re;return Re=K?rP.clone(vc[K].uniforms):z.uniforms,Re},acquireProgram:function j(z,K){let Re;for(let it=0,pt=m.length;it<pt;it++){const he=m[it];if(he.cacheKey===K){Re=he,++Re.usedTimes;break}}return void 0===Re&&(Re=new Uk(i,K,z,s),m.push(Re)),Re},releaseProgram:function q(z){if(0==--z.usedTimes){const K=m.indexOf(z);m[K]=m[m.length-1],m.pop(),z.destroy()}},releaseShaderCache:function ee(z){f.remove(z)},programs:m,dispose:function ce(){f.dispose()}}}function hU(){let i=new WeakMap;return{get:function t(s){let l=i.get(s);return void 0===l&&(l={},i.set(s,l)),l},remove:function e(s){i.delete(s)},update:function n(s,l,u){i.get(s)[l]=u},dispose:function r(){i=new WeakMap}}}function Vk(i,t){return i.groupOrder!==t.groupOrder?i.groupOrder-t.groupOrder:i.renderOrder!==t.renderOrder?i.renderOrder-t.renderOrder:i.material.id!==t.material.id?i.material.id-t.material.id:i.z!==t.z?i.z-t.z:i.id-t.id}function Hk(i,t){return i.groupOrder!==t.groupOrder?i.groupOrder-t.groupOrder:i.renderOrder!==t.renderOrder?i.renderOrder-t.renderOrder:i.z!==t.z?t.z-i.z:i.id-t.id}function zk(){const i=[];let t=0;const e=[],n=[],r=[];function l(b,w,S,A,k,I){let R=i[t];return void 0===R?(R={id:b.id,object:b,geometry:w,material:S,groupOrder:A,renderOrder:b.renderOrder,z:k,group:I},i[t]=R):(R.id=b.id,R.object=b,R.geometry=w,R.material=S,R.groupOrder=A,R.renderOrder=b.renderOrder,R.z=k,R.group=I),t++,R}return{opaque:e,transmissive:n,transparent:r,init:function s(){t=0,e.length=0,n.length=0,r.length=0},push:function u(b,w,S,A,k,I){const R=l(b,w,S,A,k,I);S.transmission>0?n.push(R):!0===S.transparent?r.push(R):e.push(R)},unshift:function f(b,w,S,A,k,I){const R=l(b,w,S,A,k,I);S.transmission>0?n.unshift(R):!0===S.transparent?r.unshift(R):e.unshift(R)},finish:function y(){for(let b=t,w=i.length;b<w;b++){const S=i[b];if(null===S.id)break;S.id=null,S.object=null,S.geometry=null,S.material=null,S.group=null}},sort:function m(b,w){e.length>1&&e.sort(b||Vk),n.length>1&&n.sort(w||Hk),r.length>1&&r.sort(w||Hk)}}}function Gk(){let i=new WeakMap;return{get:function t(n,r){const s=i.get(n);let l;return void 0===s?(l=new zk,i.set(n,[l])):r>=s.length?(l=new zk,s.push(l)):l=s[r],l},dispose:function e(){i=new WeakMap}}}function Wk(){const i={};return{get:function(t){if(void 0!==i[t.id])return i[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new Q,color:new Zt};break;case"SpotLight":e={position:new Q,direction:new Q,color:new Zt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new Q,color:new Zt,distance:0,decay:0};break;case"HemisphereLight":e={direction:new Q,skyColor:new Zt,groundColor:new Zt};break;case"RectAreaLight":e={color:new Zt,position:new Q,halfWidth:new Q,halfHeight:new Q}}return i[t.id]=e,e}}}let pU=0;function mU(i,t){return(t.castShadow?2:0)-(i.castShadow?2:0)+(t.map?1:0)-(i.map?1:0)}function gU(i,t){const e=new Wk,n=function fU(){const i={};return{get:function(t){if(void 0!==i[t.id])return i[t.id];let e;switch(t.type){case"DirectionalLight":case"SpotLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft};break;case"PointLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft,shadowCameraNear:1,shadowCameraFar:1e3}}return i[t.id]=e,e}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let y=0;y<9;y++)r.probe.push(new Q);const s=new Q,l=new $n,u=new $n;return{setup:function f(y,b){let w=0,S=0,A=0;for(let it=0;it<9;it++)r.probe[it].set(0,0,0);let k=0,I=0,R=0,U=0,O=0,B=0,j=0,q=0,ee=0,ce=0,z=0;y.sort(mU);const K=!0===b?Math.PI:1;for(let it=0,pt=y.length;it<pt;it++){const he=y[it],Ve=he.color,be=he.intensity,Ce=he.distance,He=he.shadow&&he.shadow.map?he.shadow.map.texture:null;if(he.isAmbientLight)w+=Ve.r*be*K,S+=Ve.g*be*K,A+=Ve.b*be*K;else if(he.isLightProbe){for(let Ue=0;Ue<9;Ue++)r.probe[Ue].addScaledVector(he.sh.coefficients[Ue],be);z++}else if(he.isDirectionalLight){const Ue=e.get(he);if(Ue.color.copy(he.color).multiplyScalar(he.intensity*K),he.castShadow){const ot=he.shadow,pe=n.get(he);pe.shadowBias=ot.bias,pe.shadowNormalBias=ot.normalBias,pe.shadowRadius=ot.radius,pe.shadowMapSize=ot.mapSize,r.directionalShadow[k]=pe,r.directionalShadowMap[k]=He,r.directionalShadowMatrix[k]=he.shadow.matrix,B++}r.directional[k]=Ue,k++}else if(he.isSpotLight){const Ue=e.get(he);Ue.position.setFromMatrixPosition(he.matrixWorld),Ue.color.copy(Ve).multiplyScalar(be*K),Ue.distance=Ce,Ue.coneCos=Math.cos(he.angle),Ue.penumbraCos=Math.cos(he.angle*(1-he.penumbra)),Ue.decay=he.decay,r.spot[R]=Ue;const ot=he.shadow;if(he.map&&(r.spotLightMap[ee]=he.map,ee++,ot.updateMatrices(he),he.castShadow&&ce++),r.spotLightMatrix[R]=ot.matrix,he.castShadow){const pe=n.get(he);pe.shadowBias=ot.bias,pe.shadowNormalBias=ot.normalBias,pe.shadowRadius=ot.radius,pe.shadowMapSize=ot.mapSize,r.spotShadow[R]=pe,r.spotShadowMap[R]=He,q++}R++}else if(he.isRectAreaLight){const Ue=e.get(he);Ue.color.copy(Ve).multiplyScalar(be),Ue.halfWidth.set(.5*he.width,0,0),Ue.halfHeight.set(0,.5*he.height,0),r.rectArea[U]=Ue,U++}else if(he.isPointLight){const Ue=e.get(he);if(Ue.color.copy(he.color).multiplyScalar(he.intensity*K),Ue.distance=he.distance,Ue.decay=he.decay,he.castShadow){const ot=he.shadow,pe=n.get(he);pe.shadowBias=ot.bias,pe.shadowNormalBias=ot.normalBias,pe.shadowRadius=ot.radius,pe.shadowMapSize=ot.mapSize,pe.shadowCameraNear=ot.camera.near,pe.shadowCameraFar=ot.camera.far,r.pointShadow[I]=pe,r.pointShadowMap[I]=He,r.pointShadowMatrix[I]=he.shadow.matrix,j++}r.point[I]=Ue,I++}else if(he.isHemisphereLight){const Ue=e.get(he);Ue.skyColor.copy(he.color).multiplyScalar(be*K),Ue.groundColor.copy(he.groundColor).multiplyScalar(be*K),r.hemi[O]=Ue,O++}}U>0&&(t.isWebGL2||!0===i.has("OES_texture_float_linear")?(r.rectAreaLTC1=Vt.LTC_FLOAT_1,r.rectAreaLTC2=Vt.LTC_FLOAT_2):!0===i.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=Vt.LTC_HALF_1,r.rectAreaLTC2=Vt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=w,r.ambient[1]=S,r.ambient[2]=A;const Re=r.hash;(Re.directionalLength!==k||Re.pointLength!==I||Re.spotLength!==R||Re.rectAreaLength!==U||Re.hemiLength!==O||Re.numDirectionalShadows!==B||Re.numPointShadows!==j||Re.numSpotShadows!==q||Re.numSpotMaps!==ee||Re.numLightProbes!==z)&&(r.directional.length=k,r.spot.length=R,r.rectArea.length=U,r.point.length=I,r.hemi.length=O,r.directionalShadow.length=B,r.directionalShadowMap.length=B,r.pointShadow.length=j,r.pointShadowMap.length=j,r.spotShadow.length=q,r.spotShadowMap.length=q,r.directionalShadowMatrix.length=B,r.pointShadowMatrix.length=j,r.spotLightMatrix.length=q+ee-ce,r.spotLightMap.length=ee,r.numSpotLightShadowsWithMaps=ce,r.numLightProbes=z,Re.directionalLength=k,Re.pointLength=I,Re.spotLength=R,Re.rectAreaLength=U,Re.hemiLength=O,Re.numDirectionalShadows=B,Re.numPointShadows=j,Re.numSpotShadows=q,Re.numSpotMaps=ee,Re.numLightProbes=z,r.version=pU++)},setupView:function m(y,b){let w=0,S=0,A=0,k=0,I=0;const R=b.matrixWorldInverse;for(let U=0,O=y.length;U<O;U++){const B=y[U];if(B.isDirectionalLight){const j=r.directional[w];j.direction.setFromMatrixPosition(B.matrixWorld),s.setFromMatrixPosition(B.target.matrixWorld),j.direction.sub(s),j.direction.transformDirection(R),w++}else if(B.isSpotLight){const j=r.spot[A];j.position.setFromMatrixPosition(B.matrixWorld),j.position.applyMatrix4(R),j.direction.setFromMatrixPosition(B.matrixWorld),s.setFromMatrixPosition(B.target.matrixWorld),j.direction.sub(s),j.direction.transformDirection(R),A++}else if(B.isRectAreaLight){const j=r.rectArea[k];j.position.setFromMatrixPosition(B.matrixWorld),j.position.applyMatrix4(R),u.identity(),l.copy(B.matrixWorld),l.premultiply(R),u.extractRotation(l),j.halfWidth.set(.5*B.width,0,0),j.halfHeight.set(0,.5*B.height,0),j.halfWidth.applyMatrix4(u),j.halfHeight.applyMatrix4(u),k++}else if(B.isPointLight){const j=r.point[S];j.position.setFromMatrixPosition(B.matrixWorld),j.position.applyMatrix4(R),S++}else if(B.isHemisphereLight){const j=r.hemi[I];j.direction.setFromMatrixPosition(B.matrixWorld),j.direction.transformDirection(R),I++}}},state:r}}function jk(i,t){const e=new gU(i,t),n=[],r=[];return{init:function s(){n.length=0,r.length=0},state:{lightsArray:n,shadowsArray:r,lights:e},setupLights:function f(b){e.setup(n,b)},setupLightsView:function m(b){e.setupView(n,b)},pushLight:function l(b){n.push(b)},pushShadow:function u(b){r.push(b)}}}function $k(i,t){let e=new WeakMap;return{get:function n(s,l=0){const u=e.get(s);let f;return void 0===u?(f=new jk(i,t),e.set(s,[f])):l>=u.length?(f=new jk(i,t),u.push(f)):f=u[l],f},dispose:function r(){e=new WeakMap}}}class Yk extends X_{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class qk extends X_{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}function yU(i,t,e){let n=new DT;const r=new ft,s=new ft,l=new Ni,u=new Yk({depthPacking:3201}),f=new qk,m={},y=e.maxTextureSize,b={0:1,1:0,2:2},w=new Vu({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ft},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),S=w.clone();S.defines.HORIZONTAL_PASS=1;const A=new oi;A.setAttribute("position",new ds(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const k=new Eo(A,w),I=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=rm;let R=this.type;function U(j,q){const ee=t.update(k);w.defines.VSM_SAMPLES!==j.blurSamples&&(w.defines.VSM_SAMPLES=j.blurSamples,S.defines.VSM_SAMPLES=j.blurSamples,w.needsUpdate=!0,S.needsUpdate=!0),null===j.mapPass&&(j.mapPass=new wm(r.x,r.y)),w.uniforms.shadow_pass.value=j.map.texture,w.uniforms.resolution.value=j.mapSize,w.uniforms.radius.value=j.radius,i.setRenderTarget(j.mapPass),i.clear(),i.renderBufferDirect(q,null,ee,w,k,null),S.uniforms.shadow_pass.value=j.mapPass.texture,S.uniforms.resolution.value=j.mapSize,S.uniforms.radius.value=j.radius,i.setRenderTarget(j.map),i.clear(),i.renderBufferDirect(q,null,ee,S,k,null)}function O(j,q,ee,ce){let z=null;const K=!0===ee.isPointLight?j.customDistanceMaterial:j.customDepthMaterial;if(void 0!==K)z=K;else if(z=!0===ee.isPointLight?f:u,i.localClippingEnabled&&!0===q.clipShadows&&Array.isArray(q.clippingPlanes)&&0!==q.clippingPlanes.length||q.displacementMap&&0!==q.displacementScale||q.alphaMap&&q.alphaTest>0||q.map&&q.alphaTest>0){const Re=z.uuid,it=q.uuid;let pt=m[Re];void 0===pt&&(pt={},m[Re]=pt);let he=pt[it];void 0===he&&(he=z.clone(),pt[it]=he),z=he}return z.visible=q.visible,z.wireframe=q.wireframe,z.side=ce===yd?null!==q.shadowSide?q.shadowSide:q.side:null!==q.shadowSide?q.shadowSide:b[q.side],z.alphaMap=q.alphaMap,z.alphaTest=q.alphaTest,z.map=q.map,z.clipShadows=q.clipShadows,z.clippingPlanes=q.clippingPlanes,z.clipIntersection=q.clipIntersection,z.displacementMap=q.displacementMap,z.displacementScale=q.displacementScale,z.displacementBias=q.displacementBias,z.wireframeLinewidth=q.wireframeLinewidth,z.linewidth=q.linewidth,!0===ee.isPointLight&&!0===z.isMeshDistanceMaterial&&(i.properties.get(z).light=ee),z}function B(j,q,ee,ce,z){if(!1===j.visible)return;if(j.layers.test(q.layers)&&(j.isMesh||j.isLine||j.isPoints)&&(j.castShadow||j.receiveShadow&&z===yd)&&(!j.frustumCulled||n.intersectsObject(j))){j.modelViewMatrix.multiplyMatrices(ee.matrixWorldInverse,j.matrixWorld);const it=t.update(j),pt=j.material;if(Array.isArray(pt)){const he=it.groups;for(let Ve=0,be=he.length;Ve<be;Ve++){const Ce=he[Ve],He=pt[Ce.materialIndex];if(He&&He.visible){const Ue=O(j,He,ce,z);i.renderBufferDirect(ee,null,it,Ue,j,Ce)}}}else if(pt.visible){const he=O(j,pt,ce,z);i.renderBufferDirect(ee,null,it,he,j,null)}}const Re=j.children;for(let it=0,pt=Re.length;it<pt;it++)B(Re[it],q,ee,ce,z)}this.render=function(j,q,ee){if(!1===I.enabled||!1===I.autoUpdate&&!1===I.needsUpdate||0===j.length)return;const ce=i.getRenderTarget(),z=i.getActiveCubeFace(),K=i.getActiveMipmapLevel(),Re=i.state;Re.setBlending(0),Re.buffers.color.setClear(1,1,1,1),Re.buffers.depth.setTest(!0),Re.setScissorTest(!1);const it=R!==yd&&this.type===yd,pt=R===yd&&this.type!==yd;for(let he=0,Ve=j.length;he<Ve;he++){const be=j[he],Ce=be.shadow;if(void 0===Ce){console.warn("THREE.WebGLShadowMap:",be,"has no shadow.");continue}if(!1===Ce.autoUpdate&&!1===Ce.needsUpdate)continue;r.copy(Ce.mapSize);const He=Ce.getFrameExtents();if(r.multiply(He),s.copy(Ce.mapSize),(r.x>y||r.y>y)&&(r.x>y&&(s.x=Math.floor(y/He.x),r.x=s.x*He.x,Ce.mapSize.x=s.x),r.y>y&&(s.y=Math.floor(y/He.y),r.y=s.y*He.y,Ce.mapSize.y=s.y)),null===Ce.map||!0===it||!0===pt){const ot=this.type!==yd?{minFilter:Jr,magFilter:Jr}:{};null!==Ce.map&&Ce.map.dispose(),Ce.map=new wm(r.x,r.y,ot),Ce.map.texture.name=be.name+".shadowMap",Ce.camera.updateProjectionMatrix()}i.setRenderTarget(Ce.map),i.clear();const Ue=Ce.getViewportCount();for(let ot=0;ot<Ue;ot++){const pe=Ce.getViewport(ot);l.set(s.x*pe.x,s.y*pe.y,s.x*pe.z,s.y*pe.w),Re.viewport(l),Ce.updateMatrices(be,ot),n=Ce.getFrustum(),B(q,ee,Ce.camera,be,this.type)}!0!==Ce.isPointLightShadow&&this.type===yd&&U(Ce,ee),Ce.needsUpdate=!1}R=this.type,I.needsUpdate=!1,i.setRenderTarget(ce,z,K)}}function Zk(i,t,e){const n=e.isWebGL2,u=new function r(){let me=!1;const Yt=new Ni;let Ot=null;const rt=new Ni(0,0,0,0);return{setMask:function(Ut){Ot!==Ut&&!me&&(i.colorMask(Ut,Ut,Ut,Ut),Ot=Ut)},setLocked:function(Ut){me=Ut},setClear:function(Ut,Un,Fi,Ps,Mc){!0===Mc&&(Ut*=Ps,Un*=Ps,Fi*=Ps),Yt.set(Ut,Un,Fi,Ps),!1===rt.equals(Yt)&&(i.clearColor(Ut,Un,Fi,Ps),rt.copy(Yt))},reset:function(){me=!1,Ot=null,rt.set(-1,0,0,0)}}},f=new function s(){let me=!1,Yt=null,Ot=null,rt=null;return{setTest:function(Ut){Ut?bn(i.DEPTH_TEST):vi(i.DEPTH_TEST)},setMask:function(Ut){Yt!==Ut&&!me&&(i.depthMask(Ut),Yt=Ut)},setFunc:function(Ut){if(Ot!==Ut){switch(Ut){case 0:i.depthFunc(i.NEVER);break;case 1:i.depthFunc(i.ALWAYS);break;case 2:i.depthFunc(i.LESS);break;case 3:default:i.depthFunc(i.LEQUAL);break;case 4:i.depthFunc(i.EQUAL);break;case 5:i.depthFunc(i.GEQUAL);break;case 6:i.depthFunc(i.GREATER);break;case 7:i.depthFunc(i.NOTEQUAL)}Ot=Ut}},setLocked:function(Ut){me=Ut},setClear:function(Ut){rt!==Ut&&(i.clearDepth(Ut),rt=Ut)},reset:function(){me=!1,Yt=null,Ot=null,rt=null}}},m=new function l(){let me=!1,Yt=null,Ot=null,rt=null,Ut=null,Un=null,Fi=null,Ps=null,Mc=null;return{setTest:function(pr){me||(pr?bn(i.STENCIL_TEST):vi(i.STENCIL_TEST))},setMask:function(pr){Yt!==pr&&!me&&(i.stencilMask(pr),Yt=pr)},setFunc:function(pr,_a,Xu){(Ot!==pr||rt!==_a||Ut!==Xu)&&(i.stencilFunc(pr,_a,Xu),Ot=pr,rt=_a,Ut=Xu)},setOp:function(pr,_a,Xu){(Un!==pr||Fi!==_a||Ps!==Xu)&&(i.stencilOp(pr,_a,Xu),Un=pr,Fi=_a,Ps=Xu)},setLocked:function(pr){me=pr},setClear:function(pr){Mc!==pr&&(i.clearStencil(pr),Mc=pr)},reset:function(){me=!1,Yt=null,Ot=null,rt=null,Ut=null,Un=null,Fi=null,Ps=null,Mc=null}}},y=new WeakMap,b=new WeakMap;let w={},S={},A=new WeakMap,k=[],I=null,R=!1,U=null,O=null,B=null,j=null,q=null,ee=null,ce=null,z=new Zt(0,0,0),K=0,Re=!1,it=null,pt=null,he=null,Ve=null,be=null;const Ce=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let He=!1,Ue=0;const ot=i.getParameter(i.VERSION);-1!==ot.indexOf("WebGL")?(Ue=parseFloat(/^WebGL (\d)/.exec(ot)[1]),He=Ue>=1):-1!==ot.indexOf("OpenGL ES")&&(Ue=parseFloat(/^OpenGL ES (\d)/.exec(ot)[1]),He=Ue>=2);let pe=null,$e={};const Nt=i.getParameter(i.SCISSOR_BOX),xt=i.getParameter(i.VIEWPORT),Jt=(new Ni).fromArray(Nt),Nn=(new Ni).fromArray(xt);function rn(me,Yt,Ot,rt){const Ut=new Uint8Array(4),Un=i.createTexture();i.bindTexture(me,Un),i.texParameteri(me,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(me,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let Fi=0;Fi<Ot;Fi++)!n||me!==i.TEXTURE_3D&&me!==i.TEXTURE_2D_ARRAY?i.texImage2D(Yt+Fi,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,Ut):i.texImage3D(Yt,0,i.RGBA,1,1,rt,0,i.RGBA,i.UNSIGNED_BYTE,Ut);return Un}const yn={};function bn(me){!0!==w[me]&&(i.enable(me),w[me]=!0)}function vi(me){!1!==w[me]&&(i.disable(me),w[me]=!1)}yn[i.TEXTURE_2D]=rn(i.TEXTURE_2D,i.TEXTURE_2D,1),yn[i.TEXTURE_CUBE_MAP]=rn(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),n&&(yn[i.TEXTURE_2D_ARRAY]=rn(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),yn[i.TEXTURE_3D]=rn(i.TEXTURE_3D,i.TEXTURE_3D,1,1)),u.setClear(0,0,0,1),f.setClear(1),m.setClear(0),bn(i.DEPTH_TEST),f.setFunc(3),Xt(!1),un(1),bn(i.CULL_FACE),_t(0);const lt={100:i.FUNC_ADD,101:i.FUNC_SUBTRACT,102:i.FUNC_REVERSE_SUBTRACT};if(n)lt[103]=i.MIN,lt[104]=i.MAX;else{const me=t.get("EXT_blend_minmax");null!==me&&(lt[103]=me.MIN_EXT,lt[104]=me.MAX_EXT)}const St={200:i.ZERO,201:i.ONE,202:i.SRC_COLOR,204:i.SRC_ALPHA,210:i.SRC_ALPHA_SATURATE,208:i.DST_COLOR,206:i.DST_ALPHA,203:i.ONE_MINUS_SRC_COLOR,205:i.ONE_MINUS_SRC_ALPHA,209:i.ONE_MINUS_DST_COLOR,207:i.ONE_MINUS_DST_ALPHA,211:i.CONSTANT_COLOR,212:i.ONE_MINUS_CONSTANT_COLOR,213:i.CONSTANT_ALPHA,214:i.ONE_MINUS_CONSTANT_ALPHA};function _t(me,Yt,Ot,rt,Ut,Un,Fi,Ps,Mc,pr){if(0!==me){if(!1===R&&(bn(i.BLEND),R=!0),5===me)Ut=Ut||Yt,Un=Un||Ot,Fi=Fi||rt,(Yt!==O||Ut!==q)&&(i.blendEquationSeparate(lt[Yt],lt[Ut]),O=Yt,q=Ut),(Ot!==B||rt!==j||Un!==ee||Fi!==ce)&&(i.blendFuncSeparate(St[Ot],St[rt],St[Un],St[Fi]),B=Ot,j=rt,ee=Un,ce=Fi),(!1===Ps.equals(z)||Mc!==K)&&(i.blendColor(Ps.r,Ps.g,Ps.b,Mc),z.copy(Ps),K=Mc),U=me,Re=!1;else if(me!==U||pr!==Re){if((100!==O||100!==q)&&(i.blendEquation(i.FUNC_ADD),O=100,q=100),pr)switch(me){case 1:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case 2:i.blendFunc(i.ONE,i.ONE);break;case 3:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case 4:i.blendFuncSeparate(i.ZERO,i.SRC_COLOR,i.ZERO,i.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",me)}else switch(me){case 1:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case 2:i.blendFunc(i.SRC_ALPHA,i.ONE);break;case 3:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case 4:i.blendFunc(i.ZERO,i.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",me)}B=null,j=null,ee=null,ce=null,z.set(0,0,0),K=0,U=me,Re=pr}}else!0===R&&(vi(i.BLEND),R=!1)}function Xt(me){it!==me&&(i.frontFace(me?i.CW:i.CCW),it=me)}function un(me){0!==me?(bn(i.CULL_FACE),me!==pt&&i.cullFace(1===me?i.BACK:2===me?i.FRONT:i.FRONT_AND_BACK)):vi(i.CULL_FACE),pt=me}function xi(me,Yt,Ot){me?(bn(i.POLYGON_OFFSET_FILL),(Ve!==Yt||be!==Ot)&&(i.polygonOffset(Yt,Ot),Ve=Yt,be=Ot)):vi(i.POLYGON_OFFSET_FILL)}return{buffers:{color:u,depth:f,stencil:m},enable:bn,disable:vi,bindFramebuffer:function In(me,Yt){return S[me]!==Yt&&(i.bindFramebuffer(me,Yt),S[me]=Yt,n&&(me===i.DRAW_FRAMEBUFFER&&(S[i.FRAMEBUFFER]=Yt),me===i.FRAMEBUFFER&&(S[i.DRAW_FRAMEBUFFER]=Yt)),!0)},drawBuffers:function le(me,Yt){let Ot=k,rt=!1;if(me)if(Ot=A.get(Yt),void 0===Ot&&(Ot=[],A.set(Yt,Ot)),me.isWebGLMultipleRenderTargets){const Ut=me.texture;if(Ot.length!==Ut.length||Ot[0]!==i.COLOR_ATTACHMENT0){for(let Un=0,Fi=Ut.length;Un<Fi;Un++)Ot[Un]=i.COLOR_ATTACHMENT0+Un;Ot.length=Ut.length,rt=!0}}else Ot[0]!==i.COLOR_ATTACHMENT0&&(Ot[0]=i.COLOR_ATTACHMENT0,rt=!0);else Ot[0]!==i.BACK&&(Ot[0]=i.BACK,rt=!0);rt&&(e.isWebGL2?i.drawBuffers(Ot):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ot))},useProgram:function Ht(me){return I!==me&&(i.useProgram(me),I=me,!0)},setBlending:_t,setMaterial:function Sn(me,Yt){2===me.side?vi(i.CULL_FACE):bn(i.CULL_FACE);let Ot=1===me.side;Yt&&(Ot=!Ot),Xt(Ot),1===me.blending&&!1===me.transparent?_t(0):_t(me.blending,me.blendEquation,me.blendSrc,me.blendDst,me.blendEquationAlpha,me.blendSrcAlpha,me.blendDstAlpha,me.blendColor,me.blendAlpha,me.premultipliedAlpha),f.setFunc(me.depthFunc),f.setTest(me.depthTest),f.setMask(me.depthWrite),u.setMask(me.colorWrite);const rt=me.stencilWrite;m.setTest(rt),rt&&(m.setMask(me.stencilWriteMask),m.setFunc(me.stencilFunc,me.stencilRef,me.stencilFuncMask),m.setOp(me.stencilFail,me.stencilZFail,me.stencilZPass)),xi(me.polygonOffset,me.polygonOffsetFactor,me.polygonOffsetUnits),!0===me.alphaToCoverage?bn(i.SAMPLE_ALPHA_TO_COVERAGE):vi(i.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:Xt,setCullFace:un,setLineWidth:function Qn(me){me!==he&&(He&&i.lineWidth(me),he=me)},setPolygonOffset:xi,setScissorTest:function rs(me){me?bn(i.SCISSOR_TEST):vi(i.SCISSOR_TEST)},activeTexture:function ne(me){void 0===me&&(me=i.TEXTURE0+Ce-1),pe!==me&&(i.activeTexture(me),pe=me)},bindTexture:function G(me,Yt,Ot){void 0===Ot&&(Ot=null===pe?i.TEXTURE0+Ce-1:pe);let rt=$e[Ot];void 0===rt&&(rt={type:void 0,texture:void 0},$e[Ot]=rt),(rt.type!==me||rt.texture!==Yt)&&(pe!==Ot&&(i.activeTexture(Ot),pe=Ot),i.bindTexture(me,Yt||yn[me]),rt.type=me,rt.texture=Yt)},unbindTexture:function Fe(){const me=$e[pe];void 0!==me&&void 0!==me.type&&(i.bindTexture(me.type,null),me.type=void 0,me.texture=void 0)},compressedTexImage2D:function Tt(){try{i.compressedTexImage2D.apply(i,arguments)}catch(me){console.error("THREE.WebGLState:",me)}},compressedTexImage3D:function bt(){try{i.compressedTexImage3D.apply(i,arguments)}catch(me){console.error("THREE.WebGLState:",me)}},texImage2D:function Rt(){try{i.texImage2D.apply(i,arguments)}catch(me){console.error("THREE.WebGLState:",me)}},texImage3D:function Qi(){try{i.texImage3D.apply(i,arguments)}catch(me){console.error("THREE.WebGLState:",me)}},updateUBOMapping:function Ln(me,Yt){let Ot=b.get(Yt);void 0===Ot&&(Ot=new WeakMap,b.set(Yt,Ot));let rt=Ot.get(me);void 0===rt&&(rt=i.getUniformBlockIndex(Yt,me.name),Ot.set(me,rt))},uniformBlockBinding:function en(me,Yt){const rt=b.get(Yt).get(me);y.get(Yt)!==rt&&(i.uniformBlockBinding(Yt,rt,me.__bindingPointIndex),y.set(Yt,rt))},texStorage2D:function Yn(){try{i.texStorage2D.apply(i,arguments)}catch(me){console.error("THREE.WebGLState:",me)}},texStorage3D:function Li(){try{i.texStorage3D.apply(i,arguments)}catch(me){console.error("THREE.WebGLState:",me)}},texSubImage2D:function At(){try{i.texSubImage2D.apply(i,arguments)}catch(me){console.error("THREE.WebGLState:",me)}},texSubImage3D:function gn(){try{i.texSubImage3D.apply(i,arguments)}catch(me){console.error("THREE.WebGLState:",me)}},compressedTexSubImage2D:function Lt(){try{i.compressedTexSubImage2D.apply(i,arguments)}catch(me){console.error("THREE.WebGLState:",me)}},compressedTexSubImage3D:function $t(){try{i.compressedTexSubImage3D.apply(i,arguments)}catch(me){console.error("THREE.WebGLState:",me)}},scissor:function ii(me){!1===Jt.equals(me)&&(i.scissor(me.x,me.y,me.z,me.w),Jt.copy(me))},viewport:function qn(me){!1===Nn.equals(me)&&(i.viewport(me.x,me.y,me.z,me.w),Nn.copy(me))},reset:function Mi(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),!0===n&&(i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null)),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),w={},pe=null,$e={},S={},A=new WeakMap,k=[],I=null,R=!1,U=null,O=null,B=null,j=null,q=null,ee=null,ce=null,z=new Zt(0,0,0),K=0,Re=!1,it=null,pt=null,he=null,Ve=null,be=null,Jt.set(0,0,i.canvas.width,i.canvas.height),Nn.set(0,0,i.canvas.width,i.canvas.height),u.reset(),f.reset(),m.reset()}}}function bU(i,t,e,n,r,s,l){const u=r.isWebGL2,f=r.maxTextures,m=r.maxCubemapSize,y=r.maxTextureSize,b=r.maxSamples,w=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,S=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),A=new WeakMap;let k;const I=new WeakMap;let R=!1;try{R=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function U(ne,G){return R?new OffscreenCanvas(ne,G):bm("canvas")}function O(ne,G,Fe,Tt){let bt=1;if((ne.width>Tt||ne.height>Tt)&&(bt=Tt/Math.max(ne.width,ne.height)),bt<1||!0===G){if(typeof HTMLImageElement<"u"&&ne instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ne instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ne instanceof ImageBitmap){const At=G?Pb:Math.floor,gn=At(bt*ne.width),Lt=At(bt*ne.height);void 0===k&&(k=U(gn,Lt));const $t=Fe?U(gn,Lt):k;return $t.width=gn,$t.height=Lt,$t.getContext("2d").drawImage(ne,0,0,gn,Lt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ne.width+"x"+ne.height+") to ("+gn+"x"+Lt+")."),$t}return"data"in ne&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ne.width+"x"+ne.height+")."),ne}return ne}function B(ne){return kw(ne.width)&&kw(ne.height)}function q(ne,G){return ne.generateMipmaps&&G&&ne.minFilter!==Jr&&ne.minFilter!==Qr}function ee(ne){i.generateMipmap(ne)}function ce(ne,G,Fe,Tt,bt=!1){if(!1===u)return G;if(null!==ne){if(void 0!==i[ne])return i[ne];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ne+"'")}let At=G;if(G===i.RED&&(Fe===i.FLOAT&&(At=i.R32F),Fe===i.HALF_FLOAT&&(At=i.R16F),Fe===i.UNSIGNED_BYTE&&(At=i.R8)),G===i.RED_INTEGER&&(Fe===i.UNSIGNED_BYTE&&(At=i.R8UI),Fe===i.UNSIGNED_SHORT&&(At=i.R16UI),Fe===i.UNSIGNED_INT&&(At=i.R32UI),Fe===i.BYTE&&(At=i.R8I),Fe===i.SHORT&&(At=i.R16I),Fe===i.INT&&(At=i.R32I)),G===i.RG&&(Fe===i.FLOAT&&(At=i.RG32F),Fe===i.HALF_FLOAT&&(At=i.RG16F),Fe===i.UNSIGNED_BYTE&&(At=i.RG8)),G===i.RGBA){const gn=bt?Tb:Oi.getTransfer(Tt);Fe===i.FLOAT&&(At=i.RGBA32F),Fe===i.HALF_FLOAT&&(At=i.RGBA16F),Fe===i.UNSIGNED_BYTE&&(At=gn===nr?i.SRGB8_ALPHA8:i.RGBA8),Fe===i.UNSIGNED_SHORT_4_4_4_4&&(At=i.RGBA4),Fe===i.UNSIGNED_SHORT_5_5_5_1&&(At=i.RGB5_A1)}return(At===i.R16F||At===i.R32F||At===i.RG16F||At===i.RG32F||At===i.RGBA16F||At===i.RGBA32F)&&t.get("EXT_color_buffer_float"),At}function z(ne,G,Fe){return!0===q(ne,Fe)||ne.isFramebufferTexture&&ne.minFilter!==Jr&&ne.minFilter!==Qr?Math.log2(Math.max(G.width,G.height))+1:void 0!==ne.mipmaps&&ne.mipmaps.length>0?ne.mipmaps.length:ne.isCompressedTexture&&Array.isArray(ne.image)?G.mipmaps.length:1}function K(ne){return ne===Jr||1004===ne||1005===ne?i.NEAREST:i.LINEAR}function Re(ne){const G=ne.target;G.removeEventListener("dispose",Re),function pt(ne){const G=n.get(ne);if(void 0===G.__webglInit)return;const Fe=ne.source,Tt=I.get(Fe);if(Tt){const bt=Tt[G.__cacheKey];bt.usedTimes--,0===bt.usedTimes&&he(ne),0===Object.keys(Tt).length&&I.delete(Fe)}n.remove(ne)}(G),G.isVideoTexture&&A.delete(G)}function it(ne){const G=ne.target;G.removeEventListener("dispose",it),function Ve(ne){const G=ne.texture,Fe=n.get(ne),Tt=n.get(G);if(void 0!==Tt.__webglTexture&&(i.deleteTexture(Tt.__webglTexture),l.memory.textures--),ne.depthTexture&&ne.depthTexture.dispose(),ne.isWebGLCubeRenderTarget)for(let bt=0;bt<6;bt++){if(Array.isArray(Fe.__webglFramebuffer[bt]))for(let At=0;At<Fe.__webglFramebuffer[bt].length;At++)i.deleteFramebuffer(Fe.__webglFramebuffer[bt][At]);else i.deleteFramebuffer(Fe.__webglFramebuffer[bt]);Fe.__webglDepthbuffer&&i.deleteRenderbuffer(Fe.__webglDepthbuffer[bt])}else{if(Array.isArray(Fe.__webglFramebuffer))for(let bt=0;bt<Fe.__webglFramebuffer.length;bt++)i.deleteFramebuffer(Fe.__webglFramebuffer[bt]);else i.deleteFramebuffer(Fe.__webglFramebuffer);if(Fe.__webglDepthbuffer&&i.deleteRenderbuffer(Fe.__webglDepthbuffer),Fe.__webglMultisampledFramebuffer&&i.deleteFramebuffer(Fe.__webglMultisampledFramebuffer),Fe.__webglColorRenderbuffer)for(let bt=0;bt<Fe.__webglColorRenderbuffer.length;bt++)Fe.__webglColorRenderbuffer[bt]&&i.deleteRenderbuffer(Fe.__webglColorRenderbuffer[bt]);Fe.__webglDepthRenderbuffer&&i.deleteRenderbuffer(Fe.__webglDepthRenderbuffer)}if(ne.isWebGLMultipleRenderTargets)for(let bt=0,At=G.length;bt<At;bt++){const gn=n.get(G[bt]);gn.__webglTexture&&(i.deleteTexture(gn.__webglTexture),l.memory.textures--),n.remove(G[bt])}n.remove(G),n.remove(ne)}(G)}function he(ne){const G=n.get(ne);i.deleteTexture(G.__webglTexture),delete I.get(ne.source)[G.__cacheKey],l.memory.textures--}let be=0;function ot(ne,G){const Fe=n.get(ne);if(ne.isVideoTexture&&function xi(ne){const G=l.render.frame;A.get(ne)!==G&&(A.set(ne,G),ne.update())}(ne),!1===ne.isRenderTargetTexture&&ne.version>0&&Fe.__version!==ne.version){const Tt=ne.image;if(null===Tt)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Tt.complete)return void bn(Fe,ne,G);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}e.bindTexture(i.TEXTURE_2D,Fe.__webglTexture,i.TEXTURE0+G)}const xt={1e3:i.REPEAT,[Wo]:i.CLAMP_TO_EDGE,1002:i.MIRRORED_REPEAT},Jt={[Jr]:i.NEAREST,1004:i.NEAREST_MIPMAP_NEAREST,1005:i.NEAREST_MIPMAP_LINEAR,[Qr]:i.LINEAR,1007:i.LINEAR_MIPMAP_NEAREST,[Ed]:i.LINEAR_MIPMAP_LINEAR},Nn={512:i.NEVER,519:i.ALWAYS,513:i.LESS,515:i.LEQUAL,514:i.EQUAL,518:i.GEQUAL,516:i.GREATER,517:i.NOTEQUAL};function rn(ne,G,Fe){if(Fe?(i.texParameteri(ne,i.TEXTURE_WRAP_S,xt[G.wrapS]),i.texParameteri(ne,i.TEXTURE_WRAP_T,xt[G.wrapT]),(ne===i.TEXTURE_3D||ne===i.TEXTURE_2D_ARRAY)&&i.texParameteri(ne,i.TEXTURE_WRAP_R,xt[G.wrapR]),i.texParameteri(ne,i.TEXTURE_MAG_FILTER,Jt[G.magFilter]),i.texParameteri(ne,i.TEXTURE_MIN_FILTER,Jt[G.minFilter])):(i.texParameteri(ne,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(ne,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),(ne===i.TEXTURE_3D||ne===i.TEXTURE_2D_ARRAY)&&i.texParameteri(ne,i.TEXTURE_WRAP_R,i.CLAMP_TO_EDGE),(G.wrapS!==Wo||G.wrapT!==Wo)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),i.texParameteri(ne,i.TEXTURE_MAG_FILTER,K(G.magFilter)),i.texParameteri(ne,i.TEXTURE_MIN_FILTER,K(G.minFilter)),G.minFilter!==Jr&&G.minFilter!==Qr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),G.compareFunction&&(i.texParameteri(ne,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(ne,i.TEXTURE_COMPARE_FUNC,Nn[G.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){const Tt=t.get("EXT_texture_filter_anisotropic");if(G.magFilter===Jr||1005!==G.minFilter&&G.minFilter!==Ed||G.type===ca&&!1===t.has("OES_texture_float_linear")||!1===u&&G.type===P_&&!1===t.has("OES_texture_half_float_linear"))return;(G.anisotropy>1||n.get(G).__currentAnisotropy)&&(i.texParameterf(ne,Tt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(G.anisotropy,r.getMaxAnisotropy())),n.get(G).__currentAnisotropy=G.anisotropy)}}function yn(ne,G){let Fe=!1;void 0===ne.__webglInit&&(ne.__webglInit=!0,G.addEventListener("dispose",Re));const Tt=G.source;let bt=I.get(Tt);void 0===bt&&(bt={},I.set(Tt,bt));const At=function Ue(ne){const G=[];return G.push(ne.wrapS),G.push(ne.wrapT),G.push(ne.wrapR||0),G.push(ne.magFilter),G.push(ne.minFilter),G.push(ne.anisotropy),G.push(ne.internalFormat),G.push(ne.format),G.push(ne.type),G.push(ne.generateMipmaps),G.push(ne.premultiplyAlpha),G.push(ne.flipY),G.push(ne.unpackAlignment),G.push(ne.colorSpace),G.join()}(G);if(At!==ne.__cacheKey){void 0===bt[At]&&(bt[At]={texture:i.createTexture(),usedTimes:0},l.memory.textures++,Fe=!0),bt[At].usedTimes++;const gn=bt[ne.__cacheKey];void 0!==gn&&(bt[ne.__cacheKey].usedTimes--,0===gn.usedTimes&&he(G)),ne.__cacheKey=At,ne.__webglTexture=bt[At].texture}return Fe}function bn(ne,G,Fe){let Tt=i.TEXTURE_2D;(G.isDataArrayTexture||G.isCompressedArrayTexture)&&(Tt=i.TEXTURE_2D_ARRAY),G.isData3DTexture&&(Tt=i.TEXTURE_3D);const bt=yn(ne,G),At=G.source;e.bindTexture(Tt,ne.__webglTexture,i.TEXTURE0+Fe);const gn=n.get(At);if(At.version!==gn.__version||!0===bt){e.activeTexture(i.TEXTURE0+Fe);const Lt=Oi.getPrimaries(Oi.workingColorSpace),$t=""===G.colorSpace?null:Oi.getPrimaries(G.colorSpace),Yn=""===G.colorSpace||Lt===$t?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,G.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,G.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,Yn);const Li=function j(ne){return!u&&(ne.wrapS!==Wo||ne.wrapT!==Wo||ne.minFilter!==Jr&&ne.minFilter!==Qr)}(G)&&!1===B(G.image);let Rt=O(G.image,Li,!1,y);Rt=rs(G,Rt);const Qi=B(Rt)||u,ii=s.convert(G.format,G.colorSpace);let en,qn=s.convert(G.type),Ln=ce(G.internalFormat,ii,qn,G.colorSpace,G.isVideoTexture);rn(Tt,G,Qi);const Mi=G.mipmaps,me=u&&!0!==G.isVideoTexture,Yt=void 0===gn.__version||!0===bt,Ot=z(G,Rt,Qi);if(G.isDepthTexture)Ln=i.DEPTH_COMPONENT,u?Ln=G.type===ca?i.DEPTH_COMPONENT32F:G.type===Du?i.DEPTH_COMPONENT24:G.type===cf?i.DEPTH24_STENCIL8:i.DEPTH_COMPONENT16:G.type===ca&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),G.format===df&&Ln===i.DEPTH_COMPONENT&&1012!==G.type&&G.type!==Du&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),G.type=Du,qn=s.convert(G.type)),G.format===fm&&Ln===i.DEPTH_COMPONENT&&(Ln=i.DEPTH_STENCIL,G.type!==cf&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),G.type=cf,qn=s.convert(G.type))),Yt&&(me?e.texStorage2D(i.TEXTURE_2D,1,Ln,Rt.width,Rt.height):e.texImage2D(i.TEXTURE_2D,0,Ln,Rt.width,Rt.height,0,ii,qn,null));else if(G.isDataTexture)if(Mi.length>0&&Qi){me&&Yt&&e.texStorage2D(i.TEXTURE_2D,Ot,Ln,Mi[0].width,Mi[0].height);for(let rt=0,Ut=Mi.length;rt<Ut;rt++)en=Mi[rt],me?e.texSubImage2D(i.TEXTURE_2D,rt,0,0,en.width,en.height,ii,qn,en.data):e.texImage2D(i.TEXTURE_2D,rt,Ln,en.width,en.height,0,ii,qn,en.data);G.generateMipmaps=!1}else me?(Yt&&e.texStorage2D(i.TEXTURE_2D,Ot,Ln,Rt.width,Rt.height),e.texSubImage2D(i.TEXTURE_2D,0,0,0,Rt.width,Rt.height,ii,qn,Rt.data)):e.texImage2D(i.TEXTURE_2D,0,Ln,Rt.width,Rt.height,0,ii,qn,Rt.data);else if(G.isCompressedTexture)if(G.isCompressedArrayTexture){me&&Yt&&e.texStorage3D(i.TEXTURE_2D_ARRAY,Ot,Ln,Mi[0].width,Mi[0].height,Rt.depth);for(let rt=0,Ut=Mi.length;rt<Ut;rt++)en=Mi[rt],G.format!==xo?null!==ii?me?e.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,rt,0,0,0,en.width,en.height,Rt.depth,ii,en.data,0,0):e.compressedTexImage3D(i.TEXTURE_2D_ARRAY,rt,Ln,en.width,en.height,Rt.depth,0,en.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):me?e.texSubImage3D(i.TEXTURE_2D_ARRAY,rt,0,0,0,en.width,en.height,Rt.depth,ii,qn,en.data):e.texImage3D(i.TEXTURE_2D_ARRAY,rt,Ln,en.width,en.height,Rt.depth,0,ii,qn,en.data)}else{me&&Yt&&e.texStorage2D(i.TEXTURE_2D,Ot,Ln,Mi[0].width,Mi[0].height);for(let rt=0,Ut=Mi.length;rt<Ut;rt++)en=Mi[rt],G.format!==xo?null!==ii?me?e.compressedTexSubImage2D(i.TEXTURE_2D,rt,0,0,en.width,en.height,ii,en.data):e.compressedTexImage2D(i.TEXTURE_2D,rt,Ln,en.width,en.height,0,en.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):me?e.texSubImage2D(i.TEXTURE_2D,rt,0,0,en.width,en.height,ii,qn,en.data):e.texImage2D(i.TEXTURE_2D,rt,Ln,en.width,en.height,0,ii,qn,en.data)}else if(G.isDataArrayTexture)me?(Yt&&e.texStorage3D(i.TEXTURE_2D_ARRAY,Ot,Ln,Rt.width,Rt.height,Rt.depth),e.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,Rt.width,Rt.height,Rt.depth,ii,qn,Rt.data)):e.texImage3D(i.TEXTURE_2D_ARRAY,0,Ln,Rt.width,Rt.height,Rt.depth,0,ii,qn,Rt.data);else if(G.isData3DTexture)me?(Yt&&e.texStorage3D(i.TEXTURE_3D,Ot,Ln,Rt.width,Rt.height,Rt.depth),e.texSubImage3D(i.TEXTURE_3D,0,0,0,0,Rt.width,Rt.height,Rt.depth,ii,qn,Rt.data)):e.texImage3D(i.TEXTURE_3D,0,Ln,Rt.width,Rt.height,Rt.depth,0,ii,qn,Rt.data);else if(G.isFramebufferTexture){if(Yt)if(me)e.texStorage2D(i.TEXTURE_2D,Ot,Ln,Rt.width,Rt.height);else{let rt=Rt.width,Ut=Rt.height;for(let Un=0;Un<Ot;Un++)e.texImage2D(i.TEXTURE_2D,Un,Ln,rt,Ut,0,ii,qn,null),rt>>=1,Ut>>=1}}else if(Mi.length>0&&Qi){me&&Yt&&e.texStorage2D(i.TEXTURE_2D,Ot,Ln,Mi[0].width,Mi[0].height);for(let rt=0,Ut=Mi.length;rt<Ut;rt++)en=Mi[rt],me?e.texSubImage2D(i.TEXTURE_2D,rt,0,0,ii,qn,en):e.texImage2D(i.TEXTURE_2D,rt,Ln,ii,qn,en);G.generateMipmaps=!1}else me?(Yt&&e.texStorage2D(i.TEXTURE_2D,Ot,Ln,Rt.width,Rt.height),e.texSubImage2D(i.TEXTURE_2D,0,0,0,ii,qn,Rt)):e.texImage2D(i.TEXTURE_2D,0,Ln,ii,qn,Rt);q(G,Qi)&&ee(Tt),gn.__version=At.version,G.onUpdate&&G.onUpdate(G)}ne.__version=G.version}function In(ne,G,Fe,Tt,bt,At){const gn=s.convert(Fe.format,Fe.colorSpace),Lt=s.convert(Fe.type),$t=ce(Fe.internalFormat,gn,Lt,Fe.colorSpace);if(!n.get(G).__hasExternalTextures){const Li=Math.max(1,G.width>>At),Rt=Math.max(1,G.height>>At);bt===i.TEXTURE_3D||bt===i.TEXTURE_2D_ARRAY?e.texImage3D(bt,At,$t,Li,Rt,G.depth,0,gn,Lt,null):e.texImage2D(bt,At,$t,Li,Rt,0,gn,Lt,null)}e.bindFramebuffer(i.FRAMEBUFFER,ne),Qn(G)?w.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,Tt,bt,n.get(Fe).__webglTexture,0,un(G)):(bt===i.TEXTURE_2D||bt>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&bt<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,Tt,bt,n.get(Fe).__webglTexture,At),e.bindFramebuffer(i.FRAMEBUFFER,null)}function le(ne,G,Fe){if(i.bindRenderbuffer(i.RENDERBUFFER,ne),G.depthBuffer&&!G.stencilBuffer){let Tt=!0===u?i.DEPTH_COMPONENT24:i.DEPTH_COMPONENT16;if(Fe||Qn(G)){const bt=G.depthTexture;bt&&bt.isDepthTexture&&(bt.type===ca?Tt=i.DEPTH_COMPONENT32F:bt.type===Du&&(Tt=i.DEPTH_COMPONENT24));const At=un(G);Qn(G)?w.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,At,Tt,G.width,G.height):i.renderbufferStorageMultisample(i.RENDERBUFFER,At,Tt,G.width,G.height)}else i.renderbufferStorage(i.RENDERBUFFER,Tt,G.width,G.height);i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.RENDERBUFFER,ne)}else if(G.depthBuffer&&G.stencilBuffer){const Tt=un(G);Fe&&!1===Qn(G)?i.renderbufferStorageMultisample(i.RENDERBUFFER,Tt,i.DEPTH24_STENCIL8,G.width,G.height):Qn(G)?w.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Tt,i.DEPTH24_STENCIL8,G.width,G.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,G.width,G.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,ne)}else{const Tt=!0===G.isWebGLMultipleRenderTargets?G.texture:[G.texture];for(let bt=0;bt<Tt.length;bt++){const At=Tt[bt],gn=s.convert(At.format,At.colorSpace),Lt=s.convert(At.type),$t=ce(At.internalFormat,gn,Lt,At.colorSpace),Yn=un(G);Fe&&!1===Qn(G)?i.renderbufferStorageMultisample(i.RENDERBUFFER,Yn,$t,G.width,G.height):Qn(G)?w.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Yn,$t,G.width,G.height):i.renderbufferStorage(i.RENDERBUFFER,$t,G.width,G.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function lt(ne){const G=n.get(ne),Fe=!0===ne.isWebGLCubeRenderTarget;if(ne.depthTexture&&!G.__autoAllocateDepthBuffer){if(Fe)throw new Error("target.depthTexture not supported in Cube render targets");!function Ht(ne,G){if(G&&G.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(i.FRAMEBUFFER,ne),!G.depthTexture||!G.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(G.depthTexture).__webglTexture||G.depthTexture.image.width!==G.width||G.depthTexture.image.height!==G.height)&&(G.depthTexture.image.width=G.width,G.depthTexture.image.height=G.height,G.depthTexture.needsUpdate=!0),ot(G.depthTexture,0);const Tt=n.get(G.depthTexture).__webglTexture,bt=un(G);if(G.depthTexture.format===df)Qn(G)?w.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Tt,0,bt):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Tt,0);else{if(G.depthTexture.format!==fm)throw new Error("Unknown depthTexture format");Qn(G)?w.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Tt,0,bt):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Tt,0)}}(G.__webglFramebuffer,ne)}else if(Fe){G.__webglDepthbuffer=[];for(let Tt=0;Tt<6;Tt++)e.bindFramebuffer(i.FRAMEBUFFER,G.__webglFramebuffer[Tt]),G.__webglDepthbuffer[Tt]=i.createRenderbuffer(),le(G.__webglDepthbuffer[Tt],ne,!1)}else e.bindFramebuffer(i.FRAMEBUFFER,G.__webglFramebuffer),G.__webglDepthbuffer=i.createRenderbuffer(),le(G.__webglDepthbuffer,ne,!1);e.bindFramebuffer(i.FRAMEBUFFER,null)}function un(ne){return Math.min(b,ne.samples)}function Qn(ne){const G=n.get(ne);return u&&ne.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==G.__useRenderToTexture}function rs(ne,G){const Fe=ne.colorSpace,Tt=ne.format,bt=ne.type;return!0===ne.isCompressedTexture||!0===ne.isVideoTexture||1035===ne.format||Fe!==Rl&&""!==Fe&&(Oi.getTransfer(Fe)===nr?!1===u?!0===t.has("EXT_sRGB")&&Tt===xo?(ne.format=1035,ne.minFilter=Qr,ne.generateMipmaps=!1):G=hT.sRGBToLinear(G):(Tt!==xo||bt!==uc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Fe)),G}this.allocateTextureUnit=function He(){const ne=be;return ne>=f&&console.warn("THREE.WebGLTextures: Trying to use "+ne+" texture units while this GPU supports only "+f),be+=1,ne},this.resetTextureUnits=function Ce(){be=0},this.setTexture2D=ot,this.setTexture2DArray=function pe(ne,G){const Fe=n.get(ne);ne.version>0&&Fe.__version!==ne.version?bn(Fe,ne,G):e.bindTexture(i.TEXTURE_2D_ARRAY,Fe.__webglTexture,i.TEXTURE0+G)},this.setTexture3D=function $e(ne,G){const Fe=n.get(ne);ne.version>0&&Fe.__version!==ne.version?bn(Fe,ne,G):e.bindTexture(i.TEXTURE_3D,Fe.__webglTexture,i.TEXTURE0+G)},this.setTextureCube=function Nt(ne,G){const Fe=n.get(ne);ne.version>0&&Fe.__version!==ne.version?function vi(ne,G,Fe){if(6!==G.image.length)return;const Tt=yn(ne,G),bt=G.source;e.bindTexture(i.TEXTURE_CUBE_MAP,ne.__webglTexture,i.TEXTURE0+Fe);const At=n.get(bt);if(bt.version!==At.__version||!0===Tt){e.activeTexture(i.TEXTURE0+Fe);const gn=Oi.getPrimaries(Oi.workingColorSpace),Lt=""===G.colorSpace?null:Oi.getPrimaries(G.colorSpace),$t=""===G.colorSpace||gn===Lt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,G.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,G.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,$t);const Yn=G.isCompressedTexture||G.image[0].isCompressedTexture,Li=G.image[0]&&G.image[0].isDataTexture,Rt=[];for(let rt=0;rt<6;rt++)Rt[rt]=Yn||Li?Li?G.image[rt].image:G.image[rt]:O(G.image[rt],!1,!0,m),Rt[rt]=rs(G,Rt[rt]);const Qi=Rt[0],ii=B(Qi)||u,qn=s.convert(G.format,G.colorSpace),Ln=s.convert(G.type),en=ce(G.internalFormat,qn,Ln,G.colorSpace),Mi=u&&!0!==G.isVideoTexture,me=void 0===At.__version||!0===Tt;let Ot,Yt=z(G,Qi,ii);if(rn(i.TEXTURE_CUBE_MAP,G,ii),Yn){Mi&&me&&e.texStorage2D(i.TEXTURE_CUBE_MAP,Yt,en,Qi.width,Qi.height);for(let rt=0;rt<6;rt++){Ot=Rt[rt].mipmaps;for(let Ut=0;Ut<Ot.length;Ut++){const Un=Ot[Ut];G.format!==xo?null!==qn?Mi?e.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+rt,Ut,0,0,Un.width,Un.height,qn,Un.data):e.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+rt,Ut,en,Un.width,Un.height,0,Un.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Mi?e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+rt,Ut,0,0,Un.width,Un.height,qn,Ln,Un.data):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+rt,Ut,en,Un.width,Un.height,0,qn,Ln,Un.data)}}}else{Ot=G.mipmaps,Mi&&me&&(Ot.length>0&&Yt++,e.texStorage2D(i.TEXTURE_CUBE_MAP,Yt,en,Rt[0].width,Rt[0].height));for(let rt=0;rt<6;rt++)if(Li){Mi?e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+rt,0,0,0,Rt[rt].width,Rt[rt].height,qn,Ln,Rt[rt].data):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+rt,0,en,Rt[rt].width,Rt[rt].height,0,qn,Ln,Rt[rt].data);for(let Ut=0;Ut<Ot.length;Ut++){const Fi=Ot[Ut].image[rt].image;Mi?e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+rt,Ut+1,0,0,Fi.width,Fi.height,qn,Ln,Fi.data):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+rt,Ut+1,en,Fi.width,Fi.height,0,qn,Ln,Fi.data)}}else{Mi?e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+rt,0,0,0,qn,Ln,Rt[rt]):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+rt,0,en,qn,Ln,Rt[rt]);for(let Ut=0;Ut<Ot.length;Ut++){const Un=Ot[Ut];Mi?e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+rt,Ut+1,0,0,qn,Ln,Un.image[rt]):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+rt,Ut+1,en,qn,Ln,Un.image[rt])}}}q(G,ii)&&ee(i.TEXTURE_CUBE_MAP),At.__version=bt.version,G.onUpdate&&G.onUpdate(G)}ne.__version=G.version}(Fe,ne,G):e.bindTexture(i.TEXTURE_CUBE_MAP,Fe.__webglTexture,i.TEXTURE0+G)},this.rebindTextures=function St(ne,G,Fe){const Tt=n.get(ne);void 0!==G&&In(Tt.__webglFramebuffer,ne,ne.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),void 0!==Fe&&lt(ne)},this.setupRenderTarget=function _t(ne){const G=ne.texture,Fe=n.get(ne),Tt=n.get(G);ne.addEventListener("dispose",it),!0!==ne.isWebGLMultipleRenderTargets&&(void 0===Tt.__webglTexture&&(Tt.__webglTexture=i.createTexture()),Tt.__version=G.version,l.memory.textures++);const bt=!0===ne.isWebGLCubeRenderTarget,At=!0===ne.isWebGLMultipleRenderTargets,gn=B(ne)||u;if(bt){Fe.__webglFramebuffer=[];for(let Lt=0;Lt<6;Lt++)if(u&&G.mipmaps&&G.mipmaps.length>0){Fe.__webglFramebuffer[Lt]=[];for(let $t=0;$t<G.mipmaps.length;$t++)Fe.__webglFramebuffer[Lt][$t]=i.createFramebuffer()}else Fe.__webglFramebuffer[Lt]=i.createFramebuffer()}else{if(u&&G.mipmaps&&G.mipmaps.length>0){Fe.__webglFramebuffer=[];for(let Lt=0;Lt<G.mipmaps.length;Lt++)Fe.__webglFramebuffer[Lt]=i.createFramebuffer()}else Fe.__webglFramebuffer=i.createFramebuffer();if(At)if(r.drawBuffers){const Lt=ne.texture;for(let $t=0,Yn=Lt.length;$t<Yn;$t++){const Li=n.get(Lt[$t]);void 0===Li.__webglTexture&&(Li.__webglTexture=i.createTexture(),l.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(u&&ne.samples>0&&!1===Qn(ne)){const Lt=At?G:[G];Fe.__webglMultisampledFramebuffer=i.createFramebuffer(),Fe.__webglColorRenderbuffer=[],e.bindFramebuffer(i.FRAMEBUFFER,Fe.__webglMultisampledFramebuffer);for(let $t=0;$t<Lt.length;$t++){const Yn=Lt[$t];Fe.__webglColorRenderbuffer[$t]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,Fe.__webglColorRenderbuffer[$t]);const Li=s.convert(Yn.format,Yn.colorSpace),Rt=s.convert(Yn.type),Qi=ce(Yn.internalFormat,Li,Rt,Yn.colorSpace,!0===ne.isXRRenderTarget),ii=un(ne);i.renderbufferStorageMultisample(i.RENDERBUFFER,ii,Qi,ne.width,ne.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+$t,i.RENDERBUFFER,Fe.__webglColorRenderbuffer[$t])}i.bindRenderbuffer(i.RENDERBUFFER,null),ne.depthBuffer&&(Fe.__webglDepthRenderbuffer=i.createRenderbuffer(),le(Fe.__webglDepthRenderbuffer,ne,!0)),e.bindFramebuffer(i.FRAMEBUFFER,null)}}if(bt){e.bindTexture(i.TEXTURE_CUBE_MAP,Tt.__webglTexture),rn(i.TEXTURE_CUBE_MAP,G,gn);for(let Lt=0;Lt<6;Lt++)if(u&&G.mipmaps&&G.mipmaps.length>0)for(let $t=0;$t<G.mipmaps.length;$t++)In(Fe.__webglFramebuffer[Lt][$t],ne,G,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Lt,$t);else In(Fe.__webglFramebuffer[Lt],ne,G,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Lt,0);q(G,gn)&&ee(i.TEXTURE_CUBE_MAP),e.unbindTexture()}else if(At){const Lt=ne.texture;for(let $t=0,Yn=Lt.length;$t<Yn;$t++){const Li=Lt[$t],Rt=n.get(Li);e.bindTexture(i.TEXTURE_2D,Rt.__webglTexture),rn(i.TEXTURE_2D,Li,gn),In(Fe.__webglFramebuffer,ne,Li,i.COLOR_ATTACHMENT0+$t,i.TEXTURE_2D,0),q(Li,gn)&&ee(i.TEXTURE_2D)}e.unbindTexture()}else{let Lt=i.TEXTURE_2D;if((ne.isWebGL3DRenderTarget||ne.isWebGLArrayRenderTarget)&&(u?Lt=ne.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),e.bindTexture(Lt,Tt.__webglTexture),rn(Lt,G,gn),u&&G.mipmaps&&G.mipmaps.length>0)for(let $t=0;$t<G.mipmaps.length;$t++)In(Fe.__webglFramebuffer[$t],ne,G,i.COLOR_ATTACHMENT0,Lt,$t);else In(Fe.__webglFramebuffer,ne,G,i.COLOR_ATTACHMENT0,Lt,0);q(G,gn)&&ee(Lt),e.unbindTexture()}ne.depthBuffer&&lt(ne)},this.updateRenderTargetMipmap=function Sn(ne){const G=B(ne)||u,Fe=!0===ne.isWebGLMultipleRenderTargets?ne.texture:[ne.texture];for(let Tt=0,bt=Fe.length;Tt<bt;Tt++){const At=Fe[Tt];if(q(At,G)){const gn=ne.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:i.TEXTURE_2D,Lt=n.get(At).__webglTexture;e.bindTexture(gn,Lt),ee(gn),e.unbindTexture()}}},this.updateMultisampleRenderTarget=function Xt(ne){if(u&&ne.samples>0&&!1===Qn(ne)){const G=ne.isWebGLMultipleRenderTargets?ne.texture:[ne.texture],Fe=ne.width,Tt=ne.height;let bt=i.COLOR_BUFFER_BIT;const At=[],gn=ne.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Lt=n.get(ne),$t=!0===ne.isWebGLMultipleRenderTargets;if($t)for(let Yn=0;Yn<G.length;Yn++)e.bindFramebuffer(i.FRAMEBUFFER,Lt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Yn,i.RENDERBUFFER,null),e.bindFramebuffer(i.FRAMEBUFFER,Lt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+Yn,i.TEXTURE_2D,null,0);e.bindFramebuffer(i.READ_FRAMEBUFFER,Lt.__webglMultisampledFramebuffer),e.bindFramebuffer(i.DRAW_FRAMEBUFFER,Lt.__webglFramebuffer);for(let Yn=0;Yn<G.length;Yn++){At.push(i.COLOR_ATTACHMENT0+Yn),ne.depthBuffer&&At.push(gn);const Li=void 0!==Lt.__ignoreDepthValues&&Lt.__ignoreDepthValues;if(!1===Li&&(ne.depthBuffer&&(bt|=i.DEPTH_BUFFER_BIT),ne.stencilBuffer&&(bt|=i.STENCIL_BUFFER_BIT)),$t&&i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,Lt.__webglColorRenderbuffer[Yn]),!0===Li&&(i.invalidateFramebuffer(i.READ_FRAMEBUFFER,[gn]),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[gn])),$t){const Rt=n.get(G[Yn]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,Rt,0)}i.blitFramebuffer(0,0,Fe,Tt,0,0,Fe,Tt,bt,i.NEAREST),S&&i.invalidateFramebuffer(i.READ_FRAMEBUFFER,At)}if(e.bindFramebuffer(i.READ_FRAMEBUFFER,null),e.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),$t)for(let Yn=0;Yn<G.length;Yn++){e.bindFramebuffer(i.FRAMEBUFFER,Lt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Yn,i.RENDERBUFFER,Lt.__webglColorRenderbuffer[Yn]);const Li=n.get(G[Yn]).__webglTexture;e.bindFramebuffer(i.FRAMEBUFFER,Lt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+Yn,i.TEXTURE_2D,Li,0)}e.bindFramebuffer(i.DRAW_FRAMEBUFFER,Lt.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=lt,this.setupFrameBufferTexture=In,this.useMultisampledRTT=Qn}function o(i,t,e){const n=e.isWebGL2;return{convert:function r(s,l=""){let u;const f=Oi.getTransfer(l);if(s===uc)return i.UNSIGNED_BYTE;if(1017===s)return i.UNSIGNED_SHORT_4_4_4_4;if(1018===s)return i.UNSIGNED_SHORT_5_5_5_1;if(1010===s)return i.BYTE;if(1011===s)return i.SHORT;if(1012===s)return i.UNSIGNED_SHORT;if(1013===s)return i.INT;if(s===Du)return i.UNSIGNED_INT;if(s===ca)return i.FLOAT;if(s===P_)return n?i.HALF_FLOAT:(u=t.get("OES_texture_half_float"),null!==u?u.HALF_FLOAT_OES:null);if(1021===s)return i.ALPHA;if(s===xo)return i.RGBA;if(1024===s)return i.LUMINANCE;if(1025===s)return i.LUMINANCE_ALPHA;if(s===df)return i.DEPTH_COMPONENT;if(s===fm)return i.DEPTH_STENCIL;if(1035===s)return u=t.get("EXT_sRGB"),null!==u?u.SRGB_ALPHA_EXT:null;if(1028===s)return i.RED;if(1029===s)return i.RED_INTEGER;if(1030===s)return i.RG;if(1031===s)return i.RG_INTEGER;if(1033===s)return i.RGBA_INTEGER;if(33776===s||33777===s||33778===s||33779===s)if(f===nr){if(u=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===u)return null;if(33776===s)return u.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===s)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===s)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===s)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(u=t.get("WEBGL_compressed_texture_s3tc"),null===u)return null;if(33776===s)return u.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===s)return u.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===s)return u.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===s)return u.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===s||35841===s||35842===s||35843===s){if(u=t.get("WEBGL_compressed_texture_pvrtc"),null===u)return null;if(35840===s)return u.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===s)return u.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===s)return u.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===s)return u.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===s)return u=t.get("WEBGL_compressed_texture_etc1"),null!==u?u.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===s||37496===s){if(u=t.get("WEBGL_compressed_texture_etc"),null===u)return null;if(37492===s)return f===nr?u.COMPRESSED_SRGB8_ETC2:u.COMPRESSED_RGB8_ETC2;if(37496===s)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:u.COMPRESSED_RGBA8_ETC2_EAC}if(37808===s||37809===s||37810===s||37811===s||37812===s||37813===s||37814===s||37815===s||37816===s||37817===s||37818===s||37819===s||37820===s||37821===s){if(u=t.get("WEBGL_compressed_texture_astc"),null===u)return null;if(37808===s)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:u.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===s)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:u.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===s)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:u.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===s)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:u.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===s)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:u.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===s)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:u.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===s)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:u.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===s)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:u.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===s)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:u.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===s)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:u.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===s)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:u.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===s)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:u.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===s)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:u.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===s)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:u.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===s||36494===s||36495===s){if(u=t.get("EXT_texture_compression_bptc"),null===u)return null;if(36492===s)return f===nr?u.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:u.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===s)return u.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===s)return u.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===s||36284===s||36285===s||36286===s){if(u=t.get("EXT_texture_compression_rgtc"),null===u)return null;if(36492===s)return u.COMPRESSED_RED_RGTC1_EXT;if(36284===s)return u.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===s)return u.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===s)return u.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return s===cf?n?i.UNSIGNED_INT_24_8:(u=t.get("WEBGL_depth_texture"),null!==u?u.UNSIGNED_INT_24_8_WEBGL:null):void 0!==i[s]?i[s]:null}}}class a extends qs{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class d extends $a{constructor(){super(),this.isGroup=!0,this.type="Group"}}const h={type:"move"};class p{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new d,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new d,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Q,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Q),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new d,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Q,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Q),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const n of t.hand.values())this._getHandJoint(e,n)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,n){let r=null,s=null,l=null;const u=this._targetRay,f=this._grip,m=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState){if(m&&t.hand){l=!0;for(const k of t.hand.values()){const I=e.getJointPose(k,n),R=this._getHandJoint(m,k);null!==I&&(R.matrix.fromArray(I.transform.matrix),R.matrix.decompose(R.position,R.rotation,R.scale),R.matrixWorldNeedsUpdate=!0,R.jointRadius=I.radius),R.visible=null!==I}const w=m.joints["index-finger-tip"].position.distanceTo(m.joints["thumb-tip"].position),S=.02,A=.005;m.inputState.pinching&&w>S+A?(m.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!m.inputState.pinching&&w<=S-A&&(m.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==f&&t.gripSpace&&(s=e.getPose(t.gripSpace,n),null!==s&&(f.matrix.fromArray(s.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,s.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(s.linearVelocity)):f.hasLinearVelocity=!1,s.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(s.angularVelocity)):f.hasAngularVelocity=!1));null!==u&&(r=e.getPose(t.targetRaySpace,n),null===r&&null!==s&&(r=s),null!==r&&(u.matrix.fromArray(r.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,r.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(r.linearVelocity)):u.hasLinearVelocity=!1,r.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(r.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(h)))}return null!==u&&(u.visible=null!==r),null!==f&&(f.visible=null!==s),null!==m&&(m.visible=null!==l),this}_getHandJoint(t,e){if(void 0===t.joints[e.jointName]){const n=new d;n.matrixAutoUpdate=!1,n.visible=!1,t.joints[e.jointName]=n,t.add(n)}return t.joints[e.jointName]}}class _ extends gf{constructor(t,e,n,r,s,l,u,f,m,y){if((y=void 0!==y?y:df)!==df&&y!==fm)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&y===df&&(n=Du),void 0===n&&y===fm&&(n=cf),super(null,r,s,l,u,f,y,n,m),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=void 0!==u?u:Jr,this.minFilter=void 0!==f?f:Jr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return null!==this.compareFunction&&(e.compareFunction=this.compareFunction),e}}class x extends mm{constructor(t,e){super();const n=this;let r=null,s=1,l=null,u="local-floor",f=1,m=null,y=null,b=null,w=null,S=null,A=null;const k=e.getContextAttributes();let I=null,R=null;const U=[],O=[],B=new qs;B.layers.enable(1),B.viewport=new Ni;const j=new qs;j.layers.enable(2),j.viewport=new Ni;const q=[B,j],ee=new a;ee.layers.enable(1),ee.layers.enable(2);let ce=null,z=null;function K(pe){const $e=O.indexOf(pe.inputSource);if(-1===$e)return;const Nt=U[$e];void 0!==Nt&&(Nt.update(pe.inputSource,pe.frame,m||l),Nt.dispatchEvent({type:pe.type,data:pe.inputSource}))}function Re(){r.removeEventListener("select",K),r.removeEventListener("selectstart",K),r.removeEventListener("selectend",K),r.removeEventListener("squeeze",K),r.removeEventListener("squeezestart",K),r.removeEventListener("squeezeend",K),r.removeEventListener("end",Re),r.removeEventListener("inputsourceschange",it);for(let pe=0;pe<U.length;pe++){const $e=O[pe];null!==$e&&(O[pe]=null,U[pe].disconnect($e))}ce=null,z=null,t.setRenderTarget(I),S=null,w=null,b=null,r=null,R=null,ot.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function it(pe){for(let $e=0;$e<pe.removed.length;$e++){const Nt=pe.removed[$e],xt=O.indexOf(Nt);xt>=0&&(O[xt]=null,U[xt].disconnect(Nt))}for(let $e=0;$e<pe.added.length;$e++){const Nt=pe.added[$e];let xt=O.indexOf(Nt);if(-1===xt){for(let Nn=0;Nn<U.length;Nn++){if(Nn>=O.length){O.push(Nt),xt=Nn;break}if(null===O[Nn]){O[Nn]=Nt,xt=Nn;break}}if(-1===xt)break}const Jt=U[xt];Jt&&Jt.connect(Nt)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(pe){let $e=U[pe];return void 0===$e&&($e=new p,U[pe]=$e),$e.getTargetRaySpace()},this.getControllerGrip=function(pe){let $e=U[pe];return void 0===$e&&($e=new p,U[pe]=$e),$e.getGripSpace()},this.getHand=function(pe){let $e=U[pe];return void 0===$e&&($e=new p,U[pe]=$e),$e.getHandSpace()},this.setFramebufferScaleFactor=function(pe){s=pe,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(pe){u=pe,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return m||l},this.setReferenceSpace=function(pe){m=pe},this.getBaseLayer=function(){return null!==w?w:S},this.getBinding=function(){return b},this.getFrame=function(){return A},this.getSession=function(){return r},this.setSession=function(){var pe=(0,vd.Z)(function*($e){if(r=$e,null!==r){if(I=t.getRenderTarget(),r.addEventListener("select",K),r.addEventListener("selectstart",K),r.addEventListener("selectend",K),r.addEventListener("squeeze",K),r.addEventListener("squeezestart",K),r.addEventListener("squeezeend",K),r.addEventListener("end",Re),r.addEventListener("inputsourceschange",it),!0!==k.xrCompatible&&(yield e.makeXRCompatible()),void 0===r.renderState.layers||!1===t.capabilities.isWebGL2)S=new XRWebGLLayer(r,e,{antialias:void 0!==r.renderState.layers||k.antialias,alpha:!0,depth:k.depth,stencil:k.stencil,framebufferScaleFactor:s}),r.updateRenderState({baseLayer:S}),R=new wm(S.framebufferWidth,S.framebufferHeight,{format:xo,type:uc,colorSpace:t.outputColorSpace,stencilBuffer:k.stencil});else{let Nt=null,xt=null,Jt=null;k.depth&&(Jt=k.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,Nt=k.stencil?fm:df,xt=k.stencil?cf:Du);const Nn={colorFormat:e.RGBA8,depthFormat:Jt,scaleFactor:s};b=new XRWebGLBinding(r,e),w=b.createProjectionLayer(Nn),r.updateRenderState({layers:[w]}),R=new wm(w.textureWidth,w.textureHeight,{format:xo,type:uc,depthTexture:new _(w.textureWidth,w.textureHeight,xt,void 0,void 0,void 0,void 0,void 0,void 0,Nt),stencilBuffer:k.stencil,colorSpace:t.outputColorSpace,samples:k.antialias?4:0}),t.properties.get(R).__ignoreDepthValues=w.ignoreDepthValues}R.isXRRenderTarget=!0,this.setFoveation(f),m=null,l=yield r.requestReferenceSpace(u),ot.setContext(r),ot.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}});return function($e){return pe.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};const pt=new Q,he=new Q;function be(pe,$e){null===$e?pe.matrixWorld.copy(pe.matrix):pe.matrixWorld.multiplyMatrices($e.matrixWorld,pe.matrix),pe.matrixWorldInverse.copy(pe.matrixWorld).invert()}this.updateCamera=function(pe){if(null===r)return;ee.near=j.near=B.near=pe.near,ee.far=j.far=B.far=pe.far,(ce!==ee.near||z!==ee.far)&&(r.updateRenderState({depthNear:ee.near,depthFar:ee.far}),ce=ee.near,z=ee.far);const $e=pe.parent,Nt=ee.cameras;be(ee,$e);for(let xt=0;xt<Nt.length;xt++)be(Nt[xt],$e);2===Nt.length?function Ve(pe,$e,Nt){pt.setFromMatrixPosition($e.matrixWorld),he.setFromMatrixPosition(Nt.matrixWorld);const xt=pt.distanceTo(he),Jt=$e.projectionMatrix.elements,Nn=Nt.projectionMatrix.elements,rn=Jt[14]/(Jt[10]-1),yn=Jt[14]/(Jt[10]+1),bn=(Jt[9]+1)/Jt[5],vi=(Jt[9]-1)/Jt[5],In=(Jt[8]-1)/Jt[0],le=(Nn[8]+1)/Nn[0],Ht=rn*In,lt=rn*le,St=xt/(-In+le),_t=St*-In;$e.matrixWorld.decompose(pe.position,pe.quaternion,pe.scale),pe.translateX(_t),pe.translateZ(St),pe.matrixWorld.compose(pe.position,pe.quaternion,pe.scale),pe.matrixWorldInverse.copy(pe.matrixWorld).invert();const Sn=rn+St,Xt=yn+St;pe.projectionMatrix.makePerspective(Ht-_t,lt+(xt-_t),bn*yn/Xt*Sn,vi*yn/Xt*Sn,Sn,Xt),pe.projectionMatrixInverse.copy(pe.projectionMatrix).invert()}(ee,B,j):ee.projectionMatrix.copy(B.projectionMatrix),function Ce(pe,$e,Nt){null===Nt?pe.matrix.copy($e.matrixWorld):(pe.matrix.copy(Nt.matrixWorld),pe.matrix.invert(),pe.matrix.multiply($e.matrixWorld)),pe.matrix.decompose(pe.position,pe.quaternion,pe.scale),pe.updateMatrixWorld(!0),pe.projectionMatrix.copy($e.projectionMatrix),pe.projectionMatrixInverse.copy($e.projectionMatrixInverse),pe.isPerspectiveCamera&&(pe.fov=2*gm*Math.atan(1/pe.projectionMatrix.elements[5]),pe.zoom=1)}(pe,ee,$e)},this.getCamera=function(){return ee},this.getFoveation=function(){if(null!==w||null!==S)return f},this.setFoveation=function(pe){f=pe,null!==w&&(w.fixedFoveation=pe),null!==S&&void 0!==S.fixedFoveation&&(S.fixedFoveation=pe)};let He=null;const ot=new IT;ot.setAnimationLoop(function Ue(pe,$e){if(y=$e.getViewerPose(m||l),A=$e,null!==y){const Nt=y.views;null!==S&&(t.setRenderTargetFramebuffer(R,S.framebuffer),t.setRenderTarget(R));let xt=!1;Nt.length!==ee.cameras.length&&(ee.cameras.length=0,xt=!0);for(let Jt=0;Jt<Nt.length;Jt++){const Nn=Nt[Jt];let rn=null;if(null!==S)rn=S.getViewport(Nn);else{const bn=b.getViewSubImage(w,Nn);rn=bn.viewport,0===Jt&&(t.setRenderTargetTextures(R,bn.colorTexture,w.ignoreDepthValues?void 0:bn.depthStencilTexture),t.setRenderTarget(R))}let yn=q[Jt];void 0===yn&&(yn=new qs,yn.layers.enable(Jt),yn.viewport=new Ni,q[Jt]=yn),yn.matrix.fromArray(Nn.transform.matrix),yn.matrix.decompose(yn.position,yn.quaternion,yn.scale),yn.projectionMatrix.fromArray(Nn.projectionMatrix),yn.projectionMatrixInverse.copy(yn.projectionMatrix).invert(),yn.viewport.set(rn.x,rn.y,rn.width,rn.height),0===Jt&&(ee.matrix.copy(yn.matrix),ee.matrix.decompose(ee.position,ee.quaternion,ee.scale)),!0===xt&&ee.cameras.push(yn)}}for(let Nt=0;Nt<U.length;Nt++){const xt=O[Nt],Jt=U[Nt];null!==xt&&void 0!==Jt&&Jt.update(xt,$e,m||l)}He&&He(pe,$e),$e.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:$e}),A=null}),this.setAnimationLoop=function(pe){He=pe},this.dispose=function(){}}}function M(i,t){function e(I,R){!0===I.matrixAutoUpdate&&I.updateMatrix(),R.value.copy(I.matrix)}function s(I,R){I.opacity.value=R.opacity,R.color&&I.diffuse.value.copy(R.color),R.emissive&&I.emissive.value.copy(R.emissive).multiplyScalar(R.emissiveIntensity),R.map&&(I.map.value=R.map,e(R.map,I.mapTransform)),R.alphaMap&&(I.alphaMap.value=R.alphaMap,e(R.alphaMap,I.alphaMapTransform)),R.bumpMap&&(I.bumpMap.value=R.bumpMap,e(R.bumpMap,I.bumpMapTransform),I.bumpScale.value=R.bumpScale,1===R.side&&(I.bumpScale.value*=-1)),R.normalMap&&(I.normalMap.value=R.normalMap,e(R.normalMap,I.normalMapTransform),I.normalScale.value.copy(R.normalScale),1===R.side&&I.normalScale.value.negate()),R.displacementMap&&(I.displacementMap.value=R.displacementMap,e(R.displacementMap,I.displacementMapTransform),I.displacementScale.value=R.displacementScale,I.displacementBias.value=R.displacementBias),R.emissiveMap&&(I.emissiveMap.value=R.emissiveMap,e(R.emissiveMap,I.emissiveMapTransform)),R.specularMap&&(I.specularMap.value=R.specularMap,e(R.specularMap,I.specularMapTransform)),R.alphaTest>0&&(I.alphaTest.value=R.alphaTest);const U=t.get(R).envMap;if(U&&(I.envMap.value=U,I.flipEnvMap.value=U.isCubeTexture&&!1===U.isRenderTargetTexture?-1:1,I.reflectivity.value=R.reflectivity,I.ior.value=R.ior,I.refractionRatio.value=R.refractionRatio),R.lightMap){I.lightMap.value=R.lightMap;const O=!0===i._useLegacyLights?Math.PI:1;I.lightMapIntensity.value=R.lightMapIntensity*O,e(R.lightMap,I.lightMapTransform)}R.aoMap&&(I.aoMap.value=R.aoMap,I.aoMapIntensity.value=R.aoMapIntensity,e(R.aoMap,I.aoMapTransform))}return{refreshFogUniforms:function n(I,R){R.color.getRGB(I.fogColor.value,ST(i)),R.isFog?(I.fogNear.value=R.near,I.fogFar.value=R.far):R.isFogExp2&&(I.fogDensity.value=R.density)},refreshMaterialUniforms:function r(I,R,U,O,B){R.isMeshBasicMaterial||R.isMeshLambertMaterial?s(I,R):R.isMeshToonMaterial?(s(I,R),function b(I,R){R.gradientMap&&(I.gradientMap.value=R.gradientMap)}(I,R)):R.isMeshPhongMaterial?(s(I,R),function y(I,R){I.specular.value.copy(R.specular),I.shininess.value=Math.max(R.shininess,1e-4)}(I,R)):R.isMeshStandardMaterial?(s(I,R),function w(I,R){I.metalness.value=R.metalness,R.metalnessMap&&(I.metalnessMap.value=R.metalnessMap,e(R.metalnessMap,I.metalnessMapTransform)),I.roughness.value=R.roughness,R.roughnessMap&&(I.roughnessMap.value=R.roughnessMap,e(R.roughnessMap,I.roughnessMapTransform)),t.get(R).envMap&&(I.envMapIntensity.value=R.envMapIntensity)}(I,R),R.isMeshPhysicalMaterial&&function S(I,R,U){I.ior.value=R.ior,R.sheen>0&&(I.sheenColor.value.copy(R.sheenColor).multiplyScalar(R.sheen),I.sheenRoughness.value=R.sheenRoughness,R.sheenColorMap&&(I.sheenColorMap.value=R.sheenColorMap,e(R.sheenColorMap,I.sheenColorMapTransform)),R.sheenRoughnessMap&&(I.sheenRoughnessMap.value=R.sheenRoughnessMap,e(R.sheenRoughnessMap,I.sheenRoughnessMapTransform))),R.clearcoat>0&&(I.clearcoat.value=R.clearcoat,I.clearcoatRoughness.value=R.clearcoatRoughness,R.clearcoatMap&&(I.clearcoatMap.value=R.clearcoatMap,e(R.clearcoatMap,I.clearcoatMapTransform)),R.clearcoatRoughnessMap&&(I.clearcoatRoughnessMap.value=R.clearcoatRoughnessMap,e(R.clearcoatRoughnessMap,I.clearcoatRoughnessMapTransform)),R.clearcoatNormalMap&&(I.clearcoatNormalMap.value=R.clearcoatNormalMap,e(R.clearcoatNormalMap,I.clearcoatNormalMapTransform),I.clearcoatNormalScale.value.copy(R.clearcoatNormalScale),1===R.side&&I.clearcoatNormalScale.value.negate())),R.iridescence>0&&(I.iridescence.value=R.iridescence,I.iridescenceIOR.value=R.iridescenceIOR,I.iridescenceThicknessMinimum.value=R.iridescenceThicknessRange[0],I.iridescenceThicknessMaximum.value=R.iridescenceThicknessRange[1],R.iridescenceMap&&(I.iridescenceMap.value=R.iridescenceMap,e(R.iridescenceMap,I.iridescenceMapTransform)),R.iridescenceThicknessMap&&(I.iridescenceThicknessMap.value=R.iridescenceThicknessMap,e(R.iridescenceThicknessMap,I.iridescenceThicknessMapTransform))),R.transmission>0&&(I.transmission.value=R.transmission,I.transmissionSamplerMap.value=U.texture,I.transmissionSamplerSize.value.set(U.width,U.height),R.transmissionMap&&(I.transmissionMap.value=R.transmissionMap,e(R.transmissionMap,I.transmissionMapTransform)),I.thickness.value=R.thickness,R.thicknessMap&&(I.thicknessMap.value=R.thicknessMap,e(R.thicknessMap,I.thicknessMapTransform)),I.attenuationDistance.value=R.attenuationDistance,I.attenuationColor.value.copy(R.attenuationColor)),R.anisotropy>0&&(I.anisotropyVector.value.set(R.anisotropy*Math.cos(R.anisotropyRotation),R.anisotropy*Math.sin(R.anisotropyRotation)),R.anisotropyMap&&(I.anisotropyMap.value=R.anisotropyMap,e(R.anisotropyMap,I.anisotropyMapTransform))),I.specularIntensity.value=R.specularIntensity,I.specularColor.value.copy(R.specularColor),R.specularColorMap&&(I.specularColorMap.value=R.specularColorMap,e(R.specularColorMap,I.specularColorMapTransform)),R.specularIntensityMap&&(I.specularIntensityMap.value=R.specularIntensityMap,e(R.specularIntensityMap,I.specularIntensityMapTransform))}(I,R,B)):R.isMeshMatcapMaterial?(s(I,R),function A(I,R){R.matcap&&(I.matcap.value=R.matcap)}(I,R)):R.isMeshDepthMaterial?s(I,R):R.isMeshDistanceMaterial?(s(I,R),function k(I,R){const U=t.get(R).light;I.referencePosition.value.setFromMatrixPosition(U.matrixWorld),I.nearDistance.value=U.shadow.camera.near,I.farDistance.value=U.shadow.camera.far}(I,R)):R.isMeshNormalMaterial?s(I,R):R.isLineBasicMaterial?(function l(I,R){I.diffuse.value.copy(R.color),I.opacity.value=R.opacity,R.map&&(I.map.value=R.map,e(R.map,I.mapTransform))}(I,R),R.isLineDashedMaterial&&function u(I,R){I.dashSize.value=R.dashSize,I.totalSize.value=R.dashSize+R.gapSize,I.scale.value=R.scale}(I,R)):R.isPointsMaterial?function f(I,R,U,O){I.diffuse.value.copy(R.color),I.opacity.value=R.opacity,I.size.value=R.size*U,I.scale.value=.5*O,R.map&&(I.map.value=R.map,e(R.map,I.uvTransform)),R.alphaMap&&(I.alphaMap.value=R.alphaMap,e(R.alphaMap,I.alphaMapTransform)),R.alphaTest>0&&(I.alphaTest.value=R.alphaTest)}(I,R,U,O):R.isSpriteMaterial?function m(I,R){I.diffuse.value.copy(R.color),I.opacity.value=R.opacity,I.rotation.value=R.rotation,R.map&&(I.map.value=R.map,e(R.map,I.mapTransform)),R.alphaMap&&(I.alphaMap.value=R.alphaMap,e(R.alphaMap,I.alphaMapTransform)),R.alphaTest>0&&(I.alphaTest.value=R.alphaTest)}(I,R):R.isShadowMaterial?(I.color.value.copy(R.color),I.opacity.value=R.opacity):R.isShaderMaterial&&(R.uniformsNeedUpdate=!1)}}}function D(i,t,e,n){let r={},s={},l=[];const u=e.isWebGL2?i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS):0;function S(U,O,B){const j=U.value;if(void 0===B[O]){if("number"==typeof j)B[O]=j;else{const q=Array.isArray(j)?j:[j],ee=[];for(let ce=0;ce<q.length;ce++)ee.push(q[ce].clone());B[O]=ee}return!0}if("number"==typeof j){if(B[O]!==j)return B[O]=j,!0}else{const q=Array.isArray(B[O])?B[O]:[B[O]],ee=Array.isArray(j)?j:[j];for(let ce=0;ce<q.length;ce++){const z=q[ce];if(!1===z.equals(ee[ce]))return z.copy(ee[ce]),!0}}return!1}function k(U){const O={boundary:0,storage:0};return"number"==typeof U?(O.boundary=4,O.storage=4):U.isVector2?(O.boundary=8,O.storage=8):U.isVector3||U.isColor?(O.boundary=16,O.storage=12):U.isVector4?(O.boundary=16,O.storage=16):U.isMatrix3?(O.boundary=48,O.storage=48):U.isMatrix4?(O.boundary=64,O.storage=64):U.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",U),O}function I(U){const O=U.target;O.removeEventListener("dispose",I);const B=l.indexOf(O.__bindingPointIndex);l.splice(B,1),i.deleteBuffer(r[O.id]),delete r[O.id],delete s[O.id]}return{bind:function f(U,O){n.uniformBlockBinding(U,O.program)},update:function m(U,O){let B=r[U.id];void 0===B&&(function A(U){const O=U.uniforms;let B=0;let q=0;for(let ee=0,ce=O.length;ee<ce;ee++){const z=O[ee],K={boundary:0,storage:0},Re=Array.isArray(z.value)?z.value:[z.value];for(let it=0,pt=Re.length;it<pt;it++){const Ve=k(Re[it]);K.boundary+=Ve.boundary,K.storage+=Ve.storage}z.__data=new Float32Array(K.storage/Float32Array.BYTES_PER_ELEMENT),z.__offset=B,ee>0&&(q=B%16,0!==q&&16-q-K.boundary<0&&(B+=16-q,z.__offset=B)),B+=K.storage}q=B%16,q>0&&(B+=16-q),U.__size=B,U.__cache={}}(U),B=function y(U){const O=function b(){for(let U=0;U<u;U++)if(-1===l.indexOf(U))return l.push(U),U;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();U.__bindingPointIndex=O;const B=i.createBuffer(),j=U.__size,q=U.usage;return i.bindBuffer(i.UNIFORM_BUFFER,B),i.bufferData(i.UNIFORM_BUFFER,j,q),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,O,B),B}(U),r[U.id]=B,U.addEventListener("dispose",I)),n.updateUBOMapping(U,O.program);const q=t.render.frame;s[U.id]!==q&&(function w(U){const B=U.uniforms,j=U.__cache;i.bindBuffer(i.UNIFORM_BUFFER,r[U.id]);for(let q=0,ee=B.length;q<ee;q++){const ce=B[q];if(!0===S(ce,q,j)){const z=ce.__offset,K=Array.isArray(ce.value)?ce.value:[ce.value];let Re=0;for(let it=0;it<K.length;it++){const pt=K[it],he=k(pt);"number"==typeof pt?(ce.__data[0]=pt,i.bufferSubData(i.UNIFORM_BUFFER,z+Re,ce.__data)):pt.isMatrix3?(ce.__data[0]=pt.elements[0],ce.__data[1]=pt.elements[1],ce.__data[2]=pt.elements[2],ce.__data[3]=pt.elements[0],ce.__data[4]=pt.elements[3],ce.__data[5]=pt.elements[4],ce.__data[6]=pt.elements[5],ce.__data[7]=pt.elements[0],ce.__data[8]=pt.elements[6],ce.__data[9]=pt.elements[7],ce.__data[10]=pt.elements[8],ce.__data[11]=pt.elements[0]):(pt.toArray(ce.__data,Re),Re+=he.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,z,ce.__data)}}i.bindBuffer(i.UNIFORM_BUFFER,null)}(U),s[U.id]=q)},dispose:function R(){for(const U in r)i.deleteBuffer(r[U]);l=[],r={},s={}}}}class L{constructor(t={}){const{canvas:e=dT(),context:n=null,depth:r=!0,stencil:s=!0,alpha:l=!1,antialias:u=!1,premultipliedAlpha:f=!0,preserveDrawingBuffer:m=!1,powerPreference:y="default",failIfMajorPerformanceCaveat:b=!1}=t;let w;this.isWebGLRenderer=!0,w=null!==n?n.getContextAttributes().alpha:l;const S=new Uint32Array(4),A=new Int32Array(4);let k=null,I=null;const R=[],U=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Ds,this._useLegacyLights=!1,this.toneMapping=la,this.toneMappingExposure=1;const O=this;let B=!1,j=0,q=0,ee=null,ce=-1,z=null;const K=new Ni,Re=new Ni;let it=null;const pt=new Zt(0);let he=0,Ve=e.width,be=e.height,Ce=1,He=null,Ue=null;const ot=new Ni(0,0,Ve,be),pe=new Ni(0,0,Ve,be);let $e=!1;const Nt=new DT;let xt=!1,Jt=!1,Nn=null;const rn=new $n,yn=new ft,bn=new Q,vi={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function In(){return null===ee?Ce:1}let lt,St,_t,Sn,Xt,un,Qn,xi,rs,ne,G,Fe,Tt,bt,At,gn,Lt,$t,Yn,Li,Rt,Qi,ii,qn,le=n;function Ht(Z,De){for(let Be=0;Be<Z.length;Be++){const je=e.getContext(Z[Be],De);if(null!==je)return je}return null}try{const Z={alpha:!0,depth:r,stencil:s,antialias:u,premultipliedAlpha:f,preserveDrawingBuffer:m,powerPreference:y,failIfMajorPerformanceCaveat:b};if("setAttribute"in e&&e.setAttribute("data-engine","three.js r158"),e.addEventListener("webglcontextlost",Mi,!1),e.addEventListener("webglcontextrestored",me,!1),e.addEventListener("webglcontextcreationerror",Yt,!1),null===le){const De=["webgl2","webgl","experimental-webgl"];if(!0===O.isWebGL1Renderer&&De.shift(),le=Ht(De,Z),null===le)throw Ht(De)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&le instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===le.getShaderPrecisionFormat&&(le.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Z){throw console.error("THREE.WebGLRenderer: "+Z.message),Z}function Ln(){lt=new yE(le),St=new sk(le,lt,t),lt.init(St),Qi=new o(le,lt,St),_t=new Zk(le,lt,St),Sn=new Z2(le),Xt=new hU,un=new bU(le,lt,_t,Xt,St,Qi,Sn),Qn=new ak(O),xi=new fA(O),rs=new aP(le,St),ii=new hE(le,lt,rs,St),ne=new bE(le,rs,Sn,ii),G=new hk(le,ne,rs,Sn),Yn=new uk(le,St,un),gn=new ok(Xt),Fe=new Bk(O,Qn,xi,lt,St,ii,gn),Tt=new M(O,Xt),bt=new Gk,At=new $k(lt,St),$t=new ik(O,Qn,xi,_t,G,w,f),Lt=new yU(O,G,St),qn=new D(le,Sn,St,_t),Li=new rk(le,lt,Sn,St),Rt=new ck(le,lt,Sn,St),Sn.programs=Fe.programs,O.capabilities=St,O.extensions=lt,O.properties=Xt,O.renderLists=bt,O.shadowMap=Lt,O.state=_t,O.info=Sn}Ln();const en=new x(O,le);function Mi(Z){Z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),B=!0}function me(){console.log("THREE.WebGLRenderer: Context Restored."),B=!1;const Z=Sn.autoReset,De=Lt.enabled,Be=Lt.autoUpdate,Ge=Lt.needsUpdate,je=Lt.type;Ln(),Sn.autoReset=Z,Lt.enabled=De,Lt.autoUpdate=Be,Lt.needsUpdate=Ge,Lt.type=je}function Yt(Z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Z.statusMessage)}function Ot(Z){const De=Z.target;De.removeEventListener("dispose",Ot),function rt(Z){(function Ut(Z){const De=Xt.get(Z).programs;void 0!==De&&(De.forEach(function(Be){Fe.releaseProgram(Be)}),Z.isShaderMaterial&&Fe.releaseShaderCache(Z))})(Z),Xt.remove(Z)}(De)}function Un(Z,De,Be){!0===Z.transparent&&2===Z.side&&!1===Z.forceSinglePass?(Z.side=1,Z.needsUpdate=!0,uR(Z,De,Be),Z.side=0,Z.needsUpdate=!0,uR(Z,De,Be),Z.side=2):uR(Z,De,Be)}this.xr=en,this.getContext=function(){return le},this.getContextAttributes=function(){return le.getContextAttributes()},this.forceContextLoss=function(){const Z=lt.get("WEBGL_lose_context");Z&&Z.loseContext()},this.forceContextRestore=function(){const Z=lt.get("WEBGL_lose_context");Z&&Z.restoreContext()},this.getPixelRatio=function(){return Ce},this.setPixelRatio=function(Z){void 0!==Z&&(Ce=Z,this.setSize(Ve,be,!1))},this.getSize=function(Z){return Z.set(Ve,be)},this.setSize=function(Z,De,Be=!0){en.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(Ve=Z,be=De,e.width=Math.floor(Z*Ce),e.height=Math.floor(De*Ce),!0===Be&&(e.style.width=Z+"px",e.style.height=De+"px"),this.setViewport(0,0,Z,De))},this.getDrawingBufferSize=function(Z){return Z.set(Ve*Ce,be*Ce).floor()},this.setDrawingBufferSize=function(Z,De,Be){Ve=Z,be=De,Ce=Be,e.width=Math.floor(Z*Be),e.height=Math.floor(De*Be),this.setViewport(0,0,Z,De)},this.getCurrentViewport=function(Z){return Z.copy(K)},this.getViewport=function(Z){return Z.copy(ot)},this.setViewport=function(Z,De,Be,Ge){Z.isVector4?ot.set(Z.x,Z.y,Z.z,Z.w):ot.set(Z,De,Be,Ge),_t.viewport(K.copy(ot).multiplyScalar(Ce).floor())},this.getScissor=function(Z){return Z.copy(pe)},this.setScissor=function(Z,De,Be,Ge){Z.isVector4?pe.set(Z.x,Z.y,Z.z,Z.w):pe.set(Z,De,Be,Ge),_t.scissor(Re.copy(pe).multiplyScalar(Ce).floor())},this.getScissorTest=function(){return $e},this.setScissorTest=function(Z){_t.setScissorTest($e=Z)},this.setOpaqueSort=function(Z){He=Z},this.setTransparentSort=function(Z){Ue=Z},this.getClearColor=function(Z){return Z.copy($t.getClearColor())},this.setClearColor=function(){$t.setClearColor.apply($t,arguments)},this.getClearAlpha=function(){return $t.getClearAlpha()},this.setClearAlpha=function(){$t.setClearAlpha.apply($t,arguments)},this.clear=function(Z=!0,De=!0,Be=!0){let Ge=0;if(Z){let je=!1;if(null!==ee){const Qt=ee.texture.format;je=1033===Qt||1031===Qt||1029===Qt}if(je){const Qt=ee.texture.type,xn=Qt===uc||Qt===Du||1012===Qt||Qt===cf||1017===Qt||1018===Qt,Bn=$t.getClearColor(),Zn=$t.getClearAlpha(),pi=Bn.r,ri=Bn.g,ai=Bn.b;xn?(S[0]=pi,S[1]=ri,S[2]=ai,S[3]=Zn,le.clearBufferuiv(le.COLOR,0,S)):(A[0]=pi,A[1]=ri,A[2]=ai,A[3]=Zn,le.clearBufferiv(le.COLOR,0,A))}else Ge|=le.COLOR_BUFFER_BIT}De&&(Ge|=le.DEPTH_BUFFER_BIT),Be&&(Ge|=le.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),le.clear(Ge)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Mi,!1),e.removeEventListener("webglcontextrestored",me,!1),e.removeEventListener("webglcontextcreationerror",Yt,!1),bt.dispose(),At.dispose(),Xt.dispose(),Qn.dispose(),xi.dispose(),G.dispose(),ii.dispose(),qn.dispose(),Fe.dispose(),en.dispose(),en.removeEventListener("sessionstart",Mc),en.removeEventListener("sessionend",pr),Nn&&(Nn.dispose(),Nn=null),_a.stop()},this.renderBufferDirect=function(Z,De,Be,Ge,je,Qt){null===De&&(De=vi);const xn=je.isMesh&&je.matrixWorld.determinant()<0,Bn=function Wee(Z,De,Be,Ge,je){!0!==De.isScene&&(De=vi),un.resetTextureUnits();const Qt=De.fog,Bn=null===ee?O.outputColorSpace:!0===ee.isXRRenderTarget?ee.texture.colorSpace:Rl,Zn=(Ge.isMeshStandardMaterial?xi:Qn).get(Ge.envMap||(Ge.isMeshStandardMaterial?De.environment:null)),pi=!0===Ge.vertexColors&&!!Be.attributes.color&&4===Be.attributes.color.itemSize,ri=!!Be.attributes.tangent&&(!!Ge.normalMap||Ge.anisotropy>0),ai=!!Be.morphAttributes.position,ms=!!Be.morphAttributes.normal,Bl=!!Be.morphAttributes.color;let po=la;Ge.toneMapped&&(null===ee||!0===ee.isXRRenderTarget)&&(po=O.toneMapping);const Gf=Be.morphAttributes.position||Be.morphAttributes.normal||Be.morphAttributes.color,ss=void 0!==Gf?Gf.length:0,wi=Xt.get(Ge),PF=I.state.lights;!0!==xt||!0!==Jt&&Z===z||gn.setState(Ge,Z,Z===z&&Ge.id===ce);let ks=!1;Ge.version===wi.__version?(wi.needsLights&&wi.lightsStateVersion!==PF.state.version||wi.outputColorSpace!==Bn||je.isInstancedMesh&&!1===wi.instancing||!je.isInstancedMesh&&!0===wi.instancing||je.isSkinnedMesh&&!1===wi.skinning||!je.isSkinnedMesh&&!0===wi.skinning||je.isInstancedMesh&&!0===wi.instancingColor&&null===je.instanceColor||je.isInstancedMesh&&!1===wi.instancingColor&&null!==je.instanceColor||wi.envMap!==Zn||!0===Ge.fog&&wi.fog!==Qt||void 0!==wi.numClippingPlanes&&(wi.numClippingPlanes!==gn.numPlanes||wi.numIntersection!==gn.numIntersection)||wi.vertexAlphas!==pi||wi.vertexTangents!==ri||wi.morphTargets!==ai||wi.morphNormals!==ms||wi.morphColors!==Bl||wi.toneMapping!==po||!0===St.isWebGL2&&wi.morphTargetsCount!==ss)&&(ks=!0):(ks=!0,wi.__version=Ge.version);let zv=wi.currentProgram;!0===ks&&(zv=uR(Ge,De,je));let d5=!1,QC=!1,kF=!1;const va=zv.getUniforms(),Gv=wi.uniforms;if(_t.useProgram(zv.program)&&(d5=!0,QC=!0,kF=!0),Ge.id!==ce&&(ce=Ge.id,QC=!0),d5||z!==Z){va.setValue(le,"projectionMatrix",Z.projectionMatrix),va.setValue(le,"viewMatrix",Z.matrixWorldInverse);const Vl=va.map.cameraPosition;void 0!==Vl&&Vl.setValue(le,bn.setFromMatrixPosition(Z.matrixWorld)),St.logarithmicDepthBuffer&&va.setValue(le,"logDepthBufFC",2/(Math.log(Z.far+1)/Math.LN2)),(Ge.isMeshPhongMaterial||Ge.isMeshToonMaterial||Ge.isMeshLambertMaterial||Ge.isMeshBasicMaterial||Ge.isMeshStandardMaterial||Ge.isShaderMaterial)&&va.setValue(le,"isOrthographic",!0===Z.isOrthographicCamera),z!==Z&&(z=Z,QC=!0,kF=!0)}if(je.isSkinnedMesh){va.setOptional(le,je,"bindMatrix"),va.setOptional(le,je,"bindMatrixInverse");const Vl=je.skeleton;Vl&&(St.floatVertexTextures?(null===Vl.boneTexture&&Vl.computeBoneTexture(),va.setValue(le,"boneTexture",Vl.boneTexture,un),va.setValue(le,"boneTextureSize",Vl.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const OF=Be.morphAttributes;if((void 0!==OF.position||void 0!==OF.normal||void 0!==OF.color&&!0===St.isWebGL2)&&Yn.update(je,Be,zv),(QC||wi.receiveShadow!==je.receiveShadow)&&(wi.receiveShadow=je.receiveShadow,va.setValue(le,"receiveShadow",je.receiveShadow)),Ge.isMeshGouraudMaterial&&null!==Ge.envMap&&(Gv.envMap.value=Zn,Gv.flipEnvMap.value=Zn.isCubeTexture&&!1===Zn.isRenderTargetTexture?-1:1),QC&&(va.setValue(le,"toneMappingExposure",O.toneMappingExposure),wi.needsLights&&function jee(Z,De){Z.ambientLightColor.needsUpdate=De,Z.lightProbe.needsUpdate=De,Z.directionalLights.needsUpdate=De,Z.directionalLightShadows.needsUpdate=De,Z.pointLights.needsUpdate=De,Z.pointLightShadows.needsUpdate=De,Z.spotLights.needsUpdate=De,Z.spotLightShadows.needsUpdate=De,Z.rectAreaLights.needsUpdate=De,Z.hemisphereLights.needsUpdate=De}(Gv,kF),Qt&&!0===Ge.fog&&Tt.refreshFogUniforms(Gv,Qt),Tt.refreshMaterialUniforms(Gv,Ge,Ce,be,Nn),v0.upload(le,l5(wi),Gv,un)),Ge.isShaderMaterial&&!0===Ge.uniformsNeedUpdate&&(v0.upload(le,l5(wi),Gv,un),Ge.uniformsNeedUpdate=!1),Ge.isSpriteMaterial&&va.setValue(le,"center",je.center),va.setValue(le,"modelViewMatrix",je.modelViewMatrix),va.setValue(le,"normalMatrix",je.normalMatrix),va.setValue(le,"modelMatrix",je.matrixWorld),Ge.isShaderMaterial||Ge.isRawShaderMaterial){const Vl=Ge.uniformsGroups;for(let NF=0,Yee=Vl.length;NF<Yee;NF++)if(St.isWebGL2){const u5=Vl[NF];qn.update(u5,zv),qn.bind(u5,zv)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return zv}(Z,De,Be,Ge,je);_t.setMaterial(Ge,xn);let Zn=Be.index,pi=1;if(!0===Ge.wireframe){if(Zn=ne.getWireframeAttribute(Be),void 0===Zn)return;pi=2}const ri=Be.drawRange,ai=Be.attributes.position;let ms=ri.start*pi,Bl=(ri.start+ri.count)*pi;null!==Qt&&(ms=Math.max(ms,Qt.start*pi),Bl=Math.min(Bl,(Qt.start+Qt.count)*pi)),null!==Zn?(ms=Math.max(ms,0),Bl=Math.min(Bl,Zn.count)):null!=ai&&(ms=Math.max(ms,0),Bl=Math.min(Bl,ai.count));const po=Bl-ms;if(po<0||po===1/0)return;ii.setup(je,Ge,Bn,Be,Zn);let Gf,ss=Li;if(null!==Zn&&(Gf=rs.get(Zn),ss=Rt,ss.setIndex(Gf)),je.isMesh)!0===Ge.wireframe?(_t.setLineWidth(Ge.wireframeLinewidth*In()),ss.setMode(le.LINES)):ss.setMode(le.TRIANGLES);else if(je.isLine){let wi=Ge.linewidth;void 0===wi&&(wi=1),_t.setLineWidth(wi*In()),ss.setMode(je.isLineSegments?le.LINES:je.isLineLoop?le.LINE_LOOP:le.LINE_STRIP)}else je.isPoints?ss.setMode(le.POINTS):je.isSprite&&ss.setMode(le.TRIANGLES);if(je.isInstancedMesh)ss.renderInstances(ms,po,je.count);else if(Be.isInstancedBufferGeometry){const PF=Math.min(Be.instanceCount,void 0!==Be._maxInstanceCount?Be._maxInstanceCount:1/0);ss.renderInstances(ms,po,PF)}else ss.render(ms,po)},this.compile=function(Z,De,Be=null){null===Be&&(Be=Z),I=At.get(Be),I.init(),U.push(I),Be.traverseVisible(function(je){je.isLight&&je.layers.test(De.layers)&&(I.pushLight(je),je.castShadow&&I.pushShadow(je))}),Z!==Be&&Z.traverseVisible(function(je){je.isLight&&je.layers.test(De.layers)&&(I.pushLight(je),je.castShadow&&I.pushShadow(je))}),I.setupLights(O._useLegacyLights);const Ge=new Set;return Z.traverse(function(je){const Qt=je.material;if(Qt)if(Array.isArray(Qt))for(let xn=0;xn<Qt.length;xn++){const Bn=Qt[xn];Un(Bn,Be,je),Ge.add(Bn)}else Un(Qt,Be,je),Ge.add(Qt)}),U.pop(),I=null,Ge},this.compileAsync=function(Z,De,Be=null){const Ge=this.compile(Z,De,Be);return new Promise(je=>{function Qt(){Ge.forEach(function(xn){Xt.get(xn).currentProgram.isReady()&&Ge.delete(xn)}),0!==Ge.size?setTimeout(Qt,10):je(Z)}null!==lt.get("KHR_parallel_shader_compile")?Qt():setTimeout(Qt,10)})};let Fi=null;function Mc(){_a.stop()}function pr(){_a.start()}const _a=new IT;function Xu(Z,De,Be,Ge){if(!1===Z.visible)return;if(Z.layers.test(De.layers))if(Z.isGroup)Be=Z.renderOrder;else if(Z.isLOD)!0===Z.autoUpdate&&Z.update(De);else if(Z.isLight)I.pushLight(Z),Z.castShadow&&I.pushShadow(Z);else if(Z.isSprite){if(!Z.frustumCulled||Nt.intersectsSprite(Z)){Ge&&bn.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(rn);const xn=G.update(Z),Bn=Z.material;Bn.visible&&k.push(Z,xn,Bn,Be,bn.z,null)}}else if((Z.isMesh||Z.isLine||Z.isPoints)&&(!Z.frustumCulled||Nt.intersectsObject(Z))){const xn=G.update(Z),Bn=Z.material;if(Ge&&(void 0!==Z.boundingSphere?(null===Z.boundingSphere&&Z.computeBoundingSphere(),bn.copy(Z.boundingSphere.center)):(null===xn.boundingSphere&&xn.computeBoundingSphere(),bn.copy(xn.boundingSphere.center)),bn.applyMatrix4(Z.matrixWorld).applyMatrix4(rn)),Array.isArray(Bn)){const Zn=xn.groups;for(let pi=0,ri=Zn.length;pi<ri;pi++){const ai=Zn[pi],ms=Bn[ai.materialIndex];ms&&ms.visible&&k.push(Z,xn,ms,Be,bn.z,ai)}}else Bn.visible&&k.push(Z,xn,Bn,Be,bn.z,null)}const Qt=Z.children;for(let xn=0,Bn=Qt.length;xn<Bn;xn++)Xu(Qt[xn],De,Be,Ge)}function o5(Z,De,Be,Ge){const je=Z.opaque,Qt=Z.transmissive,xn=Z.transparent;I.setupLightsView(Be),!0===xt&&gn.setGlobalState(O.clippingPlanes,Be),Qt.length>0&&function Gee(Z,De,Be,Ge){if(null!==(!0===Be.isScene?Be.overrideMaterial:null))return;const Qt=St.isWebGL2;null===Nn&&(Nn=new wm(1,1,{generateMipmaps:!0,type:lt.has("EXT_color_buffer_half_float")?P_:uc,minFilter:Ed,samples:Qt?4:0})),O.getDrawingBufferSize(yn),Qt?Nn.setSize(yn.x,yn.y):Nn.setSize(Pb(yn.x),Pb(yn.y));const xn=O.getRenderTarget();O.setRenderTarget(Nn),O.getClearColor(pt),he=O.getClearAlpha(),he<1&&O.setClearColor(16777215,.5),O.clear();const Bn=O.toneMapping;O.toneMapping=la,dR(Z,Be,Ge),un.updateMultisampleRenderTarget(Nn),un.updateRenderTargetMipmap(Nn);let Zn=!1;for(let pi=0,ri=De.length;pi<ri;pi++){const ai=De[pi],ms=ai.object,Bl=ai.geometry,po=ai.material,Gf=ai.group;if(2===po.side&&ms.layers.test(Ge.layers)){const ss=po.side;po.side=1,po.needsUpdate=!0,a5(ms,Be,Ge,Bl,po,Gf),po.side=ss,po.needsUpdate=!0,Zn=!0}}!0===Zn&&(un.updateMultisampleRenderTarget(Nn),un.updateRenderTargetMipmap(Nn)),O.setRenderTarget(xn),O.setClearColor(pt,he),O.toneMapping=Bn}(je,Qt,De,Be),Ge&&_t.viewport(K.copy(Ge)),je.length>0&&dR(je,De,Be),Qt.length>0&&dR(Qt,De,Be),xn.length>0&&dR(xn,De,Be),_t.buffers.depth.setTest(!0),_t.buffers.depth.setMask(!0),_t.buffers.color.setMask(!0),_t.setPolygonOffset(!1)}function dR(Z,De,Be){const Ge=!0===De.isScene?De.overrideMaterial:null;for(let je=0,Qt=Z.length;je<Qt;je++){const xn=Z[je],Bn=xn.object,Zn=xn.geometry,pi=null===Ge?xn.material:Ge,ri=xn.group;Bn.layers.test(Be.layers)&&a5(Bn,De,Be,Zn,pi,ri)}}function a5(Z,De,Be,Ge,je,Qt){Z.onBeforeRender(O,De,Be,Ge,je,Qt),Z.modelViewMatrix.multiplyMatrices(Be.matrixWorldInverse,Z.matrixWorld),Z.normalMatrix.getNormalMatrix(Z.modelViewMatrix),je.onBeforeRender(O,De,Be,Ge,Z,Qt),!0===je.transparent&&2===je.side&&!1===je.forceSinglePass?(je.side=1,je.needsUpdate=!0,O.renderBufferDirect(Be,De,Ge,je,Z,Qt),je.side=0,je.needsUpdate=!0,O.renderBufferDirect(Be,De,Ge,je,Z,Qt),je.side=2):O.renderBufferDirect(Be,De,Ge,je,Z,Qt),Z.onAfterRender(O,De,Be,Ge,je,Qt)}function uR(Z,De,Be){!0!==De.isScene&&(De=vi);const Ge=Xt.get(Z),je=I.state.lights,xn=je.state.version,Bn=Fe.getParameters(Z,je.state,I.state.shadowsArray,De,Be),Zn=Fe.getProgramCacheKey(Bn);let pi=Ge.programs;Ge.environment=Z.isMeshStandardMaterial?De.environment:null,Ge.fog=De.fog,Ge.envMap=(Z.isMeshStandardMaterial?xi:Qn).get(Z.envMap||Ge.environment),void 0===pi&&(Z.addEventListener("dispose",Ot),pi=new Map,Ge.programs=pi);let ri=pi.get(Zn);if(void 0!==ri){if(Ge.currentProgram===ri&&Ge.lightsStateVersion===xn)return c5(Z,Bn),ri}else Bn.uniforms=Fe.getUniforms(Z),Z.onBuild(Be,Bn,O),Z.onBeforeCompile(Bn,O),ri=Fe.acquireProgram(Bn,Zn),pi.set(Zn,ri),Ge.uniforms=Bn.uniforms;const ai=Ge.uniforms;return(!Z.isShaderMaterial&&!Z.isRawShaderMaterial||!0===Z.clipping)&&(ai.clippingPlanes=gn.uniform),c5(Z,Bn),Ge.needsLights=function $ee(Z){return Z.isMeshLambertMaterial||Z.isMeshToonMaterial||Z.isMeshPhongMaterial||Z.isMeshStandardMaterial||Z.isShadowMaterial||Z.isShaderMaterial&&!0===Z.lights}(Z),Ge.lightsStateVersion=xn,Ge.needsLights&&(ai.ambientLightColor.value=je.state.ambient,ai.lightProbe.value=je.state.probe,ai.directionalLights.value=je.state.directional,ai.directionalLightShadows.value=je.state.directionalShadow,ai.spotLights.value=je.state.spot,ai.spotLightShadows.value=je.state.spotShadow,ai.rectAreaLights.value=je.state.rectArea,ai.ltc_1.value=je.state.rectAreaLTC1,ai.ltc_2.value=je.state.rectAreaLTC2,ai.pointLights.value=je.state.point,ai.pointLightShadows.value=je.state.pointShadow,ai.hemisphereLights.value=je.state.hemi,ai.directionalShadowMap.value=je.state.directionalShadowMap,ai.directionalShadowMatrix.value=je.state.directionalShadowMatrix,ai.spotShadowMap.value=je.state.spotShadowMap,ai.spotLightMatrix.value=je.state.spotLightMatrix,ai.spotLightMap.value=je.state.spotLightMap,ai.pointShadowMap.value=je.state.pointShadowMap,ai.pointShadowMatrix.value=je.state.pointShadowMatrix),Ge.currentProgram=ri,Ge.uniformsList=null,ri}function l5(Z){if(null===Z.uniformsList){const De=Z.currentProgram.getUniforms();Z.uniformsList=v0.seqWithValue(De.seq,Z.uniforms)}return Z.uniformsList}function c5(Z,De){const Be=Xt.get(Z);Be.outputColorSpace=De.outputColorSpace,Be.instancing=De.instancing,Be.instancingColor=De.instancingColor,Be.skinning=De.skinning,Be.morphTargets=De.morphTargets,Be.morphNormals=De.morphNormals,Be.morphColors=De.morphColors,Be.morphTargetsCount=De.morphTargetsCount,Be.numClippingPlanes=De.numClippingPlanes,Be.numIntersection=De.numClipIntersection,Be.vertexAlphas=De.vertexAlphas,Be.vertexTangents=De.vertexTangents,Be.toneMapping=De.toneMapping}_a.setAnimationLoop(function Ps(Z){Fi&&Fi(Z)}),typeof self<"u"&&_a.setContext(self),this.setAnimationLoop=function(Z){Fi=Z,en.setAnimationLoop(Z),null===Z?_a.stop():_a.start()},en.addEventListener("sessionstart",Mc),en.addEventListener("sessionend",pr),this.render=function(Z,De){if(void 0===De||!0===De.isCamera){if(!0!==B){if(!0===Z.matrixWorldAutoUpdate&&Z.updateMatrixWorld(),null===De.parent&&!0===De.matrixWorldAutoUpdate&&De.updateMatrixWorld(),!0===en.enabled&&!0===en.isPresenting&&(!0===en.cameraAutoUpdate&&en.updateCamera(De),De=en.getCamera()),!0===Z.isScene&&Z.onBeforeRender(O,Z,De,ee),I=At.get(Z,U.length),I.init(),U.push(I),rn.multiplyMatrices(De.projectionMatrix,De.matrixWorldInverse),Nt.setFromProjectionMatrix(rn),Jt=this.localClippingEnabled,xt=gn.init(this.clippingPlanes,Jt),k=bt.get(Z,R.length),k.init(),R.push(k),Xu(Z,De,0,O.sortObjects),k.finish(),!0===O.sortObjects&&k.sort(He,Ue),this.info.render.frame++,!0===xt&&gn.beginShadows(),Lt.render(I.state.shadowsArray,Z,De),!0===xt&&gn.endShadows(),!0===this.info.autoReset&&this.info.reset(),$t.render(k,Z),I.setupLights(O._useLegacyLights),De.isArrayCamera){const Ge=De.cameras;for(let je=0,Qt=Ge.length;je<Qt;je++){const xn=Ge[je];o5(k,Z,xn,xn.viewport)}}else o5(k,Z,De);null!==ee&&(un.updateMultisampleRenderTarget(ee),un.updateRenderTargetMipmap(ee)),!0===Z.isScene&&Z.onAfterRender(O,Z,De),ii.resetDefaultState(),ce=-1,z=null,U.pop(),I=U.length>0?U[U.length-1]:null,R.pop(),k=R.length>0?R[R.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return j},this.getActiveMipmapLevel=function(){return q},this.getRenderTarget=function(){return ee},this.setRenderTargetTextures=function(Z,De,Be){Xt.get(Z.texture).__webglTexture=De,Xt.get(Z.depthTexture).__webglTexture=Be;const Ge=Xt.get(Z);Ge.__hasExternalTextures=!0,Ge.__hasExternalTextures&&(Ge.__autoAllocateDepthBuffer=void 0===Be,Ge.__autoAllocateDepthBuffer||!0===lt.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ge.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Z,De){const Be=Xt.get(Z);Be.__webglFramebuffer=De,Be.__useDefaultFramebuffer=void 0===De},this.setRenderTarget=function(Z,De=0,Be=0){ee=Z,j=De,q=Be;let Ge=!0,je=null,Qt=!1,xn=!1;if(Z){const Zn=Xt.get(Z);void 0!==Zn.__useDefaultFramebuffer?(_t.bindFramebuffer(le.FRAMEBUFFER,null),Ge=!1):void 0===Zn.__webglFramebuffer?un.setupRenderTarget(Z):Zn.__hasExternalTextures&&un.rebindTextures(Z,Xt.get(Z.texture).__webglTexture,Xt.get(Z.depthTexture).__webglTexture);const pi=Z.texture;(pi.isData3DTexture||pi.isDataArrayTexture||pi.isCompressedArrayTexture)&&(xn=!0);const ri=Xt.get(Z).__webglFramebuffer;Z.isWebGLCubeRenderTarget?(je=Array.isArray(ri[De])?ri[De][Be]:ri[De],Qt=!0):je=St.isWebGL2&&Z.samples>0&&!1===un.useMultisampledRTT(Z)?Xt.get(Z).__webglMultisampledFramebuffer:Array.isArray(ri)?ri[Be]:ri,K.copy(Z.viewport),Re.copy(Z.scissor),it=Z.scissorTest}else K.copy(ot).multiplyScalar(Ce).floor(),Re.copy(pe).multiplyScalar(Ce).floor(),it=$e;if(_t.bindFramebuffer(le.FRAMEBUFFER,je)&&St.drawBuffers&&Ge&&_t.drawBuffers(Z,je),_t.viewport(K),_t.scissor(Re),_t.setScissorTest(it),Qt){const Zn=Xt.get(Z.texture);le.framebufferTexture2D(le.FRAMEBUFFER,le.COLOR_ATTACHMENT0,le.TEXTURE_CUBE_MAP_POSITIVE_X+De,Zn.__webglTexture,Be)}else if(xn){const Zn=Xt.get(Z.texture);le.framebufferTextureLayer(le.FRAMEBUFFER,le.COLOR_ATTACHMENT0,Zn.__webglTexture,Be||0,De||0)}ce=-1},this.readRenderTargetPixels=function(Z,De,Be,Ge,je,Qt,xn){if(!Z||!Z.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Bn=Xt.get(Z).__webglFramebuffer;if(Z.isWebGLCubeRenderTarget&&void 0!==xn&&(Bn=Bn[xn]),Bn){_t.bindFramebuffer(le.FRAMEBUFFER,Bn);try{const Zn=Z.texture,pi=Zn.format,ri=Zn.type;if(pi!==xo&&Qi.convert(pi)!==le.getParameter(le.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const ai=ri===P_&&(lt.has("EXT_color_buffer_half_float")||St.isWebGL2&&lt.has("EXT_color_buffer_float"));if(!(ri===uc||Qi.convert(ri)===le.getParameter(le.IMPLEMENTATION_COLOR_READ_TYPE)||ri===ca&&(St.isWebGL2||lt.has("OES_texture_float")||lt.has("WEBGL_color_buffer_float"))||ai))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");De>=0&&De<=Z.width-Ge&&Be>=0&&Be<=Z.height-je&&le.readPixels(De,Be,Ge,je,Qi.convert(pi),Qi.convert(ri),Qt)}finally{const Zn=null!==ee?Xt.get(ee).__webglFramebuffer:null;_t.bindFramebuffer(le.FRAMEBUFFER,Zn)}}},this.copyFramebufferToTexture=function(Z,De,Be=0){const Ge=Math.pow(2,-Be),je=Math.floor(De.image.width*Ge),Qt=Math.floor(De.image.height*Ge);un.setTexture2D(De,0),le.copyTexSubImage2D(le.TEXTURE_2D,Be,0,0,Z.x,Z.y,je,Qt),_t.unbindTexture()},this.copyTextureToTexture=function(Z,De,Be,Ge=0){const je=De.image.width,Qt=De.image.height,xn=Qi.convert(Be.format),Bn=Qi.convert(Be.type);un.setTexture2D(Be,0),le.pixelStorei(le.UNPACK_FLIP_Y_WEBGL,Be.flipY),le.pixelStorei(le.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Be.premultiplyAlpha),le.pixelStorei(le.UNPACK_ALIGNMENT,Be.unpackAlignment),De.isDataTexture?le.texSubImage2D(le.TEXTURE_2D,Ge,Z.x,Z.y,je,Qt,xn,Bn,De.image.data):De.isCompressedTexture?le.compressedTexSubImage2D(le.TEXTURE_2D,Ge,Z.x,Z.y,De.mipmaps[0].width,De.mipmaps[0].height,xn,De.mipmaps[0].data):le.texSubImage2D(le.TEXTURE_2D,Ge,Z.x,Z.y,xn,Bn,De.image),0===Ge&&Be.generateMipmaps&&le.generateMipmap(le.TEXTURE_2D),_t.unbindTexture()},this.copyTextureToTexture3D=function(Z,De,Be,Ge,je=0){if(O.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const Qt=Z.max.x-Z.min.x+1,xn=Z.max.y-Z.min.y+1,Bn=Z.max.z-Z.min.z+1,Zn=Qi.convert(Ge.format),pi=Qi.convert(Ge.type);let ri;if(Ge.isData3DTexture)un.setTexture3D(Ge,0),ri=le.TEXTURE_3D;else{if(!Ge.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");un.setTexture2DArray(Ge,0),ri=le.TEXTURE_2D_ARRAY}le.pixelStorei(le.UNPACK_FLIP_Y_WEBGL,Ge.flipY),le.pixelStorei(le.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ge.premultiplyAlpha),le.pixelStorei(le.UNPACK_ALIGNMENT,Ge.unpackAlignment);const ai=le.getParameter(le.UNPACK_ROW_LENGTH),ms=le.getParameter(le.UNPACK_IMAGE_HEIGHT),Bl=le.getParameter(le.UNPACK_SKIP_PIXELS),po=le.getParameter(le.UNPACK_SKIP_ROWS),Gf=le.getParameter(le.UNPACK_SKIP_IMAGES),ss=Be.isCompressedTexture?Be.mipmaps[0]:Be.image;le.pixelStorei(le.UNPACK_ROW_LENGTH,ss.width),le.pixelStorei(le.UNPACK_IMAGE_HEIGHT,ss.height),le.pixelStorei(le.UNPACK_SKIP_PIXELS,Z.min.x),le.pixelStorei(le.UNPACK_SKIP_ROWS,Z.min.y),le.pixelStorei(le.UNPACK_SKIP_IMAGES,Z.min.z),Be.isDataTexture||Be.isData3DTexture?le.texSubImage3D(ri,je,De.x,De.y,De.z,Qt,xn,Bn,Zn,pi,ss.data):Be.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),le.compressedTexSubImage3D(ri,je,De.x,De.y,De.z,Qt,xn,Bn,Zn,ss.data)):le.texSubImage3D(ri,je,De.x,De.y,De.z,Qt,xn,Bn,Zn,pi,ss),le.pixelStorei(le.UNPACK_ROW_LENGTH,ai),le.pixelStorei(le.UNPACK_IMAGE_HEIGHT,ms),le.pixelStorei(le.UNPACK_SKIP_PIXELS,Bl),le.pixelStorei(le.UNPACK_SKIP_ROWS,po),le.pixelStorei(le.UNPACK_SKIP_IMAGES,Gf),0===je&&Ge.generateMipmaps&&le.generateMipmap(ri),_t.unbindTexture()},this.initTexture=function(Z){Z.isCubeTexture?un.setTextureCube(Z,0):Z.isData3DTexture?un.setTexture3D(Z,0):Z.isDataArrayTexture||Z.isCompressedArrayTexture?un.setTexture2DArray(Z,0):un.setTexture2D(Z,0),_t.unbindTexture()},this.resetState=function(){j=0,q=0,ee=null,_t.reset(),ii.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return pc}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const e=this.getContext();e.drawingBufferColorSpace=t===ZM?"display-p3":"srgb",e.unpackColorSpace=Oi.workingColorSpace===Iw?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(t){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!t}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Ds?jo:3e3}set outputEncoding(t){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=t===jo?Ds:Rl}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(t){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=t}}(class V extends L{}).prototype.isWebGL1Renderer=!0;class ge extends $a{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(e.object.backgroundIntensity=this.backgroundIntensity),e}}function pv(i,t,e){return!i||!e&&i.constructor===t?i:"number"==typeof t.BYTES_PER_ELEMENT?new t(i):Array.prototype.slice.call(i)}class iD{constructor(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let n=this._cachedIndex,r=e[n],s=e[n-1];e:{t:{let l;n:{i:if(!(t<r)){for(let u=n+2;;){if(void 0===r){if(t<s)break i;return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===u)break;if(s=r,r=e[++n],t<r)break t}l=e.length;break n}if(t>=s)break e;{const u=e[1];t<u&&(n=2,s=u);for(let f=n-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(n===f)break;if(r=s,s=e[--n-1],t>=s)break t}l=n,n=0}}for(;n<l;){const u=n+l>>>1;t<e[u]?l=u:n=u+1}if(r=e[n],s=e[n-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,r)}return this.interpolate_(n,s,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=t*r;for(let l=0;l!==r;++l)e[l]=n[s+l];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class k6 extends iD{constructor(t,e,n,r){super(t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(t,e,n){const r=this.parameterPositions;let s=t-2,l=t+1,u=r[s],f=r[l];if(void 0===u)switch(this.getSettings_().endingStart){case 2401:s=t,u=2*e-n;break;case 2402:s=r.length-2,u=e+r[s]-r[s+1];break;default:s=t,u=n}if(void 0===f)switch(this.getSettings_().endingEnd){case 2401:l=t,f=2*n-e;break;case 2402:l=1,f=n+r[1]-r[0];break;default:l=t-1,f=e}const m=.5*(n-e),y=this.valueSize;this._weightPrev=m/(e-u),this._weightNext=m/(f-n),this._offsetPrev=s*y,this._offsetNext=l*y}interpolate_(t,e,n,r){const s=this.resultBuffer,l=this.sampleValues,u=this.valueSize,f=t*u,m=f-u,y=this._offsetPrev,b=this._offsetNext,w=this._weightPrev,S=this._weightNext,A=(n-e)/(r-e),k=A*A,I=k*A,R=-w*I+2*w*k-w*A,U=(1+w)*I+(-1.5-2*w)*k+(-.5+w)*A+1,O=(-1-S)*I+(1.5+S)*k+.5*A,B=S*I-S*k;for(let j=0;j!==u;++j)s[j]=R*l[y+j]+U*l[m+j]+O*l[f+j]+B*l[b+j];return s}}class rB extends iD{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const s=this.resultBuffer,l=this.sampleValues,u=this.valueSize,f=t*u,m=f-u,y=(n-e)/(r-e),b=1-y;for(let w=0;w!==u;++w)s[w]=l[m+w]*b+l[f+w]*y;return s}}class O6 extends iD{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t){return this.copySampleValue_(t-1)}}class Gu{constructor(t,e,n,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=pv(e,this.TimeBufferType),this.values=pv(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let n;if(e.toJSON!==this.toJSON)n=e.toJSON(t);else{n={name:t.name,times:pv(t.times,Array),values:pv(t.values,Array)};const r=t.getInterpolation();r!==t.DefaultInterpolation&&(n.interpolation=r)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new O6(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new rB(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new k6(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]*=t}return this}trim(t,e){const n=this.times,r=n.length;let s=0,l=r-1;for(;s!==r&&n[s]<t;)++s;for(;-1!==l&&n[l]>e;)--l;if(++l,0!==s||l!==r){s>=l&&(l=Math.max(l,1),s=l-1);const u=this.getValueSize();this.times=n.slice(s,l),this.values=this.values.slice(s*u,l*u)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,r=this.values,s=n.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let l=null;for(let u=0;u!==s;u++){const f=n[u];if("number"==typeof f&&isNaN(f)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,u,f),t=!1;break}if(null!==l&&l>f){console.error("THREE.KeyframeTrack: Out of order keys.",this,u,f,l),t=!1;break}l=f}if(void 0!==r&&function nB(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}(r))for(let u=0,f=r.length;u!==f;++u){const m=r[u];if(isNaN(m)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,m),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),n=this.getValueSize(),r=2302===this.getInterpolation(),s=t.length-1;let l=1;for(let u=1;u<s;++u){let f=!1;const m=t[u];if(m!==t[u+1]&&(1!==u||m!==t[0]))if(r)f=!0;else{const b=u*n,w=b-n,S=b+n;for(let A=0;A!==n;++A){const k=e[b+A];if(k!==e[w+A]||k!==e[S+A]){f=!0;break}}}if(f){if(u!==l){t[l]=t[u];const b=u*n,w=l*n;for(let S=0;S!==n;++S)e[w+S]=e[b+S]}++l}}if(s>0){t[l]=t[s];for(let u=s*n,f=l*n,m=0;m!==n;++m)e[f+m]=e[u+m];++l}return l!==t.length?(this.times=t.slice(0,l),this.values=e.slice(0,l*n)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),r=new(0,this.constructor)(this.name,t,e);return r.createInterpolant=this.createInterpolant,r}}Gu.prototype.TimeBufferType=Float32Array,Gu.prototype.ValueBufferType=Float32Array,Gu.prototype.DefaultInterpolation=2301;class T0 extends Gu{}T0.prototype.ValueTypeName="bool",T0.prototype.ValueBufferType=Array,T0.prototype.DefaultInterpolation=2300,T0.prototype.InterpolantFactoryMethodLinear=void 0,T0.prototype.InterpolantFactoryMethodSmooth=void 0;(class sB extends Gu{}).prototype.ValueTypeName="color";(class rD extends Gu{}).prototype.ValueTypeName="number";class N6 extends iD{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const s=this.resultBuffer,l=this.sampleValues,u=this.valueSize,f=(n-e)/(r-e);let m=t*u;for(let y=m+u;m!==y;m+=4)ua.slerpFlat(s,0,l,m-u,l,m,f);return s}}class HE extends Gu{InterpolantFactoryMethodLinear(t){return new N6(this.times,this.values,this.getValueSize(),t)}}HE.prototype.ValueTypeName="quaternion",HE.prototype.DefaultInterpolation=2301,HE.prototype.InterpolantFactoryMethodSmooth=void 0;class A0 extends Gu{}A0.prototype.ValueTypeName="string",A0.prototype.ValueBufferType=Array,A0.prototype.DefaultInterpolation=2300,A0.prototype.InterpolantFactoryMethodLinear=void 0,A0.prototype.InterpolantFactoryMethodSmooth=void 0;(class sD extends Gu{}).prototype.ValueTypeName="vector";const TO="\\[\\]\\.:\\/",iW=new RegExp("["+TO+"]","g"),AO="[^"+TO+"]",rW="[^"+TO.replace("\\.","")+"]",cW=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",AO)+/(WCOD+)?/.source.replace("WCOD",rW)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",AO)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",AO)+"$"),dW=["material","materials","bones","map"];class uW{constructor(t,e,n){const r=n||vr.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}getValue(t,e){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(t,e)}setValue(t,e){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=n.length;r!==s;++r)n[r].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}let vr=(()=>{class i{constructor(e,n,r){this.path=n,this.parsedPath=r||i.parseTrackName(n),this.node=i.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new i.Composite(e,n,r):new i(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(iW,"")}static parseTrackName(e){const n=cW.exec(e);if(null===n)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const l=r.nodeName.substring(s+1);-1!==dW.indexOf(l)&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=l)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(void 0===n||""===n||"."===n||-1===n||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(void 0!==r)return r}if(e.children){const r=function(l){for(let u=0;u<l.length;u++){const f=l[u];if(f.name===n||f.uuid===n)return f;const m=r(f.children);if(m)return m}return null},s=r(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let s=0,l=r.length;s!==l;++s)e[n++]=r[s]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let s=0,l=r.length;s!==l;++s)r[s]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let s=0,l=r.length;s!==l;++s)r[s]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let s=0,l=r.length;s!==l;++s)r[s]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,s=n.propertyName;let l=n.propertyIndex;if(e||(e=i.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(r){let y=n.objectIndex;switch(r){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let b=0;b<e.length;b++)if(e[b].name===y){y=b;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[r]}if(void 0!==y){if(void 0===e[y])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[y]}}const u=e[s];if(void 0===u)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n.nodeName+"."+s+" but it wasn't found.",e);let f=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?f=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(f=this.Versioning.MatrixWorldNeedsUpdate);let m=this.BindingType.Direct;if(void 0!==l){if("morphTargetInfluences"===s){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[l]&&(l=e.morphTargetDictionary[l])}m=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=l}else void 0!==u.fromArray&&void 0!==u.toArray?(m=this.BindingType.HasFromToArray,this.resolvedProperty=u):Array.isArray(u)?(m=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=s;this.getValue=this.GetterByBindingType[m],this.setValue=this.SetterByBindingTypeAndVersioning[m][f]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return i.Composite=uW,i})();vr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},vr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},vr.prototype.GetterByBindingType=[vr.prototype._getValue_direct,vr.prototype._getValue_array,vr.prototype._getValue_arrayElement,vr.prototype._getValue_toArray],vr.prototype.SetterByBindingTypeAndVersioning=[[vr.prototype._setValue_direct,vr.prototype._setValue_direct_setNeedsUpdate,vr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[vr.prototype._setValue_array,vr.prototype._setValue_array_setNeedsUpdate,vr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[vr.prototype._setValue_arrayElement,vr.prototype._setValue_arrayElement_setNeedsUpdate,vr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[vr.prototype._setValue_fromArray,vr.prototype._setValue_fromArray_setNeedsUpdate,vr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1),typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"158"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="158");let gW=(()=>{class i{constructor(e,n,r){this.ngZone=e,this.render=n,this.el=r}ngOnInit(){const e=this.el.nativeElement.querySelector("#myCanvas");e?(this.createScene(e),this.animate()):console.error("Container element not found.")}ngAfterViewInit(){}createScene(e){this.scene=new ge,this.camera=new qs(75,window.innerWidth/window.innerHeight,.1,1e3),this.renderer=new L({alpha:!0,preserveDrawingBuffer:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),e.appendChild(this.renderer.domElement);const n=new Im,r=new Uu({color:65280});this.cube=new Eo(n,r),this.scene.add(this.cube),this.camera.position.z=5}animate(){this.ngZone.run(()=>{this.cube.rotation.x+=.01,this.cube.rotation.y+=.01,this.renderer.render(this.scene,this.camera)}),requestAnimationFrame(()=>this.animate())}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.R0b),c.Y36(c.Qsj),c.Y36(c.SBq))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["app-my-component"]],decls:1,vars:0,consts:[["id","myCanvas",1,"cube"]],template:function(n,r){1&n&&c._UZ(0,"div",0)},styles:[".cube[_ngcontent-%COMP%]{position:absolute}"]})}return i})(),_W=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["app-home"]],decls:11,vars:0,consts:[[1,"main"],[1,"container"],[1,"text-box"],[1,"heading"],[1,"button-wrapper"],[1,"button"]],template:function(n,r){1&n&&(c._UZ(0,"app-my-component"),c.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),c._uU(5,"To infinity and Beyond"),c.qZA(),c.TgZ(6,"div",4)(7,"div",5),c._uU(8,"Learn More"),c.qZA(),c.TgZ(9,"div",5),c._uU(10,"Contact Us"),c.qZA()()()()())},dependencies:[gW],styles:[".main[_ngcontent-%COMP%]{width:99vw;height:98.5vh;margin:0;background:black;overflow:hidden;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]{width:99vw;height:98vh;background-image:url(/assets/galaxy_bigstar.png);background-size:10%;background-repeat:no-repeat;background-position:center;opacity:50%;overflow:hidden;display:flex;justify-content:center}canvas[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:-1}.text-box[_ngcontent-%COMP%]{overflow:hidden;display:flex;flex-direction:column;justify-content:flex-end;align-items:center;opacity:100%;font-size:60px;font-family:Raleway,sans-serif;letter-spacing:7px;word-spacing:12px;text-transform:uppercase;color:#eee;-webkit-text-fill-color:color-mix(in srgb-linear,#a70c0c percentage,#f30ad800 percentage);-webkit-text-stroke-width:2px}.button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:20px;flex-direction:row}.button[_ngcontent-%COMP%]{display:inline-block;font-size:16px;font-weight:700;padding:15px;margin-left:20px;margin-right:20px;word-spacing:normal;letter-spacing:5px;border:1px solid white;background:black;cursor:pointer}"]})}return i})(),IB=(()=>{class i{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.Qsj),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:i})}return i})(),bv=(()=>{class i extends IB{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275dir=c.lG2({type:i,features:[c.qOj]})}return i})();const bc=new c.OlP("NgValueAccessor"),bW={provide:bc,useExisting:(0,c.Gpc)(()=>GE),multi:!0},wW=new c.OlP("CompositionEventMode");let GE=(()=>{class i extends IB{constructor(e,n,r){super(e,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xW(){const i=$()?$().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(wW,8))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&c.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[c._Bn([bW]),c.qOj]})}return i})();function Hm(i){return null==i||("string"==typeof i||Array.isArray(i))&&0===i.length}function PB(i){return null!=i&&"number"==typeof i.length}const To=new c.OlP("NgValidators"),zm=new c.OlP("NgAsyncValidators"),EW=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Xo{static min(t){return function kB(i){return t=>{if(Hm(t.value)||Hm(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}(t)}static max(t){return function OB(i){return t=>{if(Hm(t.value)||Hm(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}(t)}static required(t){return function NB(i){return Hm(i.value)?{required:!0}:null}(t)}static requiredTrue(t){return function LB(i){return!0===i.value?null:{required:!0}}(t)}static email(t){return function FB(i){return Hm(i.value)||EW.test(i.value)?null:{email:!0}}(t)}static minLength(t){return function UB(i){return t=>Hm(t.value)||!PB(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function BB(i){return t=>PB(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static pattern(t){return function VB(i){if(!i)return mD;let t,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(Hm(n.value))return null;const r=n.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return $B(t)}static composeAsync(t){return YB(t)}}function mD(i){return null}function HB(i){return null!=i}function zB(i){return(0,c.QGY)(i)?(0,Zr.D)(i):i}function GB(i){let t={};return i.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function WB(i,t){return t.map(e=>e(i))}function jB(i){return i.map(t=>function CW(i){return!i.validate}(t)?t:e=>t.validate(e))}function $B(i){if(!i)return null;const t=i.filter(HB);return 0==t.length?null:function(e){return GB(WB(e,t))}}function PO(i){return null!=i?$B(jB(i)):null}function YB(i){if(!i)return null;const t=i.filter(HB);return 0==t.length?null:function(e){return function vW(...i){const t=(0,Vp.jO)(i),{args:e,keys:n}=Bp(i),r=new lo.y(s=>{const{length:l}=e;if(!l)return void s.complete();const u=new Array(l);let f=l,m=l;for(let y=0;y<l;y++){let b=!1;(0,Gh.Xf)(e[y]).subscribe((0,Xr.x)(s,w=>{b||(b=!0,m--),u[y]=w},()=>f--,void 0,()=>{(!f||!b)&&(m||s.next(n?gx(n,u):u),s.complete())}))}});return t?r.pipe(Hh(t)):r}(WB(e,t).map(zB)).pipe((0,An.U)(GB))}}function kO(i){return null!=i?YB(jB(i)):null}function qB(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function ZB(i){return i._rawValidators}function XB(i){return i._rawAsyncValidators}function OO(i){return i?Array.isArray(i)?i:[i]:[]}function gD(i,t){return Array.isArray(i)?i.includes(t):i===t}function KB(i,t){const e=OO(t);return OO(i).forEach(r=>{gD(e,r)||e.push(r)}),e}function JB(i,t){return OO(t).filter(e=>!gD(i,e))}class QB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=PO(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=kO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class pa extends QB{get formDirective(){return null}get path(){return null}}class Wu extends QB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class e3{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let _D=(()=>{class i extends e3{constructor(e){super(e)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(Wu,2))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[c.qOj]})}return i})(),vD=(()=>{class i extends e3{constructor(e){super(e)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(pa,10))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[c.qOj]})}return i})();const WE="VALID",bD="INVALID",I0="PENDING",jE="DISABLED";function FO(i){return(xD(i)?i.validators:i)||null}function UO(i,t){return(xD(t)?t.asyncValidators:i)||null}function xD(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}function n3(i,t,e){const n=i.controls;if(!(t?Object.keys(n):n).length)throw new c.vHH(1e3,"");if(!n[e])throw new c.vHH(1001,"")}function i3(i,t,e){i._forEachChild((n,r)=>{if(void 0===e[r])throw new c.vHH(1002,"")})}class wD{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===WE}get invalid(){return this.status===bD}get pending(){return this.status==I0}get disabled(){return this.status===jE}get enabled(){return this.status!==jE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(KB(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(KB(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(JB(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(JB(t,this._rawAsyncValidators))}hasValidator(t){return gD(this._rawValidators,t)}hasAsyncValidator(t){return gD(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=I0,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=jE,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=WE,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===WE||this.status===I0)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jE:WE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=I0,this._hasOwnPendingAsyncValidator=!0;const e=zB(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?jE:this.errors?bD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(I0)?I0:this._anyControlsHaveStatus(bD)?bD:WE}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){xD(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function AW(i){return Array.isArray(i)?PO(i):i||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function DW(i){return Array.isArray(i)?kO(i):i||null}(this._rawAsyncValidators)}}class $E extends wD{constructor(t,e,n){super(FO(e),UO(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){i3(this,0,t),Object.keys(t).forEach(n=>{n3(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{const r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>!!n._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,s)=>{n=e(n,r,s)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class r3 extends $E{}const R0=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ED}),ED="always";function YE(i,t,e=ED){BO(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(i.disabled),function RW(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&s3(i,t)})}(i,t),function kW(i,t){const e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function PW(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&s3(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function IW(i,t){if(t.valueAccessor.setDisabledState){const e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function SD(i,t,e=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),TD(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function MD(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function BO(i,t){const e=ZB(i);null!==t.validator?i.setValidators(qB(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const n=XB(i);null!==t.asyncValidator?i.setAsyncValidators(qB(n,t.asyncValidator)):"function"==typeof n&&i.setAsyncValidators([n]);const r=()=>i.updateValueAndValidity();MD(t._rawValidators,r),MD(t._rawAsyncValidators,r)}function TD(i,t){let e=!1;if(null!==i){if(null!==t.validator){const r=ZB(i);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==t.validator);s.length!==r.length&&(e=!0,i.setValidators(s))}}if(null!==t.asyncValidator){const r=XB(i);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==t.asyncValidator);s.length!==r.length&&(e=!0,i.setAsyncValidators(s))}}}const n=()=>{};return MD(t._rawValidators,n),MD(t._rawAsyncValidators,n),e}function s3(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function o3(i,t){BO(i,t)}function a3(i,t){i._syncPendingControls(),t.forEach(e=>{const n=e.control;"submit"===n.updateOn&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}const UW={provide:pa,useExisting:(0,c.Gpc)(()=>ZE)},qE=(()=>Promise.resolve())();let ZE=(()=>{class i extends pa{constructor(e,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new $E({},PO(e),kO(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){qE.then(()=>{const n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),YE(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){qE.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){qE.then(()=>{const n=this._findContainer(e.path),r=new $E({});o3(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){qE.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){qE.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,a3(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(To,10),c.Y36(zm,10),c.Y36(R0,8))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&c.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([UW]),c.qOj]})}return i})();function l3(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}function c3(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const XE=class extends wD{constructor(t=null,e,n){super(FO(e),UO(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xD(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=c3(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){l3(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){l3(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){c3(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let AD=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return i})(),m3=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({})}return i})();const GO=new c.OlP("NgModelWithFormControlWarning"),YW={provide:pa,useExisting:(0,c.Gpc)(()=>Gm)};let Gm=(()=>{class i extends pa{constructor(e,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(TD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const n=this.form.get(e.path);return YE(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){SD(e.control||null,e,!1),function FW(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this.submitted=!0,a3(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const n=e.control,r=this.form.get(e.path);n!==r&&(SD(n||null,e),(i=>i instanceof XE)(r)&&(YE(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const n=this.form.get(e.path);o3(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const n=this.form.get(e.path);n&&function OW(i,t){return TD(i,t)}(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){BO(this.form,this),this._oldForm&&TD(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(To,10),c.Y36(zm,10),c.Y36(R0,8))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&c.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([YW]),c.qOj,c.TTD]})}return i})();const XW={provide:Wu,useExisting:(0,c.Gpc)(()=>KE)};let KE=(()=>{class i extends Wu{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,n,r,s,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=function zO(i,t){if(!t)return null;let e,n,r;return Array.isArray(t),t.forEach(s=>{s.constructor===GE?e=s:function LW(i){return Object.getPrototypeOf(i.constructor)===bv}(s)?n=s:r=s}),r||n||e||null}(0,s)}ngOnChanges(e){this._added||this._setUpControl(),function HO(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function CD(i,t){return[...t.path,i]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(n){return new(n||i)(c.Y36(pa,13),c.Y36(To,10),c.Y36(zm,10),c.Y36(bc,10),c.Y36(GO,8))};static#n=this.\u0275dir=c.lG2({type:i,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([XW]),c.qOj,c.TTD]})}return i})(),uj=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[m3]})}return i})();class I3 extends wD{constructor(t,e,n){super(FO(e),UO(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){i3(this,0,t),t.forEach((n,r)=>{n3(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,n)=>!!n._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function R3(i){return!!i&&(void 0!==i.asyncValidators||void 0!==i.validators||void 0!==i.updateOn)}let XO=(()=>{class i{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new i;return e.useNonNullable=!0,e}group(e,n=null){const r=this._reduceControls(e);let s={};return R3(n)?s=n:null!==n&&(s.validators=n.validator,s.asyncValidators=n.asyncValidator),new $E(r,s)}record(e,n=null){const r=this._reduceControls(e);return new r3(r,n)}control(e,n,r){let s={};return this.useNonNullable?(R3(n)?s=n:(s.validators=n,s.asyncValidators=r),new XE(e,{...s,nonNullable:!0})):new XE(e,n,r)}array(e,n,r){const s=e.map(l=>this._createControl(l));return new I3(s,n,r)}_reduceControls(e){const n={};return Object.keys(e).forEach(r=>{n[r]=this._createControl(e[r])}),n}_createControl(e){return e instanceof XE||e instanceof wD?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),hj=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:GO,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:R0,useValue:e.callSetDisabledState??ED}]}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[uj]})}return i})();var JE=W(6321),ma=W(3019),P3=W(3020),KO=W(3997),xc=W(8186),Rd=W(6304),mj=(W(5967),W(3106)),wv=W(4537),Ev=W(534),J=W(9058),DD=W(7879);const k3="@firebase/database";let JO="";function N3(i){JO=i}class gj{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,J.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,J.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class _j{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,J.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const L3=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new gj(t)}}catch{}return new _j},Cv=L3("localStorage"),QO=L3("sessionStorage"),P0=new DD.Yd("@firebase/database"),F3=function(){let i=1;return function(){return i++}}(),U3=function(i){const t=(0,J.dS)(i),e=new J.gQ;e.update(t);const n=e.digest();return J.US.encodeByteArray(n)},QE=function(...i){let t="";for(let e=0;e<i.length;e++){const n=i[e];Array.isArray(n)||n&&"object"==typeof n&&"number"==typeof n.length?t+=QE.apply(null,n):t+="object"==typeof n?(0,J.Wl)(n):n,t+=" "}return t};let Sv=null,B3=!0;const V3=function(i,t){(0,J.hu)(!t||!0===i||!1===i,"Can't turn on custom loggers persistently."),!0===i?(P0.logLevel=DD.in.VERBOSE,Sv=P0.log.bind(P0),t&&QO.set("logging_enabled",!0)):"function"==typeof i?Sv=i:(Sv=null,QO.remove("logging_enabled"))},ho=function(...i){if(!0===B3&&(B3=!1,null===Sv&&!0===QO.get("logging_enabled")&&V3(!0)),Sv){const t=QE.apply(null,i);Sv(t)}},eC=function(i){return function(...t){ho(i,...t)}},eN=function(...i){const t="FIREBASE INTERNAL ERROR: "+QE(...i);P0.error(t)},ju=function(...i){const t=`FIREBASE FATAL ERROR: ${QE(...i)}`;throw P0.error(t),new Error(t)},Ko=function(...i){const t="FIREBASE WARNING: "+QE(...i);P0.warn(t)},ID=function(i){return"number"==typeof i&&(i!=i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},Wm="[MIN_NAME]",Lf="[MAX_NAME]",Mv=function(i,t){if(i===t)return 0;if(i===Wm||t===Lf)return-1;if(t===Wm||i===Lf)return 1;{const e=G3(i),n=G3(t);return null!==e?null!==n?e-n==0?i.length-t.length:e-n:-1:null!==n?1:i<t?-1:1}},bj=function(i,t){return i===t?0:i<t?-1:1},tC=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+(0,J.Wl)(t))},tN=function(i){if("object"!=typeof i||null===i)return(0,J.Wl)(i);const t=[];for(const n in i)t.push(n);t.sort();let e="{";for(let n=0;n<t.length;n++)0!==n&&(e+=","),e+=(0,J.Wl)(t[n]),e+=":",e+=tN(i[t[n]]);return e+="}",e},H3=function(i,t){const e=i.length;if(e<=t)return[i];const n=[];for(let r=0;r<e;r+=t)n.push(i.substring(r,r+t>e?e:r+t));return n};function fo(i,t){for(const e in i)i.hasOwnProperty(e)&&t(e,i[e])}const z3=function(i){(0,J.hu)(!ID(i),"Invalid JSON number");const n=1023;let r,s,l,u,f;0===i?(s=0,l=0,r=1/i==-1/0?1:0):(r=i<0,(i=Math.abs(i))>=Math.pow(2,1-n)?(u=Math.min(Math.floor(Math.log(i)/Math.LN2),n),s=u+n,l=Math.round(i*Math.pow(2,52-u)-Math.pow(2,52))):(s=0,l=Math.round(i/Math.pow(2,-1074))));const m=[];for(f=52;f;f-=1)m.push(l%2?1:0),l=Math.floor(l/2);for(f=11;f;f-=1)m.push(s%2?1:0),s=Math.floor(s/2);m.push(r?1:0),m.reverse();const y=m.join("");let b="";for(f=0;f<64;f+=8){let w=parseInt(y.substr(f,8),2).toString(16);1===w.length&&(w="0"+w),b+=w}return b.toLowerCase()},Cj=new RegExp("^-?(0*)\\d{1,10}$"),G3=function(i){if(Cj.test(i)){const t=Number(i);if(t>=-2147483648&&t<=2147483647)return t}return null},k0=function(i){try{i()}catch(t){setTimeout(()=>{throw Ko("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},nC=function(i,t){const e=setTimeout(i,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class Aj{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(n=>this.appCheck=n)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,n)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,n):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){Ko(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Dj{constructor(t,e,n){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ho("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,n)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,n):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ko(t)}}let iC=(()=>{class i{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return i.OWNER="owner",i})();const q3=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,K3="websocket",J3="long_polling";class iN{constructor(t,e,n,r,s=!1,l="",u=!1,f=!1){this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=f,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Cv.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Cv.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Q3(i,t,e){let n;if((0,J.hu)("string"==typeof t,"typeof type must == string"),(0,J.hu)("object"==typeof e,"typeof params must == object"),t===K3)n=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else{if(t!==J3)throw new Error("Unknown connection type: "+t);n=(i.secure?"https://":"http://")+i.internalHost+"/.lp?"}(function Ij(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams})(i)&&(e.ns=i.namespace);const r=[];return fo(e,(s,l)=>{r.push(s+"="+l)}),n+r.join("&")}class Rj{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,J.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,J.p$)(this.counters_)}}const rN={},sN={};function oN(i){const t=i.toString();return rN[t]||(rN[t]=new Rj),rN[t]}class kj{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<n.length;++r)n[r]&&k0(()=>{this.onMessage_(n[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class jm{constructor(t,e,n,r,s,l,u){this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=s,this.transportSessionId=l,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=eC(t),this.stats_=oN(e),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),Q3(e,J3,f))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new kj(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(i){if((0,J.Yr)()||"complete"===document.readyState)i();else{let t=!1;const e=function(){document.body?t||(t=!0,i()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new aN((...s)=>{const[l,u,f,m,y]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=u,this.password=f;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[l,u]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,u)},()=>{this.onClosed_()},this.urlFn);const n={start:"t"};n.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(n.cb=this.scriptTagHolder.uniqueCallbackIdentifier),n.v="5",this.transportSessionId&&(n.s=this.transportSessionId),this.lastSessionId&&(n.ls=this.lastSessionId),this.applicationId&&(n.p=this.applicationId),this.appCheckToken&&(n.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&q3.test(location.hostname)&&(n.r="f");const r=this.urlFn(n);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){jm.forceAllow_=!0}static forceDisallow(){jm.forceDisallow_=!0}static isAvailable(){return!((0,J.Yr)()||!jm.forceAllow_&&(jm.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,J.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const n=(0,J.h$)(e),r=H3(n,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,J.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,J.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class aN{constructor(t,e,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,J.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=F3(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=aN.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){ho("frame writing exception"),u.stack&&ho(u.stack),ho(u)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ho("No IE domain setting required")}catch{const n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const l=this.pendingSegs.shift();n=n+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const n=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),n()})}addTag(t,e){(0,J.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.onload=n.onreadystatechange=function(){const r=n.readyState;(!r||"loaded"===r||"complete"===r)&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),e())},n.onerror=()=>{ho("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}let PD=null;typeof MozWebSocket<"u"?PD=MozWebSocket:typeof WebSocket<"u"&&(PD=WebSocket);let O0=(()=>{class i{constructor(e,n,r,s,l,u,f){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=eC(this.connId),this.stats_=oN(n),this.connURL=i.connectionURL_(n,u,f,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,l){const u={v:"5"};return!(0,J.Yr)()&&typeof location<"u"&&location.hostname&&q3.test(location.hostname)&&(u.r="f"),n&&(u.s=n),r&&(u.ls=r),s&&(u.ac=s),l&&(u.p=l),Q3(e,K3,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Cv.set("previous_websocket_failure",!0);try{let r;if((0,J.Yr)()){r={headers:{"User-Agent":`Firebase/5/${JO}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,u=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;u&&(r.proxy={origin:u})}this.mySock=new PD(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){i.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==PD&&!i.forceDisallow_}static previouslyFailed(){return Cv.isInMemoryStorage||!0===Cv.get("previous_websocket_failure")}markConnectionHealthy(){Cv.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=(0,J.cI)(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,J.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=(0,J.Wl)(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=H3(n,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return i.responsesRequiredToBeHealthy=2,i.healthyTimeout=3e4,i})(),oV=(()=>{class i{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[jm,O0]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=O0&&O0.isAvailable();let r=n&&!O0.previouslyFailed();if(e.webSocketOnly&&(n||Ko("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[O0];else{const s=this.transports_=[];for(const l of i.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);i.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return i.globalTransportInitialized_=!1,i})();class fV{constructor(t,e,n,r,s,l,u,f,m,y){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=l,this.onReady_=u,this.onDisconnect_=f,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=eC("c:"+this.id+":"),this.transportManager_=new oV(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,n)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=nC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=tC("t",t),n=tC("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=tC("t",t),n=tC("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=tC("t",t);if("d"in t){const n=t.d;if("h"===e){const r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?eN("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):eN("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&Ko("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,n),nC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):nC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Cv.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class pV{put(t,e,n,r){}merge(t,e,n,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,n){}onDisconnectMerge(t,e,n){}onDisconnectCancel(t,e){}reportStats(t){}}class mV{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,J.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const n=[...this.listeners_[t]];for(let r=0;r<n.length;r++)n[r].callback.apply(n[r].context,e)}}on(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});const r=this.getInitialEvent(t);r&&e.apply(n,r)}off(t,e,n){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!n||n===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,J.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class kD extends mV{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,J.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new kD}getInitialEvent(t){return(0,J.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Yi{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let n=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Ri(){return new Yi("")}function ui(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function $m(i){return i.pieces_.length-i.pieceNum_}function ir(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new Yi(i.pieces_,t)}function cN(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function rC(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function vV(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let e=i.pieceNum_;e<i.pieces_.length-1;e++)t.push(i.pieces_[e]);return new Yi(t,0)}function Rr(i,t){const e=[];for(let n=i.pieceNum_;n<i.pieces_.length;n++)e.push(i.pieces_[n]);if(t instanceof Yi)for(let n=t.pieceNum_;n<t.pieces_.length;n++)e.push(t.pieces_[n]);else{const n=t.split("/");for(let r=0;r<n.length;r++)n[r].length>0&&e.push(n[r])}return new Yi(e,0)}function hi(i){return i.pieceNum_>=i.pieces_.length}function ga(i,t){const e=ui(i),n=ui(t);if(null===e)return t;if(e===n)return ga(ir(i),ir(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function t8(i,t){const e=rC(i,0),n=rC(t,0);for(let r=0;r<e.length&&r<n.length;r++){const s=Mv(e[r],n[r]);if(0!==s)return s}return e.length===n.length?0:e.length<n.length?-1:1}function dN(i,t){if($m(i)!==$m(t))return!1;for(let e=i.pieceNum_,n=t.pieceNum_;e<=i.pieces_.length;e++,n++)if(i.pieces_[e]!==t.pieces_[n])return!1;return!0}function wc(i,t){let e=i.pieceNum_,n=t.pieceNum_;if($m(i)>$m(t))return!1;for(;e<i.pieces_.length;){if(i.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0}class n8{constructor(t,e){this.errorPrefix_=e,this.parts_=rC(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,J.ug)(this.parts_[n]);yV(this)}}function yV(i){if(i.byteLength_>768)throw new Error(i.errorPrefix_+"has a key path longer than 768 bytes ("+i.byteLength_+").");if(i.parts_.length>32)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Tv(i))}function Tv(i){return 0===i.parts_.length?"":"in property '"+i.parts_.join(".")+"'"}class uN extends mV{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const n=!document[t];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}static getInstance(){return new uN}getInitialEvent(t){return(0,J.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const sC=1e3;let ND,Av=(()=>{class i extends pV{constructor(e,n,r,s,l,u,f,m){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=f,this.authOverride_=m,this.id=i.nextPersistentConnectionId_++,this.log_=eC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=sC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m&&!(0,J.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");uN.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&kD.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,l={r:s,a:e,b:n};this.log_((0,J.Wl)(l)),(0,J.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new J.BH,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const f=u.d;"ok"===u.s?n.resolve(f):n.reject(f)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),n.promise}listen(e,n,r,s){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),(0,J.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,J.hu)(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const f={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(u).set(l,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const l={p:r};e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest("q",l,f=>{const m=f.d,y=f.s;i.warnOnListenWarnings_(m,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",f),"ok"!==y&&this.removeListen_(r,s),e.onComplete&&e.onComplete(y,m))})}static warnOnListenWarnings_(e,n){if(e&&"object"==typeof e&&(0,J.r3)(e,"w")){const r=(0,J.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();Ko(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,J.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=(0,J.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const l=s.s,u=s.d||"error";this.authToken_===e&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";"ok"===n?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,J.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const l={p:e};s&&(l.q=r,l.t=s),this.sendRequest("n",l)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const l={p:n,d:r};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{s&&setTimeout(()=>{s(u.s,u.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,l){this.initConnection_();const u={p:n,d:r};void 0!==l&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,J.Wl)(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),"d"===e?this.onDataUpdate_(n.p,n.d,!1,n.t):"m"===e?this.onDataUpdate_(n.p,n.d,!0,n.t):"c"===e?this.onListenRevoked_(n.p,n.q):"ac"===e?this.onAuthRevoked_(n.s,n.d):"apc"===e?this.onAppCheckRevoked_(n.s,n.d):"sd"===e?this.onSecurityDebugPacket_(n):eN("Unrecognized action received from server: "+(0,J.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,J.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=sC,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=sC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=sC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,vd.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const n=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),l=e.id+":"+i.nextConnectionId_++,u=e.lastSessionId;let f=!1,m=null;const y=function(){m?m.close():(f=!0,s())};e.realtime_={close:y,sendRequest:function(S){(0,J.hu)(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(S)}};const w=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[S,A]=yield Promise.all([e.authTokenProvider_.getToken(w),e.appCheckTokenProvider_.getToken(w)]);f?ho("getToken() completed but was canceled"):(ho("getToken() completed. Creating connection."),e.authToken_=S&&S.accessToken,e.appCheckToken_=A&&A.token,m=new fV(l,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,n,r,s,k=>{Ko(k+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},u))}catch(S){e.log_("Failed to get token: "+S),f||(e.repoInfo_.nodeAdmin&&Ko(S),y())}}})()}interrupt(e){ho("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ho("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,J.xb)(this.interruptReasons_)&&(this.reconnectDelay_=sC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;r=n?n.map(l=>tN(l)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Yi(e).toString();let s;if(this.listens.has(r)){const l=this.listens.get(r);s=l.get(n),l.delete(n),0===l.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){ho("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ho("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";(0,J.Yr)()&&(n=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+n+"."+JO.replace(/\./g,"-")]=1,(0,J.uI)()?e["framework.cordova"]=1:(0,J.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=kD.getInstance().currentlyOnline();return(0,J.xb)(this.interruptReasons_)&&e}}return i.nextPersistentConnectionId_=0,i.nextConnectionId_=0,i})();class gi{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new gi(t,e)}}class OD{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const n=new gi(Wm,t),r=new gi(Wm,e);return 0!==this.compare(n,r)}minPost(){return gi.MIN}}class wV extends OD{static get __EMPTY_NODE(){return ND}static set __EMPTY_NODE(t){ND=t}compare(t,e){return Mv(t.name,e.name)}isDefinedOn(t){throw(0,J.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return gi.MIN}maxPost(){return new gi(Lf,ND)}makePost(t,e){return(0,J.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new gi(t,ND)}toString(){return".key"}}const $u=new wV;class LD{constructor(t,e,n,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!t.isEmpty();)if(l=e?n(t.key,e):1,r&&(l*=-1),l<0)t=this.isReverse_?t.left:t.right;else{if(0===l){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let fN,Pd=(()=>{class i{constructor(e,n,r,s,l){this.key=e,this.value=n,this.color=r??i.RED,this.left=s??Xa.EMPTY_NODE,this.right=l??Xa.EMPTY_NODE}copy(e,n,r,s,l){return new i(e??this.key,n??this.value,r??this.color,s??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const l=r(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,n,r),null):0===l?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xa.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===n(e,r.key)){if(r.right.isEmpty())return Xa.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return i.RED=!0,i.BLACK=!1,i})();class Xa{constructor(t,e=Xa.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Xa(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Pd.BLACK,null,null))}remove(t){return new Xa(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Pd.BLACK,null,null))}get(t){let e,n=this.root_;for(;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e)return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null}getPredecessorKey(t){let e,n=this.root_,r=null;for(;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new LD(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new LD(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new LD(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new LD(this.root_,null,this.comparator_,!0,t)}}function d8(i,t){return Mv(i.name,t.name)}function hN(i,t){return Mv(i,t)}Xa.EMPTY_NODE=new class c8{copy(t,e,n,r,s){return this}insert(t,e,n){return new Pd(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const EV=function(i){return"number"==typeof i?"number:"+z3(i):"string:"+i},CV=function(i){if(i.isLeafNode()){const t=i.val();(0,J.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,J.r3)(t,".sv"),"Priority must be a string or number.")}else(0,J.hu)(i===fN||i.isEmpty(),"priority of unexpected type.");(0,J.hu)(i===fN||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let SV,MV,TV,N0=(()=>{class i{constructor(e,n=i.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,(0,J.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),CV(this.priorityNode_)}static set __childrenNodeConstructor(e){SV=e}static get __childrenNodeConstructor(){return SV}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new i(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return hi(e)?this:".priority"===ui(e)?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ui(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,J.hu)(".priority"!==r||1===$m(e),".priority must be the last token in a path"),this.updateImmediateChild(r,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(ir(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+EV(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",e+="number"===n?z3(this.value_):this.value_,this.lazyHash_=U3(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===i.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof i.__childrenNodeConstructor?-1:((0,J.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=i.VALUE_TYPE_ORDER.indexOf(n),l=i.VALUE_TYPE_ORDER.indexOf(r);return(0,J.hu)(s>=0,"Unknown leaf type: "+n),(0,J.hu)(l>=0,"Unknown leaf type: "+r),s===l?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i})();const hr=new class p8 extends OD{compare(t,e){const n=t.node.getPriority(),r=e.node.getPriority(),s=n.compareTo(r);return 0===s?Mv(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return gi.MIN}maxPost(){return new gi(Lf,new N0("[PRIORITY-POST]",TV))}makePost(t,e){const n=MV(t);return new gi(e,new N0("[PRIORITY-POST]",n))}toString(){return".priority"}},m8=Math.log(2);class g8{constructor(t){this.count=parseInt(Math.log(t+1)/m8,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const FD=function(i,t,e,n){i.sort(t);const r=function(f,m){const y=m-f;let b,w;if(0===y)return null;if(1===y)return b=i[f],w=e?e(b):b,new Pd(w,b.node,Pd.BLACK,null,null);{const S=parseInt(y/2,10)+f,A=r(f,S),k=r(S+1,m);return b=i[S],w=e?e(b):b,new Pd(w,b.node,Pd.BLACK,A,k)}},u=function(f){let m=null,y=null,b=i.length;const w=function(A,k){const I=b-A,R=b;b-=A;const U=r(I+1,R),O=i[I],B=e?e(O):O;S(new Pd(B,O.node,k,null,U))},S=function(A){m?(m.left=A,m=A):(y=A,m=A)};for(let A=0;A<f.count;++A){const k=f.nextBitIsOne(),I=Math.pow(2,f.count-(A+1));k?w(I,Pd.BLACK):(w(I,Pd.BLACK),w(I,Pd.RED))}return y}(new g8(i.length));return new Xa(n||t,u)};let pN;const L0={};class Ff{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,J.hu)(L0&&hr,"ChildrenNode.ts has not been loaded"),pN=pN||new Ff({".priority":L0},{".priority":hr}),pN}get(t){const e=(0,J.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Xa?e:null}hasIndex(t){return(0,J.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,J.hu)(t!==$u,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const s=e.getIterator(gi.Wrap);let u,l=s.getNext();for(;l;)r=r||t.isDefinedOn(l.node),n.push(l),l=s.getNext();u=r?FD(n,t.getCompare()):L0;const f=t.toString(),m=Object.assign({},this.indexSet_);m[f]=t;const y=Object.assign({},this.indexes_);return y[f]=u,new Ff(y,m)}addToIndexes(t,e){const n=(0,J.UI)(this.indexes_,(r,s)=>{const l=(0,J.DV)(this.indexSet_,s);if((0,J.hu)(l,"Missing index implementation for "+s),r===L0){if(l.isDefinedOn(t.node)){const u=[],f=e.getIterator(gi.Wrap);let m=f.getNext();for(;m;)m.name!==t.name&&u.push(m),m=f.getNext();return u.push(t),FD(u,l.getCompare())}return L0}{const u=e.get(t.name);let f=r;return u&&(f=f.remove(new gi(t.name,u))),f.insert(t,t.node)}});return new Ff(n,this.indexSet_)}removeFromIndexes(t,e){const n=(0,J.UI)(this.indexes_,r=>{if(r===L0)return r;{const s=e.get(t.name);return s?r.remove(new gi(t.name,s)):r}});return new Ff(n,this.indexSet_)}}let oC,Jn=(()=>{class i{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&CV(this.priorityNode_),this.children_.isEmpty()&&(0,J.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return oC||(oC=new i(new Xa(hN),null,Ff.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||oC}updatePriority(e){return this.children_.isEmpty()?this:new i(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const n=this.children_.get(e);return null===n?oC:n}}getChild(e){const n=ui(e);return null===n?this:this.getImmediateChild(n).getChild(ir(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,n){if((0,J.hu)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);{const r=new gi(e,n);let s,l;n.isEmpty()?(s=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(r,this.children_));const u=s.isEmpty()?oC:this.priorityNode_;return new i(s,u,l)}}updateChild(e,n){const r=ui(e);if(null===r)return n;{(0,J.hu)(".priority"!==ui(e)||1===$m(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ir(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,l=!0;if(this.forEachChild(hr,(u,f)=>{n[u]=f.val(e),r++,l&&i.INTEGER_REGEXP_.test(u)?s=Math.max(s,Number(u)):l=!1}),!e&&l&&s<2*r){const u=[];for(const f in n)u[f]=n[f];return u}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+EV(this.getPriority().val())+":"),this.forEachChild(hr,(n,r)=>{const s=r.hash();""!==s&&(e+=":"+n+":"+s)}),this.lazyHash_=""===e?"":U3(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const l=s.getPredecessorKey(new gi(e,n));return l?l.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new gi(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new gi(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,gi.Wrap);let l=s.peek();for(;null!=l&&n.compare(l,e)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,gi.Wrap);let l=s.peek();for(;null!=l&&n.compare(l,e)>0;)s.getNext(),l=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===aC?-1:0}withIndex(e){if(e===$u||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new i(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===$u||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority())){if(this.children_.count()===n.children_.count()){const r=this.getIterator(hr),s=n.getIterator(hr);let l=r.getNext(),u=s.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=r.getNext(),u=s.getNext()}return null===l&&null===u}return!1}return!1}}resolveIndex_(e){return e===$u?null:this.indexMap_.get(e.toString())}}return i.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,i})();const aC=new class _8 extends Jn{constructor(){super(new Xa(hN),Jn.EMPTY_NODE,Ff.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Jn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(gi,{MIN:{value:new gi(Wm,Jn.EMPTY_NODE)},MAX:{value:new gi(Lf,aC)}}),wV.__EMPTY_NODE=Jn.EMPTY_NODE,N0.__childrenNodeConstructor=Jn,function u8(i){fN=i}(aC),function f8(i){TV=i}(aC);const v8=!0;function zr(i,t=null){if(null===i)return Jn.EMPTY_NODE;if("object"==typeof i&&".priority"in i&&(t=i[".priority"]),(0,J.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof i&&".value"in i&&null!==i[".value"]&&(i=i[".value"]),"object"!=typeof i||".sv"in i)return new N0(i,zr(t));if(i instanceof Array||!v8){let e=Jn.EMPTY_NODE;return fo(i,(n,r)=>{if((0,J.r3)(i,n)&&"."!==n.substring(0,1)){const s=zr(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(n,s))}}),e.updatePriority(zr(t))}{const e=[];let n=!1;if(fo(i,(l,u)=>{if("."!==l.substring(0,1)){const f=zr(u);f.isEmpty()||(n=n||!f.getPriority().isEmpty(),e.push(new gi(l,f)))}}),0===e.length)return Jn.EMPTY_NODE;const s=FD(e,d8,l=>l.name,hN);if(n){const l=FD(e,hr.getCompare());return new Jn(s,zr(t),new Ff({".priority":l},{".priority":hr}))}return new Jn(s,zr(t),Ff.Default)}}!function h8(i){MV=i}(zr);class mN extends OD{constructor(t){super(),this.indexPath_=t,(0,J.hu)(!hi(t)&&".priority"!==ui(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const n=this.extractChild(t.node),r=this.extractChild(e.node),s=n.compareTo(r);return 0===s?Mv(t.name,e.name):s}makePost(t,e){const n=zr(t),r=Jn.EMPTY_NODE.updateChild(this.indexPath_,n);return new gi(e,r)}maxPost(){const t=Jn.EMPTY_NODE.updateChild(this.indexPath_,aC);return new gi(Lf,t)}toString(){return rC(this.indexPath_,0).join("/")}}const gN=new class y8 extends OD{compare(t,e){const n=t.node.compareTo(e.node);return 0===n?Mv(t.name,e.name):n}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return gi.MIN}maxPost(){return gi.MAX}makePost(t,e){const n=zr(t);return new gi(e,n)}toString(){return".value"}};function AV(i){return{type:"value",snapshotNode:i}}function F0(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function lC(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function cC(i,t,e){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:e}}class _N{constructor(t){this.index_=t}updateChild(t,e,n,r,s,l){(0,J.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=t.getImmediateChild(e);return u.getChild(r).equals(n.getChild(r))&&u.isEmpty()===n.isEmpty()||(null!=l&&(n.isEmpty()?t.hasChild(e)?l.trackChildChange(lC(e,u)):(0,J.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?l.trackChildChange(F0(e,n)):l.trackChildChange(cC(e,n,u))),t.isLeafNode()&&n.isEmpty())?t:t.updateImmediateChild(e,n).withIndex(this.index_)}updateFullNode(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(hr,(r,s)=>{e.hasChild(r)||n.trackChildChange(lC(r,s))}),e.isLeafNode()||e.forEachChild(hr,(r,s)=>{if(t.hasChild(r)){const l=t.getImmediateChild(r);l.equals(s)||n.trackChildChange(cC(r,s,l))}else n.trackChildChange(F0(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Jn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class dC{constructor(t){this.indexedFilter_=new _N(t.getIndex()),this.index_=t.getIndex(),this.startPost_=dC.getStartPost_(t),this.endPost_=dC.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,n=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&n}updateChild(t,e,n,r,s,l){return this.matches(new gi(e,n))||(n=Jn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,s,l)}updateFullNode(t,e,n){e.isLeafNode()&&(e=Jn.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Jn.EMPTY_NODE);const s=this;return e.forEachChild(hr,(l,u)=>{s.matches(new gi(l,u))||(r=r.updateImmediateChild(l,Jn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class x8{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const n=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=e=>{const n=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new dC(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,n,r,s,l){return this.rangedFilter_.matches(new gi(e,n))||(n=Jn.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,s,l):this.fullLimitUpdateChild_(t,e,n,s,l)}updateFullNode(t,e,n){let r;if(e.isLeafNode()||e.isEmpty())r=Jn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=Jn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const u=s.getNext();if(this.withinDirectionalStart(u)){if(!this.withinDirectionalEnd(u))break;r=r.updateImmediateChild(u.name,u.node),l++}}}else{let s;r=e.withIndex(this.index_),r=r.updatePriority(Jn.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let l=0;for(;s.hasNext();){const u=s.getNext();l<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?l++:r=r.updateImmediateChild(u.name,Jn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,n,r,s){let l;if(this.reverse_){const b=this.index_.getCompare();l=(w,S)=>b(S,w)}else l=this.index_.getCompare();const u=t;(0,J.hu)(u.numChildren()===this.limit_,"");const f=new gi(e,n),m=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),y=this.rangedFilter_.matches(f);if(u.hasChild(e)){const b=u.getImmediateChild(e);let w=r.getChildAfterChild(this.index_,m,this.reverse_);for(;null!=w&&(w.name===e||u.hasChild(w.name));)w=r.getChildAfterChild(this.index_,w,this.reverse_);const S=null==w?1:l(w,f);if(y&&!n.isEmpty()&&S>=0)return s?.trackChildChange(cC(e,n,b)),u.updateImmediateChild(e,n);{s?.trackChildChange(lC(e,b));const k=u.updateImmediateChild(e,Jn.EMPTY_NODE);return null!=w&&this.rangedFilter_.matches(w)?(s?.trackChildChange(F0(w.name,w.node)),k.updateImmediateChild(w.name,w.node)):k}}return n.isEmpty()?t:y&&l(m,f)>=0?(null!=s&&(s.trackChildChange(lC(m.name,m.node)),s.trackChildChange(F0(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(m.name,Jn.EMPTY_NODE)):t}}class UD{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=hr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,J.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,J.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Wm}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,J.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,J.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Lf}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,J.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===hr}copy(){const t=new UD;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function vN(i,t,e){const n=i.copy();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n}function yN(i,t,e){const n=i.copy();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n}function BD(i,t){const e=i.copy();return e.index_=t,e}function DV(i){const t={};if(i.isDefault())return t;let e;if(i.index_===hr?e="$priority":i.index_===gN?e="$value":i.index_===$u?e="$key":((0,J.hu)(i.index_ instanceof mN,"Unrecognized index type!"),e=i.index_.toString()),t.orderBy=(0,J.Wl)(e),i.startSet_){const n=i.startAfterSet_?"startAfter":"startAt";t[n]=(0,J.Wl)(i.indexStartValue_),i.startNameSet_&&(t[n]+=","+(0,J.Wl)(i.indexStartName_))}if(i.endSet_){const n=i.endBeforeSet_?"endBefore":"endAt";t[n]=(0,J.Wl)(i.indexEndValue_),i.endNameSet_&&(t[n]+=","+(0,J.Wl)(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function IV(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let e=i.viewFrom_;""===e&&(e=i.isViewFromLeft()?"l":"r"),t.vf=e}return i.index_!==hr&&(t.i=i.index_.toString()),t}class VD extends pV{constructor(t,e,n,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=eC("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,J.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,n,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const l=VD.getListenId_(t,n),u={};this.listens_[l]=u;const f=DV(t._queryParams);this.restRequest_(s+".json",f,(m,y)=>{let b=y;if(404===m&&(b=null,m=null),null===m&&this.onDataUpdate_(s,b,!1,n),(0,J.DV)(this.listens_,l)===u){let w;w=m?401===m?"permission_denied":"rest_error:"+m:"ok",r(w,null)}})}unlisten(t,e){const n=VD.getListenId_(t,e);delete this.listens_[n]}get(t){const e=DV(t._queryParams),n=t._path.toString(),r=new J.BH;return this.restRequest_(n+".json",e,(s,l)=>{let u=l;404===s&&(u=null,s=null),null===s?(this.onDataUpdate_(n,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},n){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,J.xO)(e);this.log_("Sending REST request for "+l);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(n&&4===u.readyState){this.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);let f=null;if(u.status>=200&&u.status<300){try{f=(0,J.cI)(u.responseText)}catch{Ko("Failed to parse JSON response for "+l+": "+u.responseText)}n(null,f)}else 401!==u.status&&404!==u.status&&Ko("Got unsuccessful REST response for "+l+" Status: "+u.status),n(u.status);n=null}},u.open("GET",l,!0),u.send()})}}class T8{constructor(){this.rootNode_=Jn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function HD(){return{value:null,children:new Map}}function U0(i,t,e){if(hi(t))i.value=e,i.children.clear();else if(null!==i.value)i.value=i.value.updateChild(t,e);else{const n=ui(t);i.children.has(n)||i.children.set(n,HD()),U0(i.children.get(n),t=ir(t),e)}}function bN(i,t){if(hi(t))return i.value=null,i.children.clear(),!0;if(null!==i.value){if(i.value.isLeafNode())return!1;{const e=i.value;return i.value=null,e.forEachChild(hr,(n,r)=>{U0(i,new Yi(n),r)}),bN(i,t)}}if(i.children.size>0){const e=ui(t);return t=ir(t),i.children.has(e)&&bN(i.children.get(e),t)&&i.children.delete(e),0===i.children.size}return!0}function xN(i,t,e){null!==i.value?e(t,i.value):function A8(i,t){i.children.forEach((e,n)=>{t(n,e)})}(i,(n,r)=>{xN(r,new Yi(t.toString()+"/"+n),e)})}class D8{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&fo(this.last_,(n,r)=>{e[n]=e[n]-r}),this.last_=t,e}}class P8{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new D8(t);const n=1e4+2e4*Math.random();nC(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const t=this.statsListener_.get(),e={};let n=!1;fo(t,(r,s)=>{s>0&&(0,J.r3)(this.statsToReport_,r)&&(e[r]=s,n=!0)}),n&&this.server_.reportStats(e),nC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Yu=function(i){return i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",i}(Yu||{});function CN(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class zD{constructor(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Yu.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(hi(this.path)){if(null!=this.affectedTree.value)return(0,J.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Yi(t));return new zD(Ri(),e,this.revert)}}return(0,J.hu)(ui(this.path)===t,"operationForChild called for unrelated child."),new zD(ir(this.path),this.affectedTree,this.revert)}}class uC{constructor(t,e){this.source=t,this.path=e,this.type=Yu.LISTEN_COMPLETE}operationForChild(t){return hi(this.path)?new uC(this.source,Ri()):new uC(this.source,ir(this.path))}}class Dv{constructor(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Yu.OVERWRITE}operationForChild(t){return hi(this.path)?new Dv(this.source,Ri(),this.snap.getImmediateChild(t)):new Dv(this.source,ir(this.path),this.snap)}}class B0{constructor(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Yu.MERGE}operationForChild(t){if(hi(this.path)){const e=this.children.subtree(new Yi(t));return e.isEmpty()?null:e.value?new Dv(this.source,Ri(),e.value):new B0(this.source,Ri(),e)}return(0,J.hu)(ui(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new B0(this.source,ir(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ym{constructor(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(hi(t))return this.isFullyInitialized()&&!this.filtered_;const e=ui(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class k8{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function hC(i,t,e,n,r,s){const l=n.filter(u=>u.type===e);l.sort((u,f)=>function L8(i,t,e){if(null==t.childName||null==e.childName)throw(0,J.g5)("Should only compare child_ events.");const n=new gi(t.childName,t.snapshotNode),r=new gi(e.childName,e.snapshotNode);return i.index_.compare(n,r)}(i,u,f)),l.forEach(u=>{const f=function N8(i,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}(i,u,s);r.forEach(m=>{m.respondsTo(u.type)&&t.push(m.createEvent(f,i.query_))})})}function GD(i,t){return{eventCache:i,serverCache:t}}function fC(i,t,e,n){return GD(new Ym(t,e,n),i.serverCache)}function PV(i,t,e,n){return GD(i.eventCache,new Ym(t,e,n))}function WD(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Iv(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let SN;class fr{constructor(t,e=(()=>(SN||(SN=new Xa(bj)),SN))()){this.value=t,this.children=e}static fromObject(t){let e=new fr(null);return fo(t,(n,r)=>{e=e.set(new Yi(n),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Ri(),value:this.value};if(hi(t))return null;{const n=ui(t),r=this.children.get(n);if(null!==r){const s=r.findRootMostMatchingPathAndValue(ir(t),e);return null!=s?{path:Rr(new Yi(n),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(hi(t))return this;{const e=ui(t),n=this.children.get(e);return null!==n?n.subtree(ir(t)):new fr(null)}}set(t,e){if(hi(t))return new fr(e,this.children);{const n=ui(t),s=(this.children.get(n)||new fr(null)).set(ir(t),e),l=this.children.insert(n,s);return new fr(this.value,l)}}remove(t){if(hi(t))return this.children.isEmpty()?new fr(null):new fr(null,this.children);{const e=ui(t),n=this.children.get(e);if(n){const r=n.remove(ir(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new fr(null):new fr(this.value,s)}return this}}get(t){if(hi(t))return this.value;{const e=ui(t),n=this.children.get(e);return n?n.get(ir(t)):null}}setTree(t,e){if(hi(t))return e;{const n=ui(t),s=(this.children.get(n)||new fr(null)).setTree(ir(t),e);let l;return l=s.isEmpty()?this.children.remove(n):this.children.insert(n,s),new fr(this.value,l)}}fold(t){return this.fold_(Ri(),t)}fold_(t,e){const n={};return this.children.inorderTraversal((r,s)=>{n[r]=s.fold_(Rr(t,r),e)}),e(t,this.value,n)}findOnPath(t,e){return this.findOnPath_(t,Ri(),e)}findOnPath_(t,e,n){const r=!!this.value&&n(e,this.value);if(r)return r;if(hi(t))return null;{const s=ui(t),l=this.children.get(s);return l?l.findOnPath_(ir(t),Rr(e,s),n):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Ri(),e)}foreachOnPath_(t,e,n){if(hi(t))return this;{this.value&&n(e,this.value);const r=ui(t),s=this.children.get(r);return s?s.foreachOnPath_(ir(t),Rr(e,r),n):new fr(null)}}foreach(t){this.foreach_(Ri(),t)}foreach_(t,e){this.children.inorderTraversal((n,r)=>{r.foreach_(Rr(t,n),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,n)=>{n.value&&t(e,n.value)})}}class kd{constructor(t){this.writeTree_=t}static empty(){return new kd(new fr(null))}}function pC(i,t,e){if(hi(t))return new kd(new fr(e));{const n=i.writeTree_.findRootMostValueAndPath(t);if(null!=n){const r=n.path;let s=n.value;const l=ga(r,t);return s=s.updateChild(l,e),new kd(i.writeTree_.set(r,s))}{const r=new fr(e),s=i.writeTree_.setTree(t,r);return new kd(s)}}}function MN(i,t,e){let n=i;return fo(e,(r,s)=>{n=pC(n,Rr(t,r),s)}),n}function kV(i,t){if(hi(t))return kd.empty();{const e=i.writeTree_.setTree(t,new fr(null));return new kd(e)}}function TN(i,t){return null!=Rv(i,t)}function Rv(i,t){const e=i.writeTree_.findRootMostValueAndPath(t);return null!=e?i.writeTree_.get(e.path).getChild(ga(e.path,t)):null}function OV(i){const t=[],e=i.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(hr,(n,r)=>{t.push(new gi(n,r))}):i.writeTree_.children.inorderTraversal((n,r)=>{null!=r.value&&t.push(new gi(n,r.value))}),t}function qm(i,t){if(hi(t))return i;{const e=Rv(i,t);return new kd(null!=e?new fr(e):i.writeTree_.subtree(t))}}function AN(i){return i.writeTree_.isEmpty()}function V0(i,t){return NV(Ri(),i.writeTree_,t)}function NV(i,t,e){if(null!=t.value)return e.updateChild(i,t.value);{let n=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,J.hu)(null!==s.value,"Priority writes must always be leaf nodes"),n=s.value):e=NV(Rr(i,r),s,e)}),!e.getChild(i).isEmpty()&&null!==n&&(e=e.updateChild(Rr(i,".priority"),n)),e}}function jD(i,t){return VV(t,i)}function z8(i,t){if(i.snap)return wc(i.path,t);for(const e in i.children)if(i.children.hasOwnProperty(e)&&wc(Rr(i.path,e),t))return!0;return!1}function W8(i){return i.visible}function LV(i,t,e){let n=kd.empty();for(let r=0;r<i.length;++r){const s=i[r];if(t(s)){const l=s.path;let u;if(s.snap)wc(e,l)?(u=ga(e,l),n=pC(n,u,s.snap)):wc(l,e)&&(u=ga(l,e),n=pC(n,Ri(),s.snap.getChild(u)));else{if(!s.children)throw(0,J.g5)("WriteRecord should have .snap or .children");if(wc(e,l))u=ga(e,l),n=MN(n,u,s.children);else if(wc(l,e))if(u=ga(l,e),hi(u))n=MN(n,Ri(),s.children);else{const f=(0,J.DV)(s.children,ui(u));if(f){const m=f.getChild(ir(u));n=pC(n,Ri(),m)}}}}}return n}function FV(i,t,e,n,r){if(n||r){const s=qm(i.visibleWrites,t);return!r&&AN(s)?e:r||null!=e||TN(s,Ri())?V0(LV(i.allWrites,function(m){return(m.visible||r)&&(!n||!~n.indexOf(m.writeId))&&(wc(m.path,t)||wc(t,m.path))},t),e||Jn.EMPTY_NODE):null}{const s=Rv(i.visibleWrites,t);if(null!=s)return s;{const l=qm(i.visibleWrites,t);return AN(l)?e:null!=e||TN(l,Ri())?V0(l,e||Jn.EMPTY_NODE):null}}}function $D(i,t,e,n){return FV(i.writeTree,i.treePath,t,e,n)}function DN(i,t){return function j8(i,t,e){let n=Jn.EMPTY_NODE;const r=Rv(i.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(hr,(s,l)=>{n=n.updateImmediateChild(s,l)}),n;if(e){const s=qm(i.visibleWrites,t);return e.forEachChild(hr,(l,u)=>{const f=V0(qm(s,new Yi(l)),u);n=n.updateImmediateChild(l,f)}),OV(s).forEach(l=>{n=n.updateImmediateChild(l.name,l.node)}),n}return OV(qm(i.visibleWrites,t)).forEach(l=>{n=n.updateImmediateChild(l.name,l.node)}),n}(i.writeTree,i.treePath,t)}function UV(i,t,e,n){return function $8(i,t,e,n,r){(0,J.hu)(n||r,"Either existingEventSnap or existingServerSnap must exist");const s=Rr(t,e);if(TN(i.visibleWrites,s))return null;{const l=qm(i.visibleWrites,s);return AN(l)?r.getChild(e):V0(l,r.getChild(e))}}(i.writeTree,i.treePath,t,e,n)}function YD(i,t){return function q8(i,t){return Rv(i.visibleWrites,t)}(i.writeTree,Rr(i.treePath,t))}function IN(i,t,e){return function Y8(i,t,e,n){const r=Rr(t,e),s=Rv(i.visibleWrites,r);return null!=s?s:n.isCompleteForChild(e)?V0(qm(i.visibleWrites,r),n.getNode().getImmediateChild(e)):null}(i.writeTree,i.treePath,t,e)}function BV(i,t){return VV(Rr(i.treePath,t),i.writeTree)}function VV(i,t){return{treePath:i,writeTree:t}}class J8{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,n=t.childName;(0,J.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,J.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(n,cC(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(n,lC(n,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(n,F0(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,J.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,cC(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)}getChanges(){return Array.from(this.changeMap.values())}}const HV=new class Q8{getCompleteChild(t){return null}getChildAfterChild(t,e,n){return null}};class RN{constructor(t,e,n=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const n=null!=this.optCompleteServerCache_?new Ym(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return IN(this.writes_,t,n)}}getChildAfterChild(t,e,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Iv(this.viewCache_),s=function K8(i,t,e,n,r,s){return function Z8(i,t,e,n,r,s,l){let u;const f=qm(i.visibleWrites,t),m=Rv(f,Ri());if(null!=m)u=m;else{if(null==e)return[];u=V0(f,e)}if(u=u.withIndex(l),u.isEmpty()||u.isLeafNode())return[];{const y=[],b=l.getCompare(),w=s?u.getReverseIteratorFrom(n,l):u.getIteratorFrom(n,l);let S=w.getNext();for(;S&&y.length<r;)0!==b(S,n)&&y.push(S),S=w.getNext();return y}}(i.writeTree,i.treePath,t,e,n,r,s)}(this.writes_,r,e,1,n,t);return 0===s.length?null:s[0]}}function zV(i,t,e,n,r,s){const l=t.eventCache;if(null!=YD(n,e))return t;{let u,f;if(hi(e))if((0,J.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const m=Iv(t),b=DN(n,m instanceof Jn?m:Jn.EMPTY_NODE);u=i.filter.updateFullNode(t.eventCache.getNode(),b,s)}else{const m=$D(n,Iv(t));u=i.filter.updateFullNode(t.eventCache.getNode(),m,s)}else{const m=ui(e);if(".priority"===m){(0,J.hu)(1===$m(e),"Can't have a priority with additional path components");const y=l.getNode();f=t.serverCache.getNode();const b=UV(n,e,y,f);u=null!=b?i.filter.updatePriority(y,b):l.getNode()}else{const y=ir(e);let b;if(l.isCompleteForChild(m)){f=t.serverCache.getNode();const w=UV(n,e,l.getNode(),f);b=null!=w?l.getNode().getImmediateChild(m).updateChild(y,w):l.getNode().getImmediateChild(m)}else b=IN(n,m,t.serverCache);u=null!=b?i.filter.updateChild(l.getNode(),m,b,y,r,s):l.getNode()}}return fC(t,u,l.isFullyInitialized()||hi(e),i.filter.filtersNodes())}}function qD(i,t,e,n,r,s,l,u){const f=t.serverCache;let m;const y=l?i.filter:i.filter.getIndexedFilter();if(hi(e))m=y.updateFullNode(f.getNode(),n,null);else if(y.filtersNodes()&&!f.isFiltered()){const S=f.getNode().updateChild(e,n);m=y.updateFullNode(f.getNode(),S,null)}else{const S=ui(e);if(!f.isCompleteForPath(e)&&$m(e)>1)return t;const A=ir(e),I=f.getNode().getImmediateChild(S).updateChild(A,n);m=".priority"===S?y.updatePriority(f.getNode(),I):y.updateChild(f.getNode(),S,I,A,HV,null)}const b=PV(t,m,f.isFullyInitialized()||hi(e),y.filtersNodes());return zV(i,b,e,r,new RN(r,b,s),u)}function PN(i,t,e,n,r,s,l){const u=t.eventCache;let f,m;const y=new RN(r,t,s);if(hi(e))m=i.filter.updateFullNode(t.eventCache.getNode(),n,l),f=fC(t,m,!0,i.filter.filtersNodes());else{const b=ui(e);if(".priority"===b)m=i.filter.updatePriority(t.eventCache.getNode(),n),f=fC(t,m,u.isFullyInitialized(),u.isFiltered());else{const w=ir(e),S=u.getNode().getImmediateChild(b);let A;if(hi(w))A=n;else{const k=y.getCompleteChild(b);A=null!=k?".priority"===cN(w)&&k.getChild(vV(w)).isEmpty()?k:k.updateChild(w,n):Jn.EMPTY_NODE}f=S.equals(A)?t:fC(t,i.filter.updateChild(u.getNode(),b,A,w,y,l),u.isFullyInitialized(),i.filter.filtersNodes())}}return f}function GV(i,t){return i.eventCache.isCompleteForChild(t)}function WV(i,t,e){return e.foreach((n,r)=>{t=t.updateChild(n,r)}),t}function kN(i,t,e,n,r,s,l,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m,f=t;m=hi(e)?n:new fr(null).setTree(e,n);const y=t.serverCache.getNode();return m.children.inorderTraversal((b,w)=>{if(y.hasChild(b)){const A=WV(0,t.serverCache.getNode().getImmediateChild(b),w);f=qD(i,f,new Yi(b),A,r,s,l,u)}}),m.children.inorderTraversal((b,w)=>{const S=!t.serverCache.isCompleteForChild(b)&&null===w.value;if(!y.hasChild(b)&&!S){const k=WV(0,t.serverCache.getNode().getImmediateChild(b),w);f=qD(i,f,new Yi(b),k,r,s,l,u)}}),f}class l${constructor(t,e){this.query_=t,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new _N(n.getIndex()),s=function w8(i){return i.loadsAllData()?new _N(i.getIndex()):i.hasLimit()?new x8(i):new dC(i)}(n);this.processor_=function e$(i){return{filter:i}}(s);const l=e.serverCache,u=e.eventCache,f=r.updateFullNode(Jn.EMPTY_NODE,l.getNode(),null),m=s.updateFullNode(Jn.EMPTY_NODE,u.getNode(),null),y=new Ym(f,l.isFullyInitialized(),r.filtersNodes()),b=new Ym(m,u.isFullyInitialized(),s.filtersNodes());this.viewCache_=GD(b,y),this.eventGenerator_=new k8(this.query_)}get query(){return this.query_}}function u$(i,t){const e=Iv(i.viewCache_);return e&&(i.query._queryParams.loadsAllData()||!hi(t)&&!e.getImmediateChild(ui(t)).isEmpty())?e.getChild(t):null}function jV(i){return 0===i.eventRegistrations_.length}function $V(i,t,e){const n=[];if(e){(0,J.hu)(null==t,"A cancel should cancel all event registrations.");const r=i.query._path;i.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(e,r);l&&n.push(l)})}if(t){let r=[];for(let s=0;s<i.eventRegistrations_.length;++s){const l=i.eventRegistrations_[s];if(l.matches(t)){if(t.hasAnyCallback()){r=r.concat(i.eventRegistrations_.slice(s+1));break}}else r.push(l)}i.eventRegistrations_=r}else i.eventRegistrations_=[];return n}function YV(i,t,e,n){t.type===Yu.MERGE&&null!==t.source.queryId&&((0,J.hu)(Iv(i.viewCache_),"We should always have a full cache before handling merges"),(0,J.hu)(WD(i.viewCache_),"Missing event cache, even though we have a server cache"));const r=i.viewCache_,s=function n$(i,t,e,n,r){const s=new J8;let l,u;if(e.type===Yu.OVERWRITE){const m=e;m.source.fromUser?l=PN(i,t,m.path,m.snap,n,r,s):((0,J.hu)(m.source.fromServer,"Unknown source."),u=m.source.tagged||t.serverCache.isFiltered()&&!hi(m.path),l=qD(i,t,m.path,m.snap,n,r,u,s))}else if(e.type===Yu.MERGE){const m=e;m.source.fromUser?l=function r$(i,t,e,n,r,s,l){let u=t;return n.foreach((f,m)=>{const y=Rr(e,f);GV(t,ui(y))&&(u=PN(i,u,y,m,r,s,l))}),n.foreach((f,m)=>{const y=Rr(e,f);GV(t,ui(y))||(u=PN(i,u,y,m,r,s,l))}),u}(i,t,m.path,m.children,n,r,s):((0,J.hu)(m.source.fromServer,"Unknown source."),u=m.source.tagged||t.serverCache.isFiltered(),l=kN(i,t,m.path,m.children,n,r,u,s))}else if(e.type===Yu.ACK_USER_WRITE){const m=e;l=m.revert?function a$(i,t,e,n,r,s){let l;if(null!=YD(n,e))return t;{const u=new RN(n,t,r),f=t.eventCache.getNode();let m;if(hi(e)||".priority"===ui(e)){let y;if(t.serverCache.isFullyInitialized())y=$D(n,Iv(t));else{const b=t.serverCache.getNode();(0,J.hu)(b instanceof Jn,"serverChildren would be complete if leaf node"),y=DN(n,b)}m=i.filter.updateFullNode(f,y,s)}else{const y=ui(e);let b=IN(n,y,t.serverCache);null==b&&t.serverCache.isCompleteForChild(y)&&(b=f.getImmediateChild(y)),m=null!=b?i.filter.updateChild(f,y,b,ir(e),u,s):t.eventCache.getNode().hasChild(y)?i.filter.updateChild(f,y,Jn.EMPTY_NODE,ir(e),u,s):f,m.isEmpty()&&t.serverCache.isFullyInitialized()&&(l=$D(n,Iv(t)),l.isLeafNode()&&(m=i.filter.updateFullNode(m,l,s)))}return l=t.serverCache.isFullyInitialized()||null!=YD(n,Ri()),fC(t,m,l,i.filter.filtersNodes())}}(i,t,m.path,n,r,s):function s$(i,t,e,n,r,s,l){if(null!=YD(r,e))return t;const u=t.serverCache.isFiltered(),f=t.serverCache;if(null!=n.value){if(hi(e)&&f.isFullyInitialized()||f.isCompleteForPath(e))return qD(i,t,e,f.getNode().getChild(e),r,s,u,l);if(hi(e)){let m=new fr(null);return f.getNode().forEachChild($u,(y,b)=>{m=m.set(new Yi(y),b)}),kN(i,t,e,m,r,s,u,l)}return t}{let m=new fr(null);return n.foreach((y,b)=>{const w=Rr(e,y);f.isCompleteForPath(w)&&(m=m.set(y,f.getNode().getChild(w)))}),kN(i,t,e,m,r,s,u,l)}}(i,t,m.path,m.affectedTree,n,r,s)}else{if(e.type!==Yu.LISTEN_COMPLETE)throw(0,J.g5)("Unknown operation type: "+e.type);l=function o$(i,t,e,n,r){const s=t.serverCache;return zV(i,PV(t,s.getNode(),s.isFullyInitialized()||hi(e),s.isFiltered()),e,n,HV,r)}(i,t,e.path,n,s)}const f=s.getChanges();return function i$(i,t,e){const n=t.eventCache;if(n.isFullyInitialized()){const r=n.getNode().isLeafNode()||n.getNode().isEmpty(),s=WD(i);(e.length>0||!i.eventCache.isFullyInitialized()||r&&!n.getNode().equals(s)||!n.getNode().getPriority().equals(s.getPriority()))&&e.push(AV(WD(t)))}}(t,l,f),{viewCache:l,changes:f}}(i.processor_,r,t,e,n);return function t$(i,t){(0,J.hu)(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,J.hu)(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}(i.processor_,s.viewCache),(0,J.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=s.viewCache,qV(i,s.changes,s.viewCache.eventCache.getNode(),null)}function qV(i,t,e,n){return function O8(i,t,e,n){const r=[],s=[];return t.forEach(l=>{"child_changed"===l.type&&i.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(function b8(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}(l.childName,l.snapshotNode))}),hC(i,r,"child_removed",t,n,e),hC(i,r,"child_added",t,n,e),hC(i,r,"child_moved",s,n,e),hC(i,r,"child_changed",t,n,e),hC(i,r,"value",t,n,e),r}(i.eventGenerator_,t,e,n?[n]:i.eventRegistrations_)}let ZD,KD;class ZV{constructor(){this.views=new Map}}function ON(i,t,e,n){const r=t.source.queryId;if(null!==r){const s=i.views.get(r);return(0,J.hu)(null!=s,"SyncTree gave us an op for an invalid query."),YV(s,t,e,n)}{let s=[];for(const l of i.views.values())s=s.concat(YV(l,t,e,n));return s}}function XV(i,t,e,n,r){const l=i.views.get(t._queryIdentifier);if(!l){let u=$D(e,r?n:null),f=!1;u?f=!0:n instanceof Jn?(u=DN(e,n),f=!1):(u=Jn.EMPTY_NODE,f=!1);const m=GD(new Ym(u,f,!1),new Ym(n,r,!1));return new l$(t,m)}return l}function KV(i){const t=[];for(const e of i.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Zm(i,t){let e=null;for(const n of i.views.values())e=e||u$(n,t);return e}function JV(i,t){return t._queryParams.loadsAllData()?XD(i):i.views.get(t._queryIdentifier)}function QV(i,t){return null!=JV(i,t)}function Xm(i){return null!=XD(i)}function XD(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let x$=1;class eH{constructor(t){this.listenProvider_=t,this.syncPointTree_=new fr(null),this.pendingWriteTree_=function X8(){return{visibleWrites:kd.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function NN(i,t,e,n,r){return function U8(i,t,e,n,r){(0,J.hu)(n>i.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),i.allWrites.push({path:t,snap:e,writeId:n,visible:r}),r&&(i.visibleWrites=pC(i.visibleWrites,t,e)),i.lastWriteId=n}(i.pendingWriteTree_,t,e,n,r),r?H0(i,new Dv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Km(i,t,e=!1){const n=function V8(i,t){for(let e=0;e<i.allWrites.length;e++){const n=i.allWrites[e];if(n.writeId===t)return n}return null}(i.pendingWriteTree_,t);if(function H8(i,t){const e=i.allWrites.findIndex(u=>u.writeId===t);(0,J.hu)(e>=0,"removeWrite called with nonexistent writeId.");const n=i.allWrites[e];i.allWrites.splice(e,1);let r=n.visible,s=!1,l=i.allWrites.length-1;for(;r&&l>=0;){const u=i.allWrites[l];u.visible&&(l>=e&&z8(u,n.path)?r=!1:wc(n.path,u.path)&&(s=!0)),l--}return!!r&&(s?(function G8(i){i.visibleWrites=LV(i.allWrites,W8,Ri()),i.lastWriteId=i.allWrites.length>0?i.allWrites[i.allWrites.length-1].writeId:-1}(i),!0):(n.snap?i.visibleWrites=kV(i.visibleWrites,n.path):fo(n.children,f=>{i.visibleWrites=kV(i.visibleWrites,Rr(n.path,f))}),!0))}(i.pendingWriteTree_,t)){let s=new fr(null);return null!=n.snap?s=s.set(Ri(),!0):fo(n.children,l=>{s=s.set(new Yi(l),!0)}),H0(i,new zD(n.path,s,e))}return[]}function mC(i,t,e){return H0(i,new Dv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function JD(i,t,e,n,r=!1){const s=t._path,l=i.syncPointTree_.get(s);let u=[];if(l&&("default"===t._queryIdentifier||QV(l,t))){const f=function v$(i,t,e,n){const r=t._queryIdentifier,s=[];let l=[];const u=Xm(i);if("default"===r)for(const[f,m]of i.views.entries())l=l.concat($V(m,e,n)),jV(m)&&(i.views.delete(f),m.query._queryParams.loadsAllData()||s.push(m.query));else{const f=i.views.get(r);f&&(l=l.concat($V(f,e,n)),jV(f)&&(i.views.delete(r),f.query._queryParams.loadsAllData()||s.push(f.query)))}return u&&!Xm(i)&&s.push(new(function m$(){return(0,J.hu)(ZD,"Reference.ts has not been loaded"),ZD}())(t._repo,t._path)),{removed:s,events:l}}(l,t,e,n);(function g$(i){return 0===i.views.size})(l)&&(i.syncPointTree_=i.syncPointTree_.remove(s));const m=f.removed;if(u=f.events,!r){const y=-1!==m.findIndex(w=>w._queryParams.loadsAllData()),b=i.syncPointTree_.findOnPath(s,(w,S)=>Xm(S));if(y&&!b){const w=i.syncPointTree_.subtree(s);if(!w.isEmpty()){const S=function A$(i){return i.fold((t,e,n)=>{if(e&&Xm(e))return[XD(e)];{let r=[];return e&&(r=KV(e)),fo(n,(s,l)=>{r=r.concat(l)}),r}})}(w);for(let A=0;A<S.length;++A){const k=S[A],I=k.query,R=rH(i,k);i.listenProvider_.startListening(_C(I),gC(i,I),R.hashFn,R.onComplete)}}}!b&&m.length>0&&!n&&(y?i.listenProvider_.stopListening(_C(t),null):m.forEach(w=>{const S=i.queryToTagMap.get(eI(w));i.listenProvider_.stopListening(_C(w),S)}))}!function D$(i,t){for(let e=0;e<t.length;++e){const n=t[e];if(!n._queryParams.loadsAllData()){const r=eI(n),s=i.queryToTagMap.get(r);i.queryToTagMap.delete(r),i.tagToQueryMap.delete(s)}}}(i,m)}return u}function tH(i,t,e,n){const r=FN(i,n);if(null!=r){const s=UN(r),l=s.path,u=s.queryId,f=ga(l,t);return BN(i,l,new Dv(CN(u),f,e))}return[]}function LN(i,t,e,n=!1){const r=t._path;let s=null,l=!1;i.syncPointTree_.foreachOnPath(r,(w,S)=>{const A=ga(w,r);s=s||Zm(S,A),l=l||Xm(S)});let f,u=i.syncPointTree_.get(r);u?(l=l||Xm(u),s=s||Zm(u,Ri())):(u=new ZV,i.syncPointTree_=i.syncPointTree_.set(r,u)),null!=s?f=!0:(f=!1,s=Jn.EMPTY_NODE,i.syncPointTree_.subtree(r).foreachChild((S,A)=>{const k=Zm(A,Ri());k&&(s=s.updateImmediateChild(S,k))}));const m=QV(u,t);if(!m&&!t._queryParams.loadsAllData()){const w=eI(t);(0,J.hu)(!i.queryToTagMap.has(w),"View does not exist, but we have a tag");const S=function I$(){return x$++}();i.queryToTagMap.set(w,S),i.tagToQueryMap.set(S,w)}let b=function _$(i,t,e,n,r,s){const l=XV(i,t,n,r,s);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,l),function h$(i,t){i.eventRegistrations_.push(t)}(l,e),function f$(i,t){const e=i.viewCache_.eventCache,n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(hr,(s,l)=>{n.push(F0(s,l))}),e.isFullyInitialized()&&n.push(AV(e.getNode())),qV(i,n,e.getNode(),t)}(l,e)}(u,t,e,jD(i.pendingWriteTree_,r),s,f);if(!m&&!l&&!n){const w=JV(u,t);b=b.concat(function R$(i,t,e){const n=t._path,r=gC(i,t),s=rH(i,e),l=i.listenProvider_.startListening(_C(t),r,s.hashFn,s.onComplete),u=i.syncPointTree_.subtree(n);if(r)(0,J.hu)(!Xm(u.value),"If we're adding a query, it shouldn't be shadowed");else{const f=u.fold((m,y,b)=>{if(!hi(m)&&y&&Xm(y))return[XD(y).query];{let w=[];return y&&(w=w.concat(KV(y).map(S=>S.query))),fo(b,(S,A)=>{w=w.concat(A)}),w}});for(let m=0;m<f.length;++m){const y=f[m];i.listenProvider_.stopListening(_C(y),gC(i,y))}}return l}(i,t,w))}return b}function QD(i,t,e){const r=i.pendingWriteTree_,s=i.syncPointTree_.findOnPath(t,(l,u)=>{const m=Zm(u,ga(l,t));if(m)return m});return FV(r,t,s,e,!0)}function H0(i,t){return nH(t,i.syncPointTree_,null,jD(i.pendingWriteTree_,Ri()))}function nH(i,t,e,n){if(hi(i.path))return iH(i,t,e,n);{const r=t.get(Ri());null==e&&null!=r&&(e=Zm(r,Ri()));let s=[];const l=ui(i.path),u=i.operationForChild(l),f=t.children.get(l);if(f&&u){const m=e?e.getImmediateChild(l):null,y=BV(n,l);s=s.concat(nH(u,f,m,y))}return r&&(s=s.concat(ON(r,i,n,e))),s}}function iH(i,t,e,n){const r=t.get(Ri());null==e&&null!=r&&(e=Zm(r,Ri()));let s=[];return t.children.inorderTraversal((l,u)=>{const f=e?e.getImmediateChild(l):null,m=BV(n,l),y=i.operationForChild(l);y&&(s=s.concat(iH(y,u,f,m)))}),r&&(s=s.concat(ON(r,i,n,e))),s}function rH(i,t){const e=t.query,n=gC(i,e);return{hashFn:()=>(function c$(i){return i.viewCache_.serverCache.getNode()}(t)||Jn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return n?function S$(i,t,e){const n=FN(i,e);if(n){const r=UN(n),s=r.path,l=r.queryId,u=ga(s,t);return BN(i,s,new uC(CN(l),u))}return[]}(i,e._path,n):function C$(i,t){return H0(i,new uC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(i,e._path);{const s=function Ej(i,t){let e="Unknown Error";"too_big"===i?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===i?e="Client doesn't have permission to access the desired data.":"unavailable"===i&&(e="The service is unavailable");const n=new Error(i+" at "+t._path.toString()+": "+e);return n.code=i.toUpperCase(),n}(r,e);return JD(i,e,null,s)}}}}function gC(i,t){const e=eI(t);return i.queryToTagMap.get(e)}function eI(i){return i._path.toString()+"$"+i._queryIdentifier}function FN(i,t){return i.tagToQueryMap.get(t)}function UN(i){const t=i.indexOf("$");return(0,J.hu)(-1!==t&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new Yi(i.substr(0,t))}}function BN(i,t,e){const n=i.syncPointTree_.get(t);return(0,J.hu)(n,"Missing sync point for query tag that we're tracking"),ON(n,e,jD(i.pendingWriteTree_,t),null)}function _C(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(function b$(){return(0,J.hu)(KD,"Reference.ts has not been loaded"),KD}())(i._repo,i._path):i}class VN{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new VN(e)}node(){return this.node_}}class HN{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Rr(this.path_,t);return new HN(this.syncTree_,e)}node(){return QD(this.syncTree_,this.path_)}}const P$=function(i){return(i=i||{}).timestamp=i.timestamp||(new Date).getTime(),i},sH=function(i,t,e){return i&&"object"==typeof i?((0,J.hu)(".sv"in i,"Unexpected leaf node or priority contents"),"string"==typeof i[".sv"]?k$(i[".sv"],t,e):"object"==typeof i[".sv"]?O$(i[".sv"],t):void(0,J.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2))):i},k$=function(i,t,e){if("timestamp"===i)return e.timestamp;(0,J.hu)(!1,"Unexpected server value: "+i)},O$=function(i,t,e){i.hasOwnProperty("increment")||(0,J.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const n=i.increment;"number"!=typeof n&&(0,J.hu)(!1,"Unexpected increment value: "+n);const r=t.node();if((0,J.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return n;const l=r.getValue();return"number"!=typeof l?n:l+n},oH=function(i,t,e,n){return GN(t,new HN(e,i),n)},zN=function(i,t,e){return GN(i,new VN(t),e)};function GN(i,t,e){const n=i.getPriority().val(),r=sH(n,t.getImmediateChild(".priority"),e);let s;if(i.isLeafNode()){const l=i,u=sH(l.getValue(),t,e);return u!==l.getValue()||r!==l.getPriority().val()?new N0(u,zr(r)):i}{const l=i;return s=l,r!==l.getPriority().val()&&(s=s.updatePriority(new N0(r))),l.forEachChild(hr,(u,f)=>{const m=GN(f,t.getImmediateChild(u),e);m!==f&&(s=s.updateImmediateChild(u,m))}),s}}class WN{constructor(t="",e=null,n={children:{},childCount:0}){this.name=t,this.parent=e,this.node=n}}function tI(i,t){let e=t instanceof Yi?t:new Yi(t),n=i,r=ui(e);for(;null!==r;){const s=(0,J.DV)(n.node.children,r)||{children:{},childCount:0};n=new WN(r,n,s),e=ir(e),r=ui(e)}return n}function Pv(i){return i.node.value}function jN(i,t){i.node.value=t,$N(i)}function aH(i){return i.node.childCount>0}function nI(i,t){fo(i.node.children,(e,n)=>{t(new WN(e,i,n))})}function lH(i,t,e,n){e&&!n&&t(i),nI(i,r=>{lH(r,t,!0,n)}),e&&n&&t(i)}function vC(i){return new Yi(null===i.parent?i.name:vC(i.parent)+"/"+i.name)}function $N(i){null!==i.parent&&function F$(i,t,e){const n=function N$(i){return void 0===Pv(i)&&!aH(i)}(e),r=(0,J.r3)(i.node.children,t);n&&r?(delete i.node.children[t],i.node.childCount--,$N(i)):!n&&!r&&(i.node.children[t]=e.node,i.node.childCount++,$N(i))}(i.parent,i.name,i)}const U$=/[\[\].#$\/\u0000-\u001F\u007F]/,B$=/[\[\].#$\u0000-\u001F\u007F]/,YN=10485760,iI=function(i){return"string"==typeof i&&0!==i.length&&!U$.test(i)},cH=function(i){return"string"==typeof i&&0!==i.length&&!B$.test(i)},yC=function(i){return null===i||"string"==typeof i||"number"==typeof i&&!ID(i)||i&&"object"==typeof i&&(0,J.r3)(i,".sv")},qu=function(i,t,e,n){n&&void 0===t||bC((0,J.gK)(i,"value"),t,e)},bC=function(i,t,e){const n=e instanceof Yi?new n8(e,i):e;if(void 0===t)throw new Error(i+"contains undefined "+Tv(n));if("function"==typeof t)throw new Error(i+"contains a function "+Tv(n)+" with contents = "+t.toString());if(ID(t))throw new Error(i+"contains "+t.toString()+" "+Tv(n));if("string"==typeof t&&t.length>YN/3&&(0,J.ug)(t)>YN)throw new Error(i+"contains a string greater than "+YN+" utf8 bytes "+Tv(n)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(fo(t,(l,u)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(s=!0,!iI(l)))throw new Error(i+" contains an invalid key ("+l+") "+Tv(n)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function i8(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=(0,J.ug)(t),yV(i)})(n,l),bC(i,u,n),function r8(i){const t=i.parts_.pop();i.byteLength_-=(0,J.ug)(t),i.parts_.length>0&&(i.byteLength_-=1)}(n)}),r&&s)throw new Error(i+' contains ".value" child '+Tv(n)+" in addition to actual children.")}},dH=function(i,t,e,n){if(n&&void 0===t)return;const r=(0,J.gK)(i,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];fo(t,(l,u)=>{const f=new Yi(l);if(bC(r,u,Rr(e,f)),".priority"===cN(f)&&!yC(u))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(f)}),function(i,t){let e,n;for(e=0;e<t.length;e++){n=t[e];const s=rC(n);for(let l=0;l<s.length;l++)if((".priority"!==s[l]||l!==s.length-1)&&!iI(s[l]))throw new Error(i+"contains an invalid key ("+s[l]+") in path "+n.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(t8);let r=null;for(e=0;e<t.length;e++){if(n=t[e],null!==r&&wc(r,n))throw new Error(i+"contains a path "+r.toString()+" that is ancestor of another path "+n.toString());r=n}}(r,s)},qN=function(i,t,e){if(!e||void 0!==t){if(ID(t))throw new Error((0,J.gK)(i,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!yC(t))throw new Error((0,J.gK)(i,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},xC=function(i,t,e,n){if(!(n&&void 0===e||iI(e)))throw new Error((0,J.gK)(i,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},wC=function(i,t,e,n){if(!(n&&void 0===e||cH(e)))throw new Error((0,J.gK)(i,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},z$=function(i,t,e,n){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),wC(i,t,e,n)},Ec=function(i,t){if(".info"===ui(t))throw new Error(i+" failed = Can't modify data under /.info/")},uH=function(i,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!iI(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),cH(i)}(e))throw new Error((0,J.gK)(i,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class G${constructor(){this.eventLists_=[],this.recursionDepth_=0}}function rI(i,t){let e=null;for(let n=0;n<t.length;n++){const r=t[n],s=r.getPath();null!==e&&!dN(s,e.path)&&(i.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&i.eventLists_.push(e)}function hH(i,t,e){rI(i,e),fH(i,n=>dN(n,t))}function Fl(i,t,e){rI(i,e),fH(i,n=>wc(n,t)||wc(t,n))}function fH(i,t){i.recursionDepth_++;let e=!0;for(let n=0;n<i.eventLists_.length;n++){const r=i.eventLists_[n];r&&(t(r.path)?(W$(i.eventLists_[n]),i.eventLists_[n]=null):e=!1)}e&&(i.eventLists_=[]),i.recursionDepth_--}function W$(i){for(let t=0;t<i.events.length;t++){const e=i.events[t];if(null!==e){i.events[t]=null;const n=e.getEventRunner();Sv&&ho("event: "+e.toString()),k0(n)}}}const pH="repo_interrupt",j$=25;class $${constructor(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new G$,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=HD(),this.transactionQueueTree_=new WN,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function mH(i){const e=i.infoData_.getNode(new Yi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function EC(i){return P$({timestamp:mH(i)})}function gH(i,t,e,n,r){i.dataUpdateCount++;const s=new Yi(t);e=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,e):e;let l=[];if(r)if(n){const f=(0,J.UI)(e,m=>zr(m));l=function M$(i,t,e,n){const r=FN(i,n);if(r){const s=UN(r),l=s.path,u=s.queryId,f=ga(l,t),m=fr.fromObject(e);return BN(i,l,new B0(CN(u),f,m))}return[]}(i.serverSyncTree_,s,f,r)}else{const f=zr(e);l=tH(i.serverSyncTree_,s,f,r)}else if(n){const f=(0,J.UI)(e,m=>zr(m));l=function E$(i,t,e){const n=fr.fromObject(e);return H0(i,new B0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}(i.serverSyncTree_,s,f)}else{const f=zr(e);l=mC(i.serverSyncTree_,s,f)}let u=s;l.length>0&&(u=G0(i,s)),Fl(i.eventQueue_,u,l)}function _H(i,t){ZN(i,"connected",t),!1===t&&function K$(i){z0(i,"onDisconnectEvents");const t=EC(i),e=HD();xN(i.onDisconnect_,Ri(),(r,s)=>{const l=oH(r,s,i.serverSyncTree_,t);U0(e,r,l)});let n=[];xN(e,Ri(),(r,s)=>{n=n.concat(mC(i.serverSyncTree_,r,s));const l=QN(i,r);G0(i,l)}),i.onDisconnect_=HD(),Fl(i.eventQueue_,Ri(),n)}(i)}function ZN(i,t,e){const n=new Yi("/.info/"+t),r=zr(e);i.infoData_.updateSnapshot(n,r);const s=mC(i.infoSyncTree_,n,r);Fl(i.eventQueue_,n,s)}function sI(i){return i.nextWriteId_++}function XN(i,t,e,n,r){z0(i,"set",{path:t.toString(),value:e,priority:n});const s=EC(i),l=zr(e,n),u=QD(i.serverSyncTree_,t),f=zN(l,u,s),m=sI(i),y=NN(i.serverSyncTree_,t,f,m,!0);rI(i.eventQueue_,y),i.server_.put(t.toString(),l.val(!0),(w,S)=>{const A="ok"===w;A||Ko("set at "+t+" failed: "+w);const k=Km(i.serverSyncTree_,m,!A);Fl(i.eventQueue_,t,k),Jm(0,r,w,S)});const b=QN(i,t);G0(i,b),Fl(i.eventQueue_,b,[])}function J$(i,t,e){i.server_.onDisconnectCancel(t.toString(),(n,r)=>{"ok"===n&&bN(i.onDisconnect_,t),Jm(0,e,n,r)})}function vH(i,t,e,n){const r=zr(e);i.server_.onDisconnectPut(t.toString(),r.val(!0),(s,l)=>{"ok"===s&&U0(i.onDisconnect_,t,r),Jm(0,n,s,l)})}function KN(i,t,e){let n;n=".info"===ui(t._path)?JD(i.infoSyncTree_,t,e):JD(i.serverSyncTree_,t,e),hH(i.eventQueue_,t._path,n)}function yH(i){i.persistentConnection_&&i.persistentConnection_.interrupt(pH)}function z0(i,...t){let e="";i.persistentConnection_&&(e=i.persistentConnection_.id+":"),ho(e,...t)}function Jm(i,t,e,n){t&&k0(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;n&&(s+=": "+n);const l=new Error(s);l.code=r,t(l)}})}function JN(i,t,e){return QD(i.serverSyncTree_,t,e)||Jn.EMPTY_NODE}function oI(i,t=i.transactionQueueTree_){if(t||aI(i,t),Pv(t)){const e=xH(i,t);(0,J.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function rY(i,t,e){const n=e.map(m=>m.currentWriteId),r=JN(i,t,n);let s=r;const l=r.hash();for(let m=0;m<e.length;m++){const y=e[m];(0,J.hu)(0===y.status,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const b=ga(t,y.path);s=s.updateChild(b,y.currentOutputSnapshotRaw)}const u=s.val(!0),f=t;i.server_.put(f.toString(),u,m=>{z0(i,"transaction put response",{path:f.toString(),status:m});let y=[];if("ok"===m){const b=[];for(let w=0;w<e.length;w++)e[w].status=2,y=y.concat(Km(i.serverSyncTree_,e[w].currentWriteId)),e[w].onComplete&&b.push(()=>e[w].onComplete(null,!0,e[w].currentOutputSnapshotResolved)),e[w].unwatcher();aI(i,tI(i.transactionQueueTree_,t)),oI(i,i.transactionQueueTree_),Fl(i.eventQueue_,t,y);for(let w=0;w<b.length;w++)k0(b[w])}else{if("datastale"===m)for(let b=0;b<e.length;b++)e[b].status=3===e[b].status?4:0;else{Ko("transaction at "+f.toString()+" failed: "+m);for(let b=0;b<e.length;b++)e[b].status=4,e[b].abortReason=m}G0(i,t)}},l)}(i,vC(t),e)}else aH(t)&&nI(t,e=>{oI(i,e)})}function G0(i,t){const e=bH(i,t),n=vC(e);return function sY(i,t,e){if(0===t.length)return;const n=[];let r=[];const l=t.filter(u=>0===u.status).map(u=>u.currentWriteId);for(let u=0;u<t.length;u++){const f=t[u],m=ga(e,f.path);let b,y=!1;if((0,J.hu)(null!==m,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)y=!0,b=f.abortReason,r=r.concat(Km(i.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=j$)y=!0,b="maxretry",r=r.concat(Km(i.serverSyncTree_,f.currentWriteId,!0));else{const w=JN(i,f.path,l);f.currentInputSnapshot=w;const S=t[u].update(w.val());if(void 0!==S){bC("transaction failed: Data returned ",S,f.path);let A=zr(S);"object"==typeof S&&null!=S&&(0,J.r3)(S,".priority")||(A=A.updatePriority(w.getPriority()));const I=f.currentWriteId,R=EC(i),U=zN(A,w,R);f.currentOutputSnapshotRaw=A,f.currentOutputSnapshotResolved=U,f.currentWriteId=sI(i),l.splice(l.indexOf(I),1),r=r.concat(NN(i.serverSyncTree_,f.path,U,f.currentWriteId,f.applyLocally)),r=r.concat(Km(i.serverSyncTree_,I,!0))}else y=!0,b="nodata",r=r.concat(Km(i.serverSyncTree_,f.currentWriteId,!0))}Fl(i.eventQueue_,e,r),r=[],y&&(t[u].status=2,setTimeout(t[u].unwatcher,Math.floor(0)),t[u].onComplete&&n.push("nodata"===b?()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot):()=>t[u].onComplete(new Error(b),!1,null)))}aI(i,i.transactionQueueTree_);for(let u=0;u<n.length;u++)k0(n[u]);oI(i,i.transactionQueueTree_)}(i,xH(i,e),n),n}function bH(i,t){let e,n=i.transactionQueueTree_;for(e=ui(t);null!==e&&void 0===Pv(n);)n=tI(n,e),e=ui(t=ir(t));return n}function xH(i,t){const e=[];return wH(i,t,e),e.sort((n,r)=>n.order-r.order),e}function wH(i,t,e){const n=Pv(t);if(n)for(let r=0;r<n.length;r++)e.push(n[r]);nI(t,r=>{wH(i,r,e)})}function aI(i,t){const e=Pv(t);if(e){let n=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[n]=e[r],n++);e.length=n,jN(t,e.length>0?e:void 0)}nI(t,n=>{aI(i,n)})}function QN(i,t){const e=vC(bH(i,t)),n=tI(i.transactionQueueTree_,t);return function L$(i,t,e){let n=e?i:i.parent;for(;null!==n;){if(t(n))return!0;n=n.parent}}(n,r=>{eL(i,r)}),eL(i,n),lH(n,r=>{eL(i,r)}),e}function eL(i,t){const e=Pv(t);if(e){const n=[];let r=[],s=-1;for(let l=0;l<e.length;l++)3===e[l].status||(1===e[l].status?((0,J.hu)(s===l-1,"All SENT items should be at beginning of queue."),s=l,e[l].status=3,e[l].abortReason="set"):((0,J.hu)(0===e[l].status,"Unexpected transaction status in abort"),e[l].unwatcher(),r=r.concat(Km(i.serverSyncTree_,e[l].currentWriteId,!0)),e[l].onComplete&&n.push(e[l].onComplete.bind(null,new Error("set"),!1,null))));-1===s?jN(t,void 0):e.length=s+1,Fl(i.eventQueue_,vC(t),r);for(let l=0;l<n.length;l++)k0(n[l])}}const tL=function(i,t){const e=lY(i),n=e.namespace;return"firebase.com"===e.domain&&ju(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||"undefined"===n)&&"localhost"!==e.domain&&ju("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ko("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new iN(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme,t,"",n!==e.subdomain),path:new Yi(e.pathString)}},lY=function(i){let t="",e="",n="",r="",s="",l=!0,u="https",f=443;if("string"==typeof i){let m=i.indexOf("//");m>=0&&(u=i.substring(0,m-1),i=i.substring(m+2));let y=i.indexOf("/");-1===y&&(y=i.length);let b=i.indexOf("?");-1===b&&(b=i.length),t=i.substring(0,Math.min(y,b)),y<b&&(r=function oY(i){let t="";const e=i.split("/");for(let n=0;n<e.length;n++)if(e[n].length>0){let r=e[n];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(i.substring(y,b)));const w=function aY(i){const t={};"?"===i.charAt(0)&&(i=i.substring(1));for(const e of i.split("&")){if(0===e.length)continue;const n=e.split("=");2===n.length?t[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):Ko(`Invalid query segment '${e}' in query '${i}'`)}return t}(i.substring(Math.min(i.length,b)));m=t.indexOf(":"),m>=0?(l="https"===u||"wss"===u,f=parseInt(t.substring(m+1),10)):m=t.length;const S=t.slice(0,m);if("localhost"===S.toLowerCase())e="localhost";else if(S.split(".").length<=2)e=S;else{const A=t.indexOf(".");n=t.substring(0,A).toLowerCase(),e=t.substring(A+1),s=n}"ns"in w&&(s=w.ns)}return{host:t,port:f,domain:e,subdomain:n,secure:l,scheme:u,pathString:r,namespace:s}},EH="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",cY=function(){let i=0;const t=[];return function(e){const n=e===i;let r;i=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=EH.charAt(e%64),e=Math.floor(e/64);(0,J.hu)(0===e,"Cannot push at time == 0");let l=s.join("");if(n){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)l+=EH.charAt(t[r]);return(0,J.hu)(20===l.length,"nextPushId: Length should be 20."),l}}();class CH{constructor(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,J.Wl)(this.snapshot.exportVal())}}class SH{constructor(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class nL{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,J.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class MH{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new J.BH;return J$(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ec("OnDisconnect.remove",this._path);const t=new J.BH;return vH(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ec("OnDisconnect.set",this._path),qu("OnDisconnect.set",t,this._path,!1);const e=new J.BH;return vH(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Ec("OnDisconnect.setWithPriority",this._path),qu("OnDisconnect.setWithPriority",t,this._path,!1),qN("OnDisconnect.setWithPriority",e,!1);const n=new J.BH;return function Q$(i,t,e,n,r){const s=zr(e,n);i.server_.onDisconnectPut(t.toString(),s.val(!0),(l,u)=>{"ok"===l&&U0(i.onDisconnect_,t,s),Jm(0,r,l,u)})}(this._repo,this._path,t,e,n.wrapCallback(()=>{})),n.promise}update(t){Ec("OnDisconnect.update",this._path),dH("OnDisconnect.update",t,this._path,!1);const e=new J.BH;return function eY(i,t,e,n){if((0,J.xb)(e))return ho("onDisconnect().update() called with empty data.  Don't do anything."),void Jm(0,n,"ok",void 0);i.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&fo(e,(l,u)=>{const f=zr(u);U0(i.onDisconnect_,Rr(t,l),f)}),Jm(0,n,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Ka{constructor(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}get key(){return hi(this._path)?null:cN(this._path)}get ref(){return new Cc(this._repo,this._path)}get _queryIdentifier(){const t=IV(this._queryParams),e=tN(t);return"{}"===e?"default":e}get _queryObject(){return IV(this._queryParams)}isEqual(t){if(!((t=(0,J.m9)(t))instanceof Ka))return!1;const e=this._repo===t._repo,n=dN(this._path,t._path);return e&&n&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function e8(i){let t="";for(let e=i.pieceNum_;e<i.pieces_.length;e++)""!==i.pieces_[e]&&(t+="/"+encodeURIComponent(String(i.pieces_[e])));return t||"/"}(this._path)}}function lI(i,t){if(!0===i._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Qm(i){let t=null,e=null;if(i.hasStart()&&(t=i.getIndexStartValue()),i.hasEnd()&&(e=i.getIndexEndValue()),i.getIndex()===$u){const n="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(i.hasStart()){if(i.getIndexStartName()!==Wm)throw new Error(n);if("string"!=typeof t)throw new Error(r)}if(i.hasEnd()){if(i.getIndexEndName()!==Lf)throw new Error(n);if("string"!=typeof e)throw new Error(r)}}else if(i.getIndex()===hr){if(null!=t&&!yC(t)||null!=e&&!yC(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,J.hu)(i.getIndex()instanceof mN||i.getIndex()===gN,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function cI(i){if(i.hasStart()&&i.hasEnd()&&i.hasLimit()&&!i.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Cc extends Ka{constructor(t,e){super(t,e,new UD,!1)}get parent(){const t=vV(this._path);return null===t?null:new Cc(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class kv{constructor(t,e,n){this._node=t,this.ref=e,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Yi(t),n=Ov(this.ref,t);return new kv(this._node.getChild(e),n,hr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(n,r)=>t(new kv(r,Ov(this.ref,n),hr)))}hasChild(t){const e=new Yi(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function TH(i,t){return(i=(0,J.m9)(i))._checkNotDeleted("ref"),void 0!==t?Ov(i._root,t):i._root}function AH(i,t){(i=(0,J.m9)(i))._checkNotDeleted("refFromURL");const e=tL(t,i._repo.repoInfo_.nodeAdmin);uH("refFromURL",e);const n=e.repoInfo;return!i._repo.repoInfo_.isCustomHost()&&n.host!==i._repo.repoInfo_.host&&ju("refFromURL: Host name does not match the current database: (found "+n.host+" but expected "+i._repo.repoInfo_.host+")"),TH(i,e.path.toString())}function Ov(i,t){return null===ui((i=(0,J.m9)(i))._path)?z$("child","path",t,!1):wC("child","path",t,!1),new Cc(i._repo,Rr(i._path,t))}function iL(i,t){i=(0,J.m9)(i),Ec("set",i._path),qu("set",t,i._path,!1);const e=new J.BH;return XN(i._repo,i._path,t,null,e.wrapCallback(()=>{})),e.promise}function pY(i,t){dH("update",t,i._path,!1);const e=new J.BH;return function X$(i,t,e,n){z0(i,"update",{path:t.toString(),value:e});let r=!0;const s=EC(i),l={};if(fo(e,(u,f)=>{r=!1,l[u]=oH(Rr(t,u),zr(f),i.serverSyncTree_,s)}),r)ho("update() called with empty data.  Don't do anything."),Jm(0,n,"ok",void 0);else{const u=sI(i),f=function w$(i,t,e,n){!function B8(i,t,e,n){(0,J.hu)(n>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:e,writeId:n,visible:!0}),i.visibleWrites=MN(i.visibleWrites,t,e),i.lastWriteId=n}(i.pendingWriteTree_,t,e,n);const r=fr.fromObject(e);return H0(i,new B0({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(i.serverSyncTree_,t,l,u);rI(i.eventQueue_,f),i.server_.merge(t.toString(),e,(m,y)=>{const b="ok"===m;b||Ko("update at "+t+" failed: "+m);const w=Km(i.serverSyncTree_,u,!b),S=w.length>0?G0(i,t):t;Fl(i.eventQueue_,S,w),Jm(0,n,m,y)}),fo(e,m=>{const y=QN(i,Rr(t,m));G0(i,y)}),Fl(i.eventQueue_,t,[])}}(i._repo,i._path,t,e.wrapCallback(()=>{})),e.promise}function mY(i){i=(0,J.m9)(i);const t=new nL(()=>{}),e=new CC(t);return function Z$(i,t,e){const n=function T$(i,t){const e=t._path;let n=null;i.syncPointTree_.foreachOnPath(e,(m,y)=>{const b=ga(m,e);n=n||Zm(y,b)});let r=i.syncPointTree_.get(e);r?n=n||Zm(r,Ri()):(r=new ZV,i.syncPointTree_=i.syncPointTree_.set(e,r));const s=null!=n,l=s?new Ym(n,!0,!1):null;return function d$(i){return WD(i.viewCache_)}(XV(r,t,jD(i.pendingWriteTree_,t._path),s?l.getNode():Jn.EMPTY_NODE,s))}(i.serverSyncTree_,t);return null!=n?Promise.resolve(n):i.server_.get(t).then(r=>{const s=zr(r).withIndex(t._queryParams.getIndex());let l;if(LN(i.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())l=mC(i.serverSyncTree_,t._path,s);else{const u=gC(i.serverSyncTree_,t);l=tH(i.serverSyncTree_,t._path,s,u)}return Fl(i.eventQueue_,t._path,l),JD(i.serverSyncTree_,t,e,null,!0),s},r=>(z0(i,"get for query "+(0,J.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(i._repo,i,e).then(n=>new kv(n,new Cc(i._repo,i._path),i._queryParams.getIndex()))}class CC{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const n=e._queryParams.getIndex();return new CH("value",this,new kv(t.snapshotNode,new Cc(e._repo,e._path),n))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new SH(this,t,e):null}matches(t){return t instanceof CC&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class dI{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new SH(this,t,e):null}createEvent(t,e){(0,J.hu)(null!=t.childName,"Child events should have a childName.");const n=Ov(new Cc(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new CH(t.type,this,new kv(t.snapshotNode,n,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof dI&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function SC(i,t,e,n,r){let s;if("object"==typeof n&&(s=void 0,r=n),"function"==typeof n&&(s=n),r&&r.onlyOnce){const f=e,m=(y,b)=>{KN(i._repo,i,u),f(y,b)};m.userCallback=e.userCallback,m.context=e.context,e=m}const l=new nL(e,s||void 0),u="value"===t?new CC(l):new dI(t,l);return function tY(i,t,e){let n;n=".info"===ui(t._path)?LN(i.infoSyncTree_,t,e):LN(i.serverSyncTree_,t,e),hH(i.eventQueue_,t._path,n)}(i._repo,i,u),()=>KN(i._repo,i,u)}function rL(i,t,e,n){return SC(i,"value",t,e,n)}function DH(i,t,e,n){return SC(i,"child_added",t,e,n)}function IH(i,t,e,n){return SC(i,"child_changed",t,e,n)}function RH(i,t,e,n){return SC(i,"child_moved",t,e,n)}function PH(i,t,e,n){return SC(i,"child_removed",t,e,n)}function kH(i,t,e){let n=null;const r=e?new nL(e):null;"value"===t?n=new CC(r):t&&(n=new dI(t,r)),KN(i._repo,i,n)}class Od{}class OH extends Od{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){qu("endAt",this._value,t._path,!0);const e=yN(t._queryParams,this._value,this._key);if(cI(e),Qm(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ka(t._repo,t._path,e,t._orderByCalled)}}class _Y extends Od{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){qu("endBefore",this._value,t._path,!1);const e=function M8(i,t,e){let n;return n=yN(i,t,i.index_===$u||e?e:Wm),n.endBeforeSet_=!0,n}(t._queryParams,this._value,this._key);if(cI(e),Qm(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ka(t._repo,t._path,e,t._orderByCalled)}}class NH extends Od{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){qu("startAt",this._value,t._path,!0);const e=vN(t._queryParams,this._value,this._key);if(cI(e),Qm(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ka(t._repo,t._path,e,t._orderByCalled)}}class bY extends Od{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){qu("startAfter",this._value,t._path,!1);const e=function S8(i,t,e){let n;return n=vN(i,t,i.index_===$u||e?e:Lf),n.startAfterSet_=!0,n}(t._queryParams,this._value,this._key);if(cI(e),Qm(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ka(t._repo,t._path,e,t._orderByCalled)}}class wY extends Od{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ka(t._repo,t._path,function E8(i,t){const e=i.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class CY extends Od{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ka(t._repo,t._path,function C8(i,t){const e=i.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class MY extends Od{constructor(t){super(),this._path=t}_apply(t){lI(t,"orderByChild");const e=new Yi(this._path);if(hi(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new mN(e),r=BD(t._queryParams,n);return Qm(r),new Ka(t._repo,t._path,r,!0)}}class AY extends Od{_apply(t){lI(t,"orderByKey");const e=BD(t._queryParams,$u);return Qm(e),new Ka(t._repo,t._path,e,!0)}}class IY extends Od{_apply(t){lI(t,"orderByPriority");const e=BD(t._queryParams,hr);return Qm(e),new Ka(t._repo,t._path,e,!0)}}class PY extends Od{_apply(t){lI(t,"orderByValue");const e=BD(t._queryParams,gN);return Qm(e),new Ka(t._repo,t._path,e,!0)}}class OY extends Od{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(qu("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new OH(this._value,this._key)._apply(new NH(this._value,this._key)._apply(t))}}function Nd(i,...t){let e=(0,J.m9)(i);for(const n of t)e=n._apply(e);return e}(function p$(i){(0,J.hu)(!ZD,"__referenceConstructor has already been defined"),ZD=i})(Cc),function y$(i){(0,J.hu)(!KD,"__referenceConstructor has already been defined"),KD=i}(Cc);const sL={};function FH(i,t,e,n,r){let s=n||i.options.databaseURL;void 0===s&&(i.options.projectId||ju("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ho("Using default host for project ",i.options.projectId),s=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f,m,l=tL(s,r),u=l.repoInfo;typeof process<"u"&&process.env&&(m=process.env.FIREBASE_DATABASE_EMULATOR_HOST),m?(f=!0,s=`http://${m}?ns=${u.namespace}`,l=tL(s,r),u=l.repoInfo):f=!l.repoInfo.secure;const y=r&&f?new iC(iC.OWNER):new Dj(i.name,i.options,t);uH("Invalid Firebase Database URL",l),hi(l.path)||ju("Database URL must point to the root of a Firebase Database (not including a child path).");const b=function BY(i,t,e,n){let r=sL[t.name];r||(r={},sL[t.name]=r);let s=r[i.toURLString()];return s&&ju("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new $$(i,false,e,n),r[i.toURLString()]=s,s}(u,i,y,new Aj(i.name,e));return new HY(b,i)}class HY{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Y$(i,t,e){if(i.stats_=oN(i.repoInfo_),i.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)i.server_=new VD(i.repoInfo_,(n,r,s,l)=>{gH(i,n,r,s,l)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>_H(i,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,J.Wl)(e)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}i.persistentConnection_=new Av(i.repoInfo_,t,(n,r,s,l)=>{gH(i,n,r,s,l)},n=>{_H(i,n)},n=>{!function q$(i,t){fo(t,(e,n)=>{ZN(i,e,n)})}(i,n)},i.authTokenProvider_,i.appCheckProvider_,e),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(n=>{i.server_.refreshAuthToken(n)}),i.appCheckProvider_.addTokenChangeListener(n=>{i.server_.refreshAppCheckToken(n.token)}),i.statsReporter_=function Pj(i,t){const e=i.toString();return sN[e]||(sN[e]=t()),sN[e]}(i.repoInfo_,()=>new P8(i.stats_,i.server_)),i.infoData_=new T8,i.infoSyncTree_=new eH({startListening:(n,r,s,l)=>{let u=[];const f=i.infoData_.getNode(n._path);return f.isEmpty()||(u=mC(i.infoSyncTree_,n._path,f),setTimeout(()=>{l("ok")},0)),u},stopListening:()=>{}}),ZN(i,"connected",!1),i.serverSyncTree_=new eH({startListening:(n,r,s,l)=>(i.server_.listen(n,s,r,(u,f)=>{const m=l(u,f);Fl(i.eventQueue_,n._path,m)}),[]),stopListening:(n,r)=>{i.server_.unlisten(n,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Cc(this._repo,Ri())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function UY(i,t){const e=sL[t];(!e||e[i.key]!==i)&&ju(`Database ${t}(${i.repoInfo_}) has already been deleted.`),yH(i),delete e[i.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&ju("Cannot call "+t+" on a deleted database.")}}function UH(){oV.IS_TRANSPORT_INITIALIZED&&Ko("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function zY(){UH(),jm.forceDisallow()}function GY(){UH(),O0.forceDisallow(),jm.forceAllow()}function $Y(i,t){V3(i,t)}const qY={".sv":"timestamp"};class KY{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Av.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)},Av.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)},function YY(i){N3(Ev.SDK_VERSION),(0,Ev._registerComponent)(new wv.wA("database",(t,{instanceIdentifier:e})=>FH(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Ev.registerVersion)(k3,"0.14.4",i),(0,Ev.registerVersion)(k3,"0.14.4","esm2017")}();const tq=new DD.Yd("@firebase/database-compat"),VH=function(i){tq.warn("FIREBASE WARNING: "+i)};class rq{constructor(t){this._delegate=t}cancel(t){(0,J.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,J.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),n=>t(n)),e}remove(t){(0,J.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,J.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),n=>t(n)),e}set(t,e){(0,J.Dv)("OnDisconnect.set",1,2,arguments.length),(0,J.Wj)("OnDisconnect.set","onComplete",e,!0);const n=this._delegate.set(t);return e&&n.then(()=>e(null),r=>e(r)),n}setWithPriority(t,e,n){(0,J.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,J.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(t,e);return n&&r.then(()=>n(null),s=>n(s)),r}update(t,e){if((0,J.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,VH("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,J.Wj)("OnDisconnect.update","onComplete",e,!0);const n=this._delegate.update(t);return e&&n.then(()=>e(null),r=>e(r)),n}}class sq{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,J.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class eg{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,J.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,J.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,J.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,J.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,J.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),wC("DataSnapshot.child","path",t,!1),new eg(this._database,this._delegate.child(t))}hasChild(t){return(0,J.Dv)("DataSnapshot.hasChild",1,1,arguments.length),wC("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,J.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,J.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,J.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new eg(this._database,e)))}hasChildren(){return(0,J.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,J.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,J.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ul(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ao{constructor(t,e){this.database=t,this._delegate=e}on(t,e,n,r){var s;(0,J.Dv)("Query.on",2,4,arguments.length),(0,J.Wj)("Query.on","callback",e,!1);const l=Ao.getCancelAndContextArgs_("Query.on",n,r),u=(m,y)=>{e.call(l.context,new eg(this.database,m),y)};u.userCallback=e,u.context=l.context;const f=null===(s=l.cancel)||void 0===s?void 0:s.bind(l.context);switch(t){case"value":return rL(this._delegate,u,f),e;case"child_added":return DH(this._delegate,u,f),e;case"child_removed":return PH(this._delegate,u,f),e;case"child_changed":return IH(this._delegate,u,f),e;case"child_moved":return RH(this._delegate,u,f),e;default:throw new Error((0,J.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,n){if((0,J.Dv)("Query.off",0,3,arguments.length),function(i,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,J.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,J.Wj)("Query.off","callback",e,!0),(0,J.lb)("Query.off","context",n,!0),e){const r=()=>{};r.userCallback=e,r.context=n,kH(this._delegate,t,r)}else kH(this._delegate,t)}get(){return mY(this._delegate).then(t=>new eg(this.database,t))}once(t,e,n,r){(0,J.Dv)("Query.once",1,4,arguments.length),(0,J.Wj)("Query.once","callback",e,!0);const s=Ao.getCancelAndContextArgs_("Query.once",n,r),l=new J.BH,u=(m,y)=>{const b=new eg(this.database,m);e&&e.call(s.context,b,y),l.resolve(b)};u.userCallback=e,u.context=s.context;const f=m=>{s.cancel&&s.cancel.call(s.context,m),l.reject(m)};switch(t){case"value":rL(this._delegate,u,f,{onlyOnce:!0});break;case"child_added":DH(this._delegate,u,f,{onlyOnce:!0});break;case"child_removed":PH(this._delegate,u,f,{onlyOnce:!0});break;case"child_changed":IH(this._delegate,u,f,{onlyOnce:!0});break;case"child_moved":RH(this._delegate,u,f,{onlyOnce:!0});break;default:throw new Error((0,J.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(t){return(0,J.Dv)("Query.limitToFirst",1,1,arguments.length),new Ao(this.database,Nd(this._delegate,function EY(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new wY(i)}(t)))}limitToLast(t){return(0,J.Dv)("Query.limitToLast",1,1,arguments.length),new Ao(this.database,Nd(this._delegate,function SY(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new CY(i)}(t)))}orderByChild(t){return(0,J.Dv)("Query.orderByChild",1,1,arguments.length),new Ao(this.database,Nd(this._delegate,function TY(i){if("$key"===i)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===i)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===i)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return wC("orderByChild","path",i,!1),new MY(i)}(t)))}orderByKey(){return(0,J.Dv)("Query.orderByKey",0,0,arguments.length),new Ao(this.database,Nd(this._delegate,function DY(){return new AY}()))}orderByPriority(){return(0,J.Dv)("Query.orderByPriority",0,0,arguments.length),new Ao(this.database,Nd(this._delegate,function RY(){return new IY}()))}orderByValue(){return(0,J.Dv)("Query.orderByValue",0,0,arguments.length),new Ao(this.database,Nd(this._delegate,function kY(){return new PY}()))}startAt(t=null,e){return(0,J.Dv)("Query.startAt",0,2,arguments.length),new Ao(this.database,Nd(this._delegate,function yY(i=null,t){return xC("startAt","key",t,!0),new NH(i,t)}(t,e)))}startAfter(t=null,e){return(0,J.Dv)("Query.startAfter",0,2,arguments.length),new Ao(this.database,Nd(this._delegate,function xY(i,t){return xC("startAfter","key",t,!0),new bY(i,t)}(t,e)))}endAt(t=null,e){return(0,J.Dv)("Query.endAt",0,2,arguments.length),new Ao(this.database,Nd(this._delegate,function gY(i,t){return xC("endAt","key",t,!0),new OH(i,t)}(t,e)))}endBefore(t=null,e){return(0,J.Dv)("Query.endBefore",0,2,arguments.length),new Ao(this.database,Nd(this._delegate,function vY(i,t){return xC("endBefore","key",t,!0),new _Y(i,t)}(t,e)))}equalTo(t,e){return(0,J.Dv)("Query.equalTo",1,2,arguments.length),new Ao(this.database,Nd(this._delegate,function NY(i,t){return xC("equalTo","key",t,!0),new OY(i,t)}(t,e)))}toString(){return(0,J.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,J.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,J.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Ao))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,n){const r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,(0,J.Wj)(t,"cancel",r.cancel,!0),r.context=n,(0,J.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,J.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Ul(this.database,new Cc(this._delegate._repo,this._delegate._path))}}class Ul extends Ao{constructor(t,e){super(t,new Ka(e._repo,e._path,new UD,!1)),this.database=t,this._delegate=e}getKey(){return(0,J.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,J.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Ul(this.database,Ov(this._delegate,t))}getParent(){(0,J.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Ul(this.database,t):null}getRoot(){return(0,J.Dv)("Reference.root",0,0,arguments.length),new Ul(this.database,this._delegate.root)}set(t,e){(0,J.Dv)("Reference.set",1,2,arguments.length),(0,J.Wj)("Reference.set","onComplete",e,!0);const n=iL(this._delegate,t);return e&&n.then(()=>e(null),r=>e(r)),n}update(t,e){if((0,J.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,VH("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ec("Reference.update",this._delegate._path),(0,J.Wj)("Reference.update","onComplete",e,!0);const n=pY(this._delegate,t);return e&&n.then(()=>e(null),r=>e(r)),n}setWithPriority(t,e,n){(0,J.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,J.Wj)("Reference.setWithPriority","onComplete",n,!0);const r=function fY(i,t,e){if(Ec("setWithPriority",i._path),qu("setWithPriority",t,i._path,!1),qN("setWithPriority",e,!1),".length"===i.key||".keys"===i.key)throw"setWithPriority failed: "+i.key+" is a read-only object.";const n=new J.BH;return XN(i._repo,i._path,t,e,n.wrapCallback(()=>{})),n.promise}(this._delegate,t,e);return n&&r.then(()=>n(null),s=>n(s)),r}remove(t){(0,J.Dv)("Reference.remove",0,1,arguments.length),(0,J.Wj)("Reference.remove","onComplete",t,!0);const e=function uY(i){return Ec("remove",i._path),iL(i,null)}(this._delegate);return t&&e.then(()=>t(null),n=>t(n)),e}transaction(t,e,n){(0,J.Dv)("Reference.transaction",1,3,arguments.length),(0,J.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,J.Wj)("Reference.transaction","onComplete",e,!0),function(i,t,e,n){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,J.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,n);const r=function JY(i,t,e){var n;if(i=(0,J.m9)(i),Ec("Reference.transaction",i._path),".length"===i.key||".keys"===i.key)throw"Reference.transaction failed: "+i.key+" is a read-only object.";const r=null===(n=e?.applyLocally)||void 0===n||n,s=new J.BH,u=rL(i,()=>{});return function iY(i,t,e,n,r,s){z0(i,"transaction on "+t);const l={path:t,update:e,onComplete:n,status:null,order:F3(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=JN(i,t,void 0);l.currentInputSnapshot=u;const f=l.update(u.val());if(void 0===f)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{bC("transaction failed: Data returned ",f,l.path),l.status=0;const m=tI(i.transactionQueueTree_,t),y=Pv(m)||[];let b;y.push(l),jN(m,y),"object"==typeof f&&null!==f&&(0,J.r3)(f,".priority")?(b=(0,J.DV)(f,".priority"),(0,J.hu)(yC(b),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):b=(QD(i.serverSyncTree_,t)||Jn.EMPTY_NODE).getPriority().val();const w=EC(i),S=zr(f,b),A=zN(S,u,w);l.currentOutputSnapshotRaw=S,l.currentOutputSnapshotResolved=A,l.currentWriteId=sI(i);const k=NN(i.serverSyncTree_,t,A,l.currentWriteId,l.applyLocally);Fl(i.eventQueue_,t,k),oI(i,i.transactionQueueTree_)}}(i._repo,i._path,t,(f,m,y)=>{let b=null;f?s.reject(f):(b=new kv(y,new Cc(i._repo,i._path),hr),s.resolve(new KY(m,b)))},u,r),s.promise}(this._delegate,t,{applyLocally:n}).then(s=>new sq(s.committed,new eg(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,J.Dv)("Reference.setPriority",1,2,arguments.length),(0,J.Wj)("Reference.setPriority","onComplete",e,!0);const n=function hY(i,t){i=(0,J.m9)(i),Ec("setPriority",i._path),qN("setPriority",t,!1);const e=new J.BH;return XN(i._repo,Rr(i._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&n.then(()=>e(null),r=>e(r)),n}push(t,e){(0,J.Dv)("Reference.push",0,2,arguments.length),(0,J.Wj)("Reference.push","onComplete",e,!0);const n=function dY(i,t){i=(0,J.m9)(i),Ec("push",i._path),qu("push",t,i._path,!0);const e=mH(i._repo),n=cY(e),r=Ov(i,n),s=Ov(i,n);let l;return l=null!=t?iL(s,t).then(()=>s):Promise.resolve(s),r.then=l.then.bind(l),r.catch=l.then.bind(l,void 0),r}(this._delegate,t),r=n.then(l=>new Ul(this.database,l));e&&r.then(()=>e(null),l=>e(l));const s=new Ul(this.database,n);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Ec("Reference.onDisconnect",this._delegate._path),new rq(new MH(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class MC{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:zY,forceLongPolling:GY}}useEmulator(t,e,n={}){!function BH(i,t,e,n={}){(i=(0,J.m9)(i))._checkNotDeleted("useEmulator"),i._instanceStarted&&ju("Cannot call useEmulator() after instance has already been initialized.");const r=i._repoInternal;let s;if(r.repoInfo_.nodeAdmin)n.mockUserToken&&ju('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new iC(iC.OWNER);else if(n.mockUserToken){const l="string"==typeof n.mockUserToken?n.mockUserToken:(0,J.Sg)(n.mockUserToken,i.app.options.projectId);s=new iC(l)}!function FY(i,t,e,n){i.repoInfo_=new iN(`${t}:${e}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),n&&(i.authTokenProvider_=n)}(r,t,e,s)}(this._delegate,t,e,n)}ref(t){if((0,J.Dv)("database.ref",0,1,arguments.length),t instanceof Ul){const e=AH(this._delegate,t.toString());return new Ul(this,e)}{const e=TH(this._delegate,t);return new Ul(this,e)}}refFromURL(t){(0,J.Dv)("database.refFromURL",1,1,arguments.length);const n=AH(this._delegate,t);return new Ul(this,n)}goOffline(){return(0,J.Dv)("database.goOffline",0,0,arguments.length),function WY(i){(i=(0,J.m9)(i))._checkNotDeleted("goOffline"),yH(i._repo)}(this._delegate)}goOnline(){return(0,J.Dv)("database.goOnline",0,0,arguments.length),function jY(i){(i=(0,J.m9)(i))._checkNotDeleted("goOnline"),function nY(i){i.persistentConnection_&&i.persistentConnection_.resume(pH)}(i._repo)}(this._delegate)}}MC.ServerValue={TIMESTAMP:function ZY(){return qY}(),increment:i=>function XY(i){return{".sv":{increment:i}}}(i)};var aq=Object.freeze({__proto__:null,initStandalone:function oq({app:i,url:t,version:e,customAuthImpl:n,namespace:r,nodeAdmin:s=!1}){N3(e);const l=new wv.zt("auth-internal",new wv.H0("database-standalone"));return l.setComponent(new wv.wA("auth-internal",()=>n,"PRIVATE")),{instance:new MC(FH(i,l,void 0,t,s),i),namespace:r}}});const lq=MC.ServerValue;!function cq(i){i.INTERNAL.registerComponent(new wv.wA("database-compat",(t,{instanceIdentifier:e})=>{const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new MC(r,n)},"PUBLIC").setServiceProps({Reference:Ul,Query:Ao,Database:MC,DataSnapshot:eg,enableLogging:$Y,INTERNAL:aq,ServerValue:lq}).setMultipleInstances(!0)),i.registerVersion("@firebase/database-compat","0.3.4")}(mj.Z);var uI=W(3093),dq=W(4552);class uq extends an.x{constructor(t=1/0,e=1/0,n=dq.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:l}=this;e||(n.push(t),!r&&n.push(s.now()+l)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:r}=this,s=r.slice();for(let l=0;l<s.length&&!t.closed;l+=n?1:2)t.next(s[l]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:n,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<n.length&&n.splice(0,n.length-s),!r){const l=e.now();let u=0;for(let f=1;f<n.length&&n[f]<=l;f+=2)u=f;u&&n.splice(0,u+1)}}}function oL(i,t,e){let n,r=!1;return i&&"object"==typeof i?({bufferSize:n=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=i):n=i??1/0,(0,P3.B)({connector:()=>new uq(n,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function HH(i,t){return(0,Sl.m)(t)?(0,ki.w)(()=>i,t):(0,ki.w)(()=>i)}var aL=W(5137);W(3182);const cL=new Map,GH={activated:!1,tokenObservers:[]},gq={initialized:!1,enabled:!1};function is(i){return cL.get(i)||Object.assign({},GH)}function fI(){return gq}const dL="https://content-firebaseappcheck.googleapis.com/v1",bq="exchangeDebugToken",WH={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class wq{constructor(t,e,n,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,vd.Z)(function*(){e.stop();try{e.pending=new J.BH,yield function Eq(i){return new Promise(t=>{setTimeout(t,i)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new J.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(n){e.retryPolicy(n)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Do=new J.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function uL(i){if(!is(i).activated)throw Do.create("use-before-activation",{appName:i.name})}function gI(i,t){return fL.apply(this,arguments)}function fL(){return(fL=(0,vd.Z)(function*({url:i,body:t},e){const n={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const b=yield r.getHeartbeatsHeader();b&&(n["X-Firebase-Client"]=b)}const s={method:"POST",body:JSON.stringify(t),headers:n};let l,u;try{l=yield fetch(i,s)}catch(b){throw Do.create("fetch-network-error",{originalErrorMessage:b?.message})}if(200!==l.status)throw Do.create("fetch-status-error",{httpStatus:l.status});try{u=yield l.json()}catch(b){throw Do.create("fetch-parse-error",{originalErrorMessage:b?.message})}const f=u.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw Do.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const m=1e3*Number(f[1]),y=Date.now();return{token:u.token,expireTimeMillis:y+m,issuedAtTimeMillis:y}})).apply(this,arguments)}function jH(i,t){const{projectId:e,appId:n,apiKey:r}=i.options;return{url:`${dL}/projects/${e}/apps/${n}:${bq}?key=${r}`,body:{debug_token:t}}}const Tq="firebase-app-check-database",Aq=1,TC="firebase-app-check-store";let _I=null;function pL(){return(pL=(0,vd.Z)(function*(i,t){const n=(yield function YH(){return _I||(_I=new Promise((i,t)=>{try{const e=indexedDB.open(Tq,Aq);e.onsuccess=n=>{i(n.target.result)},e.onerror=n=>{var r;t(Do.create("storage-open",{originalErrorMessage:null===(r=n.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=n=>{0===n.oldVersion&&n.target.result.createObjectStore(TC,{keyPath:"compositeKey"})}}catch(e){t(Do.create("storage-open",{originalErrorMessage:e?.message}))}}),_I)}()).transaction(TC,"readwrite"),s=n.objectStore(TC).put({compositeKey:i,value:t});return new Promise((l,u)=>{s.onsuccess=f=>{l()},n.onerror=f=>{var m;u(Do.create("storage-set",{originalErrorMessage:null===(m=f.target.error)||void 0===m?void 0:m.message}))}})})).apply(this,arguments)}const AC=new DD.Yd("@firebase/app-check");function _L(i,t){return(0,J.hl)()?function Iq(i,t){return function qH(i,t){return pL.apply(this,arguments)}(function XH(i){return`${i.options.appId}-${i.name}`}(i),t)}(i,t).catch(e=>{AC.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function yL(){return fI().enabled}function bL(){return xL.apply(this,arguments)}function xL(){return(xL=(0,vd.Z)(function*(){const i=fI();if(i.enabled&&i.token)return i.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Lq={error:"UNKNOWN_ERROR"};function Fq(i){return J.US.encodeString(JSON.stringify(i),!1)}function vI(i){return wL.apply(this,arguments)}function wL(){return(wL=(0,vd.Z)(function*(i,t=!1){const e=i.app;uL(e);const n=is(e);let s,r=n.token;if(r&&!W0(r)&&(n.token=void 0,r=void 0),!r){const f=yield n.cachedTokenPromise;f&&(W0(f)?r=f:yield _L(e,void 0))}if(!t&&r&&W0(r))return{token:r.token};let u,l=!1;if(yL()){n.exchangeTokenPromise||(n.exchangeTokenPromise=gI(jH(e,yield bL()),i.heartbeatServiceProvider).finally(()=>{n.exchangeTokenPromise=void 0}),l=!0);const f=yield n.exchangeTokenPromise;return yield _L(e,f),n.token=f,{token:f.token}}try{n.exchangeTokenPromise||(n.exchangeTokenPromise=n.provider.getToken().finally(()=>{n.exchangeTokenPromise=void 0}),l=!0),r=yield is(e).exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?AC.warn(f.message):AC.error(f),s=f}return r?s?u=W0(r)?{token:r.token,internalError:s}:ez(s):(u={token:r.token},n.token=r,yield _L(e,r)):u=ez(s),l&&function QH(i,t){const e=is(i).tokenObservers;for(const n of e)try{"EXTERNAL"===n.type&&null!=t.error?n.error(t.error):n.next(t)}catch{}}(e,u),u})).apply(this,arguments)}function KH(i){return EL.apply(this,arguments)}function EL(){return(EL=(0,vd.Z)(function*(i){const t=i.app;uL(t);const{provider:e}=is(t);if(yL()){const n=yield bL(),{token:r}=yield gI(jH(t,n),i.heartbeatServiceProvider);return{token:r}}{const{token:n}=yield e.getToken();return{token:n}}})).apply(this,arguments)}function SL(i,t){const e=is(i),n=e.tokenObservers.filter(r=>r.next!==t);0===n.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=n}function JH(i){const{app:t}=i,e=is(t);let n=e.tokenRefresher;n||(n=function Uq(i){const{app:t}=i;return new wq((0,vd.Z)(function*(){let n;if(n=is(t).token?yield vI(i,!0):yield vI(i),n.error)throw n.error;if(n.internalError)throw n.internalError}),()=>!0,()=>{const e=is(t);if(e.token){let n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return n=Math.min(n,e.token.expireTimeMillis-3e5),Math.max(0,n-Date.now())}return 0},WH.RETRIAL_MIN_WAIT,WH.RETRIAL_MAX_WAIT)}(i),e.tokenRefresher=n),!n.isRunning()&&e.isTokenAutoRefreshEnabled&&n.start()}function W0(i){return i.expireTimeMillis-Date.now()>0}function ez(i){return{token:Fq(Lq),error:i}}class Bq{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=is(this.app);for(const e of t)SL(this.app,e.next);return Promise.resolve()}}const lz="app-check-internal";!function Qq(){(0,Ev._registerComponent)(new wv.wA("app-check",i=>function Vq(i,t){return new Bq(i,t)}(i.getProvider("app").getImmediate(),i.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,t,e)=>{i.getProvider(lz).initialize()})),(0,Ev._registerComponent)(new wv.wA(lz,i=>function Hq(i){return{getToken:t=>vI(i,t),getLimitedUseToken:()=>KH(i),addTokenListener:t=>function CL(i,t,e,n){const{app:r}=i,s=is(r);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:n,type:t}],s.token&&W0(s.token)){const u=s.token;Promise.resolve().then(()=>{e({token:u.token}),JH(i)}).catch(()=>{})}s.cachedTokenPromise.then(()=>JH(i))}(i,"INTERNAL",t),removeTokenListener:t=>SL(i.app,t)}}(i.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ev.registerVersion)("@firebase/app-check","0.8.0")}();class DL{constructor(){return(0,xc.vb)("app-check")}}typeof window<"u"&&window;var rZ=W(7142);const dz=new c.OlP("angularfire2.auth.use-emulator"),uz=new c.OlP("angularfire2.auth.settings"),hz=new c.OlP("angularfire2.auth.tenant-id"),fz=new c.OlP("angularfire2.auth.langugage-code"),pz=new c.OlP("angularfire2.auth.use-device-language"),mz=new c.OlP("angularfire.auth.persistence"),gz=(i,t,e,n,r,s,l,u)=>(0,Rd.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const f=t.runOutsideAngular(()=>i.auth());if(e&&f.useEmulator(...e),n&&(f.tenantId=n),f.languageCode=r,s&&f.useDeviceLanguage(),l)for(const[m,y]of Object.entries(l))f.settings[m]=y;return u&&f.setPersistence(u),f},[e,n,r,s,l,u]);let _z=(()=>{class i{constructor(e,n,r,s,l,u,f,m,y,b,w,S){const A=new an.x,k=(0,nn.of)(void 0).pipe((0,uI.Q)(l.outsideAngular),(0,ki.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(W.bind(W,5967)))),(0,An.U)(()=>(0,Rd.on)(e,s,n)),(0,An.U)(I=>gz(I,s,u,m,y,b,f,w)),oL({bufferSize:1,refCount:!1}));if(Aa(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,nn.of)(null);else{k.pipe(bu()).subscribe();const R=k.pipe((0,ki.w)(B=>B.getRedirectResult().then(j=>j,()=>null)),xc.iC,oL({bufferSize:1,refCount:!1})),U=k.pipe((0,ki.w)(B=>new lo.y(j=>({unsubscribe:s.runOutsideAngular(()=>B.onAuthStateChanged(q=>j.next(q),q=>j.error(q),()=>j.complete()))})))),O=k.pipe((0,ki.w)(B=>new lo.y(j=>({unsubscribe:s.runOutsideAngular(()=>B.onIdTokenChanged(q=>j.next(q),q=>j.error(q),()=>j.complete()))}))));this.authState=R.pipe(HH(U),(0,aL.R)(l.outsideAngular),(0,uI.Q)(l.insideAngular)),this.user=R.pipe(HH(O),(0,aL.R)(l.outsideAngular),(0,uI.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,ki.w)(B=>B?(0,Zr.D)(B.getIdToken()):(0,nn.of)(null))),this.idTokenResult=this.user.pipe((0,ki.w)(B=>B?(0,Zr.D)(B.getIdTokenResult()):(0,nn.of)(null))),this.credential=(0,ma.T)(R,A,this.authState.pipe(tr(B=>!B))).pipe((0,An.U)(B=>B?.user?B:null),(0,aL.R)(l.outsideAngular),(0,uI.Q)(l.insideAngular))}return(0,Rd.pX)(this,k,s,{spy:{apply:(I,R,U)=>{(I.startsWith("signIn")||I.startsWith("createUser"))&&U.then(O=>A.next(O))}}})}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Rd.Dh),c.LFG(Rd.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(xc.HU),c.LFG(dz,8),c.LFG(uz,8),c.LFG(hz,8),c.LFG(fz,8),c.LFG(pz,8),c.LFG(mz,8),c.LFG(DL,8))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function vz(i){return null==i}function yz(i){return"function"==typeof i.set}function bz(i,t){return yz(t)?t:i.ref(t)}function xz(i,t){if(function oZ(i){return"string"==typeof i}(i))return t.stringCase();if(yz(i))return t.firebaseCase();if(function aZ(i){return"function"==typeof i.exportVal}(i))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof i)}function DC(i,t,e="on",n=JE.z){return new lo.y(r=>{let s=null;return s=i[e](t,(l,u)=>{n.schedule(()=>{r.next({snapshot:l,prevKey:u})}),"once"===e&&n.schedule(()=>r.complete())},l=>{n.schedule(()=>r.error(l))}),"on"===e?{unsubscribe(){null!=s&&i.off(t,s)}}:{unsubscribe(){}}}).pipe((0,An.U)(r=>{const{snapshot:s,prevKey:l}=r;let u=null;return s.exists()&&(u=s.key),{type:t,payload:s,prevKey:l,key:u}}),(0,P3.B)())}function wz(i,t){const e=i.length;for(let n=0;n<e;n++)if(i[n].payload.key===t)return n;return-1}function dZ(i,t){const{payload:e,prevKey:n,key:r}=t,s=wz(i,r),l=function cZ(i,t){if(vz(t))return 0;{const e=wz(i,t);return-1===e?i.length:e+1}}(i,n);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let u=null;t.payload.forEach(f=>{const m={payload:f,type:"value",prevKey:u,key:f.key};return u=f.key,i=[...i,m],!1})}return i;case"child_added":if(s>-1){const u=i[s-1];(u&&u.key||null)!==n&&(i=i.filter(f=>f.payload.key!==e.key)).splice(l,0,t)}else{if(null==n)return[t,...i];(i=i.slice()).splice(l,0,t)}return i;case"child_removed":return i.filter(u=>u.payload.key!==e.key);case"child_changed":return i.map(u=>u.payload.key===r?t:u);case"child_moved":if(s>-1){const u=i.splice(s,1)[0];return(i=i.slice()).splice(l,0,u),i}return i;default:return i}}function Ez(i){return(vz(i)||0===i.length)&&(i=["child_added","child_removed","child_changed","child_moved"]),i}function Cz(i,t,e){return function lZ(i,t,e){return DC(i,"value","once",e).pipe((0,ki.w)(n=>{const r=[(0,nn.of)(n)];return t.forEach(s=>r.push(DC(i,s,"on",e))),(0,ma.T)(...r).pipe(yx(dZ,[]))}),(0,KO.x)())}(i,t=Ez(t),e)}function Sz(i,t,e){const n=(t=Ez(t)).map(r=>DC(i,r,"on",e));return(0,ma.T)(...n)}function Mz(i,t){return function(n,r){return xz(n,{stringCase:()=>i.child(n)[t](r),firebaseCase:()=>n[t](r),snapshotCase:()=>n.ref[t](r)})}}function pZ(i){return function(e){return e?xz(e,{stringCase:()=>i.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):i.remove()}}function Tz(i,t){return function(){return DC(i,"value","on",t)}}const _Z=new c.OlP("angularfire2.realtimeDatabaseURL"),vZ=new c.OlP("angularfire2.database.use-emulator");let RL,Az=(()=>{class i{constructor(e,n,r,s,l,u,f,m,y,b,w,S,A,k,I){this.schedulers=u;const R=f,U=(0,Rd.on)(e,l,n);m&&gz(U,l,y,w,S,A,b,k),this.database=(0,Rd.cc)(`${U.name}.database.${r}`,"AngularFireDatabase",U.name,()=>{const O=l.runOutsideAngular(()=>U.database(r||void 0));return R&&O.useEmulator(...R),O},[R])}list(e,n){const r=this.schedulers.ngZone.runOutsideAngular(()=>bz(this.database,e));let s=r;return n&&(s=n(r)),function mZ(i,t){const e=t.schedulers.outsideAngular,n=t.schedulers.ngZone.run(()=>i.ref);return{query:i,update:Mz(n,"update"),set:Mz(n,"set"),push:r=>n.push(r),remove:pZ(n),snapshotChanges:r=>Cz(i,r,e).pipe(xc.iC),stateChanges:r=>Sz(i,r,e).pipe(xc.iC),auditTrail:r=>function uZ(i,t,e){return function fZ(i,t,e){return function hZ(i,t){return DC(i,"value","on",t).pipe((0,An.U)(e=>{let n;return e.payload.forEach(r=>(n=r.key,!1)),{data:e,lastKeyToLoad:n}}))}(i,e).pipe(function fj(...i){const t=(0,Vp.jO)(i);return(0,Kr.e)((e,n)=>{const r=i.length,s=new Array(r);let l=i.map(()=>!1),u=!1;for(let f=0;f<r;f++)(0,Gh.Xf)(i[f]).subscribe((0,Xr.x)(n,m=>{s[f]=m,!u&&!l[f]&&(l[f]=!0,(u=l.every(Vh.y))&&(l=null))},bx.Z));e.subscribe((0,Xr.x)(n,f=>{if(u){const m=[f,...s];n.next(t?t(...m):m)}}))})}(t),(0,An.U)(([r,s])=>{const l=r.lastKeyToLoad,u=s.map(f=>f.key);return{actions:s,lastKeyToLoad:l,loadedKeys:u}}),function pj(i){return(0,Kr.e)((t,e)=>{let n=!1,r=0;t.subscribe((0,Xr.x)(e,s=>(n||(n=!i(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,An.U)(r=>r.actions))}(i,Sz(i,t).pipe(yx((r,s)=>[...r,s],[])),e)}(i,r,e).pipe(xc.iC),valueChanges:(r,s)=>Cz(i,r,e).pipe((0,An.U)(u=>u.map(f=>s&&s.idField?Object.assign(Object.assign({},f.payload.val()),{[s.idField]:f.key}):f.payload.val())),xc.iC)}}(s,this)}object(e){return function gZ(i,t){return{query:i,snapshotChanges:()=>Tz(i,t.schedulers.outsideAngular)().pipe(xc.iC),update:e=>i.ref.update(e),set:e=>i.ref.set(e),remove:()=>i.ref.remove(),valueChanges:()=>Tz(i,t.schedulers.outsideAngular)().pipe(xc.iC,(0,An.U)(n=>n.payload.exists()?n.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>bz(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Rd.Dh),c.LFG(Rd.xv,8),c.LFG(_Z,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(xc.HU),c.LFG(vZ,8),c.LFG(_z,8),c.LFG(dz,8),c.LFG(uz,8),c.LFG(hz,8),c.LFG(fz,8),c.LFG(pz,8),c.LFG(mz,8),c.LFG(DL,8))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),yZ=(()=>{class i{constructor(){rZ.Z.registerVersion("angularfire",xc.q4.full,"rtdb-compat")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:[Az]}),i})(),Nv=(()=>{class i{constructor(e){this.db=e,this.dbPath="/user",this.rollPath="/role",this.usersRef=e.list(this.dbPath),this.roleRef=e.list(this.rollPath)}GetAll(){return this.usersRef}RegisterUser(e){return this.db.object(`/user/${e.id}`).set(e)}Updateuser(e,n){return this.usersRef.update(e,n)}delete(e){return this.usersRef.remove(e)}deleteAll(){return this.usersRef.remove()}GetAllRoll(){return this.roleRef}getUserName(){return sessionStorage.getItem("username")||""}proceedregister(e){return this.usersRef.push(e)}isloggedin(){return null!=sessionStorage.getItem("username")}getUserRole(){return null!=sessionStorage.getItem("role")?sessionStorage.getItem("role")?.toString():""}Getbycode(e){return this.db.list(this.dbPath,n=>n.orderByChild("id").equalTo(e))}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(Az))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function fi(i){return null!=i&&"false"!=`${i}`}function Ld(i,t=0){return Dz(i)?Number(i):t}function Dz(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function bI(i){return Array.isArray(i)?i:[i]}function Rs(i){return null==i?"":"string"==typeof i?i:`${i}px`}function tg(i){return i instanceof c.SBq?i.nativeElement:i}try{RL=typeof Intl<"u"&&Intl.v8BreakIterator}catch{RL=!1}let j0,ps=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Yf(i){return i===ea}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!RL)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Iz=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Rz(){if(j0)return j0;if("object"!=typeof document||!document)return j0=new Set(Iz),j0;let i=document.createElement("input");return j0=new Set(Iz.filter(t=>(i.setAttribute("type",t),i.type===t))),j0}let IC,Fv,PL;function Lv(i){return function bZ(){if(null==IC&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>IC=!0}))}finally{IC=IC||!1}return IC}()?i:!!i.capture}function xZ(){if(null==Fv){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Fv=!1,Fv;if("scrollBehavior"in document.documentElement.style)Fv=!0;else{const i=Element.prototype.scrollTo;Fv=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return Fv}function kL(){let i=typeof document<"u"&&document?document.activeElement:null;for(;i&&i.shadowRoot;){const t=i.shadowRoot.activeElement;if(t===i)break;i=t}return i}function ng(i){return i.composedPath?i.composedPath()[0]:i.target}function OL(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Pz=Lv({passive:!0});let CZ=(()=>{class i{constructor(e,n){this._platform=e,this._ngZone=n,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Ho.E;const n=tg(e),r=this._monitoredElements.get(n);if(r)return r.subject;const s=new an.x,l="cdk-text-field-autofilled",u=f=>{"cdk-text-field-autofill-start"!==f.animationName||n.classList.contains(l)?"cdk-text-field-autofill-end"===f.animationName&&n.classList.contains(l)&&(n.classList.remove(l),this._ngZone.run(()=>s.next({target:f.target,isAutofilled:!1}))):(n.classList.add(l),this._ngZone.run(()=>s.next({target:f.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",u,Pz),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:s,unlisten:()=>{n.removeEventListener("animationstart",u,Pz)}}),s}stopMonitoring(e){const n=tg(e),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((e,n)=>this.stopMonitoring(n))}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(ps),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),SZ=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({})}return i})();function Uf(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function Oz(i,t=JE.z){return(0,Kr.e)((e,n)=>{let r=null,s=null,l=null;const u=()=>{if(r){r.unsubscribe(),r=null;const m=s;s=null,n.next(m)}};function f(){const m=l+i,y=t.now();if(y<m)return r=this.schedule(void 0,m-y),void n.add(r);u()}e.subscribe((0,Xr.x)(n,m=>{s=m,l=t.now(),r||(r=t.schedule(f,i),n.add(r))},()=>{u(),n.complete()},void 0,()=>{s=r=null}))})}function Nz(i){return tr((t,e)=>i<=e)}let BZ=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Lz=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:[BZ]})}return i})();const Fz=new Set;let Uv,VZ=(()=>{class i{constructor(e,n){this._platform=e,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):zZ}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function HZ(i,t){if(!Fz.has(i))try{Uv||(Uv=document.createElement("style"),t&&(Uv.nonce=t),Uv.setAttribute("type","text/css"),document.head.appendChild(Uv)),Uv.sheet&&(Uv.sheet.insertRule(`@media ${i} {body{ }}`,0),Fz.add(i))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(ps),c.LFG(c.Ojb,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function zZ(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let GZ=(()=>{class i{constructor(e,n){this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new an.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Uz(bI(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=zh(Uz(bI(e)).map(l=>this._registerQuery(l).observable));return s=Xg(s.pipe(Ir(1)),s.pipe(Nz(1),Oz(0))),s.pipe((0,An.U)(l=>{const u={matches:!1,breakpoints:{}};return l.forEach(({matches:f,query:m})=>{u.matches=u.matches||f,u.breakpoints[m]=f}),u}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const n=this._mediaMatcher.matchMedia(e),s={observable:new lo.y(l=>{const u=f=>this._zone.run(()=>l.next(f));return n.addListener(u),()=>{n.removeListener(u)}}).pipe(dd(n),(0,An.U)(({matches:l})=>({query:e,matches:l})),Ci(this._destroySubject)),mql:n};return this._queries.set(e,s),s}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(VZ),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Uz(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Vz(i,t,e){const n=MI(i,t);n.some(r=>r.trim()==e.trim())||(n.push(e.trim()),i.setAttribute(t,n.join(" ")))}function NL(i,t,e){const r=MI(i,t).filter(s=>s!=e.trim());r.length?i.setAttribute(t,r.join(" ")):i.removeAttribute(t)}function MI(i,t){return(i.getAttribute(t)||"").match(/\S+/g)||[]}const Hz="cdk-describedby-message",TI="cdk-describedby-host";let LL=0,zz=(()=>{class i{constructor(e,n){this._platform=n,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+LL++,this._document=e,this._id=(0,c.f3M)(c.AFp)+"-"+LL++}describe(e,n,r){if(!this._canBeDescribed(e,n))return;const s=FL(n,r);"string"!=typeof n?(Gz(n,this._id),this._messageRegistry.set(s,{messageElement:n,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(n,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,n,r){if(!n||!this._isElementNode(e))return;const s=FL(n,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof n){const l=this._messageRegistry.get(s);l&&0===l.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${TI}="${this._id}"]`);for(let n=0;n<e.length;n++)this._removeCdkDescribedByReferenceIds(e[n]),e[n].removeAttribute(TI);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,n){const r=this._document.createElement("div");Gz(r,this._id),r.textContent=e,n&&r.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(FL(e,n),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<n.length;s++)n[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const n=MI(e,"aria-describedby").filter(r=>0!=r.indexOf(Hz));e.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(e,n){const r=this._messageRegistry.get(n);Vz(e,"aria-describedby",r.messageElement.id),e.setAttribute(TI,this._id),r.referenceCount++}_removeMessageReference(e,n){const r=this._messageRegistry.get(n);r.referenceCount--,NL(e,"aria-describedby",r.messageElement.id),e.removeAttribute(TI)}_isElementDescribedByMessage(e,n){const r=MI(e,"aria-describedby"),s=this._messageRegistry.get(n),l=s&&s.messageElement.id;return!!l&&-1!=r.indexOf(l)}_canBeDescribed(e,n){if(!this._isElementNode(e))return!1;if(n&&"object"==typeof n)return!0;const r=null==n?"":`${n}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(xe),c.LFG(ps))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function FL(i,t){return"string"==typeof i?`${t||""}/${i}`:i}function Gz(i,t){i.id||(i.id=`${Hz}-${t}-${LL++}`)}class Wz{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new an.x,this._typeaheadSubscription=Ts.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new an.x,this.change=new an.x,t instanceof c.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,js.b)(e=>this._pressedLetters.push(e)),Oz(t),tr(()=>this._pressedLetters.length>0),(0,An.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const n=this._getItemsArray();for(let r=1;r<n.length+1;r++){const s=(this._activeItemIndex+r)%n.length,l=n[s];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(s<l?s:l-1,-1);break}return;default:return void((r||Uf(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t);this._activeItem=e[n]??null,this._activeItemIndex=n}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}class WZ extends Wz{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class jZ extends Wz{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let AI=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function YZ(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const n=function $Z(i){try{return i.frameElement}catch{return null}}(function t7(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(e));if(n&&(-1===$z(n)||!this.isVisible(n)))return!1;let r=e.nodeName.toLowerCase(),s=$z(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function QZ(i){let t=i.nodeName.toLowerCase(),e="input"===t&&i.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,n){return function e7(i){return!function ZZ(i){return function KZ(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function qZ(i){let t=i.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(i)||function XZ(i){return function JZ(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||jz(i))}(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(ps))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function jz(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let t=i.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function $z(i){if(!jz(i))return null;const t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class n7{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,n,r,s=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return n?.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=0;n<e.length;n++){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=e.length-1;n>=0;n--){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Ir(1)).subscribe(t)}}let UL=(()=>{class i{constructor(e,n,r){this._checker=e,this._ngZone=n,this._document=r}create(e,n=!1){return new n7(e,this._checker,this._ngZone,this._document,n)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(AI),c.LFG(c.R0b),c.LFG(xe))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function BL(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}function VL(i){const t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const i7=new c.OlP("cdk-input-modality-detector-options"),r7={ignoreKeys:[18,17,224,91,16]},$0=Lv({passive:!0,capture:!0});let s7=(()=>{class i{get mostRecentModality(){return this._modality.value}constructor(e,n,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Gs.X(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(u=>u===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ng(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(BL(l)?"keyboard":"mouse"),this._mostRecentTarget=ng(l))},this._onTouchstart=l=>{VL(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ng(l))},this._options={...r7,...s},this.modalityDetected=this._modality.pipe(Nz(1)),this.modalityChanged=this.modalityDetected.pipe((0,KO.x)()),e.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,$0),r.addEventListener("mousedown",this._onMousedown,$0),r.addEventListener("touchstart",this._onTouchstart,$0)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,$0),document.removeEventListener("mousedown",this._onMousedown,$0),document.removeEventListener("touchstart",this._onTouchstart,$0))}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(ps),c.LFG(c.R0b),c.LFG(xe),c.LFG(i7,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const o7=new c.OlP("liveAnnouncerElement",{providedIn:"root",factory:function a7(){return null}}),l7=new c.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let c7=0,d7=(()=>{class i{constructor(e,n,r,s){this._ngZone=n,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...n){const r=this._defaultOptions;let s,l;return 1===n.length&&"number"==typeof n[0]?l=n[0]:[s,l]=n,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==l&&r&&(l=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(u=>this._currentResolve=u)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof l&&(this._previousTimeout=setTimeout(()=>this.clear(),l)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<n.length;s++)n[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+c7++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){const s=n[r],l=s.getAttribute("aria-owns");l?-1===l.indexOf(e)&&s.setAttribute("aria-owns",l+" "+e):s.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(o7,8),c.LFG(c.R0b),c.LFG(xe),c.LFG(l7,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const u7=new c.OlP("cdk-focus-monitor-default-options"),DI=Lv({passive:!0,capture:!0});let Bf=(()=>{class i{constructor(e,n,r,s,l){this._ngZone=e,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new an.x,this._rootNodeFocusAndBlurListener=u=>{for(let m=ng(u);m;m=m.parentElement)"focus"===u.type?this._onFocus(u,m):this._onBlur(u,m)},this._document=s,this._detectionMode=l?.detectionMode||0}monitor(e,n=!1){const r=tg(e);if(!this._platform.isBrowser||1!==r.nodeType)return(0,nn.of)();const s=function EZ(i){if(function wZ(){if(null==PL){const i=typeof document<"u"?document.head:null;PL=!(!i||!i.createShadowRoot&&!i.attachShadow)}return PL}()){const t=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return n&&(l.checkChildren=!0),l.subject;const u={checkChildren:n,subject:new an.x,rootNode:s};return this._elementInfo.set(r,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(e){const n=tg(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){const s=tg(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([u,f])=>this._originChanged(u,n,f)):(this._setOrigin(n),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused","touch"===n),e.classList.toggle("cdk-keyboard-focused","keyboard"===n),e.classList.toggle("cdk-mouse-focused","mouse"===n),e.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,n){const r=this._elementInfo.get(n),s=ng(e);!r||!r.checkChildren&&n!==s||this._originChanged(n,this._getFocusOrigin(s),r)}_onBlur(e,n){const r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,DI),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,DI)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ci(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,DI),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,DI),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){const n=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&n.push([s,r])}),n}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!n||n===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let l=0;l<s.length;l++)if(s[l].contains(n))return!0;return!1}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(c.R0b),c.LFG(ps),c.LFG(s7),c.LFG(xe,8),c.LFG(u7,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const qz="cdk-high-contrast-black-on-white",Zz="cdk-high-contrast-white-on-black",HL="cdk-high-contrast-active";let Xz=(()=>{class i{constructor(e,n){this._platform=e,this._document=n,this._breakpointSubscription=(0,c.f3M)(GZ).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(HL,qz,Zz),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?e.add(HL,qz):2===n&&e.add(HL,Zz)}}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(ps),c.LFG(xe))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Kz=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(Xz))};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[Lz]})}return i})();const h7=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function f7(){return(0,c.f3M)(xe)}}),p7=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Vf=(()=>{class i{constructor(e){this.value="ltr",this.change=new c.vpe,e&&(this.value=function m7(i){const t=i?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?p7.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(h7,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),OC=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({})}return i})();const g7=["text"];function _7(i,t){if(1&i&&c._UZ(0,"mat-pseudo-checkbox",6),2&i){const e=c.oxw();c.Q6J("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function v7(i,t){if(1&i&&c._UZ(0,"mat-pseudo-checkbox",7),2&i){const e=c.oxw();c.Q6J("disabled",e.disabled)}}function y7(i,t){if(1&i&&(c.TgZ(0,"span",8),c._uU(1),c.qZA()),2&i){const e=c.oxw();c.xp6(1),c.hij("(",e.group.label,")")}}const b7=[[["mat-icon"]],"*"],x7=["mat-icon","*"];let w7=(()=>{class i{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return i})(),E7=(()=>{class i{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return i})();const S7=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function C7(){return!0}});let rr=(()=>{class i{constructor(e,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!OL()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(Xz),c.LFG(S7,8),c.LFG(xe))};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[OC,OC]})}return i})();function Bv(i){return class extends i{get disabled(){return this._disabled}set disabled(t){this._disabled=fi(t)}constructor(...t){super(...t),this._disabled=!1}}}function eG(i,t){return class extends i{get color(){return this._color}set color(e){const n=e||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function NC(i){return class extends i{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=fi(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function zL(i,t=0){return class extends i{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Ld(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function tG(i){return class extends i{updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}function nG(i){return class extends i{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new lo.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}let iG=(()=>{class i{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class T7{constructor(t,e,n,r=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const rG=Lv({passive:!0,capture:!0});class A7{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=ng(t);e&&this._events.get(t.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,n,r){const s=this._events.get(e);if(s){const l=s.get(n);l?l.add(r):s.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,rG)})}removeHandler(t,e,n){const r=this._events.get(t);if(!r)return;const s=r.get(e);s&&(s.delete(n),0===s.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,rG)))}}const sG={enterDuration:225,exitDuration:150},oG=Lv({passive:!0,capture:!0}),aG=["mousedown","touchstart"],lG=["mouseup","mouseleave","touchend","touchcancel"];class II{static#e=this._eventManager=new A7;constructor(t,e,n,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=tg(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...sG,...n.animation};n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const l=n.radius||function I7(i,t,e){const n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+r*r)}(t,e,r),u=t-r.left,f=e-r.top,m=s.enterDuration,y=document.createElement("div");y.classList.add("mat-ripple-element"),y.style.left=u-l+"px",y.style.top=f-l+"px",y.style.height=2*l+"px",y.style.width=2*l+"px",null!=n.color&&(y.style.backgroundColor=n.color),y.style.transitionDuration=`${m}ms`,this._containerElement.appendChild(y);const b=window.getComputedStyle(y),S=b.transitionDuration,A="none"===b.transitionProperty||"0s"===S||"0s, 0s"===S||0===r.width&&0===r.height,k=new T7(this,y,n,A);y.style.transform="scale3d(1, 1, 1)",k.state=0,n.persistent||(this._mostRecentTransientRipple=k);let I=null;return!A&&(m||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const R=()=>this._finishRippleTransition(k),U=()=>this._destroyRipple(k);y.addEventListener("transitionend",R),y.addEventListener("transitioncancel",U),I={onTransitionEnd:R,onTransitionCancel:U}}),this._activeRipples.set(k,I),(A||!m)&&this._finishRippleTransition(k),k}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,n={...sG,...t.config.animation};e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=tg(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,aG.forEach(n=>{II._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{lG.forEach(e=>{this._triggerElement.addEventListener(e,this,oG)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=1,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=BL(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!VL(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(aG.forEach(e=>II._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&lG.forEach(e=>t.removeEventListener(e,this,oG)))}}const cG=new c.OlP("mat-ripple-global-options");let Y0=(()=>{class i{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,n,r,s,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new II(this,n,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,n,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(ps),c.Y36(cG,8),c.Y36(c.QbO,8))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){2&n&&c.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return i})(),FC=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[rr,rr]})}return i})(),R7=(()=>{class i{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.QbO,8))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(n,r){2&n&&c.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(n,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return i})(),P7=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[rr]})}return i})();const dG=new c.OlP("MAT_OPTION_PARENT_COMPONENT"),uG=new c.OlP("MatOptgroup");let k7=0;class O7{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let N7=(()=>{class i{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=fi(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,n,r,s){this._element=e,this._changeDetectorRef=n,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+k7++,this.onSelectionChange=new c.vpe,this._stateChanges=new an.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,n){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Uf(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new O7(this,e))}static#e=this.\u0275fac=function(n){c.$Z()};static#t=this.\u0275dir=c.lG2({type:i,viewQuery:function(n,r){if(1&n&&c.Gf(g7,7),2&n){let s;c.iGM(s=c.CRH())&&(r._text=s.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return i})(),GL=(()=>{class i extends N7{constructor(e,n,r,s){super(e,n,r,s)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(dG,8),c.Y36(uG,8))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(n,r){1&n&&c.NdJ("click",function(){return r._selectViaInteraction()})("keydown",function(l){return r._handleKeydown(l)}),2&n&&(c.Ikx("id",r.id),c.uIk("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),c.ekj("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[c.qOj],ngContentSelectors:x7,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(n,r){1&n&&(c.F$t(b7),c.YNc(0,_7,1,2,"mat-pseudo-checkbox",0),c.Hsn(1),c.TgZ(2,"span",1,2),c.Hsn(4,1),c.qZA(),c.YNc(5,v7,1,1,"mat-pseudo-checkbox",3),c.YNc(6,y7,2,1,"span",4),c._UZ(7,"div",5)),2&n&&(c.Q6J("ngIf",r.multiple),c.xp6(5),c.Q6J("ngIf",!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator),c.xp6(1),c.Q6J("ngIf",r.group&&r.group._inert),c.xp6(1),c.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[Y0,bs,R7],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return i})(),hG=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[FC,mi,rr,P7]})}return i})();const fG={capture:!0},pG=["focus","click","mouseenter","touchstart"],WL="mat-ripple-loader-uninitialized",jL="mat-ripple-loader-class-name",mG="mat-ripple-loader-centered",RI="mat-ripple-loader-disabled";let U7=(()=>{class i{constructor(){this._document=(0,c.f3M)(xe,{optional:!0}),this._animationMode=(0,c.f3M)(c.QbO,{optional:!0}),this._globalRippleOptions=(0,c.f3M)(cG,{optional:!0}),this._platform=(0,c.f3M)(ps),this._ngZone=(0,c.f3M)(c.R0b),this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${WL}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of pG)this._document?.addEventListener(e,this._onInteraction,fG)})}ngOnDestroy(){for(const e of pG)this._document?.removeEventListener(e,this._onInteraction,fG)}configureRipple(e,n){e.setAttribute(WL,""),(n.className||!e.hasAttribute(jL))&&e.setAttribute(jL,n.className||""),n.centered&&e.setAttribute(mG,""),n.disabled&&e.setAttribute(RI,"")}getRipple(e){return e.matRipple?e.matRipple:this.createRipple(e)}setDisabled(e,n){const r=e.matRipple;r?r.disabled=n:n?e.setAttribute(RI,""):e.removeAttribute(RI)}createRipple(e){if(!this._document)return;e.querySelector(".mat-ripple")?.remove();const n=this._document.createElement("span");n.classList.add("mat-ripple",e.getAttribute(jL)),e.append(n);const r=new Y0(new c.SBq(n),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,r.centered=e.hasAttribute(mG),r.disabled=e.hasAttribute(RI),this.attachRipple(e,r),r}attachRipple(e,n){e.removeAttribute(WL),e.matRipple=n}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class B7{constructor(t){this._box=t,this._destroyed=new an.x,this._resizeSubject=new an.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new lo.y(e=>{const n=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe(tr(e=>e.some(n=>n.target===t)),oL({bufferSize:1,refCount:!0}),Ci(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let V7=(()=>{class i{constructor(){this._observers=new Map,this._ngZone=(0,c.f3M)(c.R0b)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,n){const r=n?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new B7(r)),this._observers.get(r).observe(e)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const H7=["notch"],z7=["matFormFieldNotchedOutline",""],G7=["*"],W7=["textField"],j7=["iconPrefixContainer"],$7=["textPrefixContainer"];function Y7(i,t){1&i&&c._UZ(0,"span",19)}function q7(i,t){if(1&i&&(c.TgZ(0,"label",17),c.Hsn(1,1),c.YNc(2,Y7,1,0,"span",18),c.qZA()),2&i){const e=c.oxw(2);c.Q6J("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),c.uIk("for",e._control.id),c.xp6(2),c.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function Z7(i,t){if(1&i&&c.YNc(0,q7,3,5,"label",16),2&i){const e=c.oxw();c.Q6J("ngIf",e._hasFloatingLabel())}}function X7(i,t){1&i&&c._UZ(0,"div",20)}function K7(i,t){}function J7(i,t){if(1&i&&c.YNc(0,K7,0,0,"ng-template",22),2&i){c.oxw(2);const e=c.MAs(1);c.Q6J("ngTemplateOutlet",e)}}function Q7(i,t){if(1&i&&(c.TgZ(0,"div",21),c.YNc(1,J7,1,1,"ng-template",9),c.qZA()),2&i){const e=c.oxw();c.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),c.xp6(1),c.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function e9(i,t){1&i&&(c.TgZ(0,"div",23,24),c.Hsn(2,2),c.qZA())}function t9(i,t){1&i&&(c.TgZ(0,"div",25,26),c.Hsn(2,3),c.qZA())}function n9(i,t){}function i9(i,t){if(1&i&&c.YNc(0,n9,0,0,"ng-template",22),2&i){c.oxw();const e=c.MAs(1);c.Q6J("ngTemplateOutlet",e)}}function r9(i,t){1&i&&(c.TgZ(0,"div",27),c.Hsn(1,4),c.qZA())}function s9(i,t){1&i&&(c.TgZ(0,"div",28),c.Hsn(1,5),c.qZA())}function o9(i,t){1&i&&c._UZ(0,"div",29)}function a9(i,t){if(1&i&&(c.TgZ(0,"div",30),c.Hsn(1,6),c.qZA()),2&i){const e=c.oxw();c.Q6J("@transitionMessages",e._subscriptAnimationState)}}function l9(i,t){if(1&i&&(c.TgZ(0,"mat-hint",34),c._uU(1),c.qZA()),2&i){const e=c.oxw(2);c.Q6J("id",e._hintLabelId),c.xp6(1),c.Oqu(e.hintLabel)}}function c9(i,t){if(1&i&&(c.TgZ(0,"div",31),c.YNc(1,l9,2,2,"mat-hint",32),c.Hsn(2,7),c._UZ(3,"div",33),c.Hsn(4,8),c.qZA()),2&i){const e=c.oxw();c.Q6J("@transitionMessages",e._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",e.hintLabel)}}const d9=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],u9=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let UC=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["mat-label"]]})}return i})();const h9=new c.OlP("MatError");let f9=0,gG=(()=>{class i{constructor(){this.align="start",this.id="mat-mdc-hint-"+f9++}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,r){2&n&&(c.Ikx("id",r.id),c.uIk("align",null),c.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return i})();const p9=new c.OlP("MatPrefix"),m9=new c.OlP("MatSuffix"),_G=new c.OlP("FloatingLabelParent");let vG=(()=>{class i{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,c.f3M)(V7),this._ngZone=(0,c.f3M)(c.R0b),this._parent=(0,c.f3M)(_G),this._resizeSubscription=new Ts.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function g9(i){if(null!==i.offsetParent)return i.scrollWidth;const e=i.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const n=e.scrollWidth;return e.remove(),n}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,r){2&n&&c.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return i})();const yG="mdc-line-ripple--active",PI="mdc-line-ripple--deactivating";let bG=(()=>{class i{constructor(e,n){this._elementRef=e,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,l=s.contains(PI);"opacity"===r.propertyName&&l&&s.remove(yG,PI)},n.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(PI),e.add(yG)}deactivate(){this._elementRef.nativeElement.classList.add(PI)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return i})(),xG=(()=>{class i{constructor(e,n){this._elementRef=e,this._ngZone=n,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,r){if(1&n&&c.Gf(H7,5),2&n){let s;c.iGM(s=c.CRH())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,r){2&n&&c.ekj("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:z7,ngContentSelectors:G7,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(n,r){1&n&&(c.F$t(),c._UZ(0,"div",0),c.TgZ(1,"div",1,2),c.Hsn(3),c.qZA(),c._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return i})();const _9={transitionMessages:cs("transitionMessages",[jn("enter",Pn({opacity:1,transform:"translateY(0%)"})),En("void => enter",[Pn({opacity:0,transform:"translateY(-5px)"}),Ii("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let $L=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=c.lG2({type:i})}return i})();const YL=new c.OlP("MatFormField"),v9=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let wG=0,kI=(()=>{class i{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=fi(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const n=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,n,r,s,l,u,f,m){this._elementRef=e,this._changeDetectorRef=n,this._ngZone=r,this._dir=s,this._platform=l,this._defaults=u,this._animationMode=f,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+wG++,this._hintLabelId="mat-mdc-hint-"+wG++,this._subscriptAnimationState="",this._destroyed=new an.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,u&&(u.appearance&&(this.appearance=u.appearance),this._hideRequiredMarker=!!u?.hideRequiredMarker,u.color&&(this.color=u.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Ci(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,ma.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ci(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Ci(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const n=this._control?this._control.ngControl:null;return n&&n[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;n?e.push(n.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const n=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=n?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(Vf),c.Y36(ps),c.Y36(v9,8),c.Y36(c.QbO,8),c.Y36(xe))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-form-field"]],contentQueries:function(n,r,s){if(1&n&&(c.Suo(s,UC,5),c.Suo(s,UC,7),c.Suo(s,$L,5),c.Suo(s,p9,5),c.Suo(s,m9,5),c.Suo(s,h9,5),c.Suo(s,gG,5)),2&n){let l;c.iGM(l=c.CRH())&&(r._labelChildNonStatic=l.first),c.iGM(l=c.CRH())&&(r._labelChildStatic=l.first),c.iGM(l=c.CRH())&&(r._formFieldControl=l.first),c.iGM(l=c.CRH())&&(r._prefixChildren=l),c.iGM(l=c.CRH())&&(r._suffixChildren=l),c.iGM(l=c.CRH())&&(r._errorChildren=l),c.iGM(l=c.CRH())&&(r._hintChildren=l)}},viewQuery:function(n,r){if(1&n&&(c.Gf(W7,5),c.Gf(j7,5),c.Gf($7,5),c.Gf(vG,5),c.Gf(xG,5),c.Gf(bG,5)),2&n){let s;c.iGM(s=c.CRH())&&(r._textField=s.first),c.iGM(s=c.CRH())&&(r._iconPrefixContainer=s.first),c.iGM(s=c.CRH())&&(r._textPrefixContainer=s.first),c.iGM(s=c.CRH())&&(r._floatingLabel=s.first),c.iGM(s=c.CRH())&&(r._notchedOutline=s.first),c.iGM(s=c.CRH())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,r){2&n&&c.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:YL,useExisting:i},{provide:_G,useExisting:i}])],ngContentSelectors:u9,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(n,r){1&n&&(c.F$t(d9),c.YNc(0,Z7,1,1,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.NdJ("click",function(l){return r._control.onContainerClick(l)}),c.YNc(4,X7,1,0,"div",3),c.TgZ(5,"div",4),c.YNc(6,Q7,2,2,"div",5),c.YNc(7,e9,3,0,"div",6),c.YNc(8,t9,3,0,"div",7),c.TgZ(9,"div",8),c.YNc(10,i9,1,1,"ng-template",9),c.Hsn(11),c.qZA(),c.YNc(12,r9,2,0,"div",10),c.YNc(13,s9,2,0,"div",11),c.qZA(),c.YNc(14,o9,1,0,"div",12),c.qZA(),c.TgZ(15,"div",13),c.YNc(16,a9,2,1,"div",14),c.YNc(17,c9,5,2,"div",15),c.qZA()),2&n&&(c.xp6(2),c.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),c.xp6(2),c.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),c.xp6(2),c.Q6J("ngIf",r._hasOutline()),c.xp6(1),c.Q6J("ngIf",r._hasIconPrefix),c.xp6(1),c.Q6J("ngIf",r._hasTextPrefix),c.xp6(2),c.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),c.xp6(2),c.Q6J("ngIf",r._hasTextSuffix),c.xp6(1),c.Q6J("ngIf",r._hasIconSuffix),c.xp6(1),c.Q6J("ngIf",!r._hasOutline()),c.xp6(1),c.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),c.Q6J("ngSwitch",r._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},dependencies:[bs,Fd,Ma,Dc,gG,vG,xG,bG],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[_9.transitionMessages]},changeDetection:0})}return i})(),qL=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[rr,mi,Lz,rr]})}return i})();const x9=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),w9=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let E9=0;const C9=tG(class{constructor(i,t,e,n){this._defaultErrorStateMatcher=i,this._parentForm=t,this._parentFormGroup=e,this.ngControl=n,this.stateChanges=new an.x}});let SG=(()=>{class i extends C9{get disabled(){return this._disabled}set disabled(e){this._disabled=fi(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Xo.required)??!1}set required(e){this._required=fi(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Rz().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=fi(e)}constructor(e,n,r,s,l,u,f,m,y,b){super(u,s,l,r),this._elementRef=e,this._platform=n,this._autofillMonitor=m,this._formField=b,this._uid="mat-input-"+E9++,this.focused=!1,this.stateChanges=new an.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(A=>Rz().has(A)),this._iOSKeyupListener=A=>{const k=A.target;!k.value&&0===k.selectionStart&&0===k.selectionEnd&&(k.setSelectionRange(1,1),k.setSelectionRange(0,0))};const w=this._elementRef.nativeElement,S=w.nodeName.toLowerCase();this._inputValueAccessor=f||w,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&y.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===S,this._isTextarea="textarea"===S,this._isInFormField=!!b,this._isNativeSelect&&(this.controlType=w.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const n=this._elementRef.nativeElement;this._previousPlaceholder=e,e?n.setAttribute("placeholder",e):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){w9.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,n=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&n&&n.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(ps),c.Y36(Wu,10),c.Y36(ZE,8),c.Y36(Gm,8),c.Y36(iG),c.Y36(x9,10),c.Y36(CZ),c.Y36(c.R0b),c.Y36(YL,8))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,r){1&n&&c.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&n&&(c.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),c.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),c.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:$L,useExisting:i}]),c.qOj,c.TTD]})}return i})(),S9=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[rr,qL,qL,SZ,rr]})}return i})();const M9=["*"],D9=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],I9=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],R9=new c.OlP("MAT_CARD_CONFIG");let BC=(()=>{class i{constructor(e){this.appearance=e?.appearance||"raised"}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(R9,8))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(n,r){2&n&&c.ekj("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:M9,decls:1,vars:0,template:function(n,r){1&n&&(c.F$t(),c.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return i})(),VC=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return i})(),HC=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:I9,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(n,r){1&n&&(c.F$t(D9),c.Hsn(0),c.TgZ(1,"div",0),c.Hsn(2,1),c.qZA(),c.Hsn(3,2))},encapsulation:2,changeDetection:0})}return i})(),L9=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[rr,mi,rr]})}return i})();class F9{}function ZL(i){return i&&"function"==typeof i.connect&&!(i instanceof Iy)}class MG{applyChanges(t,e,n,r,s){t.forEachOperation((l,u,f)=>{let m,y;if(null==l.previousIndex){const b=n(l,u,f);m=e.createEmbeddedView(b.templateRef,b.context,b.index),y=1}else null==f?(e.remove(u),y=3):(m=e.get(u),e.move(m,f),y=2);s&&s({context:m?.context,operation:y,record:l})})}detach(){}}class U9{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,n=!0,r){this._multiple=t,this._emitChanges=n,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new an.x,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(n=>this._markSelected(n));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(n=>this._unmarkSelected(n));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,n=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!n.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}let B9=(()=>{class i{constructor(){this._listeners=[]}notify(e,n){for(let r of this._listeners)r(e,n)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(n=>e!==n)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const zC=new c.OlP("_ViewRepeater"),V9=["input"],H9=["*"];let AG=0;class DG{constructor(t,e){this.source=t,this.value=e}}const z9={provide:bc,useExisting:(0,c.Gpc)(()=>RG),multi:!0},IG=new c.OlP("MatRadioGroup"),G9=new c.OlP("mat-radio-default-options",{providedIn:"root",factory:function W9(){return{color:"accent"}}});let j9=(()=>{class i{get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=fi(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=fi(e),this._markRadiosForCheck()}constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+AG++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new c.vpe}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(e=>e===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(n=>{n.checked=this.value===n.value,n.checked&&(this._selected=n)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new DG(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.sBO))};static#t=this.\u0275dir=c.lG2({type:i,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}})}return i})();class $9{constructor(t){this._elementRef=t}}const Y9=NC(zL($9));let q9=(()=>{class i extends Y9{get checked(){return this._checked}set checked(e){const n=fi(e);this._checked!==n&&(this._checked=n,n&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!n&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),n&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(fi(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=fi(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,n,r,s,l,u,f,m){super(n),this._changeDetector=r,this._focusMonitor=s,this._radioDispatcher=l,this._providerOverride=f,this._uniqueId="mat-radio-"+ ++AG,this.id=this._uniqueId,this.change=new c.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===u,m&&(this.tabIndex=Ld(m,0))}focus(e,n){n?this._focusMonitor.focusVia(this._inputElement,n,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,n)=>{e!==this.id&&n===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new DG(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const n=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),n&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let n;if(n=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,n!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",n+""),this._previousTabIndex=n)}}static#e=this.\u0275fac=function(n){c.$Z()};static#t=this.\u0275dir=c.lG2({type:i,viewQuery:function(n,r){if(1&n&&c.Gf(V9,5),2&n){let s;c.iGM(s=c.CRH())&&(r._inputElement=s.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[c.qOj]})}return i})(),RG=(()=>{class i extends j9{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275dir=c.lG2({type:i,selectors:[["mat-radio-group"]],contentQueries:function(n,r,s){if(1&n&&c.Suo(s,PG,5),2&n){let l;c.iGM(l=c.CRH())&&(r._radios=l)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[c._Bn([z9,{provide:IG,useExisting:i}]),c.qOj]})}return i})(),PG=(()=>{class i extends q9{constructor(e,n,r,s,l,u,f,m){super(e,n,r,s,l,u,f,m)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(IG,8),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Bf),c.Y36(B9),c.Y36(c.QbO,8),c.Y36(G9,8),c.$8M("tabindex"))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(n,r){1&n&&c.NdJ("focus",function(){return r._inputElement.nativeElement.focus()}),2&n&&(c.uIk("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),c.ekj("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("mat-mdc-radio-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[c.qOj],ngContentSelectors:H9,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(n,r){if(1&n&&(c.F$t(),c.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3),c.NdJ("click",function(l){return r._onTouchTargetClick(l)}),c.qZA(),c.TgZ(4,"input",4,5),c.NdJ("change",function(l){return r._onInputInteraction(l)}),c.qZA(),c.TgZ(6,"div",6),c._UZ(7,"div",7)(8,"div",8),c.qZA(),c.TgZ(9,"div",9),c._UZ(10,"div",10),c.qZA()(),c.TgZ(11,"label",11),c.Hsn(12),c.qZA()()),2&n){const s=c.MAs(1);c.ekj("mdc-form-field--align-end","before"==r.labelPosition),c.xp6(2),c.ekj("mdc-radio--disabled",r.disabled),c.xp6(2),c.Q6J("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),c.uIk("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),c.xp6(5),c.Q6J("matRippleTrigger",s)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),c.xp6(2),c.Q6J("for",r.inputId)}},dependencies:[Y0],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{--mdc-radio-disabled-selected-icon-opacity:0.38;--mdc-radio-disabled-unselected-icon-opacity:0.38;--mdc-radio-state-layer-size:40px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return i})(),Z9=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[rr,mi,FC,rr]})}return i})();const kG=["mat-button",""],OG=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],NG=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],LG=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",K9=["mat-icon-button",""],J9=["*"],Q9=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],eX=eG(Bv(NC(class{constructor(i){this._elementRef=i}})));let XL=(()=>{class i extends eX{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=fi(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=fi(e),this._updateRippleDisabled()}constructor(e,n,r,s){super(e),this._platform=n,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,c.f3M)(Bf),this._rippleLoader=(0,c.f3M)(U7),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const l=e.nativeElement.classList;for(const u of Q9)this._hasHostAttributes(u.selector)&&u.mdcClasses.forEach(f=>{l.add(f)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_hasHostAttributes(...e){return e.some(n=>this._elementRef.nativeElement.hasAttribute(n))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(n){c.$Z()};static#t=this.\u0275dir=c.lG2({type:i,features:[c.qOj]})}return i})(),nX=(()=>{class i extends XL{constructor(e,n,r,s){super(e,n,r,s),this._haltDisabledEvents=l=>{this.disabled&&(l.preventDefault(),l.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}static#e=this.\u0275fac=function(n){c.$Z()};static#t=this.\u0275dir=c.lG2({type:i,features:[c.qOj]})}return i})(),GC=(()=>{class i extends XL{constructor(e,n,r,s){super(e,n,r,s)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(ps),c.Y36(c.R0b),c.Y36(c.QbO,8))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(n,r){2&n&&(c.uIk("disabled",r.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:kG,ngContentSelectors:NG,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(c.F$t(OG),c._UZ(0,"span",0),c.Hsn(1),c.TgZ(2,"span",1),c.Hsn(3,1),c.qZA(),c.Hsn(4,2),c._UZ(5,"span",2)(6,"span",3)),2&n&&c.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return i})(),OI=(()=>{class i extends nX{constructor(e,n,r,s){super(e,n,r,s)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(ps),c.Y36(c.R0b),c.Y36(c.QbO,8))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(n,r){2&n&&(c.uIk("disabled",r.disabled||null)("tabindex",r.disabled?-1:r.tabIndex)("aria-disabled",r.disabled.toString()),c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[c.qOj],attrs:kG,ngContentSelectors:NG,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(c.F$t(OG),c._UZ(0,"span",0),c.Hsn(1),c.TgZ(2,"span",1),c.Hsn(3,1),c.qZA(),c.Hsn(4,2),c._UZ(5,"span",2)(6,"span",3)),2&n&&c.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',LG],encapsulation:2,changeDetection:0})}return i})(),rX=(()=>{class i extends XL{constructor(e,n,r,s){super(e,n,r,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(ps),c.Y36(c.R0b),c.Y36(c.QbO,8))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(n,r){2&n&&(c.uIk("disabled",r.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:K9,ngContentSelectors:J9,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(c.F$t(),c._UZ(0,"span",0),c.Hsn(1),c._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',LG],encapsulation:2,changeDetection:0})}return i})(),FG=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[rr,FC,rr]})}return i})(),sX=(()=>{class i{get(e){throw new Error("Method not implemented.")}setValue(e){throw new Error("Method not implemented.")}constructor(e,n,r){this.builder=e,this.service=n,this.router=r,this.registerform=this.builder.group({id:this.builder.control("",Xo.compose([Xo.required,Xo.minLength(5)])),name:this.builder.control("",Xo.compose([Xo.required])),password:this.builder.control("",Xo.compose([Xo.required,Xo.pattern("")])),email:this.builder.control("",Xo.compose([Xo.required,Xo.email])),gender:this.builder.control("male"),role:this.builder.control(""),isactive:this.builder.control(!1)})}proceedregister(){this.registerform.valid?this.service.RegisterUser(this.registerform.value).then(e=>{alert("Please contact admin for enable access.Registered successfully"),this.router.navigate(["login"])}):alert("Please enter valid data.")}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(XO),c.Y36(Nv),c.Y36($i))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["app-register"]],decls:34,vars:1,consts:[["role","main",1,"content"],[1,"example-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["matInput","","formControlName","id"],["matInput","","formControlName","name"],["matInput","","formControlName","password"],["matInput","","formControlName","email"],["formControlName","gender","aria-label","Gender"],["value","male"],["value","female"],["mat-button","","color","primary"],["routerLink","/login","mat-button","","color","accent"]],template:function(n,r){1&n&&(c.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"h1"),c._uU(4,"User Registration"),c.qZA()(),c.TgZ(5,"mat-card-content")(6,"form",1),c.NdJ("ngSubmit",function(){return r.proceedregister()}),c.TgZ(7,"mat-form-field",2)(8,"mat-label"),c._uU(9,"User Name"),c.qZA(),c._UZ(10,"input",3),c.qZA(),c.TgZ(11,"mat-form-field",2)(12,"mat-label"),c._uU(13,"Name"),c.qZA(),c._UZ(14,"input",4),c.qZA(),c.TgZ(15,"mat-form-field",2)(16,"mat-label"),c._uU(17,"Password"),c.qZA(),c._UZ(18,"input",5),c.qZA(),c.TgZ(19,"mat-form-field",2)(20,"mat-label"),c._uU(21,"Email"),c.qZA(),c._UZ(22,"input",6),c.qZA(),c.TgZ(23,"div")(24,"mat-radio-group",7)(25,"mat-radio-button",8),c._uU(26,"Male"),c.qZA(),c.TgZ(27,"mat-radio-button",9),c._uU(28,"Female"),c.qZA()()(),c.TgZ(29,"div")(30,"button",10),c._uU(31,"Submit"),c.qZA(),c.TgZ(32,"a",11),c._uU(33,"Back to Login"),c.qZA()()()()()()),2&n&&(c.xp6(6),c.Q6J("formGroup",r.registerform))},dependencies:[T_,SG,kI,UC,BC,VC,HC,RG,PG,OI,GC,AD,GE,_D,vD,Gm,KE]})}return i})();const UG=["toast-component",""];function oX(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.remove())}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA()()}}function aX(i,t){if(1&i&&(c.ynx(0),c._uU(1),c.BQk()),2&i){const e=c.oxw(2);c.xp6(1),c.hij("[",e.duplicatesCount+1,"]")}}function lX(i,t){if(1&i&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,aX,2,1,"ng-container",4),c.qZA()),2&i){const e=c.oxw();c.Tol(e.options.titleClass),c.uIk("aria-label",e.title),c.xp6(1),c.hij(" ",e.title," "),c.xp6(1),c.Q6J("ngIf",e.duplicatesCount)}}function cX(i,t){if(1&i&&c._UZ(0,"div",7),2&i){const e=c.oxw();c.Tol(e.options.messageClass),c.Q6J("innerHTML",e.message,c.oJD)}}function dX(i,t){if(1&i&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&i){const e=c.oxw();c.Tol(e.options.messageClass),c.uIk("aria-label",e.message),c.xp6(1),c.hij(" ",e.message," ")}}function uX(i,t){if(1&i&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&i){const e=c.oxw();c.xp6(1),c.Udp("width",e.width+"%")}}class vX{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class yX{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}class bX{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new an.x;_activate=new an.x;_manualClose=new an.x;_resetTimeout=new an.x;_countDuplicate=new an.x;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class NI{toastId;config;message;title;toastType;toastRef;_onTap=new an.x;_onAction=new an.x;constructor(t,e,n,r,s,l){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=s,this.toastRef=l,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const VG=new c.OlP("ToastConfig");class xX extends yX{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let wX=(()=>{class i{_document=(0,c.f3M)(xe);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(n){return new(n||i)};static \u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class EX{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let CX=(()=>{class i{_overlayContainer=(0,c.f3M)(wX);_componentFactoryResolver=(0,c.f3M)(c._Vd);_appRef=(0,c.f3M)(c.z2F);_document=(0,c.f3M)(xe);_paneElements=new Map;create(e,n){return this._createOverlayRef(this.getPaneElement(e,n))}getPaneElement(e="",n){return this._paneElements.get(n)||this._paneElements.set(n,{}),this._paneElements.get(n)[e]||(this._paneElements.get(n)[e]=this._createPaneElement(e,n)),this._paneElements.get(n)[e]}_createPaneElement(e,n){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),n?n.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new xX(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new EX(this._createPortalHost(e))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),LI=(()=>{class i{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,n,r,s,l){this.overlay=n,this._injector=r,this.sanitizer=s,this.ngZone=l,this.toastrConfig={...e.default,...e.config},e.config.iconClasses&&(this.toastrConfig.iconClasses={...e.default.iconClasses,...e.config.iconClasses})}show(e,n,r={},s=""){return this._preBuildNotification(s,e,n,this.applyConfig(r))}success(e,n,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,n,this.applyConfig(r))}error(e,n,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,n,this.applyConfig(r))}info(e,n,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,n,this.applyConfig(r))}warning(e,n,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,n,this.applyConfig(r))}clear(e){for(const n of this.toasts)if(void 0!==e){if(n.toastId===e)return void n.toastRef.manualClose()}else n.toastRef.manualClose()}remove(e){const n=this._findToast(e);if(!n||(n.activeToast.toastRef.close(),this.toasts.splice(n.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",n="",r,s){const{includeTitleDuplicates:l}=this.toastrConfig;for(const u of this.toasts)if((!l||l&&u.title===e)&&u.message===n)return u.toastRef.onDuplicate(r,s),u;return null}applyConfig(e={}){return{...this.toastrConfig,...e}}_findToast(e){for(let n=0;n<this.toasts.length;n++)if(this.toasts[n].toastId===e)return{index:n,activeToast:this.toasts[n]};return null}_preBuildNotification(e,n,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,n,r,s)):this._buildNotification(e,n,r,s)}_buildNotification(e,n,r,s){if(!s.toastComponent)throw new Error("toastComponent required");const l=this.findDuplicate(r,n,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||n)&&this.toastrConfig.preventDuplicates&&null!==l)return l;this.previousToastMessage=n;let u=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(u=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const f=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let m=n;n&&s.enableHtml&&(m=this.sanitizer.sanitize(c.q3G.HTML,n));const y=new bX(f),b=new NI(this.index,s,m,r,e,y),S=c.zs3.create({providers:[{provide:NI,useValue:b}],parent:this._injector}),A=new vX(s.toastComponent,S),k=f.attach(A,s.newestOnTop);y.componentInstance=k.instance;const I={toastId:this.index,title:r||"",message:n||"",toastRef:y,onShown:y.afterActivate(),onHidden:y.afterClosed(),onTap:b.onTap(),onAction:b.onAction(),portal:k};return u||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{I.toastRef.activate()})),this.toasts.push(I),I}static \u0275fac=function(n){return new(n||i)(c.LFG(VG),c.LFG(CX),c.LFG(c.zs3),c.LFG(No),c.LFG(c.R0b))};static \u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const SX={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class i{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,n,r){this.toastrService=e,this.toastPackage=n,this.ngZone=r,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),n)):this.timeout=setTimeout(()=>e(),n)}outsideInterval(e,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),n)):this.intervalId=setInterval(()=>e(),n)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(n){return new(n||i)(c.Y36(LI),c.Y36(NI),c.Y36(c.R0b))};static \u0275cmp=c.Xpm({type:i,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(n,r){1&n&&c.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&n&&(c.d8E("@flyInOut",r.state),c.Tol(r.toastClasses),c.Udp("display",r.displayStyle))},standalone:!0,features:[c.jDz],attrs:UG,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){1&n&&(c.YNc(0,oX,3,0,"button",0),c.YNc(1,lX,3,5,"div",1),c.YNc(2,cX,1,3,"div",2),c.YNc(3,dX,2,4,"div",3),c.YNc(4,uX,2,2,"div",4)),2&n&&(c.Q6J("ngIf",r.options.closeButton),c.xp6(1),c.Q6J("ngIf",r.title),c.xp6(1),c.Q6J("ngIf",r.message&&r.options.enableHtml),c.xp6(1),c.Q6J("ngIf",r.message&&!r.options.enableHtml),c.xp6(1),c.Q6J("ngIf",r.options.progressBar))},dependencies:[bs],encapsulation:2,data:{animation:[cs("flyInOut",[jn("inactive",Pn({opacity:0})),jn("active",Pn({opacity:1})),jn("removed",Pn({opacity:0})),En("inactive => active",Ii("{{ easeTime }}ms {{ easing }}")),En("active => removed",Ii("{{ easeTime }}ms {{ easing }}"))])]}})}return i})()},MX=(i={})=>(0,c.MR2)([{provide:VG,useValue:{default:SX,config:i}}]);let TX=(()=>{class i{static forRoot(e={}){return{ngModule:i,providers:[MX(e)]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=c.oAB({type:i});static \u0275inj=c.cJS({})}return i})(),AX=(()=>{class i{constructor(e,n,r,s){this.builder=e,this.service=n,this.router=r,this.toastr=s,this.loginform=this.builder.group({id:this.builder.control("",Xo.required),password:this.builder.control("",Xo.required)}),sessionStorage.clear()}proceedlogin(){if(this.loginform.valid){const e=String(this.loginform.value.id),n=this.loginform.value.password;this.service.Getbycode(e).valueChanges().subscribe(r=>{if(r){const s=r[0];s&&s.password===n?s.isactive?null!=s.id&&null!=s.role?(sessionStorage.setItem("username",s.id),sessionStorage.setItem("role",s.role),this.router.navigate(["/user"])):this.toastr.warning("User ID is undefined."):this.toastr.warning("InActive User. Please contact Admin."):this.toastr.warning("Invalid credentials")}else this.toastr.warning("User not found")})}else this.toastr.warning("Please enter valid data.")}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(XO),c.Y36(Nv),c.Y36($i),c.Y36(LI))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["app-login"]],decls:20,vars:1,consts:[["role","main",1,"content"],[1,"example-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["matInput","","formControlName","id"],["matInput","","formControlName","password"],["mat-raised-button","","color","primary"],["routerLink","/register","mat-raised-button","","color","accent"]],template:function(n,r){1&n&&(c.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"h1"),c._uU(4,"User Login"),c.qZA()(),c.TgZ(5,"mat-card-content")(6,"form",1),c.NdJ("ngSubmit",function(){return r.proceedlogin()}),c.TgZ(7,"mat-form-field",2)(8,"mat-label"),c._uU(9,"User Name"),c.qZA(),c._UZ(10,"input",3),c.qZA(),c.TgZ(11,"mat-form-field",2)(12,"mat-label"),c._uU(13,"Password"),c.qZA(),c._UZ(14,"input",4),c.qZA(),c.TgZ(15,"div")(16,"button",5),c._uU(17,"Login"),c.qZA(),c.TgZ(18,"a",6),c._uU(19,"New User?"),c.qZA()()()()()()),2&n&&(c.xp6(6),c.Q6J("formGroup",r.loginform))},dependencies:[T_,SG,kI,UC,BC,VC,HC,OI,GC,AD,GE,_D,vD,Gm,KE]})}return i})();var DX=W(4266);const IX=["addListener","removeListener"],RX=["addEventListener","removeEventListener"],PX=["on","off"];function KL(i,t,e,n){if((0,Sl.m)(e)&&(n=e,e=void 0),n)return KL(i,t,e).pipe(Hh(n));const[r,s]=function NX(i){return(0,Sl.m)(i.addEventListener)&&(0,Sl.m)(i.removeEventListener)}(i)?RX.map(l=>u=>i[l](t,u,e)):function kX(i){return(0,Sl.m)(i.addListener)&&(0,Sl.m)(i.removeListener)}(i)?IX.map(HG(i,t)):function OX(i){return(0,Sl.m)(i.on)&&(0,Sl.m)(i.off)}(i)?PX.map(HG(i,t)):[];if(!r&&(0,DX.z)(i))return(0,Ws.z)(l=>KL(l,t,e))((0,Gh.Xf)(i));if(!r)throw new TypeError("Invalid event target");return new lo.y(l=>{const u=(...f)=>l.next(1<f.length?f:f[0]);return r(u),()=>s(u)})}function HG(i,t){return e=>n=>i[e](t,n)}var zG=W(1954);const WC={schedule(i){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:n}=WC;n&&(t=n.requestAnimationFrame,e=n.cancelAnimationFrame);const r=t(s=>{e=void 0,i(s)});return new Ts.w0(()=>e?.(r))},requestAnimationFrame(...i){const{delegate:t}=WC;return(t?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:t}=WC;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0};var GG=W(2631);new class FX extends GG.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class LX extends zG.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=WC.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(WC.cancelAnimationFrame(e),t._scheduled=void 0)}});let JL,BX=1;const FI={};function WG(i){return i in FI&&(delete FI[i],!0)}const VX={setImmediate(i){const t=BX++;return FI[t]=!0,JL||(JL=Promise.resolve()),JL.then(()=>WG(t)&&i()),t},clearImmediate(i){WG(i)}},{setImmediate:HX,clearImmediate:zX}=VX,UI={setImmediate(...i){const{delegate:t}=UI;return(t?.setImmediate||HX)(...i)},clearImmediate(i){const{delegate:t}=UI;return(t?.clearImmediate||zX)(i)},delegate:void 0},QL=new class WX extends GG.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class GX extends zG.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=UI.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(UI.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var $X=W(671);function jG(i=0,t,e=JE.P){let n=-1;return null!=t&&((0,$X.K)(t)?e=t:n=t),new lo.y(r=>{let s=function YX(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;s<0&&(s=0);let l=0;return e.schedule(function(){r.closed||(r.next(l++),0<=n?this.schedule(void 0,n):r.complete())},s)})}function $G(i,t=JE.z){return function jX(i){return(0,Kr.e)((t,e)=>{let n=!1,r=null,s=null,l=!1;const u=()=>{if(s?.unsubscribe(),s=null,n){n=!1;const m=r;r=null,e.next(m)}l&&e.complete()},f=()=>{s=null,l&&e.complete()};t.subscribe((0,Xr.x)(e,m=>{n=!0,r=m,s||(0,Gh.Xf)(i(m)).subscribe(s=(0,Xr.x)(e,u,f))},()=>{l=!0,(!n||!s||s.closed)&&e.complete()}))})}(()=>jG(i,t))}let YG=(()=>{class i{constructor(e,n,r){this._ngZone=e,this._platform=n,this._scrolled=new an.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new lo.y(n=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe($G(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,nn.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){const r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(tr(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const n=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&n.push(s)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let r=tg(n),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>KL(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(c.R0b),c.LFG(ps),c.LFG(xe,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),BI=(()=>{class i{constructor(e,n,r){this._platform=e,this._change=new an.x,this._changeListener=s=>{this._change.next(s)},this._document=r,n.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,n=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe($G(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(ps),c.LFG(c.R0b),c.LFG(xe,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),jC=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({})}return i})(),eF=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[OC,jC,OC,jC]})}return i})();const XX=[[["caption"]],[["colgroup"],["col"]]],KX=["caption","colgroup, col"];function tF(i){return class extends i{get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=fi(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}}}const q0=new c.OlP("CDK_TABLE");let Z0=(()=>{class i{constructor(e){this.template=e}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","cdkCellDef",""]]})}return i})(),X0=(()=>{class i{constructor(e){this.template=e}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","cdkHeaderCellDef",""]]})}return i})(),VI=(()=>{class i{constructor(e){this.template=e}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","cdkFooterCellDef",""]]})}return i})();class tK{}const nK=tF(tK);let Hf=(()=>{class i extends nK{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const n=this._stickyEnd;this._stickyEnd=fi(e),this._hasStickyChanged=n!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(q0,8))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","cdkColumnDef",""]],contentQueries:function(n,r,s){if(1&n&&(c.Suo(s,Z0,5),c.Suo(s,X0,5),c.Suo(s,VI,5)),2&n){let l;c.iGM(l=c.CRH())&&(r.cell=l.first),c.iGM(l=c.CRH())&&(r.headerCell=l.first),c.iGM(l=c.CRH())&&(r.footerCell=l.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[c._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),c.qOj]})}return i})();class nF{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let iF=(()=>{class i extends nF{constructor(e,n){super(e,n)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(Hf),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[c.qOj]})}return i})(),rF=(()=>{class i extends nF{constructor(e,n){if(super(e,n),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");n.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(Hf),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[c.qOj]})}return i})();class ZG{constructor(){this.tasks=[],this.endTasks=[]}}const sF=new c.OlP("_COALESCED_STYLE_SCHEDULER");let XG=(()=>{class i{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new an.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new ZG,this._getScheduleObservable().pipe(Ci(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new ZG;for(const n of e.tasks)n();for(const n of e.endTasks)n()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Zr.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Ir(1))}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})(),oF=(()=>{class i{constructor(e,n){this.template=e,this._differs=n}ngOnChanges(e){if(!this._columnsDiffer){const n=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(n).create(),this._columnsDiffer.diff(n)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof $C?e.headerCell.template:this instanceof YC?e.footerCell.template:e.cell.template}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.Rgc),c.Y36(c.ZZ4))};static#t=this.\u0275dir=c.lG2({type:i,features:[c.TTD]})}return i})();class iK extends oF{}const rK=tF(iK);let $C=(()=>{class i extends rK{constructor(e,n,r){super(e,n),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(q0,8))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[c.qOj,c.TTD]})}return i})();class sK extends oF{}const oK=tF(sK);let YC=(()=>{class i extends oK{constructor(e,n,r){super(e,n),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(q0,8))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[c.qOj,c.TTD]})}return i})(),HI=(()=>{class i extends oF{constructor(e,n,r){super(e,n),this._table=r}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(q0,8))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[c.qOj]})}return i})(),zf=(()=>{class i{static#e=this.mostRecentCellOutlet=null;constructor(e){this._viewContainer=e,i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.s_b))};static#n=this.\u0275dir=c.lG2({type:i,selectors:[["","cdkCellOutlet",""]]})}return i})(),aF=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&c.GkF(0,0)},dependencies:[zf],encapsulation:2})}return i})(),cF=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&c.GkF(0,0)},dependencies:[zf],encapsulation:2})}return i})(),zI=(()=>{class i{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["ng-template","cdkNoDataRow",""]]})}return i})();const KG=["top","bottom","left","right"];class aK{constructor(t,e,n,r,s=!0,l=!0,u){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=l,this._positionListener=u,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const n=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){n.push(r);for(let s=0;s<r.children.length;s++)n.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of n)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,n,r=!0){if(!t.length||!this._isBrowser||!e.some(w=>w)&&!n.some(w=>w))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],l=s.children.length,u=this._getCellWidths(s,r),f=this._getStickyStartColumnPositions(u,e),m=this._getStickyEndColumnPositions(u,n),y=e.lastIndexOf(!0),b=n.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const w="rtl"===this.direction,S=w?"right":"left",A=w?"left":"right";for(const k of t)for(let I=0;I<l;I++){const R=k.children[I];e[I]&&this._addStickyStyle(R,S,f[I],I===y),n[I]&&this._addStickyStyle(R,A,m[I],I===b)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===y?[]:u.slice(0,y+1).map((k,I)=>e[I]?k:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===b?[]:u.slice(b).map((k,I)=>n[I+b]?k:null).reverse()}))})}stickRows(t,e,n){if(!this._isBrowser)return;const r="bottom"===n?t.slice().reverse():t,s="bottom"===n?e.slice().reverse():e,l=[],u=[],f=[];for(let y=0,b=0;y<r.length;y++){if(!s[y])continue;l[y]=b;const w=r[y];f[y]=this._isNativeHtmlTable?Array.from(w.children):[w];const S=w.getBoundingClientRect().height;b+=S,u[y]=S}const m=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let y=0;y<r.length;y++){if(!s[y])continue;const b=l[y],w=y===m;for(const S of f[y])this._addStickyStyle(S,n,b,w)}"top"===n?this._positionListener?.stickyHeaderRowsUpdated({sizes:u,offsets:l,elements:f}):this._positionListener?.stickyFooterRowsUpdated({sizes:u,offsets:l,elements:f})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);KG.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${n}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const r of KG)t.style[r]&&(n+=e[r]);return n?`${n}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],r=t.children;for(let s=0;s<r.length;s++)n.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(t,e){const n=[];let r=0;for(let s=0;s<t.length;s++)e[s]&&(n[s]=r,r+=t[s]);return n}_getStickyEndColumnPositions(t,e){const n=[];let r=0;for(let s=t.length;s>0;s--)e[s]&&(n[s]=r,r+=t[s]);return n}}const dF=new c.OlP("CDK_SPL");let GI=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","rowOutlet",""]]})}return i})(),WI=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","headerRowOutlet",""]]})}return i})(),jI=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","footerRowOutlet",""]]})}return i})(),$I=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","noDataRowOutlet",""]]})}return i})(),YI=(()=>{class i{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=fi(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=fi(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,n,r,s,l,u,f,m,y,b,w,S){this._differs=e,this._changeDetectorRef=n,this._elementRef=r,this._dir=l,this._platform=f,this._viewRepeater=m,this._coalescedStyleScheduler=y,this._viewportRuler=b,this._stickyPositioningListener=w,this._ngZone=S,this._onDestroy=new an.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new c.vpe,this.viewChange=new Gs.X({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=u,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,n)=>this.trackBy?this.trackBy(n.dataIndex,n.data):n),this._viewportRuler.change().pipe(Ci(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const n=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||n,this._forceRecalculateCellWidths=n,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),ZL(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const n=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,n,(r,s,l)=>this._getEmbeddedViewArgs(r.item,l),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{n.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&c.R0b.isInAngularZone()?this._ngZone.onStable.pipe(Ir(1),Ci(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const s=this._headerRowDefs.map(l=>l.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(l=>l.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const s=this._footerRowDefs.map(l=>l.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(l=>l.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...n,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,l)=>{this._addStickyColumnStyles([s],this._headerRowDefs[l])}),this._rowDefs.forEach(s=>{const l=[];for(let u=0;u<n.length;u++)this._renderRows[u].rowDef===s&&l.push(n[u]);this._addStickyColumnStyles(l,s)}),r.forEach((s,l)=>{this._addStickyColumnStyles([s],this._footerRowDefs[l])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],n=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const l=this._getRenderRowsForData(s,r,n.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let u=0;u<l.length;u++){let f=l[u];const m=this._cachedRenderRowsMap.get(f.data);m.has(f.rowDef)?m.get(f.rowDef).push(f):m.set(f.rowDef,[f]),e.push(f)}}return e}_getRenderRowsForData(e,n,r){return this._getRowDefs(e,n).map(l=>{const u=r&&r.has(l)?r.get(l):[];if(u.length){const f=u.shift();return f.dataIndex=n,f}return{data:e,rowDef:l,dataIndex:n}})}_cacheColumnDefs(){this._columnDefsByName.clear(),qI(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(n=>{this._columnDefsByName.has(n.name),this._columnDefsByName.set(n.name,n)})}_cacheRowDefs(){this._headerRowDefs=qI(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=qI(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=qI(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(n=>!n.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(l,u)=>l||!!u.getColumnsDiff(),n=this._rowDefs.reduce(e,!1);n&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),n||r||s}_switchDataSource(e){this._data=[],ZL(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;ZL(this.dataSource)?e=this.dataSource.connect(this):Zg(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,nn.of)(this.dataSource)),this._renderChangeSubscription=e.pipe(Ci(this._onDestroy)).subscribe(n=>{this._data=n||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,n)=>this._renderRow(this._headerRowOutlet,e,n)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,n)=>this._renderRow(this._footerRowOutlet,e,n)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,n){const r=Array.from(n.columns||[]).map(u=>this._columnDefsByName.get(u)),s=r.map(u=>u.sticky),l=r.map(u=>u.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,l,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const n=[];for(let r=0;r<e.viewContainer.length;r++){const s=e.viewContainer.get(r);n.push(s.rootNodes[0])}return n}_getRowDefs(e,n){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(n,e));else{let s=this._rowDefs.find(l=>l.when&&l.when(n,e))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(e,n){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:n}}_renderRow(e,n,r,s={}){const l=e.viewContainer.createEmbeddedView(n.template,s,r);return this._renderCellTemplateForItem(n,s),l}_renderCellTemplateForItem(e,n){for(let r of this._getCellTemplates(e))zf.mostRecentCellOutlet&&zf.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,n);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let n=0,r=e.length;n<r;n++){const l=e.get(n).context;l.count=r,l.first=0===n,l.last=n===r-1,l.even=n%2==0,l.odd=!l.even,this.multiTemplateDataRows?(l.dataIndex=this._renderRows[n].dataIndex,l.renderIndex=n):l.index=this._renderRows[n].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,n=>{const r=this._columnDefsByName.get(n);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),n=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of n){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const l of r.outlets)s.appendChild(l.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(n,r)=>n||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new aK(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,nn.of)()).pipe(Ci(this._onDestroy)).subscribe(n=>{this._stickyStyler.direction=n,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(n=>!n._table||n._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const n=0===this._rowOutlet.viewContainer.length;if(n===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(n){const s=r.createEmbeddedView(e.templateRef),l=s.rootNodes[0];1===s.rootNodes.length&&l?.nodeType===this._document.ELEMENT_NODE&&(l.setAttribute("role","row"),l.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=n,this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.ZZ4),c.Y36(c.sBO),c.Y36(c.SBq),c.$8M("role"),c.Y36(Vf,8),c.Y36(xe),c.Y36(ps),c.Y36(zC),c.Y36(sF),c.Y36(BI),c.Y36(dF,12),c.Y36(c.R0b,8))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(n,r,s){if(1&n&&(c.Suo(s,zI,5),c.Suo(s,Hf,5),c.Suo(s,HI,5),c.Suo(s,$C,5),c.Suo(s,YC,5)),2&n){let l;c.iGM(l=c.CRH())&&(r._noDataRow=l.first),c.iGM(l=c.CRH())&&(r._contentColumnDefs=l),c.iGM(l=c.CRH())&&(r._contentRowDefs=l),c.iGM(l=c.CRH())&&(r._contentHeaderRowDefs=l),c.iGM(l=c.CRH())&&(r._contentFooterRowDefs=l)}},viewQuery:function(n,r){if(1&n&&(c.Gf(GI,7),c.Gf(WI,7),c.Gf(jI,7),c.Gf($I,7)),2&n){let s;c.iGM(s=c.CRH())&&(r._rowOutlet=s.first),c.iGM(s=c.CRH())&&(r._headerRowOutlet=s.first),c.iGM(s=c.CRH())&&(r._footerRowOutlet=s.first),c.iGM(s=c.CRH())&&(r._noDataRowOutlet=s.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(n,r){2&n&&c.ekj("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[c._Bn([{provide:q0,useExisting:i},{provide:zC,useClass:MG},{provide:sF,useClass:XG},{provide:dF,useValue:null}])],ngContentSelectors:KX,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){1&n&&(c.F$t(XX),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[GI,WI,jI,$I],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return i})();function qI(i,t){return i.concat(Array.from(t))}let cK=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[eF]})}return i})();const dK=[[["caption"]],[["colgroup"],["col"]]],uK=["caption","colgroup, col"];let QG=(()=>{class i extends YI{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(n,r){2&n&&c.ekj("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[c._Bn([{provide:YI,useExisting:i},{provide:q0,useExisting:i},{provide:sF,useClass:XG},{provide:zC,useClass:MG},{provide:dF,useValue:null}]),c.qOj],ngContentSelectors:uK,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){1&n&&(c.F$t(dK),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[GI,WI,jI,$I],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{--mat-table-row-item-outline-width:1px;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return i})(),uF=(()=>{class i extends Z0{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","matCellDef",""]],features:[c._Bn([{provide:Z0,useExisting:i}]),c.qOj]})}return i})(),hF=(()=>{class i extends X0{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","matHeaderCellDef",""]],features:[c._Bn([{provide:X0,useExisting:i}]),c.qOj]})}return i})(),fF=(()=>{class i extends Hf{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[c._Bn([{provide:Hf,useExisting:i},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),c.qOj]})}return i})(),pF=(()=>{class i extends iF{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275dir=c.lG2({type:i,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[c.qOj]})}return i})(),mF=(()=>{class i extends rF{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275dir=c.lG2({type:i,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[c.qOj]})}return i})(),e4=(()=>{class i extends $C{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[c._Bn([{provide:$C,useExisting:i}]),c.qOj]})}return i})(),t4=(()=>{class i extends HI{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[c._Bn([{provide:HI,useExisting:i}]),c.qOj]})}return i})(),n4=(()=>{class i extends aF{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[c._Bn([{provide:aF,useExisting:i}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&c.GkF(0,0)},dependencies:[zf],encapsulation:2})}return i})(),i4=(()=>{class i extends cF{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[c._Bn([{provide:cF,useExisting:i}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&c.GkF(0,0)},dependencies:[zf],encapsulation:2})}return i})(),yK=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[rr,cK,rr]})}return i})();class xK extends F9{get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}constructor(t=[]){super(),this._renderData=new Gs.X([]),this._filter=new Gs.X(""),this._internalPageChanges=new an.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,n)=>{const r=e[n];if(Dz(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(e,n)=>{const r=n.active,s=n.direction;return r&&""!=s?e.sort((l,u)=>{let f=this.sortingDataAccessor(l,r),m=this.sortingDataAccessor(u,r);const y=typeof f,b=typeof m;y!==b&&("number"===y&&(f+=""),"number"===b&&(m+=""));let w=0;return null!=f&&null!=m?f>m?w=1:f<m&&(w=-1):null!=f?w=1:null!=m&&(w=-1),w*("asc"==s?1:-1)}):e},this.filterPredicate=(e,n)=>{const r=Object.keys(e).reduce((l,u)=>l+e[u]+"\u25ec","").toLowerCase(),s=n.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new Gs.X(t),this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?(0,ma.T)(this._sort.sortChange,this._sort.initialized):(0,nn.of)(null),e=this._paginator?(0,ma.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,nn.of)(null),r=zh([this._data,this._filter]).pipe((0,An.U)(([u])=>this._filterData(u))),s=zh([r,t]).pipe((0,An.U)(([u])=>this._orderData(u))),l=zh([s,e]).pipe((0,An.U)(([u])=>this._pageData(u)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=l.subscribe(u=>this._renderData.next(u))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const n=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,n);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class wK extends xK{}class gF{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class ZI extends gF{constructor(t,e,n,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=s}}class XI extends gF{constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class CK extends gF{constructor(t){super(),this.element=t instanceof c.SBq?t.nativeElement:t}}class _F{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof ZI?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof XI?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof CK?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class SK extends _F{constructor(t,e,n,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=l=>{const u=l.element,f=this._document.createComment("dom-portal");u.parentNode.insertBefore(f,u),this.outletElement.appendChild(u),this._attachedPortal=l,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=s}attachComponentPortal(t){const n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(t.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);-1!==r&&e.remove(r)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let vF=(()=>{class i extends _F{constructor(e,n,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=s=>{const l=s.element,u=this._document.createComment("dom-portal");s.setAttachedHost(this),l.parentNode.insertBefore(u,l),this._getRootNode().appendChild(l),this._attachedPortal=s,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(l,u)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const n=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),l=n.createComponent(s,n.length,e.injector||n.injector,e.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=e,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(e){e.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(xe))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]})}return i})(),KI=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({})}return i})();const r4=xZ();class MK{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Rs(-this._previousScrollPosition.left),t.style.top=Rs(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,n=t.style,r=this._document.body.style,s=n.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),r4&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),r4&&(n.scrollBehavior=s,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}}class TK{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(tr(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class s4{enable(){}disable(){}attach(){}}function yF(i,t){return t.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function o4(i,t){return t.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class AK{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();yF(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let DK=(()=>{class i{constructor(e,n,r,s){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new s4,this.close=l=>new TK(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new MK(this._viewportRuler,this._document),this.reposition=l=>new AK(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=s}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(YG),c.LFG(BI),c.LFG(c.R0b),c.LFG(xe))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class JI{constructor(t){if(this.scrollStrategy=new s4,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class IK{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let a4=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(xe))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),RK=(()=>{class i extends a4{constructor(e,n){super(e),this._ngZone=n,this._keydownListener=r=>{const s=this._attachedOverlays;for(let l=s.length-1;l>-1;l--)if(s[l]._keydownEvents.observers.length>0){const u=s[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(xe),c.LFG(c.R0b,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),PK=(()=>{class i extends a4{constructor(e,n,r){super(e),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=ng(s)},this._clickListener=s=>{const l=ng(s),u="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let m=f.length-1;m>-1;m--){const y=f[m];if(y._outsidePointerEvents.observers.length<1||!y.hasAttached())continue;if(y.overlayElement.contains(l)||y.overlayElement.contains(u))break;const b=y._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>b.next(s)):b.next(s)}}}add(e){if(super.add(e),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(xe),c.LFG(ps),c.LFG(c.R0b,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),QI=(()=>{class i{constructor(e,n){this._platform=n,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||OL()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const n=this._document.createElement("div");n.classList.add(e),OL()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(xe),c.LFG(ps))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class qC{constructor(t,e,n,r,s,l,u,f,m,y=!1){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=s,this._keyboardDispatcher=l,this._document=u,this._location=f,this._outsideClickDispatcher=m,this._animationsDisabled=y,this._backdropElement=null,this._backdropClick=new an.x,this._attachments=new an.x,this._detachments=new an.x,this._locationChanges=Ts.w0.EMPTY,this._backdropClickHandler=b=>this._backdropClick.next(b),this._backdropTransitionendHandler=b=>{this._disposeBackdrop(b.target)},this._keydownEvents=new an.x,this._outsidePointerEvents=new an.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ir(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Rs(this._config.width),t.height=Rs(this._config.height),t.minWidth=Rs(this._config.minWidth),t.minHeight=Rs(this._config.minHeight),t.maxWidth=Rs(this._config.maxWidth),t.maxHeight=Rs(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,n){const r=bI(e||[]).filter(s=>!!s);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Ci((0,ma.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const l4="cdk-overlay-connected-position-bounding-box",kK=/([A-Za-z%]+)$/;class OK{get positions(){return this._preferredPositions}constructor(t,e,n,r,s){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new an.x,this._resizeSubscription=Ts.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(l4),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,s=[];let l;for(let u of this._preferredPositions){let f=this._getOriginPoint(t,r,u),m=this._getOverlayPoint(f,e,u),y=this._getOverlayFit(m,e,n,u);if(y.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,f);this._canFitWithFlexibleDimensions(y,m,n)?s.push({position:u,origin:f,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(f,u)}):(!l||l.overlayFit.visibleArea<y.visibleArea)&&(l={overlayFit:y,overlayPoint:m,originPoint:f,position:u,overlayRect:e})}if(s.length){let u=null,f=-1;for(const m of s){const y=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);y>f&&(f=y,u=m)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Vv(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(l4),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,n){let r,s;if("center"==n.originX)r=t.left+t.width/2;else{const l=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;r="start"==n.originX?l:u}return e.left<0&&(r-=e.left),s="center"==n.originY?t.top+t.height/2:"top"==n.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,n){let r,s;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,n,r){const s=d4(e);let{x:l,y:u}=t,f=this._getOffset(r,"x"),m=this._getOffset(r,"y");f&&(l+=f),m&&(u+=m);let w=0-u,S=u+s.height-n.height,A=this._subtractOverflows(s.width,0-l,l+s.width-n.width),k=this._subtractOverflows(s.height,w,S),I=A*k;return{visibleArea:I,isCompletelyWithinViewport:s.width*s.height===I,fitsInViewportVertically:k===s.height,fitsInViewportHorizontally:A==s.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,s=n.right-e.x,l=c4(this._overlayRef.getConfig().minHeight),u=c4(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=l&&l<=r)&&(t.fitsInViewportHorizontally||null!=u&&u<=s)}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=d4(e),s=this._viewportRect,l=Math.max(t.x+r.width-s.width,0),u=Math.max(t.y+r.height-s.height,0),f=Math.max(s.top-n.top-t.y,0),m=Math.max(s.left-n.left-t.x,0);let y=0,b=0;return y=r.width<=s.width?m||-l:t.x<this._viewportMargin?s.left-n.left-t.x:0,b=r.height<=s.height?f||-u:t.y<this._viewportMargin?s.top-n.top-t.y:0,this._previousPushAmount={x:y,y:b},{x:t.x+y,y:t.y+b}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const n=this._getScrollVisibility(),r=new IK(t,n);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let s,l,u,y,b,w;if("top"===e.overlayY)l=t.y,s=n.height-l+this._viewportMargin;else if("bottom"===e.overlayY)u=n.height-t.y+2*this._viewportMargin,s=n.height-u+this._viewportMargin;else{const S=Math.min(n.bottom-t.y+n.top,t.y),A=this._lastBoundingBoxSize.height;s=2*S,l=t.y-S,s>A&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.y-A/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)w=n.width-t.x+this._viewportMargin,y=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)b=t.x,y=n.right-t.x;else{const S=Math.min(n.right-t.x+n.left,t.x),A=this._lastBoundingBoxSize.width;y=2*S,b=t.x-S,y>A&&!this._isInitialRender&&!this._growAfterOpen&&(b=t.x-A/2)}return{top:l,left:b,bottom:u,right:w,width:y,height:s}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=Rs(n.height),r.top=Rs(n.top),r.bottom=Rs(n.bottom),r.width=Rs(n.width),r.left=Rs(n.left),r.right=Rs(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Rs(s)),l&&(r.maxWidth=Rs(l))}this._lastBoundingBoxSize=n,Vv(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Vv(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Vv(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){const y=this._viewportRuler.getViewportScrollPosition();Vv(n,this._getExactOverlayY(e,t,y)),Vv(n,this._getExactOverlayX(e,t,y))}else n.position="static";let u="",f=this._getOffset(e,"x"),m=this._getOffset(e,"y");f&&(u+=`translateX(${f}px) `),m&&(u+=`translateY(${m}px)`),n.transform=u.trim(),l.maxHeight&&(r?n.maxHeight=Rs(l.maxHeight):s&&(n.maxHeight="")),l.maxWidth&&(r?n.maxWidth=Rs(l.maxWidth):s&&(n.maxWidth="")),Vv(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Rs(s.y),r}_getExactOverlayX(t,e,n){let l,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),l=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===l?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Rs(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:o4(t,n),isOriginOutsideView:yF(t,n),isOverlayClipped:o4(e,n),isOverlayOutsideView:yF(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&bI(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof c.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Vv(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function c4(i){if("number"!=typeof i&&null!=i){const[t,e]=i.split(kK);return e&&"px"!==e?null:parseFloat(t)}return i||null}function d4(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const u4="cdk-global-overlay-wrapper";class NK{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(u4),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:l,maxHeight:u}=n,f=!("100%"!==r&&"100vw"!==r||l&&"100%"!==l&&"100vw"!==l),m=!("100%"!==s&&"100vh"!==s||u&&"100%"!==u&&"100vh"!==u),y=this._xPosition,b=this._xOffset,w="rtl"===this._overlayRef.getConfig().direction;let S="",A="",k="";f?k="flex-start":"center"===y?(k="center",w?A=b:S=b):w?"left"===y||"end"===y?(k="flex-end",S=b):("right"===y||"start"===y)&&(k="flex-start",A=b):"left"===y||"start"===y?(k="flex-start",S=b):("right"===y||"end"===y)&&(k="flex-end",A=b),t.position=this._cssPosition,t.marginLeft=f?"0":S,t.marginTop=m?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=f?"0":A,e.justifyContent=k,e.alignItems=m?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(u4),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let LK=(()=>{class i{constructor(e,n,r,s){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=s}global(){return new NK}flexibleConnectedTo(e){return new OK(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(BI),c.LFG(xe),c.LFG(ps),c.LFG(QI))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),FK=0,Sc=(()=>{class i{constructor(e,n,r,s,l,u,f,m,y,b,w,S){this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=l,this._injector=u,this._ngZone=f,this._document=m,this._directionality=y,this._location=b,this._outsideClickDispatcher=w,this._animationsModuleType=S}create(e){const n=this._createHostElement(),r=this._createPaneElement(n),s=this._createPortalOutlet(r),l=new JI(e);return l.direction=l.direction||this._directionality.value,new qC(s,n,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const n=this._document.createElement("div");return n.id="cdk-overlay-"+FK++,n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new SK(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(DK),c.LFG(QI),c.LFG(c._Vd),c.LFG(LK),c.LFG(RK),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(xe),c.LFG(Vf),c.LFG(Et),c.LFG(PK),c.LFG(c.QbO,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const UK=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],h4=new c.OlP("cdk-connected-overlay-scroll-strategy");let bF=(()=>{class i{constructor(e){this.elementRef=e}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return i})(),f4=(()=>{class i{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=fi(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=fi(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=fi(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=fi(e)}get push(){return this._push}set push(e){this._push=fi(e)}constructor(e,n,r,s,l){this._overlay=e,this._dir=l,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ts.w0.EMPTY,this._attachSubscription=Ts.w0.EMPTY,this._detachSubscription=Ts.w0.EMPTY,this._positionSubscription=Ts.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new c.vpe,this.positionChange=new c.vpe,this.attach=new c.vpe,this.detach=new c.vpe,this.overlayKeydown=new c.vpe,this.overlayOutsideClick=new c.vpe,this._templatePortal=new XI(n,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=UK);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),27===n.keyCode&&!this.disableClose&&!Uf(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{this.overlayOutsideClick.next(n)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new JI({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(n.width=this.width),(this.height||0===this.height)&&(n.height=this.height),(this.minWidth||0===this.minWidth)&&(n.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){const n=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof bF?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function EK(i,t=!1){return(0,Kr.e)((e,n)=>{let r=0;e.subscribe((0,Xr.x)(n,s=>{const l=i(s,r++);(l||t)&&n.next(s),!l&&n.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(Sc),c.Y36(c.Rgc),c.Y36(c.s_b),c.Y36(h4),c.Y36(Vf,8))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[c.TTD]})}return i})();const VK={provide:h4,deps:[Sc],useFactory:function BK(i){return()=>i.scrollStrategies.reposition()}};let ZC=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:[Sc,VK],imports:[OC,KI,eF,eF]})}return i})();const HK=["trigger"],zK=["panel"];function GK(i,t){if(1&i&&(c.TgZ(0,"span",10),c._uU(1),c.qZA()),2&i){const e=c.oxw();c.xp6(1),c.Oqu(e.placeholder)}}function WK(i,t){if(1&i&&(c.TgZ(0,"span",14),c._uU(1),c.qZA()),2&i){const e=c.oxw(2);c.xp6(1),c.Oqu(e.triggerValue)}}function jK(i,t){1&i&&c.Hsn(0,0,["*ngSwitchCase","true"])}function $K(i,t){if(1&i&&(c.TgZ(0,"span",11),c.YNc(1,WK,2,1,"span",12),c.YNc(2,jK,1,0,"ng-content",13),c.qZA()),2&i){const e=c.oxw();c.Q6J("ngSwitch",!!e.customTrigger),c.xp6(2),c.Q6J("ngSwitchCase",!0)}}function YK(i,t){if(1&i){const e=c.EpF();c.O4$(),c.kcU(),c.TgZ(0,"div",15,16),c.NdJ("@transformPanel.done",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._handleKeydown(r))}),c.Hsn(2,1),c.qZA()}if(2&i){const e=c.oxw();c.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),c.Q6J("ngClass",e.panelClass)("@transformPanel","showing"),c.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const qK=[[["mat-select-trigger"]],"*"],ZK=["mat-select-trigger","*"],XK={transformPanelWrap:cs("transformPanelWrap",[En("* => void",jc("@transformPanel",[Lo()],{optional:!0}))]),transformPanel:cs("transformPanel",[jn("void",Pn({opacity:0,transform:"scale(1, 0.8)"})),En("void => showing",Ii("120ms cubic-bezier(0, 0, 0.2, 1)",Pn({opacity:1,transform:"scale(1, 1)"}))),En("* => void",Ii("100ms linear",Pn({opacity:0})))])};let p4=0;const m4=new c.OlP("mat-select-scroll-strategy"),JK=new c.OlP("MAT_SELECT_CONFIG"),QK={provide:m4,deps:[Sc],useFactory:function KK(i){return()=>i.scrollStrategies.reposition()}},eJ=new c.OlP("MatSelectTrigger");class tJ{constructor(t,e){this.source=t,this.value=e}}const nJ=NC(zL(Bv(tG(class{constructor(i,t,e,n,r){this._elementRef=i,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r,this.stateChanges=new an.x}}))));let iJ=(()=>{class i extends nJ{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Xo.required)??!1}set required(e){this._required=fi(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=fi(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=fi(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Ld(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,n,r,s,l,u,f,m,y,b,w,S,A,k){super(l,s,f,m,b),this._viewportRuler=e,this._changeDetectorRef=n,this._ngZone=r,this._dir=u,this._parentFormField=y,this._liveAnnouncer=A,this._defaultOptions=k,this._panelOpen=!1,this._compareWith=(I,R)=>I===R,this._uid="mat-select-"+p4++,this._triggerAriaLabelledBy=null,this._destroy=new an.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+p4++,this._panelDoneAnimatingStream=new an.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Kg(()=>{const I=this.options;return I?I.changes.pipe(dd(I),(0,ki.w)(()=>(0,ma.T)(...I.map(R=>R.onSelectionChange)))):this._ngZone.onStable.pipe(Ir(1),(0,ki.w)(()=>this.optionSelectionChanges))}),this.openedChange=new c.vpe,this._openedStream=this.openedChange.pipe(tr(I=>I),(0,An.U)(()=>{})),this._closedStream=this.openedChange.pipe(tr(I=>!I),(0,An.U)(()=>{})),this.selectionChange=new c.vpe,this.valueChange=new c.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=k?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=k.typeaheadDebounceInterval),this._scrollStrategyFactory=S,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(w)||0,this.id=this.id}ngOnInit(){this._selectionModel=new U9(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,KO.x)(),Ci(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Ci(this._destroy)).subscribe(e=>{e.added.forEach(n=>n.select()),e.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(dd(null),Ci(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),n=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(void 0!==this._previousControl&&null!==n.disabled&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const n=`${this.id}-panel`;this._trackedModal&&NL(this._trackedModal,"aria-owns",n),Vz(e,"aria-owns",n),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(NL(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const n=e.keyCode,r=40===n||38===n||37===n||39===n,s=13===n||32===n,l=this._keyManager;if(!l.isTyping()&&s&&!Uf(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const u=this.selected;l.onKeydown(e);const f=this.selected;f&&u!==f&&this._liveAnnouncer.announce(f.viewValue,1e4)}}_handleOpenKeydown(e){const n=this._keyManager,r=e.keyCode,s=40===r||38===r,l=n.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(l||13!==r&&32!==r||!n.activeItem||Uf(e))if(!l&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const u=this.options.some(f=>!f.disabled&&!f.selected);this.options.forEach(f=>{f.disabled||(u?f.select():f.deselect())})}else{const u=n.activeItemIndex;n.onKeydown(e),this._multiple&&s&&e.shiftKey&&n.activeItem&&n.activeItemIndex!==u&&n.activeItem._selectViaInteraction()}else e.preventDefault(),n.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Ir(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{const n=this._selectOptionByValue(e);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_skipPredicate(e){return e.disabled}_initKeyManager(){this._keyManager=new WZ(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,ma.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ci(e)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,ma.T)(...this.options.map(n=>n._stateChanges)).pipe(Ci(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,n){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),n&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),n&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,e):e.indexOf(n)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let n=null;n=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){e=n;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(BI),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(iG),c.Y36(c.SBq),c.Y36(Vf,8),c.Y36(ZE,8),c.Y36(Gm,8),c.Y36(YL,8),c.Y36(Wu,10),c.$8M("tabindex"),c.Y36(m4),c.Y36(d7),c.Y36(JK,8))};static#t=this.\u0275dir=c.lG2({type:i,viewQuery:function(n,r){if(1&n&&(c.Gf(HK,5),c.Gf(zK,5),c.Gf(f4,5)),2&n){let s;c.iGM(s=c.CRH())&&(r.trigger=s.first),c.iGM(s=c.CRH())&&(r.panel=s.first),c.iGM(s=c.CRH())&&(r._overlayDir=s.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[c.qOj,c.TTD]})}return i})(),g4=(()=>{class i extends iJ{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=e=>!this.panelOpen&&e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Ci(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const n=this.options.toArray()[e];if(n){const r=this.panel.nativeElement,s=function L7(i,t,e){if(e.length){let n=t.toArray(),r=e.toArray(),s=0;for(let l=0;l<i+1;l++)n[l].group&&n[l].group===r[s]&&s++;return s}return 0}(e,this.options,this.optionGroups),l=n._getHostElement();r.scrollTop=0===e&&1===s?0:function F7(i,t,e,n){return i<e?i:i+t>e+n?Math.max(0,i-n+t):e}(l.offsetTop,l.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new tJ(this,e)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof bF?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=fi(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-select"]],contentQueries:function(n,r,s){if(1&n&&(c.Suo(s,eJ,5),c.Suo(s,GL,5),c.Suo(s,uG,5)),2&n){let l;c.iGM(l=c.CRH())&&(r.customTrigger=l.first),c.iGM(l=c.CRH())&&(r.options=l),c.iGM(l=c.CRH())&&(r.optionGroups=l)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(n,r){1&n&&c.NdJ("keydown",function(l){return r._handleKeydown(l)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&n&&(c.uIk("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),c.ekj("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[c._Bn([{provide:$L,useExisting:i},{provide:dG,useExisting:i}]),c.qOj],ngContentSelectors:ZK,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(n,r){if(1&n&&(c.F$t(qK),c.TgZ(0,"div",0,1),c.NdJ("click",function(){return r.toggle()}),c.TgZ(3,"div",2),c.YNc(4,GK,2,1,"span",3),c.YNc(5,$K,3,2,"span",4),c.qZA(),c.TgZ(6,"div",5)(7,"div",6),c.O4$(),c.TgZ(8,"svg",7),c._UZ(9,"path",8),c.qZA()()()(),c.YNc(10,YK,3,9,"ng-template",9),c.NdJ("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&n){const s=c.MAs(1);c.xp6(3),c.Q6J("ngSwitch",r.empty),c.uIk("id",r._valueId),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngSwitchCase",!1),c.xp6(5),c.Q6J("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[Sa,Ma,Dc,eh,f4,bF],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[XK.transformPanel]},changeDetection:0})}return i})(),_4=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:[QK],imports:[mi,ZC,hG,rr,jC,qL,hG,rr]})}return i})();const rJ=["tooltip"],v4=new c.OlP("mat-tooltip-scroll-strategy"),aJ={provide:v4,deps:[Sc],useFactory:function oJ(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}},cJ=new c.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function lJ(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),y4="tooltip-panel",b4=Lv({passive:!0});let mJ=(()=>{class i{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=fi(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=fi(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Ld(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Ld(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,n,r,s,l,u,f,m,y,b,w,S){this._overlay=e,this._elementRef=n,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=l,this._platform=u,this._ariaDescriber=f,this._focusMonitor=m,this._dir=b,this._defaultOptions=w,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new an.x,this._scrollStrategy=y,this._document=S,w&&(this._showDelay=w.showDelay,this._hideDelay=w.hideDelay,w.position&&(this.position=w.position),w.positionAtOrigin&&(this.positionAtOrigin=w.positionAtOrigin),w.touchGestures&&(this.touchGestures=w.touchGestures)),b.change.pipe(Ci(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ci(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,r])=>{e.removeEventListener(n,r,b4)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(n);this._detach(),this._portal=this._portal||new ZI(this._tooltipComponent,this._viewContainerRef);const s=this._tooltipInstance=r.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(Ci(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(e)}hide(e=this.hideDelay){const n=this._tooltipInstance;n&&(n.isVisible()?n.hide(e):(n._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&s._origin instanceof c.SBq)return this._overlayRef;this._detach()}const n=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return r.positionChanges.pipe(Ci(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${y4}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ci(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ci(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ci(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!Uf(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const n=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();n.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n||"below"==n?r={originX:"center",originY:"above"==n?"top":"bottom"}:"before"==n||"left"==n&&e||"right"==n&&!e?r={originX:"start",originY:"center"}:("after"==n||"right"==n&&e||"left"==n&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:l}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:l}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n?r={overlayX:"center",overlayY:"bottom"}:"below"==n?r={overlayX:"center",overlayY:"top"}:"before"==n||"left"==n&&e||"right"==n&&!e?r={overlayX:"end",overlayY:"center"}:("after"==n||"right"==n&&e||"left"==n&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:l}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:l}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Ir(1),Ci(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,n){return"above"===this.position||"below"===this.position?"top"===n?n="bottom":"bottom"===n&&(n="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:n}}_updateCurrentPositionClass(e){const{overlayY:n,originX:r,originY:s}=e;let l;if(l="center"===n?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===n&&"top"===s?"above":"below",l!==this._currentPosition){const u=this._overlayRef;if(u){const f=`${this._cssClassPrefix}-${y4}-`;u.removePanelClass(f+this._currentPosition),u.addPanelClass(f+l)}this._currentPosition=l}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let n;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(n=e),this.show(void 0,n)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const n=e.targetTouches?.[0],r=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",n=>{const r=n.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const n=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",n],["touchcancel",n])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,b4)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const n=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const n=this._elementRef.nativeElement,r=n.style;("on"===e||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(n){c.$Z()};static#t=this.\u0275dir=c.lG2({type:i,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return i})(),gJ=(()=>{class i extends mJ{constructor(e,n,r,s,l,u,f,m,y,b,w,S){super(e,n,r,s,l,u,f,m,y,b,w,S),this._tooltipComponent=vJ,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(Sc),c.Y36(c.SBq),c.Y36(YG),c.Y36(c.s_b),c.Y36(c.R0b),c.Y36(ps),c.Y36(zz),c.Y36(Bf),c.Y36(v4),c.Y36(Vf,8),c.Y36(cJ,8),c.Y36(xe))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,r){2&n&&c.ekj("mat-mdc-tooltip-disabled",r.disabled)},exportAs:["matTooltip"],features:[c.qOj]})}return i})(),_J=(()=>{class i{constructor(e,n){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new an.x,this._animationsDisabled="NoopAnimations"===n}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const n=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(n.classList.remove(e?s:r),n.classList.add(e?r:s),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const l=getComputedStyle(n);("0s"===l.getPropertyValue("animation-duration")||"none"===l.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.sBO),c.Y36(c.QbO,8))};static#t=this.\u0275dir=c.lG2({type:i})}return i})(),vJ=(()=>{class i extends _J{constructor(e,n,r){super(e,r),this._elementRef=n,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.QbO,8))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(n,r){if(1&n&&c.Gf(rJ,7),2&n){let s;c.iGM(s=c.CRH())&&(r._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(n,r){1&n&&c.NdJ("mouseleave",function(l){return r._handleMouseLeave(l)}),2&n&&c.Udp("zoom",r.isVisible()?1:null)},features:[c.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(n,r){1&n&&(c.TgZ(0,"div",0,1),c.NdJ("animationend",function(l){return r._handleAnimationEnd(l)}),c.TgZ(2,"div",2),c._uU(3),c.qZA()()),2&n&&(c.ekj("mdc-tooltip--multiline",r._isMultiline),c.Q6J("ngClass",r.tooltipClass),c.xp6(3),c.Oqu(r.message))},dependencies:[Sa],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return i})(),yJ=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:[aJ],imports:[Kz,mi,ZC,rr,rr,jC]})}return i})();function bJ(i,t){if(1&i&&(c.TgZ(0,"mat-option",19),c._uU(1),c.qZA()),2&i){const e=t.$implicit;c.Q6J("value",e),c.xp6(1),c.hij(" ",e," ")}}function xJ(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"mat-form-field",16)(1,"mat-select",17),c.NdJ("selectionChange",function(r){c.CHM(e);const s=c.oxw(2);return c.KtG(s._changePageSize(r.value))}),c.YNc(2,bJ,2,2,"mat-option",18),c.qZA()()}if(2&i){const e=c.oxw(2);c.Q6J("appearance",e._formFieldAppearance)("color",e.color),c.xp6(1),c.Q6J("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),c.xp6(1),c.Q6J("ngForOf",e._displayedPageSizeOptions)}}function wJ(i,t){if(1&i&&(c.TgZ(0,"div",20),c._uU(1),c.qZA()),2&i){const e=c.oxw(2);c.xp6(1),c.Oqu(e.pageSize)}}function EJ(i,t){if(1&i&&(c.TgZ(0,"div",12)(1,"div",13),c._uU(2),c.qZA(),c.YNc(3,xJ,3,8,"mat-form-field",14),c.YNc(4,wJ,2,1,"div",15),c.qZA()),2&i){const e=c.oxw();c.xp6(1),c.s9C("id",e._pageSizeLabelId),c.xp6(1),c.hij(" ",e._intl.itemsPerPageLabel," "),c.xp6(1),c.Q6J("ngIf",e._displayedPageSizeOptions.length>1),c.xp6(1),c.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function CJ(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"button",21),c.NdJ("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.firstPage())}),c.O4$(),c.TgZ(1,"svg",7),c._UZ(2,"path",22),c.qZA()()}if(2&i){const e=c.oxw();c.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),c.uIk("aria-label",e._intl.firstPageLabel)}}function SJ(i,t){if(1&i){const e=c.EpF();c.O4$(),c.kcU(),c.TgZ(0,"button",23),c.NdJ("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.lastPage())}),c.O4$(),c.TgZ(1,"svg",7),c._UZ(2,"path",24),c.qZA()()}if(2&i){const e=c.oxw();c.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),c.uIk("aria-label",e._intl.lastPageLabel)}}let eR=(()=>{class i{constructor(){this.changes=new an.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,n,r)=>{if(0==r||0==n)return`0 of ${r}`;const s=e*n;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+n,r):s+n} of ${r}`}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const TJ={provide:eR,deps:[[new c.FiY,new c.tp0,eR]],useFactory:function MJ(i){return i||new eR}},DJ=new c.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),IJ=Bv(nG(class{}));let RJ=(()=>{class i extends IJ{get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(Ld(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=Ld(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(Ld(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(n=>Ld(n)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=fi(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=fi(e)}constructor(e,n,r){if(super(),this._intl=e,this._changeDetectorRef=n,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new c.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:s,pageSizeOptions:l,hidePageSize:u,showFirstLastButtons:f}=r;null!=s&&(this._pageSize=s),null!=l&&(this._pageSizeOptions=l),null!=u&&(this._hidePageSize=u),null!=f&&(this._showFirstLastButtons=f)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,n)=>e-n),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(n){c.$Z()};static#t=this.\u0275dir=c.lG2({type:i,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[c.qOj]})}return i})(),PJ=0,x4=(()=>{class i extends RJ{constructor(e,n,r){super(e,n,r),this._pageSizeLabelId="mat-paginator-page-size-label-"+PJ++,this._formFieldAppearance=r?.formFieldAppearance||"outline"}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(eR),c.Y36(c.sBO),c.Y36(DJ,8))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[c.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(n,r){1&n&&(c.TgZ(0,"div",0)(1,"div",1),c.YNc(2,EJ,5,4,"div",2),c.TgZ(3,"div",3)(4,"div",4),c._uU(5),c.qZA(),c.YNc(6,CJ,3,5,"button",5),c.TgZ(7,"button",6),c.NdJ("click",function(){return r.previousPage()}),c.O4$(),c.TgZ(8,"svg",7),c._UZ(9,"path",8),c.qZA()(),c.kcU(),c.TgZ(10,"button",9),c.NdJ("click",function(){return r.nextPage()}),c.O4$(),c.TgZ(11,"svg",7),c._UZ(12,"path",10),c.qZA()(),c.YNc(13,SJ,3,5,"button",11),c.qZA()()()),2&n&&(c.xp6(2),c.Q6J("ngIf",!r.hidePageSize),c.xp6(3),c.hij(" ",r._intl.getRangeLabel(r.pageIndex,r.pageSize,r.length)," "),c.xp6(1),c.Q6J("ngIf",r.showFirstLastButtons),c.xp6(1),c.Q6J("matTooltip",r._intl.previousPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("matTooltipPosition","above")("disabled",r._previousButtonsDisabled()),c.uIk("aria-label",r._intl.previousPageLabel),c.xp6(3),c.Q6J("matTooltip",r._intl.nextPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("matTooltipPosition","above")("disabled",r._nextButtonsDisabled()),c.uIk("aria-label",r._intl.nextPageLabel),c.xp6(3),c.Q6J("ngIf",r.showFirstLastButtons))},dependencies:[Gl,bs,rX,kI,g4,GL,gJ],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return i})(),kJ=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:[TJ],imports:[mi,FG,_4,yJ]})}return i})();const OJ=["mat-sort-header",""];function NJ(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"div",3),c.NdJ("@arrowPosition.start",function(){c.CHM(e);const r=c.oxw();return c.KtG(r._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){c.CHM(e);const r=c.oxw();return c.KtG(r._disableViewStateAnimation=!1)}),c._UZ(1,"div",4),c.TgZ(2,"div",5),c._UZ(3,"div",6)(4,"div",7)(5,"div",8),c.qZA()()}if(2&i){const e=c.oxw();c.Q6J("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),c.xp6(2),c.Q6J("@indicator",e._getArrowDirectionState()),c.xp6(1),c.Q6J("@leftPointer",e._getArrowDirectionState()),c.xp6(1),c.Q6J("@rightPointer",e._getArrowDirectionState())}}const LJ=["*"],w4=new c.OlP("MAT_SORT_DEFAULT_OPTIONS"),FJ=nG(Bv(class{}));let xF=(()=>{class i extends FJ{get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=fi(e)}constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new an.x,this.start="asc",this._direction="",this.sortChange=new c.vpe}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let r=function UJ(i,t){let e=["asc","desc"];return"desc"==i&&e.reverse(),t||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),s=r.indexOf(this.direction)+1;return s>=r.length&&(s=0),r[s]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(w4,8))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[c.qOj,c.TTD]})}return i})();const ig=E7.ENTERING+" "+w7.STANDARD_CURVE,K0={indicator:cs("indicator",[jn("active-asc, asc",Pn({transform:"translateY(0px)"})),jn("active-desc, desc",Pn({transform:"translateY(10px)"})),En("active-asc <=> active-desc",Ii(ig))]),leftPointer:cs("leftPointer",[jn("active-asc, asc",Pn({transform:"rotate(-45deg)"})),jn("active-desc, desc",Pn({transform:"rotate(45deg)"})),En("active-asc <=> active-desc",Ii(ig))]),rightPointer:cs("rightPointer",[jn("active-asc, asc",Pn({transform:"rotate(45deg)"})),jn("active-desc, desc",Pn({transform:"rotate(-45deg)"})),En("active-asc <=> active-desc",Ii(ig))]),arrowOpacity:cs("arrowOpacity",[jn("desc-to-active, asc-to-active, active",Pn({opacity:1})),jn("desc-to-hint, asc-to-hint, hint",Pn({opacity:.54})),jn("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",Pn({opacity:0})),En("* => asc, * => desc, * => active, * => hint, * => void",Ii("0ms")),En("* <=> *",Ii(ig))]),arrowPosition:cs("arrowPosition",[En("* => desc-to-hint, * => desc-to-active",Ii(ig,no([Pn({transform:"translateY(-25%)"}),Pn({transform:"translateY(0)"})]))),En("* => hint-to-desc, * => active-to-desc",Ii(ig,no([Pn({transform:"translateY(0)"}),Pn({transform:"translateY(25%)"})]))),En("* => asc-to-hint, * => asc-to-active",Ii(ig,no([Pn({transform:"translateY(25%)"}),Pn({transform:"translateY(0)"})]))),En("* => hint-to-asc, * => active-to-asc",Ii(ig,no([Pn({transform:"translateY(0)"}),Pn({transform:"translateY(-25%)"})]))),jn("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",Pn({transform:"translateY(0)"})),jn("hint-to-desc, active-to-desc, desc",Pn({transform:"translateY(-25%)"})),jn("hint-to-asc, active-to-asc, asc",Pn({transform:"translateY(25%)"}))]),allowChildren:cs("allowChildren",[En("* <=> *",[jc("@*",Lo(),{optional:!0})])])};let tR=(()=>{class i{constructor(){this.changes=new an.x}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const VJ={provide:tR,deps:[[new c.FiY,new c.tp0,tR]],useFactory:function BJ(i){return i||new tR}},HJ=Bv(class{});let zJ=(()=>{class i extends HJ{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=fi(e)}constructor(e,n,r,s,l,u,f,m){super(),this._intl=e,this._changeDetectorRef=n,this._sort=r,this._columnDef=s,this._focusMonitor=l,this._elementRef=u,this._ariaDescriber=f,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",m?.arrowPosition&&(this.arrowPosition=m?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const n=!!e;n!==this._showIndicatorHint&&(this._setIndicatorHintVisible(n),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=(0,ma.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(tR),c.Y36(c.sBO),c.Y36(xF,8),c.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),c.Y36(Bf),c.Y36(c.SBq),c.Y36(zz,8),c.Y36(w4,8))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(n,r){1&n&&c.NdJ("click",function(){return r._handleClick()})("keydown",function(l){return r._handleKeydown(l)})("mouseenter",function(){return r._setIndicatorHintVisible(!0)})("mouseleave",function(){return r._setIndicatorHintVisible(!1)}),2&n&&(c.uIk("aria-sort",r._getAriaSortAttribute()),c.ekj("mat-sort-header-disabled",r._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[c.qOj],attrs:OJ,ngContentSelectors:LJ,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(n,r){1&n&&(c.F$t(),c.TgZ(0,"div",0)(1,"div",1),c.Hsn(2),c.qZA(),c.YNc(3,NJ,6,6,"div",2),c.qZA()),2&n&&(c.ekj("mat-sort-header-sorted",r._isSorted())("mat-sort-header-position-before","before"===r.arrowPosition),c.uIk("tabindex",r._isDisabled()?null:0)("role",r._isDisabled()?null:"button"),c.xp6(3),c.Q6J("ngIf",r._renderArrow()))},dependencies:[bs],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[K0.indicator,K0.leftPointer,K0.rightPointer,K0.arrowOpacity,K0.arrowPosition,K0.allowChildren]},changeDetection:0})}return i})(),GJ=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:[VJ],imports:[mi,rr]})}return i})();function WJ(i,t){}class nR{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let E4=(()=>{class i extends _F{constructor(e,n,r,s,l,u,f,m){super(),this._elementRef=e,this._focusTrapFactory=n,this._config=s,this._interactivityChecker=l,this._ngZone=u,this._overlayRef=f,this._focusMonitor=m,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=y=>{this._portalOutlet.hasAttached();const b=this._portalOutlet.attachDomPortal(y);return this._contentAttached(),b},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(n)}_focusByCssSelector(e,n){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,n)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let n=null;if("string"==typeof e?n=this._document.querySelector(e):"boolean"==typeof e?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&"function"==typeof n.focus){const r=kL(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,n=kL();return e===n||e.contains(n)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=kL())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(UL),c.Y36(xe,8),c.Y36(nR),c.Y36(AI),c.Y36(c.R0b),c.Y36(qC),c.Y36(Bf))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(n,r){if(1&n&&c.Gf(vF,7),2&n){let s;c.iGM(s=c.CRH())&&(r._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,r){2&n&&c.uIk("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[c.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,r){1&n&&c.YNc(0,WJ,0,0,"ng-template",0)},dependencies:[vF],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return i})();class wF{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new an.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{27===n.keyCode&&!this.disableClose&&!Uf(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(t),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const C4=new c.OlP("DialogScrollStrategy"),jJ=new c.OlP("DialogData"),$J=new c.OlP("DefaultDialogConfig"),qJ={provide:C4,deps:[Sc],useFactory:function YJ(i){return()=>i.scrollStrategies.block()}};let ZJ=0,S4=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,n,r,s,l,u){this._overlay=e,this._injector=n,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new an.x,this._afterOpenedAtThisLevel=new an.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Kg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(dd(void 0))),this._scrollStrategy=u}open(e,n){(n={...this._defaultOptions||new nR,...n}).id=n.id||"cdk-dialog-"+ZJ++,n.id&&this.getDialogById(n.id);const s=this._getOverlayConfig(n),l=this._overlay.create(s),u=new wF(l,n),f=this._attachContainer(l,u,n);return u.containerInstance=f,this._attachDialogContent(e,u,f,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.closed.subscribe(()=>this._removeOpenDialog(u,!0)),this.afterOpened.next(u),u}closeAll(){EF(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){EF(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),EF(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const n=new JI({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,r){const s=r.injector||r.viewContainerRef?.injector,l=[{provide:nR,useValue:r},{provide:wF,useValue:n},{provide:qC,useValue:e}];let u;r.container?"function"==typeof r.container?u=r.container:(u=r.container.type,l.push(...r.container.providers(r))):u=E4;const f=new ZI(u,r.viewContainerRef,c.zs3.create({parent:s||this._injector,providers:l}),r.componentFactoryResolver);return e.attach(f).instance}_attachDialogContent(e,n,r,s){if(e instanceof c.Rgc){const l=this._createInjector(s,n,r,void 0);let u={$implicit:s.data,dialogRef:n};s.templateContext&&(u={...u,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new XI(e,null,u,l))}else{const l=this._createInjector(s,n,r,this._injector),u=r.attachComponentPortal(new ZI(e,s.viewContainerRef,l,s.componentFactoryResolver));n.componentRef=u,n.componentInstance=u.instance}}_createInjector(e,n,r,s){const l=e.injector||e.viewContainerRef?.injector,u=[{provide:jJ,useValue:e.data},{provide:wF,useValue:n}];return e.providers&&("function"==typeof e.providers?u.push(...e.providers(n,e,r)):u.push(...e.providers)),e.direction&&(!l||!l.get(Vf,null,{optional:!0}))&&u.push({provide:Vf,useValue:{value:e.direction,change:(0,nn.of)()}}),c.zs3.create({parent:l||s,providers:u})}_removeOpenDialog(e,n){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,l)=>{s?l.setAttribute("aria-hidden",s):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const n=e.parentElement.children;for(let r=n.length-1;r>-1;r--){const s=n[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(Sc),c.LFG(c.zs3),c.LFG($J,8),c.LFG(i,12),c.LFG(QI),c.LFG(C4))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();function EF(i,t){let e=i.length;for(;e--;)t(i[e])}let XJ=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:[S4,qJ],imports:[ZC,KI,Kz,KI]})}return i})();function KJ(i,t){}class iR{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const CF="mdc-dialog--open",M4="mdc-dialog--opening",T4="mdc-dialog--closing";let eQ=(()=>{class i extends E4{constructor(e,n,r,s,l,u,f,m){super(e,n,r,s,l,u,f,m),this._animationStateChanged=new c.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(UL),c.Y36(xe,8),c.Y36(iR),c.Y36(AI),c.Y36(c.R0b),c.Y36(qC),c.Y36(Bf))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["ng-component"]],features:[c.qOj],decls:0,vars:0,template:function(n,r){},encapsulation:2})}return i})();const A4="--mat-dialog-transition-duration";function D4(i){return null==i?null:"number"==typeof i?i:i.endsWith("ms")?Ld(i.substring(0,i.length-2)):i.endsWith("s")?1e3*Ld(i.substring(0,i.length-1)):"0"===i?0:null}let tQ=(()=>{class i extends eQ{constructor(e,n,r,s,l,u,f,m,y){super(e,n,r,s,l,u,f,y),this._animationMode=m,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?D4(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?D4(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(A4,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(M4,CF)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(CF),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(CF),this._animationsEnabled?(this._hostElement.style.setProperty(A4,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(T4)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(M4,T4)}_waitForAnimationToComplete(e,n){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(UL),c.Y36(xe,8),c.Y36(iR),c.Y36(AI),c.Y36(c.R0b),c.Y36(qC),c.Y36(c.QbO,8),c.Y36(Bf))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(n,r){2&n&&(c.Ikx("id",r._config.id),c.uIk("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),c.ekj("_mat-animation-noopable",!r._animationsEnabled))},features:[c.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,r){1&n&&(c.TgZ(0,"div",0)(1,"div",1),c.YNc(2,KJ,0,0,"ng-template",2),c.qZA()())},dependencies:[vF],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return i})();class SF{constructor(t,e,n){this._ref=t,this._containerInstance=n,this._afterOpened=new an.x,this._beforeClosed=new an.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,n._animationStateChanged.pipe(tr(r=>"opened"===r.state),Ir(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(tr(r=>"closed"===r.state),Ir(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,ma.T)(this.backdropClick(),this.keydownEvents().pipe(tr(r=>27===r.keyCode&&!this.disableClose&&!Uf(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),I4(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(tr(e=>"closing"===e.state),Ir(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function I4(i,t,e){return i._closeInteractionType=t,i.close(e)}const R4=new c.OlP("MatMdcDialogData"),nQ=new c.OlP("mat-mdc-dialog-default-options"),P4=new c.OlP("mat-mdc-dialog-scroll-strategy"),rQ={provide:P4,deps:[Sc],useFactory:function iQ(i){return()=>i.scrollStrategies.block()}};let sQ=0,oQ=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,n,r,s,l,u,f,m,y,b){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=f,this._dialogContainerType=m,this._dialogDataToken=y,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new an.x,this._afterOpenedAtThisLevel=new an.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=iR,this.afterAllClosed=Kg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(dd(void 0))),this._scrollStrategy=u,this._dialog=n.get(S4)}open(e,n){let r;(n={...this._defaultOptions||new iR,...n}).id=n.id||`${this._idPrefix}${sQ++}`,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...n,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:nR,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(l,u,f)=>(r=new this._dialogRefConstructor(l,n,f),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:f},{provide:this._dialogDataToken,useValue:u.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=s.componentRef,r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const l=this.openDialogs.indexOf(r);l>-1&&(this.openDialogs.splice(l,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}static#e=this.\u0275fac=function(n){c.$Z()};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})(),MF=(()=>{class i extends oQ{constructor(e,n,r,s,l,u,f,m){super(e,n,s,u,f,l,SF,tQ,R4,m),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(Sc),c.LFG(c.zs3),c.LFG(Et,8),c.LFG(nQ,8),c.LFG(P4),c.LFG(i,12),c.LFG(QI),c.LFG(c.QbO,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})(),aQ=(()=>{class i{constructor(e,n,r){this.dialogRef=e,this._elementRef=n,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function lQ(i,t){let e=i.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(n=>n.id===e.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const n=e._matDialogClose||e._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(e){I4(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(SF,8),c.Y36(c.SBq),c.Y36(MF))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(n,r){1&n&&c.NdJ("click",function(l){return r._onButtonClick(l)}),2&n&&c.uIk("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[c.TTD]})}return i})(),cQ=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:[MF,rQ],imports:[XJ,ZC,KI,rr,rr]})}return i})();const dQ=["input"],uQ=["label"],hQ=["*"],fQ=new c.OlP("mat-checkbox-default-options",{providedIn:"root",factory:O4});function O4(){return{color:"accent",clickAction:"check-indeterminate"}}const pQ={provide:bc,useExisting:(0,c.Gpc)(()=>L4),multi:!0};class mQ{}let gQ=0;const N4=O4(),_Q=zL(eG(NC(Bv(class{constructor(i){this._elementRef=i}}))));let vQ=(()=>{class i extends _Q{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=fi(e)}constructor(e,n,r,s,l,u,f){super(n),this._changeDetectorRef=r,this._ngZone=s,this._animationMode=u,this._options=f,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new c.vpe,this.indeterminateChange=new c.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||N4,this.color=this.defaultColor=this._options.color||N4.color,this.tabIndex=parseInt(l)||0,this.id=this._uniqueId=`${e}${++gQ}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const n=fi(e);n!=this.checked&&(this._checked=n,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const n=fi(e);n!==this.disabled&&(this._disabled=n,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const n=e!=this._indeterminate;this._indeterminate=fi(e),n&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_transitionCheckState(e){let n=this._currentCheckState,r=this._getAnimationTargetElement();if(n!==e&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,n){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===n)return this._animationClasses.uncheckedToChecked;if(3==n)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===n?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===n?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===n?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const n=this._inputElement;n&&(n.nativeElement.indeterminate=e)}static#e=this.\u0275fac=function(n){c.$Z()};static#t=this.\u0275dir=c.lG2({type:i,viewQuery:function(n,r){if(1&n&&(c.Gf(dQ,5),c.Gf(uQ,5),c.Gf(Y0,5)),2&n){let s;c.iGM(s=c.CRH())&&(r._inputElement=s.first),c.iGM(s=c.CRH())&&(r._labelElement=s.first),c.iGM(s=c.CRH())&&(r.ripple=s.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[c.qOj]})}return i})(),L4=(()=>{class i extends vQ{constructor(e,n,r,s,l,u){super("mat-mdc-checkbox-",e,n,r,s,l,u),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){const n=new mQ;return n.source=this,n.checked=e,n}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.$8M("tabindex"),c.Y36(c.QbO,8),c.Y36(fQ,8))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(n,r){2&n&&(c.Ikx("id",r.id),c.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[c._Bn([pQ]),c.qOj],ngContentSelectors:hQ,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(n,r){if(1&n&&(c.F$t(),c.TgZ(0,"div",0),c.NdJ("click",function(l){return r._preventBubblingFromLabel(l)}),c.TgZ(1,"div",1,2)(3,"div",3),c.NdJ("click",function(){return r._onTouchTargetClick()}),c.qZA(),c.TgZ(4,"input",4,5),c.NdJ("blur",function(){return r._onBlur()})("click",function(){return r._onInputClick()})("change",function(l){return r._onInteractionEvent(l)}),c.qZA(),c._UZ(6,"div",6),c.TgZ(7,"div",7),c.O4$(),c.TgZ(8,"svg",8),c._UZ(9,"path",9),c.qZA(),c.kcU(),c._UZ(10,"div",10),c.qZA(),c._UZ(11,"div",11),c.qZA(),c.TgZ(12,"label",12,13),c.Hsn(14),c.qZA()()),2&n){const s=c.MAs(2);c.ekj("mdc-form-field--align-end","before"==r.labelPosition),c.xp6(4),c.ekj("mdc-checkbox--selected",r.checked),c.Q6J("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.tabIndex),c.uIk("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("name",r.name)("value",r.value),c.xp6(7),c.Q6J("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),c.xp6(1),c.Q6J("for",r.inputId)}},dependencies:[Y0],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return i})(),F4=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({})}return i})(),xQ=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[rr,FC,F4,rr,F4]})}return i})();function wQ(i,t){if(1&i&&(c.TgZ(0,"mat-option",7),c._uU(1),c.qZA()),2&i){const e=t.$implicit;c.Q6J("value",e.code),c.xp6(1),c.hij(" ",e.name," ")}}let EQ=(()=>{class i{constructor(e,n,r,s,l){this.builder=e,this.service=n,this.dialogref=r,this.toastr=s,this.data=l,this.registerform=this.builder.group({id:this.builder.control(""),name:this.builder.control(""),password:this.builder.control(""),email:this.builder.control(""),gender:this.builder.control("male"),role:this.builder.control("",Xo.required),isactive:this.builder.control(!1)}),this.service.GetAllRoll().valueChanges().subscribe(u=>{this.rolelist=u})}ngOnInit(){null!=this.data.usercode&&""!=this.data.usercode&&this.loaduserdata(this.data.usercode)}loaduserdata(e){this.service.Getbycode(e).valueChanges().subscribe(n=>{this.editData=n[0],console.log(this.editData),this.registerform.setValue({id:this.editData.id,name:this.editData.name,password:this.editData.password,email:this.editData.email,gender:this.editData.gender,role:this.editData.role,isactive:this.editData.isactive}),this.idd=this.registerform.value.id})}updateUser(){if(this.registerform.valid){const e=this.registerform.get("id")?.value;""!==e?this.service.Updateuser(e,this.registerform.value).then(()=>{this.toastr.success("Data updated successfully","success"),this.dialogref.close()}).catch(n=>{console.error("Error updating data: ",n)}):this.toastr.warning("Please Select Role for the user")}else this.toastr.warning("Please Select Role for the user")}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(XO),c.Y36(Nv),c.Y36(SF),c.Y36(LI),c.Y36(R4))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["app-updatepopup"]],decls:19,vars:4,consts:[[1,"example-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["formControlName","role"],[3,"value",4,"ngFor","ngForOf"],["formControlName","isactive",1,"example-margin"],["mat-raised-button","","color","primary",3,"click"],["mat-dialog-close","","mat-raised-button","","color","accent"],[3,"value"]],template:function(n,r){1&n&&(c.TgZ(0,"mat-card")(1,"mat-card-header")(2,"h2"),c._uU(3),c.qZA()(),c.TgZ(4,"mat-card-content")(5,"form",0),c.NdJ("ngSubmit",function(){return r.updateUser}),c.TgZ(6,"mat-form-field",1)(7,"mat-label"),c._uU(8),c.qZA(),c.TgZ(9,"mat-select",2),c.YNc(10,wQ,2,2,"mat-option",3),c.qZA()(),c.TgZ(11,"div")(12,"mat-checkbox",4),c._uU(13,"Is Active"),c.qZA()(),c.TgZ(14,"div")(15,"button",5),c.NdJ("click",function(){return r.updateUser()}),c._uU(16,"Update"),c.qZA(),c.TgZ(17,"a",6),c._uU(18,"Close"),c.qZA()()()()()),2&n&&(c.xp6(3),c.Oqu(r.idd),c.xp6(2),c.Q6J("formGroup",r.registerform),c.xp6(3),c.Oqu(r.registerform.value.role),c.xp6(2),c.Q6J("ngForOf",r.rolelist))},dependencies:[Gl,kI,UC,g4,GL,BC,VC,HC,L4,aQ,OI,GC,AD,_D,vD,Gm,KE],styles:["h2[_ngcontent-%COMP%]{font-family:verdana}"]})}return i})();function CQ(i,t){1&i&&(c.TgZ(0,"th",15),c._uU(1," Username "),c.qZA())}function SQ(i,t){if(1&i&&(c.TgZ(0,"td",16),c._uU(1),c.qZA()),2&i){const e=t.$implicit;c.xp6(1),c.hij(" ",e.id," ")}}function MQ(i,t){1&i&&(c.TgZ(0,"th",17),c._uU(1," Name "),c.qZA())}function TQ(i,t){if(1&i&&(c.TgZ(0,"td",16),c._uU(1),c.qZA()),2&i){const e=t.$implicit;c.xp6(1),c.hij(" ",e.name," ")}}function AQ(i,t){1&i&&(c.TgZ(0,"th",15),c._uU(1," Email "),c.qZA())}function DQ(i,t){if(1&i&&(c.TgZ(0,"td",16),c._uU(1),c.qZA()),2&i){const e=t.$implicit;c.xp6(1),c.hij(" ",e.email," ")}}function IQ(i,t){1&i&&(c.TgZ(0,"th",17),c._uU(1," Status "),c.qZA())}function RQ(i,t){if(1&i&&(c.TgZ(0,"td",16),c._uU(1),c.qZA()),2&i){const e=t.$implicit;c.xp6(1),c.hij(" ",e.isactive?"Active":"Inactive"," ")}}function PQ(i,t){1&i&&(c.TgZ(0,"th",17),c._uU(1," Role "),c.qZA())}function kQ(i,t){if(1&i&&(c.TgZ(0,"td",16),c._uU(1),c.qZA()),2&i){const e=t.$implicit;c.xp6(1),c.hij(" ",""===e.role?"Un Assigned":e.role," ")}}function OQ(i,t){1&i&&(c.TgZ(0,"th",15),c._uU(1," Action "),c.qZA())}function NQ(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"button",19),c.NdJ("click",function(){c.CHM(e);const r=c.oxw().$implicit,s=c.oxw();return c.KtG(s.updateUser(r.id))}),c._uU(1,"Update"),c.qZA()}}function LQ(i,t){if(1&i&&(c.TgZ(0,"td",16),c.YNc(1,NQ,2,0,"button",18),c.qZA()),2&i){const e=t.$implicit;c.xp6(1),c.Q6J("ngIf","admin"!==e.role)}}function FQ(i,t){1&i&&c._UZ(0,"tr",20)}function UQ(i,t){1&i&&c._UZ(0,"tr",21)}const BQ=function(){return[5,10,20]};let VQ=(()=>{class i{constructor(e,n){this.service=e,this.dialog=n,this.displayedColumns=["id","name","email","role","status","action"]}ngAfterViewInit(){}ngOnInit(){this.loadUser()}loadUser(){this.service.GetAll().valueChanges().subscribe(e=>{this.userList=e,this.dataSource=new wK(this.userList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}updateUser(e){this.openDialog("100ms","600ms",e)}openDialog(e,n,r){this.dialog.open(EQ,{enterAnimationDuration:e,exitAnimationDuration:n,width:"20%",data:{usercode:r}}).afterClosed().subscribe(l=>{this.loadUser()})}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(Nv),c.Y36(MF))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["app-userlisting"]],viewQuery:function(n,r){if(1&n&&(c.Gf(x4,5),c.Gf(xF,5)),2&n){let s;c.iGM(s=c.CRH())&&(r.paginator=s.first),c.iGM(s=c.CRH())&&(r.sort=s.first)}},decls:29,vars:5,consts:[["role","main",1,"content"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","status"],["matColumnDef","role"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,r){1&n&&(c.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"h2"),c._uU(4,"User Listing"),c.qZA()(),c.TgZ(5,"mat-card-content")(6,"div",1)(7,"table",2),c.ynx(8,3),c.YNc(9,CQ,2,0,"th",4),c.YNc(10,SQ,2,1,"td",5),c.BQk(),c.ynx(11,6),c.YNc(12,MQ,2,0,"th",7),c.YNc(13,TQ,2,1,"td",5),c.BQk(),c.ynx(14,8),c.YNc(15,AQ,2,0,"th",4),c.YNc(16,DQ,2,1,"td",5),c.BQk(),c.ynx(17,9),c.YNc(18,IQ,2,0,"th",7),c.YNc(19,RQ,2,1,"td",5),c.BQk(),c.ynx(20,10),c.YNc(21,PQ,2,0,"th",7),c.YNc(22,kQ,2,1,"td",5),c.BQk(),c.ynx(23,11),c.YNc(24,OQ,2,0,"th",4),c.YNc(25,LQ,2,1,"td",5),c.BQk(),c.YNc(26,FQ,1,0,"tr",12),c.YNc(27,UQ,1,0,"tr",13),c.qZA(),c._UZ(28,"mat-paginator",14),c.qZA()()()()),2&n&&(c.xp6(7),c.Q6J("dataSource",r.dataSource),c.xp6(19),c.Q6J("matHeaderRowDef",r.displayedColumns),c.xp6(1),c.Q6J("matRowDefColumns",r.displayedColumns),c.xp6(1),c.Q6J("pageSizeOptions",c.DdM(4,BQ)))},dependencies:[bs,BC,VC,HC,QG,hF,e4,fF,uF,t4,pF,mF,n4,i4,x4,xF,zJ,GC]})}return i})(),U4=(()=>{class i{constructor(e,n){this.service=e,this.router=n}canActivate(e,n){return this.service.isloggedin()?!(e.url.length>0&&"user"==e.url[0].path&&"admin"!=this.service.getUserRole()&&(this.router.navigate([""]),1)):(this.router.navigate(["login"]),!1)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(Nv),c.LFG($i))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const HQ=[{path:"",component:_W,canActivate:[U4]},{path:"register",component:sX},{path:"login",component:AX},{path:"user",component:VQ,canActivate:[U4]}];let zQ=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[sw.forRoot(HQ),sw]})}return i})();function B4(i,t){return t?e=>Xg(t.pipe(Ir(1),function GQ(){return(0,Kr.e)((i,t)=>{i.subscribe((0,Xr.x)(t,bx.Z))})}()),e.pipe(B4(i))):(0,Ws.z)((e,n)=>(0,Gh.Xf)(i(e,n)).pipe(Ir(1),fS(e)))}function V4(i,t=JE.z){const e=jG(i,t);return B4(()=>e)}const WQ=["mat-menu-item",""];function jQ(i,t){1&i&&(c.O4$(),c.TgZ(0,"svg",3),c._UZ(1,"polygon",4),c.qZA())}const $Q=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],YQ=["mat-icon, [matMenuItemIcon]","*"];function qQ(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"div",0),c.NdJ("keydown",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._handleKeydown(r))})("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._onAnimationDone(r))}),c.TgZ(1,"div",1),c.Hsn(2),c.qZA()()}if(2&i){const e=c.oxw();c.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),c.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const ZQ=["*"],TF=new c.OlP("MAT_MENU_PANEL"),XQ=NC(Bv(class{}));let rR=(()=>{class i extends XQ{constructor(e,n,r,s,l){super(),this._elementRef=e,this._document=n,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=l,this.role="menuitem",this._hovered=new an.x,this._focused=new an.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,n):this._getHostElement().focus(n),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),n=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<n.length;r++)n[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(xe),c.Y36(Bf),c.Y36(TF,8),c.Y36(c.sBO))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(n,r){1&n&&c.NdJ("click",function(l){return r._checkDisabled(l)})("mouseenter",function(){return r._handleMouseEnter()}),2&n&&(c.uIk("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),c.ekj("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[c.qOj],attrs:WQ,ngContentSelectors:YQ,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(n,r){1&n&&(c.F$t($Q),c.Hsn(0),c.TgZ(1,"span",0),c.Hsn(2,1),c.qZA(),c._UZ(3,"div",1),c.YNc(4,jQ,2,0,"svg",2)),2&n&&(c.xp6(3),c.Q6J("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),c.xp6(1),c.Q6J("ngIf",r._triggersSubmenu))},dependencies:[bs,Y0],encapsulation:2,changeDetection:0})}return i})();const KQ=new c.OlP("MatMenuContent"),sR={transformMenu:cs("transformMenu",[jn("void",Pn({opacity:0,transform:"scale(0.8)"})),En("void => enter",Ii("120ms cubic-bezier(0, 0, 0.2, 1)",Pn({opacity:1,transform:"scale(1)"}))),En("* => void",Ii("100ms 25ms linear",Pn({opacity:0})))]),fadeInItems:cs("fadeInItems",[jn("showing",Pn({opacity:1})),En("void => *",[Pn({opacity:0}),Ii("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let JQ=0;const H4=new c.OlP("mat-menu-default-options",{providedIn:"root",factory:function QQ(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let XC=(()=>{class i{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=fi(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=fi(e)}set panelClass(e){const n=this._previousPanelClass;n&&n.length&&n.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,n,r,s){this._elementRef=e,this._ngZone=n,this._changeDetectorRef=s,this._directDescendantItems=new c.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new an.x,this.closed=new c.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+JQ++,this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this._overlapTrigger=r.overlapTrigger,this._hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new jZ(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(dd(this._directDescendantItems),(0,ki.w)(e=>(0,ma.T)(...e.map(n=>n._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const n=this._keyManager;if("enter"===this._panelAnimationState&&n.activeItem?._hasFocus()){const r=e.toArray(),s=Math.max(0,Math.min(r.length-1,n.activeItemIndex||0));r[s]&&!r[s].disabled?n.setActiveItem(s):n.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(dd(this._directDescendantItems),(0,ki.w)(n=>(0,ma.T)(...n.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const n=e.keyCode,r=this._keyManager;switch(n){case 27:Uf(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===n||40===n)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(Ir(1)).subscribe(()=>{let n=null;if(this._directDescendantItems.length&&(n=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!n||!n.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&n&&n.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const n=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${n}`,s=Object.keys(this._classList).find(l=>l.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,n=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===n,r["mat-menu-below"]="below"===n,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(dd(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(n=>n._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(H4),c.Y36(c.sBO))};static#t=this.\u0275dir=c.lG2({type:i,contentQueries:function(n,r,s){if(1&n&&(c.Suo(s,KQ,5),c.Suo(s,rR,5),c.Suo(s,rR,4)),2&n){let l;c.iGM(l=c.CRH())&&(r.lazyContent=l.first),c.iGM(l=c.CRH())&&(r._allItems=l),c.iGM(l=c.CRH())&&(r.items=l)}},viewQuery:function(n,r){if(1&n&&c.Gf(c.Rgc,5),2&n){let s;c.iGM(s=c.CRH())&&(r.templateRef=s.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}})}return i})(),eee=(()=>{class i extends XC{constructor(e,n,r,s){super(e,n,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(H4),c.Y36(c.sBO))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(n,r){2&n&&c.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[c._Bn([{provide:TF,useExisting:i}]),c.qOj],ngContentSelectors:ZQ,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content"]],template:function(n,r){1&n&&(c.F$t(),c.YNc(0,qQ,3,6,"ng-template"))},dependencies:[Sa],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{--mat-menu-container-shape:4px;min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[sR.transformMenu,sR.fadeInItems]},changeDetection:0})}return i})();const z4=new c.OlP("mat-menu-scroll-strategy"),nee={provide:z4,deps:[Sc],useFactory:function tee(i){return()=>i.scrollStrategies.reposition()}},G4=Lv({passive:!0});let iee=(()=>{class i{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(n=>{this._destroyMenu(n),("click"===n||"tab"===n)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(n)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,n,r,s,l,u,f,m,y){this._overlay=e,this._element=n,this._viewContainerRef=r,this._menuItemInstance=u,this._dir=f,this._focusMonitor=m,this._ngZone=y,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ts.w0.EMPTY,this._hoverSubscription=Ts.w0.EMPTY,this._menuCloseSubscription=Ts.w0.EMPTY,this._changeDetectorRef=(0,c.f3M)(c.sBO),this._handleTouchStart=b=>{VL(b)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new c.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new c.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=l instanceof XC?l:void 0,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,G4)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,G4),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const n=this._createOverlay(e),r=n.getConfig(),s=r.positionStrategy;this._setPosition(e,s),r.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,n.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof XC&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Ci(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const n=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,n instanceof XC?(n._resetAnimation(),n.lazyContent?n._animationDone.pipe(tr(r=>"void"===r.toState),Ir(1),Ci(n.lazyContent._attached)).subscribe({next:()=>n.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),n?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let n=0,r=e.parentMenu;for(;r;)n++,r=r.parentMenu;e.setElevation(n)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const n=this._getOverlayConfig(e);this._subscribeToPositions(e,n.positionStrategy),this._overlayRef=this._overlay.create(n),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new JI({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,n){e.setPositionClasses&&n.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",l="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(s,l)):e.setPositionClasses(s,l)})}_setPosition(e,n){let[r,s]="before"===e.xPosition?["end","start"]:["start","end"],[l,u]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[f,m]=[l,u],[y,b]=[r,s],w=0;if(this.triggersSubmenu()){if(b=r="before"===e.xPosition?"start":"end",s=y="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const S=this._parentMaterialMenu.items.first;this._parentInnerPadding=S?S._getHostElement().offsetTop:0}w="bottom"===l?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(f="top"===l?"bottom":"top",m="top"===u?"bottom":"top");n.withPositions([{originX:r,originY:f,overlayX:y,overlayY:l,offsetY:w},{originX:s,originY:f,overlayX:b,overlayY:l,offsetY:w},{originX:r,originY:m,overlayX:y,overlayY:u,offsetY:-w},{originX:s,originY:m,overlayX:b,overlayY:u,offsetY:-w}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),n=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,nn.of)(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(tr(l=>l!==this._menuItemInstance),tr(()=>this._menuOpen)):(0,nn.of)();return(0,ma.T)(e,r,s,n)}_handleMousedown(e){BL(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const n=e.keyCode;(13===n||32===n)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===n&&"ltr"===this.dir||37===n&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(tr(e=>e===this._menuItemInstance&&!e.disabled),V4(0,QL)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof XC&&this.menu._isAnimating?this.menu._animationDone.pipe(Ir(1),V4(0,QL),Ci(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new XI(e.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(Sc),c.Y36(c.SBq),c.Y36(c.s_b),c.Y36(z4),c.Y36(TF,8),c.Y36(rR,10),c.Y36(Vf,8),c.Y36(Bf),c.Y36(c.R0b))};static#t=this.\u0275dir=c.lG2({type:i,hostVars:3,hostBindings:function(n,r){1&n&&c.NdJ("click",function(l){return r._handleClick(l)})("mousedown",function(l){return r._handleMousedown(l)})("keydown",function(l){return r._handleKeydown(l)}),2&n&&c.uIk("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}})}return i})(),ree=(()=>{class i extends iee{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[c.qOj]})}return i})(),see=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:[nee],imports:[mi,FC,rr,ZC,jC,rr]})}return i})();function oee(i,t){if(1&i&&(c.TgZ(0,"p"),c._uU(1),c.qZA()),2&i){const e=c.oxw(2);c.xp6(1),c.hij("Welcome, ",e.userName,"")}}function aee(i,t){1&i&&(c.TgZ(0,"a",20),c._uU(1,"Users"),c.qZA())}function lee(i,t){if(1&i&&(c.TgZ(0,"div",1),c._UZ(1,"img",2),c.YNc(2,oee,2,1,"p",3),c.TgZ(3,"div",4)(4,"p"),c.YNc(5,aee,2,0,"a",5),c.qZA(),c.TgZ(6,"p")(7,"a",6),c._uU(8,"Courses"),c.qZA()(),c.TgZ(9,"mat-menu",7,8)(11,"button",9),c._uU(12,"Item 1"),c.qZA(),c.TgZ(13,"button",9),c._uU(14,"Item 2"),c.qZA()()(),c._UZ(15,"span")(16,"div",10),c.TgZ(17,"button",11),c._uU(18,"Logout"),c.qZA(),c.TgZ(19,"a",12),c.O4$(),c.TgZ(20,"svg",13),c._UZ(21,"rect",14)(22,"path",15),c.qZA()(),c.kcU(),c.TgZ(23,"a",16),c.O4$(),c.TgZ(24,"svg",17),c._UZ(25,"path",18)(26,"path",19),c.qZA()()()),2&i){const e=c.MAs(10),n=c.oxw();c.xp6(2),c.Q6J("ngIf",n.userName),c.xp6(3),c.Q6J("ngIf",n.isAdmin),c.xp6(2),c.Q6J("matMenuTriggerFor",e)}}let cee=(()=>{class i{constructor(e,n){this.router=e,this.service=n,this.title="shikshaa",this.isMenuRequire=!1,this.isAdmin=!1,this.isStudent=!1,this.userName=""}ngDoCheck(){let e=this.router.url;this.isMenuRequire="/login"!=e&&"/register"!=e;const n=this.service.getUserRole();this.isAdmin="admin"===n,this.isStudent="Student"===n,this.userName=this.service.getUserName()}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36($i),c.Y36(Nv))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["app-root"]],decls:2,vars:1,consts:[["class","toolbar","role","banner",4,"ngIf"],["role","banner",1,"toolbar"],["height","40","alt","Shikshaa Logo","src","../assets/Shikshaa_logo_white.svg"],[4,"ngIf"],["id","menu"],["mat-raised-button","","color","primary","routerLink","/user",4,"ngIf"],["mat-raised-button","","color","primary",3,"matMenuTriggerFor"],["yPosition","below"],["belowMenu","matMenu"],["mat-menu-item",""],[1,"spacer"],["routerLink","/login","mat-flat-button","","color","basic"],["aria-label","Angular on twitter","target","_blank","rel","noopener","href","https://twitter.com/pre-matrix","title","Twitter"],["id","twitter-logo","height","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 400 400"],["width","400","height","400","fill","none"],["d","M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23","fill","#fff"],["aria-label","Angular on YouTube","target","_blank","rel","noopener","href","https://youtube.com/angular","title","YouTube"],["id","youtube-logo","height","24","width","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","#fff"],["d","M0 0h24v24H0V0z","fill","none"],["d","M21.58 7.19c-.23-.86-.91-1.54-1.77-1.77C18.25 5 12 5 12 5s-6.25 0-7.81.42c-.86.23-1.54.91-1.77 1.77C2 8.75 2 12 2 12s0 3.25.42 4.81c.23.86.91 1.54 1.77 1.77C5.75 19 12 19 12 19s6.25 0 7.81-.42c.86-.23 1.54-.91 1.77-1.77C22 15.25 22 12 22 12s0-3.25-.42-4.81zM10 15V9l5.2 3-5.2 3z"],["mat-raised-button","","color","primary","routerLink","/user"]],template:function(n,r){1&n&&(c.YNc(0,lee,27,3,"div",0),c._UZ(1,"router-outlet")),2&n&&c.Q6J("ngIf",r.isMenuRequire)},dependencies:[bs,Vx,T_,OI,GC,eee,rR,ree],styles:['*[_ngcontent-%COMP%]{padding:0;margin:0}[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.spacer[_ngcontent-%COMP%]{flex:1}.toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:600}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 16px}#menu[_ngcontent-%COMP%]{padding-left:20px;height:40px;display:flex;justify-content:space-between;font-size:medium}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]{height:40px;margin:0 8px}.toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]{height:40px;margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover{opacity:.8}.content[_ngcontent-%COMP%]{display:flex;margin:82px auto 32px;padding:0 16px;max-width:960px;flex-direction:column;align-items:center}svg.material-icons[_ngcontent-%COMP%]{height:24px;width:auto}svg.material-icons[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#888}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:16px}.card[_ngcontent-%COMP%]{all:unset;border-radius:4px;border:1px solid #eee;background-color:#fafafa;height:40px;width:200px;margin:0 8px 16px;padding:16px;display:flex;flex-direction:row;justify-content:center;align-items:center;transition:all .2s ease-in-out;line-height:24px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child){margin-right:0}.card.card-small[_ngcontent-%COMP%]{height:16px;width:168px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card){cursor:pointer}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover{transform:translateY(-3px);box-shadow:0 4px 17px #00000059}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#696767}.card.highlight-card[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;font-weight:600;border:none;width:auto;min-width:30%;position:relative}.card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:60px}svg#rocket[_ngcontent-%COMP%]{width:80px;position:absolute;left:-10px;top:-24px}svg#rocket-smoke[_ngcontent-%COMP%]{height:calc(100vh - 95px);position:absolute;top:10px;right:180px;z-index:-10}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#000e30}.terminal[_ngcontent-%COMP%]{position:relative;width:80%;max-width:600px;border-radius:6px;padding-top:45px;margin-top:8px;overflow:hidden;background-color:#0f0f10}.terminal[_ngcontent-%COMP%]:before{content:"\\2022\\2022\\2022";position:absolute;top:0;left:0;height:4px;background:rgb(58,58,58);color:#c2c3c4;width:100%;font-size:2rem;line-height:0;padding:14px 0;text-indent:4px}.terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;color:#fff;padding:0 1rem 1rem;margin:0}.circle-link[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:40px;margin:8px;background-color:#fff;border:1px solid #eeeeee;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;transition:1s ease-out}.circle-link[_ngcontent-%COMP%]:hover{transform:translateY(-.25rem);box-shadow:0 3px 15px #0003}footer[_ngcontent-%COMP%]{margin-top:8px;display:flex;align-items:center;line-height:20px}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}.github-star-badge[_ngcontent-%COMP%]{color:#24292e;display:flex;align-items:center;font-size:12px;padding:3px 10px;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-image:linear-gradient(-180deg,#fafbfc,#eff3f6 90%);margin-left:4px;font-weight:600}.github-star-badge[_ngcontent-%COMP%]:hover{background-image:linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);border-color:#1b1f2359;background-position:-.5em}.github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:4px}svg#clouds[_ngcontent-%COMP%]{position:fixed;bottom:-160px;left:-230px;z-index:-10;width:1920px}@media screen and (max-width: 767px){.card-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]:not(.highlight-card){height:16px;margin:8px 0}.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:72px}svg#rocket-smoke[_ngcontent-%COMP%]{right:120px;transform:rotate(-5deg)}}@media screen and (max-width: 575px){svg#rocket-smoke[_ngcontent-%COMP%]{display:none;visibility:hidden}}']})}return i})(),dee=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[S9,_4,L9,Z9,xQ,yK,kJ,GJ,cQ,FG,see]})}return i})();class oR{}class aR{}class Zu{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const r=e.slice(0,n),s=r.toLowerCase(),l=e.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.setHeaderEntries(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Zu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Zu;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Zu?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let l=this.headers.get(e);if(!l)return;l=l.filter(u=>-1===s.indexOf(u)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const n=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class uee{encodeKey(t){return W4(t)}encodeValue(t){return W4(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const fee=/%(\d[a-f0-9])/gi,pee={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function W4(i){return encodeURIComponent(i).replace(fee,(t,e)=>pee[e]??t)}function lR(i){return`${i}`}class rg{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new uee,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function hee(i,t){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[l,u]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],f=e.get(l)||[];f.push(u),e.set(l,f)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e],r=Array.isArray(n)?n.map(lR):[lR(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(s=>{e.push({param:n,value:s,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new rg({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(lR(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const r=n.indexOf(lR(t.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class mee{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function j4(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function $4(i){return typeof Blob<"u"&&i instanceof Blob}function Y4(i){return typeof FormData<"u"&&i instanceof FormData}class KC{constructor(t,e,n,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function gee(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Zu),this.context||(this.context=new mee),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const u=e.indexOf("?");this.urlWithParams=e+(-1===u?"?":u<e.length-1?"&":"")+l}}else this.params=new rg,this.urlWithParams=e}serializeBody(){return null===this.body?null:j4(this.body)||$4(this.body)||Y4(this.body)||function _ee(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof rg?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Y4(this.body)?null:$4(this.body)?this.body.type||null:j4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rg?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,l=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,u=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let f=t.headers||this.headers,m=t.params||this.params;const y=t.context??this.context;return void 0!==t.setHeaders&&(f=Object.keys(t.setHeaders).reduce((b,w)=>b.set(w,t.setHeaders[w]),f)),t.setParams&&(m=Object.keys(t.setParams).reduce((b,w)=>b.set(w,t.setParams[w]),m)),new KC(e,n,s,{params:m,headers:f,context:y,reportProgress:u,responseType:r,withCredentials:l})}}var J0=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(J0||{});class AF{constructor(t,e=200,n="OK"){this.headers=t.headers||new Zu,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class DF extends AF{constructor(t={}){super(t),this.type=J0.ResponseHeader}clone(t={}){return new DF({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Q0 extends AF{constructor(t={}){super(t),this.type=J0.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Q0({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class q4 extends AF{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function IF(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let vee=(()=>{class i{constructor(e){this.handler=e}request(e,n,r={}){let s;if(e instanceof KC)s=e;else{let f,m;f=r.headers instanceof Zu?r.headers:new Zu(r.headers),r.params&&(m=r.params instanceof rg?r.params:new rg({fromObject:r.params})),s=new KC(e,n,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:m,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=(0,nn.of)(s).pipe(Gp(f=>this.handler.handle(f)));if(e instanceof KC||"events"===r.observe)return l;const u=l.pipe(tr(f=>f instanceof Q0));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe((0,An.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return u.pipe((0,An.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return u.pipe((0,An.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return u.pipe((0,An.U)(f=>f.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new rg).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,IF(r,n))}post(e,n,r={}){return this.request("POST",e,IF(r,n))}put(e,n,r={}){return this.request("PUT",e,IF(r,n))}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(oR))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();function K4(i,t){return t(i)}function bee(i,t){return(e,n)=>t.intercept(e,{handle:r=>i(r,n)})}const wee=new c.OlP(""),JC=new c.OlP(""),J4=new c.OlP("");function Eee(){let i=null;return(t,e)=>{null===i&&(i=((0,c.f3M)(wee,{optional:!0})??[]).reduceRight(bee,K4));const n=(0,c.f3M)(c.HDt),r=n.add();return i(t,e).pipe(Qg(()=>n.remove(r)))}}let Q4=(()=>{class i extends oR{constructor(e,n){super(),this.backend=e,this.injector=n,this.chain=null,this.pendingTasks=(0,c.f3M)(c.HDt)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(JC),...this.injector.get(J4,[])]));this.chain=r.reduceRight((s,l)=>function xee(i,t,e){return(n,r)=>e.runInContext(()=>t(n,s=>i(s,r)))}(s,l,this.injector),K4)}const n=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Qg(()=>this.pendingTasks.remove(n)))}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(aR),c.LFG(c.lqb))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();const Tee=/^\)\]\}',?\n/;let t5=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new c.vHH(-2800,!1);const n=this.xhrFactory;return(n.\u0275loadImpl?(0,Zr.D)(n.\u0275loadImpl()):(0,nn.of)(null)).pipe((0,ki.w)(()=>new lo.y(s=>{const l=n.build();if(l.open(e.method,e.urlWithParams),e.withCredentials&&(l.withCredentials=!0),e.headers.forEach((k,I)=>l.setRequestHeader(k,I.join(","))),e.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const k=e.detectContentTypeHeader();null!==k&&l.setRequestHeader("Content-Type",k)}if(e.responseType){const k=e.responseType.toLowerCase();l.responseType="json"!==k?k:"text"}const u=e.serializeBody();let f=null;const m=()=>{if(null!==f)return f;const k=l.statusText||"OK",I=new Zu(l.getAllResponseHeaders()),R=function Aee(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(l)||e.url;return f=new DF({headers:I,status:l.status,statusText:k,url:R}),f},y=()=>{let{headers:k,status:I,statusText:R,url:U}=m(),O=null;204!==I&&(O=typeof l.response>"u"?l.responseText:l.response),0===I&&(I=O?200:0);let B=I>=200&&I<300;if("json"===e.responseType&&"string"==typeof O){const j=O;O=O.replace(Tee,"");try{O=""!==O?JSON.parse(O):null}catch(q){O=j,B&&(B=!1,O={error:q,text:O})}}B?(s.next(new Q0({body:O,headers:k,status:I,statusText:R,url:U||void 0})),s.complete()):s.error(new q4({error:O,headers:k,status:I,statusText:R,url:U||void 0}))},b=k=>{const{url:I}=m(),R=new q4({error:k,status:l.status||0,statusText:l.statusText||"Unknown Error",url:I||void 0});s.error(R)};let w=!1;const S=k=>{w||(s.next(m()),w=!0);let I={type:J0.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(I.total=k.total),"text"===e.responseType&&l.responseText&&(I.partialText=l.responseText),s.next(I)},A=k=>{let I={type:J0.UploadProgress,loaded:k.loaded};k.lengthComputable&&(I.total=k.total),s.next(I)};return l.addEventListener("load",y),l.addEventListener("error",b),l.addEventListener("timeout",b),l.addEventListener("abort",b),e.reportProgress&&(l.addEventListener("progress",S),null!==u&&l.upload&&l.upload.addEventListener("progress",A)),l.send(u),s.next({type:J0.Sent}),()=>{l.removeEventListener("error",b),l.removeEventListener("abort",b),l.removeEventListener("load",y),l.removeEventListener("timeout",b),e.reportProgress&&(l.removeEventListener("progress",S),null!==u&&l.upload&&l.upload.removeEventListener("progress",A)),l.readyState!==l.DONE&&l.abort()}})))}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(Fs))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();const RF=new c.OlP("XSRF_ENABLED"),n5=new c.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),i5=new c.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class r5{}let Ree=(()=>{class i{constructor(e,n,r){this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=go(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(xe),c.LFG(c.Lbi),c.LFG(n5))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();function Pee(i,t){const e=i.url.toLowerCase();if(!(0,c.f3M)(RF)||"GET"===i.method||"HEAD"===i.method||e.startsWith("http://")||e.startsWith("https://"))return t(i);const n=(0,c.f3M)(r5).getToken(),r=(0,c.f3M)(i5);return null!=n&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,n)})),t(i)}var sg=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(sg||{});function kee(...i){const t=[vee,t5,Q4,{provide:oR,useExisting:Q4},{provide:aR,useExisting:t5},{provide:JC,useValue:Pee,multi:!0},{provide:RF,useValue:!0},{provide:r5,useClass:Ree}];for(const e of i)t.push(...e.\u0275providers);return(0,c.MR2)(t)}const s5=new c.OlP("LEGACY_INTERCEPTOR_FN");function Oee(){return function Hv(i,t){return{\u0275kind:i,\u0275providers:t}}(sg.LegacyInterceptors,[{provide:s5,useFactory:Eee},{provide:JC,useExisting:s5,multi:!0}])}let Nee=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:[kee(Oee())]})}return i})();const Hee_firebase={apiKey:"AIzaSyCnWNW_JRtsBy6ds0Yz9J3gQhl5ufPhIVA",authDomain:"angular15-harish.firebaseapp.com",projectId:"angular15-harish",storageBucket:"angular15-harish.appspot.com",messagingSenderId:"267251024705",appId:"1:267251024705:web:5e2095d220abc3a4fc17c0"};let zee=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i,bootstrap:[cee]});static#n=this.\u0275inj=c.cJS({providers:[Nv],imports:[Kd,zQ,aS,dee,hj,Nee,Rd.hO.initializeApp(Hee_firebase),yZ,TX.forRoot({timeOut:1e4,positionClass:"toast-top-right",preventDuplicates:!0}),sw.forRoot([])]})}return i})();Ar().bootstrapModule(zee).catch(i=>console.error(i))},5619:(Kt,Je,W)=>{W.d(Je,{X:()=>_e});var c=W(8645);class _e extends c.x{constructor(we){super(),this._value=we}get value(){return this.getValue()}_subscribe(we){const Te=super._subscribe(we);return!Te.closed&&we.next(this._value),Te}getValue(){const{hasError:we,thrownError:Te,_value:xe}=this;if(we)throw Te;return this._throwIfClosed(),xe}next(we){super.next(this._value=we)}}},5592:(Kt,Je,W)=>{W.d(Je,{y:()=>ht});var c=W(305),_e=W(7394),$=W(4850),we=W(8407),Te=W(2653),xe=W(4674),ze=W(1441);let ht=(()=>{class ve{constructor(at){at&&(this._subscribe=at)}lift(at){const Pt=new ve;return Pt.source=this,Pt.operator=at,Pt}subscribe(at,Pt,ut){const Et=function oe(ve){return ve&&ve instanceof c.Lv||function te(ve){return ve&&(0,xe.m)(ve.next)&&(0,xe.m)(ve.error)&&(0,xe.m)(ve.complete)}(ve)&&(0,_e.Nn)(ve)}(at)?at:new c.Hp(at,Pt,ut);return(0,ze.x)(()=>{const{operator:gt,source:dn}=this;Et.add(gt?gt.call(Et,dn):dn?this._subscribe(Et):this._trySubscribe(Et))}),Et}_trySubscribe(at){try{return this._subscribe(at)}catch(Pt){at.error(Pt)}}forEach(at,Pt){return new(Pt=Le(Pt))((ut,Et)=>{const gt=new c.Hp({next:dn=>{try{at(dn)}catch(tn){Et(tn),gt.unsubscribe()}},error:Et,complete:ut});this.subscribe(gt)})}_subscribe(at){var Pt;return null===(Pt=this.source)||void 0===Pt?void 0:Pt.subscribe(at)}[$.L](){return this}pipe(...at){return(0,we.U)(at)(this)}toPromise(at){return new(at=Le(at))((Pt,ut)=>{let Et;this.subscribe(gt=>Et=gt,gt=>ut(gt),()=>Pt(Et))})}}return ve.create=vt=>new ve(vt),ve})();function Le(ve){var vt;return null!==(vt=ve??Te.config.Promise)&&void 0!==vt?vt:Promise}},8645:(Kt,Je,W)=>{W.d(Je,{x:()=>ze});var c=W(5592),_e=W(7394);const we=(0,W(2306).d)(Le=>function(){Le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=W(9039),xe=W(1441);let ze=(()=>{class Le extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const ve=new ht(this,this);return ve.operator=oe,ve}_throwIfClosed(){if(this.closed)throw new we}next(oe){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ve of this.currentObservers)ve.next(oe)}})}error(oe){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:ve}=this;for(;ve.length;)ve.shift().error(oe)}})}complete(){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:ve,isStopped:vt,observers:at}=this;return ve||vt?_e.Lc:(this.currentObservers=null,at.push(oe),new _e.w0(()=>{this.currentObservers=null,(0,Te.P)(at,oe)}))}_checkFinalizedStatuses(oe){const{hasError:ve,thrownError:vt,isStopped:at}=this;ve?oe.error(vt):at&&oe.complete()}asObservable(){const oe=new c.y;return oe.source=this,oe}}return Le.create=(te,oe)=>new ht(te,oe),Le})();class ht extends ze{constructor(te,oe){super(),this.destination=te,this.source=oe}next(te){var oe,ve;null===(ve=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===ve||ve.call(oe,te)}error(te){var oe,ve;null===(ve=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===ve||ve.call(oe,te)}complete(){var te,oe;null===(oe=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===oe||oe.call(te)}_subscribe(te){var oe,ve;return null!==(ve=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(te))&&void 0!==ve?ve:_e.Lc}}},305:(Kt,Je,W)=>{W.d(Je,{Hp:()=>ut,Lv:()=>ve});var c=W(4674),_e=W(7394),$=W(2653),we=W(3894),Te=W(2420);const xe=Le("C",void 0,void 0);function Le(Me,Ye,Ee){return{kind:Me,value:Ye,error:Ee}}var te=W(7599),oe=W(1441);class ve extends _e.w0{constructor(Ye){super(),this.isStopped=!1,Ye?(this.destination=Ye,(0,_e.Nn)(Ye)&&Ye.add(this)):this.destination=tn}static create(Ye,Ee,Qe){return new ut(Ye,Ee,Qe)}next(Ye){this.isStopped?dn(function ht(Me){return Le("N",Me,void 0)}(Ye),this):this._next(Ye)}error(Ye){this.isStopped?dn(function ze(Me){return Le("E",void 0,Me)}(Ye),this):(this.isStopped=!0,this._error(Ye))}complete(){this.isStopped?dn(xe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ye){this.destination.next(Ye)}_error(Ye){try{this.destination.error(Ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const vt=Function.prototype.bind;function at(Me,Ye){return vt.call(Me,Ye)}class Pt{constructor(Ye){this.partialObserver=Ye}next(Ye){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Ye)}catch(Qe){Et(Qe)}}error(Ye){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Ye)}catch(Qe){Et(Qe)}else Et(Ye)}complete(){const{partialObserver:Ye}=this;if(Ye.complete)try{Ye.complete()}catch(Ee){Et(Ee)}}}class ut extends ve{constructor(Ye,Ee,Qe){let mt;if(super(),(0,c.m)(Ye)||!Ye)mt={next:Ye??void 0,error:Ee??void 0,complete:Qe??void 0};else{let Dt;this&&$.config.useDeprecatedNextContext?(Dt=Object.create(Ye),Dt.unsubscribe=()=>this.unsubscribe(),mt={next:Ye.next&&at(Ye.next,Dt),error:Ye.error&&at(Ye.error,Dt),complete:Ye.complete&&at(Ye.complete,Dt)}):mt=Ye}this.destination=new Pt(mt)}}function Et(Me){$.config.useDeprecatedSynchronousErrorHandling?(0,oe.O)(Me):(0,we.h)(Me)}function dn(Me,Ye){const{onStoppedNotification:Ee}=$.config;Ee&&te.z.setTimeout(()=>Ee(Me,Ye))}const tn={closed:!0,next:Te.Z,error:function gt(Me){throw Me},complete:Te.Z}},7394:(Kt,Je,W)=>{W.d(Je,{Lc:()=>xe,w0:()=>Te,Nn:()=>ze});var c=W(4674);const $=(0,W(2306).d)(Le=>function(oe){Le(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((ve,vt)=>`${vt+1}) ${ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var we=W(9039);class Te{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const at of oe)at.remove(this);else oe.remove(this);const{initialTeardown:ve}=this;if((0,c.m)(ve))try{ve()}catch(at){te=at instanceof $?at.errors:[at]}const{_finalizers:vt}=this;if(vt){this._finalizers=null;for(const at of vt)try{ht(at)}catch(Pt){te=te??[],Pt instanceof $?te=[...te,...Pt.errors]:te.push(Pt)}}if(te)throw new $(te)}}add(te){var oe;if(te&&te!==this)if(this.closed)ht(te);else{if(te instanceof Te){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(te)}}_hasParent(te){const{_parentage:oe}=this;return oe===te||Array.isArray(oe)&&oe.includes(te)}_addParent(te){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(te),oe):oe?[oe,te]:te}_removeParent(te){const{_parentage:oe}=this;oe===te?this._parentage=null:Array.isArray(oe)&&(0,we.P)(oe,te)}remove(te){const{_finalizers:oe}=this;oe&&(0,we.P)(oe,te),te instanceof Te&&te._removeParent(this)}}Te.EMPTY=(()=>{const Le=new Te;return Le.closed=!0,Le})();const xe=Te.EMPTY;function ze(Le){return Le instanceof Te||Le&&"closed"in Le&&(0,c.m)(Le.remove)&&(0,c.m)(Le.add)&&(0,c.m)(Le.unsubscribe)}function ht(Le){(0,c.m)(Le)?Le():Le.unsubscribe()}},2653:(Kt,Je,W)=>{W.d(Je,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(Kt,Je,W)=>{W.d(Je,{E:()=>_e});const _e=new(W(5592).y)(Te=>Te.complete())},2459:(Kt,Je,W)=>{W.d(Je,{D:()=>Ye});var c=W(4829),_e=W(3093),$=W(5137),xe=W(5592),ht=W(4971),Le=W(4674),te=W(7103);function ve(Ee,Qe){if(!Ee)throw new Error("Iterable cannot be null");return new xe.y(mt=>{(0,te.f)(mt,Qe,()=>{const Dt=Ee[Symbol.asyncIterator]();(0,te.f)(mt,Qe,()=>{Dt.next().then(Ie=>{Ie.done?mt.complete():mt.next(Ie.value)})},0,!0)})})}var vt=W(8382),at=W(4026),Pt=W(4266),ut=W(3664),Et=W(5726),gt=W(9853),dn=W(541);function Ye(Ee,Qe){return Qe?function Me(Ee,Qe){if(null!=Ee){if((0,vt.c)(Ee))return function we(Ee,Qe){return(0,c.Xf)(Ee).pipe((0,$.R)(Qe),(0,_e.Q)(Qe))}(Ee,Qe);if((0,Pt.z)(Ee))return function ze(Ee,Qe){return new xe.y(mt=>{let Dt=0;return Qe.schedule(function(){Dt===Ee.length?mt.complete():(mt.next(Ee[Dt++]),mt.closed||this.schedule())})})}(Ee,Qe);if((0,at.t)(Ee))return function Te(Ee,Qe){return(0,c.Xf)(Ee).pipe((0,$.R)(Qe),(0,_e.Q)(Qe))}(Ee,Qe);if((0,Et.D)(Ee))return ve(Ee,Qe);if((0,ut.T)(Ee))return function oe(Ee,Qe){return new xe.y(mt=>{let Dt;return(0,te.f)(mt,Qe,()=>{Dt=Ee[ht.h](),(0,te.f)(mt,Qe,()=>{let Ie,hn;try{({value:Ie,done:hn}=Dt.next())}catch(Gn){return void mt.error(Gn)}hn?mt.complete():mt.next(Ie)},0,!0)}),()=>(0,Le.m)(Dt?.return)&&Dt.return()})}(Ee,Qe);if((0,dn.L)(Ee))return function tn(Ee,Qe){return ve((0,dn.Q)(Ee),Qe)}(Ee,Qe)}throw(0,gt.z)(Ee)}(Ee,Qe):(0,c.Xf)(Ee)}},4829:(Kt,Je,W)=>{W.d(Je,{Xf:()=>vt});var c=W(7582),_e=W(4266),$=W(4026),we=W(5592),Te=W(8382),xe=W(5726),ze=W(9853),ht=W(3664),Le=W(541),te=W(4674),oe=W(3894),ve=W(4850);function vt(Me){if(Me instanceof we.y)return Me;if(null!=Me){if((0,Te.c)(Me))return function at(Me){return new we.y(Ye=>{const Ee=Me[ve.L]();if((0,te.m)(Ee.subscribe))return Ee.subscribe(Ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,_e.z)(Me))return function Pt(Me){return new we.y(Ye=>{for(let Ee=0;Ee<Me.length&&!Ye.closed;Ee++)Ye.next(Me[Ee]);Ye.complete()})}(Me);if((0,$.t)(Me))return function ut(Me){return new we.y(Ye=>{Me.then(Ee=>{Ye.closed||(Ye.next(Ee),Ye.complete())},Ee=>Ye.error(Ee)).then(null,oe.h)})}(Me);if((0,xe.D)(Me))return gt(Me);if((0,ht.T)(Me))return function Et(Me){return new we.y(Ye=>{for(const Ee of Me)if(Ye.next(Ee),Ye.closed)return;Ye.complete()})}(Me);if((0,Le.L)(Me))return function dn(Me){return gt((0,Le.Q)(Me))}(Me)}throw(0,ze.z)(Me)}function gt(Me){return new we.y(Ye=>{(function tn(Me,Ye){var Ee,Qe,mt,Dt;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,c.KL)(Me);!(Qe=yield Ee.next()).done;)if(Ye.next(Qe.value),Ye.closed)return}catch(Ie){mt={error:Ie}}finally{try{Qe&&!Qe.done&&(Dt=Ee.return)&&(yield Dt.call(Ee))}finally{if(mt)throw mt.error}}Ye.complete()})})(Me,Ye).catch(Ee=>Ye.error(Ee))})}},3019:(Kt,Je,W)=>{W.d(Je,{T:()=>xe});var c=W(7537),_e=W(4829),$=W(6232),we=W(9940),Te=W(2459);function xe(...ze){const ht=(0,we.yG)(ze),Le=(0,we._6)(ze,1/0),te=ze;return te.length?1===te.length?(0,_e.Xf)(te[0]):(0,c.J)(Le)((0,Te.D)(te,ht)):$.E}},2096:(Kt,Je,W)=>{W.d(Je,{of:()=>$});var c=W(9940),_e=W(2459);function $(...we){const Te=(0,c.yG)(we);return(0,_e.D)(we,Te)}},8251:(Kt,Je,W)=>{W.d(Je,{x:()=>_e});var c=W(305);function _e(we,Te,xe,ze,ht){return new $(we,Te,xe,ze,ht)}class $ extends c.Lv{constructor(Te,xe,ze,ht,Le,te){super(Te),this.onFinalize=Le,this.shouldUnsubscribe=te,this._next=xe?function(oe){try{xe(oe)}catch(ve){Te.error(ve)}}:super._next,this._error=ht?function(oe){try{ht(oe)}catch(ve){Te.error(ve)}finally{this.unsubscribe()}}:super._error,this._complete=ze?function(){try{ze()}catch(oe){Te.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:xe}=this;super.unsubscribe(),!xe&&(null===(Te=this.onFinalize)||void 0===Te||Te.call(this))}}}},3997:(Kt,Je,W)=>{W.d(Je,{x:()=>we});var c=W(2737),_e=W(9360),$=W(8251);function we(xe,ze=c.y){return xe=xe??Te,(0,_e.e)((ht,Le)=>{let te,oe=!0;ht.subscribe((0,$.x)(Le,ve=>{const vt=ze(ve);(oe||!xe(te,vt))&&(oe=!1,te=vt,Le.next(ve))}))})}function Te(xe,ze){return xe===ze}},7398:(Kt,Je,W)=>{W.d(Je,{U:()=>$});var c=W(9360),_e=W(8251);function $(we,Te){return(0,c.e)((xe,ze)=>{let ht=0;xe.subscribe((0,_e.x)(ze,Le=>{ze.next(we.call(Te,Le,ht++))}))})}},7537:(Kt,Je,W)=>{W.d(Je,{J:()=>$});var c=W(1631),_e=W(2737);function $(we=1/0){return(0,c.z)(_e.y,we)}},1631:(Kt,Je,W)=>{W.d(Je,{z:()=>ht});var c=W(7398),_e=W(4829),$=W(9360),we=W(7103),Te=W(8251),ze=W(4674);function ht(Le,te,oe=1/0){return(0,ze.m)(te)?ht((ve,vt)=>(0,c.U)((at,Pt)=>te(ve,at,vt,Pt))((0,_e.Xf)(Le(ve,vt))),oe):("number"==typeof te&&(oe=te),(0,$.e)((ve,vt)=>function xe(Le,te,oe,ve,vt,at,Pt,ut){const Et=[];let gt=0,dn=0,tn=!1;const Me=()=>{tn&&!Et.length&&!gt&&te.complete()},Ye=Qe=>gt<ve?Ee(Qe):Et.push(Qe),Ee=Qe=>{at&&te.next(Qe),gt++;let mt=!1;(0,_e.Xf)(oe(Qe,dn++)).subscribe((0,Te.x)(te,Dt=>{vt?.(Dt),at?Ye(Dt):te.next(Dt)},()=>{mt=!0},void 0,()=>{if(mt)try{for(gt--;Et.length&&gt<ve;){const Dt=Et.shift();Pt?(0,we.f)(te,Pt,()=>Ee(Dt)):Ee(Dt)}Me()}catch(Dt){te.error(Dt)}}))};return Le.subscribe((0,Te.x)(te,Ye,()=>{tn=!0,Me()})),()=>{ut?.()}}(ve,vt,Le,oe)))}},3093:(Kt,Je,W)=>{W.d(Je,{Q:()=>we});var c=W(7103),_e=W(9360),$=W(8251);function we(Te,xe=0){return(0,_e.e)((ze,ht)=>{ze.subscribe((0,$.x)(ht,Le=>(0,c.f)(ht,Te,()=>ht.next(Le),xe),()=>(0,c.f)(ht,Te,()=>ht.complete(),xe),Le=>(0,c.f)(ht,Te,()=>ht.error(Le),xe)))})}},3020:(Kt,Je,W)=>{W.d(Je,{B:()=>Te});var c=W(4829),_e=W(8645),$=W(305),we=W(9360);function Te(ze={}){const{connector:ht=(()=>new _e.x),resetOnError:Le=!0,resetOnComplete:te=!0,resetOnRefCountZero:oe=!0}=ze;return ve=>{let vt,at,Pt,ut=0,Et=!1,gt=!1;const dn=()=>{at?.unsubscribe(),at=void 0},tn=()=>{dn(),vt=Pt=void 0,Et=gt=!1},Me=()=>{const Ye=vt;tn(),Ye?.unsubscribe()};return(0,we.e)((Ye,Ee)=>{ut++,!gt&&!Et&&dn();const Qe=Pt=Pt??ht();Ee.add(()=>{ut--,0===ut&&!gt&&!Et&&(at=xe(Me,oe))}),Qe.subscribe(Ee),!vt&&ut>0&&(vt=new $.Hp({next:mt=>Qe.next(mt),error:mt=>{gt=!0,dn(),at=xe(tn,Le,mt),Qe.error(mt)},complete:()=>{Et=!0,dn(),at=xe(tn,te),Qe.complete()}}),(0,c.Xf)(Ye).subscribe(vt))})(ve)}}function xe(ze,ht,...Le){if(!0===ht)return void ze();if(!1===ht)return;const te=new $.Hp({next:()=>{te.unsubscribe(),ze()}});return(0,c.Xf)(ht(...Le)).subscribe(te)}},5137:(Kt,Je,W)=>{W.d(Je,{R:()=>_e});var c=W(9360);function _e($,we=0){return(0,c.e)((Te,xe)=>{xe.add($.schedule(()=>Te.subscribe(xe),we))})}},4664:(Kt,Je,W)=>{W.d(Je,{w:()=>we});var c=W(4829),_e=W(9360),$=W(8251);function we(Te,xe){return(0,_e.e)((ze,ht)=>{let Le=null,te=0,oe=!1;const ve=()=>oe&&!Le&&ht.complete();ze.subscribe((0,$.x)(ht,vt=>{Le?.unsubscribe();let at=0;const Pt=te++;(0,c.Xf)(Te(vt,Pt)).subscribe(Le=(0,$.x)(ht,ut=>ht.next(xe?xe(vt,ut,Pt,at++):ut),()=>{Le=null,ve()}))},()=>{oe=!0,ve()}))})}},9397:(Kt,Je,W)=>{W.d(Je,{b:()=>Te});var c=W(4674),_e=W(9360),$=W(8251),we=W(2737);function Te(xe,ze,ht){const Le=(0,c.m)(xe)||ze||ht?{next:xe,error:ze,complete:ht}:xe;return Le?(0,_e.e)((te,oe)=>{var ve;null===(ve=Le.subscribe)||void 0===ve||ve.call(Le);let vt=!0;te.subscribe((0,$.x)(oe,at=>{var Pt;null===(Pt=Le.next)||void 0===Pt||Pt.call(Le,at),oe.next(at)},()=>{var at;vt=!1,null===(at=Le.complete)||void 0===at||at.call(Le),oe.complete()},at=>{var Pt;vt=!1,null===(Pt=Le.error)||void 0===Pt||Pt.call(Le,at),oe.error(at)},()=>{var at,Pt;vt&&(null===(at=Le.unsubscribe)||void 0===at||at.call(Le)),null===(Pt=Le.finalize)||void 0===Pt||Pt.call(Le)}))}):we.y}},1954:(Kt,Je,W)=>{W.d(Je,{o:()=>Te});var c=W(7394);class _e extends c.w0{constructor(ze,ht){super()}schedule(ze,ht=0){return this}}const $={setInterval(xe,ze,...ht){const{delegate:Le}=$;return Le?.setInterval?Le.setInterval(xe,ze,...ht):setInterval(xe,ze,...ht)},clearInterval(xe){const{delegate:ze}=$;return(ze?.clearInterval||clearInterval)(xe)},delegate:void 0};var we=W(9039);class Te extends _e{constructor(ze,ht){super(ze,ht),this.scheduler=ze,this.work=ht,this.pending=!1}schedule(ze,ht=0){var Le;if(this.closed)return this;this.state=ze;const te=this.id,oe=this.scheduler;return null!=te&&(this.id=this.recycleAsyncId(oe,te,ht)),this.pending=!0,this.delay=ht,this.id=null!==(Le=this.id)&&void 0!==Le?Le:this.requestAsyncId(oe,this.id,ht),this}requestAsyncId(ze,ht,Le=0){return $.setInterval(ze.flush.bind(ze,this),Le)}recycleAsyncId(ze,ht,Le=0){if(null!=Le&&this.delay===Le&&!1===this.pending)return ht;null!=ht&&$.clearInterval(ht)}execute(ze,ht){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Le=this._execute(ze,ht);if(Le)return Le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ze,ht){let te,Le=!1;try{this.work(ze)}catch(oe){Le=!0,te=oe||new Error("Scheduled action threw falsy error")}if(Le)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:ze,scheduler:ht}=this,{actions:Le}=ht;this.work=this.state=this.scheduler=null,this.pending=!1,(0,we.P)(Le,this),null!=ze&&(this.id=this.recycleAsyncId(ht,ze,null)),this.delay=null,super.unsubscribe()}}}},2631:(Kt,Je,W)=>{W.d(Je,{v:()=>$});var c=W(4552);class _e{constructor(Te,xe=_e.now){this.schedulerActionCtor=Te,this.now=xe}schedule(Te,xe=0,ze){return new this.schedulerActionCtor(this,Te).schedule(ze,xe)}}_e.now=c.l.now;class $ extends _e{constructor(Te,xe=_e.now){super(Te,xe),this.actions=[],this._active=!1}flush(Te){const{actions:xe}=this;if(this._active)return void xe.push(Te);let ze;this._active=!0;do{if(ze=Te.execute(Te.state,Te.delay))break}while(Te=xe.shift());if(this._active=!1,ze){for(;Te=xe.shift();)Te.unsubscribe();throw ze}}}},6321:(Kt,Je,W)=>{W.d(Je,{P:()=>we,z:()=>$});var c=W(1954);const $=new(W(2631).v)(c.o),we=$},4552:(Kt,Je,W)=>{W.d(Je,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},7599:(Kt,Je,W)=>{W.d(Je,{z:()=>c});const c={setTimeout(_e,$,...we){const{delegate:Te}=c;return Te?.setTimeout?Te.setTimeout(_e,$,...we):setTimeout(_e,$,...we)},clearTimeout(_e){const{delegate:$}=c;return($?.clearTimeout||clearTimeout)(_e)},delegate:void 0}},4971:(Kt,Je,W)=>{W.d(Je,{h:()=>_e});const _e=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Kt,Je,W)=>{W.d(Je,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(Kt,Je,W)=>{W.d(Je,{_6:()=>xe,jO:()=>we,yG:()=>Te});var c=W(4674),_e=W(671);function $(ze){return ze[ze.length-1]}function we(ze){return(0,c.m)($(ze))?ze.pop():void 0}function Te(ze){return(0,_e.K)($(ze))?ze.pop():void 0}function xe(ze,ht){return"number"==typeof $(ze)?ze.pop():ht}},9039:(Kt,Je,W)=>{function c(_e,$){if(_e){const we=_e.indexOf($);0<=we&&_e.splice(we,1)}}W.d(Je,{P:()=>c})},2306:(Kt,Je,W)=>{function c(_e){const we=_e(Te=>{Error.call(Te),Te.stack=(new Error).stack});return we.prototype=Object.create(Error.prototype),we.prototype.constructor=we,we}W.d(Je,{d:()=>c})},1441:(Kt,Je,W)=>{W.d(Je,{O:()=>we,x:()=>$});var c=W(2653);let _e=null;function $(Te){if(c.config.useDeprecatedSynchronousErrorHandling){const xe=!_e;if(xe&&(_e={errorThrown:!1,error:null}),Te(),xe){const{errorThrown:ze,error:ht}=_e;if(_e=null,ze)throw ht}}else Te()}function we(Te){c.config.useDeprecatedSynchronousErrorHandling&&_e&&(_e.errorThrown=!0,_e.error=Te)}},7103:(Kt,Je,W)=>{function c(_e,$,we,Te=0,xe=!1){const ze=$.schedule(function(){we(),xe?_e.add(this.schedule(null,Te)):this.unsubscribe()},Te);if(_e.add(ze),!xe)return ze}W.d(Je,{f:()=>c})},2737:(Kt,Je,W)=>{function c(_e){return _e}W.d(Je,{y:()=>c})},4266:(Kt,Je,W)=>{W.d(Je,{z:()=>c});const c=_e=>_e&&"number"==typeof _e.length&&"function"!=typeof _e},5726:(Kt,Je,W)=>{W.d(Je,{D:()=>_e});var c=W(4674);function _e($){return Symbol.asyncIterator&&(0,c.m)($?.[Symbol.asyncIterator])}},4674:(Kt,Je,W)=>{function c(_e){return"function"==typeof _e}W.d(Je,{m:()=>c})},8382:(Kt,Je,W)=>{W.d(Je,{c:()=>$});var c=W(4850),_e=W(4674);function $(we){return(0,_e.m)(we[c.L])}},3664:(Kt,Je,W)=>{W.d(Je,{T:()=>$});var c=W(4971),_e=W(4674);function $(we){return(0,_e.m)(we?.[c.h])}},4026:(Kt,Je,W)=>{W.d(Je,{t:()=>_e});var c=W(4674);function _e($){return(0,c.m)($?.then)}},541:(Kt,Je,W)=>{W.d(Je,{L:()=>we,Q:()=>$});var c=W(7582),_e=W(4674);function $(Te){return(0,c.FC)(this,arguments,function*(){const ze=Te.getReader();try{for(;;){const{value:ht,done:Le}=yield(0,c.qq)(ze.read());if(Le)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(ht)}}finally{ze.releaseLock()}})}function we(Te){return(0,_e.m)(Te?.getReader)}},671:(Kt,Je,W)=>{W.d(Je,{K:()=>_e});var c=W(4674);function _e($){return $&&(0,c.m)($.schedule)}},9360:(Kt,Je,W)=>{W.d(Je,{A:()=>_e,e:()=>$});var c=W(4674);function _e(we){return(0,c.m)(we?.lift)}function $(we){return Te=>{if(_e(Te))return Te.lift(function(xe){try{return we(xe,this)}catch(ze){this.error(ze)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(Kt,Je,W)=>{function c(){}W.d(Je,{Z:()=>c})},8407:(Kt,Je,W)=>{W.d(Je,{U:()=>$,z:()=>_e});var c=W(2737);function _e(...we){return $(we)}function $(we){return 0===we.length?c.y:1===we.length?we[0]:function(xe){return we.reduce((ze,ht)=>ht(ze),xe)}}},3894:(Kt,Je,W)=>{W.d(Je,{h:()=>$});var c=W(2653),_e=W(7599);function $(we){_e.z.setTimeout(()=>{const{onUnhandledError:Te}=c.config;if(!Te)throw we;Te(we)})}},9853:(Kt,Je,W)=>{function c(_e){return new TypeError(`You provided ${null!==_e&&"object"==typeof _e?"an invalid object":`'${_e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}W.d(Je,{z:()=>c})},5879:(Kt,Je,W)=>{W.d(Je,{$8M:()=>du,$WT:()=>Ta,$Z:()=>tM,AFp:()=>TS,AaK:()=>ve,BQk:()=>L_,CHM:()=>vo,CRH:()=>jT,DdM:()=>CT,EJc:()=>z2,EiD:()=>Yh,EpF:()=>Cw,F$t:()=>qM,F4k:()=>Cb,FYo:()=>Gx,FiY:()=>Ep,Gf:()=>GT,GfV:()=>Wx,GkF:()=>wb,Gpc:()=>Pt,Gre:()=>aT,HDt:()=>nk,Hsn:()=>F_,Ikx:()=>Ru,JOm:()=>Fh,JVY:()=>Gp,JZr:()=>tn,KtG:()=>eu,L6k:()=>js,LAX:()=>vR,LFG:()=>mn,Lbi:()=>Xh,Lck:()=>K_,MAs:()=>bw,MMx:()=>Zw,MR2:()=>i_,NdJ:()=>Sb,O4$:()=>ml,Ojb:()=>Eu,OlP:()=>Si,Oqu:()=>ur,P3R:()=>n_,PXZ:()=>uk,Q6J:()=>bb,QGY:()=>Eb,QbO:()=>Hy,Qsj:()=>NS,R0b:()=>As,RDi:()=>Jg,Rgc:()=>ov,SBq:()=>y_,Sil:()=>j2,Suo:()=>WT,TTD:()=>qd,TgZ:()=>k_,Tol:()=>XM,Udp:()=>Db,VuI:()=>Wk,W1O:()=>ZT,X6Q:()=>vk,XFs:()=>on,Xpm:()=>Ud,Xq5:()=>TM,Xts:()=>jp,Y36:()=>em,YKP:()=>Zo,YNc:()=>_b,Yjl:()=>nh,Yz7:()=>kn,Z0I:()=>Ei,ZZ4:()=>IE,_Bn:()=>Xb,_UZ:()=>xb,_Vd:()=>__,_c5:()=>Pk,_uU:()=>Pw,aQg:()=>y0,c2e:()=>tk,cJS:()=>Bi,cg1:()=>Uw,d8E:()=>j_,dDg:()=>u0,dqk:()=>yi,eBb:()=>Wh,eFA:()=>wE,eJc:()=>sE,ekj:()=>Rw,eoX:()=>uA,f3M:()=>Rn,g9A:()=>Tx,h0i:()=>Za,hGG:()=>dv,hij:()=>_m,iGM:()=>zT,ifc:()=>ct,ip1:()=>ek,jDz:()=>Mf,kL8:()=>Ni,kcU:()=>io,lG2:()=>jl,lqb:()=>Ml,lri:()=>dA,mCW:()=>Ci,n5z:()=>Va,n_E:()=>r0,oAB:()=>Ic,oJD:()=>xu,oxw:()=>YM,pB0:()=>yx,q3G:()=>qh,q4F:()=>FS,qFp:()=>Zk,qLn:()=>Cu,qOj:()=>lb,qZA:()=>O_,qzn:()=>zp,rWj:()=>vE,rg0:()=>gh,s9C:()=>pm,sBO:()=>yk,s_b:()=>a0,soG:()=>dE,tb:()=>bE,tp0:()=>wl,uIk:()=>hw,vHH:()=>Me,vpe:()=>zo,wAp:()=>Pu,xp6:()=>QS,ynx:()=>N_,z2F:()=>Fm,z3N:()=>lc,zSh:()=>Uy,zs3:()=>Dl});var c=W(8645),_e=W(7394),$=W(5592),we=W(3019),Te=W(5619),xe=W(2096),ze=W(3020),ht=W(4664),Le=W(3997);function te(o){for(let a in o)if(o[a]===te)return a;throw Error("Could not find renamed property on target object.")}function oe(o,a){for(const d in a)a.hasOwnProperty(d)&&!o.hasOwnProperty(d)&&(o[d]=a[d])}function ve(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ve).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const d=a.indexOf("\n");return-1===d?a:a.substring(0,d)}function vt(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const at=te({__forward_ref__:te});function Pt(o){return o.__forward_ref__=Pt,o.toString=function(){return ve(this())},o}function ut(o){return Et(o)?o():o}function Et(o){return"function"==typeof o&&o.hasOwnProperty(at)&&o.__forward_ref__===Pt}function gt(o){return o&&!!o.\u0275providers}const tn="https://g.co/ng/security#xss";class Me extends Error{constructor(a,d){super(function Ye(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,d)),this.code=a}}function Ee(o){return"string"==typeof o?o:null==o?"":String(o)}function hn(o,a){throw new Me(-201,!1)}function zt(o,a){null==o&&function Ct(o,a,d,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${d} ${h} ${a} <=Actual]`))}(a,o,null,"!=")}function kn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Bi(o){return{providers:o.providers||[],imports:o.imports||[]}}function yr(o){return Gr(o,Ns)||Gr(o,xa)}function Ei(o){return null!==yr(o)}function Gr(o,a){return o.hasOwnProperty(a)?o[a]:null}function ba(o){return o&&(o.hasOwnProperty(Ls)||o.hasOwnProperty(Tc))?o[Ls]:null}const Ns=te({\u0275prov:te}),Ls=te({\u0275inj:te}),xa=te({ngInjectableDef:te}),Tc=te({ngInjectorDef:te});var on=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(on||{});let Wn;function Ti(o){const a=Wn;return Wn=o,a}function qi(o,a,d){const h=yr(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:d&on.Optional?null:void 0!==a?a:void hn(ve(o))}const yi=globalThis,ys={},or="__NG_DI_FLAG__",Xs="ngTempTokenPath",re=/\n/gm,ue="__source";let Xe;function Ft(o){const a=Xe;return Xe=o,a}function wn(o,a=on.Default){if(void 0===Xe)throw new Me(-203,!1);return null===Xe?qi(o,void 0,a):Xe.get(o,a&on.Optional?null:void 0,a)}function mn(o,a=on.Default){return(function Mn(){return Wn}()||wn)(ut(o),a)}function Rn(o,a=on.Default){return mn(o,Xi(a))}function Xi(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function ei(o){const a=[];for(let d=0;d<o.length;d++){const h=ut(o[d]);if(Array.isArray(h)){if(0===h.length)throw new Me(900,!1);let p,_=on.Default;for(let x=0;x<h.length;x++){const M=h[x],D=Ro(M);"number"==typeof D?-1===D?p=M.token:_|=D:p=M}a.push(mn(p,_))}else a.push(mn(h))}return a}function mr(o,a){return o[or]=a,o.prototype[or]=a,o}function Ro(o){return o[or]}function ke(o){return{toString:o}.toString()}var Se=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(Se||{}),ct=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(ct||{});const Wt={},It=[],On=te({\u0275cmp:te}),di=te({\u0275dir:te}),ar=te({\u0275pipe:te}),lr=te({\u0275mod:te}),Or=te({\u0275fac:te}),go=te({__NG_ELEMENT_ID__:te}),zl=te({__NG_ENV_ID__:te});function Ku(o,a,d){let h=o.length;for(;;){const p=o.indexOf(a,d);if(-1===p)return p;if(0===p||o.charCodeAt(p-1)<=32){const _=a.length;if(p+_===h||o.charCodeAt(p+_)<=32)return p}d=p+1}}function Sa(o,a,d){let h=0;for(;h<d.length;){const p=d[h];if("number"==typeof p){if(0!==p)break;h++;const _=d[h++],x=d[h++],M=d[h++];o.setAttribute(a,x,M,_)}else{const _=p,x=d[++h];Js(_)?o.setProperty(a,_,x):o.setAttribute(a,_,x),h++}}return h}function Ju(o){return 3===o||4===o||6===o}function Js(o){return 64===o.charCodeAt(0)}function Qa(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let d=-1;for(let h=0;h<a.length;h++){const p=a[h];"number"==typeof p?d=p:0===d||Gl(o,d,p,null,-1===d||2===d?a[++h]:null)}}return o}function Gl(o,a,d,h,p){let _=0,x=o.length;if(-1===a)x=-1;else for(;_<o.length;){const M=o[_++];if("number"==typeof M){if(M===a){x=-1;break}if(M>a){x=_-1;break}}}for(;_<o.length;){const M=o[_];if("number"==typeof M)break;if(M===d){if(null===h)return void(null!==p&&(o[_+1]=p));if(h===o[_+1])return void(o[_+2]=p)}_++,null!==h&&_++,null!==p&&_++}-1!==x&&(o.splice(x,0,a),_=x+1),o.splice(_++,0,d),null!==h&&o.splice(_++,0,h),null!==p&&o.splice(_++,0,p)}const Qu="ng-template";function cr(o,a,d){let h=0,p=!0;for(;h<o.length;){let _=o[h++];if("string"==typeof _&&p){const x=o[h++];if(d&&"class"===_&&-1!==Ku(x.toLowerCase(),a,0))return!0}else{if(1===_){for(;h<o.length&&"string"==typeof(_=o[h++]);)if(_.toLowerCase()===a)return!0;return!1}"number"==typeof _&&(p=!1)}}return!1}function bs(o){return 4===o.type&&o.value!==Qu}function Wv(o,a,d){return a===(4!==o.type||d?o.value:Qu)}function og(o,a,d){let h=4;const p=o.attrs||[],_=function jv(o){for(let a=0;a<o.length;a++)if(Ju(o[a]))return a;return o.length}(p);let x=!1;for(let M=0;M<a.length;M++){const D=a[M];if("number"!=typeof D){if(!x)if(4&h){if(h=2|1&h,""!==D&&!Wv(o,D,d)||""===D&&1===a.length){if(xs(h))return!1;x=!0}}else{const L=8&h?D:a[++M];if(8&h&&null!==o.attrs){if(!cr(o.attrs,L,d)){if(xs(h))return!1;x=!0}continue}const X=Ma(8&h?"class":D,p,bs(o),d);if(-1===X){if(xs(h))return!1;x=!0;continue}if(""!==L){let de;de=X>_?"":p[X+1].toLowerCase();const ge=8&h?de:null;if(ge&&-1!==Ku(ge,L,0)||2&h&&L!==de){if(xs(h))return!1;x=!0}}}}else{if(!x&&!xs(h)&&!xs(D))return!1;if(x&&xs(D))continue;x=!1,h=D|1&h}}return xs(h)||x}function xs(o){return 0==(1&o)}function Ma(o,a,d,h){if(null===a)return-1;let p=0;if(h||!d){let _=!1;for(;p<a.length;){const x=a[p];if(x===o)return p;if(3===x||6===x)_=!0;else{if(1===x||2===x){let M=a[++p];for(;"string"==typeof M;)M=a[++p];continue}if(4===x)break;if(0===x){p+=4;continue}}p+=_?1:2}return-1}return function el(o,a){let d=o.indexOf(4);if(d>-1)for(d++;d<o.length;){const h=o[d];if("number"==typeof h)return-1;if(h===a)return d;d++}return-1}(a,o)}function Dc(o,a,d=!1){for(let h=0;h<a.length;h++)if(og(o,a[h],d))return!0;return!1}function Wf(o,a){e:for(let d=0;d<a.length;d++){const h=a[d];if(o.length===h.length){for(let p=0;p<o.length;p++)if(o[p]!==h[p])continue e;return!0}}return!1}function Wl(o,a){return o?":not("+a.trim()+")":a}function Fd(o){let a=o[0],d=1,h=2,p="",_=!1;for(;d<o.length;){let x=o[d];if("string"==typeof x)if(2&h){const M=o[++d];p+="["+x+(M.length>0?'="'+M+'"':"")+"]"}else 8&h?p+="."+x:4&h&&(p+=" "+x);else""!==p&&!xs(x)&&(a+=Wl(_,p),p=""),h=x,_=_||!xs(h);d++}return""!==p&&(a+=Wl(_,p)),a}function Ud(o){return ke(()=>{const a=ih(o),d={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Se.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||ct.Emulated,styles:o.styles||It,_:null,schemas:o.schemas||null,tView:null,id:""};ag(d);const h=o.dependencies;return d.directiveDefs=Rc(h,!1),d.pipeDefs=Rc(h,!0),d.id=function eo(o){let a=0;const d=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const p of d)a=Math.imul(31,a)+p.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(d),d})}function th(o){return ti(o)||er(o)}function Bd(o){return null!==o}function Ic(o){return ke(()=>({type:o.type,bootstrap:o.bootstrap||It,declarations:o.declarations||It,imports:o.imports||It,exports:o.exports||It,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Vd(o,a){if(null==o)return Wt;const d={};for(const h in o)if(o.hasOwnProperty(h)){let p=o[h],_=p;Array.isArray(p)&&(_=p[1],p=p[0]),d[p]=h,a&&(a[p]=_)}return d}function jl(o){return ke(()=>{const a=ih(o);return ag(a),a})}function nh(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function ti(o){return o[On]||null}function er(o){return o[di]||null}function os(o){return o[ar]||null}function Ta(o){const a=ti(o)||er(o)||os(o);return null!==a&&a.standalone}function as(o,a){const d=o[lr]||null;if(!d&&!0===a)throw new Error(`Type ${ve(o)} does not have '\u0275mod' property.`);return d}function ih(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:o.inputs||Wt,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||It,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vd(o.inputs,a),outputs:Vd(o.outputs)}}function ag(o){o.features?.forEach(a=>a(o))}function Rc(o,a){if(!o)return null;const d=a?os:th;return()=>("function"==typeof o?o():o).map(h=>d(h)).filter(Bd)}const Vi=0,Bt=1,pn=2,Hi=3,ls=4,tl=5,Nr=6,Pc=7,mi=8,ea=9,$l=10,_n=11,Lr=12,Yf=13,Aa=14,zi=15,rh=16,nl=17,Er=18,ta=19,na=20,Da=21,Fs=22,kc=23,Ia=24,Fn=25,Yl=1,zd=2,Cr=7,Sr=9,Fr=11;function Mr(o){return Array.isArray(o)&&"object"==typeof o[Yl]}function jr(o){return Array.isArray(o)&&!0===o[Yl]}function Gd(o){return 0!=(4&o.flags)}function rl(o){return o.componentOffset>-1}function Us(o){return 1==(1&o.flags)}function ws(o){return!!o.template}function ql(o){return 0!=(512&o[pn])}function sl(o,a){return o.hasOwnProperty(Or)?o[Or]:null}let gr=null,ol=!1;function Es(o){const a=gr;return gr=o,a}const al={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Lc(o){if(!ll(o)||o.dirty){if(!o.producerMustRecompute(o)&&!uh(o))return void(o.dirty=!1);o.producerRecomputeValue(o),o.dirty=!1}}function Fc(o){o.dirty=!0,function Jf(o){if(void 0===o.liveConsumerNode)return;const a=ol;ol=!0;try{for(const d of o.liveConsumerNode)d.dirty||Fc(d)}finally{ol=a}}(o),o.consumerMarkedDirty?.(o)}function Qf(o){return o&&(o.nextProducerIndex=0),Es(o)}function Tr(o,a){if(Es(a),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(ll(o))for(let d=o.nextProducerIndex;d<o.producerNode.length;d++)Uc(o.producerNode[d],o.producerIndexOfThis[d]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function uh(o){Pa(o);for(let a=0;a<o.producerNode.length;a++){const d=o.producerNode[a],h=o.producerLastReadVersion[a];if(h!==d.version||(Lc(d),h!==d.version))return!0}return!1}function hh(o){if(Pa(o),ll(o))for(let a=0;a<o.producerNode.length;a++)Uc(o.producerNode[a],o.producerIndexOfThis[a]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function Uc(o,a){if(function Bc(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}(o),Pa(o),1===o.liveConsumerNode.length)for(let h=0;h<o.producerNode.length;h++)Uc(o.producerNode[h],o.producerIndexOfThis[h]);const d=o.liveConsumerNode.length-1;if(o.liveConsumerNode[a]=o.liveConsumerNode[d],o.liveConsumerIndexOfThis[a]=o.liveConsumerIndexOfThis[d],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,a<o.liveConsumerNode.length){const h=o.liveConsumerIndexOfThis[a],p=o.liveConsumerNode[a];Pa(p),p.producerIndexOfThis[h]=a}}function ll(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function Pa(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}let np=null;function gh(o){const a=Es(null);try{return o()}finally{Es(a)}}const _h=()=>{},fg=(()=>({...al,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{o.schedule(o.ref)},hasRun:!1,cleanupFn:_h}))();class pg{constructor(a,d,h){this.previousValue=a,this.currentValue=d,this.firstChange=h}isFirstChange(){return this.firstChange}}function qd(){return zc}function zc(o){return o.type.prototype.ngOnChanges&&(o.setInput=cl),mg}function mg(){const o=dl(this),a=o?.current;if(a){const d=o.previous;if(d===Wt)o.previous=a;else for(let h in a)d[h]=a[h];o.current=null,this.ngOnChanges(a)}}function cl(o,a,d,h){const p=this.declaredInputs[d],_=dl(o)||function rp(o,a){return o[ko]=a}(o,{previous:Wt,current:null}),x=_.current||(_.current={}),M=_.previous,D=M[p];x[p]=new pg(D&&D.currentValue,a,M===Wt),o[h]=a}qd.ngInherit=!0;const ko="__ngSimpleChanges__";function dl(o){return o[ko]||null}const _o=function(o,a,d){},sp="svg";function _i(o){for(;Array.isArray(o);)o=o[Vi];return o}function ul(o,a){return _i(a[o])}function Ur(o,a){return _i(a[o.index])}function yh(o,a){return o.data[a]}function Br(o,a){const d=a[o];return Mr(d)?d:d[Vi]}function Cs(o,a){return null==a?null:o[a]}function bg(o){o[nl]=0}function bh(o){1024&o[pn]||(o[pn]|=1024,ey(o,1))}function Zd(o){1024&o[pn]&&(o[pn]&=-1025,ey(o,-1))}function ey(o,a){let d=o[Hi];if(null===d)return;d[tl]+=a;let h=d;for(d=d[Hi];null!==d&&(1===a&&1===h[tl]||-1===a&&0===h[tl]);)d[tl]+=a,h=d,d=d[Hi]}const vn={lFrame:Ms(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Vr(){return vn.bindingsEnabled}function Oo(){return null!==vn.skipHydrationRootTNode}function et(){return vn.lFrame.lView}function Xn(){return vn.lFrame.tView}function vo(o){return vn.lFrame.contextLView=o,o[mi]}function eu(o){return vn.lFrame.contextLView=null,o}function Dr(){let o=tu();for(;null!==o&&64===o.type;)o=o.parent;return o}function tu(){return vn.lFrame.currentTNode}function Oa(o,a){const d=vn.lFrame;d.currentTNode=o,d.isParent=a}function fl(){return vn.lFrame.isParent}function wh(){vn.lFrame.isParent=!1}function pl(){return vn.lFrame.bindingIndex++}function No(o){const a=vn.lFrame,d=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,d}function nu(o,a){const d=vn.lFrame;d.bindingIndex=d.bindingRootIndex=o,iu(a)}function iu(o){vn.lFrame.currentDirectiveIndex=o}function up(o){const a=vn.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function ru(){return vn.lFrame.currentQueryIndex}function hp(o){vn.lFrame.currentQueryIndex=o}function fp(o){const a=o[Bt];return 2===a.type?a.declTNode:1===a.type?o[Nr]:null}function wg(o,a,d){if(d&on.SkipSelf){let p=a,_=o;for(;!(p=p.parent,null!==p||d&on.Host||(p=fp(_),null===p||(_=_[Aa],10&p.type))););if(null===p)return!1;a=p,o=_}const h=vn.lFrame=pp();return h.currentTNode=a,h.lView=o,!0}function Na(o){const a=pp(),d=o[Bt];vn.lFrame=a,a.currentTNode=d.firstChild,a.lView=o,a.tView=d,a.contextLView=o,a.bindingIndex=d.bindingStartIndex,a.inI18n=!1}function pp(){const o=vn.lFrame,a=null===o?null:o.child;return null===a?Ms(o):a}function Ms(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function cs(){const o=vn.lFrame;return vn.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Ii=cs;function nc(){const o=cs();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function jn(){return vn.lFrame.selectedIndex}function no(o){vn.lFrame.selectedIndex=o}function En(){const o=vn.lFrame;return yh(o.tView,o.selectedIndex)}function ml(){vn.lFrame.currentNamespace=sp}function io(){!function jc(){vn.lFrame.currentNamespace=null}()}let ra=!0;function La(){return ra}function ro(o){ra=o}function gl(o,a){for(let d=a.directiveStart,h=a.directiveEnd;d<h;d++){const _=o.data[d].type.prototype,{ngAfterContentInit:x,ngAfterContentChecked:M,ngAfterViewInit:D,ngAfterViewChecked:L,ngOnDestroy:V}=_;x&&(o.contentHooks??=[]).push(-d,x),M&&((o.contentHooks??=[]).push(d,M),(o.contentCheckHooks??=[]).push(d,M)),D&&(o.viewHooks??=[]).push(-d,D),L&&((o.viewHooks??=[]).push(d,L),(o.viewCheckHooks??=[]).push(d,L)),null!=V&&(o.destroyHooks??=[]).push(d,V)}}function $c(o,a,d){Eg(o,a,3,d)}function su(o,a,d,h){(3&o[pn])===d&&Eg(o,a,d,h)}function Yc(o,a){let d=o[pn];(3&d)===a&&(d&=8191,d+=1,o[pn]=d)}function Eg(o,a,d,h){const _=h??-1,x=a.length-1;let M=0;for(let D=void 0!==h?65535&o[nl]:0;D<x;D++)if("number"==typeof a[D+1]){if(M=a[D],null!=h&&M>=h)break}else a[D]<0&&(o[nl]+=65536),(M<_||-1==_)&&(Mh(o,d,a,D),o[nl]=(4294901760&o[nl])+D+2),D++}function ou(o,a){_o(4,o,a);const d=Es(null);try{a.call(o)}finally{Es(d),_o(5,o,a)}}function Mh(o,a,d,h){const p=d[h]<0,_=d[h+1],M=o[p?-d[h]:d[h]];p?o[pn]>>13<o[nl]>>16&&(3&o[pn])===a&&(o[pn]+=8192,ou(M,_)):ou(M,_)}const Fa=-1;class Ua{constructor(a,d,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=h}}function qc(o){return o!==Fa}function ic(o){return 32767&o}function _l(o,a){let d=function Sg(o){return o>>16}(o),h=a;for(;d>0;)h=h[Aa],d--;return h}let Ah=!0;function au(o){const a=Ah;return Ah=o,a}const bp=255,Mg=5;let Dh=0;const Fo={};function vl(o,a){const d=Xc(o,a);if(-1!==d)return d;const h=a[Bt];h.firstCreatePass&&(o.injectorIndex=a.length,Zc(h.data,o),Zc(a,null),Zc(h.blueprint,null));const p=Ba(o,a),_=o.injectorIndex;if(qc(p)){const x=ic(p),M=_l(p,a),D=M[Bt].data;for(let L=0;L<8;L++)a[_+L]=M[x+L]|D[x+L]}return a[_+8]=p,_}function Zc(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Xc(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Ba(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let d=0,h=null,p=a;for(;null!==p;){if(h=cu(p),null===h)return Fa;if(d++,p=p[Aa],-1!==h.injectorIndex)return h.injectorIndex|d<<16}return Fa}function Kc(o,a,d){!function Ih(o,a,d){let h;"string"==typeof d?h=d.charCodeAt(0)||0:d.hasOwnProperty(go)&&(h=d[go]),null==h&&(h=d[go]=Dh++);const p=h&bp;a.data[o+(p>>Mg)]|=1<<p}(o,a,d)}function Jc(o,a,d){if(d&on.Optional||void 0!==o)return o;hn()}function Qc(o,a,d,h){if(d&on.Optional&&void 0===h&&(h=null),!(d&(on.Self|on.Host))){const p=o[ea],_=Ti(void 0);try{return p?p.get(a,h,d&on.Optional):qi(a,h,d&on.Optional)}finally{Ti(_)}}return Jc(h,0,d)}function yo(o,a,d,h=on.Default,p){if(null!==o){if(2048&a[pn]&&!(h&on.Self)){const x=function ay(o,a,d,h,p){let _=o,x=a;for(;null!==_&&null!==x&&2048&x[pn]&&!(512&x[pn]);){const M=Ph(_,x,d,h|on.Self,Fo);if(M!==Fo)return M;let D=_.parent;if(!D){const L=x[na];if(L){const V=L.get(d,Fo,h);if(V!==Fo)return V}D=cu(x),x=x[Aa]}_=D}return p}(o,a,d,h,Fo);if(x!==Fo)return x}const _=Ph(o,a,d,h,Fo);if(_!==Fo)return _}return Qc(a,d,h,p)}function Ph(o,a,d,h,p){const _=function Vs(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(go)?o[go]:void 0;return"number"==typeof a?a>=0?a&bp:td:a}(d);if("function"==typeof _){if(!wg(a,o,h))return h&on.Host?Jc(p,0,h):Qc(a,d,h,p);try{let x;if(x=_(h),null!=x||h&on.Optional)return x;hn()}finally{Ii()}}else if("number"==typeof _){let x=null,M=Xc(o,a),D=Fa,L=h&on.Host?a[zi][Nr]:null;for((-1===M||h&on.SkipSelf)&&(D=-1===M?Ba(o,a):a[M+8],D!==Fa&&kh(h,!1)?(x=a[Bt],M=ic(D),a=_l(D,a)):M=-1);-1!==M;){const V=a[Bt];if(Uo(_,M,V.data)){const X=lu(M,a,d,x,h,L);if(X!==Fo)return X}D=a[M+8],D!==Fa&&kh(h,a[Bt].data[M+8]===L)&&Uo(_,M,a)?(x=V,M=ic(D),a=_l(D,a)):M=-1}}return p}function lu(o,a,d,h,p,_){const x=a[Bt],M=x.data[o+8],V=ed(M,x,d,null==h?rl(M)&&Ah:h!=x&&0!=(3&M.type),p&on.Host&&_===M);return null!==V?oa(a,x,V,M):Fo}function ed(o,a,d,h,p){const _=o.providerIndexes,x=a.data,M=1048575&_,D=o.directiveStart,V=_>>20,de=p?M+V:o.directiveEnd;for(let ge=h?M:M+V;ge<de;ge++){const We=x[ge];if(ge<D&&d===We||ge>=D&&We.type===d)return ge}if(p){const ge=x[D];if(ge&&ws(ge)&&ge.type===d)return D}return null}function oa(o,a,d,h){let p=o[d];const _=a.data;if(function ry(o){return o instanceof Ua}(p)){const x=p;x.resolving&&function mt(o,a){const d=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Me(-200,`Circular dependency in DI detected for ${o}${d}`)}(function Qe(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ee(o)}(_[d]));const M=au(x.canSeeViewProviders);x.resolving=!0;const L=x.injectImpl?Ti(x.injectImpl):null;wg(o,h,on.Default);try{p=o[d]=x.factory(void 0,_,o,h),a.firstCreatePass&&d>=h.directiveStart&&function sa(o,a,d){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:_}=a.type.prototype;if(h){const x=zc(a);(d.preOrderHooks??=[]).push(o,x),(d.preOrderCheckHooks??=[]).push(o,x)}p&&(d.preOrderHooks??=[]).push(0-o,p),_&&((d.preOrderHooks??=[]).push(o,_),(d.preOrderCheckHooks??=[]).push(o,_))}(d,_[d],a)}finally{null!==L&&Ti(L),au(M),x.resolving=!1,Ii()}}return p}function Uo(o,a,d){return!!(d[a+(o>>Mg)]&1<<o)}function kh(o,a){return!(o&on.Self||o&on.Host&&a)}class Ai{constructor(a,d){this._tNode=a,this._lView=d}get(a,d,h){return yo(this._tNode,this._lView,a,Xi(h),d)}}function td(){return new Ai(Dr(),et())}function Va(o){return ke(()=>{const a=o.prototype.constructor,d=a[Or]||Tg(a),h=Object.prototype;let p=Object.getPrototypeOf(o.prototype).constructor;for(;p&&p!==h;){const _=p[Or]||Tg(p);if(_&&_!==d)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function Tg(o){return Et(o)?()=>{const a=Tg(ut(o));return a&&a()}:sl(o)}function cu(o){const a=o[Bt],d=a.type;return 2===d?a.declTNode:1===d?o[Nr]:null}function du(o){return function Rh(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const d=o.attrs;if(d){const h=d.length;let p=0;for(;p<h;){const _=d[p];if(Ju(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<h&&"string"==typeof d[p];)p++;else{if(_===a)return d[p+1];p+=2}}}return null}(Dr(),o)}const rc="__parameters__";function Y(o,a,d){return ke(()=>{const h=function F(o){return function(...d){if(o){const h=o(...d);for(const p in h)this[p]=h[p]}}}(a);function p(..._){if(this instanceof p)return h.apply(this,_),this;const x=new p(..._);return M.annotation=x,M;function M(D,L,V){const X=D.hasOwnProperty(rc)?D[rc]:Object.defineProperty(D,rc,{value:[]})[rc];for(;X.length<=V;)X.push(null);return(X[V]=X[V]||[]).push(x),D}}return d&&(p.prototype=Object.create(d.prototype)),p.prototype.ngMetadataName=o,p.annotationCls=p,p})}function so(o,a){o.forEach(d=>Array.isArray(d)?so(d,a):a(d))}function uu(o,a,d){a>=o.length?o.push(d):o.splice(a,0,d)}function Ag(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function xl(o,a){const d=[];for(let h=0;h<o;h++)d.push(a);return d}function Hs(o,a,d){let h=hu(o,a);return h>=0?o[1|h]=d:(h=~h,function Oh(o,a,d,h){let p=o.length;if(p==a)o.push(d,h);else if(1===p)o.push(h,o[0]),o[0]=d;else{for(p--,o.push(o[p-1],o[p]);p>a;)o[p]=o[p-2],p--;o[a]=d,o[a+1]=h}}(o,h,a,d)),h}function ly(o,a){const d=hu(o,a);if(d>=0)return o[1|d]}function hu(o,a){return function oo(o,a,d){let h=0,p=o.length>>d;for(;p!==h;){const _=h+(p-h>>1),x=o[_<<d];if(a===x)return _<<d;x>a?p=_:h=_+1}return~(p<<d)}(o,a,1)}const Ep=mr(Y("Optional"),8),wl=mr(Y("SkipSelf"),4);function od(o){return 128==(128&o.flags)}var Fh=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(Fh||{});const by=/^>|^->|<!--|-->|--!>|<!-$/g,oc=/(<|>)/g,Op="\u200b$1\u200b";const Vg=new Map;let lx=0;const Lp="__ngContext__";function qr(o,a){Mr(a)?(o[Lp]=a[ta],function zs(o){Vg.set(o[ta],o)}(a)):o[Lp]=a}let se;function ye(o,a){return se(o,a)}function yt(o){const a=o[Hi];return jr(a)?a[Hi]:a}function ji(o){return vu(o[Lr])}function Vo(o){return vu(o[ls])}function vu(o){for(;null!==o&&!jr(o);)o=o[ls];return o}function ld(o,a,d,h,p){if(null!=h){let _,x=!1;jr(h)?_=h:Mr(h)&&(x=!0,h=h[Vi]);const M=_i(h);0===o&&null!==d?null==p?pR(a,d,M):Up(a,d,M,p||null,!0):1===o&&null!==d?Up(a,d,M,p||null,!0):2===o?function An(o,a,d){const h=Zg(o,a);h&&function lo(o,a,d,h){o.removeChild(a,d,h)}(o,h,a,d)}(a,M,x):3===o&&a.destroyNode(M),null!=_&&function Xr(o,a,d,h,p){const _=d[Cr];_!==_i(d)&&ld(a,o,h,_,p);for(let M=Fr;M<d.length;M++){const D=d[M];Hh(D[Bt],D,o,a,h,_)}}(a,o,_,d,p)}}function Fp(o,a){return o.createComment(function xy(o){return o.replace(by,a=>a.replace(oc,Op))}(a))}function cd(o,a,d){return o.createElement(a,d)}function Cy(o,a){const d=o[Sr],h=d.indexOf(a);Zd(a),d.splice(h,1)}function Sy(o,a){if(o.length<=Fr)return;const d=Fr+a,h=o[d];if(h){const p=h[rh];null!==p&&p!==o&&Cy(p,h),a>0&&(o[d-1][ls]=h[ls]);const _=Ag(o,Fr+a);!function Bh(o,a){Hh(o,a,a[_n],2,null,null),a[Vi]=null,a[Nr]=null}(h[Bt],h);const x=_[Er];null!==x&&x.detachView(_[Bt]),h[Hi]=null,h[ls]=null,h[pn]&=-129}return h}function ux(o,a){if(!(256&a[pn])){const d=a[_n];a[kc]&&hh(a[kc]),a[Ia]&&hh(a[Ia]),d.destroyNode&&Hh(o,a,d,3,null,null),function Yg(o){let a=o[Lr];if(!a)return hx(o[Bt],o);for(;a;){let d=null;if(Mr(a))d=a[Lr];else{const h=a[Fr];h&&(d=h)}if(!d){for(;a&&!a[ls]&&a!==o;)Mr(a)&&hx(a[Bt],a),a=a[Hi];null===a&&(a=o),Mr(a)&&hx(a[Bt],a),d=a&&a[ls]}a=d}}(a)}}function hx(o,a){if(!(256&a[pn])){a[pn]&=-129,a[pn]|=256,function fx(o,a){let d;if(null!=o&&null!=(d=o.destroyHooks))for(let h=0;h<d.length;h+=2){const p=a[d[h]];if(!(p instanceof Ua)){const _=d[h+1];if(Array.isArray(_))for(let x=0;x<_.length;x+=2){const M=p[_[x]],D=_[x+1];_o(4,M,D);try{D.call(M)}finally{_o(5,M,D)}}else{_o(4,p,_);try{_.call(p)}finally{_o(5,p,_)}}}}}(o,a),function oS(o,a){const d=o.cleanup,h=a[Pc];if(null!==d)for(let _=0;_<d.length-1;_+=2)if("string"==typeof d[_]){const x=d[_+3];x>=0?h[x]():h[-x].unsubscribe(),_+=2}else d[_].call(h[d[_+1]]);null!==h&&(a[Pc]=null);const p=a[Da];if(null!==p){a[Da]=null;for(let _=0;_<p.length;_++)(0,p[_])()}}(o,a),1===a[Bt].type&&a[_n].destroy();const d=a[rh];if(null!==d&&jr(a[Hi])){d!==a[Hi]&&Cy(d,a);const h=a[Er];null!==h&&h.detachView(o)}!function bo(o){Vg.delete(o[ta])}(a)}}function My(o,a,d){return function aS(o,a,d){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return d[Vi];{const{componentOffset:p}=h;if(p>-1){const{encapsulation:_}=o.data[h.directiveStart+p];if(_===ct.None||_===ct.Emulated)return null}return Ur(h,d)}}(o,a.parent,d)}function Up(o,a,d,h,p){o.insertBefore(a,d,h,p)}function pR(o,a,d){o.appendChild(a,d)}function mR(o,a,d,h,p){null!==h?Up(o,a,d,h,p):pR(o,a,d)}function Zg(o,a){return o.parentNode(a)}function nn(o,a,d){return lS(o,a,d)}let px,Ay,vx,Ts,lS=function Gs(o,a,d){return 40&o.type?Ur(o,d):null};function Ty(o,a,d,h){const p=My(o,h,a),_=a[_n],M=nn(h.parent||a[Nr],h,a);if(null!=p)if(Array.isArray(d))for(let D=0;D<d.length;D++)mR(_,p,d[D],M,!1);else mR(_,p,d,M,!1);void 0!==px&&px(_,h,a,d,p)}function Bp(o,a){if(null!==a){const d=a.type;if(3&d)return Ur(a,o);if(4&d)return Vh(-1,o[a.index]);if(8&d){const h=a.child;if(null!==h)return Bp(o,h);{const p=o[a.index];return jr(p)?Vh(-1,p):_i(p)}}if(32&d)return ye(a,o)()||_i(o[a.index]);{const h=dS(o,a);return null!==h?Array.isArray(h)?h[0]:Bp(yt(o[zi]),h):Bp(o,a.next)}}return null}function dS(o,a){return null!==a?o[zi][Nr].projection[a.projection]:null}function Vh(o,a){const d=Fr+o+1;if(d<a.length){const h=a[d],p=h[Bt].firstChild;if(null!==p)return Bp(h,p)}return a[Cr]}function mx(o,a,d,h,p,_,x){for(;null!=d;){const M=h[d.index],D=d.type;if(x&&0===a&&(M&&qr(_i(M),h),d.flags|=2),32!=(32&d.flags))if(8&D)mx(o,a,d.child,h,p,_,!1),ld(a,o,p,M,_);else if(32&D){const L=ye(d,h);let V;for(;V=L();)ld(a,o,p,V,_);ld(a,o,p,M,_)}else 16&D?gx(o,a,h,d,p,_):ld(a,o,p,M,_);d=x?d.projectionNext:d.next}}function Hh(o,a,d,h,p,_){mx(d,h,o.firstChild,a,p,_,!1)}function gx(o,a,d,h,p,_){const x=d[zi],D=x[Nr].projection[h.projection];if(Array.isArray(D))for(let L=0;L<D.length;L++)ld(a,o,p,D[L],_);else{let L=D;const V=x[Hi];od(h)&&(L.flags|=128),mx(o,a,L,V,p,_,!0)}}function hS(o,a,d){""===d?o.removeAttribute(a,"class"):o.setAttribute(a,"class",d)}function _x(o,a,d){const{mergedAttrs:h,classes:p,styles:_}=d;null!==h&&Sa(o,a,h),null!==p&&hS(o,a,p),null!==_&&function zh(o,a,d){o.setAttribute(a,"style",d)}(o,a,_)}function ac(o){return function Hp(){if(void 0===Ay&&(Ay=null,yi.trustedTypes))try{Ay=yi.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Ay}()?.createHTML(o)||o}function Jg(o){vx=o}function Ho(){if(void 0!==vx)return vx;if(typeof document<"u")return document;throw new Me(210,!1)}function Kr(){if(void 0===Ts&&(Ts=null,yi.trustedTypes))try{Ts=yi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Ts}function Dy(o){return Kr()?.createHTML(o)||o}function an(o){return Kr()?.createScriptURL(o)||o}class ki{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tn})`}}class Ir extends ki{getTypeName(){return"HTML"}}class dd extends ki{getTypeName(){return"Style"}}class tr extends ki{getTypeName(){return"Script"}}class Ws extends ki{getTypeName(){return"URL"}}class Ry extends ki{getTypeName(){return"ResourceURL"}}function lc(o){return o instanceof ki?o.changingThisBreaksApplicationSecurity:o}function zp(o,a){const d=function bu(o){return o instanceof ki&&o.getTypeName()||null}(o);if(null!=d&&d!==a){if("ResourceURL"===d&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${d} (see ${tn})`)}return d===a}function Gp(o){return new Ir(o)}function js(o){return new dd(o)}function Wh(o){return new tr(o)}function vR(o){return new Ws(o)}function yx(o){return new Ry(o)}class yR{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const d=(new window.DOMParser).parseFromString(ac(a),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(a):(d.removeChild(d.firstChild),d)}catch{return null}}}class fS{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const d=this.inertDocument.createElement("template");return d.innerHTML=ac(a),d}}const bx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ci(o){return(o=String(o)).match(bx)?o:"unsafe:"+o}function Dn(o){const a={};for(const d of o.split(","))a[d]=!0;return a}function ud(...o){const a={};for(const d of o)for(const h in d)d.hasOwnProperty(h)&&(a[h]=!0);return a}const pS=Dn("area,br,col,hr,img,wbr"),jh=Dn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),mS=Dn("rp,rt"),ky=ud(pS,ud(jh,Dn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ud(mS,Dn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ud(mS,jh)),cc=Dn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xx=ud(cc,Dn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Dn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wR=Dn("script,style,template");class gS{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let d=a.firstChild,h=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?h=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,h&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let p=this.checkClobberedElement(d,d.nextSibling);if(p){d=p;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(a){const d=a.nodeName.toLowerCase();if(!ky.hasOwnProperty(d))return this.sanitizedSomething=!0,!wR.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const h=a.attributes;for(let p=0;p<h.length;p++){const _=h.item(p),x=_.name,M=x.toLowerCase();if(!xx.hasOwnProperty(M)){this.sanitizedSomething=!0;continue}let D=_.value;cc[M]&&(D=Ci(D)),this.buf.push(" ",x,'="',wx(D),'"')}return this.buf.push(">"),!0}endElement(a){const d=a.nodeName.toLowerCase();ky.hasOwnProperty(d)&&!pS.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(a){this.buf.push(wx(a))}checkClobberedElement(a,d){if(d&&(a.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return d}}const ER=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_S=/([^\#-~ |!])/g;function wx(o){return o.replace(/&/g,"&amp;").replace(ER,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(_S,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $h;function Yh(o,a){let d=null;try{$h=$h||function Py(o){const a=new fS(o);return function Qg(){try{return!!(new window.DOMParser).parseFromString(ac(""),"text/html")}catch{return!1}}()?new yR(a):a}(o);let h=a?String(a):"";d=$h.getInertBodyElement(h);let p=5,_=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=_,_=d.innerHTML,d=$h.getInertBodyElement(h)}while(h!==_);return ac((new gS).sanitizeChildren(Di(d)||d))}finally{if(d){const h=Di(d)||d;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Di(o){return"content"in o&&function e_(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var qh=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(qh||{});function xu(o){const a=wu();return a?Dy(a.sanitize(qh.HTML,o)||""):zp(o,"HTML")?Dy(lc(o)):Yh(Ho(),Ee(o))}function Wp(o){const a=wu();return a?a.sanitize(qh.URL,o)||"":zp(o,"URL")?lc(o):Ci(Ee(o))}function Oy(o){const a=wu();if(a)return an(a.sanitize(qh.RESOURCE_URL,o)||"");if(zp(o,"ResourceURL"))return an(lc(o));throw new Me(904,!1)}function n_(o,a,d){return function vS(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?Oy:Wp}(a,d)(o)}function wu(){const o=et();return o&&o[$l].sanitizer}class Si{constructor(a,d){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=kn({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const jp=new Si("ENVIRONMENT_INITIALIZER"),bS=new Si("INJECTOR",-1),xS=new Si("INJECTOR_DEF_TYPES");class Ex{get(a,d=ys){if(d===ys){const h=new Error(`NullInjectorError: No provider for ${ve(a)}!`);throw h.name="NullInjectorError",h}return d}}function i_(o){return{\u0275providers:o}}function MR(...o){return{\u0275providers:wS(0,o),\u0275fromNgModule:!0}}function wS(o,...a){const d=[],h=new Set;let p;const _=x=>{d.push(x)};return so(a,x=>{const M=x;Ly(M,_,[],h)&&(p||=[],p.push(M))}),void 0!==p&&ES(p,_),d}function ES(o,a){for(let d=0;d<o.length;d++){const{ngModule:h,providers:p}=o[d];Cx(p,_=>{a(_,h)})}}function Ly(o,a,d,h){if(!(o=ut(o)))return!1;let p=null,_=ba(o);const x=!_&&ti(o);if(_||x){if(x&&!x.standalone)return!1;p=o}else{const D=o.ngModule;if(_=ba(D),!_)return!1;p=D}const M=h.has(p);if(x){if(M)return!1;if(h.add(p),x.dependencies){const D="function"==typeof x.dependencies?x.dependencies():x.dependencies;for(const L of D)Ly(L,a,d,h)}}else{if(!_)return!1;{if(null!=_.imports&&!M){let L;h.add(p);try{so(_.imports,V=>{Ly(V,a,d,h)&&(L||=[],L.push(V))})}finally{}void 0!==L&&ES(L,a)}if(!M){const L=sl(p)||(()=>new p);a({provide:p,useFactory:L,deps:It},p),a({provide:xS,useValue:p,multi:!0},p),a({provide:jp,useValue:()=>mn(p),multi:!0},p)}const D=_.providers;if(null!=D&&!M){const L=o;Cx(D,V=>{a(V,L)})}}}return p!==o&&void 0!==o.providers}function Cx(o,a){for(let d of o)gt(d)&&(d=d.\u0275providers),Array.isArray(d)?Cx(d,a):a(d)}const TR=te({provide:String,useValue:te});function Fy(o){return null!==o&&"object"==typeof o&&TR in o}function aa(o){return"function"==typeof o}const Uy=new Si("Set Injector scope."),r_={},By={};let Zh;function $p(){return void 0===Zh&&(Zh=new Ex),Zh}class Ml{}class s_ extends Ml{get destroyed(){return this._destroyed}constructor(a,d,h,p){super(),this.parent=d,this.source=h,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,a_(a,x=>this.processProvider(x)),this.records.set(bS,Yp(void 0,this)),p.has("environment")&&this.records.set(Ml,Yp(void 0,this));const _=this.records.get(Uy);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(xS.multi,It,on.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const d of this._ngOnDestroyHooks)d.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const d of a)d()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const d=Ft(this),h=Ti(void 0);try{return a()}finally{Ft(d),Ti(h)}}get(a,d=ys,h=on.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(zl))return a[zl](this);h=Xi(h);const _=Ft(this),x=Ti(void 0);try{if(!(h&on.SkipSelf)){let D=this.records.get(a);if(void 0===D){const L=function IR(o){return"function"==typeof o||"object"==typeof o&&o instanceof Si}(a)&&yr(a);D=L&&this.injectableDefInScope(L)?Yp(Mx(a),r_):null,this.records.set(a,D)}if(null!=D)return this.hydrate(a,D)}return(h&on.Self?$p():this.parent).get(a,d=h&on.Optional&&d===ys?null:d)}catch(M){if("NullInjectorError"===M.name){if((M[Xs]=M[Xs]||[]).unshift(ve(a)),_)throw M;return function Qo(o,a,d,h){const p=o[Xs];throw a[ue]&&p.unshift(a[ue]),o.message=function Ac(o,a,d,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let p=ve(a);if(Array.isArray(a))p=a.map(ve).join(" -> ");else if("object"==typeof a){let _=[];for(let x in a)if(a.hasOwnProperty(x)){let M=a[x];_.push(x+":"+("string"==typeof M?JSON.stringify(M):ve(M)))}p=`{${_.join(", ")}}`}return`${d}${h?"("+h+")":""}[${p}]: ${o.replace(re,"\n  ")}`}("\n"+o.message,p,d,h),o.ngTokenPath=p,o[Xs]=null,o}(M,a,"R3InjectorError",this.source)}throw M}finally{Ti(x),Ft(_)}}resolveInjectorInitializers(){const a=Ft(this),d=Ti(void 0);try{const p=this.get(jp.multi,It,on.Self);for(const _ of p)_()}finally{Ft(a),Ti(d)}}toString(){const a=[],d=this.records;for(const h of d.keys())a.push(ve(h));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processProvider(a){let d=aa(a=ut(a))?a:ut(a&&a.provide);const h=function DR(o){return Fy(o)?Yp(void 0,o.useValue):Yp(SS(o),r_)}(a);if(aa(a)||!0!==a.multi)this.records.get(d);else{let p=this.records.get(d);p||(p=Yp(void 0,r_,!0),p.factory=()=>ei(p.multi),this.records.set(d,p)),d=a,p.multi.push(a)}this.records.set(d,h)}hydrate(a,d){return d.value===r_&&(d.value=By,d.value=d.factory()),"object"==typeof d.value&&d.value&&function o_(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(a){if(!a.providedIn)return!1;const d=ut(a.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}removeOnDestroy(a){const d=this._onDestroyHooks.indexOf(a);-1!==d&&this._onDestroyHooks.splice(d,1)}}function Mx(o){const a=yr(o),d=null!==a?a.factory:sl(o);if(null!==d)return d;if(o instanceof Si)throw new Me(204,!1);if(o instanceof Function)return function Vy(o){const a=o.length;if(a>0)throw xl(a,"?"),new Me(204,!1);const d=function Os(o){return o&&(o[Ns]||o[xa])||null}(o);return null!==d?()=>d.factory(o):()=>new o}(o);throw new Me(204,!1)}function SS(o,a,d){let h;if(aa(o)){const p=ut(o);return sl(p)||Mx(p)}if(Fy(o))h=()=>ut(o.useValue);else if(function CS(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...ei(o.deps||[]));else if(function Sx(o){return!(!o||!o.useExisting)}(o))h=()=>mn(ut(o.useExisting));else{const p=ut(o&&(o.useClass||o.provide));if(!function MS(o){return!!o.deps}(o))return sl(p)||Mx(p);h=()=>new p(...ei(o.deps))}return h}function Yp(o,a,d=!1){return{factory:o,value:a,multi:d?[]:void 0}}function a_(o,a){for(const d of o)Array.isArray(d)?a_(d,a):d&&gt(d)?a_(d.\u0275providers,a):a(d)}const TS=new Si("AppId",{providedIn:"root",factory:()=>AS}),AS="ng",Tx=new Si("Platform Initializer"),Xh=new Si("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Hy=new Si("AnimationModuleType"),Eu=new Si("CSP nonce",{providedIn:"root",factory:()=>Ho().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ox=(o,a,d)=>null;function Tl(o,a,d=!1){return Ox(o,a,d)}class Bx{}class jy{}class OS{resolveComponentFactory(a){throw function Vx(o){const a=Error(`No component factory found for ${ve(o)}.`);return a.ngComponent=o,a}(a)}}let __=(()=>{class o{static#e=this.NULL=new OS}return o})();function v_(){return Jp(Dr(),et())}function Jp(o,a){return new y_(Ur(o,a))}let y_=(()=>{class o{constructor(d){this.nativeElement=d}static#e=this.__NG_ELEMENT_ID__=v_}return o})();function zx(o){return o instanceof y_?o.nativeElement:o}class Gx{}let NS=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function PR(){const o=et(),d=Br(Dr().index,o);return(Mr(d)?d:o)[_n]}()}return o})(),LS=(()=>{class o{static#e=this.\u0275prov=kn({token:o,providedIn:"root",factory:()=>null})}return o})();class Wx{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const FS=new Wx("16.2.9"),US={};function FR(o,a=null,d=null,h){const p=HS(o,a,d,h);return p.resolveInjectorInitializers(),p}function HS(o,a=null,d=null,h,p=new Set){const _=[d||It,MR(o)];return h=h||("object"==typeof o?void 0:ve(o)),new s_(_,a||$p(),h||null,p)}let Dl=(()=>{class o{static#e=this.THROW_IF_NOT_FOUND=ys;static#t=this.NULL=new Ex;static create(d,h){if(Array.isArray(d))return FR({name:""},h,d,"");{const p=d.name??"";return FR({name:p},d.parent,d.providers,p)}}static#n=this.\u0275prov=kn({token:o,providedIn:"any",factory:()=>mn(bS)});static#i=this.__NG_ELEMENT_ID__=-1}return o})();function Yx(o){return o.ngOriginalError}class Cu{constructor(){this._console=console}handleError(a){const d=this._findOriginalError(a);this._console.error("ERROR",a),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(a){let d=a&&Yx(a);for(;d&&Yx(d);)d=Yx(d);return d||null}}function Jh(o){return a=>{setTimeout(o,void 0,a)}}const zo=class UR extends c.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,d,h){let p=a,_=d||(()=>null),x=h;if(a&&"object"==typeof a){const D=a;p=D.next?.bind(D),_=D.error?.bind(D),x=D.complete?.bind(D)}this.__isAsync&&(_=Jh(_),p&&(p=Jh(p)),x&&(x=Jh(x)));const M=super.subscribe({next:p,error:_,complete:x});return a instanceof _e.w0&&a.add(M),M}};function zS(...o){}class As{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zo(!1),this.onMicrotaskEmpty=new zo(!1),this.onStable=new zo(!1),this.onError=new zo(!1),typeof Zone>"u")throw new Me(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&d,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function BR(){const o="function"==typeof yi.requestAnimationFrame;let a=yi[o?"requestAnimationFrame":"setTimeout"],d=yi[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&d){const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h);const p=d[Zone.__symbol__("OriginalDelegate")];p&&(d=p)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function HR(o){const a=()=>{!function WF(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(yi,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,qy(o),o.isCheckStableRunning=!0,qx(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),qy(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,h,p,_,x,M)=>{if(function GR(o){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0].data?.__ignore_ng_zone__}(M))return d.invokeTask(p,_,x,M);try{return x_(o),d.invokeTask(p,_,x,M)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||o.shouldCoalesceRunChangeDetection)&&a(),Qh(o)}},onInvoke:(d,h,p,_,x,M,D)=>{try{return x_(o),d.invoke(p,_,x,M,D)}finally{o.shouldCoalesceRunChangeDetection&&a(),Qh(o)}},onHasTask:(d,h,p,_)=>{d.hasTask(p,_),h===p&&("microTask"==_.change?(o._hasPendingMicrotasks=_.microTask,qy(o),qx(o)):"macroTask"==_.change&&(o.hasPendingMacrotasks=_.macroTask))},onHandleError:(d,h,p,_)=>(d.handleError(p,_),o.runOutsideAngular(()=>o.onError.emit(_)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!As.isInAngularZone())throw new Me(909,!1)}static assertNotInAngularZone(){if(As.isInAngularZone())throw new Me(909,!1)}run(a,d,h){return this._inner.run(a,d,h)}runTask(a,d,h,p){const _=this._inner,x=_.scheduleEventTask("NgZoneEvent: "+p,a,VR,zS,zS);try{return _.runTask(x,d,h)}finally{_.cancelTask(x)}}runGuarded(a,d,h){return this._inner.runGuarded(a,d,h)}runOutsideAngular(a){return this._outer.run(a)}}const VR={};function qx(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function qy(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function x_(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Qh(o){o._nesting--,qx(o)}class zR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zo,this.onMicrotaskEmpty=new zo,this.onStable=new zo,this.onError=new zo}run(a,d,h){return a.apply(d,h)}runGuarded(a,d,h){return a.apply(d,h)}runOutsideAngular(a){return a()}runTask(a,d,h,p){return a.apply(d,h)}}const GS=new Si("",{providedIn:"root",factory:WS});function WS(){const o=Rn(As);let a=!0;const d=new $.y(p=>{a=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{p.next(a),p.complete()})}),h=new $.y(p=>{let _;o.runOutsideAngular(()=>{_=o.onStable.subscribe(()=>{As.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(a=!0,p.next(!0))})})});const x=o.onUnstable.subscribe(()=>{As.assertInAngularZone(),a&&(a=!1,o.runOutsideAngular(()=>{p.next(!1)}))});return()=>{_.unsubscribe(),x.unsubscribe()}});return(0,we.T)(d,h.pipe((0,ze.B)()))}function pd(o){return o instanceof Function?o():o}let Xy=(()=>{class o{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=kn({token:o,providedIn:"root",factory:()=>new o})}return o})();function w_(o){for(;o;){o[pn]|=64;const a=yt(o);if(ql(o)&&!a)return o;o=a}return null}const Jy=new Si("",{providedIn:"root",factory:()=>!1});let Qy=null;function Jx(o,a){return o[a]??JS()}function XR(o,a){const d=JS();d.producerNode?.length&&(o[a]=Qy,d.lView=o,Qy=Qx())}const KS={...al,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{w_(o.lView)},lView:null};function Qx(){return Object.create(KS)}function JS(){return Qy??=Qx(),Qy}const zn={};function QS(o){eM(Xn(),et(),jn()+o,!1)}function eM(o,a,d,h){if(!h)if(3==(3&a[pn])){const _=o.preOrderCheckHooks;null!==_&&$c(a,_,d)}else{const _=o.preOrderHooks;null!==_&&su(a,_,0,d)}no(d)}function em(o,a=on.Default){const d=et();return null===d?mn(o,a):yo(Dr(),d,ut(o),a)}function tM(){throw new Error("invalid")}function tm(o,a,d,h,p,_,x,M,D,L,V){const X=a.blueprint.slice();return X[Vi]=p,X[pn]=140|h,(null!==L||o&&2048&o[pn])&&(X[pn]|=2048),bg(X),X[Hi]=X[Aa]=o,X[mi]=d,X[$l]=x||o&&o[$l],X[_n]=M||o&&o[_n],X[ea]=D||o&&o[ea]||null,X[Nr]=_,X[ta]=function wy(){return lx++}(),X[Fs]=V,X[na]=L,X[zi]=2==a.type?o[zi]:X,X}function Il(o,a,d,h,p){let _=o.data[a];if(null===_)_=function E_(o,a,d,h,p){const _=tu(),x=fl(),D=o.data[a]=function rM(o,a,d,h,p,_){let x=a?a.injectorIndex:-1,M=0;return Oo()&&(M|=128),{type:d,index:h,insertBeforeIndex:null,injectorIndex:x,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:M,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,x?_:_&&_.parent,d,a,h,p);return null===o.firstChild&&(o.firstChild=D),null!==_&&(x?null==_.child&&null!==D.parent&&(_.child=D):null===_.next&&(_.next=D,D.prev=_)),D}(o,a,d,h,p),function Ch(){return vn.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=d,_.value=h,_.attrs=p;const x=function tc(){const o=vn.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();_.injectorIndex=null===x?-1:x.injectorIndex}return Oa(_,!0),_}function C_(o,a,d,h){if(0===d)return-1;const p=a.length;for(let _=0;_<d;_++)a.push(h),o.blueprint.push(h),o.data.push(null);return p}function iM(o,a,d,h,p){const _=Jx(a,kc),x=jn(),M=2&h;try{no(-1),M&&a.length>Fn&&eM(o,a,Fn,!1),_o(M?2:0,p);const L=M?_:null,V=Qf(L);try{null!==L&&(L.dirty=!1),d(h,p)}finally{Tr(L,V)}}finally{M&&null===a[kc]&&XR(a,kc),no(x),_o(M?3:1,p)}}function eb(o,a,d){if(Gd(a)){const h=Es(null);try{const _=a.directiveEnd;for(let x=a.directiveStart;x<_;x++){const M=o.data[x];M.contentQueries&&M.contentQueries(1,d[x],x)}}finally{Es(h)}}}function nm(o,a,d){Vr()&&(function XF(o,a,d,h){const p=d.directiveStart,_=d.directiveEnd;rl(d)&&function JF(o,a,d){const h=Ur(a,o),p=ew(d);let x=16;d.signals?x=4096:d.onPush&&(x=64);const M=A_(o,tm(o,p,null,x,h,a,null,o[$l].rendererFactory.createRenderer(h,d),null,null,null));o[a.index]=M}(a,d,o.data[p+d.componentOffset]),o.firstCreatePass||vl(d,a),qr(h,a);const x=d.initialInputs;for(let M=p;M<_;M++){const D=o.data[M],L=oa(a,o,M,d);qr(L,a),null!==x&&pM(0,M-p,L,D,0,x),ws(D)&&(Br(d.index,a)[mi]=oa(a,o,M,d))}}(o,a,d,Ur(d,a)),64==(64&d.flags)&&dM(o,a,d))}function tb(o,a,d=Ur){const h=a.localNames;if(null!==h){let p=a.index+1;for(let _=0;_<h.length;_+=2){const x=h[_+1],M=-1===x?d(a,o):o[x];o[p++]=M}}}function ew(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=tw(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):a}function tw(o,a,d,h,p,_,x,M,D,L,V){const X=Fn+h,de=X+p,ge=function KR(o,a){const d=[];for(let h=0;h<a;h++)d.push(h<o?null:zn);return d}(X,de),We="function"==typeof L?L():L;return ge[Bt]={type:o,blueprint:ge,template:d,queries:null,viewQuery:M,declTNode:a,data:ge.slice().fill(null,X),bindingStartIndex:X,expandoStartIndex:de,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof x?x():x,firstChild:null,schemas:D,consts:We,incompleteFirstPass:!1,ssrId:V}}let S_=o=>null;function sM(o,a,d,h){for(let p in o)if(o.hasOwnProperty(p)){d=null===d?{}:d;const _=o[p];null===h?oM(d,a,p,_):h.hasOwnProperty(p)&&oM(d,a,h[p],_)}return d}function oM(o,a,d,h){o.hasOwnProperty(d)?o[d].push(a,h):o[d]=[a,h]}function $i(o,a,d,h,p,_,x,M){const D=Ur(a,d);let V,L=a.inputs;!M&&null!=L&&(V=L[h])?(rb(o,d,V,h,p),rl(a)&&function s1(o,a){const d=Br(a,o);16&d[pn]||(d[pn]|=64)}(d,a.index)):3&a.type&&(h=function r1(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),p=null!=x?x(p,a.value||"",h):p,_.setProperty(D,h,p))}function nw(o,a,d,h){if(Vr()){const p=null===h?null:{"":-1},_=function uM(o,a){const d=o.directiveRegistry;let h=null,p=null;if(d)for(let _=0;_<d.length;_++){const x=d[_];if(Dc(a,x.selectors,!1))if(h||(h=[]),ws(x))if(null!==x.findHostDirectiveDefs){const M=[];p=p||new Map,x.findHostDirectiveDefs(x,M,p),h.unshift(...M,x),hM(o,a,M.length)}else h.unshift(x),hM(o,a,0);else p=p||new Map,x.findHostDirectiveDefs?.(x,h,p),h.push(x)}return null===h?null:[h,p]}(o,d);let x,M;null===_?x=M=null:[x,M]=_,null!==x&&lM(o,a,d,x,p,M),p&&function fM(o,a,d){if(a){const h=o.localNames=[];for(let p=0;p<a.length;p+=2){const _=d[a[p+1]];if(null==_)throw new Me(-301,!1);h.push(a[p],_)}}}(d,h,p)}d.mergedAttrs=Qa(d.mergedAttrs,d.attrs)}function lM(o,a,d,h,p,_){for(let L=0;L<h.length;L++)Kc(vl(d,a),o,h[L].type);!function o1(o,a,d){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+d,o.providerIndexes=a}(d,o.data.length,h.length);for(let L=0;L<h.length;L++){const V=h[L];V.providersResolver&&V.providersResolver(V)}let x=!1,M=!1,D=C_(o,a,h.length,null);for(let L=0;L<h.length;L++){const V=h[L];d.mergedAttrs=Qa(d.mergedAttrs,V.hostAttrs),KF(o,d,a,D,V),md(D,V,p),null!==V.contentQueries&&(d.flags|=4),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(d.flags|=64);const X=V.type.prototype;!x&&(X.ngOnChanges||X.ngOnInit||X.ngDoCheck)&&((o.preOrderHooks??=[]).push(d.index),x=!0),!M&&(X.ngOnChanges||X.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(d.index),M=!0),D++}!function n1(o,a,d){const p=a.directiveEnd,_=o.data,x=a.attrs,M=[];let D=null,L=null;for(let V=a.directiveStart;V<p;V++){const X=_[V],de=d?d.get(X):null,We=de?de.outputs:null;D=sM(X.inputs,V,D,de?de.inputs:null),L=sM(X.outputs,V,L,We);const st=null===D||null===x||bs(a)?null:a1(D,V,x);M.push(st)}null!==D&&(D.hasOwnProperty("class")&&(a.flags|=8),D.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=M,a.inputs=D,a.outputs=L}(o,d,_)}function dM(o,a,d){const h=d.directiveStart,p=d.directiveEnd,_=d.index,x=function iy(){return vn.lFrame.currentDirectiveIndex}();try{no(_);for(let M=h;M<p;M++){const D=o.data[M],L=a[M];iu(M),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&iw(D,L)}}finally{no(-1),iu(x)}}function iw(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function hM(o,a,d){a.componentOffset=d,(o.components??=[]).push(a.index)}function md(o,a,d){if(d){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)d[a.exportAs[h]]=o;ws(a)&&(d[""]=o)}}function KF(o,a,d,h,p){o.data[h]=p;const _=p.factory||(p.factory=sl(p.type)),x=new Ua(_,ws(p),em);o.blueprint[h]=x,d[h]=x,function cM(o,a,d,h,p){const _=p.hostBindings;if(_){let x=o.hostBindingOpCodes;null===x&&(x=o.hostBindingOpCodes=[]);const M=~a.index;(function ZF(o){let a=o.length;for(;a>0;){const d=o[--a];if("number"==typeof d&&d<0)return d}return 0})(x)!=M&&x.push(M),x.push(d,h,_)}}(o,a,h,C_(o,d,p.hostVars,zn),p)}function gd(o,a,d,h,p,_){const x=Ur(o,a);!function nb(o,a,d,h,p,_,x){if(null==_)o.removeAttribute(a,p,d);else{const M=null==x?Ee(_):x(_,h||"",p);o.setAttribute(a,p,M,d)}}(a[_n],x,_,o.value,d,h,p)}function pM(o,a,d,h,p,_){const x=_[a];if(null!==x)for(let M=0;M<x.length;)ib(h,d,x[M++],x[M++],x[M++])}function ib(o,a,d,h,p){const _=Es(null);try{const x=o.inputTransforms;null!==x&&x.hasOwnProperty(h)&&(p=x[h].call(a,p)),null!==o.setInput?o.setInput(a,p,d,h):a[h]=p}finally{Es(_)}}function a1(o,a,d){let h=null,p=0;for(;p<d.length;){const _=d[p];if(0!==_)if(5!==_){if("number"==typeof _)break;if(o.hasOwnProperty(_)){null===h&&(h=[]);const x=o[_];for(let M=0;M<x.length;M+=2)if(x[M]===a){h.push(_,x[M+1],d[p+1]);break}}p+=2}else p+=2;else p+=4}return h}function mM(o,a,d,h){return[o,!0,!1,a,null,0,h,d,null,null,null]}function l1(o,a){const d=o.contentQueries;if(null!==d)for(let h=0;h<d.length;h+=2){const _=d[h+1];if(-1!==_){const x=o.data[_];hp(d[h]),x.contentQueries(2,a[_],_)}}}function A_(o,a){return o[Lr]?o[Yf][ls]=a:o[Lr]=a,o[Yf]=a,a}function rw(o,a,d){hp(0);const h=Es(null);try{a(o,d)}finally{Es(h)}}function c1(o){return o[Pc]||(o[Pc]=[])}function d1(o){return o.cleanup||(o.cleanup=[])}function gM(o,a,d){return(null===o||ws(o))&&(d=function ka(o){for(;Array.isArray(o);){if("object"==typeof o[Yl])return o;o=o[Vi]}return null}(d[a.index])),d[_n]}function u1(o,a){const d=o[ea],h=d?d.get(Cu,null):null;h&&h.handleError(a)}function rb(o,a,d,h,p){for(let _=0;_<d.length;){const x=d[_++],M=d[_++];ib(o.data[x],a[x],h,M,p)}}function h1(o,a){const d=Br(a,o),h=d[Bt];!function sw(o,a){for(let d=a.length;d<o.blueprint.length;d++)a.push(o.blueprint[d])}(h,d);const p=d[Vi];null!==p&&null===d[Fs]&&(d[Fs]=Tl(p,d[ea])),ow(h,d,d[mi])}function ow(o,a,d){Na(a);try{const h=o.viewQuery;null!==h&&rw(1,h,d);const p=o.template;null!==p&&iM(o,a,p,1,d),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&l1(o,a),o.staticViewQueries&&rw(2,o.viewQuery,d);const _=o.components;null!==_&&function f1(o,a){for(let d=0;d<a.length;d++)h1(o,a[d])}(a,_)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{a[pn]&=-5,nc()}}let _M=(()=>{class o{constructor(){this.all=new Set,this.queue=new Map}create(d,h,p){const _=typeof Zone>"u"?null:Zone.current,x=function Qv(o,a,d){const h=Object.create(fg);d&&(h.consumerAllowSignalWrites=!0),h.fn=o,h.schedule=a;const p=x=>{h.cleanupFn=x};return h.ref={notify:()=>Fc(h),run:()=>{if(h.dirty=!1,h.hasRun&&!uh(h))return;h.hasRun=!0;const x=Qf(h);try{h.cleanupFn(),h.cleanupFn=_h,h.fn(p)}finally{Tr(h,x)}},cleanup:()=>h.cleanupFn()},h.ref}(d,L=>{this.all.has(L)&&this.queue.set(L,_)},p);let M;this.all.add(x),x.notify();const D=()=>{x.cleanup(),M?.(),this.all.delete(x),this.queue.delete(x)};return M=h?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[d,h]of this.queue)this.queue.delete(d),h?h.run(()=>d.run()):d.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=kn({token:o,providedIn:"root",factory:()=>new o})}return o})();function sb(o,a,d){let h=d?o.styles:null,p=d?o.classes:null,_=0;if(null!==a)for(let x=0;x<a.length;x++){const M=a[x];"number"==typeof M?_=M:1==_?p=vt(p,M):2==_&&(h=vt(h,M+": "+a[++x]+";"))}d?o.styles=h:o.stylesWithoutHost=h,d?o.classes=p:o.classesWithoutHost=p}function im(o,a,d,h,p=!1){for(;null!==d;){const _=a[d.index];null!==_&&h.push(_i(_)),jr(_)&&vM(_,h);const x=d.type;if(8&x)im(o,a,d.child,h);else if(32&x){const M=ye(d,a);let D;for(;D=M();)h.push(D)}else if(16&x){const M=dS(a,d);if(Array.isArray(M))h.push(...M);else{const D=yt(a[zi]);im(D[Bt],D,M,h,!0)}}d=p?d.projectionNext:d.next}return h}function vM(o,a){for(let d=Fr;d<o.length;d++){const h=o[d],p=h[Bt].firstChild;null!==p&&im(h[Bt],h,p,a)}o[Cr]!==o[Vi]&&a.push(o[Cr])}function aw(o,a,d,h=!0){const p=a[$l],_=p.rendererFactory,x=p.afterRenderEventManager;_.begin?.(),x?.begin();try{m1(o,a,o.template,d)}catch(D){throw h&&u1(a,D),D}finally{_.end?.(),p.effectManager?.flush(),x?.end()}}function m1(o,a,d,h){const p=a[pn];if(256!=(256&p)){a[$l].effectManager?.flush(),Na(a);try{bg(a),function dp(o){return vn.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==d&&iM(o,a,d,2,h);const x=3==(3&p);if(x){const L=o.preOrderCheckHooks;null!==L&&$c(a,L,null)}else{const L=o.preOrderHooks;null!==L&&su(a,L,0,null),Yc(a,0)}if(function e2(o){for(let a=ji(o);null!==a;a=Vo(a)){if(!a[zd])continue;const d=a[Sr];for(let h=0;h<d.length;h++){bh(d[h])}}}(a),g1(a,2),null!==o.contentQueries&&l1(o,a),x){const L=o.contentCheckHooks;null!==L&&$c(a,L)}else{const L=o.contentHooks;null!==L&&su(a,L,1),Yc(a,1)}!function nM(o,a){const d=o.hostBindingOpCodes;if(null===d)return;const h=Jx(a,Ia);try{for(let p=0;p<d.length;p++){const _=d[p];if(_<0)no(~_);else{const x=_,M=d[++p],D=d[++p];nu(M,x),h.dirty=!1;const L=Qf(h);try{D(2,a[x])}finally{Tr(h,L)}}}}finally{null===a[Ia]&&XR(a,Ia),no(-1)}}(o,a);const M=o.components;null!==M&&_1(a,M,0);const D=o.viewQuery;if(null!==D&&rw(2,D,h),x){const L=o.viewCheckHooks;null!==L&&$c(a,L)}else{const L=o.viewHooks;null!==L&&su(a,L,2),Yc(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[pn]&=-73,Zd(a)}finally{nc()}}}function g1(o,a){for(let d=ji(o);null!==d;d=Vo(d))for(let h=Fr;h<d.length;h++)ob(d[h],a)}function vd(o,a,d){ob(Br(a,o),d)}function ob(o,a){if(!function ec(o){return 128==(128&o[pn])}(o))return;const d=o[Bt],h=o[pn];if(80&h&&0===a||1024&h||2===a)m1(d,o,d.template,o[mi]);else if(o[tl]>0){g1(o,1);const p=d.components;null!==p&&_1(o,p,1)}}function _1(o,a,d){for(let h=0;h<a.length;h++)vd(o,a[h],d)}class ab{get rootNodes(){const a=this._lView,d=a[Bt];return im(d,a,d.firstChild,[])}constructor(a,d){this._lView=a,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mi]}set context(a){this._lView[mi]=a}get destroyed(){return 256==(256&this._lView[pn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Hi];if(jr(a)){const d=a[8],h=d?d.indexOf(this):-1;h>-1&&(Sy(a,h),Ag(d,h))}this._attachedToViewContainer=!1}ux(this._lView[Bt],this._lView)}onDestroy(a){!function Pi(o,a){if(256==(256&o[pn]))throw new Me(911,!1);null===o[Da]&&(o[Da]=[]),o[Da].push(a)}(this._lView,a)}markForCheck(){w_(this._cdRefInjectingView||this._lView)}detach(){this._lView[pn]&=-129}reattach(){this._lView[pn]|=128}detectChanges(){aw(this._lView[Bt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $g(o,a){Hh(o,a,a[_n],2,null,null)}(this._lView[Bt],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Me(902,!1);this._appRef=a}}class v1 extends ab{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;aw(a[Bt],a,a[mi],!1)}checkNoChanges(){}get context(){return null}}class lw extends __{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const d=ti(a);return new rm(d,this.ngModule)}}function yM(o){const a=[];for(let d in o)o.hasOwnProperty(d)&&a.push({propName:o[d],templateName:d});return a}class n2{constructor(a,d){this.injector=a,this.parentInjector=d}get(a,d,h){h=Xi(h);const p=this.injector.get(a,US,h);return p!==US||d===US?p:this.parentInjector.get(a,d,h)}}class rm extends jy{get inputs(){const a=this.componentDef,d=a.inputTransforms,h=yM(a.inputs);if(null!==d)for(const p of h)d.hasOwnProperty(p.propName)&&(p.transform=d[p.propName]);return h}get outputs(){return yM(this.componentDef.outputs)}constructor(a,d){super(),this.componentDef=a,this.ngModule=d,this.componentType=a.type,this.selector=function jf(o){return o.map(Fd).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!d}create(a,d,h,p){let _=(p=p||this.ngModule)instanceof Ml?p:p?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const x=_?new n2(a,_):a,M=x.get(Gx,null);if(null===M)throw new Me(407,!1);const X={rendererFactory:M,sanitizer:x.get(LS,null),effectManager:x.get(_M,null),afterRenderEventManager:x.get(Xy,null)},de=M.createRenderer(null,this.componentDef),ge=this.componentDef.selectors[0][0]||"div",We=h?function JR(o,a,d,h){const _=h.get(Jy,!1)||d===ct.ShadowDom,x=o.selectRootElement(a,_);return function QR(o){S_(o)}(x),x}(de,h,this.componentDef.encapsulation,x):cd(de,ge,function t2(o){const a=o.toLowerCase();return"svg"===a?sp:"math"===a?"math":null}(ge)),cn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let nt=null;null!==We&&(nt=Tl(We,x,!0));const Cn=tw(0,null,null,1,0,null,null,null,null,null,null),Vn=tm(null,Cn,null,cn,null,null,X,de,x,null,nt);let bi,hs;Na(Vn);try{const fa=this.componentDef;let kf,Um=null;fa.findHostDirectiveDefs?(kf=[],Um=new Map,fa.findHostDirectiveDefs(fa,kf,Um),kf.push(fa)):kf=[fa];const uv=function yd(o,a){const d=o[Bt],h=Fn;return o[h]=a,Il(d,h,2,"#host",null)}(Vn,We),E0=function Mu(o,a,d,h,p,_,x){const M=p[Bt];!function Go(o,a,d,h){for(const p of o)a.mergedAttrs=Qa(a.mergedAttrs,p.hostAttrs);null!==a.mergedAttrs&&(sb(a,a.mergedAttrs,!0),null!==d&&_x(h,d,a))}(h,o,a,x);let D=null;null!==a&&(D=Tl(a,p[ea]));const L=_.rendererFactory.createRenderer(a,d);let V=16;d.signals?V=4096:d.onPush&&(V=64);const X=tm(p,ew(d),null,V,p[o.index],o,_,L,null,null,D);return M.firstCreatePass&&hM(M,o,h.length-1),A_(p,X),p[o.index]=X}(uv,We,fa,kf,Vn,X,de);hs=yh(Cn,Fn),We&&function r2(o,a,d,h){if(h)Sa(o,d,["ng-version",FS.full]);else{const{attrs:p,classes:_}=function Qs(o){const a=[],d=[];let h=1,p=2;for(;h<o.length;){let _=o[h];if("string"==typeof _)2===p?""!==_&&a.push(_,o[++h]):8===p&&d.push(_);else{if(!xs(p))break;p=_}h++}return{attrs:a,classes:d}}(a.selectors[0]);p&&Sa(o,d,p),_&&_.length>0&&hS(o,d,_.join(" "))}}(de,fa,We,h),void 0!==d&&function Tu(o,a,d){const h=o.projection=[];for(let p=0;p<a.length;p++){const _=d[p];h.push(null!=_?Array.from(_):null)}}(hs,this.ngContentSelectors,d),bi=function bd(o,a,d,h,p,_){const x=Dr(),M=p[Bt],D=Ur(x,p);lM(M,p,x,d,null,h);for(let V=0;V<d.length;V++)qr(oa(p,M,x.directiveStart+V,x),p);dM(M,p,x),D&&qr(D,p);const L=oa(p,M,x.directiveStart+x.componentOffset,x);if(o[mi]=p[mi]=L,null!==_)for(const V of _)V(L,a);return eb(M,x,o),L}(E0,fa,kf,Um,Vn,[sm]),ow(Cn,Vn,null)}finally{nc()}return new y1(this.componentType,bi,Jp(hs,Vn),Vn,hs)}}class y1 extends Bx{constructor(a,d,h,p,_){super(),this.location=h,this._rootLView=p,this._tNode=_,this.previousInputValues=null,this.instance=d,this.hostView=this.changeDetectorRef=new v1(p),this.componentType=a}setInput(a,d){const h=this._tNode.inputs;let p;if(null!==h&&(p=h[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),d))return;const _=this._rootLView;rb(_[Bt],_,p,a,d),this.previousInputValues.set(a,d),w_(Br(this._tNode.index,_))}}get injector(){return new Ai(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function sm(){const o=Dr();gl(et()[Bt],o)}function lb(o){let a=function cw(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),d=!0;const h=[o];for(;a;){let p;if(ws(o))p=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Me(903,!1);p=a.\u0275dir}if(p){if(d){h.push(p);const x=o;x.inputs=cb(o.inputs),x.inputTransforms=cb(o.inputTransforms),x.declaredInputs=cb(o.declaredInputs),x.outputs=cb(o.outputs);const M=p.hostBindings;M&&x1(o,M);const D=p.viewQuery,L=p.contentQueries;if(D&&nf(o,D),L&&b1(o,L),oe(o.inputs,p.inputs),oe(o.declaredInputs,p.declaredInputs),oe(o.outputs,p.outputs),null!==p.inputTransforms&&(null===x.inputTransforms&&(x.inputTransforms={}),oe(x.inputTransforms,p.inputTransforms)),ws(p)&&p.data.animation){const V=o.data;V.animation=(V.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let x=0;x<_.length;x++){const M=_[x];M&&M.ngInherit&&M(o),M===lb&&(d=!1)}}a=Object.getPrototypeOf(a)}!function bM(o){let a=0,d=null;for(let h=o.length-1;h>=0;h--){const p=o[h];p.hostVars=a+=p.hostVars,p.hostAttrs=Qa(p.hostAttrs,d=Qa(d,p.hostAttrs))}}(h)}function cb(o){return o===Wt?{}:o===It?[]:o}function nf(o,a){const d=o.viewQuery;o.viewQuery=d?(h,p)=>{a(h,p),d(h,p)}:a}function b1(o,a){const d=o.contentQueries;o.contentQueries=d?(h,p,_)=>{a(h,p,_),d(h,p,_)}:a}function x1(o,a){const d=o.hostBindings;o.hostBindings=d?(h,p)=>{a(h,p),d(h,p)}:a}function TM(o){const a=o.inputConfig,d={};for(const h in a)if(a.hasOwnProperty(h)){const p=a[h];Array.isArray(p)&&p[2]&&(d[h]=p[2])}o.inputTransforms=d}function db(o){return!!uw(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function uw(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function co(o,a,d){return!Object.is(o[a],d)&&(o[a]=d,!0)}function hw(o,a,d,h){const p=et();return co(p,pl(),a)&&(Xn(),gd(En(),p,o,a,d,h)),hw}function am(o,a,d,h){return co(o,pl(),d)?a+Ee(d)+h:zn}function _b(o,a,d,h,p,_,x,M){const D=et(),L=Xn(),V=o+Fn,X=L.firstCreatePass?function UM(o,a,d,h,p,_,x,M,D){const L=a.consts,V=Il(a,o,4,x||null,Cs(L,M));nw(a,d,V,Cs(L,D)),gl(a,V);const X=V.tView=tw(2,V,h,p,_,a.directiveRegistry,a.pipeRegistry,null,a.schemas,L,null);return null!==a.queries&&(a.queries.template(a,V),X.queries=a.queries.embeddedTView(V)),V}(V,L,D,a,d,h,p,_,x):L.data[V];Oa(X,!1);const de=vb(L,D,X,o);La()&&Ty(L,D,de,X),qr(de,D),A_(D,D[V]=mM(de,D,de,X)),Us(X)&&nm(L,D,X),null!=x&&tb(D,X,M)}let vb=function yb(o,a,d,h){return ro(!0),a[_n].createComment("")};function bw(o){return function hl(o,a){return o[a]}(function xg(){return vn.lFrame.contextLView}(),Fn+o)}function bb(o,a,d){const h=et();return co(h,pl(),a)&&$i(Xn(),En(),h,o,a,h[_n],d,!1),bb}function xw(o,a,d,h,p){const x=p?"class":"style";rb(o,d,a.inputs[x],x,h)}function k_(o,a,d,h){const p=et(),_=Xn(),x=Fn+o,M=p[_n],D=_.firstCreatePass?function HM(o,a,d,h,p,_){const x=a.consts,D=Il(a,o,2,h,Cs(x,p));return nw(a,d,D,Cs(x,_)),null!==D.attrs&&sb(D,D.attrs,!1),null!==D.mergedAttrs&&sb(D,D.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,D),D}(x,_,p,a,d,h):_.data[x],L=ww(_,p,D,M,a,o);p[x]=L;const V=Us(D);return Oa(D,!0),_x(M,L,D),32!=(32&D.flags)&&La()&&Ty(_,p,L,D),0===function Xd(){return vn.lFrame.elementDepthCount}()&&qr(L,p),function Ar(){vn.lFrame.elementDepthCount++}(),V&&(nm(_,p,D),eb(_,D,p)),null!==h&&tb(p,D),k_}function O_(){let o=Dr();fl()?wh():(o=o.parent,Oa(o,!1));const a=o;(function Kd(o){return vn.skipHydrationRootTNode===o})(a)&&function xh(){vn.skipHydrationRootTNode=null}(),function cp(){vn.lFrame.elementDepthCount--}();const d=Xn();return d.firstCreatePass&&(gl(d,o),Gd(o)&&d.queries.elementEnd(o)),null!=a.classesWithoutHost&&function _p(o){return 0!=(8&o.flags)}(a)&&xw(d,a,et(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function sy(o){return 0!=(16&o.flags)}(a)&&xw(d,a,et(),a.stylesWithoutHost,!1),O_}function xb(o,a,d,h){return k_(o,a,d,h),O_(),xb}let ww=(o,a,d,h,p,_)=>(ro(!0),cd(h,p,function mp(){return vn.lFrame.currentNamespace}()));function N_(o,a,d){const h=et(),p=Xn(),_=o+Fn,x=p.firstCreatePass?function WM(o,a,d,h,p){const _=a.consts,x=Cs(_,h),M=Il(a,o,8,"ng-container",x);return null!==x&&sb(M,x,!0),nw(a,d,M,Cs(_,p)),null!==a.queries&&a.queries.elementStart(a,M),M}(_,p,h,a,d):p.data[_];Oa(x,!0);const M=Ew(p,h,x,o);return h[_]=M,La()&&Ty(p,h,M,x),qr(M,h),Us(x)&&(nm(p,h,x),eb(p,x,h)),null!=d&&tb(h,x),N_}function L_(){let o=Dr();const a=Xn();return fl()?wh():(o=o.parent,Oa(o,!1)),a.firstCreatePass&&(gl(a,o),Gd(o)&&a.queries.elementEnd(o)),L_}function wb(o,a,d){return N_(o,a,d),L_(),wb}let Ew=(o,a,d,h)=>(ro(!0),Fp(a[_n],""));function Cw(){return et()}function Eb(o){return!!o&&"function"==typeof o.then}function Cb(o){return!!o&&"function"==typeof o.subscribe}function Sb(o,a,d,h){const p=et(),_=Xn(),x=Dr();return function Mw(o,a,d,h,p,_,x){const M=Us(h),L=o.firstCreatePass&&d1(o),V=a[mi],X=c1(a);let de=!0;if(3&h.type||x){const st=Ur(h,a),kt=x?x(st):st,cn=X.length,nt=x?Vn=>x(_i(Vn[h.index])):h.index;let Cn=null;if(!x&&M&&(Cn=function T1(o,a,d,h){const p=o.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const x=p[_];if(x===d&&p[_+1]===h){const M=a[Pc],D=p[_+2];return M.length>D?M[D]:null}"string"==typeof x&&(_+=2)}return null}(o,a,p,h.index)),null!==Cn)(Cn.__ngLastListenerFn__||Cn).__ngNextListenerFn__=_,Cn.__ngLastListenerFn__=_,de=!1;else{_=Aw(h,a,V,_,!1);const Vn=d.listen(kt,p,_);X.push(_,Vn),L&&L.push(p,nt,cn,cn+1)}}else _=Aw(h,a,V,_,!1);const ge=h.outputs;let We;if(de&&null!==ge&&(We=ge[p])){const st=We.length;if(st)for(let kt=0;kt<st;kt+=2){const bi=a[We[kt]][We[kt+1]].subscribe(_),hs=X.length;X.push(_,bi),L&&L.push(p,h.index,hs,-(hs+1))}}}(_,p,p[_n],x,o,a,h),Sb}function Tw(o,a,d,h){try{return _o(6,a,d),!1!==d(h)}catch(p){return u1(o,p),!1}finally{_o(7,a,d)}}function Aw(o,a,d,h,p){return function _(x){if(x===Function)return h;w_(o.componentOffset>-1?Br(o.index,a):a);let D=Tw(a,d,h,x),L=_.__ngNextListenerFn__;for(;L;)D=Tw(a,d,L,x)&&D,L=L.__ngNextListenerFn__;return p&&!1===D&&x.preventDefault(),D}}function YM(o=1){return function Wc(o){return(vn.lFrame.contextLView=function Pn(o,a){for(;o>0;)a=a[Aa],o--;return a}(o,vn.lFrame.contextLView))[mi]}(o)}function A1(o,a){let d=null;const h=function eh(o){const a=o.attrs;if(null!=a){const d=a.indexOf(5);if(!(1&d))return a[d+1]}return null}(o);for(let p=0;p<a.length;p++){const _=a[p];if("*"!==_){if(null===h?Dc(o,_,!0):Wf(h,_))return p}else d=p}return d}function qM(o){const a=et()[zi][Nr];if(!a.projection){const h=a.projection=xl(o?o.length:1,null),p=h.slice();let _=a.child;for(;null!==_;){const x=o?A1(_,o):0;null!==x&&(p[x]?p[x].projectionNext=_:h[x]=_,p[x]=_),_=_.next}}}function F_(o,a=0,d){const h=et(),p=Xn(),_=Il(p,Fn+o,16,null,d||null);null===_.projection&&(_.projection=a),wh(),(!h[Fs]||Oo())&&32!=(32&_.flags)&&function Vp(o,a,d){gx(a[_n],0,a,d,My(o,d,a),nn(d.parent||a[Nr],d,a))}(p,h,_)}function pm(o,a,d){return U_(o,"",a,"",d),pm}function U_(o,a,d,h,p){const _=et(),x=am(_,a,d,h);return x!==zn&&$i(Xn(),En(),_,o,x,_[_n],p,!1),U_}function V_(o,a){return o<<17|a<<2}function jo(o){return o>>17&32767}function Cd(o){return 2|o}function ff(o){return(131068&o)>>2}function $o(o,a){return-131069&o|a<<2}function Rl(o){return 1|o}function H_(o,a,d,h,p){const _=o[d+1],x=null===a;let M=h?jo(_):ff(_),D=!1;for(;0!==M&&(!1===D||x);){const V=o[M+1];Ab(o[M],a)&&(D=!0,o[M+1]=h?Rl(V):Cd(V)),M=h?jo(V):ff(V)}D&&(o[d+1]=h?Cd(_):Rl(_))}function Ab(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&hu(o,a)>=0}const Is={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pf(o){return o.substring(Is.key,Is.keyEnd)}function O1(o,a){const d=Is.textEnd;return d===a?-1:(a=Is.keyEnd=function u2(o,a,d){for(;a<d&&o.charCodeAt(a)>32;)a++;return a}(o,Is.key=a,d),z_(o,a,d))}function z_(o,a,d){for(;a<d&&o.charCodeAt(a)<=32;)a++;return a}function Db(o,a,d){return Pl(o,a,d,!1),Db}function Rw(o,a){return Pl(o,a,null,!0),Rw}function XM(o){kl(y2,fc,o,!0)}function fc(o,a){for(let d=function c2(o){return function L1(o){Is.key=0,Is.keyEnd=0,Is.value=0,Is.valueEnd=0,Is.textEnd=o.length}(o),O1(o,z_(o,0,Is.textEnd))}(a);d>=0;d=O1(a,d))Hs(o,pf(a),!0)}function Pl(o,a,d,h){const p=et(),_=Xn(),x=No(2);_.firstUpdatePass&&G_(_,o,x,h),a!==zn&&co(p,x,a)&&Rb(_,_.data[jn()],p,p[_n],o,p[x+1]=function mm(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=ve(lc(o)))),o}(a,d),h,x)}function kl(o,a,d,h){const p=Xn(),_=No(2);p.firstUpdatePass&&G_(p,null,_,h);const x=et();if(d!==zn&&co(x,_,d)){const M=p.data[jn()];if($s(M,h)&&!KM(p,_)){let D=h?M.classesWithoutHost:M.stylesWithoutHost;null!==D&&(d=vt(D,d||"")),xw(p,M,x,d,h)}else!function QM(o,a,d,h,p,_,x,M){p===zn&&(p=It);let D=0,L=0,V=0<p.length?p[0]:null,X=0<_.length?_[0]:null;for(;null!==V||null!==X;){const de=D<p.length?p[D+1]:void 0,ge=L<_.length?_[L+1]:void 0;let st,We=null;V===X?(D+=2,L+=2,de!==ge&&(We=X,st=ge)):null===X||null!==V&&V<X?(D+=2,We=V):(L+=2,We=X,st=ge),null!==We&&Rb(o,a,d,h,We,st,x,M),V=D<p.length?p[D]:null,X=L<_.length?_[L]:null}}(p,M,x,x[_n],x[_+1],x[_+1]=function v2(o,a,d){if(null==d||""===d)return It;const h=[],p=lc(d);if(Array.isArray(p))for(let _=0;_<p.length;_++)o(h,p[_],!0);else if("object"==typeof p)for(const _ in p)p.hasOwnProperty(_)&&o(h,_,p[_]);else"string"==typeof p&&a(h,p);return h}(o,a,d),h,_)}}function KM(o,a){return a>=o.expandoStartIndex}function G_(o,a,d,h){const p=o.data;if(null===p[d+1]){const _=p[jn()],x=KM(o,d);$s(_,h)&&null===a&&!x&&(a=!1),a=function p2(o,a,d,h){const p=up(o);let _=h?a.residualClasses:a.residualStyles;if(null===p)0===(h?a.classBindings:a.styleBindings)&&(d=Ib(d=JM(null,o,a,d,h),a.attrs,h),_=null);else{const x=a.directiveStylingLast;if(-1===x||o[x]!==p)if(d=JM(p,o,a,d,h),null===_){let D=function m2(o,a,d){const h=d?a.classBindings:a.styleBindings;if(0!==ff(h))return o[jo(h)]}(o,a,h);void 0!==D&&Array.isArray(D)&&(D=JM(null,o,a,D[1],h),D=Ib(D,a.attrs,h),function g2(o,a,d,h){o[jo(d?a.classBindings:a.styleBindings)]=h}(o,a,h,D))}else _=function _2(o,a,d){let h;const p=a.directiveEnd;for(let _=1+a.directiveStylingLast;_<p;_++)h=Ib(h,o[_].hostAttrs,d);return Ib(h,a.attrs,d)}(o,a,h)}return void 0!==_&&(h?a.residualClasses=_:a.residualStyles=_),d}(p,_,a,h),function Tb(o,a,d,h,p,_){let x=_?a.classBindings:a.styleBindings,M=jo(x),D=ff(x);o[h]=d;let V,L=!1;if(Array.isArray(d)?(V=d[1],(null===V||hu(d,V)>0)&&(L=!0)):V=d,p)if(0!==D){const de=jo(o[M+1]);o[h+1]=V_(de,M),0!==de&&(o[de+1]=$o(o[de+1],h)),o[M+1]=function k1(o,a){return 131071&o|a<<17}(o[M+1],h)}else o[h+1]=V_(M,0),0!==M&&(o[M+1]=$o(o[M+1],h)),M=h;else o[h+1]=V_(D,0),0===M?M=h:o[D+1]=$o(o[D+1],h),D=h;L&&(o[h+1]=Cd(o[h+1])),H_(o,V,h,!0),H_(o,V,h,!1),function nr(o,a,d,h,p){const _=p?o.residualClasses:o.residualStyles;null!=_&&"string"==typeof a&&hu(_,a)>=0&&(d[h+1]=Rl(d[h+1]))}(a,V,o,h,_),x=V_(M,D),_?a.classBindings=x:a.styleBindings=x}(p,_,a,d,x,h)}}function JM(o,a,d,h,p){let _=null;const x=d.directiveEnd;let M=d.directiveStylingLast;for(-1===M?M=d.directiveStart:M++;M<x&&(_=a[M],h=Ib(h,_.hostAttrs,p),_!==o);)M++;return null!==o&&(d.directiveStylingLast=M),h}function Ib(o,a,d){const h=d?1:2;let p=-1;if(null!==a)for(let _=0;_<a.length;_++){const x=a[_];"number"==typeof x?p=x:p===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Hs(o,x,!!d||a[++_]))}return void 0===o?null:o}function y2(o,a,d){const h=String(a);""!==h&&!h.includes(" ")&&Hs(o,h,d)}function Rb(o,a,d,h,p,_,x,M){if(!(3&a.type))return;const D=o.data,L=D[M+1],V=function Ds(o){return 1==(1&o)}(L)?pc(D,a,d,p,ff(L),x):void 0;mf(V)||(mf(_)||function P1(o){return 2==(2&o)}(L)&&(_=pc(D,null,d,p,M,x)),function gR(o,a,d,h,p){if(a)p?o.addClass(d,h):o.removeClass(d,h);else{let _=-1===h.indexOf("-")?void 0:Fh.DashCase;null==p?o.removeStyle(d,h,_):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),_|=Fh.Important),o.setStyle(d,h,p,_))}}(h,x,ul(jn(),d),p,_))}function pc(o,a,d,h,p,_){const x=null===a;let M;for(;p>0;){const D=o[p],L=Array.isArray(D),V=L?D[1]:D,X=null===V;let de=d[p+1];de===zn&&(de=X?It:void 0);let ge=X?ly(de,h):V===h?de:void 0;if(L&&!mf(ge)&&(ge=ly(D,h)),mf(ge)&&(M=ge,x))return M;const We=o[p+1];p=x?jo(We):ff(We)}if(null!==a){let D=_?a.residualClasses:a.residualStyles;null!=D&&(M=ly(D,h))}return M}function mf(o){return void 0!==o}function $s(o,a){return 0!=(o.flags&(a?8:16))}function Pw(o,a=""){const d=et(),h=Xn(),p=o+Fn,_=h.firstCreatePass?Il(h,p,1,a,null):h.data[p],x=Iu(h,d,_,a,o);d[p]=x,La()&&Ty(h,d,x,_),Oa(_,!1)}let Iu=(o,a,d,h,p)=>(ro(!0),function yu(o,a){return o.createText(a)}(a[_n],h));function ur(o){return _m("",o,""),ur}function _m(o,a,d){const h=et(),p=am(h,o,a,d);return p!==zn&&function _d(o,a,d){const h=ul(a,o);!function Wg(o,a,d){o.setValue(a,d)}(o[_n],h,d)}(h,jn(),p),_m}function aT(o,a,d){kl(Hs,fc,am(et(),o,a,d),!0)}function Ru(o,a,d){const h=et();return co(h,pl(),a)&&$i(Xn(),En(),h,o,a,h[_n],d,!0),Ru}function j_(o,a,d){const h=et();if(co(h,pl(),a)){const _=Xn(),x=En();$i(_,x,h,o,a,gM(up(_.data),x,h),d,!0)}return j_}const za=void 0;var Y1=["en",[["a","p"],["AM","PM"],za],[["AM","PM"],za,za],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],za,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],za,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",za,"{1} 'at' {0}",za],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function hT(o){const d=Math.floor(Math.abs(o)),h=o.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===h?1:5}];let Ol={};function Uw(o){const a=function x2(o){return o.toLowerCase().replace(/_/g,"-")}(o);let d=pT(a);if(d)return d;const h=a.split("-")[0];if(d=pT(h),d)return d;if("en"===h)return Y1;throw new Me(701,!1)}function Ni(o){return Uw(o)[Pu.PluralCase]}function pT(o){return o in Ol||(Ol[o]=yi.ng&&yi.ng.common&&yi.ng.common.locales&&yi.ng.common.locales[o]),Ol[o]}var Pu=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(Pu||{});const $_="en-US";let mc=$_;function Zb(o,a,d,h,p){if(o=ut(o),Array.isArray(o))for(let _=0;_<o.length;_++)Zb(o[_],a,d,h,p);else{const _=Xn(),x=et(),M=Dr();let D=aa(o)?o:ut(o.provide);const L=SS(o),V=1048575&M.providerIndexes,X=M.directiveStart,de=M.providerIndexes>>20;if(aa(o)||!o.multi){const ge=new Ua(L,p,em),We=bT(D,a,p?V:V+de,X);-1===We?(Kc(vl(M,x),_,D),yT(_,o,a.length),a.push(D),M.directiveStart++,M.directiveEnd++,p&&(M.providerIndexes+=1048576),d.push(ge),x.push(ge)):(d[We]=ge,x[We]=ge)}else{const ge=bT(D,a,V+de,X),We=bT(D,a,V,V+de),kt=We>=0&&d[We];if(p&&!kt||!p&&!(ge>=0&&d[ge])){Kc(vl(M,x),_,D);const cn=function qa(o,a,d,h,p){const _=new Ua(o,d,em);return _.multi=[],_.index=a,_.componentProviders=0,Yw(_,p,h&&!d),_}(p?A2:ln,d.length,p,h,L);!p&&kt&&(d[We].providerFactory=cn),yT(_,o,a.length,0),a.push(D),M.directiveStart++,M.directiveEnd++,p&&(M.providerIndexes+=1048576),d.push(cn),x.push(cn)}else yT(_,o,ge>-1?ge:We,Yw(d[p?We:ge],L,!p&&h));!p&&h&&kt&&d[We].componentProviders++}}}function yT(o,a,d,h){const p=aa(a),_=function AR(o){return!!o.useClass}(a);if(p||_){const D=(_?ut(a.useClass):a).prototype.ngOnDestroy;if(D){const L=o.destroyHooks||(o.destroyHooks=[]);if(!p&&a.multi){const V=L.indexOf(d);-1===V?L.push(d,[h,D]):L[V+1].push(h,D)}else L.push(d,D)}}}function Yw(o,a,d){return d&&o.componentProviders++,o.multi.push(a)-1}function bT(o,a,d,h){for(let p=d;p<h;p++)if(a[p]===o)return p;return-1}function ln(o,a,d,h){return qw(this.multi,[])}function A2(o,a,d,h){const p=this.multi;let _;if(this.providerFactory){const x=this.providerFactory.componentProviders,M=oa(d,d[Bt],this.providerFactory.index,h);_=M.slice(0,x),qw(p,_);for(let D=x;D<M.length;D++)_.push(M[D])}else _=[],qw(p,_);return _}function qw(o,a){for(let d=0;d<o.length;d++)a.push((0,o[d])());return a}function Xb(o,a=[]){return d=>{d.providersResolver=(h,p)=>function T2(o,a,d){const h=Xn();if(h.firstCreatePass){const p=ws(o);Zb(d,h.data,h.blueprint,p,!0),Zb(a,h.data,h.blueprint,p,!1)}}(h,p?p(o):o,a)}}class Za{}class Zo{}function K_(o,a){return new oi(o,a??null,[])}class oi extends Za{constructor(a,d,h){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new lw(this);const p=as(a);this._bootstrapComponents=pd(p.bootstrap),this._r3Injector=HS(a,d,[{provide:Za,useValue:this},{provide:__,useValue:this.componentFactoryResolver},...h],ve(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Kb extends Zo{constructor(a){super(),this.moduleType=a}create(a){return new oi(this.moduleType,a,[])}}class J_ extends Za{constructor(a){super(),this.componentFactoryResolver=new lw(this),this.instance=null;const d=new s_([...a.providers,{provide:Za,useValue:this},{provide:__,useValue:this.componentFactoryResolver}],a.parent||$p(),a.debugName,new Set(["environment"]));this.injector=d,a.runEnvironmentInitializers&&d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Zw(o,a,d=null){return new J_({providers:o,parent:a,debugName:d,runEnvironmentInitializers:!0}).injector}let Dm=(()=>{class o{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d)){const h=wS(0,d.type),p=h.length>0?Zw([h],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d,p)}return this.cachedInjectors.get(d)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=kn({token:o,providedIn:"environment",factory:()=>new o(mn(Ml))})}return o})();function Mf(o){o.getStandaloneInjector=a=>a.get(Dm).getOrCreateStandaloneInjector(o)}function CT(o,a,d){const h=function Ss(){const o=vn.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}()+o,p=et();return p[h]===zn?function dc(o,a,d){return o[a]=d}(p,h,d?a.call(d):a()):function D_(o,a){return o[a]}(p,h)}function dP(){return this._results[Symbol.iterator]()}class r0{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new zo)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=r0.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=dP)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,d){return this._results.reduce(a,d)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,d){const h=this;h.dirty=!1;const p=function Ji(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Yr(o,a,d){if(o.length!==a.length)return!1;for(let h=0;h<o.length;h++){let p=o[h],_=a[h];if(d&&(p=d(p),_=d(_)),_!==p)return!1}return!0}(h._results,p,d))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function hP(o,a,d,h=!0){const p=a[Bt];if(function dx(o,a,d,h){const p=Fr+h,_=d.length;h>0&&(d[p-1][ls]=a),h<_-Fr?(a[ls]=d[p],uu(d,Fr+h,a)):(d.push(a),a[ls]=null),a[Hi]=d;const x=a[rh];null!==x&&d!==x&&function qg(o,a){const d=o[Sr];a[zi]!==a[Hi][Hi][zi]&&(o[zd]=!0),null===d?o[Sr]=[a]:d.push(a)}(x,a);const M=a[Er];null!==M&&M.insertView(o),a[pn]|=128}(p,a,o,d),h){const _=Vh(d,o),x=a[_n],M=Zg(x,o[Cr]);null!==M&&function jg(o,a,d,h,p,_){h[Vi]=p,h[Nr]=a,Hh(o,h,d,1,p,_)}(p,o[Nr],x,a,M,_)}}let ov=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=mP}return o})();const fP=ov,pP=class extends fP{constructor(a,d,h){super(),this._declarationLView=a,this._declarationTContainer=d,this.elementRef=h}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,d){return this.createEmbeddedViewImpl(a,d)}createEmbeddedViewImpl(a,d,h){const p=function uP(o,a,d,h){const p=a.tView,M=tm(o,p,d,4096&o[pn]?4096:16,null,a,null,null,null,h?.injector??null,h?.hydrationInfo??null);M[rh]=o[a.index];const L=o[Er];return null!==L&&(M[Er]=L.createEmbeddedView(p)),ow(p,M,d),M}(this._declarationLView,this._declarationTContainer,a,{injector:d,hydrationInfo:h});return new ab(p)}};function mP(){return s0(Dr(),et())}function s0(o,a){return 4&o.type?new pP(a,o,Jp(o,a)):null}let a0=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=xP}return o})();function xP(){return FT(Dr(),et())}const wP=a0,NT=class extends wP{constructor(a,d,h){super(),this._lContainer=a,this._hostTNode=d,this._hostLView=h}get element(){return Jp(this._hostTNode,this._hostLView)}get injector(){return new Ai(this._hostTNode,this._hostLView)}get parentInjector(){const a=Ba(this._hostTNode,this._hostLView);if(qc(a)){const d=_l(a,this._hostLView),h=ic(a);return new Ai(d[Bt].data[h+8],d)}return new Ai(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const d=LT(this._lContainer);return null!==d&&d[a]||null}get length(){return this._lContainer.length-Fr}createEmbeddedView(a,d,h){let p,_;"number"==typeof h?p=h:null!=h&&(p=h.index,_=h.injector);const M=a.createEmbeddedViewImpl(d||{},_,null);return this.insertImpl(M,p,false),M}createComponent(a,d,h,p,_){const x=a&&!function $r(o){return"function"==typeof o}(a);let M;if(x)M=d;else{const st=d||{};M=st.index,h=st.injector,p=st.projectableNodes,_=st.environmentInjector||st.ngModuleRef}const D=x?a:new rm(ti(a)),L=h||this.parentInjector;if(!_&&null==D.ngModule){const kt=(x?L:this.parentInjector).get(Ml,null);kt&&(_=kt)}ti(D.componentType??{});const ge=D.create(L,p,null,_);return this.insertImpl(ge.hostView,M,false),ge}insert(a,d){return this.insertImpl(a,d,!1)}insertImpl(a,d,h){const p=a._lView;if(function yg(o){return jr(o[Hi])}(p)){const D=this.indexOf(a);if(-1!==D)this.detach(D);else{const L=p[Hi],V=new NT(L,L[Nr],L[Hi]);V.detach(V.indexOf(a))}}const x=this._adjustIndex(d),M=this._lContainer;return hP(M,p,x,!h),a.attachToViewContainerRef(),uu(Qw(M),x,a),a}move(a,d){return this.insert(a,d)}indexOf(a){const d=LT(this._lContainer);return null!==d?d.indexOf(a):-1}remove(a){const d=this._adjustIndex(a,-1),h=Sy(this._lContainer,d);h&&(Ag(Qw(this._lContainer),d),ux(h[Bt],h))}detach(a){const d=this._adjustIndex(a,-1),h=Sy(this._lContainer,d);return h&&null!=Ag(Qw(this._lContainer),d)?new ab(h):null}_adjustIndex(a,d=0){return a??this.length+d}};function LT(o){return o[8]}function Qw(o){return o[8]||(o[8]=[])}function FT(o,a){let d;const h=a[o.index];return jr(h)?d=h:(d=mM(h,a,null,o),a[o.index]=d,A_(a,d)),UT(d,a,o,h),new NT(d,o,a)}let UT=function BT(o,a,d,h){if(o[Cr])return;let p;p=8&d.type?_i(h):function EP(o,a){const d=o[_n],h=d.createComment(""),p=Ur(a,o);return Up(d,Zg(d,p),h,function Zr(o,a){return o.nextSibling(a)}(d,p),!1),h}(a,d),o[Cr]=p};class eE{constructor(a){this.queryList=a,this.matches=null}clone(){return new eE(this.queryList)}setDirty(){this.queryList.setDirty()}}class tE{constructor(a=[]){this.queries=a}createEmbeddedView(a){const d=a.queries;if(null!==d){const h=null!==a.contentQueries?a.contentQueries[0]:d.length,p=[];for(let _=0;_<h;_++){const x=d.getByIndex(_);p.push(this.queries[x.indexInDeclarationView].clone())}return new tE(p)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let d=0;d<this.queries.length;d++)null!==qT(a,d).matches&&this.queries[d].setDirty()}}class VT{constructor(a,d,h=null){this.predicate=a,this.flags=d,this.read=h}}class nE{constructor(a=[]){this.queries=a}elementStart(a,d){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,d)}elementEnd(a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(a)}embeddedTView(a){let d=null;for(let h=0;h<this.length;h++){const p=null!==d?d.length:0,_=this.getByIndex(h).embeddedTView(a,p);_&&(_.indexInDeclarationView=h,null!==d?d.push(_):d=[_])}return null!==d?new nE(d):null}template(a,d){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,d)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class iE{constructor(a,d=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(a,d){this.isApplyingToNode(d)&&this.matchTNode(a,d)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,d){this.elementStart(a,d)}embeddedTView(a,d){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,d),new iE(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==d;)h=h.parent;return d===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,d){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const _=h[p];this.matchTNodeWithReadOption(a,d,MP(d,_)),this.matchTNodeWithReadOption(a,d,ed(d,a,_,!1,!1))}else h===ov?4&d.type&&this.matchTNodeWithReadOption(a,d,-1):this.matchTNodeWithReadOption(a,d,ed(d,a,h,!1,!1))}matchTNodeWithReadOption(a,d,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===y_||p===a0||p===ov&&4&d.type)this.addMatch(d.index,-2);else{const _=ed(d,a,p,!1,!1);null!==_&&this.addMatch(d.index,_)}else this.addMatch(d.index,h)}}addMatch(a,d){null===this.matches?this.matches=[a,d]:this.matches.push(a,d)}}function MP(o,a){const d=o.localNames;if(null!==d)for(let h=0;h<d.length;h+=2)if(d[h]===a)return d[h+1];return null}function AP(o,a,d,h){return-1===d?function TP(o,a){return 11&o.type?Jp(o,a):4&o.type?s0(o,a):null}(a,o):-2===d?function DP(o,a,d){return d===y_?Jp(a,o):d===ov?s0(a,o):d===a0?FT(a,o):void 0}(o,a,h):oa(o,o[Bt],d,a)}function HT(o,a,d,h){const p=a[Er].queries[h];if(null===p.matches){const _=o.data,x=d.matches,M=[];for(let D=0;D<x.length;D+=2){const L=x[D];M.push(L<0?null:AP(a,_[L],x[D+1],d.metadata.read))}p.matches=M}return p.matches}function rE(o,a,d,h){const p=o.queries.getByIndex(d),_=p.matches;if(null!==_){const x=HT(o,a,p,d);for(let M=0;M<_.length;M+=2){const D=_[M];if(D>0)h.push(x[M/2]);else{const L=_[M+1],V=a[-D];for(let X=Fr;X<V.length;X++){const de=V[X];de[rh]===de[Hi]&&rE(de[Bt],de,L,h)}if(null!==V[Sr]){const X=V[Sr];for(let de=0;de<X.length;de++){const ge=X[de];rE(ge[Bt],ge,L,h)}}}}}return h}function zT(o){const a=et(),d=Xn(),h=ru();hp(h+1);const p=qT(d,h);if(o.dirty&&function vg(o){return 4==(4&o[pn])}(a)===(2==(2&p.metadata.flags))){if(null===p.matches)o.reset([]);else{const _=p.crossesNgTemplate?rE(d,a,h,[]):HT(d,a,p,h);o.reset(_,zx),o.notifyOnChanges()}return!0}return!1}function GT(o,a,d){const h=Xn();h.firstCreatePass&&(YT(h,new VT(o,a,d),-1),2==(2&a)&&(h.staticViewQueries=!0)),$T(h,et(),a)}function WT(o,a,d,h){const p=Xn();if(p.firstCreatePass){const _=Dr();YT(p,new VT(a,d,h),_.index),function RP(o,a){const d=o.contentQueries||(o.contentQueries=[]);a!==(d.length?d[d.length-1]:-1)&&d.push(o.queries.length-1,a)}(p,o),2==(2&d)&&(p.staticContentQueries=!0)}$T(p,et(),d)}function jT(){return function IP(o,a){return o[Er].queries[a].queryList}(et(),ru())}function $T(o,a,d){const h=new r0(4==(4&d));(function M_(o,a,d,h){const p=c1(a);p.push(d),o.firstCreatePass&&d1(o).push(h,p.length-1)})(o,a,h,h.destroy),null===a[Er]&&(a[Er]=new tE),a[Er].queries.push(new eE(h))}function YT(o,a,d){null===o.queries&&(o.queries=new nE),o.queries.track(new iE(a,d))}function qT(o,a){return o.queries.getByIndex(a)}function ZT(o,a){return s0(o,a)}function sE(o){return!!as(o)}const ek=new Si("Application Initializer");let lA=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h}),this.appInits=Rn(ek,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const d=[];for(const p of this.appInits){const _=p();if(Eb(_))d.push(_);else if(Cb(_)){const x=new Promise((M,D)=>{_.subscribe({complete:M,error:D})});d.push(x)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(d).then(()=>{h()}).catch(p=>{this.reject(p)}),0===d.length&&h(),this.initialized=!0}static#e=this.\u0275fac=function(h){return new(h||o)};static#t=this.\u0275prov=kn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),tk=(()=>{class o{log(d){console.log(d)}warn(d){console.warn(d)}static#e=this.\u0275fac=function(h){return new(h||o)};static#t=this.\u0275prov=kn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const dE=new Si("LocaleId",{providedIn:"root",factory:()=>Rn(dE,on.Optional|on.SkipSelf)||function H2(){return typeof $localize<"u"&&$localize.locale||$_}()}),z2=new Si("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let nk=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Te.X(!1)}add(){this.hasPendingTasks.next(!0);const d=this.taskId++;return this.pendingTasks.add(d),d}remove(d){this.pendingTasks.delete(d),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(h){return new(h||o)};static#t=this.\u0275prov=kn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class W2{constructor(a,d){this.ngModuleFactory=a,this.componentFactories=d}}let j2=(()=>{class o{compileModuleSync(d){return new Kb(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const h=this.compileModuleSync(d),_=pd(as(d).declarations).reduce((x,M)=>{const D=ti(M);return D&&x.push(new rm(D)),x},[]);return new W2(h,_)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}static#e=this.\u0275fac=function(h){return new(h||o)};static#t=this.\u0275prov=kn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const dA=new Si(""),vE=new Si("");let h0,u0=(()=>{class o{constructor(d,h,p){this._ngZone=d,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,h0||(function hA(o){h0=o}(p),p.addToWindow(h)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{As.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(d)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,h,p){let _=-1;h&&h>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(x=>x.timeoutId!==_),d(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:d,timeoutId:_,updateCb:p})}whenStable(d,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,h,p){return[]}static#e=this.\u0275fac=function(h){return new(h||o)(mn(As),mn(uA),mn(vE))};static#t=this.\u0275prov=kn({token:o,factory:o.\u0275fac})}return o})(),uA=(()=>{class o{constructor(){this._applications=new Map}registerApplication(d,h){this._applications.set(d,h)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,h=!0){return h0?.findTestabilityInTree(this,d,h)??null}static#e=this.\u0275fac=function(h){return new(h||o)};static#t=this.\u0275prov=kn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})(),yc=null;const fA=new Si("AllowMultipleToken"),yE=new Si("PlatformDestroyListeners"),bE=new Si("appBootstrapListener");class uk{constructor(a,d){this.name=a,this.token=d}}function wE(o,a,d=[]){const h=`Platform: ${a}`,p=new Si(h);return(_=[])=>{let x=f0();if(!x||x.injector.get(fA,!1)){const M=[...d,..._,{provide:p,useValue:!0}];o?o(M):function hk(o){if(yc&&!yc.get(fA,!1))throw new Me(400,!1);(function pA(){!function ug(o){np=o}(()=>{throw new Me(600,!1)})})(),yc=o;const a=o.get(CE);(function xE(o){o.get(Tx,null)?.forEach(d=>d())})(o)}(function EE(o=[],a){return Dl.create({name:a,providers:[{provide:Uy,useValue:"platform"},{provide:yE,useValue:new Set([()=>yc=null])},...o]})}(M,h))}return function gA(o){const a=f0();if(!a)throw new Me(401,!1);return a}()}}function f0(){return yc?.get(CE)??null}let CE=(()=>{class o{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,h){const p=function us(o="zone.js",a){return"noop"===o?new zR:"zone.js"===o?new As(a):o}(h?.ngZone,function Rf(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return p.run(()=>{const _=function Sf(o,a,d){return new oi(o,a,d)}(d.moduleType,this.injector,function yA(o){return[{provide:As,useFactory:o},{provide:jp,multi:!0,useFactory:()=>{const a=Rn(gk,{optional:!0});return()=>a.initialize()}},{provide:vA,useFactory:mk},{provide:GS,useFactory:WS}]}(()=>p)),x=_.injector.get(Cu,null);return p.runOutsideAngular(()=>{const M=p.onError.subscribe({next:D=>{x.handleError(D)}});_.onDestroy(()=>{p0(this._modules,_),M.unsubscribe()})}),function ts(o,a,d){try{const h=d();return Eb(h)?h.catch(p=>{throw a.runOutsideAngular(()=>o.handleError(p)),p}):h}catch(h){throw a.runOutsideAngular(()=>o.handleError(h)),h}}(x,p,()=>{const M=_.injector.get(lA);return M.runInitializers(),M.donePromise.then(()=>(function Ga(o){zt(o,"Expected localeId to be defined"),"string"==typeof o&&(mc=o.toLowerCase().replace(/_/g,"-"))}(_.injector.get(dE,$_)||$_),this._moduleDoBootstrap(_),_))})})}bootstrapModule(d,h=[]){const p=cv({},h);return function ck(o,a,d){const h=new Kb(d);return Promise.resolve(h)}(0,0,d).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(d){const h=d.injector.get(Fm);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!d.instance.ngDoBootstrap)throw new Me(-403,!1);d.instance.ngDoBootstrap(h)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const d=this._injector.get(yE,null);d&&(d.forEach(h=>h()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(h){return new(h||o)(mn(Dl))};static#t=this.\u0275prov=kn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function cv(o,a){return Array.isArray(a)?a.reduce(cv,o):{...o,...a}}let Fm=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Rn(vA),this.zoneIsStable=Rn(GS),this.componentTypes=[],this.components=[],this.isStable=Rn(nk).hasPendingTasks.pipe((0,ht.w)(d=>d?(0,xe.of)(!1):this.zoneIsStable),(0,Le.x)(),(0,ze.B)()),this._injector=Rn(Ml)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,h){const p=d instanceof jy;if(!this._injector.get(lA).done)throw!p&&Ta(d),new Me(405,!1);let x;x=p?d:this._injector.get(__).resolveComponentFactory(d),this.componentTypes.push(x.componentType);const M=function dk(o){return o.isBoundToModule}(x)?void 0:this._injector.get(Za),L=x.create(Dl.NULL,[],h||x.selector,M),V=L.location.nativeElement,X=L.injector.get(dA,null);return X?.registerApplication(V),L.onDestroy(()=>{this.detachView(L.hostView),p0(this.components,L),X?.unregisterApplication(V)}),this._loadComponent(L),L}tick(){if(this._runningTick)throw new Me(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1}}attachView(d){const h=d;this._views.push(h),h.attachToAppRef(this)}detachView(d){const h=d;p0(this._views,h),h.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const h=this._injector.get(bE,[]);h.push(...this._bootstrapListeners),h.forEach(p=>p(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>p0(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new Me(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(h){return new(h||o)};static#t=this.\u0275prov=kn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function p0(o,a){const d=o.indexOf(a);d>-1&&o.splice(d,1)}const vA=new Si("",{providedIn:"root",factory:()=>Rn(Cu).handleError.bind(void 0)});function mk(){const o=Rn(As),a=Rn(Cu);return d=>o.runOutsideAngular(()=>a.handleError(d))}let gk=(()=>{class o{constructor(){this.zone=Rn(As),this.applicationRef=Rn(Fm)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(h){return new(h||o)};static#t=this.\u0275prov=kn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function vk(){return!1}let yk=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=bk}return o})();function bk(o){return function xk(o,a,d){if(rl(o)&&!d){const h=Br(o.index,a);return new ab(h,h)}return 47&o.type?new ab(a[zi],a):null}(Dr(),et(),16==(16&o))}class EA{constructor(){}supports(a){return db(a)}create(a){return new Tk(a)}}const Mk=(o,a)=>a;class Tk{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Mk}forEachItem(a){let d;for(d=this._itHead;null!==d;d=d._next)a(d)}forEachOperation(a){let d=this._itHead,h=this._removalsHead,p=0,_=null;for(;d||h;){const x=!h||d&&d.currentIndex<DE(h,p,_)?d:h,M=DE(x,p,_),D=x.currentIndex;if(x===h)p--,h=h._nextRemoved;else if(d=d._next,null==x.previousIndex)p++;else{_||(_=[]);const L=M-p,V=D-p;if(L!=V){for(let de=0;de<L;de++){const ge=de<_.length?_[de]:_[de]=0,We=ge+de;V<=We&&We<L&&(_[de]=ge+1)}_[x.previousIndex]=V-L}}M!==D&&a(x,M,D)}}forEachPreviousItem(a){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachMovedItem(a){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}forEachIdentityChange(a){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)a(d)}diff(a){if(null==a&&(a=[]),!db(a))throw new Me(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let p,_,x,d=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let M=0;M<this.length;M++)_=a[M],x=this._trackByFn(M,_),null!==d&&Object.is(d.trackById,x)?(h&&(d=this._verifyReinsertion(d,_,x,M)),Object.is(d.item,_)||this._addIdentityChange(d,_)):(d=this._mismatch(d,_,x,M),h=!0),d=d._next}else p=0,function S1(o,a){if(Array.isArray(o))for(let d=0;d<o.length;d++)a(o[d]);else{const d=o[Symbol.iterator]();let h;for(;!(h=d.next()).done;)a(h.value)}}(a,M=>{x=this._trackByFn(p,M),null!==d&&Object.is(d.trackById,x)?(h&&(d=this._verifyReinsertion(d,M,x,p)),Object.is(d.item,M)||this._addIdentityChange(d,M)):(d=this._mismatch(d,M,x,p),h=!0),d=d._next,p++}),this.length=p;return this._truncate(d),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,d,h,p){let _;return null===a?_=this._itTail:(_=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._reinsertAfter(a,_,p)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._moveAfter(a,_,p)):a=this._addAfter(new Ak(d,h),_,p),a}_verifyReinsertion(a,d,h,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==_?a=this._reinsertAfter(_,a._prev,p):a.currentIndex!=p&&(a.currentIndex=p,this._addToMoves(a,p)),a}_truncate(a){for(;null!==a;){const d=a._next;this._addToRemovals(this._unlink(a)),a=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,d,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const p=a._prevRemoved,_=a._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(a,d,h),this._addToMoves(a,h),a}_moveAfter(a,d,h){return this._unlink(a),this._insertAfter(a,d,h),this._addToMoves(a,h),a}_addAfter(a,d,h){return this._insertAfter(a,d,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,d,h){const p=null===d?this._itHead:d._next;return a._next=p,a._prev=d,null===p?this._itTail=a:p._prev=a,null===d?this._itHead=a:d._next=a,null===this._linkedRecords&&(this._linkedRecords=new _0),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const d=a._prev,h=a._next;return null===d?this._itHead=h:d._next=h,null===h?this._itTail=d:h._prev=d,a}_addToMoves(a,d){return a.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _0),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,d){return a.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Ak{constructor(a,d){this.item=a,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Dk{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,d){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===d||d<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const d=a._prevDup,h=a._nextDup;return null===d?this._head=h:d._nextDup=h,null===h?this._tail=d:h._prevDup=d,null===this._head}}class _0{constructor(){this.map=new Map}put(a){const d=a.trackById;let h=this.map.get(d);h||(h=new Dk,this.map.set(d,h)),h.add(a)}get(a,d){const p=this.map.get(a);return p?p.get(a,d):null}remove(a){const d=a.trackById;return this.map.get(d).remove(a)&&this.map.delete(d),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function DE(o,a,d){const h=o.previousIndex;if(null===h)return h;let p=0;return d&&h<d.length&&(p=d[h]),h+a+p}class CA{constructor(){}supports(a){return a instanceof Map||uw(a)}create(){return new v0}}class v0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let d;for(d=this._mapHead;null!==d;d=d._next)a(d)}forEachPreviousItem(a){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)a(d)}forEachChangedItem(a){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}diff(a){if(a){if(!(a instanceof Map||uw(a)))throw new Me(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,p)=>{if(d&&d.key===p)this._maybeAddToChanges(d,h),this._appendAfter=d,d=d._next;else{const _=this._getOrCreateRecordForKey(p,h);d=this._insertBeforeOrAppend(d,_)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let h=d;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,d){if(a){const h=a._prev;return d._next=a,d._prev=h,a._prev=d,h&&(h._next=d),a===this._mapHead&&(this._mapHead=d),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(a,d){if(this._records.has(a)){const p=this._records.get(a);this._maybeAddToChanges(p,d);const _=p._prev,x=p._next;return _&&(_._next=x),x&&(x._prev=_),p._next=null,p._prev=null,p}const h=new SA(a);return this._records.set(a,h),h.currentValue=d,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,d){Object.is(d,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=d,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,d){a instanceof Map?a.forEach(d):Object.keys(a).forEach(h=>d(a[h],h))}}class SA{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function MA(){return new IE([new EA])}let IE=(()=>{class o{static#e=this.\u0275prov=kn({token:o,providedIn:"root",factory:MA});constructor(d){this.factories=d}static create(d,h){if(null!=h){const p=h.factories.slice();d=d.concat(p)}return new o(d)}static extend(d){return{provide:o,useFactory:h=>o.create(d,h||MA()),deps:[[o,new wl,new Ep]]}}find(d){const h=this.factories.find(p=>p.supports(d));if(null!=h)return h;throw new Me(901,!1)}}return o})();function TA(){return new y0([new CA])}let y0=(()=>{class o{static#e=this.\u0275prov=kn({token:o,providedIn:"root",factory:TA});constructor(d){this.factories=d}static create(d,h){if(h){const p=h.factories.slice();d=d.concat(p)}return new o(d)}static extend(d){return{provide:o,useFactory:h=>o.create(d,h||TA()),deps:[[o,new wl,new Ep]]}}find(d){const h=this.factories.find(p=>p.supports(d));if(h)return h;throw new Me(901,!1)}}return o})();const Pk=wE(null,"core",[]);let dv=(()=>{class o{constructor(d){}static#e=this.\u0275fac=function(h){return new(h||o)(mn(Fm))};static#t=this.\u0275mod=Ic({type:o});static#n=this.\u0275inj=Bi({})}return o})();function Wk(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function Zk(o){const a=ti(o);if(!a)return null;const d=new rm(a);return{get selector(){return d.selector},get type(){return d.componentType},get inputs(){return d.inputs},get outputs(){return d.outputs},get ngContentSelectors(){return d.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},3106:(Kt,Je,W)=>{W.d(Je,{Z:()=>Pt});var c=W(9058),_e=W(4537),$=W(534),we=W(7879);class Te{constructor(Et,gt){this._delegate=Et,this.firebase=gt,(0,$._addComponent)(Et,new _e.wA("app-compat",()=>this,"PUBLIC")),this.container=Et.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Et){this._delegate.automaticDataCollectionEnabled=Et}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Et=>{this._delegate.checkDestroyed(),Et()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService(Et,gt=$._DEFAULT_ENTRY_NAME){var dn;this._delegate.checkDestroyed();const tn=this._delegate.container.getProvider(Et);return!tn.isInitialized()&&"EXPLICIT"===(null===(dn=tn.getComponent())||void 0===dn?void 0:dn.instantiationMode)&&tn.initialize(),tn.getImmediate({identifier:gt})}_removeServiceInstance(Et,gt=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Et).clearInstance(gt)}_addComponent(Et){(0,$._addComponent)(this._delegate,Et)}_addOrOverwriteComponent(Et){(0,$._addOrOverwriteComponent)(this._delegate,Et)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ze=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function Le(){const ut=function ht(ut){const Et={},gt={__esModule:!0,initializeApp:function Me(mt,Dt={}){const Ie=$.initializeApp(mt,Dt);if((0,c.r3)(Et,Ie.name))return Et[Ie.name];const hn=new ut(Ie,gt);return Et[Ie.name]=hn,hn},app:tn,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function Ee(mt){const Dt=mt.name,Ie=Dt.replace("-compat","");if($._registerComponent(mt)&&"PUBLIC"===mt.type){const hn=(Gn=tn())=>{if("function"!=typeof Gn[Ie])throw ze.create("invalid-app-argument",{appName:Dt});return Gn[Ie]()};void 0!==mt.serviceProps&&(0,c.ZB)(hn,mt.serviceProps),gt[Ie]=hn,ut.prototype[Ie]=function(...Gn){return this._getService.bind(this,Dt).apply(this,mt.multipleInstances?Gn:[])}}return"PUBLIC"===mt.type?gt[Ie]:null},removeApp:function dn(mt){delete Et[mt]},useAsService:function Qe(mt,Dt){return"serverAuth"===Dt?null:Dt},modularAPIs:$}};function tn(mt){if(!(0,c.r3)(Et,mt=mt||$._DEFAULT_ENTRY_NAME))throw ze.create("no-app",{appName:mt});return Et[mt]}return gt.default=gt,Object.defineProperty(gt,"apps",{get:function Ye(){return Object.keys(Et).map(mt=>Et[mt])}}),tn.App=ut,gt}(Te);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:Le,extendNamespace:function Et(gt){(0,c.ZB)(ut,gt)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),ut}(),oe=new we.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){oe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ut=self.firebase.SDK_VERSION;ut&&ut.indexOf("LITE")>=0&&oe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pt=te;!function at(ut){(0,$.registerVersion)("@firebase/app-compat","0.2.13",ut)}()},534:(Kt,Je,W)=>{W.r(Je),W.d(Je,{FirebaseError:()=>we.ZR,SDK_VERSION:()=>wa,_DEFAULT_ENTRY_NAME:()=>on,_addComponent:()=>qi,_addOrOverwriteComponent:()=>_s,_apps:()=>Mn,_clearComponents:()=>ci,_components:()=>Ti,_getProvider:()=>kr,_registerComponent:()=>yi,_removeServiceInstance:()=>Hl,deleteApp:()=>mo,getApp:()=>Zs,getApps:()=>Ca,initializeApp:()=>Ea,onLog:()=>ys,registerVersion:()=>xr,setLogLevel:()=>or});var c=W(5861),_e=W(4537),$=W(7879),we=W(9058);const Te=(ke,Se)=>Se.some(ct=>ke instanceof ct);let xe,ze;const te=new WeakMap,oe=new WeakMap,ve=new WeakMap,vt=new WeakMap,at=new WeakMap;let Et={get(ke,Se,ct){if(ke instanceof IDBTransaction){if("done"===Se)return oe.get(ke);if("objectStoreNames"===Se)return ke.objectStoreNames||ve.get(ke);if("store"===Se)return ct.objectStoreNames[1]?void 0:ct.objectStore(ct.objectStoreNames[0])}return Me(ke[Se])},set:(ke,Se,ct)=>(ke[Se]=ct,!0),has:(ke,Se)=>ke instanceof IDBTransaction&&("done"===Se||"store"===Se)||Se in ke};function tn(ke){return"function"==typeof ke?function dn(ke){return ke!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Le(){return ze||(ze=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ke)?function(...Se){return ke.apply(Ye(this),Se),Me(te.get(this))}:function(...Se){return Me(ke.apply(Ye(this),Se))}:function(Se,...ct){const Wt=ke.call(Ye(this),Se,...ct);return ve.set(Wt,Se.sort?Se.sort():[Se]),Me(Wt)}}(ke):(ke instanceof IDBTransaction&&function ut(ke){if(oe.has(ke))return;const Se=new Promise((ct,Wt)=>{const It=()=>{ke.removeEventListener("complete",On),ke.removeEventListener("error",di),ke.removeEventListener("abort",di)},On=()=>{ct(),It()},di=()=>{Wt(ke.error||new DOMException("AbortError","AbortError")),It()};ke.addEventListener("complete",On),ke.addEventListener("error",di),ke.addEventListener("abort",di)});oe.set(ke,Se)}(ke),Te(ke,function ht(){return xe||(xe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ke,Et):ke)}function Me(ke){if(ke instanceof IDBRequest)return function Pt(ke){const Se=new Promise((ct,Wt)=>{const It=()=>{ke.removeEventListener("success",On),ke.removeEventListener("error",di)},On=()=>{ct(Me(ke.result)),It()},di=()=>{Wt(ke.error),It()};ke.addEventListener("success",On),ke.addEventListener("error",di)});return Se.then(ct=>{ct instanceof IDBCursor&&te.set(ct,ke)}).catch(()=>{}),at.set(Se,ke),Se}(ke);if(vt.has(ke))return vt.get(ke);const Se=tn(ke);return Se!==ke&&(vt.set(ke,Se),at.set(Se,ke)),Se}const Ye=ke=>at.get(ke),mt=["get","getKey","getAll","getAllKeys","count"],Dt=["put","add","delete","clear"],Ie=new Map;function hn(ke,Se){if(!(ke instanceof IDBDatabase)||Se in ke||"string"!=typeof Se)return;if(Ie.get(Se))return Ie.get(Se);const ct=Se.replace(/FromIndex$/,""),Wt=Se!==ct,It=Dt.includes(ct);if(!(ct in(Wt?IDBIndex:IDBObjectStore).prototype)||!It&&!mt.includes(ct))return;const On=function(){var di=(0,c.Z)(function*(ar,...lr){const Or=this.transaction(ar,It?"readwrite":"readonly");let go=Or.store;return Wt&&(go=go.index(lr.shift())),(yield Promise.all([go[ct](...lr),It&&Or.done]))[0]});return function(lr){return di.apply(this,arguments)}}();return Ie.set(Se,On),On}!function gt(ke){Et=ke(Et)}(ke=>({...ke,get:(Se,ct,Wt)=>hn(Se,ct)||ke.get(Se,ct,Wt),has:(Se,ct)=>!!hn(Se,ct)||ke.has(Se,ct)}));class Gn{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(ct=>{if(function Pr(ke){const Se=ke.getComponent();return"VERSION"===Se?.type}(ct)){const Wt=ct.getImmediate();return`${Wt.library}/${Wt.version}`}return null}).filter(ct=>ct).join(" ")}}const gs="@firebase/app",sr=new $.Yd("@firebase/app"),on="[DEFAULT]",Wn={[gs]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Mn=new Map,Ti=new Map;function qi(ke,Se){try{ke.container.addComponent(Se)}catch(ct){sr.debug(`Component ${Se.name} failed to register with FirebaseApp ${ke.name}`,ct)}}function _s(ke,Se){ke.container.addOrOverwriteComponent(Se)}function yi(ke){const Se=ke.name;if(Ti.has(Se))return sr.debug(`There were multiple attempts to register component ${Se}.`),!1;Ti.set(Se,ke);for(const ct of Mn.values())qi(ct,ke);return!0}function kr(ke,Se){const ct=ke.container.getProvider("heartbeat").getImmediate({optional:!0});return ct&&ct.triggerHeartbeat(),ke.container.getProvider(Se)}function Hl(ke,Se,ct=on){kr(ke,Se).clearInstance(ct)}function ci(){Ti.clear()}const Hn=new we.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Io{constructor(Se,ct,Wt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},ct),this._name=ct.name,this._automaticDataCollectionEnabled=ct.automaticDataCollectionEnabled,this._container=Wt,this.container.addComponent(new _e.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}}const wa="9.23.0";function Ea(ke,Se={}){let ct=ke;"object"!=typeof Se&&(Se={name:Se});const Wt=Object.assign({name:on,automaticDataCollectionEnabled:!1},Se),It=Wt.name;if("string"!=typeof It||!It)throw Hn.create("bad-app-name",{appName:String(It)});if(ct||(ct=(0,we.aH)()),!ct)throw Hn.create("no-options");const On=Mn.get(It);if(On){if((0,we.vZ)(ct,On.options)&&(0,we.vZ)(Wt,On.config))return On;throw Hn.create("duplicate-app",{appName:It})}const di=new _e.H0(It);for(const lr of Ti.values())di.addComponent(lr);const ar=new Io(ct,Wt,di);return Mn.set(It,ar),ar}function Zs(ke=on){const Se=Mn.get(ke);if(!Se&&ke===on&&(0,we.aH)())return Ea();if(!Se)throw Hn.create("no-app",{appName:ke});return Se}function Ca(){return Array.from(Mn.values())}function mo(ke){return br.apply(this,arguments)}function br(){return(br=(0,c.Z)(function*(ke){const Se=ke.name;Mn.has(Se)&&(Mn.delete(Se),yield Promise.all(ke.container.getProviders().map(ct=>ct.delete())),ke.isDeleted=!0)})).apply(this,arguments)}function xr(ke,Se,ct){var Wt;let It=null!==(Wt=Wn[ke])&&void 0!==Wt?Wt:ke;ct&&(It+=`-${ct}`);const On=It.match(/\s|\//),di=Se.match(/\s|\//);if(On||di){const ar=[`Unable to register library "${It}" with version "${Se}":`];return On&&ar.push(`library name "${It}" contains illegal characters (whitespace or "/")`),On&&di&&ar.push("and"),di&&ar.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void sr.warn(ar.join(" "))}yi(new _e.wA(`${It}-version`,()=>({library:It,version:Se}),"VERSION"))}function ys(ke,Se){if(null!==ke&&"function"!=typeof ke)throw Hn.create("invalid-log-argument");(0,$.Am)(ke,Se)}function or(ke){(0,$.Ub)(ke)}const Xs="firebase-heartbeat-database",Ks=1,re="firebase-heartbeat-store";let ie=null;function ue(){return ie||(ie=function Ee(ke,Se,{blocked:ct,upgrade:Wt,blocking:It,terminated:On}={}){const di=indexedDB.open(ke,Se),ar=Me(di);return Wt&&di.addEventListener("upgradeneeded",lr=>{Wt(Me(di.result),lr.oldVersion,lr.newVersion,Me(di.transaction),lr)}),ct&&di.addEventListener("blocked",lr=>ct(lr.oldVersion,lr.newVersion,lr)),ar.then(lr=>{On&&lr.addEventListener("close",()=>On()),It&&lr.addEventListener("versionchange",Or=>It(Or.oldVersion,Or.newVersion,Or))}).catch(()=>{}),ar}(Xs,Ks,{upgrade:(ke,Se)=>{0===Se&&ke.createObjectStore(re)}}).catch(ke=>{throw Hn.create("idb-open",{originalErrorMessage:ke.message})})),ie}function Ae(){return(Ae=(0,c.Z)(function*(ke){try{return yield(yield ue()).transaction(re).objectStore(re).get(mn(ke))}catch(Se){if(Se instanceof we.ZR)sr.warn(Se.message);else{const ct=Hn.create("idb-get",{originalErrorMessage:Se?.message});sr.warn(ct.message)}}})).apply(this,arguments)}function Ft(ke,Se){return wn.apply(this,arguments)}function wn(){return(wn=(0,c.Z)(function*(ke,Se){try{const Wt=(yield ue()).transaction(re,"readwrite");yield Wt.objectStore(re).put(Se,mn(ke)),yield Wt.done}catch(ct){if(ct instanceof we.ZR)sr.warn(ct.message);else{const Wt=Hn.create("idb-set",{originalErrorMessage:ct?.message});sr.warn(Wt.message)}}})).apply(this,arguments)}function mn(ke){return`${ke.name}!${ke.options.appId}`}class Xi{constructor(Se){this.container=Se,this._heartbeatsCache=null;const ct=this.container.getProvider("app").getImmediate();this._storage=new Ro(ct),this._heartbeatsCachePromise=this._storage.read().then(Wt=>(this._heartbeatsCache=Wt,Wt))}triggerHeartbeat(){var Se=this;return(0,c.Z)(function*(){const Wt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),It=ei();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==It&&!Se._heartbeatsCache.heartbeats.some(On=>On.date===It))return Se._heartbeatsCache.heartbeats.push({date:It,agent:Wt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(On=>{const di=new Date(On.date).valueOf();return Date.now()-di<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,c.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const ct=ei(),{heartbeatsToSend:Wt,unsentEntries:It}=function mr(ke,Se=1024){const ct=[];let Wt=ke.slice();for(const It of ke){const On=ct.find(di=>di.agent===It.agent);if(On){if(On.dates.push(It.date),Qo(ct)>Se){On.dates.pop();break}}else if(ct.push({agent:It.agent,dates:[It.date]}),Qo(ct)>Se){ct.pop();break}Wt=Wt.slice(1)}return{heartbeatsToSend:ct,unsentEntries:Wt}}(Se._heartbeatsCache.heartbeats),On=(0,we.L)(JSON.stringify({version:2,heartbeats:Wt}));return Se._heartbeatsCache.lastSentHeartbeatDate=ct,It.length>0?(Se._heartbeatsCache.heartbeats=It,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),On})()}}function ei(){return(new Date).toISOString().substring(0,10)}class Ro{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,we.hl)()&&(0,we.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,c.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function Xe(ke){return Ae.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var ct=this;return(0,c.Z)(function*(){var Wt;if(yield ct._canUseIndexedDBPromise){const On=yield ct.read();return Ft(ct.app,{lastSentHeartbeatDate:null!==(Wt=Se.lastSentHeartbeatDate)&&void 0!==Wt?Wt:On.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var ct=this;return(0,c.Z)(function*(){var Wt;if(yield ct._canUseIndexedDBPromise){const On=yield ct.read();return Ft(ct.app,{lastSentHeartbeatDate:null!==(Wt=Se.lastSentHeartbeatDate)&&void 0!==Wt?Wt:On.lastSentHeartbeatDate,heartbeats:[...On.heartbeats,...Se.heartbeats]})}})()}}function Qo(ke){return(0,we.L)(JSON.stringify({version:2,heartbeats:ke})).length}!function Ac(ke){yi(new _e.wA("platform-logger",Se=>new Gn(Se),"PRIVATE")),yi(new _e.wA("heartbeat",Se=>new Xi(Se),"PRIVATE")),xr(gs,"0.9.13",ke),xr(gs,"0.9.13","esm2017"),xr("fire-js","")}("")},4537:(Kt,Je,W)=>{W.d(Je,{H0:()=>ht,wA:()=>$,zt:()=>Te});var c=W(5861),_e=W(9058);class ${constructor(te,oe,ve){this.name=te,this.instanceFactory=oe,this.type=ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const we="[DEFAULT]";class Te{constructor(te,oe){this.name=te,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const oe=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(oe)){const ve=new _e.BH;if(this.instancesDeferred.set(oe,ve),this.isInitialized(oe)||this.shouldAutoInitialize())try{const vt=this.getOrInitializeService({instanceIdentifier:oe});vt&&ve.resolve(vt)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(te){var oe;const ve=this.normalizeInstanceIdentifier(te?.identifier),vt=null!==(oe=te?.optional)&&void 0!==oe&&oe;if(!this.isInitialized(ve)&&!this.shouldAutoInitialize()){if(vt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ve})}catch(at){if(vt)return null;throw at}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function ze(Le){return"EAGER"===Le.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:we})}catch{}for(const[oe,ve]of this.instancesDeferred.entries()){const vt=this.normalizeInstanceIdentifier(oe);try{const at=this.getOrInitializeService({instanceIdentifier:vt});ve.resolve(at)}catch{}}}}clearInstance(te=we){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,c.Z)(function*(){const oe=Array.from(te.instances.values());yield Promise.all([...oe.filter(ve=>"INTERNAL"in ve).map(ve=>ve.INTERNAL.delete()),...oe.filter(ve=>"_delete"in ve).map(ve=>ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=we){return this.instances.has(te)}getOptions(te=we){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:oe={}}=te,ve=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(ve))throw Error(`${this.name}(${ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const vt=this.getOrInitializeService({instanceIdentifier:ve,options:oe});for(const[at,Pt]of this.instancesDeferred.entries())ve===this.normalizeInstanceIdentifier(at)&&Pt.resolve(vt);return vt}onInit(te,oe){var ve;const vt=this.normalizeInstanceIdentifier(oe),at=null!==(ve=this.onInitCallbacks.get(vt))&&void 0!==ve?ve:new Set;at.add(te),this.onInitCallbacks.set(vt,at);const Pt=this.instances.get(vt);return Pt&&te(Pt,vt),()=>{at.delete(te)}}invokeOnInitCallbacks(te,oe){const ve=this.onInitCallbacks.get(oe);if(ve)for(const vt of ve)try{vt(te,oe)}catch{}}getOrInitializeService({instanceIdentifier:te,options:oe={}}){let ve=this.instances.get(te);if(!ve&&this.component&&(ve=this.component.instanceFactory(this.container,{instanceIdentifier:(Le=te,Le===we?void 0:Le),options:oe}),this.instances.set(te,ve),this.instancesOptions.set(te,oe),this.invokeOnInitCallbacks(ve,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,ve)}catch{}var Le;return ve||null}normalizeInstanceIdentifier(te=we){return this.component?this.component.multipleInstances?te:we:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ht{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const oe=this.getProvider(te.name);if(oe.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);oe.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const oe=new Te(te,this);return this.providers.set(te,oe),oe}getProviders(){return Array.from(this.providers.values())}}},7879:(Kt,Je,W)=>{W.d(Je,{Am:()=>Le,Ub:()=>ht,Yd:()=>ze,in:()=>_e});const c=[];var _e=function(te){return te[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",te}(_e||{});const $={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},we=_e.INFO,Te={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},xe=(te,oe,...ve)=>{if(oe<te.logLevel)return;const vt=(new Date).toISOString(),at=Te[oe];if(!at)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[at](`[${vt}]  ${te.name}:`,...ve)};class ze{constructor(oe){this.name=oe,this._logLevel=we,this._logHandler=xe,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in _e))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?$[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...oe),this._logHandler(this,_e.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...oe),this._logHandler(this,_e.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...oe),this._logHandler(this,_e.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...oe),this._logHandler(this,_e.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...oe),this._logHandler(this,_e.ERROR,...oe)}}function ht(te){c.forEach(oe=>{oe.setLogLevel(te)})}function Le(te,oe){for(const ve of c){let vt=null;oe&&oe.level&&(vt=$[oe.level]),ve.userLogHandler=null===te?null:(at,Pt,...ut)=>{const Et=ut.map(gt=>{if(null==gt)return null;if("string"==typeof gt)return gt;if("number"==typeof gt||"boolean"==typeof gt)return gt.toString();if(gt instanceof Error)return gt.message;try{return JSON.stringify(gt)}catch{return null}}).filter(gt=>gt).join(" ");Pt>=(vt??at.logLevel)&&te({level:_e[Pt].toLowerCase(),message:Et,args:ut,type:at.name})}}}},3182:(Kt,Je,W)=>{W.d(Je,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=W(534);(0,c.registerVersion)("firebase","9.23.0","app")},7142:(Kt,Je,W)=>{W.d(Je,{Z:()=>c.Z});var c=W(3106);c.Z.registerVersion("firebase","9.23.0","app-compat")},5967:(Kt,Je,W)=>{W.r(Je);var c=W(5861),_e=W(3106),$=W(9058),we=W(534),Te=W(7582),xe=W(7879),ze=W(4537);const Le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Pt=function vt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ut=function at(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Et=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),dn=new xe.Yd("@firebase/auth");function Me(E,...g){dn.logLevel<=xe.in.ERROR&&dn.error(`Auth (${we.SDK_VERSION}): ${E}`,...g)}function Ye(E,...g){throw Dt(E,...g)}function Ee(E,...g){return Dt(E,...g)}function Qe(E,g,v){const C=Object.assign(Object.assign({},ut()),{[g]:v});return new $.LL("auth","Firebase",C).create(g,{appName:E.name})}function mt(E,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&Ye(E,"argument-error"),Qe(E,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dt(E,...g){if("string"!=typeof E){const v=g[0],C=[...g.slice(1)];return C[0]&&(C[0].appName=E.name),E._errorFactory.create(v,...C)}return Et.create(E,...g)}function Ie(E,g,...v){if(!E)throw Dt(g,...v)}function hn(E){const g="INTERNAL ASSERTION FAILED: "+E;throw Me(g),new Error(g)}function Gn(E,g){E||hn(g)}function Pr(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function gs(){return"http:"===Jo()||"https:"===Jo()}function Jo(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class ya{constructor(g,v){this.shortDelay=g,this.longDelay=v,Gn(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function sr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(gs()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pe(E,g){Gn(E.emulator,"Emulator should always be set here");const{url:v}=E.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class Ne{static initialize(g,v,C){this.fetchImpl=g,v&&(this.headersImpl=v),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ze=new ya(3e4,6e4);function Ke(E,g){return E.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:E.tenantId}):g}function tt(E,g,v,C){return zt.apply(this,arguments)}function zt(){return(zt=(0,c.Z)(function*(E,g,v,C,N={}){return Ct(E,N,(0,c.Z)(function*(){let H={},se={};C&&("GET"===g?se=C:H={body:JSON.stringify(C)});const ye=(0,$.xO)(Object.assign({key:E.config.apiKey},se)).slice(1),dt=yield E._getAdditionalHeaders();return dt["Content-Type"]="application/json",E.languageCode&&(dt["X-Firebase-Locale"]=E.languageCode),Ne.fetch()(kn(E,E.config.apiHost,v,ye),Object.assign({method:g,headers:dt,referrerPolicy:"no-referrer"},H))}))})).apply(this,arguments)}function Ct(E,g,v){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,c.Z)(function*(E,g,v){E._canInitEmulator=!1;const C=Object.assign(Object.assign({},qe),g);try{const N=new Ui(E),H=yield Promise.race([v(),N.promise]);N.clearNetworkTimeout();const se=yield H.json();if("needConfirmation"in se)throw Bi(E,"account-exists-with-different-credential",se);if(H.ok&&!("errorMessage"in se))return se;{const ye=H.ok?se.errorMessage:se.error.message,[dt,yt]=ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===dt)throw Bi(E,"credential-already-in-use",se);if("EMAIL_EXISTS"===dt)throw Bi(E,"email-already-in-use",se);if("USER_DISABLED"===dt)throw Bi(E,"user-disabled",se);const Gt=C[dt]||dt.toLowerCase().replace(/[_\s]+/g,"-");if(yt)throw Qe(E,Gt,yt);Ye(E,Gt)}}catch(N){if(N instanceof $.ZR)throw N;Ye(E,"network-request-failed",{message:String(N)})}})).apply(this,arguments)}function sn(E,g,v,C){return li.apply(this,arguments)}function li(){return(li=(0,c.Z)(function*(E,g,v,C,N={}){const H=yield tt(E,g,v,C,N);return"mfaPendingCredential"in H&&Ye(E,"multi-factor-auth-required",{_serverResponse:H}),H})).apply(this,arguments)}function kn(E,g,v,C){const N=`${g}${v}?${C}`;return E.config.emulator?Pe(E.config,N):`${E.config.apiScheme}://${N}`}class Ui{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,C)=>{this.timer=setTimeout(()=>C(Ee(this.auth,"network-request-failed")),Ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bi(E,g,v){const C={appName:E.name};v.email&&(C.email=v.email),v.phoneNumber&&(C.phoneNumber=v.phoneNumber);const N=Ee(E,g,C);return N.customData._tokenResponse=v,N}function Ei(){return(Ei=(0,c.Z)(function*(E,g){return tt(E,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(E,g){return tt(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ns(){return(Ns=(0,c.Z)(function*(E,g){return tt(E,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ls(E){if(E)try{const g=new Date(Number(E));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function on(){return(on=(0,c.Z)(function*(E,g=!1){const v=(0,$.m9)(E),C=yield v.getIdToken(g),N=Mn(C);Ie(N&&N.exp&&N.auth_time&&N.iat,v.auth,"internal-error");const H="object"==typeof N.firebase?N.firebase:void 0,se=H?.sign_in_provider;return{claims:N,token:C,authTime:Ls(Wn(N.auth_time)),issuedAtTime:Ls(Wn(N.iat)),expirationTime:Ls(Wn(N.exp)),signInProvider:se||null,signInSecondFactor:H?.sign_in_second_factor||null}})).apply(this,arguments)}function Wn(E){return 1e3*Number(E)}function Mn(E){const[g,v,C]=E.split(".");if(void 0===g||void 0===v||void 0===C)return Me("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,$.tV)(v);return N?JSON.parse(N):(Me("Failed to decode base64 JWT payload"),null)}catch(N){return Me("Caught error parsing JWT payload as JSON",N?.toString()),null}}function qi(E,g){return _s.apply(this,arguments)}function _s(){return(_s=(0,c.Z)(function*(E,g,v=!1){if(v)return g;try{return yield g}catch(C){throw C instanceof $.ZR&&function yi({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(C)&&E.auth.currentUser===E&&(yield E.auth.signOut()),C}})).apply(this,arguments)}class kr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const N=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const C=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield v.iteration()}),C)}iteration(){var g=this;return(0,c.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&g.schedule(!0))}g.schedule()})()}}class Hl{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ls(this.lastLoginAt),this.creationTime=Ls(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ci(E){return vs.apply(this,arguments)}function vs(){return vs=(0,c.Z)(function*(E){var g;const v=E.auth,C=yield E.getIdToken(),N=yield qi(E,function ba(E,g){return Ns.apply(this,arguments)}(v,{idToken:C}));Ie(N?.users.length,v,"internal-error");const H=N.users[0];E._notifyReloadListener(H);const se=null!==(g=H.providerUserInfo)&&void 0!==g&&g.length?function Ea(E){return E.map(g=>{var{providerId:v}=g,C=(0,Te._T)(g,["providerId"]);return{providerId:v,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(H.providerUserInfo):[],ye=function wa(E,g){return[...E.filter(C=>!g.some(N=>N.providerId===C.providerId)),...g]}(E.providerData,se),Gt=!!E.isAnonymous&&!(E.email&&H.passwordHash||ye?.length),jt={uid:H.localId,displayName:H.displayName||null,photoURL:H.photoUrl||null,email:H.email||null,emailVerified:H.emailVerified||!1,phoneNumber:H.phoneNumber||null,tenantId:H.tenantId||null,providerData:ye,metadata:new Hl(H.createdAt,H.lastLoginAt),isAnonymous:Gt};Object.assign(E,jt)}),vs.apply(this,arguments)}function Io(){return(Io=(0,c.Z)(function*(E){const g=(0,$.m9)(E);yield ci(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Ca(){return(Ca=(0,c.Z)(function*(E,g){const v=yield Ct(E,{},(0,c.Z)(function*(){const C=(0,$.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:N,apiKey:H}=E.config,se=kn(E,N,"/v1/token",`key=${H}`),ye=yield E._getAdditionalHeaders();return ye["Content-Type"]="application/x-www-form-urlencoded",Ne.fetch()(se,{method:"POST",headers:ye,body:C})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Ie(g.idToken,"internal-error"),Ie(typeof g.idToken<"u","internal-error"),Ie(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Ti(E){const g=Mn(E);return Ie(g,"internal-error"),Ie(typeof g.exp<"u","internal-error"),Ie(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}getToken(g,v=!1){var C=this;return(0,c.Z)(function*(){return Ie(!C.accessToken||C.refreshToken,g,"user-token-expired"),v||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(g,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var C=this;return(0,c.Z)(function*(){const{accessToken:N,refreshToken:H,expiresIn:se}=yield function Zs(E,g){return Ca.apply(this,arguments)}(g,v);C.updateTokensAndExpiration(N,H,Number(se))})()}updateTokensAndExpiration(g,v,C){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(g,v){const{refreshToken:C,accessToken:N,expirationTime:H}=v,se=new mo;return C&&(Ie("string"==typeof C,"internal-error",{appName:g}),se.refreshToken=C),N&&(Ie("string"==typeof N,"internal-error",{appName:g}),se.accessToken=N),H&&(Ie("number"==typeof H,"internal-error",{appName:g}),se.expirationTime=H),se}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return hn("not implemented")}}function br(E,g){Ie("string"==typeof E||typeof E>"u","internal-error",{appName:g})}class xr{constructor(g){var{uid:v,auth:C,stsTokenManager:N}=g,H=(0,Te._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=C,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=H.displayName||null,this.email=H.email||null,this.emailVerified=H.emailVerified||!1,this.phoneNumber=H.phoneNumber||null,this.photoURL=H.photoURL||null,this.isAnonymous=H.isAnonymous||!1,this.tenantId=H.tenantId||null,this.providerData=H.providerData?[...H.providerData]:[],this.metadata=new Hl(H.createdAt||void 0,H.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,c.Z)(function*(){const C=yield qi(v,v.stsTokenManager.getToken(v.auth,g));return Ie(C,v.auth,"internal-error"),v.accessToken!==C&&(v.accessToken=C,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),C})()}getIdTokenResult(g){return function Tc(E){return on.apply(this,arguments)}(this,g)}reload(){return function Hn(E){return Io.apply(this,arguments)}(this)}_assign(g){this!==g&&(Ie(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const v=new xr(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(g){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var C=this;return(0,c.Z)(function*(){let N=!1;g.idToken&&g.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(g),N=!0),v&&(yield ci(C)),yield C.auth._persistUserIfCurrent(C),N&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var g=this;return(0,c.Z)(function*(){const v=yield g.getIdToken();return yield qi(g,function yr(E,g){return Ei.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var C,N,H,se,ye,dt,yt,Gt;const jt=null!==(C=v.displayName)&&void 0!==C?C:void 0,ji=null!==(N=v.email)&&void 0!==N?N:void 0,Vo=null!==(H=v.phoneNumber)&&void 0!==H?H:void 0,vu=null!==(se=v.photoURL)&&void 0!==se?se:void 0,ld=null!==(ye=v.tenantId)&&void 0!==ye?ye:void 0,yu=null!==(dt=v._redirectEventId)&&void 0!==dt?dt:void 0,Wg=null!==(yt=v.createdAt)&&void 0!==yt?yt:void 0,Fp=null!==(Gt=v.lastLoginAt)&&void 0!==Gt?Gt:void 0,{uid:cd,emailVerified:Bh,isAnonymous:jg,providerData:$g,stsTokenManager:Yg}=v;Ie(cd&&Yg,g,"internal-error");const dx=mo.fromJSON(this.name,Yg);Ie("string"==typeof cd,g,"internal-error"),br(jt,g.name),br(ji,g.name),Ie("boolean"==typeof Bh,g,"internal-error"),Ie("boolean"==typeof jg,g,"internal-error"),br(Vo,g.name),br(vu,g.name),br(ld,g.name),br(yu,g.name),br(Wg,g.name),br(Fp,g.name);const qg=new xr({uid:cd,auth:g,email:ji,emailVerified:Bh,displayName:jt,isAnonymous:jg,photoURL:vu,phoneNumber:Vo,tenantId:ld,stsTokenManager:dx,createdAt:Wg,lastLoginAt:Fp});return $g&&Array.isArray($g)&&(qg.providerData=$g.map(Cy=>Object.assign({},Cy))),yu&&(qg._redirectEventId=yu),qg}static _fromIdTokenResponse(g,v,C=!1){return(0,c.Z)(function*(){const N=new mo;N.updateFromServerResponse(v);const H=new xr({uid:v.localId,auth:g,stsTokenManager:N,isAnonymous:C});return yield ci(H),H})()}}const ys=new Map;function or(E){Gn(E instanceof Function,"Expected a class definition");let g=ys.get(E);return g?(Gn(g instanceof E,"Instance stored in cache mismatched with class"),g):(g=new E,ys.set(E,g),g)}const Ks=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(v,C){var N=this;return(0,c.Z)(function*(){N.storage[v]=C})()}_get(v){var C=this;return(0,c.Z)(function*(){const N=C.storage[v];return void 0===N?null:N})()}_remove(v){var C=this;return(0,c.Z)(function*(){delete C.storage[v]})()}_addListener(v,C){}_removeListener(v,C){}}return E.type="NONE",E})();function re(E,g,v){return`firebase:${E}:${g}:${v}`}class ie{constructor(g,v,C){this.persistence=g,this.auth=v,this.userKey=C;const{config:N,name:H}=this.auth;this.fullUserKey=re(this.userKey,N.apiKey,H),this.fullPersistenceKey=re("persistence",N.apiKey,H),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?xr._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,c.Z)(function*(){if(v.persistence===g)return;const C=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,C?v.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,C="authUser"){return(0,c.Z)(function*(){if(!v.length)return new ie(or(Ks),g,C);const N=(yield Promise.all(v.map(function(){var yt=(0,c.Z)(function*(Gt){if(yield Gt._isAvailable())return Gt});return function(Gt){return yt.apply(this,arguments)}}()))).filter(yt=>yt);let H=N[0]||or(Ks);const se=re(C,g.config.apiKey,g.name);let ye=null;for(const yt of v)try{const Gt=yield yt._get(se);if(Gt){const jt=xr._fromJSON(g,Gt);yt!==H&&(ye=jt),H=yt;break}}catch{}const dt=N.filter(yt=>yt._shouldAllowMigration);return H._shouldAllowMigration&&dt.length?(H=dt[0],ye&&(yield H._set(se,ye.toJSON())),yield Promise.all(v.map(function(){var yt=(0,c.Z)(function*(Gt){if(Gt!==H)try{yield Gt._remove(se)}catch{}});return function(Gt){return yt.apply(this,arguments)}}())),new ie(H,g,C)):new ie(H,g,C)})()}}function ue(E){const g=E.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(wn(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Xe(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(wr(g))return"Blackberry";if(Rn(g))return"Webos";if(Ae(g))return"Safari";if((g.includes("chrome/")||Ft(g))&&!g.includes("edge/"))return"Chrome";if(mn(g))return"Android";{const C=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function Xe(E=(0,$.z$)()){return/firefox\//i.test(E)}function Ae(E=(0,$.z$)()){const g=E.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Ft(E=(0,$.z$)()){return/crios\//i.test(E)}function wn(E=(0,$.z$)()){return/iemobile/i.test(E)}function mn(E=(0,$.z$)()){return/android/i.test(E)}function wr(E=(0,$.z$)()){return/blackberry/i.test(E)}function Rn(E=(0,$.z$)()){return/webos/i.test(E)}function Xi(E=(0,$.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function Qo(E=(0,$.z$)()){return Xi(E)||mn(E)||Rn(E)||wr(E)||/windows phone/i.test(E)||wn(E)}function ke(E,g=[]){let v;switch(E){case"Browser":v=ue((0,$.z$)());break;case"Worker":v=`${ue((0,$.z$)())}-${E}`;break;default:v=E}const C=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${we.SDK_VERSION}/${C}`}function ct(){return(ct=(0,c.Z)(function*(E){return(yield tt(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Wt(E,g){return It.apply(this,arguments)}function It(){return(It=(0,c.Z)(function*(E,g){return tt(E,"GET","/v2/recaptchaConfig",Ke(E,g))})).apply(this,arguments)}function On(E){return void 0!==E&&void 0!==E.getResponse}function di(E){return void 0!==E&&void 0!==E.enterprise}class ar{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(v=>"EMAIL_PASSWORD_PROVIDER"===v.provider&&"OFF"!==v.enforcementState)}}function Or(E){return new Promise((g,v)=>{const C=document.createElement("script");C.setAttribute("src",E),C.onload=g,C.onerror=N=>{const H=Ee("internal-error");H.customData=N,v(H)},C.type="text/javascript",C.charset="UTF-8",function lr(){var E,g;return null!==(g=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==g?g:document}().appendChild(C)})}function go(E){return`__${E}${Math.floor(1e6*Math.random())}`}class Ju{constructor(g){this.type="recaptcha-enterprise",this.auth=cr(g)}verify(g="verify",v=!1){var C=this;return(0,c.Z)(function*(){function H(){return H=(0,c.Z)(function*(ye){if(!v){if(null==ye.tenantId&&null!=ye._agentRecaptchaConfig)return ye._agentRecaptchaConfig.siteKey;if(null!=ye.tenantId&&void 0!==ye._tenantRecaptchaConfigs[ye.tenantId])return ye._tenantRecaptchaConfigs[ye.tenantId].siteKey}return new Promise(function(){var dt=(0,c.Z)(function*(yt,Gt){Wt(ye,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(jt=>{if(void 0!==jt.recaptchaKey){const ji=new ar(jt);return null==ye.tenantId?ye._agentRecaptchaConfig=ji:ye._tenantRecaptchaConfigs[ye.tenantId]=ji,yt(ji.siteKey)}Gt(new Error("recaptcha Enterprise site key undefined"))}).catch(jt=>{Gt(jt)})});return function(yt,Gt){return dt.apply(this,arguments)}}())}),H.apply(this,arguments)}function se(ye,dt,yt){const Gt=window.grecaptcha;di(Gt)?Gt.enterprise.ready(()=>{Gt.enterprise.execute(ye,{action:g}).then(jt=>{dt(jt)}).catch(()=>{dt("NO_RECAPTCHA")})}):yt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ye,dt)=>{(function N(ye){return H.apply(this,arguments)})(C.auth).then(yt=>{if(!v&&di(window.grecaptcha))se(yt,ye,dt);else{if(typeof window>"u")return void dt(new Error("RecaptchaVerifier is only supported in browser"));Or("https://www.google.com/recaptcha/enterprise.js?render="+yt).then(()=>{se(yt,ye,dt)}).catch(Gt=>{dt(Gt)})}}).catch(yt=>{dt(yt)})})})()}}function Js(E,g,v){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,c.Z)(function*(E,g,v,C=!1){const N=new Ju(E);let H;try{H=yield N.verify(v)}catch{H=yield N.verify(v,!0)}const se=Object.assign({},g);return Object.assign(se,C?{captchaResp:H}:{captchaResponse:H}),Object.assign(se,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(se,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),se})).apply(this,arguments)}class Gl{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const C=H=>new Promise((se,ye)=>{try{se(g(H))}catch(dt){ye(dt)}});C.onAbort=v,this.queue.push(C);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,c.Z)(function*(){if(v.auth.currentUser===g)return;const C=[];try{for(const N of v.queue)yield N(g),N.onAbort&&C.push(N.onAbort)}catch(N){C.reverse();for(const H of C)try{H()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:N?.message})}})()}}class Qu{constructor(g,v,C,N){this.app=g,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=C,this.config=N,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bs(this),this.idTokenSubscription=new bs(this),this.beforeStateQueue=new Gl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Et,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=N.sdkClientVersion}_initializeWithPersistence(g,v){var C=this;return v&&(this._popupRedirectResolver=or(v)),this._initializationPromise=this.queue((0,c.Z)(function*(){var N,H;if(!C._deleted&&(C.persistenceManager=yield ie.create(C,g),!C._deleted)){if(null!==(N=C._popupRedirectResolver)&&void 0!==N&&N._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(v),C.lastNotifiedUid=(null===(H=C.currentUser)||void 0===H?void 0:H.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUser(g){var v=this;return(0,c.Z)(function*(){var C;const N=yield v.assertedPersistence.getCurrentUser();let H=N,se=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const ye=null===(C=v.redirectUser)||void 0===C?void 0:C._redirectEventId,dt=H?._redirectEventId,yt=yield v.tryRedirectSignIn(g);(!ye||ye===dt)&&yt?.user&&(H=yt.user,se=!0)}if(!H)return v.directlySetCurrentUser(null);if(!H._redirectEventId){if(se)try{yield v.beforeStateQueue.runMiddleware(H)}catch(ye){H=N,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(ye))}return H?v.reloadAndSetCurrentUserOrClear(H):v.directlySetCurrentUser(null)}return Ie(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===H._redirectEventId?v.directlySetCurrentUser(H):v.reloadAndSetCurrentUserOrClear(H)})()}tryRedirectSignIn(g){var v=this;return(0,c.Z)(function*(){let C=null;try{C=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch{yield v._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,c.Z)(function*(){try{yield ci(g)}catch(C){if("auth/network-request-failed"!==C?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ja(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,c.Z)(function*(){const C=g?(0,$.m9)(g):null;return C&&Ie(C.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(C&&C._clone(v))})()}_updateCurrentUser(g,v=!1){var C=this;return(0,c.Z)(function*(){if(!C._deleted)return g&&Ie(C.tenantId===g.tenantId,C,"tenant-id-mismatch"),v||(yield C.beforeStateQueue.runMiddleware(g)),C.queue((0,c.Z)(function*(){yield C.directlySetCurrentUser(g),C.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var v=this;return this.queue((0,c.Z)(function*(){yield v.assertedPersistence.setPersistence(or(g))}))}initializeRecaptchaConfig(){var g=this;return(0,c.Z)(function*(){const v=yield Wt(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new ar(v);null==g.tenantId?g._agentRecaptchaConfig=C:g._tenantRecaptchaConfigs[g.tenantId]=C,C.emailPasswordEnabled&&new Ju(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new $.LL("auth","Firebase",g())}onAuthStateChanged(g,v,C){return this.registerStateListener(this.authStateSubscription,g,v,C)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,C){return this.registerStateListener(this.idTokenSubscription,g,v,C)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var C=this;return(0,c.Z)(function*(){const N=yield C.getOrInitRedirectPersistenceManager(v);return null===g?N.removeCurrentUser():N.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,c.Z)(function*(){if(!v.redirectPersistenceManager){const C=g&&or(g)||v._popupRedirectResolver;Ie(C,v,"argument-error"),v.redirectPersistenceManager=yield ie.create(v,[or(C._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,c.Z)(function*(){var C,N;return v._isInitialized&&(yield v.queue((0,c.Z)(function*(){}))),(null===(C=v._currentUser)||void 0===C?void 0:C._redirectEventId)===g?v._currentUser:(null===(N=v.redirectUser)||void 0===N?void 0:N._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,c.Z)(function*(){if(g===v.currentUser)return v.queue((0,c.Z)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,C,N){if(this._deleted)return()=>{};const H="function"==typeof v?v:v.next.bind(v),se=this._isInitialized?Promise.resolve():this._initializationPromise;return Ie(se,this,"internal-error"),se.then(()=>H(this.currentUser)),"function"==typeof v?g.addObserver(v,C,N):g.addObserver(v)}directlySetCurrentUser(g){var v=this;return(0,c.Z)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=ke(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,c.Z)(function*(){var v;const C={"X-Client-Version":g.clientVersion};g.app.options.appId&&(C["X-Firebase-gmpid"]=g.app.options.appId);const N=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();N&&(C["X-Firebase-Client"]=N);const H=yield g._getAppCheckToken();return H&&(C["X-Firebase-AppCheck"]=H),C})()}_getAppCheckToken(){var g=this;return(0,c.Z)(function*(){var v;const C=yield null===(v=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return C?.error&&function tn(E,...g){dn.logLevel<=xe.in.WARN&&dn.warn(`Auth (${we.SDK_VERSION}): ${E}`,...g)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function cr(E){return(0,$.m9)(E)}class bs{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,$.ne)(v=>this.observer=v)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ma(E){const g=E.indexOf(":");return g<0?"":E.substr(0,g+1)}function eh(E){if(!E)return null;const g=Number(E);return isNaN(g)?null:g}class el{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return hn("not implemented")}_getIdTokenResponse(g){return hn("not implemented")}_linkToIdToken(g,v){return hn("not implemented")}_getReauthenticationResolver(g){return hn("not implemented")}}function Wf(E,g){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,c.Z)(function*(E,g){return tt(E,"POST","/v1/accounts:resetPassword",Ke(E,g))})).apply(this,arguments)}function Fd(E,g){return jf.apply(this,arguments)}function jf(){return(jf=(0,c.Z)(function*(E,g){return tt(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ud(){return(Ud=(0,c.Z)(function*(E,g){return tt(E,"POST","/v1/accounts:update",Ke(E,g))})).apply(this,arguments)}function Wr(E,g){return th.apply(this,arguments)}function th(){return(th=(0,c.Z)(function*(E,g){return sn(E,"POST","/v1/accounts:signInWithPassword",Ke(E,g))})).apply(this,arguments)}function Bd(E,g){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,c.Z)(function*(E,g){return tt(E,"POST","/v1/accounts:sendOobCode",Ke(E,g))})).apply(this,arguments)}function Vd(){return(Vd=(0,c.Z)(function*(E,g){return Bd(E,g)})).apply(this,arguments)}function jl(E,g){return nh.apply(this,arguments)}function nh(){return(nh=(0,c.Z)(function*(E,g){return Bd(E,g)})).apply(this,arguments)}function ti(E,g){return er.apply(this,arguments)}function er(){return(er=(0,c.Z)(function*(E,g){return Bd(E,g)})).apply(this,arguments)}function Ta(){return(Ta=(0,c.Z)(function*(E,g){return Bd(E,g)})).apply(this,arguments)}function ih(){return(ih=(0,c.Z)(function*(E,g){return sn(E,"POST","/v1/accounts:signInWithEmailLink",Ke(E,g))})).apply(this,arguments)}function Rc(){return(Rc=(0,c.Z)(function*(E,g){return sn(E,"POST","/v1/accounts:signInWithEmailLink",Ke(E,g))})).apply(this,arguments)}class Hd extends el{constructor(g,v,C,N=null){super("password",C),this._email=g,this._password=v,this._tenantId=N}static _fromEmailAndPassword(g,v){return new Hd(g,v,"password")}static _fromEmailAndCode(g,v,C=null){return new Hd(g,v,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,c.Z)(function*(){var C;switch(v.signInMethod){case"password":const N={returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=g._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const H=yield Js(g,N,"signInWithPassword");return Wr(g,H)}return Wr(g,N).catch(function(){var H=(0,c.Z)(function*(se){if("auth/missing-recaptcha-token"===se.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ye=yield Js(g,N,"signInWithPassword");return Wr(g,ye)}return Promise.reject(se)});return function(se){return H.apply(this,arguments)}}());case"emailLink":return function as(E,g){return ih.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:Ye(g,"internal-error")}})()}_linkToIdToken(g,v){var C=this;return(0,c.Z)(function*(){switch(C.signInMethod){case"password":return Fd(g,{idToken:v,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function ag(E,g){return Rc.apply(this,arguments)}(g,{idToken:v,email:C._email,oobCode:C._password});default:Ye(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function eo(E,g){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,c.Z)(function*(E,g){return sn(E,"POST","/v1/accounts:signInWithIdp",Ke(E,g))})).apply(this,arguments)}class pn extends el{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new pn(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):Ye("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:N}=v,H=(0,Te._T)(v,["providerId","signInMethod"]);if(!C||!N)return null;const se=new pn(C,N);return se.idToken=H.idToken||void 0,se.accessToken=H.accessToken||void 0,se.secret=H.secret,se.nonce=H.nonce,se.pendingToken=H.pendingToken||null,se}_getIdTokenResponse(g){return eo(g,this.buildRequest())}_linkToIdToken(g,v){const C=this.buildRequest();return C.idToken=v,eo(g,C)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,eo(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,$.xO)(v)}return g}}function ls(){return(ls=(0,c.Z)(function*(E,g){return tt(E,"POST","/v1/accounts:sendVerificationCode",Ke(E,g))})).apply(this,arguments)}function Nr(){return(Nr=(0,c.Z)(function*(E,g){return sn(E,"POST","/v1/accounts:signInWithPhoneNumber",Ke(E,g))})).apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(E,g){const v=yield sn(E,"POST","/v1/accounts:signInWithPhoneNumber",Ke(E,g));if(v.temporaryProof)throw Bi(E,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const ea={USER_NOT_FOUND:"user-not-found"};function _n(){return(_n=(0,c.Z)(function*(E,g){return sn(E,"POST","/v1/accounts:signInWithPhoneNumber",Ke(E,Object.assign(Object.assign({},g),{operation:"REAUTH"})),ea)})).apply(this,arguments)}class Lr extends el{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new Lr({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new Lr({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function tl(E,g){return Nr.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function Pc(E,g){return mi.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function $l(E,g){return _n.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:C,verificationCode:N}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:C,code:N}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:C,phoneNumber:N,temporaryProof:H}=g;return C||v||N||H?new Lr({verificationId:v,verificationCode:C,phoneNumber:N,temporaryProof:H}):null}}class zi{constructor(g){var v,C,N,H,se,ye;const dt=(0,$.zd)((0,$.pd)(g)),yt=null!==(v=dt.apiKey)&&void 0!==v?v:null,Gt=null!==(C=dt.oobCode)&&void 0!==C?C:null,jt=function Yf(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=dt.mode)&&void 0!==N?N:null);Ie(yt&&Gt&&jt,"argument-error"),this.apiKey=yt,this.operation=jt,this.code=Gt,this.continueUrl=null!==(H=dt.continueUrl)&&void 0!==H?H:null,this.languageCode=null!==(se=dt.languageCode)&&void 0!==se?se:null,this.tenantId=null!==(ye=dt.tenantId)&&void 0!==ye?ye:null}static parseLink(g){const v=function Aa(E){const g=(0,$.zd)((0,$.pd)(E)).link,v=g?(0,$.zd)((0,$.pd)(g)).deep_link_id:null,C=(0,$.zd)((0,$.pd)(E)).deep_link_id;return(C?(0,$.zd)((0,$.pd)(C)).link:null)||C||v||g||E}(g);try{return new zi(v)}catch{return null}}}let nl=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(v,C){return Hd._fromEmailAndPassword(v,C)}static credentialWithLink(v,C){const N=zi.parseLink(C);return Ie(N,"argument-error"),Hd._fromEmailAndCode(v,N.code,N.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Er{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ta extends Er{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class na extends ta{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return Ie("providerId"in v&&"signInMethod"in v,"argument-error"),pn._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Ie(g.idToken||g.accessToken,"argument-error"),pn._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return na.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return na.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:C,oauthTokenSecret:N,pendingToken:H,nonce:se,providerId:ye}=g;if(!C&&!N&&!v&&!H||!ye)return null;try{return new na(ye)._credential({idToken:v,accessToken:C,nonce:se,pendingToken:H})}catch{return null}}}let Da=(()=>{class E extends ta{constructor(){super("facebook.com")}static credential(v){return pn._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),Fs=(()=>{class E extends ta{constructor(){super("google.com"),this.addScope("profile")}static credential(v,C){return pn._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:C})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:C,oauthAccessToken:N}=v;if(!C&&!N)return null;try{return E.credential(C,N)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),kc=(()=>{class E extends ta{constructor(){super("github.com")}static credential(v){return pn._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Fn extends el{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return eo(g,this.buildRequest())}_linkToIdToken(g,v){const C=this.buildRequest();return C.idToken=v,eo(g,C)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,eo(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:N,pendingToken:H}=v;return C&&N&&H&&C===N?new Fn(C,H):null}static _create(g,v){return new Fn(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Yl extends Er{constructor(g){Ie(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Yl.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Yl.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=Fn.fromJSON(g);return Ie(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:C}=g;if(!v||!C)return null;try{return Fn._create(C,v)}catch{return null}}}let zd=(()=>{class E extends ta{constructor(){super("twitter.com")}static credential(v,C){return pn._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:C})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:C,oauthTokenSecret:N}=v;if(!C||!N)return null;try{return E.credential(C,N)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function Cr(E,g){return il.apply(this,arguments)}function il(){return(il=(0,c.Z)(function*(E,g){return sn(E,"POST","/v1/accounts:signUp",Ke(E,g))})).apply(this,arguments)}class Sr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,C,N=!1){return(0,c.Z)(function*(){const H=yield xr._fromIdTokenResponse(g,C,N),se=Ra(C);return new Sr({user:H,providerId:se,_tokenResponse:C,operationType:v})})()}static _forOperation(g,v,C){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(C,!0);const N=Ra(C);return new Sr({user:g,providerId:N,_tokenResponse:C,operationType:v})})()}}function Ra(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function lg(){return(lg=(0,c.Z)(function*(E){var g;const v=cr(E);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new Sr({user:v.currentUser,providerId:null,operationType:"signIn"});const C=yield Cr(v,{returnSecureToken:!0}),N=yield Sr._fromIdTokenResponse(v,"signIn",C,!0);return yield v._updateCurrentUser(N.user),N})).apply(this,arguments)}class Mr extends $.ZR{constructor(g,v,C,N){var H;super(v.code,v.message),this.operationType=C,this.user=N,Object.setPrototypeOf(this,Mr.prototype),this.customData={appName:g.name,tenantId:null!==(H=g.tenantId)&&void 0!==H?H:void 0,_serverResponse:v.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(g,v,C,N){return new Mr(g,v,C,N)}}function jr(E,g,v,C){return("reauthenticate"===g?v._getReauthenticationResolver(E):v._getIdTokenResponse(E)).catch(H=>{throw"auth/multi-factor-auth-required"===H.code?Mr._fromErrorAndOperation(E,H,g,C):H})}function Gd(E){return new Set(E.map(({providerId:g})=>g).filter(g=>!!g))}function Us(){return Us=(0,c.Z)(function*(E,g){const v=(0,$.m9)(E);yield Zl(!0,v,g);const{providerUserInfo:C}=yield function Gr(E,g){return Os.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),N=Gd(C||[]);return v.providerData=v.providerData.filter(H=>N.has(H.providerId)),N.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),Us.apply(this,arguments)}function ws(E,g){return ql.apply(this,arguments)}function ql(){return(ql=(0,c.Z)(function*(E,g,v=!1){const C=yield qi(E,g._linkToIdToken(E.auth,yield E.getIdToken()),v);return Sr._forOperation(E,"link",C)})).apply(this,arguments)}function Zl(E,g,v){return sh.apply(this,arguments)}function sh(){return(sh=(0,c.Z)(function*(E,g,v){yield ci(g);const N=!1===E?"provider-already-linked":"no-such-provider";Ie(Gd(g.providerData).has(v)===E,g.auth,N)})).apply(this,arguments)}function Yv(E,g){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,c.Z)(function*(E,g,v=!1){const{auth:C}=E,N="reauthenticate";try{const H=yield qi(E,jr(C,N,g,E),v);Ie(H.idToken,C,"internal-error");const se=Mn(H.idToken);Ie(se,C,"internal-error");const{sub:ye}=se;return Ie(E.uid===ye,C,"user-mismatch"),Sr._forOperation(E,N,H)}catch(H){throw"auth/user-not-found"===H?.code&&Ye(C,"user-mismatch"),H}})).apply(this,arguments)}function oh(E,g){return qf.apply(this,arguments)}function qf(){return(qf=(0,c.Z)(function*(E,g,v=!1){const C="signIn",N=yield jr(E,C,g),H=yield Sr._fromIdTokenResponse(E,C,N);return v||(yield E._updateCurrentUser(H.user)),H})).apply(this,arguments)}function ah(E,g){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,c.Z)(function*(E,g){return oh(cr(E),g)})).apply(this,arguments)}function qv(E,g){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,c.Z)(function*(E,g){const v=(0,$.m9)(E);return yield Zl(!1,v,g.providerId),ws(v,g)})).apply(this,arguments)}function Zv(E,g){return cg.apply(this,arguments)}function cg(){return(cg=(0,c.Z)(function*(E,g){return Yv((0,$.m9)(E),g)})).apply(this,arguments)}function dg(){return(dg=(0,c.Z)(function*(E,g){return sn(E,"POST","/v1/accounts:signInWithCustomToken",Ke(E,g))})).apply(this,arguments)}function ia(){return ia=(0,c.Z)(function*(E,g){const v=cr(E),C=yield function ex(E,g){return dg.apply(this,arguments)}(v,{token:g,returnSecureToken:!0}),N=yield Sr._fromIdTokenResponse(v,"signIn",C);return yield v._updateCurrentUser(N.user),N}),ia.apply(this,arguments)}class lh{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?Xl._fromServerResponse(g,v):"totpInfo"in v?ch._fromServerResponse(g,v):Ye(g,"internal-error")}}class Xl extends lh{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new Xl(v)}}class ch extends lh{constructor(g){super("totp",g)}static _fromServerResponse(g,v){return new ch(v)}}function Oc(E,g,v){var C;Ie((null===(C=v.url)||void 0===C?void 0:C.length)>0,E,"invalid-continue-uri"),Ie(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Ie(v.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(Ie(v.android.packageName.length>0,E,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function Nc(){return Nc=(0,c.Z)(function*(E,g,v){var C;const N=cr(E),H={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=N._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const se=yield Js(N,H,"getOobCode",!0);v&&Oc(N,se,v),yield jl(N,se)}else v&&Oc(N,H,v),yield jl(N,H).catch(function(){var se=(0,c.Z)(function*(ye){if("auth/missing-recaptcha-token"!==ye.code)return Promise.reject(ye);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const dt=yield Js(N,H,"getOobCode",!0);v&&Oc(N,dt,v),yield jl(N,dt)}});return function(ye){return se.apply(this,arguments)}}())}),Nc.apply(this,arguments)}function Po(){return(Po=(0,c.Z)(function*(E,g,v){yield Wf((0,$.m9)(E),{oobCode:g,newPassword:v})})).apply(this,arguments)}function to(){return to=(0,c.Z)(function*(E,g){yield function Qs(E,g){return Ud.apply(this,arguments)}((0,$.m9)(E),{oobCode:g})}),to.apply(this,arguments)}function gr(E,g){return ol.apply(this,arguments)}function ol(){return(ol=(0,c.Z)(function*(E,g){const v=(0,$.m9)(E),C=yield Wf(v,{oobCode:g}),N=C.requestType;switch(Ie(N,v,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(C.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(C.mfaInfo,v,"internal-error");default:Ie(C.email,v,"internal-error")}let H=null;return C.mfaInfo&&(H=lh._fromServerResponse(cr(v),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:H},operation:N}})).apply(this,arguments)}function al(){return(al=(0,c.Z)(function*(E,g){const{data:v}=yield gr((0,$.m9)(E),g);return v.email})).apply(this,arguments)}function Lc(){return Lc=(0,c.Z)(function*(E,g,v){var C;const N=cr(E),H={returnSecureToken:!0,email:g,password:v,clientType:"CLIENT_TYPE_WEB"};let se;if(null!==(C=N._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const yt=yield Js(N,H,"signUpPassword");se=Cr(N,yt)}else se=Cr(N,H).catch(function(){var yt=(0,c.Z)(function*(Gt){if("auth/missing-recaptcha-token"===Gt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const jt=yield Js(N,H,"signUpPassword");return Cr(N,jt)}return Promise.reject(Gt)});return function(Gt){return yt.apply(this,arguments)}}());const ye=yield se.catch(yt=>Promise.reject(yt)),dt=yield Sr._fromIdTokenResponse(N,"signIn",ye);return yield N._updateCurrentUser(dt.user),dt}),Lc.apply(this,arguments)}function Fc(){return Fc=(0,c.Z)(function*(E,g,v){var C;const N=cr(E),H={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function se(ye,dt){Ie(dt.handleCodeInApp,N,"argument-error"),dt&&Oc(N,ye,dt)}if(null!==(C=N._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const ye=yield Js(N,H,"getOobCode",!0);se(ye,v),yield ti(N,ye)}else se(H,v),yield ti(N,H).catch(function(){var ye=(0,c.Z)(function*(dt){if("auth/missing-recaptcha-token"!==dt.code)return Promise.reject(dt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const yt=yield Js(N,H,"getOobCode",!0);se(yt,v),yield ti(N,yt)}});return function(dt){return ye.apply(this,arguments)}}())}),Fc.apply(this,arguments)}function uh(){return(uh=(0,c.Z)(function*(E,g,v){const C=(0,$.m9)(E),N=nl.credentialWithLink(g,v||Pr());return Ie(N._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),ah(C,N)})).apply(this,arguments)}function fh(){return(fh=(0,c.Z)(function*(E,g){return tt(E,"POST","/v1/accounts:createAuthUri",Ke(E,g))})).apply(this,arguments)}function ll(){return ll=(0,c.Z)(function*(E,g){const C={identifier:g,continueUri:gs()?Pr():"http://localhost"},{signinMethods:N}=yield function hh(E,g){return fh.apply(this,arguments)}((0,$.m9)(E),C);return N||[]}),ll.apply(this,arguments)}function Bc(){return Bc=(0,c.Z)(function*(E,g){const v=(0,$.m9)(E),N={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};g&&Oc(v.auth,N,g);const{email:H}=yield function $f(E,g){return Vd.apply(this,arguments)}(v.auth,N);H!==E.email&&(yield E.reload())}),Bc.apply(this,arguments)}function jd(){return jd=(0,c.Z)(function*(E,g,v){const C=(0,$.m9)(E),H={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:g};v&&Oc(C.auth,H,v);const{email:se}=yield function os(E,g){return Ta.apply(this,arguments)}(C.auth,H);se!==E.email&&(yield E.reload())}),jd.apply(this,arguments)}function tp(){return(tp=(0,c.Z)(function*(E,g){return tt(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ph(){return ph=(0,c.Z)(function*(E,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const C=(0,$.m9)(E),H={idToken:yield C.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},se=yield qi(C,function Xv(E,g){return tp.apply(this,arguments)}(C.auth,H));C.displayName=se.displayName||null,C.photoURL=se.photoUrl||null;const ye=C.providerData.find(({providerId:dt})=>"password"===dt);ye&&(ye.displayName=C.displayName,ye.photoURL=C.photoURL),yield C._updateTokensIfNecessary(se)}),ph.apply(this,arguments)}function ug(E,g,v){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,c.Z)(function*(E,g,v){const{auth:C}=E,H={idToken:yield E.getIdToken(),returnSecureToken:!0};g&&(H.email=g),v&&(H.password=v);const se=yield qi(E,Fd(C,H));yield E._updateTokensIfNecessary(se,!0)})).apply(this,arguments)}class Ql{constructor(g,v,C={}){this.isNewUser=g,this.providerId=v,this.profile=C}}class Vc extends Ql{constructor(g,v,C,N){super(g,v,C),this.username=N}}class mh extends Ql{constructor(g,v){super(g,"facebook.com",v)}}class ip extends Vc{constructor(g,v){super(g,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Yd extends Ql{constructor(g,v){super(g,"google.com",v)}}class Hc extends Vc{constructor(g,v,C){super(g,"twitter.com",v,C)}}function hg(E){const{user:g,_tokenResponse:v}=E;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Jv(E){var g,v;if(!E)return null;const{providerId:C}=E,N=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},H=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!C&&E?.idToken){const se=null===(v=null===(g=Mn(E.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(se)return new Ql(H,"anonymous"!==se&&"custom"!==se?se:null)}if(!C)return null;switch(C){case"facebook.com":return new mh(H,N);case"github.com":return new ip(H,N);case"google.com":return new Yd(H,N);case"twitter.com":return new Hc(H,N,E.screenName||null);case"custom":case"anonymous":return new Ql(H,null);default:return new Ql(H,C,N)}}(v)}class ko{constructor(g,v,C){this.type=g,this.credential=v,this.auth=C}static _fromIdtoken(g,v){return new ko("enroll",g,v)}static _fromMfaPendingCredential(g){return new ko("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,C;if(g?.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return ko._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(C=g.multiFactorSession)&&void 0!==C&&C.idToken)return ko._fromIdtoken(g.multiFactorSession.idToken)}return null}}class dl{constructor(g,v,C){this.session=g,this.hints=v,this.signInResolver=C}static _fromError(g,v){const C=cr(g),N=v.customData._serverResponse,H=(N.mfaInfo||[]).map(ye=>lh._fromServerResponse(C,ye));Ie(N.mfaPendingCredential,C,"internal-error");const se=ko._fromMfaPendingCredential(N.mfaPendingCredential);return new dl(se,H,function(){var ye=(0,c.Z)(function*(dt){const yt=yield dt._process(C,se);delete N.mfaInfo,delete N.mfaPendingCredential;const Gt=Object.assign(Object.assign({},N),{idToken:yt.idToken,refreshToken:yt.refreshToken});switch(v.operationType){case"signIn":const jt=yield Sr._fromIdTokenResponse(C,v.operationType,Gt);return yield C._updateCurrentUser(jt.user),jt;case"reauthenticate":return Ie(v.user,C,"internal-error"),Sr._forOperation(v.user,v.operationType,Gt);default:Ye(C,"internal-error")}});return function(dt){return ye.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,c.Z)(function*(){return v.signInResolver(g)})()}}class _i{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(C=>lh._fromServerResponse(g.auth,C)))})}static _fromUser(g){return new _i(g)}getSession(){var g=this;return(0,c.Z)(function*(){return ko._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,v){var C=this;return(0,c.Z)(function*(){const N=g,H=yield C.getSession(),se=yield qi(C.user,N._process(C.user.auth,H,v));return yield C.user._updateTokensIfNecessary(se),C.user.reload()})()}unenroll(g){var v=this;return(0,c.Z)(function*(){const C="string"==typeof g?g:g.uid,N=yield v.user.getIdToken();try{const H=yield qi(v.user,function op(E,g){return tt(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Ke(E,g))}(v.user.auth,{idToken:N,mfaEnrollmentId:C}));v.enrolledFactors=v.enrolledFactors.filter(({uid:se})=>se!==C),yield v.user._updateTokensIfNecessary(H),yield v.user.reload()}catch(H){throw H}})()}}const ka=new WeakMap,Ur="__sak";class _g{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Ur,"1"),this.storage.removeItem(Ur),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const ec=(()=>{class E extends _g{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,C)=>this.onStorageEvent(v,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yh(){const E=(0,$.z$)();return Ae(E)||Xi(E)}()&&function Ac(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Qo(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const C of Object.keys(this.listeners)){const N=this.storage.getItem(C),H=this.localCache[C];N!==H&&v(C,H,N)}}onStorageEvent(v,C=!1){if(!v.key)return void this.forAllChangedKeys((ye,dt,yt)=>{this.notifyListeners(ye,yt)});const N=v.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ye=this.storage.getItem(N);if(v.newValue!==ye)null!==v.newValue?this.storage.setItem(N,v.newValue):this.storage.removeItem(N);else if(this.localCache[N]===v.newValue&&!C)return}const H=()=>{const ye=this.storage.getItem(N);!C&&this.localCache[N]===ye||this.notifyListeners(N,ye)},se=this.storage.getItem(N);!function Ro(){return(0,$.w1)()&&10===document.documentMode}()||se===v.newValue||v.newValue===v.oldValue?H():setTimeout(H,10)}notifyListeners(v,C){this.localCache[v]=C;const N=this.listeners[v];if(N)for(const H of Array.from(N))H(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,C,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:C,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,C){var N=()=>super._set,H=this;return(0,c.Z)(function*(){yield N().call(H,v,C),H.localCache[v]=JSON.stringify(C)})()}_get(v){var C=()=>super._get,N=this;return(0,c.Z)(function*(){const H=yield C().call(N,v);return N.localCache[v]=JSON.stringify(H),H})()}_remove(v){var C=()=>super._remove,N=this;return(0,c.Z)(function*(){yield C().call(N,v),delete N.localCache[v]})()}}return E.type="LOCAL",E})(),Cs=(()=>{class E extends _g{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,C){}_removeListener(v,C){}}return E.type="SESSION",E})();let bh=(()=>{class E{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const C=this.receivers.find(H=>H.isListeningto(v));if(C)return C;const N=new E(v);return this.receivers.push(N),N}isListeningto(v){return this.eventTarget===v}handleEvent(v){var C=this;return(0,c.Z)(function*(){const N=v,{eventId:H,eventType:se,data:ye}=N.data,dt=C.handlersMap[se];if(!dt?.size)return;N.ports[0].postMessage({status:"ack",eventId:H,eventType:se});const yt=Array.from(dt).map(function(){var jt=(0,c.Z)(function*(ji){return ji(N.origin,ye)});return function(ji){return jt.apply(this,arguments)}}()),Gt=yield function bg(E){return Promise.all(E.map(function(){var g=(0,c.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(C){return{fulfilled:!1,reason:C}}});return function(v){return g.apply(this,arguments)}}()))}(yt);N.ports[0].postMessage({status:"done",eventId:H,eventType:se,response:Gt})})()}_subscribe(v,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(C)}_unsubscribe(v,C){this.handlersMap[v]&&C&&this.handlersMap[v].delete(C),(!C||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Zd(E="",g=10){let v="";for(let C=0;C<g;C++)v+=Math.floor(10*Math.random());return E+v}class ey{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,C=50){var N=this;return(0,c.Z)(function*(){const H=typeof MessageChannel<"u"?new MessageChannel:null;if(!H)throw new Error("connection_unavailable");let se,ye;return new Promise((dt,yt)=>{const Gt=Zd("",20);H.port1.start();const jt=setTimeout(()=>{yt(new Error("unsupported_event"))},C);ye={messageChannel:H,onMessage(ji){const Vo=ji;if(Vo.data.eventId===Gt)switch(Vo.data.status){case"ack":clearTimeout(jt),se=setTimeout(()=>{yt(new Error("timeout"))},3e3);break;case"done":clearTimeout(se),dt(Vo.data.response);break;default:clearTimeout(jt),clearTimeout(se),yt(new Error("invalid_response"))}}},N.handlers.add(ye),H.port1.addEventListener("message",ye.onMessage),N.target.postMessage({eventType:g,eventId:Gt,data:v},[H.port2])}).finally(()=>{ye&&N.removeMessageHandler(ye)})})()}}function Pi(){return window}function vn(){return typeof Pi().WorkerGlobalScope<"u"&&"function"==typeof Pi().importScripts}function lp(){return(lp=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const cp="firebaseLocalStorageDb",Oo="firebaseLocalStorage",Kd="fbase_key";class Jd{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Qd(E,g){return E.transaction([Oo],g?"readwrite":"readonly").objectStore(Oo)}function xh(){const E=indexedDB.open(cp,1);return new Promise((g,v)=>{E.addEventListener("error",()=>{v(E.error)}),E.addEventListener("upgradeneeded",()=>{const C=E.result;try{C.createObjectStore(Oo,{keyPath:Kd})}catch(N){v(N)}}),E.addEventListener("success",(0,c.Z)(function*(){const C=E.result;C.objectStoreNames.contains(Oo)?g(C):(C.close(),yield function ny(){const E=indexedDB.deleteDatabase(cp);return new Jd(E).toPromise()}(),g(yield xh()))}))})}function et(E,g,v){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,c.Z)(function*(E,g,v){const C=Qd(E,!0).put({[Kd]:g,value:v});return new Jd(C).toPromise()})).apply(this,arguments)}function eu(){return(eu=(0,c.Z)(function*(E,g){const v=Qd(E,!1).get(g),C=yield new Jd(v).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Dr(E,g){const v=Qd(E,!0).delete(g);return new Jd(v).toPromise()}const fl=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,c.Z)(function*(){return v.db||(v.db=yield xh()),v.db})()}_withRetries(v){var C=this;return(0,c.Z)(function*(){let N=0;for(;;)try{const H=yield C._openDb();return yield v(H)}catch(H){if(N++>3)throw H;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,c.Z)(function*(){return vn()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,c.Z)(function*(){v.receiver=bh._getInstance(function Ar(){return vn()?self:null}()),v.receiver._subscribe("keyChanged",function(){var C=(0,c.Z)(function*(N,H){return{keyProcessed:(yield v._poll()).includes(H.key)}});return function(N,H){return C.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var C=(0,c.Z)(function*(N,H){return["keyChanged"]});return function(N,H){return C.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,c.Z)(function*(){var C,N;if(v.activeServiceWorker=yield function ap(){return lp.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new ey(v.activeServiceWorker);const H=yield v.sender._send("ping",{},800);H&&null!==(C=H[0])&&void 0!==C&&C.fulfilled&&null!==(N=H[0])&&void 0!==N&&N.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var C=this;return(0,c.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Xd(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:v},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const v=yield xh();return yield et(v,Ur,"1"),yield Dr(v,Ur),!0}catch{}return!1})()}_withPendingWrite(v){var C=this;return(0,c.Z)(function*(){C.pendingWrites++;try{yield v()}finally{C.pendingWrites--}})()}_set(v,C){var N=this;return(0,c.Z)(function*(){return N._withPendingWrite((0,c.Z)(function*(){return yield N._withRetries(H=>et(H,v,C)),N.localCache[v]=C,N.notifyServiceWorker(v)}))})()}_get(v){var C=this;return(0,c.Z)(function*(){const N=yield C._withRetries(H=>function vo(E,g){return eu.apply(this,arguments)}(H,v));return C.localCache[v]=N,N})()}_remove(v){var C=this;return(0,c.Z)(function*(){return C._withPendingWrite((0,c.Z)(function*(){return yield C._withRetries(N=>Dr(N,v)),delete C.localCache[v],C.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,c.Z)(function*(){const C=yield v._withRetries(se=>{const ye=Qd(se,!1).getAll();return new Jd(ye).toPromise()});if(!C)return[];if(0!==v.pendingWrites)return[];const N=[],H=new Set;for(const{fbase_key:se,value:ye}of C)H.add(se),JSON.stringify(v.localCache[se])!==JSON.stringify(ye)&&(v.notifyListeners(se,ye),N.push(se));for(const se of Object.keys(v.localCache))v.localCache[se]&&!H.has(se)&&(v.notifyListeners(se,null),N.push(se));return N})()}notifyListeners(v,C){this.localCache[v]=C;const N=this.listeners[v];if(N)for(const H of Array.from(N))H(C)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})(),Bs=1e12;class dp{constructor(g){this.auth=g,this.counter=Bs,this._widgets=new Map}render(g,v){const C=this.counter;return this._widgets.set(C,new pl(g,this.auth.name,v||{})),this.counter++,C}reset(g){var v;const C=g||Bs;null===(v=this._widgets.get(C))||void 0===v||v.delete(),this._widgets.delete(C)}getResponse(g){var v;return(null===(v=this._widgets.get(g||Bs))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,c.Z)(function*(){var C;return null===(C=v._widgets.get(g||Bs))||void 0===C||C.execute(),""})()}}class pl{constructor(g,v,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof g?document.getElementById(g):g;Ie(N,"argument-error",{appName:v}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function No(E){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<E;C++)g.push(v.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ch=go("rcb"),Sh=new ya(3e4,6e4);class iy{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Pi().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return Ie(function iu(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(v),g,"argument-error"),this.shouldResolveImmediately(v)&&On(Pi().grecaptcha)?Promise.resolve(Pi().grecaptcha):new Promise((C,N)=>{const H=Pi().setTimeout(()=>{N(Ee(g,"network-request-failed"))},Sh.get());Pi()[Ch]=()=>{Pi().clearTimeout(H),delete Pi()[Ch];const ye=Pi().grecaptcha;if(!ye||!On(ye))return void N(Ee(g,"internal-error"));const dt=ye.render;ye.render=(yt,Gt)=>{const jt=dt(yt,Gt);return this.counter++,jt},this.hostLanguage=v,C(ye)},Or(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:Ch,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(H),N(Ee(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=Pi().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class up{load(g){return(0,c.Z)(function*(){return new dp(g)})()}clearedOneInstance(){}}const ru="recaptcha",hp={theme:"light",type:"image"};class fp{constructor(g,v=Object.assign({},hp),C){this.parameters=v,this.type=ru,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=cr(C),this.isInvisible="invisible"===this.parameters.size,Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof g?document.getElementById(g):g;Ie(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new up:new iy,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const v=yield g.render(),C=g.getAssertedRecaptcha();return C.getResponse(v)||new Promise(H=>{const se=ye=>{ye&&(g.tokenChangeListeners.delete(se),H(ye))};g.tokenChangeListeners.add(se),g.isInvisible&&C.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(C=>C(v)),"function"==typeof g)g(v);else if("string"==typeof g){const C=Pi()[g];"function"==typeof C&&C(v)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const C=document.createElement("div");v.appendChild(C),v=C}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){Ie(gs()&&!vn(),g.auth,"internal-error"),yield function wg(){let E=null;return new Promise(g=>{"complete"!==document.readyState?(E=()=>g(),window.addEventListener("load",E)):g()}).catch(g=>{throw E&&window.removeEventListener("load",E),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function Se(E){return ct.apply(this,arguments)}(g.auth);Ie(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Na{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=Lr._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function Ms(){return(Ms=(0,c.Z)(function*(E,g,v){const C=cr(E),N=yield Pn(C,g,(0,$.m9)(v));return new Na(N,H=>ah(C,H))})).apply(this,arguments)}function Ii(){return(Ii=(0,c.Z)(function*(E,g,v){const C=(0,$.m9)(E);yield Zl(!1,C,"phone");const N=yield Pn(C.auth,g,(0,$.m9)(v));return new Na(N,H=>qv(C,H))})).apply(this,arguments)}function Wc(){return(Wc=(0,c.Z)(function*(E,g,v){const C=(0,$.m9)(E),N=yield Pn(C.auth,g,(0,$.m9)(v));return new Na(N,H=>Zv(C,H))})).apply(this,arguments)}function Pn(E,g,v){return jn.apply(this,arguments)}function jn(){return jn=(0,c.Z)(function*(E,g,v){var C;const N=yield v.verify();try{let H;if(Ie("string"==typeof N,E,"argument-error"),Ie(v.type===ru,E,"argument-error"),H="string"==typeof g?{phoneNumber:g}:g,"session"in H){const se=H.session;if("phoneNumber"in H)return Ie("enroll"===se.type,E,"internal-error"),(yield function Gc(E,g){return tt(E,"POST","/v2/accounts/mfaEnrollment:start",Ke(E,g))}(E,{idToken:se.credential,phoneEnrollmentInfo:{phoneNumber:H.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{Ie("signin"===se.type,E,"internal-error");const ye=(null===(C=H.multiFactorHint)||void 0===C?void 0:C.uid)||H.multiFactorUid;return Ie(ye,E,"missing-multi-factor-info"),(yield function wh(E,g){return tt(E,"POST","/v2/accounts/mfaSignIn:start",Ke(E,g))}(E,{mfaPendingCredential:se.credential,mfaEnrollmentId:ye,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:se}=yield function Hi(E,g){return ls.apply(this,arguments)}(E,{phoneNumber:H.phoneNumber,recaptchaToken:N});return se}}finally{v._reset()}}),jn.apply(this,arguments)}function En(){return(En=(0,c.Z)(function*(E,g){yield ws((0,$.m9)(E),g)})).apply(this,arguments)}let ml=(()=>{class E{constructor(v){this.providerId=E.PROVIDER_ID,this.auth=cr(v)}verifyPhoneNumber(v,C){return Pn(this.auth,v,(0,$.m9)(C))}static credential(v,C){return Lr._fromVerification(v,C)}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:C,temporaryProof:N}=v;return C&&N?Lr._fromTokenResponse(C,N):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Lo(E,g){return g?or(g):(Ie(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class io extends el{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return eo(g,this._buildIdpRequest())}_linkToIdToken(g,v){return eo(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return eo(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function jc(E){return oh(E.auth,new io(E),E.bypassAuthState)}function mp(E){const{auth:g,user:v}=E;return Ie(v,g,"internal-error"),Yv(v,new io(E),E.bypassAuthState)}function ra(E){return La.apply(this,arguments)}function La(){return(La=(0,c.Z)(function*(E){const{auth:g,user:v}=E;return Ie(v,g,"internal-error"),ws(v,new io(E),E.bypassAuthState)})).apply(this,arguments)}class ro{constructor(g,v,C,N,H=!1){this.auth=g,this.resolver=C,this.user=N,this.bypassAuthState=H,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,c.Z)(function*(C,N){g.pendingPromise={resolve:C,reject:N};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(H){g.reject(H)}});return function(C,N){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,c.Z)(function*(){const{urlResponse:C,sessionId:N,postBody:H,tenantId:se,error:ye,type:dt}=g;if(ye)return void v.reject(ye);const yt={auth:v.auth,requestUri:C,sessionId:N,tenantId:se||void 0,postBody:H||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(dt)(yt))}catch(Gt){v.reject(Gt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return jc;case"linkViaPopup":case"linkViaRedirect":return ra;case"reauthViaPopup":case"reauthViaRedirect":return mp;default:Ye(this.auth,"internal-error")}}resolve(g){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sa=new ya(2e3,1e4);function $c(){return($c=(0,c.Z)(function*(E,g,v){const C=cr(E);mt(E,g,Er);const N=Lo(C,v);return new Mh(C,"signInViaPopup",g,N).executeNotNull()})).apply(this,arguments)}function Yc(){return(Yc=(0,c.Z)(function*(E,g,v){const C=(0,$.m9)(E);mt(C.auth,g,Er);const N=Lo(C.auth,v);return new Mh(C.auth,"reauthViaPopup",g,N,C).executeNotNull()})).apply(this,arguments)}function ou(){return(ou=(0,c.Z)(function*(E,g,v){const C=(0,$.m9)(E);mt(C.auth,g,Er);const N=Lo(C.auth,v);return new Mh(C.auth,"linkViaPopup",g,N,C).executeNotNull()})).apply(this,arguments)}let Mh=(()=>{class E extends ro{constructor(v,C,N,H,se){super(v,C,H,se),this.provider=N,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var v=this;return(0,c.Z)(function*(){const C=yield v.execute();return Ie(C,v.auth,"internal-error"),C})()}onExecution(){var v=this;return(0,c.Z)(function*(){Gn(1===v.filter.length,"Popup operations only handle one event");const C=Zd();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],C),v.authWindow.associatedEvent=C,v.resolver._originValidation(v.auth).catch(N=>{v.reject(N)}),v.resolver._isIframeWebStorageSupported(v.auth,N=>{N||v.reject(Ee(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const v=()=>{var C,N;this.pollId=null!==(N=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==N&&N.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,sa.get())};v()}}return E.currentPopupAction=null,E})();const Fa="pendingRedirect",Ua=new Map;class ry extends ro{constructor(g,v,C=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,C),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,c.Z)(function*(){let C=Ua.get(v.auth._key());if(!C){try{const H=(yield function gp(E,g){return Th.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;C=()=>Promise.resolve(H)}catch(N){C=()=>Promise.reject(N)}Ua.set(v.auth._key(),C)}return v.bypassAuthState||Ua.set(v.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,C=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return v().call(C,g);if("unknown"!==g.type){if(g.eventId){const N=yield C.auth._redirectUserForId(g.eventId);if(N)return C.user=N,v().call(C,g);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Th(){return(Th=(0,c.Z)(function*(E,g){const v=qc(g),C=oy(E);if(!(yield C._isAvailable()))return!1;const N="true"===(yield C._get(v));return yield C._remove(v),N})).apply(this,arguments)}function Cg(E,g){return _p.apply(this,arguments)}function _p(){return(_p=(0,c.Z)(function*(E,g){return oy(E)._set(qc(g),"true")})).apply(this,arguments)}function vp(E,g){Ua.set(E._key(),g)}function oy(E){return or(E._redirectPersistence)}function qc(E){return re(Fa,E.config.apiKey,E.name)}function ic(E,g,v){return function Sg(E,g,v){return _l.apply(this,arguments)}(E,g,v)}function _l(){return(_l=(0,c.Z)(function*(E,g,v){const C=cr(E);mt(E,g,Er),yield C._initializationPromise;const N=Lo(C,v);return yield Cg(N,C),N._openRedirect(C,g,"signInViaRedirect")})).apply(this,arguments)}function Ah(E,g,v){return function au(E,g,v){return yp.apply(this,arguments)}(E,g,v)}function yp(){return(yp=(0,c.Z)(function*(E,g,v){const C=(0,$.m9)(E);mt(C.auth,g,Er),yield C.auth._initializationPromise;const N=Lo(C.auth,v);yield Cg(N,C.auth);const H=yield Xc(C);return N._openRedirect(C.auth,g,"reauthViaRedirect",H)})).apply(this,arguments)}function bp(E,g,v){return function Mg(E,g,v){return Dh.apply(this,arguments)}(E,g,v)}function Dh(){return(Dh=(0,c.Z)(function*(E,g,v){const C=(0,$.m9)(E);mt(C.auth,g,Er),yield C.auth._initializationPromise;const N=Lo(C.auth,v);yield Zl(!1,C,g.providerId),yield Cg(N,C.auth);const H=yield Xc(C);return N._openRedirect(C.auth,g,"linkViaRedirect",H)})).apply(this,arguments)}function Ih(){return(Ih=(0,c.Z)(function*(E,g){return yield cr(E)._initializationPromise,vl(E,g,!1)})).apply(this,arguments)}function vl(E,g){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,c.Z)(function*(E,g,v=!1){const C=cr(E),N=Lo(C,g),se=yield new ry(C,N,v).execute();return se&&!v&&(delete se.user._redirectEventId,yield C._persistUserIfCurrent(se.user),yield C._setRedirectUser(null,g)),se})).apply(this,arguments)}function Xc(E){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,c.Z)(function*(E){const g=Zd(`${E.uid}:::`);return E._redirectEventId=g,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),g})).apply(this,arguments)}class Rh{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(g,C)&&(v=!0,this.sendToConsumer(g,C),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function yo(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qc(E);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var C;if(g.error&&!Qc(g)){const N=(null===(C=g.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";v.onError(Ee(this.auth,N))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const C=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&C}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jc(g))}saveEventToCache(g){this.cachedEventUids.add(Jc(g)),this.lastProcessedEventTime=Date.now()}}function Jc(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(g=>g).join("-")}function Qc({type:E,error:g}){return"unknown"===E&&"auth/no-auth-event"===g?.code}function Ph(E){return lu.apply(this,arguments)}function lu(){return(lu=(0,c.Z)(function*(E,g={}){return tt(E,"GET","/v1/projects",g)})).apply(this,arguments)}const ed=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oa=/^https?/;function Uo(){return(Uo=(0,c.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:g}=yield Ph(E);for(const v of g)try{if(kh(v))return}catch{}Ye(E,"unauthorized-domain")})).apply(this,arguments)}function kh(E){const g=Pr(),{protocol:v,hostname:C}=new URL(g);if(E.startsWith("chrome-extension://")){const se=new URL(E);return""===se.hostname&&""===C?"chrome-extension:"===v&&E.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&se.hostname===C}if(!oa.test(v))return!1;if(ed.test(E))return C===E;const N=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(C)}const yl=new ya(3e4,6e4);function xp(){const E=Pi().___jsl;if(E?.H)for(const g of Object.keys(E.H))if(E.H[g].r=E.H[g].r||[],E.H[g].L=E.H[g].L||[],E.H[g].r=[...E.H[g].L],E.CP)for(let v=0;v<E.CP.length;v++)E.CP[v]=null}let td=null;const Tg=new ya(5e3,15e3),ay="__/auth/iframe",cu="emulator/auth/iframe",du={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rc(E){const g=E.config;Ie(g.authDomain,E,"auth-domain-config-required");const v=g.emulator?Pe(g,cu):`https://${E.config.authDomain}/${ay}`,C={apiKey:g.apiKey,appName:E.name,v:we.SDK_VERSION},N=nd.get(E.config.apiHost);N&&(C.eid=N);const H=E._getFrameworks();return H.length&&(C.fw=H.join(",")),`${v}?${(0,$.xO)(C).slice(1)}`}function P(){return P=(0,c.Z)(function*(E){const g=yield function Va(E){return td=td||function Ai(E){return new Promise((g,v)=>{var C,N,H;function se(){xp(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{xp(),v(Ee(E,"network-request-failed"))},timeout:yl.get()})}if(null!==(N=null===(C=Pi().gapi)||void 0===C?void 0:C.iframes)&&void 0!==N&&N.Iframe)g(gapi.iframes.getContext());else{if(null===(H=Pi().gapi)||void 0===H||!H.load){const ye=go("iframefcb");return Pi()[ye]=()=>{gapi.load?se():v(Ee(E,"network-request-failed"))},Or(`https://apis.google.com/js/api.js?onload=${ye}`).catch(dt=>v(dt))}se()}}).catch(g=>{throw td=null,g})}(E),td}(E),v=Pi().gapi;return Ie(v,E,"internal-error"),g.open({where:document.body,url:rc(E),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:du,dontclear:!0},C=>new Promise(function(){var N=(0,c.Z)(function*(H,se){yield C.restyle({setHideOnLeave:!1});const ye=Ee(E,"network-request-failed"),dt=Pi().setTimeout(()=>{se(ye)},Tg.get());function yt(){Pi().clearTimeout(dt),H(C)}C.ping(yt).then(yt,()=>{se(ye)})});return function(H,se){return N.apply(this,arguments)}}()))}),P.apply(this,arguments)}const F={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Mt{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const fn="__/auth/handler",Tn="emulator/auth/handler",dr=encodeURIComponent("fac");function _r(E,g,v,C,N,H){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,c.Z)(function*(E,g,v,C,N,H){Ie(E.config.authDomain,E,"auth-domain-config-required"),Ie(E.config.apiKey,E,"invalid-api-key");const se={apiKey:E.config.apiKey,appName:E.name,authType:v,redirectUrl:C,v:we.SDK_VERSION,eventId:N};if(g instanceof Er){g.setDefaultLanguage(E.languageCode),se.providerId=g.providerId||"",(0,$.xb)(g.getCustomParameters())||(se.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Gt,jt]of Object.entries(H||{}))se[Gt]=jt}if(g instanceof ta){const Gt=g.getScopes().filter(jt=>""!==jt);Gt.length>0&&(se.scopes=Gt.join(","))}E.tenantId&&(se.tid=E.tenantId);const ye=se;for(const Gt of Object.keys(ye))void 0===ye[Gt]&&delete ye[Gt];const dt=yield E._getAppCheckToken(),yt=dt?`#${dr}=${encodeURIComponent(dt)}`:"";return`${function Ki({config:E}){return E.emulator?Pe(E,Tn):`https://${E.authDomain}/${fn}`}(E)}?${(0,$.xO)(ye).slice(1)}${yt}`})).apply(this,arguments)}const bl="webStorageSupport",Yr=class $r{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cs,this._completeRedirectFn=vl,this._overrideRedirectResult=vp}_openPopup(g,v,C,N){var H=this;return(0,c.Z)(function*(){var se;Gn(null===(se=H.eventManagers[g._key()])||void 0===se?void 0:se.manager,"_initialize() not called before _openPopup()");const ye=yield _r(g,v,C,Pr(),N);return function wt(E,g,v,C=500,N=600){const H=Math.max((window.screen.availHeight-N)/2,0).toString(),se=Math.max((window.screen.availWidth-C)/2,0).toString();let ye="";const dt=Object.assign(Object.assign({},F),{width:C.toString(),height:N.toString(),top:H,left:se}),yt=(0,$.z$)().toLowerCase();v&&(ye=Ft(yt)?"_blank":v),Xe(yt)&&(g=g||"http://localhost",dt.scrollbars="yes");const Gt=Object.entries(dt).reduce((ji,[Vo,vu])=>`${ji}${Vo}=${vu},`,"");if(function mr(E=(0,$.z$)()){var g;return Xi(E)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(yt)&&"_self"!==ye)return function qt(E,g){const v=document.createElement("a");v.href=E,v.target=g;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(C)}(g||"",ye),new Mt(null);const jt=window.open(g||"",ye,Gt);Ie(jt,E,"popup-blocked");try{jt.focus()}catch{}return new Mt(jt)}(g,ye,Zd())})()}_openRedirect(g,v,C,N){var H=this;return(0,c.Z)(function*(){return yield H._originValidation(g),function ty(E){Pi().location.href=E}(yield _r(g,v,C,Pr(),N)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:N,promise:H}=this.eventManagers[v];return N?Promise.resolve(N):(Gn(H,"If manager is not set, promise should be"),H)}const C=this.initAndGetManager(g);return this.eventManagers[v]={promise:C},C.catch(()=>{delete this.eventManagers[v]}),C}initAndGetManager(g){var v=this;return(0,c.Z)(function*(){const C=yield function T(E){return P.apply(this,arguments)}(g),N=new Rh(g);return C.register("authEvent",H=>(Ie(H?.authEvent,g,"invalid-auth-event"),{status:N.onEvent(H.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:N},v.iframes[g._key()]=C,N})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(bl,{type:bl},N=>{var H;const se=null===(H=N?.[0])||void 0===H?void 0:H[bl];void 0!==se&&v(!!se),Ye(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Vs(E){return Uo.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return Qo()||Ae()||Xi()}};class Ji{constructor(g){this.factorId=g}_process(g,v,C){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,C);case"signin":return this._finalizeSignIn(g,v.credential);default:return hn("unexpected MultiFactorSessionType")}}}class so extends Ji{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new so(g)}_finalizeEnroll(g,v,C){return function gg(E,g){return tt(E,"POST","/v2/accounts/mfaEnrollment:finalize",Ke(E,g))}(g,{idToken:v,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function xg(E,g){return tt(E,"POST","/v2/accounts/mfaSignIn:finalize",Ke(E,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let uu=(()=>{class E{constructor(){}static assertion(v){return so._fromCredential(v)}}return E.FACTOR_ID="phone",E})();var Oh="@firebase/auth";class Hs{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,c.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(C=>{g(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);v&&(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fu(){return window}(0,$.Pz)("authIdTokenMaxAge"),function hu(E){(0,we._registerComponent)(new ze.wA("auth",(g,{options:v})=>{const C=g.getProvider("app").getImmediate(),N=g.getProvider("heartbeat"),H=g.getProvider("app-check-internal"),{apiKey:se,authDomain:ye}=C.options;Ie(se&&!se.includes(":"),"invalid-api-key",{appName:C.name});const dt={apiKey:se,authDomain:ye,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ke(E)},yt=new Qu(C,N,H,dt);return function og(E,g){const v=g?.persistence||[],C=(Array.isArray(v)?v:[v]).map(or);g?.errorMap&&E._updateErrorMap(g.errorMap),E._initializeWithPersistence(C,g?.popupRedirectResolver)}(yt,v),yt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,C)=>{g.getProvider("auth-internal").initialize()})),(0,we._registerComponent)(new ze.wA("auth-internal",g=>{const v=cr(g.getProvider("auth").getImmediate());return new Hs(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,we.registerVersion)(Oh,"0.23.2",function ly(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,we.registerVersion)(Oh,"0.23.2","esm2017")}("Browser");function wp(){return wp=(0,c.Z)(function*(E,g,v){var C;const{BuildInfo:N}=fu();Gn(g.sessionId,"AuthEvent did not contain a session ID");const H=yield function Pg(E){return pu.apply(this,arguments)}(g.sessionId),se={};return Xi()?se.ibi=N.packageName:mn()?se.apn=N.packageName:Ye(E,"operation-not-supported-in-this-environment"),N.displayName&&(se.appDisplayName=N.displayName),se.sessionId=H,_r(E,v,g.type,void 0,null!==(C=g.eventId)&&void 0!==C?C:void 0,se)}),wp.apply(this,arguments)}function Rg(){return(Rg=(0,c.Z)(function*(E){const{BuildInfo:g}=fu(),v={};Xi()?v.iosBundleId=g.packageName:mn()?v.androidPackageName=g.packageName:Ye(E,"operation-not-supported-in-this-environment"),yield Ph(E,v)})).apply(this,arguments)}function wl(){return(wl=(0,c.Z)(function*(E,g,v){const{cordova:C}=fu();let N=()=>{};try{yield new Promise((H,se)=>{let ye=null;function dt(){var jt;H();const ji=null===(jt=C.plugins.browsertab)||void 0===jt?void 0:jt.close;"function"==typeof ji&&ji(),"function"==typeof v?.close&&v.close()}function yt(){ye||(ye=window.setTimeout(()=>{se(Ee(E,"redirect-cancelled-by-user"))},2e3))}function Gt(){"visible"===document?.visibilityState&&yt()}g.addPassiveListener(dt),document.addEventListener("resume",yt,!1),mn()&&document.addEventListener("visibilitychange",Gt,!1),N=()=>{g.removePassiveListener(dt),document.removeEventListener("resume",yt,!1),document.removeEventListener("visibilitychange",Gt,!1),ye&&window.clearTimeout(ye)}})}finally{N()}})).apply(this,arguments)}function pu(){return(pu=(0,c.Z)(function*(E){const g=function Sp(E){if(Gn(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(E);const g=new ArrayBuffer(E.length),v=new Uint8Array(g);for(let C=0;C<E.length;C++)v[C]=E.charCodeAt(C);return v}(E),v=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(v)).map(N=>N.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class cy extends Rh{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(g)),super.onEvent(g)}initialized(){var g=this;return(0,c.Z)(function*(){yield g.initPromise})()}}function gu(E){return kg.apply(this,arguments)}function kg(){return(kg=(0,c.Z)(function*(E){const g=yield El()._get(Tp(E));return g&&(yield El()._remove(Tp(E))),g})).apply(this,arguments)}function dy(){const E=[];for(let v=0;v<20;v++){const C=Math.floor(62*Math.random());E.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(C))}return E.join("")}function El(){return or(ec)}function Tp(E){return re("authEvent",E.config.apiKey,E.name)}function Dp(E){if(!E?.includes("?"))return{};const[g,...v]=E.split("?");return(0,$.zd)(v.join("?"))}const ox=class uy{constructor(){this._redirectPersistence=Cs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vl,this._overrideRedirectResult=vp}_initialize(g){var v=this;return(0,c.Z)(function*(){const C=g._key();let N=v.eventManagers.get(C);return N||(N=new cy(g),v.eventManagers.set(C,N),v.attachCallbackListeners(g,N)),N})()}_openPopup(g){Ye(g,"operation-not-supported-in-this-environment")}_openRedirect(g,v,C,N){var H=this;return(0,c.Z)(function*(){!function Cp(E){var g,v,C,N,H,se,ye,dt,yt,Gt;const jt=fu();Ie("function"==typeof(null===(g=jt?.universalLinks)||void 0===g?void 0:g.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ie(typeof(null===(v=jt?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ie("function"==typeof(null===(H=null===(N=null===(C=jt?.cordova)||void 0===C?void 0:C.plugins)||void 0===N?void 0:N.browsertab)||void 0===H?void 0:H.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ie("function"==typeof(null===(dt=null===(ye=null===(se=jt?.cordova)||void 0===se?void 0:se.plugins)||void 0===ye?void 0:ye.browsertab)||void 0===dt?void 0:dt.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ie("function"==typeof(null===(Gt=null===(yt=jt?.cordova)||void 0===yt?void 0:yt.InAppBrowser)||void 0===Gt?void 0:Gt.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const se=yield H._initialize(g);yield se.initialized(),se.resetRedirect(),function sy(){Ua.clear()}(),yield H._originValidation(g);const ye=function sx(E,g,v=null){return{type:g,eventId:v,urlResponse:null,sessionId:dy(),postBody:null,tenantId:E.tenantId,error:Ee(E,"no-auth-event")}}(g,C,N);yield function mu(E,g){return El()._set(Tp(E),g)}(g,ye);const dt=yield function iS(E,g,v){return wp.apply(this,arguments)}(g,ye,v),yt=yield function Ep(E){const{cordova:g}=fu();return new Promise(v=>{g.plugins.browsertab.isAvailable(C=>{let N=null;C?g.plugins.browsertab.openUrl(E):N=g.InAppBrowser.open(E,function ei(E=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),v(N)})})}(dt);return function rx(E,g,v){return wl.apply(this,arguments)}(g,se,yt)})()}_isIframeWebStorageSupported(g,v){throw new Error("Method not implemented.")}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function rd(E){return Rg.apply(this,arguments)}(g)),this.originValidationPromises[v]}attachCallbackListeners(g,v){const{universalLinks:C,handleOpenURL:N,BuildInfo:H}=fu(),se=setTimeout((0,c.Z)(function*(){yield gu(g),v.onEvent(Ng())}),500),ye=function(){var Gt=(0,c.Z)(function*(jt){clearTimeout(se);const ji=yield gu(g);let Vo=null;ji&&jt?.url&&(Vo=function rS(E,g){var v,C;const N=function Ap(E){const g=Dp(E),v=g.link?decodeURIComponent(g.link):void 0,C=Dp(v).link,N=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Dp(N).link||N||C||v||E}(g);if(N.includes("/__/auth/callback")){const H=Dp(N),se=H.firebaseError?function Og(E){try{return JSON.parse(E)}catch{return null}}(decodeURIComponent(H.firebaseError)):null,ye=null===(C=null===(v=se?.code)||void 0===v?void 0:v.split("auth/"))||void 0===C?void 0:C[1],dt=ye?Ee(ye):null;return dt?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:dt,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:N,postBody:null}}return null}(ji,jt.url)),v.onEvent(Vo||Ng())});return function(ji){return Gt.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,ye);const dt=N,yt=`${H.packageName.toLowerCase()}://`;fu().handleOpenURL=function(){var Gt=(0,c.Z)(function*(jt){if(jt.toLowerCase().startsWith(yt)&&ye({url:jt}),"function"==typeof dt)try{dt(jt)}catch(ji){console.error(ji)}});return function(jt){return Gt.apply(this,arguments)}}()}};function Ng(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}function sc(){var E;return(null===(E=self?.location)||void 0===E?void 0:E.protocol)||null}function py(E=(0,$.z$)()){return!("file:"!==sc()&&"ionic:"!==sc()&&"capacitor:"!==sc()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function ax(){try{const E=self.localStorage,g=Zd();if(E)return E.setItem(g,"1"),E.removeItem(g),!function fR(E=(0,$.z$)()){return function my(){return(0,$.w1)()&&11===document?.documentMode}()||function gy(E=(0,$.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,$.hl)()}catch{return _y()&&(0,$.hl)()}return!1}function _y(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Bg(){return(function Ug(){return"http:"===sc()||"https:"===sc()}()||(0,$.ru)()||py())&&!function sS(){return(0,$.b$)()||(0,$.UG)()}()&&ax()&&!_y()}function Rp(){return py()&&typeof document<"u"}function Lh(){return(Lh=(0,c.Z)(function*(){return!!Rp()&&new Promise(E=>{const g=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),E(!0)})})})).apply(this,arguments)}const ao={LOCAL:"local",NONE:"none",SESSION:"session"},_u=Ie,sd="persistence";function Pp(E){return od.apply(this,arguments)}function od(){return(od=(0,c.Z)(function*(E){yield E._initializationPromise;const g=Fh(),v=re(sd,E.config.apiKey,E.name);g&&g.setItem(v,E._getPersistence())})).apply(this,arguments)}function Fh(){var E;try{return(null===(E=function vy(){return typeof window<"u"?window:null}())||void 0===E?void 0:E.sessionStorage)||null}catch{return null}}const by=Ie;class oc{constructor(){this.browserResolver=or(Yr),this.cordovaResolver=or(ox),this.underlyingResolver=null,this._redirectPersistence=Cs,this._completeRedirectFn=vl,this._overrideRedirectResult=vp}_initialize(g){var v=this;return(0,c.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,v,C,N){var H=this;return(0,c.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._openPopup(g,v,C,N)})()}_openRedirect(g,v,C,N){var H=this;return(0,c.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._openRedirect(g,v,C,N)})()}_isIframeWebStorageSupported(g,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,v)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Rp()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return by(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,c.Z)(function*(){if(g.underlyingResolver)return;const v=yield function Nh(){return Lh.apply(this,arguments)}();g.underlyingResolver=v?g.cordovaResolver:g.browserResolver})()}}function Op(E){return E.unwrap()}function Vg(E){return wy(E)}function wy(E){const{_tokenResponse:g}=E instanceof $.ZR?E.customData:E;if(!g)return null;if(!(E instanceof $.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return ml.credentialFromResult(E);const v=g.providerId;if(!v||v===Le.PASSWORD)return null;let C;switch(v){case Le.GOOGLE:C=Fs;break;case Le.FACEBOOK:C=Da;break;case Le.GITHUB:C=kc;break;case Le.TWITTER:C=zd;break;default:const{oauthIdToken:N,oauthAccessToken:H,oauthTokenSecret:se,pendingToken:ye,nonce:dt}=g;return H||se||N||ye?ye?v.startsWith("saml.")?Fn._create(v,ye):pn._fromParams({providerId:v,signInMethod:v,pendingToken:ye,idToken:N,accessToken:H}):new na(v).credential({idToken:N,accessToken:H,rawNonce:dt}):null}return E instanceof $.ZR?C.credentialFromError(E):C.credentialFromResult(E)}function zs(E,g){return g.catch(v=>{throw v instanceof $.ZR&&function lx(E,g){var v;const C=null===(v=g.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===g?.code)g.resolver=new Hg(E,function rp(E,g){var v;const C=(0,$.m9)(E),N=g;return Ie(g.customData.operationType,C,"argument-error"),Ie(null===(v=N.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,C,"argument-error"),dl._fromError(C,N)}(E,g));else if(C){const N=wy(g),H=g;N&&(H.credential=N,H.tenantId=C.tenantId||void 0,H.email=C.email||void 0,H.phoneNumber=C.phoneNumber||void 0)}}(E,v),v}).then(v=>{const N=v.user;return{operationType:v.operationType,credential:Vg(v),additionalUserInfo:hg(v),user:Wi.getOrCreate(N)}})}function Np(E,g){return bo.apply(this,arguments)}function bo(){return(bo=(0,c.Z)(function*(E,g){const v=yield g;return{verificationId:v.verificationId,confirm:C=>zs(E,v.confirm(C))}})).apply(this,arguments)}class Hg{constructor(g,v){this.resolver=v,this.auth=function xy(E){return E.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return zs(Op(this.auth),this.resolver.resolveSignIn(g))}}class Wi{constructor(g){this._delegate=g,this.multiFactor=function ul(E){const g=(0,$.m9)(E);return ka.has(g)||ka.set(g,_i._fromUser(g)),ka.get(g)}(g)}static getOrCreate(g){return Wi.USER_MAP.has(g)||Wi.USER_MAP.set(g,new Wi(g)),Wi.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var v=this;return(0,c.Z)(function*(){return zs(v.auth,qv(v._delegate,g))})()}linkWithPhoneNumber(g,v){var C=this;return(0,c.Z)(function*(){return Np(C.auth,function cs(E,g,v){return Ii.apply(this,arguments)}(C._delegate,g,v))})()}linkWithPopup(g){var v=this;return(0,c.Z)(function*(){return zs(v.auth,function Eg(E,g,v){return ou.apply(this,arguments)}(v._delegate,g,oc))})()}linkWithRedirect(g){var v=this;return(0,c.Z)(function*(){return yield Pp(cr(v.auth)),bp(v._delegate,g,oc)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var v=this;return(0,c.Z)(function*(){return zs(v.auth,Zv(v._delegate,g))})()}reauthenticateWithPhoneNumber(g,v){return Np(this.auth,function nc(E,g,v){return Wc.apply(this,arguments)}(this._delegate,g,v))}reauthenticateWithPopup(g){return zs(this.auth,function su(E,g,v){return Yc.apply(this,arguments)}(this._delegate,g,oc))}reauthenticateWithRedirect(g){var v=this;return(0,c.Z)(function*(){return yield Pp(cr(v.auth)),Ah(v._delegate,g,oc)})()}sendEmailVerification(g){return function Pa(E,g){return Bc.apply(this,arguments)}(this._delegate,g)}unlink(g){var v=this;return(0,c.Z)(function*(){return yield function rl(E,g){return Us.apply(this,arguments)}(v._delegate,g),v})()}updateEmail(g){return function np(E,g){return ug((0,$.m9)(E),g,null)}(this._delegate,g)}updatePassword(g){return function $d(E,g){return ug((0,$.m9)(E),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function no(E,g){return En.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function Kv(E,g){return ph.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,v){return function ep(E,g,v){return jd.apply(this,arguments)}(this._delegate,g,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wi.USER_MAP=new WeakMap;const Cl=Ie;let zg=(()=>{class E{constructor(v,C){if(this.app=v,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:N}=v.options;Cl(N,"invalid-api-key",{appName:v.name}),Cl(N,"invalid-api-key",{appName:v.name});const H=typeof window<"u"?oc:void 0;this._delegate=C.initialize({options:{persistence:qr(N,v.name),popupRedirectResolver:H}}),this._delegate._updateErrorMap(Pt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,C){!function xs(E,g,v){const C=cr(E);Ie(C._canInitEmulator,C,"emulator-config-failed"),Ie(/^https?:\/\//.test(g),C,"invalid-emulator-scheme");const N=!!v?.disableWarnings,H=Ma(g),{host:se,port:ye}=function Dc(E){const g=Ma(E),v=/(\/\/)?([^?#/]+)/.exec(E.substr(g.length));if(!v)return{host:"",port:null};const C=v[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(C);if(N){const H=N[1];return{host:H,port:eh(C.substr(H.length+1))}}{const[H,se]=C.split(":");return{host:H,port:eh(se)}}}(g);C.config.emulator={url:`${H}//${se}${null===ye?"":`:${ye}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:se,port:ye,protocol:H.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function jv(){function E(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(this._delegate,v,C)}applyActionCode(v){return function Kf(E,g){return to.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return gr(this._delegate,v)}confirmPasswordReset(v,C){return function sl(E,g,v){return Po.apply(this,arguments)}(this._delegate,v,C)}createUserWithEmailAndPassword(v,C){var N=this;return(0,c.Z)(function*(){return zs(N._delegate,function dh(E,g,v){return Lc.apply(this,arguments)}(N._delegate,v,C))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function Uc(E,g){return ll.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function Qf(E,g){const v=zi.parseLink(g);return"EMAIL_SIGNIN"===v?.operation}(0,v)}getRedirectResult(){var v=this;return(0,c.Z)(function*(){Cl(Bg(),v._delegate,"operation-not-supported-in-this-environment");const C=yield function Fo(E,g){return Ih.apply(this,arguments)}(v._delegate,oc);return C?zs(v._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function hy(E,g){cr(E)._logFramework(g)}(this._delegate,v)}onAuthStateChanged(v,C,N){const{next:H,error:se,complete:ye}=Lp(v,C,N);return this._delegate.onAuthStateChanged(H,se,ye)}onIdTokenChanged(v,C,N){const{next:H,error:se,complete:ye}=Lp(v,C,N);return this._delegate.onIdTokenChanged(H,se,ye)}sendSignInLinkToEmail(v,C){return function Kl(E,g,v){return Fc.apply(this,arguments)}(this._delegate,v,C)}sendPasswordResetEmail(v,C){return function tx(E,g,v){return Nc.apply(this,arguments)}(this._delegate,v,C||void 0)}setPersistence(v){var C=this;return(0,c.Z)(function*(){let N;switch(function yy(E,g){_u(Object.values(ao).includes(g),E,"invalid-persistence-type"),(0,$.b$)()?_u(g!==ao.SESSION,E,"unsupported-persistence-type"):(0,$.UG)()?_u(g===ao.NONE,E,"unsupported-persistence-type"):_y()?_u(g===ao.NONE||g===ao.LOCAL&&(0,$.hl)(),E,"unsupported-persistence-type"):_u(g===ao.NONE||ax(),E,"unsupported-persistence-type")}(C._delegate,v),v){case ao.SESSION:N=Cs;break;case ao.LOCAL:N=(yield or(fl)._isAvailable())?fl:ec;break;case ao.NONE:N=Ks;break;default:return Ye("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(N)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return zs(this._delegate,function Fr(E){return lg.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return zs(this._delegate,ah(this._delegate,v))}signInWithCustomToken(v){return zs(this._delegate,function Xf(E,g){return ia.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,C){return zs(this._delegate,function Jf(E,g,v){return ah((0,$.m9)(E),nl.credential(g,v))}(this._delegate,v,C))}signInWithEmailLink(v,C){return zs(this._delegate,function Tr(E,g,v){return uh.apply(this,arguments)}(this._delegate,v,C))}signInWithPhoneNumber(v,C){return Np(this._delegate,function pp(E,g,v){return Ms.apply(this,arguments)}(this._delegate,v,C))}signInWithPopup(v){var C=this;return(0,c.Z)(function*(){return Cl(Bg(),C._delegate,"operation-not-supported-in-this-environment"),zs(C._delegate,function gl(E,g,v){return $c.apply(this,arguments)}(C._delegate,v,oc))})()}signInWithRedirect(v){var C=this;return(0,c.Z)(function*(){return Cl(Bg(),C._delegate,"operation-not-supported-in-this-environment"),yield Pp(C._delegate),ic(C._delegate,v,oc)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function Es(E,g){return al.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=ao,E})();function Lp(E,g,v){let C=E;"function"!=typeof E&&({next:C,error:g,complete:v}=E);const N=C;return{next:se=>N(se&&Wi.getOrCreate(se)),error:g,complete:v}}function qr(E,g){const v=function kp(E,g){const v=Fh();if(!v)return[];const C=re(sd,E,g);switch(v.getItem(C)){case ao.NONE:return[Ks];case ao.LOCAL:return[fl,Cs];case ao.SESSION:return[Cs];default:return[]}}(E,g);if(typeof self<"u"&&!v.includes(fl)&&v.push(fl),typeof window<"u")for(const C of[ec,Cs])v.includes(C)||v.push(C);return v.includes(Ks)||v.push(Ks),v}class ad{constructor(){this.providerId="phone",this._delegate=new ml(Op(_e.Z.auth()))}static credential(g,v){return ml.credential(g,v)}verifyPhoneNumber(g,v){return this._delegate.verifyPhoneNumber(g,v)}unwrap(){return this._delegate}}ad.PHONE_SIGN_IN_METHOD=ml.PHONE_SIGN_IN_METHOD,ad.PROVIDER_ID=ml.PROVIDER_ID;const Ey=Ie;class Uh{constructor(g,v,C=_e.Z.app()){var N;Ey(null===(N=C.options)||void 0===N?void 0:N.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new fp(g,v,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Gg(E){E.INTERNAL.registerComponent(new ze.wA("auth-compat",g=>{const v=g.getProvider("app-compat").getImmediate(),C=g.getProvider("auth");return new zg(v,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:nl,FacebookAuthProvider:Da,GithubAuthProvider:kc,GoogleAuthProvider:Fs,OAuthProvider:na,SAMLAuthProvider:Yl,PhoneAuthProvider:ad,PhoneMultiFactorGenerator:uu,RecaptchaVerifier:Uh,TwitterAuthProvider:zd,Auth:zg,AuthCredential:el,Error:$.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.4.2")}(_e.Z)},5861:(Kt,Je,W)=>{function c($,we,Te,xe,ze,ht,Le){try{var te=$[ht](Le),oe=te.value}catch(ve){return void Te(ve)}te.done?we(oe):Promise.resolve(oe).then(xe,ze)}function _e($){return function(){var we=this,Te=arguments;return new Promise(function(xe,ze){var ht=$.apply(we,Te);function Le(oe){c(ht,xe,ze,Le,te,"next",oe)}function te(oe){c(ht,xe,ze,Le,te,"throw",oe)}Le(void 0)})}}W.d(Je,{Z:()=>_e})},7582:(Kt,Je,W)=>{function we(Pe,Ne){var qe={};for(var Ze in Pe)Object.prototype.hasOwnProperty.call(Pe,Ze)&&Ne.indexOf(Ze)<0&&(qe[Ze]=Pe[Ze]);if(null!=Pe&&"function"==typeof Object.getOwnPropertySymbols){var Ke=0;for(Ze=Object.getOwnPropertySymbols(Pe);Ke<Ze.length;Ke++)Ne.indexOf(Ze[Ke])<0&&Object.prototype.propertyIsEnumerable.call(Pe,Ze[Ke])&&(qe[Ze[Ke]]=Pe[Ze[Ke]])}return qe}function ve(Pe,Ne,qe,Ze){return new(qe||(qe=Promise))(function(tt,zt){function Ct(li){try{sn(Ze.next(li))}catch(kn){zt(kn)}}function Zi(li){try{sn(Ze.throw(li))}catch(kn){zt(kn)}}function sn(li){li.done?tt(li.value):function Ke(tt){return tt instanceof qe?tt:new qe(function(zt){zt(tt)})}(li.value).then(Ct,Zi)}sn((Ze=Ze.apply(Pe,Ne||[])).next())})}function Me(Pe){return this instanceof Me?(this.v=Pe,this):new Me(Pe)}function Ye(Pe,Ne,qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,Ze=qe.apply(Pe,Ne||[]),tt=[];return Ke={},zt("next"),zt("throw"),zt("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke;function zt(Ui){Ze[Ui]&&(Ke[Ui]=function(Bi){return new Promise(function(yr,Ei){tt.push([Ui,Bi,yr,Ei])>1||Ct(Ui,Bi)})})}function Ct(Ui,Bi){try{!function Zi(Ui){Ui.value instanceof Me?Promise.resolve(Ui.value.v).then(sn,li):kn(tt[0][2],Ui)}(Ze[Ui](Bi))}catch(yr){kn(tt[0][3],yr)}}function sn(Ui){Ct("next",Ui)}function li(Ui){Ct("throw",Ui)}function kn(Ui,Bi){Ui(Bi),tt.shift(),tt.length&&Ct(tt[0][0],tt[0][1])}}function Qe(Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,Ne=Pe[Symbol.asyncIterator];return Ne?Ne.call(Pe):(Pe=function ut(Pe){var Ne="function"==typeof Symbol&&Symbol.iterator,qe=Ne&&Pe[Ne],Ze=0;if(qe)return qe.call(Pe);if(Pe&&"number"==typeof Pe.length)return{next:function(){return Pe&&Ze>=Pe.length&&(Pe=void 0),{value:Pe&&Pe[Ze++],done:!Pe}}};throw new TypeError(Ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(Pe),qe={},Ze("next"),Ze("throw"),Ze("return"),qe[Symbol.asyncIterator]=function(){return this},qe);function Ze(tt){qe[tt]=Pe[tt]&&function(zt){return new Promise(function(Ct,Zi){!function Ke(tt,zt,Ct,Zi){Promise.resolve(Zi).then(function(sn){tt({value:sn,done:Ct})},zt)}(Ct,Zi,(zt=Pe[tt](zt)).done,zt.value)})}}}W.d(Je,{FC:()=>Ye,KL:()=>Qe,_T:()=>we,mG:()=>ve,qq:()=>Me}),"function"==typeof SuppressedError&&SuppressedError}},Kt=>{Kt(Kt.s=40)}]);