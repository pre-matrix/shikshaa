"use strict";(self.webpackChunkauthentication=self.webpackChunkauthentication||[]).push([[179],{6304:(tn,Je,j)=>{j.d(Je,{Dh:()=>mt,GT:()=>we,cc:()=>ct,hO:()=>yt,on:()=>ne,pX:()=>Ae,xv:()=>Ve});var c=j(5879),be=j(7142),$=j(8186);tn=j.hmd(tn);const Ce=["ngOnDestroy"],Ae=(bt,un,cn,Te={})=>new Proxy(bt,{get:(qe,Me)=>cn.runOutsideAngular(()=>{var it;if(bt[Me])return!(null===(it=Te?.spy)||void 0===it)&&it.get&&Te.spy.get(Me,bt[Me]),bt[Me];if(Ce.indexOf(Me)>-1)return()=>{};const gt=un.toPromise().then(Pt=>{const Re=Pt&&Pt[Me];return"function"==typeof Re?Re.bind(Pt):Re&&Re.then?Re.then(mn=>cn.run(()=>mn)):cn.run(()=>Re)});return new Proxy(()=>{},{get:(Pt,Re)=>gt[Re],apply:(Pt,Re,mn)=>gt.then(Kn=>{var Pr;const vo=Kn&&Kn(...mn);return!(null===(Pr=Te?.spy)||void 0===Pr)&&Pr.apply&&Te.spy.apply(Me,mn,vo),vo})})})}),we=(bt,un)=>{un.forEach(cn=>{Object.getOwnPropertyNames(cn.prototype||cn).forEach(Te=>{Object.defineProperty(bt.prototype,Te,Object.getOwnPropertyDescriptor(cn.prototype||cn,Te))})})};class Ge{constructor(un){return un}}const mt=new c.OlP("angularfire2.app.options"),Ve=new c.OlP("angularfire2.app.name");function ne(bt,un,cn){const qe="object"==typeof cn&&cn||{};qe.name=qe.name||"string"==typeof cn&&cn||"[DEFAULT]";const it=be.Z.apps.filter(gt=>gt&&gt.name===qe.name)[0]||un.runOutsideAngular(()=>be.Z.initializeApp(bt,qe));try{JSON.stringify(bt)!==JSON.stringify(it.options)&&se("error",`${it.name} Firebase App already initialized with different options${tn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ge(it)}const se=(bt,...un)=>{(0,c.X6Q)()&&typeof console<"u"&&console[bt](...un)},ye={provide:Ge,useFactory:ne,deps:[mt,c.R0b,[new c.FiY,Ve]]};let yt=(()=>{class bt{constructor(cn){be.Z.registerVersion("angularfire",$.q4.full,"core"),be.Z.registerVersion("angularfire",$.q4.full,"app-compat"),be.Z.registerVersion("angular",c.q4F.full,cn.toString())}static initializeApp(cn,Te){return{ngModule:bt,providers:[{provide:mt,useValue:cn},{provide:Ve,useValue:Te}]}}}return bt.\u0275fac=function(cn){return new(cn||bt)(c.LFG(c.Lbi))},bt.\u0275mod=c.oAB({type:bt}),bt.\u0275inj=c.cJS({providers:[ye]}),bt})();function ct(bt,un,cn,Te,qe){const[,Me,it]=globalThis.\u0275AngularfireInstanceCache.find(gt=>gt[0]===bt)||[];if(Me)return function Ft(bt,un){try{return bt.toString()===un.toString()}catch{return bt===un}}(qe,it)||(At("error",`${un} was already initialized on the ${cn} Firebase App with different settings.${ht?" You may need to reload as Firebase is not HMR aware.":""}`),At("warn",{is:qe,was:it})),Me;{const gt=Te();return globalThis.\u0275AngularfireInstanceCache.push([bt,gt,qe]),gt}}const ht=!!tn.hot,At=(bt,...un)=>{(0,c.X6Q)()&&typeof console<"u"&&console[bt](...un)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(tn,Je,j)=>{j.d(Je,{q4:()=>td,iC:()=>_u,HU:()=>gm,vb:()=>Bo,JM:()=>sa});var c=j(5879),be=j(3182),$=j(5861),Ce=j(534),Ae=j(9058),we=j(4537),Ge=j(7879);const mt=(T,P)=>P.some(F=>T instanceof F);let Ve,ne;const yt=new WeakMap,ct=new WeakMap,Ft=new WeakMap,ht=new WeakMap,At=new WeakMap;let cn={get(T,P,F){if(T instanceof IDBTransaction){if("done"===P)return ct.get(T);if("objectStoreNames"===P)return T.objectStoreNames||Ft.get(T);if("store"===P)return F.objectStoreNames[1]?void 0:F.objectStore(F.objectStoreNames[0])}return it(T[P])},set:(T,P,F)=>(T[P]=F,!0),has:(T,P)=>T instanceof IDBTransaction&&("done"===P||"store"===P)||P in T};function Me(T){return"function"==typeof T?function qe(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...P){return T.apply(gt(this),P),it(yt.get(this))}:function(...P){return it(T.apply(gt(this),P))}:function(P,...F){const Y=T.call(gt(this),P,...F);return Ft.set(Y,P.sort?P.sort():[P]),it(Y)}}(T):(T instanceof IDBTransaction&&function un(T){if(ct.has(T))return;const P=new Promise((F,Y)=>{const ae=()=>{T.removeEventListener("complete",ge),T.removeEventListener("error",Ne),T.removeEventListener("abort",Ne)},ge=()=>{F(),ae()},Ne=()=>{Y(T.error||new DOMException("AbortError","AbortError")),ae()};T.addEventListener("complete",ge),T.addEventListener("error",Ne),T.addEventListener("abort",Ne)});ct.set(T,P)}(T),mt(T,function se(){return Ve||(Ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,cn):T)}function it(T){if(T instanceof IDBRequest)return function bt(T){const P=new Promise((F,Y)=>{const ae=()=>{T.removeEventListener("success",ge),T.removeEventListener("error",Ne)},ge=()=>{F(it(T.result)),ae()},Ne=()=>{Y(T.error),ae()};T.addEventListener("success",ge),T.addEventListener("error",Ne)});return P.then(F=>{F instanceof IDBCursor&&yt.set(F,T)}).catch(()=>{}),At.set(P,T),P}(T);if(ht.has(T))return ht.get(T);const P=Me(T);return P!==T&&(ht.set(T,P),At.set(P,T)),P}const gt=T=>At.get(T),mn=["get","getKey","getAll","getAllKeys","count"],Kn=["put","add","delete","clear"],Pr=new Map;function vo(T,P){if(!(T instanceof IDBDatabase)||P in T||"string"!=typeof P)return;if(Pr.get(P))return Pr.get(P);const F=P.replace(/FromIndex$/,""),Y=P!==F,ae=Kn.includes(F);if(!(F in(Y?IDBIndex:IDBObjectStore).prototype)||!ae&&!mn.includes(F))return;const ge=function(){var Ne=(0,$.Z)(function*(kt,...St){const Qt=this.transaction(kt,ae?"readwrite":"readonly");let pn=Qt.store;return Y&&(pn=pn.index(St.shift())),(yield Promise.all([pn[F](...St),ae&&Qt.done]))[0]});return function(St){return Ne.apply(this,arguments)}}();return Pr.set(P,ge),ge}!function Te(T){cn=T(cn)}(T=>({...T,get:(P,F,Y)=>vo(P,F)||T.get(P,F,Y),has:(P,F)=>!!vo(P,F)||T.has(P,F)}));const Qs="@firebase/installations",sr="0.6.4",qa=1e4,_a=`w:${sr}`,Pe="FIS_v2",Fe="https://firebaseinstallations.googleapis.com/v1",Ze=36e5,$t=new Ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Dt(T){return T instanceof Ae.ZR&&T.code.includes("request-failed")}function Qi({projectId:T}){return`${Fe}/projects/${T}/installations`}function ln(T){return{token:T.token,requestStatus:2,expiresIn:Yr(T.expiresIn),creationTime:Date.now()}}function hi(T,P){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,$.Z)(function*(T,P){const Y=(yield P.json()).error;return $t.create("request-failed",{requestName:T,serverCode:Y.code,serverMessage:Y.message,serverStatus:Y.status})})).apply(this,arguments)}function Ui({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function br(T){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,$.Z)(function*(T){const P=yield T();return P.status>=500&&P.status<600?T():P})).apply(this,arguments)}function Yr(T){return Number(T.replace("s","000"))}function Oo(){return(Oo=(0,$.Z)(function*({appConfig:T,heartbeatServiceProvider:P},{fid:F}){const Y=Qi(T),ae=Ui(T),ge=P.getImmediate({optional:!0});if(ge){const Qt=yield ge.getHeartbeatsHeader();Qt&&ae.append("x-firebase-client",Qt)}const kt={method:"POST",headers:ae,body:JSON.stringify({fid:F,authVersion:Pe,appId:T.appId,sdkVersion:_a})},St=yield br(()=>fetch(Y,kt));if(St.ok){const Qt=yield St.json();return{fid:Qt.fid||F,registrationStatus:2,refreshToken:Qt.refreshToken,authToken:ln(Qt.authToken)}}throw yield hi("Create Installation",St)})).apply(this,arguments)}function No(T){return new Promise(P=>{setTimeout(P,T)})}const Rl=/^[cdef][\w-]{21}$/,dn="";function Qn(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const F=function Pn(T){return function ba(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return Rl.test(F)?F:dn}catch{return dn}}function Ri(T){return`${T.appName}!${T.appId}`}const Xi=new Map;function bo(T,P){const F=Ri(T);jc(F,P),function fi(T,P){const F=function Zn(){return!yo&&"BroadcastChannel"in self&&(yo=new BroadcastChannel("[Firebase] FID Change"),yo.onmessage=T=>{jc(T.data.key,T.data.fid)}),yo}();F&&F.postMessage({key:T,fid:P}),function Ps(){0===Xi.size&&yo&&(yo.close(),yo=null)}()}(F,P)}function jc(T,P){const F=Xi.get(T);if(F)for(const Y of F)Y(P)}let yo=null;const ya="firebase-installations-database",xa=1,Xo="firebase-installations-store";let wa=null;function ws(){return wa||(wa=function Pt(T,P,{blocked:F,upgrade:Y,blocking:ae,terminated:ge}={}){const Ne=indexedDB.open(T,P),kt=it(Ne);return Y&&Ne.addEventListener("upgradeneeded",St=>{Y(it(Ne.result),St.oldVersion,St.newVersion,it(Ne.transaction))}),F&&Ne.addEventListener("blocked",()=>F()),kt.then(St=>{ge&&St.addEventListener("close",()=>ge()),ae&&St.addEventListener("versionchange",()=>ae())}).catch(()=>{}),kt}(ya,xa,{upgrade:(T,P)=>{0===P&&T.createObjectStore(Xo)}})),wa}function yr(T,P){return xr.apply(this,arguments)}function xr(){return(xr=(0,$.Z)(function*(T,P){const F=Ri(T),ae=(yield ws()).transaction(Xo,"readwrite"),ge=ae.objectStore(Xo),Ne=yield ge.get(F);return yield ge.put(P,F),yield ae.done,(!Ne||Ne.fid!==P.fid)&&bo(T,P.fid),P})).apply(this,arguments)}function xo(T){return ar.apply(this,arguments)}function ar(){return(ar=(0,$.Z)(function*(T){const P=Ri(T),Y=(yield ws()).transaction(Xo,"readwrite");yield Y.objectStore(Xo).delete(P),yield Y.done})).apply(this,arguments)}function Ko(T,P){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,$.Z)(function*(T,P){const F=Ri(T),ae=(yield ws()).transaction(Xo,"readwrite"),ge=ae.objectStore(Xo),Ne=yield ge.get(F),kt=P(Ne);return void 0===kt?yield ge.delete(F):yield ge.put(kt,F),yield ae.done,kt&&(!Ne||Ne.fid!==kt.fid)&&bo(T,kt.fid),kt})).apply(this,arguments)}function re(T){return ie.apply(this,arguments)}function ie(){return ie=(0,$.Z)(function*(T){let P;const F=yield Ko(T.appConfig,Y=>{const ae=function he(T){return Bn(T||{fid:Qn(),registrationStatus:0})}(Y),ge=function Ke(T,P){if(0===P.registrationStatus){if(!navigator.onLine)return{installationEntry:P,registrationPromise:Promise.reject($t.create("app-offline"))};const F={fid:P.fid,registrationStatus:1,registrationTime:Date.now()},Y=function De(T,P){return zt.apply(this,arguments)}(T,F);return{installationEntry:F,registrationPromise:Y}}return 1===P.registrationStatus?{installationEntry:P,registrationPromise:Dn(T)}:{installationEntry:P}}(T,ae);return P=ge.registrationPromise,ge.installationEntry});return F.fid===dn?{installationEntry:yield P}:{installationEntry:F,registrationPromise:P}}),ie.apply(this,arguments)}function zt(){return zt=(0,$.Z)(function*(T,P){try{const F=yield function va(T,P){return Oo.apply(this,arguments)}(T,P);return yr(T.appConfig,F)}catch(F){throw Dt(F)&&409===F.customData.serverCode?yield xo(T.appConfig):yield yr(T.appConfig,{fid:P.fid,registrationStatus:0}),F}}),zt.apply(this,arguments)}function Dn(T){return xn.apply(this,arguments)}function xn(){return(xn=(0,$.Z)(function*(T){let P=yield wr(T.appConfig);for(;1===P.registrationStatus;)yield No(100),P=yield wr(T.appConfig);if(0===P.registrationStatus){const{installationEntry:F,registrationPromise:Y}=yield re(T);return Y||F}return P})).apply(this,arguments)}function wr(T){return Ko(T,P=>{if(!P)throw $t.create("installation-not-found");return Bn(P)})}function Bn(T){return function Ji(T){return 1===T.registrationStatus&&T.registrationTime+qa<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function pr(){return(pr=(0,$.Z)(function*({appConfig:T,heartbeatServiceProvider:P},F){const Y=function Os(T,{fid:P}){return`${Qi(T)}/${P}/authTokens:generate`}(T,F),ae=function Bi(T,{refreshToken:P}){const F=Ui(T);return F.append("Authorization",function Po(T){return`${Pe} ${T}`}(P)),F}(T,F),ge=P.getImmediate({optional:!0});if(ge){const Qt=yield ge.getHeartbeatsHeader();Qt&&ae.append("x-firebase-client",Qt)}const kt={method:"POST",headers:ae,body:JSON.stringify({installation:{sdkVersion:_a,appId:T.appId}})},St=yield br(()=>fetch(Y,kt));if(St.ok)return ln(yield St.json());throw yield hi("Generate Auth Token",St)})).apply(this,arguments)}function Js(T){return Pl.apply(this,arguments)}function Pl(){return Pl=(0,$.Z)(function*(T,P=!1){let F;const Y=yield Ko(T.appConfig,ge=>{if(!zn(ge))throw $t.create("not-registered");const Ne=ge.authToken;if(!P&&function mi(T){return 2===T.requestStatus&&!function cr(T){const P=Date.now();return P<T.creationTime||T.creationTime+T.expiresIn<P+Ze}(T)}(Ne))return ge;if(1===Ne.requestStatus)return F=function Oe(T,P){return Se.apply(this,arguments)}(T,P),ge;{if(!navigator.onLine)throw $t.create("app-offline");const kt=function lr(T){const P={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:P})}(ge);return F=function Zt(T,P){return Ot.apply(this,arguments)}(T,kt),kt}});return F?yield F:Y.authToken}),Pl.apply(this,arguments)}function Se(){return(Se=(0,$.Z)(function*(T,P){let F=yield dt(T.appConfig);for(;1===F.authToken.requestStatus;)yield No(100),F=yield dt(T.appConfig);const Y=F.authToken;return 0===Y.requestStatus?Js(T,P):Y})).apply(this,arguments)}function dt(T){return Ko(T,P=>{if(!zn(P))throw $t.create("not-registered");return function Nr(T){return 1===T.requestStatus&&T.requestTime+qa<Date.now()}(P.authToken)?Object.assign(Object.assign({},P),{authToken:{requestStatus:0}}):P})}function Ot(){return Ot=(0,$.Z)(function*(T,P){try{const F=yield function ri(T,P){return pr.apply(this,arguments)}(T,P),Y=Object.assign(Object.assign({},P),{authToken:F});return yield yr(T.appConfig,Y),F}catch(F){if(!Dt(F)||401!==F.customData.serverCode&&404!==F.customData.serverCode){const Y=Object.assign(Object.assign({},P),{authToken:{requestStatus:0}});yield yr(T.appConfig,Y)}else yield xo(T.appConfig);throw F}}),Ot.apply(this,arguments)}function zn(T){return void 0!==T&&2===T.registrationStatus}function $c(){return($c=(0,$.Z)(function*(T){const P=T,{installationEntry:F,registrationPromise:Y}=yield re(P);return Y?Y.catch(console.error):Js(P).catch(console.error),F.fid})).apply(this,arguments)}function Za(){return Za=(0,$.Z)(function*(T,P=!1){const F=T;return yield function lh(T){return Jo.apply(this,arguments)}(F),(yield Js(F,P)).token}),Za.apply(this,arguments)}function Jo(){return(Jo=(0,$.Z)(function*(T){const{registrationPromise:P}=yield re(T);P&&(yield P)})).apply(this,arguments)}function Ea(T){return $t.create("missing-app-config-values",{valueName:T})}const Ol="installations",Gv=T=>{const P=T.getProvider("app").getImmediate(),F=function wo(T){if(!T||!T.options)throw Ea("App Configuration");if(!T.name)throw Ea("App Name");const P=["projectId","apiKey","appId"];for(const F of P)if(!T.options[F])throw Ea(F);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(P);return{app:P,appConfig:F,heartbeatServiceProvider:(0,Ce._getProvider)(P,"heartbeat"),_delete:()=>Promise.resolve()}},Ka=T=>{const P=T.getProvider("app").getImmediate(),F=(0,Ce._getProvider)(P,Ol).getImmediate();return{getId:()=>function Es(T){return $c.apply(this,arguments)}(F),getToken:ae=>function ch(T){return Za.apply(this,arguments)}(F,ae)}};(function Bf(){(0,Ce._registerComponent)(new we.wA(Ol,Gv,"PUBLIC")),(0,Ce._registerComponent)(new we.wA("installations-internal",Ka,"PRIVATE"))})(),(0,Ce.registerVersion)(Qs,sr),(0,Ce.registerVersion)(Qs,sr,"esm2017");const qc="@firebase/remote-config",qr=new Ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class vn{constructor(P,F,Y,ae){this.client=P,this.storage=F,this.storageCache=Y,this.logger=ae}isCachedDataFresh(P,F){if(!F)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Y=Date.now()-F,ae=Y<=P;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Y}. Cache max age millis (minimumFetchIntervalMillis setting): ${P}. Is cache hit: ${ae}.`),ae}fetch(P){var F=this;return(0,$.Z)(function*(){const[Y,ae]=yield Promise.all([F.storage.getLastSuccessfulFetchTimestampMillis(),F.storage.getLastSuccessfulFetchResponse()]);if(ae&&F.isCachedDataFresh(P.cacheMaxAgeMillis,Y))return ae;P.eTag=ae&&ae.eTag;const ge=yield F.client.fetch(P),Ne=[F.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ge.status&&Ne.push(F.storage.setLastSuccessfulFetchResponse(ge)),yield Promise.all(Ne),ge})()}}function zi(T=navigator){return T.languages&&T.languages[0]||T.language}class ho{constructor(P,F,Y,ae,ge,Ne){this.firebaseInstallations=P,this.sdkVersion=F,this.namespace=Y,this.projectId=ae,this.apiKey=ge,this.appId=Ne}fetch(P){var F=this;return(0,$.Z)(function*(){const[Y,ae]=yield Promise.all([F.firebaseInstallations.getId(),F.firebaseInstallations.getToken()]),Ne=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${F.projectId}/namespaces/${F.namespace}:fetch?key=${F.apiKey}`,kt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":P.eTag||"*"},St={sdk_version:F.sdkVersion,app_instance_id:Y,app_instance_id_token:ae,app_id:F.appId,language_code:zi()},Qt={method:"POST",headers:kt,body:JSON.stringify(St)},pn=fetch(Ne,Qt),On=new Promise((Kr,Qr)=>{P.signal.addEventListener(()=>{const tr=new Error("The operation was aborted.");tr.name="AbortError",Qr(tr)})});let ur;try{yield Promise.race([pn,On]),ur=yield pn}catch(Kr){let Qr="fetch-client-network";throw"AbortError"===Kr?.name&&(Qr="fetch-timeout"),qr.create(Qr,{originalErrorMessage:Kr?.message})}let _r=ur.status;const zs=ur.headers.get("ETag")||void 0;let er,_c;if(200===ur.status){let Kr;try{Kr=yield ur.json()}catch(Qr){throw qr.create("fetch-client-parse",{originalErrorMessage:Qr?.message})}er=Kr.entries,_c=Kr.state}if("INSTANCE_STATE_UNSPECIFIED"===_c?_r=500:"NO_CHANGE"===_c?_r=304:("NO_TEMPLATE"===_c||"EMPTY_CONFIG"===_c)&&(er={}),304!==_r&&200!==_r)throw qr.create("fetch-status",{httpStatus:_r});return{status:_r,eTag:zs,config:er}})()}}class Ul{constructor(P,F){this.client=P,this.storage=F}fetch(P){var F=this;return(0,$.Z)(function*(){const Y=(yield F.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return F.attemptFetch(P,Y)})()}attemptFetch(P,{throttleEndTimeMillis:F,backoffCount:Y}){var ae=this;return(0,$.Z)(function*(){yield function Qa(T,P){return new Promise((F,Y)=>{const ae=Math.max(P-Date.now(),0),ge=setTimeout(F,ae);T.addEventListener(()=>{clearTimeout(ge),Y(qr.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(P.signal,F);try{const ge=yield ae.client.fetch(P);return yield ae.storage.deleteThrottleMetadata(),ge}catch(ge){if(!function Lr(T){if(!(T instanceof Ae.ZR&&T.customData))return!1;const P=Number(T.customData.httpStatus);return 429===P||500===P||503===P||504===P}(ge))throw ge;const Ne={throttleEndTimeMillis:Date.now()+(0,Ae.$s)(Y),backoffCount:Y+1};return yield ae.storage.setThrottleMetadata(Ne),ae.attemptFetch(P,Ne)}})()}}class Xc{constructor(P,F,Y,ae,ge){this.app=P,this._client=F,this._storageCache=Y,this._storage=ae,this._logger=ge,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function En(T,P){const F=T.target.error||void 0;return qr.create(P,{originalErrorMessage:F&&F?.message})}const Fr="app_namespace_store";class ph{constructor(P,F,Y,ae=function Hi(){return new Promise((T,P)=>{try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=Y=>{P(En(Y,"storage-open"))},F.onsuccess=Y=>{T(Y.target.result)},F.onupgradeneeded=Y=>{0===Y.oldVersion&&Y.target.result.createObjectStore(Fr,{keyPath:"compositeKey"})}}catch(F){P(qr.create("storage-open",{originalErrorMessage:F?.message}))}})}()){this.appId=P,this.appName=F,this.namespace=Y,this.openDbPromise=ae}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(P){return this.set("last_fetch_status",P)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(P){return this.set("last_successful_fetch_timestamp_millis",P)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(P){return this.set("last_successful_fetch_response",P)}getActiveConfig(){return this.get("active_config")}setActiveConfig(P){return this.set("active_config",P)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(P){return this.set("active_config_etag",P)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(P){return this.set("throttle_metadata",P)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(P){var F=this;return(0,$.Z)(function*(){const Y=yield F.openDbPromise;return new Promise((ae,ge)=>{const kt=Y.transaction([Fr],"readonly").objectStore(Fr),St=F.createCompositeKey(P);try{const Qt=kt.get(St);Qt.onerror=pn=>{ge(En(pn,"storage-get"))},Qt.onsuccess=pn=>{const On=pn.target.result;ae(On?On.value:void 0)}}catch(Qt){ge(qr.create("storage-get",{originalErrorMessage:Qt?.message}))}})})()}set(P,F){var Y=this;return(0,$.Z)(function*(){const ae=yield Y.openDbPromise;return new Promise((ge,Ne)=>{const St=ae.transaction([Fr],"readwrite").objectStore(Fr),Qt=Y.createCompositeKey(P);try{const pn=St.put({compositeKey:Qt,value:F});pn.onerror=On=>{Ne(En(On,"storage-set"))},pn.onsuccess=()=>{ge()}}catch(pn){Ne(qr.create("storage-set",{originalErrorMessage:pn?.message}))}})})()}delete(P){var F=this;return(0,$.Z)(function*(){const Y=yield F.openDbPromise;return new Promise((ae,ge)=>{const kt=Y.transaction([Fr],"readwrite").objectStore(Fr),St=F.createCompositeKey(P);try{const Qt=kt.delete(St);Qt.onerror=pn=>{ge(En(pn,"storage-delete"))},Qt.onsuccess=()=>{ae()}}catch(Qt){ge(qr.create("storage-delete",{originalErrorMessage:Qt?.message}))}})})()}createCompositeKey(P){return[this.appId,this.appName,this.namespace,P].join()}}class Ja{constructor(P){this.storage=P}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var P=this;return(0,$.Z)(function*(){const F=P.storage.getLastFetchStatus(),Y=P.storage.getLastSuccessfulFetchTimestampMillis(),ae=P.storage.getActiveConfig(),ge=yield F;ge&&(P.lastFetchStatus=ge);const Ne=yield Y;Ne&&(P.lastSuccessfulFetchTimestampMillis=Ne);const kt=yield ae;kt&&(P.activeConfig=kt)})()}setLastFetchStatus(P){return this.lastFetchStatus=P,this.storage.setLastFetchStatus(P)}setLastSuccessfulFetchTimestampMillis(P){return this.lastSuccessfulFetchTimestampMillis=P,this.storage.setLastSuccessfulFetchTimestampMillis(P)}setActiveConfig(P){return this.activeConfig=P,this.storage.setActiveConfig(P)}}function Sa(){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,$.Z)(function*(){if(!(0,Ae.hl)())return!1;try{return yield(0,Ae.eu)()}catch{return!1}})).apply(this,arguments)}!function Er(){(0,Ce._registerComponent)(new we.wA("remote-config",function T(P,{instanceIdentifier:F}){const Y=P.getProvider("app").getImmediate(),ae=P.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw qr.create("registration-window");if(!(0,Ae.hl)())throw qr.create("indexed-db-unavailable");const{projectId:ge,apiKey:Ne,appId:kt}=Y.options;if(!ge)throw qr.create("registration-project-id");if(!Ne)throw qr.create("registration-api-key");if(!kt)throw qr.create("registration-app-id");const St=new ph(kt,Y.name,F=F||"firebase"),Qt=new Ja(St),pn=new Ge.Yd(qc);pn.logLevel=Ge.in.ERROR;const On=new ho(ae,Ce.SDK_VERSION,F,ge,Ne,kt),ur=new Ul(On,St),_r=new vn(ur,St,Qt,pn),zs=new Xc(Y,_r,Qt,St,pn);return function lo(T){const P=(0,Ae.m9)(T);P._initializePromise||(P._initializePromise=P._storageCache.loadFromStorage().then(()=>{P._isInitializationComplete=!0}))}(zs),zs},"PUBLIC").setMultipleInstances(!0)),(0,Ce.registerVersion)(qc,"0.4.4"),(0,Ce.registerVersion)(qc,"0.4.4","esm2017")}();const Bl=(T,P)=>P.some(F=>T instanceof F);let Ta,Wn;const Xd=new WeakMap,Cr=new WeakMap,ec=new WeakMap,Mr=new WeakMap,Aa=new WeakMap;let Sr={get(T,P,F){if(T instanceof IDBTransaction){if("done"===P)return Cr.get(T);if("objectStoreNames"===P)return T.objectStoreNames||ec.get(T);if("store"===P)return F.objectStoreNames[1]?void 0:F.objectStore(F.objectStoreNames[0])}return Fo(T[P])},set:(T,P,F)=>(T[P]=F,!0),has:(T,P)=>T instanceof IDBTransaction&&("done"===P||"store"===P)||P in T};function tc(T){return"function"==typeof T?function Kd(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Kc(){return Wn||(Wn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...P){return T.apply(Eo(this),P),Fo(Xd.get(this))}:function(...P){return Fo(T.apply(Eo(this),P))}:function(P,...F){const Y=T.call(Eo(this),P,...F);return ec.set(Y,P.sort?P.sort():[P]),Fo(Y)}}(T):(T instanceof IDBTransaction&&function Xp(T){if(Cr.has(T))return;const P=new Promise((F,Y)=>{const ae=()=>{T.removeEventListener("complete",ge),T.removeEventListener("error",Ne),T.removeEventListener("abort",Ne)},ge=()=>{F(),ae()},Ne=()=>{Y(T.error||new DOMException("AbortError","AbortError")),ae()};T.addEventListener("complete",ge),T.addEventListener("error",Ne),T.addEventListener("abort",Ne)});Cr.set(T,P)}(T),Bl(T,function Wv(){return Ta||(Ta=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,Sr):T)}function Fo(T){if(T instanceof IDBRequest)return function Ur(T){const P=new Promise((F,Y)=>{const ae=()=>{T.removeEventListener("success",ge),T.removeEventListener("error",Ne)},ge=()=>{F(Fo(T.result)),ae()},Ne=()=>{Y(T.error),ae()};T.addEventListener("success",ge),T.addEventListener("error",Ne)});return P.then(F=>{F instanceof IDBCursor&&Xd.set(F,T)}).catch(()=>{}),Aa.set(P,T),P}(T);if(Mr.has(T))return Mr.get(T);const P=tc(T);return P!==T&&(Mr.set(T,P),Aa.set(P,T)),P}const Eo=T=>Aa.get(T);function Qc(T,P,{blocked:F,upgrade:Y,blocking:ae,terminated:ge}={}){const Ne=indexedDB.open(T,P),kt=Fo(Ne);return Y&&Ne.addEventListener("upgradeneeded",St=>{Y(Fo(Ne.result),St.oldVersion,St.newVersion,Fo(Ne.transaction))}),F&&Ne.addEventListener("blocked",()=>F()),kt.then(St=>{ge&&St.addEventListener("close",()=>ge()),ae&&St.addEventListener("versionchange",()=>ae())}).catch(()=>{}),kt}function Jc(T,{blocked:P}={}){const F=indexedDB.deleteDatabase(T);return P&&F.addEventListener("blocked",()=>P()),Fo(F).then(()=>{})}const gh=["get","getKey","getAll","getAllKeys","count"],jv=["put","add","delete","clear"],Qd=new Map;function _h(T,P){if(!(T instanceof IDBDatabase)||P in T||"string"!=typeof P)return;if(Qd.get(P))return Qd.get(P);const F=P.replace(/FromIndex$/,""),Y=P!==F,ae=jv.includes(F);if(!(F in(Y?IDBIndex:IDBObjectStore).prototype)||!ae&&!gh.includes(F))return;const ge=function(){var Ne=(0,$.Z)(function*(kt,...St){const Qt=this.transaction(kt,ae?"readwrite":"readonly");let pn=Qt.store;return Y&&(pn=pn.index(St.shift())),(yield Promise.all([pn[F](...St),ae&&Qt.done]))[0]});return function(St){return Ne.apply(this,arguments)}}();return Qd.set(P,ge),ge}!function Zr(T){Sr=T(Sr)}(T=>({...T,get:(P,F,Y)=>_h(P,F)||T.get(P,F,Y),has:(P,F)=>!!_h(P,F)||T.has(P,F)}));const Gf="/firebase-messaging-sw.js",vh="/firebase-cloud-messaging-push-scope",Wf="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$v="https://fcmregistrations.googleapis.com/v1",Gi="google.c.a.c_id",Yv="google.c.a.c_l",Kp="google.c.a.ts";var jf=function(T){return T.PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",T}(jf||{});function ia(T){const P=new Uint8Array(T);return btoa(String.fromCharCode(...P)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bh(T){const F=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Y=atob(F),ae=new Uint8Array(Y.length);for(let ge=0;ge<Y.length;++ge)ae[ge]=Y.charCodeAt(ge);return ae}const el="fcm_token_details_db",yh=5,Vl="fcm_token_object_Store";function zl(){return zl=(0,$.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ge=>ge.name).includes(el))return null;let P=null;return(yield Qc(el,yh,{upgrade:(Y=(0,$.Z)(function*(ae,ge,Ne,kt){var St;if(ge<2||!ae.objectStoreNames.contains(Vl))return;const Qt=kt.objectStore(Vl),pn=yield Qt.index("fcmSenderId").get(T);if(yield Qt.clear(),pn)if(2===ge){const On=pn;if(!On.auth||!On.p256dh||!On.endpoint)return;P={token:On.fcmToken,createTime:null!==(St=On.createTime)&&void 0!==St?St:Date.now(),subscriptionOptions:{auth:On.auth,p256dh:On.p256dh,endpoint:On.endpoint,swScope:On.swScope,vapidKey:"string"==typeof On.vapidKey?On.vapidKey:ia(On.vapidKey)}}}else if(3===ge){const On=pn;P={token:On.fcmToken,createTime:On.createTime,subscriptionOptions:{auth:ia(On.auth),p256dh:ia(On.p256dh),endpoint:On.endpoint,swScope:On.swScope,vapidKey:ia(On.vapidKey)}}}else if(4===ge){const On=pn;P={token:On.fcmToken,createTime:On.createTime,subscriptionOptions:{auth:ia(On.auth),p256dh:ia(On.p256dh),endpoint:On.endpoint,swScope:On.swScope,vapidKey:ia(On.vapidKey)}}}}),function(ge,Ne,kt,St){return Y.apply(this,arguments)})})).close(),yield Jc(el),yield Jc("fcm_vapid_details_db"),yield Jc("undefined"),function nc(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:P}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof P.auth&&P.auth.length>0&&"string"==typeof P.p256dh&&P.p256dh.length>0&&"string"==typeof P.endpoint&&P.endpoint.length>0&&"string"==typeof P.swScope&&P.swScope.length>0&&"string"==typeof P.vapidKey&&P.vapidKey.length>0}(P)?P:null;var Y}),zl.apply(this,arguments)}const Ns="firebase-messaging-database",$f=1,ns="firebase-messaging-store";let gr=null;function ic(){return gr||(gr=Qc(Ns,$f,{upgrade:(T,P)=>{0===P&&T.createObjectStore(ns)}})),gr}function Co(T){return rc.apply(this,arguments)}function rc(){return rc=(0,$.Z)(function*(T){const P=Gl(T),Y=yield(yield ic()).transaction(ns).objectStore(ns).get(P);if(Y)return Y;{const ae=yield function j0(T){return zl.apply(this,arguments)}(T.appConfig.senderId);if(ae)return yield xh(T,ae),ae}}),rc.apply(this,arguments)}function xh(T,P){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,$.Z)(function*(T,P){const F=Gl(T),ae=(yield ic()).transaction(ns,"readwrite");return yield ae.objectStore(ns).put(P,F),yield ae.done,P})).apply(this,arguments)}function tl(){return(tl=(0,$.Z)(function*(T){const P=Gl(T),Y=(yield ic()).transaction(ns,"readwrite");yield Y.objectStore(ns).delete(P),yield Y.done})).apply(this,arguments)}function Gl({appConfig:T}){return T.appId}const Tr=new Ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function wh(T,P){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,$.Z)(function*(T,P){const F=yield Zf(T),Y=qv(P),ae={method:"POST",headers:F,body:JSON.stringify(Y)};let ge;try{ge=yield(yield fetch(jl(T.appConfig),ae)).json()}catch(Ne){throw Tr.create("token-subscribe-failed",{errorInfo:Ne?.toString()})}if(ge.error)throw Tr.create("token-subscribe-failed",{errorInfo:ge.error.message});if(!ge.token)throw Tr.create("token-subscribe-no-token");return ge.token})).apply(this,arguments)}function Wl(){return(Wl=(0,$.Z)(function*(T,P){const F=yield Zf(T),Y=qv(P.subscriptionOptions),ae={method:"PATCH",headers:F,body:JSON.stringify(Y)};let ge;try{ge=yield(yield fetch(`${jl(T.appConfig)}/${P.token}`,ae)).json()}catch(Ne){throw Tr.create("token-update-failed",{errorInfo:Ne?.toString()})}if(ge.error)throw Tr.create("token-update-failed",{errorInfo:ge.error.message});if(!ge.token)throw Tr.create("token-update-no-token");return ge.token})).apply(this,arguments)}function oc(T,P){return Da.apply(this,arguments)}function Da(){return(Da=(0,$.Z)(function*(T,P){const Y={method:"DELETE",headers:yield Zf(T)};try{const ge=yield(yield fetch(`${jl(T.appConfig)}/${P}`,Y)).json();if(ge.error)throw Tr.create("token-unsubscribe-failed",{errorInfo:ge.error.message})}catch(ae){throw Tr.create("token-unsubscribe-failed",{errorInfo:ae?.toString()})}})).apply(this,arguments)}function jl({projectId:T}){return`${$v}/projects/${T}/registrations`}function Zf(T){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,$.Z)(function*({appConfig:T,installations:P}){const F=yield P.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${F}`})})).apply(this,arguments)}function qv({p256dh:T,auth:P,endpoint:F,vapidKey:Y}){const ae={web:{endpoint:F,auth:P,p256dh:T}};return Y!==Wf&&(ae.web.applicationPubKey=Y),ae}const Xf=6048e5;function Mh(){return Mh=(0,$.Z)(function*(T){const P=yield function $l(T,P){return Sh.apply(this,arguments)}(T.swRegistration,T.vapidKey),F={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:P.endpoint,auth:ia(P.getKey("auth")),p256dh:ia(P.getKey("p256dh"))},Y=yield Co(T.firebaseDependencies);if(Y){if(function Qf(T,P){return P.vapidKey===T.vapidKey&&P.endpoint===T.endpoint&&P.auth===T.auth&&P.p256dh===T.p256dh}(Y.subscriptionOptions,F))return Date.now()>=Y.createTime+Xf?function Jp(T,P){return nl.apply(this,arguments)}(T,{token:Y.token,createTime:Date.now(),subscriptionOptions:F}):Y.token;try{yield oc(T.firebaseDependencies,Y.token)}catch(ae){console.warn(ae)}return Xv(T.firebaseDependencies,F)}return Xv(T.firebaseDependencies,F)}),Mh.apply(this,arguments)}function eu(){return eu=(0,$.Z)(function*(T){const P=yield Co(T.firebaseDependencies);P&&(yield oc(T.firebaseDependencies,P.token),yield function Yf(T){return tl.apply(this,arguments)}(T.firebaseDependencies));const F=yield T.swRegistration.pushManager.getSubscription();return!F||F.unsubscribe()}),eu.apply(this,arguments)}function nl(){return nl=(0,$.Z)(function*(T,P){try{const F=yield function Ch(T,P){return Wl.apply(this,arguments)}(T.firebaseDependencies,P),Y=Object.assign(Object.assign({},P),{token:F,createTime:Date.now()});return yield xh(T.firebaseDependencies,Y),F}catch(F){throw yield function Kf(T){return eu.apply(this,arguments)}(T),F}}),nl.apply(this,arguments)}function Xv(T,P){return il.apply(this,arguments)}function il(){return(il=(0,$.Z)(function*(T,P){const Y={token:yield wh(T,P),createTime:Date.now(),subscriptionOptions:P};return yield xh(T,Y),Y.token})).apply(this,arguments)}function Sh(){return(Sh=(0,$.Z)(function*(T,P){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bh(P)})})).apply(this,arguments)}function tu(T){const P={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function Yl(T,P){if(!P.notification)return;T.notification={};const F=P.notification.title;F&&(T.notification.title=F);const Y=P.notification.body;Y&&(T.notification.body=Y);const ae=P.notification.image;ae&&(T.notification.image=ae);const ge=P.notification.icon;ge&&(T.notification.icon=ge)}(P,T),function eg(T,P){P.data&&(T.data=P.data)}(P,T),function Th(T,P){var F,Y,ae,ge,Ne;if(!(P.fcmOptions||null!==(F=P.notification)&&void 0!==F&&F.click_action))return;T.fcmOptions={};const kt=null!==(ae=null===(Y=P.fcmOptions)||void 0===Y?void 0:Y.link)&&void 0!==ae?ae:null===(ge=P.notification)||void 0===ge?void 0:ge.click_action;kt&&(T.fcmOptions.link=kt);const St=null===(Ne=P.fcmOptions)||void 0===Ne?void 0:Ne.analytics_label;St&&(T.fcmOptions.analyticsLabel=St)}(P,T),P}function Ah(T,P){const F=[];for(let Y=0;Y<T.length;Y++)F.push(T.charAt(Y)),Y<P.length&&F.push(P.charAt(Y));return F.join("")}function Dh(T){return Tr.create("missing-app-config-values",{valueName:T})}Ah("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ah("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ng{constructor(P,F,Y){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ae=function tg(T){if(!T||!T.options)throw Dh("App Configuration Object");if(!T.name)throw Dh("App Name");const P=["projectId","apiKey","appId","messagingSenderId"],{options:F}=T;for(const Y of P)if(!F[Y])throw Dh(Y);return{appName:T.name,projectId:F.projectId,apiKey:F.apiKey,appId:F.appId,senderId:F.messagingSenderId}}(P);this.firebaseDependencies={app:P,appConfig:ae,installations:F,analyticsProvider:Y}}_delete(){return Promise.resolve()}}function ql(){return(ql=(0,$.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(Gf,{scope:vh}),T.swRegistration.update().catch(()=>{})}catch(P){throw Tr.create("failed-service-worker-registration",{browserErrorMessage:P?.message})}})).apply(this,arguments)}function sc(){return(sc=(0,$.Z)(function*(T,P){if(!P&&!T.swRegistration&&(yield function nu(T){return ql.apply(this,arguments)}(T)),P||!T.swRegistration){if(!(P instanceof ServiceWorkerRegistration))throw Tr.create("invalid-sw-registration");T.swRegistration=P}})).apply(this,arguments)}function ac(){return(ac=(0,$.Z)(function*(T,P){P?T.vapidKey=P:T.vapidKey||(T.vapidKey=Wf)})).apply(this,arguments)}function Zl(){return Zl=(0,$.Z)(function*(T,P){if(!navigator)throw Tr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Tr.create("permission-blocked");return yield function Ls(T,P){return ac.apply(this,arguments)}(T,P?.vapidKey),yield function ig(T,P){return sc.apply(this,arguments)}(T,P?.serviceWorkerRegistration),function Zv(T){return Mh.apply(this,arguments)}(T)}),Zl.apply(this,arguments)}function Cs(){return(Cs=(0,$.Z)(function*(T,P,F){const Y=function em(T){switch(T){case jf.NOTIFICATION_CLICKED:return"notification_open";case jf.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(P);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(Y,{message_id:F[Gi],message_name:F[Yv],message_time:F[Kp],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function wi(){return wi=(0,$.Z)(function*(T,P){const F=P.data;if(!F.isFirebaseMessaging)return;T.onMessageHandler&&F.messageType===jf.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(tu(F)):T.onMessageHandler.next(tu(F)));const Y=F.data;(function Kv(T){return"object"==typeof T&&!!T&&Gi in T})(Y)&&"1"===Y["google.c.a.e"]&&(yield function rg(T,P,F){return Cs.apply(this,arguments)}(T,F.messageType,Y))}),wi.apply(this,arguments)}const Ia="@firebase/messaging",Br=T=>{const P=new ng(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",F=>function tm(T,P){return wi.apply(this,arguments)}(P,F)),P},og=T=>{const P=T.getProvider("messaging").getImmediate();return{getToken:Y=>function Jf(T,P){return Zl.apply(this,arguments)}(P,Y)}};function lc(){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,$.Z)(function*(){try{yield(0,Ae.eu)()}catch{return!1}return typeof window<"u"&&(0,Ae.hl)()&&(0,Ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ih(){(0,Ce._registerComponent)(new we.wA("messaging",Br,"PUBLIC")),(0,Ce._registerComponent)(new we.wA("messaging-internal",og,"PRIVATE")),(0,Ce.registerVersion)(Ia,"0.12.4"),(0,Ce.registerVersion)(Ia,"0.12.4","esm2017")}();const Fi="analytics",Jv="firebase_id",Cn="origin",nm=6e4,im="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ru="https://www.googletagmanager.com/gtag/js",Ar=new Ge.Yd("@firebase/analytics"),zr=new Ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Fs(T){if(!T.startsWith(ru)){const P=zr.create("invalid-gtag-resource",{gtagURL:T});return Ar.warn(P.message),""}return T}function ou(T){return Promise.all(T.map(P=>P.catch(F=>F)))}function rt(){return(rt=(0,$.Z)(function*(T,P,F,Y,ae,ge){const Ne=Y[ae];try{if(Ne)yield P[Ne];else{const St=(yield ou(F)).find(Qt=>Qt.measurementId===ae);St&&(yield P[St.appId])}}catch(kt){Ar.error(kt)}T("config",ae,ge)})).apply(this,arguments)}function Ms(){return(Ms=(0,$.Z)(function*(T,P,F,Y,ae){try{let ge=[];if(ae&&ae.send_to){let Ne=ae.send_to;Array.isArray(Ne)||(Ne=[Ne]);const kt=yield ou(F);for(const St of Ne){const Qt=kt.find(On=>On.measurementId===St),pn=Qt&&P[Qt.appId];if(!pn){ge=[];break}ge.push(pn)}}0===ge.length&&(ge=Object.values(P)),yield Promise.all(ge),T("event",Y,ae||{})}catch(ge){Ar.error(ge)}})).apply(this,arguments)}const ol=30,Ph=new class dc{constructor(P={},F=1e3){this.throttleMetadata=P,this.intervalMillis=F}getThrottleMetadata(P){return this.throttleMetadata[P]}setThrottleMetadata(P,F){this.throttleMetadata[P]=F}deleteThrottleMetadata(P){delete this.throttleMetadata[P]}};function lg(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function Oh(){return(Oh=(0,$.Z)(function*(T){var P;const{appId:F,apiKey:Y}=T,ae={method:"GET",headers:lg(Y)},ge=im.replace("{app-id}",F),Ne=yield fetch(ge,ae);if(200!==Ne.status&&304!==Ne.status){let kt="";try{const St=yield Ne.json();null!==(P=St.error)&&void 0!==P&&P.message&&(kt=St.error.message)}catch{}throw zr.create("config-fetch-failed",{httpStatus:Ne.status,responseMessage:kt})}return Ne.json()})).apply(this,arguments)}function Uo(){return(Uo=(0,$.Z)(function*(T,P=Ph,F){const{appId:Y,apiKey:ae,measurementId:ge}=T.options;if(!Y)throw zr.create("no-app-id");if(!ae){if(ge)return{measurementId:ge,appId:Y};throw zr.create("no-api-key")}const Ne=P.getThrottleMetadata(Y)||{backoffCount:0,throttleEndTimeMillis:Date.now()},kt=new Lh;return setTimeout((0,$.Z)(function*(){kt.abort()}),void 0!==F?F:nm),om({appId:Y,apiKey:ae,measurementId:ge},Ne,kt,P)})).apply(this,arguments)}function om(T,P,F){return uc.apply(this,arguments)}function uc(){return uc=(0,$.Z)(function*(T,{throttleEndTimeMillis:P,backoffCount:F},Y,ae=Ph){var ge;const{appId:Ne,measurementId:kt}=T;try{yield function is(T,P){return new Promise((F,Y)=>{const ae=Math.max(P-Date.now(),0),ge=setTimeout(F,ae);T.addEventListener(()=>{clearTimeout(ge),Y(zr.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(Y,P)}catch(St){if(kt)return Ar.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${kt} provided in the "measurementId" field in the local Firebase config. [${St?.message}]`),{appId:Ne,measurementId:kt};throw St}try{const St=yield function $0(T){return Oh.apply(this,arguments)}(T);return ae.deleteThrottleMetadata(Ne),St}catch(St){const Qt=St;if(!function Nh(T){if(!(T instanceof Ae.ZR&&T.customData))return!1;const P=Number(T.customData.httpStatus);return 429===P||500===P||503===P||504===P}(Qt)){if(ae.deleteThrottleMetadata(Ne),kt)return Ar.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${kt} provided in the "measurementId" field in the local Firebase config. [${Qt?.message}]`),{appId:Ne,measurementId:kt};throw St}const pn=503===Number(null===(ge=Qt?.customData)||void 0===ge?void 0:ge.httpStatus)?(0,Ae.$s)(F,ae.intervalMillis,ol):(0,Ae.$s)(F,ae.intervalMillis),On={throttleEndTimeMillis:Date.now()+pn,backoffCount:F+1};return ae.setThrottleMetadata(Ne,On),Ar.debug(`Calling attemptFetch again in ${pn} millis`),om(T,On,Y,ae)}}),uc.apply(this,arguments)}class Lh{constructor(){this.listeners=[]}addEventListener(P){this.listeners.push(P)}abort(){this.listeners.forEach(P=>P())}}let du,sl;function uu(){return(uu=(0,$.Z)(function*(T,P,F,Y,ae){if(ae&&ae.global)T("event",F,Y);else{const ge=yield P;T("event",F,Object.assign(Object.assign({},Y),{send_to:ge}))}})).apply(this,arguments)}function rs(){return(rs=(0,$.Z)(function*(){if(!(0,Ae.hl)())return Ar.warn(zr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ae.eu)()}catch(T){return Ar.warn(zr.create("indexeddb-unavailable",{errorInfo:T?.toString()}).message),!1}return!0})).apply(this,arguments)}function hc(){return hc=(0,$.Z)(function*(T,P,F,Y,ae,ge,Ne){var kt;const St=function So(T){return Uo.apply(this,arguments)}(T);St.then(_r=>{F[_r.measurementId]=_r.appId,T.options.measurementId&&_r.measurementId!==T.options.measurementId&&Ar.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${_r.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_r=>Ar.error(_r)),P.push(St);const Qt=function Yn(){return rs.apply(this,arguments)}().then(_r=>{if(_r)return Y.getId()}),[pn,On]=yield Promise.all([St,Qt]);(function lu(T){const P=window.document.getElementsByTagName("script");for(const F of Object.values(P))if(F.src&&F.src.includes(ru)&&F.src.includes(T))return F;return null})(ge)||function au(T,P){const F=function su(T,P){let F;return window.trustedTypes&&(F=window.trustedTypes.createPolicy(T,P)),F}("firebase-js-sdk-policy",{createScriptURL:Fs}),Y=document.createElement("script"),ae=`${ru}?l=${T}&id=${P}`;Y.src=F?F?.createScriptURL(ae):ae,Y.async=!0,document.head.appendChild(Y)}(ge,pn.measurementId),sl&&(ae("consent","default",sl),function Xl(T){sl=T}(void 0)),ae("js",new Date);const ur=null!==(kt=Ne?.config)&&void 0!==kt?kt:{};return ur[Cn]="firebase",ur.update=!0,null!=On&&(ur[Jv]=On),ae("config",pn.measurementId,ur),du&&(ae("set",du),function Rn(T){du=T}(void 0)),pn.measurementId}),hc.apply(this,arguments)}class Us{constructor(P){this.app=P}_delete(){return delete os[this.app.options.appId],Promise.resolve()}}let os={},Kl=[];const dm={};let ss,oa,ra="dataLayer",fc=!1;function Jl(T,P,F){!function fu(){const T=[];if((0,Ae.ru)()&&T.push("This is a browser extension environment."),(0,Ae.zI)()||T.push("Cookies are not available."),T.length>0){const P=T.map((Y,ae)=>`(${ae+1}) ${Y}`).join(" "),F=zr.create("invalid-analytics-context",{errorInfo:P});Ar.warn(F.message)}}();const Y=T.options.appId;if(!Y)throw zr.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw zr.create("no-api-key");Ar.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=os[Y])throw zr.create("already-exists",{id:Y});if(!fc){!function eb(T){let P=[];Array.isArray(window[T])?P=window[T]:window[T]=P}(ra);const{wrappedGtag:ge,gtagCore:Ne}=function Dr(T,P,F,Y,ae){let ge=function(...Ne){window[Y].push(arguments)};return window[ae]&&"function"==typeof window[ae]&&(ge=window[ae]),window[ae]=function cu(T,P,F,Y){function ge(){return ge=(0,$.Z)(function*(Ne,...kt){try{if("event"===Ne){const[St,Qt]=kt;yield function ti(T,P,F,Y,ae){return Ms.apply(this,arguments)}(T,P,F,St,Qt)}else if("config"===Ne){const[St,Qt]=kt;yield function Rh(T,P,F,Y,ae,ge){return rt.apply(this,arguments)}(T,P,F,Y,St,Qt)}else if("consent"===Ne){const[St]=kt;T("consent","update",St)}else if("get"===Ne){const[St,Qt,pn]=kt;T("get",St,Qt,pn)}else if("set"===Ne){const[St]=kt;T("set",St)}else T(Ne,...kt)}catch(St){Ar.error(St)}}),ge.apply(this,arguments)}return function ae(Ne){return ge.apply(this,arguments)}}(ge,T,P,F),{gtagCore:ge,wrappedGtag:window[ae]}}(os,Kl,dm,ra,"gtag");oa=ge,ss=Ne,fc=!0}return os[Y]=function Sn(T,P,F,Y,ae,ge,Ne){return hc.apply(this,arguments)}(T,Kl,dm,P,ss,ra,F),new Us(T)}function Fh(){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,$.Z)(function*(){if((0,Ae.ru)()||!(0,Ae.zI)()||!(0,Ae.hl)())return!1;try{return yield(0,Ae.eu)()}catch{return!1}})).apply(this,arguments)}const ed="@firebase/analytics";!function fg(){(0,Ce._registerComponent)(new we.wA(Fi,(P,{options:F})=>Jl(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),F),"PUBLIC")),(0,Ce._registerComponent)(new we.wA("analytics-internal",function T(P){try{const F=P.getProvider(Fi).getImmediate();return{logEvent:(Y,ae,ge)=>function fm(T,P,F,Y){T=(0,Ae.m9)(T),function tb(T,P,F,Y,ae){return uu.apply(this,arguments)}(oa,os[T.app.options.appId],P,F,Y).catch(ae=>Ar.error(ae))}(F,Y,ae,ge)}}catch(F){throw zr.create("interop-component-reg-failed",{reason:F})}},"PRIVATE")),(0,Ce.registerVersion)(ed,"0.10.0"),(0,Ce.registerVersion)(ed,"0.10.0","esm2017")}();var mc=j(1954),pu=j(2631);const pm=new class mm extends pu.v{}(class Bh extends mc.o{constructor(P,F){super(P,F),this.scheduler=P,this.work=F}schedule(P,F=0){return F>0?super.schedule(P,F):(this.delay=F,this.state=P,this.scheduler.flush(this),this)}execute(P,F){return F>0||this.closed?super.execute(P,F):this._execute(P,F)}requestAsyncId(P,F,Y=0){return null!=Y&&Y>0||null==Y&&this.delay>0?super.requestAsyncId(P,F,Y):(P.flush(this),0)}});var Vh=j(6321),Bs=j(9397),zh=j(5137),pc=j(3093);const td=new c.GfV("7.6.1"),nd="__angularfire_symbol__analyticsIsSupportedValue",La="__angularfire_symbol__analyticsIsSupported",id="__angularfire_symbol__remoteConfigIsSupportedValue",Hh="__angularfire_symbol__remoteConfigIsSupported",rd="__angularfire_symbol__messagingIsSupportedValue",od="__angularfire_symbol__messagingIsSupported";function sa(T,P,F){if(P){if(1===P.length)return P[0];const ge=P.filter(Ne=>Ne.app===F);if(1===ge.length)return ge[0]}return F.container.getProvider(T).getImmediate({optional:!0})}globalThis[La]||(globalThis[La]=Fh().then(T=>globalThis[nd]=T).catch(()=>globalThis[nd]=!1)),globalThis[od]||(globalThis[od]=lc().then(T=>globalThis[rd]=T).catch(()=>globalThis[rd]=!1)),globalThis[Hh]||(globalThis[Hh]=Sa().then(T=>globalThis[id]=T).catch(()=>globalThis[id]=!1));const Bo=(T,P)=>{const F=P?[P]:(0,be.C6)(),Y=[];return F.forEach(ae=>{ae.container.getProvider(T).instances.forEach(Ne=>{Y.includes(Ne)||Y.push(Ne)})}),Y};function Vs(){}class Wh{constructor(P,F=pm){this.zone=P,this.delegate=F}now(){return this.delegate.now()}schedule(P,F,Y){const ae=this.zone;return this.delegate.schedule(function(Ne){ae.runGuarded(()=>{P.apply(this,[Ne])})},F,Y)}}class gc{constructor(P){this.zone=P,this.task=null}call(P,F){const Y=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vs,{},Vs,Vs)),F.pipe((0,Bs.b)({next:Y,complete:Y,error:Y})).subscribe(P).add(Y)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let gm=(()=>{class T{constructor(F){this.ngZone=F,this.outsideAngular=F.runOutsideAngular(()=>new Wh(Zone.current)),this.insideAngular=F.run(()=>new Wh(Zone.current,Vh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(F){return new(F||T)(c.LFG(c.R0b))},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Pi(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function _u(T){return Pi(),function vu(T){return function(F){return(F=F.lift(new gc(T.ngZone))).pipe((0,zh.R)(T.outsideAngular),(0,pc.Q)(T.insideAngular))}}(Pi())(T)}},9058:(tn,Je,j)=>{j.d(Je,{$s:()=>xo,BH:()=>Me,DV:()=>Yr,Dv:()=>jc,GJ:()=>br,L:()=>Ve,LL:()=>st,Pz:()=>qe,Sg:()=>it,UG:()=>Re,UI:()=>va,US:()=>we,Wj:()=>Zn,Wl:()=>ln,Yr:()=>qa,ZB:()=>ye,ZR:()=>Qe,aH:()=>Te,b$:()=>Pr,cI:()=>Qi,dS:()=>ya,eu:()=>Fe,g5:()=>$,gK:()=>fi,gQ:()=>Pn,h$:()=>mt,hl:()=>Pe,hu:()=>be,jU:()=>mn,lb:()=>Ps,m9:()=>Qo,ne:()=>Ri,p$:()=>se,pd:()=>Qn,r3:()=>Ai,ru:()=>Kn,tV:()=>ne,uI:()=>Pt,ug:()=>xa,vZ:()=>Oo,w1:()=>Qs,w9:()=>Bi,xO:()=>Rl,xb:()=>Po,z$:()=>gt,zI:()=>Ze,zd:()=>dn});const c={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},be=function(re,ie){if(!re)throw $(ie)},$=function(re){return new Error("Firebase Database ("+c.SDK_VERSION+") INTERNAL ASSERT FAILED: "+re)},Ce=function(re){const ie=[];let he=0;for(let Ke=0;Ke<re.length;Ke++){let De=re.charCodeAt(Ke);De<128?ie[he++]=De:De<2048?(ie[he++]=De>>6|192,ie[he++]=63&De|128):55296==(64512&De)&&Ke+1<re.length&&56320==(64512&re.charCodeAt(Ke+1))?(De=65536+((1023&De)<<10)+(1023&re.charCodeAt(++Ke)),ie[he++]=De>>18|240,ie[he++]=De>>12&63|128,ie[he++]=De>>6&63|128,ie[he++]=63&De|128):(ie[he++]=De>>12|224,ie[he++]=De>>6&63|128,ie[he++]=63&De|128)}return ie},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(re,ie){if(!Array.isArray(re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const he=ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ke=[];for(let De=0;De<re.length;De+=3){const zt=re[De],Dn=De+1<re.length,xn=Dn?re[De+1]:0,wr=De+2<re.length,Bn=wr?re[De+2]:0;let pr=(15&xn)<<2|Bn>>6,Os=63&Bn;wr||(Os=64,Dn||(pr=64)),Ke.push(he[zt>>2],he[(3&zt)<<4|xn>>4],he[pr],he[Os])}return Ke.join("")},encodeString(re,ie){return this.HAS_NATIVE_SUPPORT&&!ie?btoa(re):this.encodeByteArray(Ce(re),ie)},decodeString(re,ie){return this.HAS_NATIVE_SUPPORT&&!ie?atob(re):function(re){const ie=[];let he=0,Ke=0;for(;he<re.length;){const De=re[he++];if(De<128)ie[Ke++]=String.fromCharCode(De);else if(De>191&&De<224){const zt=re[he++];ie[Ke++]=String.fromCharCode((31&De)<<6|63&zt)}else if(De>239&&De<365){const wr=((7&De)<<18|(63&re[he++])<<12|(63&re[he++])<<6|63&re[he++])-65536;ie[Ke++]=String.fromCharCode(55296+(wr>>10)),ie[Ke++]=String.fromCharCode(56320+(1023&wr))}else{const zt=re[he++],Dn=re[he++];ie[Ke++]=String.fromCharCode((15&De)<<12|(63&zt)<<6|63&Dn)}}return ie.join("")}(this.decodeStringToByteArray(re,ie))},decodeStringToByteArray(re,ie){this.init_();const he=ie?this.charToByteMapWebSafe_:this.charToByteMap_,Ke=[];for(let De=0;De<re.length;){const zt=he[re.charAt(De++)],xn=De<re.length?he[re.charAt(De)]:0;++De;const Bn=De<re.length?he[re.charAt(De)]:64;++De;const ri=De<re.length?he[re.charAt(De)]:64;if(++De,null==zt||null==xn||null==Bn||null==ri)throw new Ge;Ke.push(zt<<2|xn>>4),64!==Bn&&(Ke.push(xn<<4&240|Bn>>2),64!==ri&&Ke.push(Bn<<6&192|ri))}return Ke},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let re=0;re<this.ENCODED_VALS.length;re++)this.byteToCharMap_[re]=this.ENCODED_VALS.charAt(re),this.charToByteMap_[this.byteToCharMap_[re]]=re,this.byteToCharMapWebSafe_[re]=this.ENCODED_VALS_WEBSAFE.charAt(re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[re]]=re,re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(re)]=re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(re)]=re)}}};class Ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mt=function(re){const ie=Ce(re);return we.encodeByteArray(ie,!0)},Ve=function(re){return mt(re).replace(/\./g,"")},ne=function(re){try{return we.decodeString(re,!0)}catch(ie){console.error("base64Decode failed: ",ie)}return null};function se(re){return ye(void 0,re)}function ye(re,ie){if(!(ie instanceof Object))return ie;switch(ie.constructor){case Date:return new Date(ie.getTime());case Object:void 0===re&&(re={});break;case Array:re=[];break;default:return ie}for(const he in ie)!ie.hasOwnProperty(he)||!yt(he)||(re[he]=ye(re[he],ie[he]));return re}function yt(re){return"__proto__"!==re}const bt=()=>{try{return function ct(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const re=process.env.__FIREBASE_DEFAULTS__;return re?JSON.parse(re):void 0})()||(()=>{if(typeof document>"u")return;let re;try{re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ie=re&&ne(re[1]);return ie&&JSON.parse(ie)})()}catch(re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${re}`)}},Te=()=>{var re;return null===(re=bt())||void 0===re?void 0:re.config},qe=re=>{var ie;return null===(ie=bt())||void 0===ie?void 0:ie[`_${re}`]};class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ie,he)=>{this.resolve=ie,this.reject=he})}wrapCallback(ie){return(he,Ke)=>{he?this.reject(he):this.resolve(Ke),"function"==typeof ie&&(this.promise.catch(()=>{}),1===ie.length?ie(he):ie(he,Ke))}}}function it(re,ie){if(re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ke=ie||"demo-project",De=re.iat||0,zt=re.sub||re.user_id;if(!zt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Dn=Object.assign({iss:`https://securetoken.google.com/${Ke}`,aud:Ke,iat:De,exp:De+3600,auth_time:De,sub:zt,user_id:zt,firebase:{sign_in_provider:"custom",identities:{}}},re);return[Ve(JSON.stringify({alg:"none",type:"JWT"})),Ve(JSON.stringify(Dn)),""].join(".")}function gt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Pt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function Re(){var re;const ie=null===(re=bt())||void 0===re?void 0:re.forceEnvironment;if("node"===ie)return!0;if("browser"===ie)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function mn(){return"object"==typeof self&&self.self===self}function Kn(){const re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof re&&void 0!==re.id}function Pr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qs(){const re=gt();return re.indexOf("MSIE ")>=0||re.indexOf("Trident/")>=0}function qa(){return!0===c.NODE_CLIENT||!0===c.NODE_ADMIN}function Pe(){try{return"object"==typeof indexedDB}catch{return!1}}function Fe(){return new Promise((re,ie)=>{try{let he=!0;const Ke="validate-browser-context-for-indexeddb-analytics-module",De=self.indexedDB.open(Ke);De.onsuccess=()=>{De.result.close(),he||self.indexedDB.deleteDatabase(Ke),re(!0)},De.onupgradeneeded=()=>{he=!1},De.onerror=()=>{var zt;ie((null===(zt=De.error)||void 0===zt?void 0:zt.message)||"")}}catch(he){ie(he)}})}function Ze(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Qe extends Error{constructor(ie,he,Ke){super(he),this.code=ie,this.customData=Ke,this.name="FirebaseError",Object.setPrototypeOf(this,Qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,st.prototype.create)}}class st{constructor(ie,he,Ke){this.service=ie,this.serviceName=he,this.errors=Ke}create(ie,...he){const Ke=he[0]||{},De=`${this.service}/${ie}`,zt=this.errors[ie],Dn=zt?function $t(re,ie){return re.replace(Dt,(he,Ke)=>{const De=ie[Ke];return null!=De?String(De):`<${Ke}?>`})}(zt,Ke):"Error";return new Qe(De,`${this.serviceName}: ${Dn} (${De}).`,Ke)}}const Dt=/\{\$([^}]+)}/g;function Qi(re){return JSON.parse(re)}function ln(re){return JSON.stringify(re)}const hi=function(re){let ie={},he={},Ke={},De="";try{const zt=re.split(".");ie=Qi(ne(zt[0])||""),he=Qi(ne(zt[1])||""),De=zt[2],Ke=he.d||{},delete he.d}catch{}return{header:ie,claims:he,data:Ke,signature:De}},Bi=function(re){const he=hi(re).claims;return!!he&&"object"==typeof he&&he.hasOwnProperty("iat")},br=function(re){const ie=hi(re).claims;return"object"==typeof ie&&!0===ie.admin};function Ai(re,ie){return Object.prototype.hasOwnProperty.call(re,ie)}function Yr(re,ie){if(Object.prototype.hasOwnProperty.call(re,ie))return re[ie]}function Po(re){for(const ie in re)if(Object.prototype.hasOwnProperty.call(re,ie))return!1;return!0}function va(re,ie,he){const Ke={};for(const De in re)Object.prototype.hasOwnProperty.call(re,De)&&(Ke[De]=ie.call(he,re[De],De,re));return Ke}function Oo(re,ie){if(re===ie)return!0;const he=Object.keys(re),Ke=Object.keys(ie);for(const De of he){if(!Ke.includes(De))return!1;const zt=re[De],Dn=ie[De];if(No(zt)&&No(Dn)){if(!Oo(zt,Dn))return!1}else if(zt!==Dn)return!1}for(const De of Ke)if(!he.includes(De))return!1;return!0}function No(re){return null!==re&&"object"==typeof re}function Rl(re){const ie=[];for(const[he,Ke]of Object.entries(re))Array.isArray(Ke)?Ke.forEach(De=>{ie.push(encodeURIComponent(he)+"="+encodeURIComponent(De))}):ie.push(encodeURIComponent(he)+"="+encodeURIComponent(Ke));return ie.length?"&"+ie.join("&"):""}function dn(re){const ie={};return re.replace(/^\?/,"").split("&").forEach(Ke=>{if(Ke){const[De,zt]=Ke.split("=");ie[decodeURIComponent(De)]=decodeURIComponent(zt)}}),ie}function Qn(re){const ie=re.indexOf("?");if(!ie)return"";const he=re.indexOf("#",ie);return re.substring(ie,he>0?he:void 0)}class Pn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ie=1;ie<this.blockSize;++ie)this.pad_[ie]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ie,he){he||(he=0);const Ke=this.W_;if("string"==typeof ie)for(let ri=0;ri<16;ri++)Ke[ri]=ie.charCodeAt(he)<<24|ie.charCodeAt(he+1)<<16|ie.charCodeAt(he+2)<<8|ie.charCodeAt(he+3),he+=4;else for(let ri=0;ri<16;ri++)Ke[ri]=ie[he]<<24|ie[he+1]<<16|ie[he+2]<<8|ie[he+3],he+=4;for(let ri=16;ri<80;ri++){const pr=Ke[ri-3]^Ke[ri-8]^Ke[ri-14]^Ke[ri-16];Ke[ri]=4294967295&(pr<<1|pr>>>31)}let Bn,Ji,De=this.chain_[0],zt=this.chain_[1],Dn=this.chain_[2],xn=this.chain_[3],wr=this.chain_[4];for(let ri=0;ri<80;ri++){ri<40?ri<20?(Bn=xn^zt&(Dn^xn),Ji=1518500249):(Bn=zt^Dn^xn,Ji=1859775393):ri<60?(Bn=zt&Dn|xn&(zt|Dn),Ji=2400959708):(Bn=zt^Dn^xn,Ji=3395469782);const pr=(De<<5|De>>>27)+Bn+wr+Ji+Ke[ri]&4294967295;wr=xn,xn=Dn,Dn=4294967295&(zt<<30|zt>>>2),zt=De,De=pr}this.chain_[0]=this.chain_[0]+De&4294967295,this.chain_[1]=this.chain_[1]+zt&4294967295,this.chain_[2]=this.chain_[2]+Dn&4294967295,this.chain_[3]=this.chain_[3]+xn&4294967295,this.chain_[4]=this.chain_[4]+wr&4294967295}update(ie,he){if(null==ie)return;void 0===he&&(he=ie.length);const Ke=he-this.blockSize;let De=0;const zt=this.buf_;let Dn=this.inbuf_;for(;De<he;){if(0===Dn)for(;De<=Ke;)this.compress_(ie,De),De+=this.blockSize;if("string"==typeof ie){for(;De<he;)if(zt[Dn]=ie.charCodeAt(De),++Dn,++De,Dn===this.blockSize){this.compress_(zt),Dn=0;break}}else for(;De<he;)if(zt[Dn]=ie[De],++Dn,++De,Dn===this.blockSize){this.compress_(zt),Dn=0;break}}this.inbuf_=Dn,this.total_+=he}digest(){const ie=[];let he=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let De=this.blockSize-1;De>=56;De--)this.buf_[De]=255&he,he/=256;this.compress_(this.buf_);let Ke=0;for(let De=0;De<5;De++)for(let zt=24;zt>=0;zt-=8)ie[Ke]=this.chain_[De]>>zt&255,++Ke;return ie}}function Ri(re,ie){const he=new Xi(re,ie);return he.subscribe.bind(he)}class Xi{constructor(ie,he){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=he,this.task.then(()=>{ie(this)}).catch(Ke=>{this.error(Ke)})}next(ie){this.forEachObserver(he=>{he.next(ie)})}error(ie){this.forEachObserver(he=>{he.error(ie)}),this.close(ie)}complete(){this.forEachObserver(ie=>{ie.complete()}),this.close()}subscribe(ie,he,Ke){let De;if(void 0===ie&&void 0===he&&void 0===Ke)throw new Error("Missing Observer.");De=function Ei(re,ie){if("object"!=typeof re||null===re)return!1;for(const he of ie)if(he in re&&"function"==typeof re[he])return!0;return!1}(ie,["next","error","complete"])?ie:{next:ie,error:he,complete:Ke},void 0===De.next&&(De.next=Or),void 0===De.error&&(De.error=Or),void 0===De.complete&&(De.complete=Or);const zt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?De.error(this.finalError):De.complete()}catch{}}),this.observers.push(De),zt}unsubscribeOne(ie){void 0===this.observers||void 0===this.observers[ie]||(delete this.observers[ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ie){if(!this.finalized)for(let he=0;he<this.observers.length;he++)this.sendOne(he,ie)}sendOne(ie,he){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ie])try{he(this.observers[ie])}catch(Ke){typeof console<"u"&&console.error&&console.error(Ke)}})}close(ie){this.finalized||(this.finalized=!0,void 0!==ie&&(this.finalError=ie),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Or(){}const jc=function(re,ie,he,Ke){let De;if(Ke<ie?De="at least "+ie:Ke>he&&(De=0===he?"none":"no more than "+he),De)throw new Error(re+" failed: Was called with "+Ke+(1===Ke?" argument.":" arguments.")+" Expects "+De+".")};function fi(re,ie){return`${re} failed: ${ie} argument `}function Zn(re,ie,he,Ke){if((!Ke||he)&&"function"!=typeof he)throw new Error(fi(re,ie)+"must be a valid function.")}function Ps(re,ie,he,Ke){if((!Ke||he)&&("object"!=typeof he||null===he))throw new Error(fi(re,ie)+"must be a valid context object.")}const ya=function(re){const ie=[];let he=0;for(let Ke=0;Ke<re.length;Ke++){let De=re.charCodeAt(Ke);if(De>=55296&&De<=56319){const zt=De-55296;Ke++,be(Ke<re.length,"Surrogate pair missing trail surrogate."),De=65536+(zt<<10)+(re.charCodeAt(Ke)-56320)}De<128?ie[he++]=De:De<2048?(ie[he++]=De>>6|192,ie[he++]=63&De|128):De<65536?(ie[he++]=De>>12|224,ie[he++]=De>>6&63|128,ie[he++]=63&De|128):(ie[he++]=De>>18|240,ie[he++]=De>>12&63|128,ie[he++]=De>>6&63|128,ie[he++]=63&De|128)}return ie},xa=function(re){let ie=0;for(let he=0;he<re.length;he++){const Ke=re.charCodeAt(he);Ke<128?ie++:Ke<2048?ie+=2:Ke>=55296&&Ke<=56319?(ie+=4,he++):ie+=3}return ie},wa=1e3,ws=2,yr=144e5,xr=.5;function xo(re,ie=wa,he=ws){const Ke=ie*Math.pow(he,re),De=Math.round(xr*Ke*(Math.random()-.5)*2);return Math.min(yr,Ke+De)}function Qo(re){return re&&re._delegate?re._delegate:re}},9851:(tn,Je,j)=>{var c=j(5879);let be=null;function $(){return be}class Ae{}const we=new c.OlP("DocumentToken");let Ge=(()=>{class i{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:function(){return(0,c.f3M)(Ve)},providedIn:"platform"})}return i})();const mt=new c.OlP("Location Initialized");let Ve=(()=>{class i extends Ge{constructor(){super(),this._doc=(0,c.f3M)(we),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(e){const n=$().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){const n=$().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,r){this._history.pushState(e,n,r)}replaceState(e,n,r){this._history.replaceState(e,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:function(){return new i},providedIn:"platform"})}return i})();function ne(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function se(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function ye(i){return i&&"?"!==i[0]?"?"+i:i}let yt=(()=>{class i{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:function(){return(0,c.f3M)(Ft)},providedIn:"root"})}return i})();const ct=new c.OlP("appBaseHref");let Ft=(()=>{class i extends yt{constructor(e,n){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ne(this._baseHref,e)}path(e=!1){const n=this._platformLocation.pathname+ye(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${n}${r}`:n}pushState(e,n,r,o){const l=this.prepareExternalUrl(r+ye(o));this._platformLocation.pushState(e,n,l)}replaceState(e,n,r,o){const l=this.prepareExternalUrl(r+ye(o));this._platformLocation.replaceState(e,n,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(Ge),c.LFG(ct,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ht=(()=>{class i extends yt{constructor(e,n){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(e){const n=ne(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,r,o){let l=this.prepareExternalUrl(r+ye(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,n,l)}replaceState(e,n,r,o){let l=this.prepareExternalUrl(r+ye(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(Ge),c.LFG(ct,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})(),At=(()=>{class i{constructor(e){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const n=this._locationStrategy.getBaseHref();this._basePath=function Te(i){if(new RegExp("^(https?:)?//").test(i)){const[,e]=i.split(/\/\/[^\/]+/);return e}return i}(se(cn(n))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+ye(n))}normalize(e){return i.stripTrailingSlash(function un(i,t){if(!i||!t.startsWith(i))return t;const e=t.substring(i.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,cn(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",r=null){this._locationStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ye(n)),r)}replaceState(e,n="",r=null){this._locationStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ye(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)})),()=>{const n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(r=>r(e,n))}subscribe(e,n,r){return this._subject.subscribe({next:e,error:n,complete:r})}static#e=this.normalizeQueryParams=ye;static#t=this.joinWithSlash=ne;static#n=this.stripTrailingSlash=se;static#i=this.\u0275fac=function(n){return new(n||i)(c.LFG(yt))};static#r=this.\u0275prov=c.Yz7({token:i,factory:function(){return function bt(){return new At((0,c.LFG)(yt))}()},providedIn:"root"})}return i})();function cn(i){return i.replace(/\/index.html$/,"")}function Es(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const n=e.indexOf("="),[r,o]=-1==n?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const $c=/\s+/,ch=[];let Za=(()=>{class i{constructor(e,n,r,o){this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=o,this.initialClasses=ch,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split($c):ch}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split($c):e}ngDoCheck(){for(const n of this.initialClasses)this._updateState(n,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const n of e)this._updateState(n,!0);else if(null!=e)for(const n of Object.keys(e))this._updateState(n,!!e[n]);this._applyStateDiff()}_updateState(e,n){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(e,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const n=e[0],r=e[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(e,n){(e=e.trim()).length>0&&e.split($c).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return i})();class Xa{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yc=(()=>{class i{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,n,r){this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const n=this._viewContainer;e.forEachOperation((r,o,l)=>{if(null==r.previousIndex)n.createEmbeddedView(this._template,new Xa(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)n.remove(null===o?void 0:o);else if(null!==o){const u=n.get(o);n.move(u,l),dh(u,r)}});for(let r=0,o=n.length;r<o;r++){const u=n.get(r).context;u.index=r,u.count=o,u.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{dh(n.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,n){return!0}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return i})();function dh(i,t){i.context.$implicit=t.item}let co=(()=>{class i{constructor(e,n){this._viewContainer=e,this._context=new Hv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){qp("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){qp("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,n){return!0}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.s_b),c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return i})();class Hv{constructor(){this.$implicit=null,this.ngIf=null}}function qp(i,t){if(t&&!t.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}class wo{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ea=(()=>{class i{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const n=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const n of this._defaultViews)n.enforceState(e)}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return i})(),Ol=(()=>{class i{constructor(e,n,r){this.ngSwitch=r,r._addCase(),this._view=new wo(e,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Ea,9))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return i})(),uh=(()=>{class i{constructor(e,n,r){r._addDefault(new wo(e,n))}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Ea,9))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return i})(),Nl=(()=>{class i{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:l}=this;this._viewRef=n.createEmbeddedView(r,o,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.s_b))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]})}return i})(),li=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({})}return i})();const ea="browser";function Ma(i){return"server"===i}let Er=(()=>{class i{static#e=this.\u0275prov=(0,c.Yz7)({token:i,providedIn:"root",factory:()=>new ta((0,c.LFG)(we),window)})}return i})();class ta{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function na(i,t){const e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&"function"==typeof i.body.attachShadow){const n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const o=r.shadowRoot;if(o){const l=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(l)return l}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Lo{}class Qf extends Ae{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class tu extends Qf{static makeCurrent(){!function Ce(i){be||(be=i)}(new tu)}onAndCancel(t,e,n){return t.addEventListener(e,n),()=>{t.removeEventListener(e,n)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function eg(){return Yl=Yl||document.querySelector("base"),Yl?Yl.getAttribute("href"):null}();return null==e?null:function Kv(i){Th=Th||document.createElement("a"),Th.setAttribute("href",i);const t=Th.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Yl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Es(document.cookie,t)}}let Th,Yl=null,tg=(()=>{class i{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();const Dh=new c.OlP("EventManagerPlugins");let ng=(()=>{class i{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r){return this._findPluginFor(n).addEventListener(e,n,r)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(e,n),n}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(Dh),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();class nu{constructor(t){this._doc=t}}const ql="ng-app-id";let ig=(()=>{class i{constructor(e,n,r,o={}){this.doc=e,this.appId=n,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ma(o),this.resetHostNodes()}addStyles(e){for(const n of e)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(e){for(const n of e)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(n=>n.remove()),e.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const n of this.getAllStyles())this.addStyleToHost(e,n)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const n of this.hostNodes)this.addStyleToHost(n,e)}onStyleRemoved(e){const n=this.styleRef;n.get(e)?.elements?.forEach(r=>r.remove()),n.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${ql}="${this.appId}"]`);if(e?.length){const n=new Map;return e.forEach(r=>{null!=r.textContent&&n.set(r.textContent,r)}),n}return null}changeUsageCount(e,n){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=n,o.usage}return r.set(e,{usage:n,elements:[]}),n}getStyleElement(e,n){const r=this.styleNodesInDOM,o=r?.get(n);if(o?.parentNode===e)return r.delete(n),o.removeAttribute(ql),o;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=n,this.platformIsServer&&l.setAttribute(ql,this.appId),l}}addStyleToHost(e,n){const r=this.getStyleElement(e,n);e.appendChild(r);const o=this.styleRef,l=o.get(n)?.elements;l?l.push(r):o.set(n,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(we),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();const sc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ls=/%COMP%/g,Cs=new c.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function wi(i,t){return t.map(e=>e.replace(Ls,i))}let Ia=(()=>{class i{constructor(e,n,r,o,l,u,f,p=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=l,this.platformId=u,this.ngZone=f,this.nonce=p,this.rendererByCompId=new Map,this.platformIsServer=Ma(u),this.defaultRenderer=new cc(e,l,f,this.platformIsServer)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===c.ifc.ShadowDom&&(n={...n,encapsulation:c.ifc.Emulated});const r=this.getOrCreateRenderer(e,n);return r instanceof sg?r.applyToHost(e):r instanceof Vr&&r.applyStyles(),r}getOrCreateRenderer(e,n){const r=this.rendererByCompId;let o=r.get(n.id);if(!o){const l=this.doc,u=this.ngZone,f=this.eventManager,p=this.sharedStylesHost,b=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(n.encapsulation){case c.ifc.Emulated:o=new sg(f,p,n,this.appId,b,l,u,y);break;case c.ifc.ShadowDom:return new lc(f,p,e,n,l,u,this.nonce,y);default:o=new Vr(f,p,n,b,l,u,y)}r.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(ng),c.LFG(ig),c.LFG(c.AFp),c.LFG(Cs),c.LFG(we),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();class cc{constructor(t,e,n,r){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(sc[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Ih(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(Ih(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new c.vHH(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const o=sc[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=sc[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,n,r&c.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){if("string"==typeof t&&!(t=$().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(n))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function Ih(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class lc extends cc{constructor(t,e,n,r,o,l,u,f){super(t,o,l,f),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=wi(r.id,r.styles);for(const b of p){const y=document.createElement("style");u&&y.setAttribute("nonce",u),y.textContent=b,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Vr extends cc{constructor(t,e,n,r,o,l,u,f){super(t,o,l,u),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=f?wi(f,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class sg extends Vr{constructor(t,e,n,r,o,l,u,f){const p=r+"-"+n.id;super(t,e,n,o,l,u,f,p),this.contentAttr=function em(i){return"_ngcontent-%COMP%".replace(Ls,i)}(p),this.hostAttr=function tm(i){return"_nghost-%COMP%".replace(Ls,i)}(p)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}let rl=(()=>{class i extends nu{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r){return e.addEventListener(n,r,!1),()=>this.removeEventListener(e,n,r)}removeEventListener(e,n,r){return e.removeEventListener(n,r)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(we))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();const ag=["alt","control","meta","shift"],Mo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cg={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let kh=(()=>{class i extends nu{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,n,r){const o=i.parseEventName(n),l=i.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$().onAndCancel(e,o.domEventName,l))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const o=i._normalizeKey(n.pop());let l="",u=n.indexOf("code");if(u>-1&&(n.splice(u,1),l="code."),ag.forEach(p=>{const b=n.indexOf(p);b>-1&&(n.splice(b,1),l+=p+".")}),l+=o,0!=n.length||0===o.length)return null;const f={};return f.domEventName=r,f.fullKey=l,f}static matchEventFullKeyCode(e,n){let r=Mo[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),ag.forEach(l=>{l!==r&&(0,cg[l])(e)&&(o+=l+".")}),o+=r,o===n)}static eventCallback(e,n,r){return o=>{i.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>n(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(we))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();const Ar=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:ea},{provide:c.g9A,useValue:function Cn(){tu.makeCurrent()},multi:!0},{provide:we,useFactory:function im(){return(0,c.RDi)(document),document},deps:[]}]),rm=new c.OlP(""),zr=[{provide:c.rWj,useClass:class Ah{addToWindow(t){c.dqk.getAngularTestability=(n,r=!0)=>{const o=t.findTestabilityInTree(n,r);if(null==o)throw new c.vHH(5103,!1);return o},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(n=>{const r=c.dqk.getAllAngularTestabilities();let o=r.length,l=!1;const u=function(f){l=l||f,o--,0==o&&n(l)};r.forEach(f=>{f.whenStable(u)})})}findTestabilityInTree(t,e,n){return null==e?null:t.getTestability(e)??(n?$().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Fs=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function nm(){return new c.qLn},deps:[]},{provide:Dh,useClass:rl,multi:!0,deps:[we,c.R0b,c.Lbi]},{provide:Dh,useClass:kh,multi:!0,deps:[we]},Ia,ig,ng,{provide:c.FYo,useExisting:Ia},{provide:Lo,useClass:tg,deps:[]},[]];let ou=(()=>{class i{constructor(e){}static withServerTransition(e){return{ngModule:i,providers:[{provide:c.AFp,useValue:e.appId}]}}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(rm,12))};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:[...Fs,...zr],imports:[li,c.hGG]})}return i})(),rt=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(we))};static#t=this.\u0275prov=c.Yz7({token:i,factory:function(n){let r=null;return r=n?new n:function Rh(){return new rt((0,c.LFG)(we))}(),r},providedIn:"root"})}return i})();typeof window<"u"&&window;let is=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:function(n){let r=null;return r=n?new(n||i):c.LFG(Lh),r},providedIn:"root"})}return i})(),Lh=(()=>{class i extends is{constructor(e){super(),this._doc=e}sanitize(e,n){if(null==n)return null;switch(e){case c.q3G.NONE:return n;case c.q3G.HTML:return(0,c.qzn)(n,"HTML")?(0,c.z3N)(n):(0,c.EiD)(this._doc,String(n)).toString();case c.q3G.STYLE:return(0,c.qzn)(n,"Style")?(0,c.z3N)(n):n;case c.q3G.SCRIPT:if((0,c.qzn)(n,"Script"))return(0,c.z3N)(n);throw new c.vHH(5200,!1);case c.q3G.URL:return(0,c.qzn)(n,"URL")?(0,c.z3N)(n):(0,c.mCW)(String(n));case c.q3G.RESOURCE_URL:if((0,c.qzn)(n,"ResourceURL"))return(0,c.z3N)(n);throw new c.vHH(5201,!1);default:throw new c.vHH(5202,!1)}}bypassSecurityTrustHtml(e){return(0,c.JVY)(e)}bypassSecurityTrustStyle(e){return(0,c.L6k)(e)}bypassSecurityTrustScript(e){return(0,c.eBb)(e)}bypassSecurityTrustUrl(e){return(0,c.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,c.pB0)(e)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(we))};static#t=this.\u0275prov=c.Yz7({token:i,factory:function(n){let r=null;return r=n?new n:function Nh(i){return new Lh(i.get(we))}(c.LFG(c.zs3)),r},providedIn:"root"})}return i})();class Ra{}class lm{}const To="*";function Xr(i,t){return{type:7,name:i,definitions:t,options:{}}}function Di(i,t=null){return{type:4,styles:t,timings:i}}function Xl(i,t=null){return{type:2,steps:i,options:t}}function Rn(i){return{type:6,styles:i,offset:null}}function Yn(i,t,e){return{type:0,name:i,styles:t,options:e}}function rs(i){return{type:5,steps:i}}function Sn(i,t,e=null){return{type:1,expr:i,animation:t,options:e}}function Us(i=null){return{type:9,options:i}}function Kl(i,t,e=null){return{type:11,selector:i,animation:t,options:e}}class ra{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class Pa{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==o&&this._onFinish()}),l.onDestroy(()=>{++n==o&&this._onDestroy()}),l.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((l,u)=>Math.max(l,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(n=>{const r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){const t=this.players.reduce((e,n)=>null===e||n.totalTime>e.totalTime?n:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}function fc(i){return new c.vHH(3e3,!1)}function Ss(i){switch(i.length){case 0:return new ra;case 1:return i[0];default:return new Pa(i)}}function Gh(i,t,e=new Map,n=new Map){const r=[],o=[];let l=-1,u=null;if(t.forEach(f=>{const p=f.get("offset"),b=p==l,y=b&&u||new Map;f.forEach((x,M)=>{let A=M,R=x;if("offset"!==M)switch(A=i.normalizePropertyName(A,r),R){case"!":R=e.get(M);break;case To:R=n.get(M);break;default:R=i.normalizeStyleValue(M,A,R,r)}y.set(A,R)}),b||o.push(y),u=y,l=p}),r.length)throw function pm(i){return new c.vHH(3502,!1)}();return o}function gu(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&sd(e,"start",i)));break;case"done":i.onDone(()=>n(e&&sd(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&sd(e,"destroy",i)))}}function sd(i,t,e){const o=sa(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,e.totalTime??i.totalTime,!!e.disabled),l=i._data;return null!=l&&(o._data=l),o}function sa(i,t,e,n,r="",o=0,l){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:r,totalTime:o,disabled:!!l}}function Bo(i,t,e){let n=i.get(t);return n||i.set(t,n=e),n}function Vs(i){const t=i.indexOf(":");return[i.substring(1,t),i.slice(t+1)]}const Wh=(()=>typeof document>"u"?null:document.documentElement)();function gc(i){const t=i.parentNode||i.host||null;return t===Wh?null:t}let Pi=null,ad=!1;function _u(i,t){for(;t;){if(t===i)return!0;t=gc(t)}return!1}function vu(i,t,e){if(e)return Array.from(i.querySelectorAll(t));const n=i.querySelector(t);return n?[n]:[]}let cl=(()=>{class i{validateStyleProperty(e){return function Fa(i){Pi||(Pi=function ob(){return typeof document<"u"?document.body:null}()||{},ad=!!Pi.style&&"WebkitAppearance"in Pi.style);let t=!0;return Pi.style&&!function gm(i){return"ebkit"==i.substring(1,6)}(i)&&(t=i in Pi.style,!t&&ad&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Pi.style)),t}(e)}matchesElement(e,n){return!1}containsElement(e,n){return _u(e,n)}getParentElement(e){return gc(e)}query(e,n,r){return vu(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,o,l,u=[],f){return new ra(r,o)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})(),T=(()=>{class i{static#e=this.NOOP=new cl}return i})();const P=1e3,ae="ng-enter",ge="ng-leave",Ne="ng-trigger",kt=".ng-trigger",St="ng-animating",Qt=".ng-animating";function pn(i){if("number"==typeof i)return i;const t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:On(parseFloat(t[1]),t[2])}function On(i,t){return"s"===t?i*P:i}function ur(i,t,e){return i.hasOwnProperty("duration")?i:function _r(i,t,e){let r,o=0,l="";if("string"==typeof i){const u=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return t.push(fc()),{duration:0,delay:0,easing:""};r=On(parseFloat(u[1]),u[2]);const f=u[3];null!=f&&(o=On(parseFloat(f),u[4]));const p=u[5];p&&(l=p)}else r=i;if(!e){let u=!1,f=t.length;r<0&&(t.push(function Ql(){return new c.vHH(3100,!1)}()),u=!0),o<0&&(t.push(function fu(){return new c.vHH(3101,!1)}()),u=!0),u&&t.splice(f,0,fc())}return{duration:r,delay:o,easing:l}}(i,t,e)}function zs(i,t={}){return Object.keys(i).forEach(e=>{t[e]=i[e]}),t}function er(i){const t=new Map;return Object.keys(i).forEach(e=>{t.set(e,i[e])}),t}function Qr(i,t=new Map,e){if(e)for(let[n,r]of e)t.set(n,r);for(let[n,r]of i)t.set(n,r);return t}function tr(i,t,e){t.forEach((n,r)=>{const o=Vo(r);e&&!e.has(r)&&e.set(r,i.style[o]),i.style[o]=n})}function as(i,t){t.forEach((e,n)=>{const r=Vo(n);i.style[r]=""})}function bu(i){return Array.isArray(i)?1==i.length?i[0]:Xl(i):i}const vc=new RegExp("{{\\s*(.+?)\\s*}}","g");function _g(i){let t=[];if("string"==typeof i){let e;for(;e=vc.exec(i);)t.push(e[1]);vc.lastIndex=0}return t}function ld(i,t,e){const n=i.toString(),r=n.replace(vc,(o,l)=>{let u=t[l];return null==u&&(e.push(function ug(i){return new c.vHH(3003,!1)}()),u=""),u.toString()});return r==n?i:r}function jh(i){const t=[];let e=i.next();for(;!e.done;)t.push(e.value),e=i.next();return t}const Y0=/-+([a-z0-9])/g;function Vo(i){return i.replace(Y0,(...t)=>t[1].toUpperCase())}function cs(i,t,e){switch(t.type){case 7:return i.visitTrigger(t,e);case 0:return i.visitState(t,e);case 1:return i.visitTransition(t,e);case 2:return i.visitSequence(t,e);case 3:return i.visitGroup(t,e);case 4:return i.visitAnimate(t,e);case 5:return i.visitKeyframes(t,e);case 6:return i.visitStyle(t,e);case 8:return i.visitReference(t,e);case 9:return i.visitAnimateChild(t,e);case 10:return i.visitAnimateRef(t,e);case 11:return i.visitQuery(t,e);case 12:return i.visitStagger(t,e);default:throw function mu(i){return new c.vHH(3004,!1)}()}}function vg(i,t){return window.getComputedStyle(i)[t]}const dd="*";function bg(i,t){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(n=>function vm(i,t,e){if(":"==i[0]){const f=function q0(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(function mc(i){return new c.vHH(3016,!1)}()),"* => *"}}(i,e);if("function"==typeof f)return void t.push(f);i=f}const n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return e.push(function fg(i){return new c.vHH(3015,!1)}()),t;const r=n[1],o=n[2],l=n[3];t.push(yg(r,l));"<"==o[0]&&!(r==dd&&l==dd)&&t.push(yg(l,r))}(n,e,t)):e.push(i),e}const bc=new Set(["true","1"]),bm=new Set(["false","0"]);function yg(i,t){const e=bc.has(i)||bm.has(i),n=bc.has(t)||bm.has(t);return(r,o)=>{let l=i==dd||i==r,u=t==dd||t==o;return!l&&e&&"boolean"==typeof r&&(l=r?bc.has(i):bm.has(i)),!u&&n&&"boolean"==typeof o&&(u=o?bc.has(t):bm.has(t)),l&&u}}const ym=new RegExp("s*:selfs*,?","g");function xm(i,t,e,n){return new Z0(i).build(t,e,n)}class Z0{constructor(t){this._driver=t}build(t,e,n){const r=new xg(e);return this._resetContextStyleTimingState(r),cs(this,bu(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const o=[],l=[];return"@"==t.name.charAt(0)&&e.errors.push(function Oa(){return new c.vHH(3006,!1)}()),t.definitions.forEach(u=>{if(this._resetContextStyleTimingState(e),0==u.type){const f=u,p=f.name;p.toString().split(/\s*,\s*/).forEach(b=>{f.name=b,o.push(this.visitState(f,e))}),f.name=p}else if(1==u.type){const f=this.visitTransition(u,e);n+=f.queryCount,r+=f.depCount,l.push(f)}else e.errors.push(function Na(){return new c.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:l,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const o=new Set,l=r||{};n.styles.forEach(u=>{u instanceof Map&&u.forEach(f=>{_g(f).forEach(p=>{l.hasOwnProperty(p)||o.add(p)})})}),o.size&&(jh(o.values()),e.errors.push(function nb(i,t){return new c.vHH(3008,!1)}()))}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=cs(this,bu(t.animation),e);return{type:1,matchers:bg(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:yc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(n=>cs(this,n,e)),options:yc(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const o=t.steps.map(l=>{e.currentTime=n;const u=cs(this,l,e);return r=Math.max(r,e.currentTime),u});return e.currentTime=r,{type:3,steps:o,options:yc(t.options)}}visitAnimate(t,e){const n=function cb(i,t){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return wm(ur(i,t).duration,0,"");const e=i;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=wm(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=ur(e,t);return wm(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=n;let r,o=t.styles?t.styles:Rn({});if(5==o.type)r=this.visitKeyframes(o,e);else{let l=t.styles,u=!1;if(!l){u=!0;const p={};n.easing&&(p.easing=n.easing),l=Rn(p)}e.currentTime+=n.duration+n.delay;const f=this.visitStyle(l,e);f.isEmptyStep=u,r=f}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let u of r)"string"==typeof u?u===To?n.push(u):e.errors.push(new c.vHH(3002,!1)):n.push(er(u));let o=!1,l=null;return n.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(l=u.get("easing"),u.delete("easing")),!o))for(let f of u.values())if(f.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:n,easing:l,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),t.styles.forEach(l=>{"string"!=typeof l&&l.forEach((u,f)=>{const p=e.collectedStyles.get(e.currentQuerySelector),b=p.get(f);let y=!0;b&&(o!=r&&o>=b.startTime&&r<=b.endTime&&(e.errors.push(function hg(i,t,e,n,r){return new c.vHH(3010,!1)}()),y=!1),o=b.startTime),y&&p.set(f,{startTime:o,endTime:r}),e.options&&function gg(i,t,e){const n=t.params||{},r=_g(i);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||e.push(function Jl(i){return new c.vHH(3001,!1)}())})}(u,e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function hm(){return new c.vHH(3011,!1)}()),n;let o=0;const l=[];let u=!1,f=!1,p=0;const b=t.steps.map(k=>{const U=this._makeStyleAst(k,e);let O=null!=U.offset?U.offset:function jC(i){if("string"==typeof i)return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){const e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(U.styles),B=0;return null!=O&&(o++,B=U.offset=O),f=f||B<0||B>1,u=u||B<p,p=B,l.push(B),U});f&&e.errors.push(function ib(){return new c.vHH(3012,!1)}()),u&&e.errors.push(function fm(){return new c.vHH(3200,!1)}());const y=t.steps.length;let x=0;o>0&&o<y?e.errors.push(function rb(){return new c.vHH(3202,!1)}()):0==o&&(x=1/(y-1));const M=y-1,A=e.currentTime,R=e.currentAnimateTimings,I=R.duration;return b.forEach((k,U)=>{const O=x>0?U==M?1:x*U:l[U],B=O*I;e.currentTime=A+R.delay+B,R.duration=B,this._validateStyleAst(k,e),k.offset=O,n.styles.push(k)}),n}visitReference(t,e){return{type:8,animation:cs(this,bu(t.animation),e),options:yc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:yc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:yc(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,l]=function Eu(i){const t=!!i.split(/\s*,\s*/).find(e=>":self"==e);return t&&(i=i.replace(ym,"")),i=i.replace(/@\*/g,kt).replace(/@\w+/g,e=>kt+"-"+e.slice(1)).replace(/:animating/g,Qt),[i,t]}(t.selector);e.currentQuerySelector=n.length?n+" "+o:o,Bo(e.collectedStyles,e.currentQuerySelector,new Map);const u=cs(this,bu(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:u,originalSelector:t.selector,options:yc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function ed(){return new c.vHH(3013,!1)}());const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:ur(t.timings,e.errors,!0);return{type:12,animation:cs(this,bu(t.animation),e),timings:n,options:null}}}class xg{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function yc(i){return i?(i=zs(i)).params&&(i.params=function Cu(i){return i?zs(i):null}(i.params)):i={},i}function wm(i,t,e){return{duration:i,delay:t,easing:e}}function wg(i,t,e,n,r,o,l=null,u=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:l,subTimeline:u}}class Em{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const lb=new RegExp(":enter","g"),Eg=new RegExp(":leave","g");function db(i,t,e,n,r,o=new Map,l=new Map,u,f,p=[]){return(new ub).buildKeyframes(i,t,e,n,r,o,l,u,f,p)}class ub{buildKeyframes(t,e,n,r,o,l,u,f,p,b=[]){p=p||new Em;const y=new Mg(t,e,p,r,o,b,[]);y.options=f;const x=f.delay?pn(f.delay):0;y.currentTimeline.delayNextStep(x),y.currentTimeline.setStyles([l],null,y.errors,f),cs(this,n,y);const M=y.timelines.filter(A=>A.containsAnimation());if(M.length&&u.size){let A;for(let R=M.length-1;R>=0;R--){const I=M[R];if(I.element===e){A=I;break}}A&&!A.allowOnlyTimelineStyles()&&A.setStyles([u],null,y.errors,f)}return M.length?M.map(A=>A.buildKeyframes()):[wg(e,[],[],[],0,x,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.get(e.element);if(n){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,l=this._visitSubInstructions(n,r,r.options);o!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(const r of t){const o=r?.delay;if(o){const l="number"==typeof o?o:pn(ld(o,r?.params??{},e.errors));n.delayNextStep(l)}}}_visitSubInstructions(t,e,n){let o=e.currentTimeline.currentTime;const l=null!=n.duration?pn(n.duration):null,u=null!=n.delay?pn(n.delay):null;return 0!==l&&t.forEach(f=>{const p=e.appendInstructionToTimeline(f,l,u);o=Math.max(o,p.duration+p.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),cs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Cg);const l=pn(o.delay);r.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>cs(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?pn(t.options.delay):0;t.steps.forEach(l=>{const u=e.createSubContext(t.options);o&&u.delayNextStep(o),cs(this,l,u),r=Math.max(r,u.currentTimeline.currentTime),n.push(u.currentTimeline)}),n.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return ur(e.params?ld(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,o=n.duration,u=e.createSubContext().currentTimeline;u.easing=n.easing,t.styles.forEach(f=>{u.forwardTime((f.offset||0)*o),u.setStyles(f.styles,f.easing,e.errors,e.options),u.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(u),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?pn(r.delay):0;o&&(6===e.previousNode.type||0==n&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Cg);let l=n;const u=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=u.length;let f=null;u.forEach((p,b)=>{e.currentQueryIndex=b;const y=e.createSubContext(t.options,p);o&&y.delayNextStep(o),p===e.element&&(f=y.currentTimeline),cs(this,t.animation,y),y.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,y.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),f&&(e.currentTimeline.mergeTimelineCollectedStyles(f),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,o=t.timings,l=Math.abs(o.duration),u=l*(e.currentQueryTotal-1);let f=l*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":f=u-f;break;case"full":f=n.currentStaggerTime}const b=e.currentTimeline;f&&b.delayNextStep(f);const y=b.currentTime;cs(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-y+(r.startTime-n.currentTimeline.startTime)}}const Cg={};class Mg{constructor(t,e,n,r,o,l,u,f){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=l,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new ll(this._driver,e,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=pn(n.duration)),null!=n.delay&&(r.delay=pn(n.delay));const o=n.params;if(o){let l=r.params;l||(l=this.options.params={}),Object.keys(o).forEach(u=>{(!e||!l.hasOwnProperty(u))&&(l[u]=ld(o[u],l,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,o=new Mg(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Cg,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},o=new Sg(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,o,l){let u=[];if(r&&u.push(this.element),t.length>0){t=(t=t.replace(lb,"."+this._enterClassName)).replace(Eg,"."+this._leaveClassName);let p=this._driver.query(this.element,t,1!=n);0!==n&&(p=n<0?p.slice(p.length+n,p.length):p.slice(0,n)),u.push(...p)}return!o&&0==u.length&&l.push(function al(i){return new c.vHH(3014,!1)}()),u}}class ll{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ll(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||To),this._currentKeyframe.set(e,To);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},l=function $C(i,t){const e=new Map;let n;return i.forEach(r=>{if("*"===r){n=n||t.keys();for(let o of n)e.set(o,To)}else Qr(r,e)}),e}(t,this._globalTimelineStyles);for(let[u,f]of l){const p=ld(f,o,n);this._pendingStyles.set(u,p),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??To),this._updateStyle(u,p)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{const r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((u,f)=>{const p=Qr(u,new Map,this._backFill);p.forEach((b,y)=>{"!"===b?t.add(y):b===To&&e.add(y)}),n||p.set("offset",f/this.duration),r.push(p)});const o=t.size?jh(t.values()):[],l=e.size?jh(e.values()):[];if(n){const u=r[0],f=new Map(u);u.set("offset",0),f.set("offset",1),r=[u,f]}return wg(this.element,r,o,l,this.duration,this.startTime,this.easing,!1)}}class Sg extends ll{constructor(t,e,n,r,o,l,u=!1){super(t,e,l.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=u,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],l=n+e,u=e/l,f=Qr(t[0]);f.set("offset",0),o.push(f);const p=Qr(t[0]);p.set("offset",hb(u)),o.push(p);const b=t.length-1;for(let y=1;y<=b;y++){let x=Qr(t[y]);const M=x.get("offset");x.set("offset",hb((e+M*n)/l)),o.push(x)}n=l,e=0,r="",t=o}return wg(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function hb(i,t=3){const e=Math.pow(10,t-1);return Math.round(i*e)/e}class mb{}const K0=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class pb extends mb{normalizePropertyName(t,e){return Vo(t)}normalizeStyleValue(t,e,n,r){let o="";const l=n.toString().trim();if(K0.has(e)&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{const u=n.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&r.push(function Fh(i,t){return new c.vHH(3005,!1)}())}return l+o}}function Tg(i,t,e,n,r,o,l,u,f,p,b,y,x){return{type:0,element:i,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:n,toStyles:l,timelines:u,queriedElements:f,preStyleProps:p,postStyleProps:b,totalTime:y,errors:x}}const Sm={};class $h{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function gb(i,t,e,n,r){return i.some(o=>o(t,e,n,r))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,n):new Map}build(t,e,n,r,o,l,u,f,p,b){const y=[],x=this.ast.options&&this.ast.options.params||Sm,A=this.buildStyles(n,u&&u.params||Sm,y),R=f&&f.params||Sm,I=this.buildStyles(r,R,y),k=new Set,U=new Map,O=new Map,B="void"===r,W={params:ls(R,x),delay:this.ast.options?.delay},Z=b?[]:db(t,e,this.ast.animation,o,l,A,I,W,p,y);let q=0;if(Z.forEach(H=>{q=Math.max(H.duration+H.delay,q)}),y.length)return Tg(e,this._triggerName,n,r,B,A,I,[],[],U,O,q,y);Z.forEach(H=>{const Q=H.element,ke=Bo(U,Q,new Set);H.preStyleProps.forEach(ft=>ke.add(ft));const tt=Bo(O,Q,new Set);H.postStyleProps.forEach(ft=>tt.add(ft)),Q!==e&&k.add(Q)});const ce=jh(k.values());return Tg(e,this._triggerName,n,r,B,A,I,Z,ce,U,O,q)}}function ls(i,t){const e=zs(t);for(const n in i)i.hasOwnProperty(n)&&null!=i[n]&&(e[n]=i[n]);return e}class Mu{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n=new Map,r=zs(this.defaultParams);return Object.keys(t).forEach(o=>{const l=t[o];null!==l&&(r[o]=l)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,u)=>{l&&(l=ld(l,r,e));const f=this.normalizer.normalizePropertyName(u,e);l=this.normalizer.normalizeStyleValue(u,f,l,e),n.set(u,l)})}),n}}class _b{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Mu(r.style,r.options&&r.options.params||{},n))}),hd(this.states,"true","1"),hd(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new $h(t,r,this.states))}),this.fallbackTransition=function Tm(i,t,e){return new $h(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,u)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(l=>l.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function hd(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}const Am=new Em;class qh{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const n=[],o=xm(this._driver,e,n,[]);if(n.length)throw function mg(i){return new c.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,n){const r=t.element,o=Gh(this._normalizer,t.keyframes,e,n);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],o=this._animations.get(t);let l;const u=new Map;if(o?(l=db(this._driver,e,o,ae,ge,new Map,new Map,n,Am,r),l.forEach(b=>{const y=Bo(u,b.element,new Map);b.postStyleProps.forEach(x=>y.set(x,null))})):(r.push(function Vh(){return new c.vHH(3300,!1)}()),l=[]),r.length)throw function Bs(i){return new c.vHH(3504,!1)}();u.forEach((b,y)=>{b.forEach((x,M)=>{b.set(M,this._driver.computeStyle(y,M,To))})});const p=Ss(l.map(b=>{const y=u.get(b.element);return this._buildPlayer(b,new Map,y)}));return this._playersById.set(t,p),p.onDestroy(()=>this.destroy(t)),this.players.push(p),p}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function zh(i){return new c.vHH(3301,!1)}();return e}listen(t,e,n,r){const o=sa(e,"","","");return gu(this._getPlayer(t),n,o,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const vb="ng-animate-queued",Dm="ng-animate-disabled",yb=[],zo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Im={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ts="__ng_removed";class Dg{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function xb(i){return i??null}(n?t.value:t),n){const o=zs(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const n=this.options.params;Object.keys(e).forEach(r=>{null==n[r]&&(n[r]=e[r])})}}}const Wi="void",xc=new Dg(Wi);class Ig{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,v(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.has(e))throw function pc(i,t){return new c.vHH(3302,!1)}();if(null==n||0==n.length)throw function td(i){return new c.vHH(3303,!1)}();if(!function J0(i){return"start"==i||"done"==i}(n))throw function nd(i,t){return new c.vHH(3400,!1)}();const o=Bo(this._elementListeners,t,[]),l={name:e,phase:n,callback:r};o.push(l);const u=Bo(this._engine.statesByElement,t,new Map);return u.has(e)||(v(t,Ne),v(t,Ne+"-"+e),u.set(e,xc)),()=>{this._engine.afterFlush(()=>{const f=o.indexOf(l);f>=0&&o.splice(f,1),this._triggers.has(e)||u.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function La(i){return new c.vHH(3401,!1)}();return e}trigger(t,e,n,r=!0){const o=this._getTrigger(e),l=new Jr(this.id,e,t);let u=this._engine.statesByElement.get(t);u||(v(t,Ne),v(t,Ne+"-"+e),this._engine.statesByElement.set(t,u=new Map));let f=u.get(e);const p=new Dg(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&f&&p.absorbOptions(f.options),u.set(e,p),f||(f=xc),p.value!==Wi&&f.value===p.value){if(!function xe(i,t){const e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||i[o]!==t[o])return!1}return!0}(f.params,p.params)){const R=[],I=o.matchStyles(f.value,f.params,R),k=o.matchStyles(p.value,p.params,R);R.length?this._engine.reportError(R):this._engine.afterFlush(()=>{as(t,I),tr(t,k)})}return}const x=Bo(this._engine.playersByElement,t,[]);x.forEach(R=>{R.namespaceId==this.id&&R.triggerName==e&&R.queued&&R.destroy()});let M=o.matchTransition(f.value,p.value,t,p.params),A=!1;if(!M){if(!r)return;M=o.fallbackTransition,A=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:M,fromState:f,toState:p,player:l,isFallbackTransition:A}),A||(v(t,vb),l.onStart(()=>{C(t,vb)})),l.onDone(()=>{let R=this.players.indexOf(l);R>=0&&this.players.splice(R,1);const I=this._engine.playersByElement.get(t);if(I){let k=I.indexOf(l);k>=0&&I.splice(k,1)}}),this.players.push(l),x.push(l),l}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,kt,!0);n.forEach(r=>{if(r[Ts])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(l=>l.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,n,r){const o=this._engine.statesByElement.get(t),l=new Map;if(o){const u=[];if(o.forEach((f,p)=>{if(l.set(p,f.value),this._triggers.has(p)){const b=this.trigger(t,p,Wi,r);b&&u.push(b)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,l),n&&Ss(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(o=>{const l=o.name;if(r.has(l))return;r.add(l);const f=this._triggers.get(l).fallbackTransition,p=n.get(l)||xc,b=new Dg(Wi),y=new Jr(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:f,fromState:p,toState:b,player:y,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const o=n.players.length?n.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let l=t;for(;l=l.parentNode;)if(n.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Ts];(!o||o===zo)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){v(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const o=n.element,l=this._elementListeners.get(o);l&&l.forEach(u=>{if(u.name==n.triggerName){const f=sa(o,n.triggerName,n.fromState.value,n.toState.value);f._data=t,gu(n.player,u.phase,f,u.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{const o=n.transition.ast.depCount,l=r.transition.ast.depCount;return 0==o||0==l?o-l:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class km{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){const n=new Ig(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let l=!1,u=this.driver.getParentElement(e);for(;u;){const f=r.get(u);if(f){const p=n.indexOf(f);n.splice(p+1,0,t),l=!0;break}u=this.driver.getParentElement(u)}l||n.unshift(t)}else n.push(t);return r.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n)for(let r of n.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,n,r){if(Zh(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Zh(e))return;const o=e[Ts];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){const l=this._fetchNamespace(t);l&&l.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),v(t,Dm)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),C(t,Dm))}removeNode(t,e,n){if(Zh(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,r,o){this.collectedLeaveElements.push(e),e[Ts]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,n,r,o){return Zh(e)?this._fetchNamespace(t).listen(e,n,r,o):()=>{}}_buildInstruction(t,e,n,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,kt,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Qt,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ss(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ts];if(e&&e.setForRemoval){if(t[Ts]=zo,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Dm)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)v(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],e.length?Ss(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw function id(i){return new c.vHH(3402,!1)}()}_flushAnimations(t,e){const n=new Em,r=[],o=new Map,l=[],u=new Map,f=new Map,p=new Map,b=new Set;this.disabledNodes.forEach(ve=>{b.add(ve);const Ee=this.driver.query(ve,".ng-animate-queued",!0);for(let ze=0;ze<Ee.length;ze++)b.add(Ee[ze])});const y=this.bodyNode,x=Array.from(this.statesByElement.keys()),M=g(x,this.collectedEnterElements),A=new Map;let R=0;M.forEach((ve,Ee)=>{const ze=ae+R++;A.set(Ee,ze),ve.forEach(Le=>v(Le,ze))});const I=[],k=new Set,U=new Set;for(let ve=0;ve<this.collectedLeaveElements.length;ve++){const Ee=this.collectedLeaveElements[ve],ze=Ee[Ts];ze&&ze.setForRemoval&&(I.push(Ee),k.add(Ee),ze.hasAnimation?this.driver.query(Ee,".ng-star-inserted",!0).forEach(Le=>k.add(Le)):U.add(Ee))}const O=new Map,B=g(x,Array.from(k));B.forEach((ve,Ee)=>{const ze=ge+R++;O.set(Ee,ze),ve.forEach(Le=>v(Le,ze))}),t.push(()=>{M.forEach((ve,Ee)=>{const ze=A.get(Ee);ve.forEach(Le=>C(Le,ze))}),B.forEach((ve,Ee)=>{const ze=O.get(Ee);ve.forEach(Le=>C(Le,ze))}),I.forEach(ve=>{this.processLeaveNode(ve)})});const W=[],Z=[];for(let ve=this._namespaceList.length-1;ve>=0;ve--)this._namespaceList[ve].drainQueuedTransitions(e).forEach(ze=>{const Le=ze.player,ot=ze.element;if(W.push(Le),this.collectedEnterElements.length){const on=ot[Ts];if(on&&on.setForMove){if(on.previousTriggersValues&&on.previousTriggersValues.has(ze.triggerName)){const gn=on.previousTriggersValues.get(ze.triggerName),bn=this.statesByElement.get(ze.element);if(bn&&bn.has(ze.triggerName)){const ui=bn.get(ze.triggerName);ui.value=gn,bn.set(ze.triggerName,ui)}}return void Le.destroy()}}const me=!y||!this.driver.containsElement(y,ot),We=O.get(ot),Ut=A.get(ot),Et=this._buildInstruction(ze,n,Ut,We,me);if(Et.errors&&Et.errors.length)return void Z.push(Et);if(me)return Le.onStart(()=>as(ot,Et.fromStyles)),Le.onDestroy(()=>tr(ot,Et.toStyles)),void r.push(Le);if(ze.isFallbackTransition)return Le.onStart(()=>as(ot,Et.fromStyles)),Le.onDestroy(()=>tr(ot,Et.toStyles)),void r.push(Le);const en=[];Et.timelines.forEach(on=>{on.stretchStartingKeyframe=!0,this.disabledNodes.has(on.element)||en.push(on)}),Et.timelines=en,n.append(ot,Et.timelines),l.push({instruction:Et,player:Le,element:ot}),Et.queriedElements.forEach(on=>Bo(u,on,[]).push(Le)),Et.preStyleProps.forEach((on,gn)=>{if(on.size){let bn=f.get(gn);bn||f.set(gn,bn=new Set),on.forEach((ui,In)=>bn.add(In))}}),Et.postStyleProps.forEach((on,gn)=>{let bn=p.get(gn);bn||p.set(gn,bn=new Set),on.forEach((ui,In)=>bn.add(In))})});if(Z.length){const ve=[];Z.forEach(Ee=>{ve.push(function rd(i,t){return new c.vHH(3505,!1)}())}),W.forEach(Ee=>Ee.destroy()),this.reportError(ve)}const q=new Map,ce=new Map;l.forEach(ve=>{const Ee=ve.element;n.has(Ee)&&(ce.set(Ee,Ee),this._beforeAnimationBuild(ve.player.namespaceId,ve.instruction,q))}),r.forEach(ve=>{const Ee=ve.element;this._getPreviousPlayers(Ee,!1,ve.namespaceId,ve.triggerName,null).forEach(Le=>{Bo(q,Ee,[]).push(Le),Le.destroy()})});const H=I.filter(ve=>ut(ve,f,p)),Q=new Map;E(Q,this.driver,U,p,To).forEach(ve=>{ut(ve,f,p)&&H.push(ve)});const tt=new Map;M.forEach((ve,Ee)=>{E(tt,this.driver,new Set(ve),f,"!")}),H.forEach(ve=>{const Ee=Q.get(ve),ze=tt.get(ve);Q.set(ve,new Map([...Ee?.entries()??[],...ze?.entries()??[]]))});const ft=[],fe=[],Ue={};l.forEach(ve=>{const{element:Ee,player:ze,instruction:Le}=ve;if(n.has(Ee)){if(b.has(Ee))return ze.onDestroy(()=>tr(Ee,Le.toStyles)),ze.disabled=!0,ze.overrideTotalTime(Le.totalTime),void r.push(ze);let ot=Ue;if(ce.size>1){let We=Ee;const Ut=[];for(;We=We.parentNode;){const Et=ce.get(We);if(Et){ot=Et;break}Ut.push(We)}Ut.forEach(Et=>ce.set(Et,ot))}const me=this._buildAnimation(ze.namespaceId,Le,q,o,tt,Q);if(ze.setRealPlayer(me),ot===Ue)ft.push(ze);else{const We=this.playersByElement.get(ot);We&&We.length&&(ze.parentPlayer=Ss(We)),r.push(ze)}}else as(Ee,Le.fromStyles),ze.onDestroy(()=>tr(Ee,Le.toStyles)),fe.push(ze),b.has(Ee)&&r.push(ze)}),fe.forEach(ve=>{const Ee=o.get(ve.element);if(Ee&&Ee.length){const ze=Ss(Ee);ve.setRealPlayer(ze)}}),r.forEach(ve=>{ve.parentPlayer?ve.syncPlayerEvents(ve.parentPlayer):ve.destroy()});for(let ve=0;ve<I.length;ve++){const Ee=I[ve],ze=Ee[Ts];if(C(Ee,ge),ze&&ze.hasAnimation)continue;let Le=[];if(u.size){let me=u.get(Ee);me&&me.length&&Le.push(...me);let We=this.driver.query(Ee,Qt,!0);for(let Ut=0;Ut<We.length;Ut++){let Et=u.get(We[Ut]);Et&&Et.length&&Le.push(...Et)}}const ot=Le.filter(me=>!me.destroyed);ot.length?N(this,Ee,ot):this.processLeaveNode(Ee)}return I.length=0,ft.forEach(ve=>{this.players.push(ve),ve.onDone(()=>{ve.destroy();const Ee=this.players.indexOf(ve);this.players.splice(Ee,1)}),ve.play()}),ft}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,o){let l=[];if(e){const u=this.playersByQueriedElement.get(t);u&&(l=u)}else{const u=this.playersByElement.get(t);if(u){const f=!o||o==Wi;u.forEach(p=>{p.queued||!f&&p.triggerName!=r||l.push(p)})}}return(n||r)&&(l=l.filter(u=>!(n&&n!=u.namespaceId||r&&r!=u.triggerName))),l}_beforeAnimationBuild(t,e,n){const o=e.element,l=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName;for(const f of e.timelines){const p=f.element,b=p!==o,y=Bo(n,p,[]);this._getPreviousPlayers(p,b,l,u,e.toState).forEach(M=>{const A=M.getRealPlayer();A.beforeDestroy&&A.beforeDestroy(),M.destroy(),y.push(M)})}as(o,e.fromStyles)}_buildAnimation(t,e,n,r,o,l){const u=e.triggerName,f=e.element,p=[],b=new Set,y=new Set,x=e.timelines.map(A=>{const R=A.element;b.add(R);const I=R[Ts];if(I&&I.removedBeforeQueried)return new ra(A.duration,A.delay);const k=R!==f,U=function z(i){const t=[];return oe(i,t),t}((n.get(R)||yb).map(q=>q.getRealPlayer())).filter(q=>!!q.element&&q.element===R),O=o.get(R),B=l.get(R),W=Gh(this._normalizer,A.keyframes,O,B),Z=this._buildPlayer(A,W,U);if(A.subTimeline&&r&&y.add(R),k){const q=new Jr(t,u,R);q.setRealPlayer(Z),p.push(q)}return Z});p.forEach(A=>{Bo(this.playersByQueriedElement,A.element,[]).push(A),A.onDone(()=>function fd(i,t,e){let n=i.get(t);if(n){if(n.length){const r=n.indexOf(e);n.splice(r,1)}0==n.length&&i.delete(t)}return n}(this.playersByQueriedElement,A.element,A))}),b.forEach(A=>v(A,St));const M=Ss(x);return M.onDestroy(()=>{b.forEach(A=>C(A,St)),tr(f,e.toStyles)}),y.forEach(A=>{Bo(r,A,[]).push(M)}),M}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new ra(t.duration,t.delay)}}class Jr{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new ra,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>gu(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Bo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Zh(i){return i&&1===i.nodeType}function kg(i,t){const e=i.style.display;return i.style.display=t??"none",e}function E(i,t,e,n,r){const o=[];e.forEach(f=>o.push(kg(f)));const l=[];n.forEach((f,p)=>{const b=new Map;f.forEach(y=>{const x=t.computeStyle(p,y,r);b.set(y,x),(!x||0==x.length)&&(p[Ts]=Im,l.push(p))}),i.set(p,b)});let u=0;return e.forEach(f=>kg(f,o[u++])),l}function g(i,t){const e=new Map;if(i.forEach(u=>e.set(u,[])),0==t.length)return e;const r=new Set(t),o=new Map;function l(u){if(!u)return 1;let f=o.get(u);if(f)return f;const p=u.parentNode;return f=e.has(p)?p:r.has(p)?1:l(p),o.set(u,f),f}return t.forEach(u=>{const f=l(u);1!==f&&e.get(f).push(u)}),e}function v(i,t){i.classList?.add(t)}function C(i,t){i.classList?.remove(t)}function N(i,t,e){Ss(e).onDone(()=>i.processLeaveNode(t))}function oe(i,t){for(let e=0;e<i.length;e++){const n=i[e];n instanceof Pa?oe(n.players,t):t.push(n)}}function ut(i,t,e){const n=e.get(i);if(!n)return!1;let r=t.get(i);return r?n.forEach(o=>r.add(o)):t.set(i,n),e.delete(i),!0}class xt{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new km(t,e,n),this._timelineEngine=new qh(t,e,n),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,n,r,o){const l=t+"-"+r;let u=this._triggerCache[l];if(!u){const f=[],b=xm(this._driver,o,f,[]);if(f.length)throw function mm(i,t){return new c.vHH(3404,!1)}();u=function ud(i,t,e){return new _b(i,t,e)}(r,b,this._normalizer),this._triggerCache[l]=u}this._transitionEngine.registerTrigger(e,r,u)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[o,l]=Vs(n);this._timelineEngine.command(o,e,l,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,o){if("@"==n.charAt(0)){const[l,u]=Vs(n);return this._timelineEngine.listen(l,e,u,o)}return this._transitionEngine.listen(t,e,n,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let Xt=(()=>{class i{static#e=this.initialStylesByElement=new WeakMap;constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let o=i.initialStylesByElement.get(e);o||i.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&tr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(tr(this._element,this._initialStyles),this._endStyles&&(tr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(as(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(as(this._element,this._endStyles),this._endStyles=null),tr(this._element,this._initialStyles),this._state=3)}}return i})();function ji(i){let t=null;return i.forEach((e,n)=>{(function Hs(i){return"display"===i||"position"===i})(n)&&(t=t||new Map,t.set(n,e))}),t}class Su{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{"offset"!==r&&t.set(r,this._finished?n:vg(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class md{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return _u(t,e)}getParentElement(t){return gc(t)}query(t,e,n){return vu(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}animate(t,e,n,r,o,l=[]){const f={duration:n,delay:r,fill:0==r?"both":"forwards"};o&&(f.easing=o);const p=new Map,b=l.filter(M=>M instanceof Su);(function yu(i,t){return 0===i||0===t})(n,r)&&b.forEach(M=>{M.currentSnapshot.forEach((A,R)=>p.set(R,A))});let y=function _c(i){return i.length?i[0]instanceof Map?i:i.map(t=>er(t)):[]}(e).map(M=>Qr(M));y=function zC(i,t,e){if(e.size&&t.length){let n=t[0],r=[];if(e.forEach((o,l)=>{n.has(l)||r.push(l),n.set(l,o)}),r.length)for(let o=1;o<t.length;o++){let l=t[o];r.forEach(u=>l.set(u,vg(i,u)))}}return t}(t,y,p);const x=function Yt(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=ji(t[0]),t.length>1&&(n=ji(t[t.length-1]))):t instanceof Map&&(e=ji(t)),e||n?new Xt(i,e,n):null}(t,y);return new Su(t,y,f,x)}}let Tu=(()=>{class i extends Ra{constructor(e,n){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(n.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(e){const n=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Xl(e):e;return pd(this._renderer,null,n,"register",[r]),new Rg(n,this._renderer)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(c.FYo),c.LFG(we))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();class Rg extends lm{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Rm(this._id,t,e||{},this._renderer)}}class Rm{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return pd(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function pd(i,t,e,n,r){return i.setProperty(t,`@@${e}:${n}`,r)}const Pg="@.disabled";let Og=(()=>{class i{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(o,l)=>{const u=l?.parentNode(o);u&&l.removeChild(u,o)}}createRenderer(e,n){const o=this.delegate.createRenderer(e,n);if(!(e&&n&&n.data&&n.data.animation)){let b=this._rendererCache.get(o);return b||(b=new Ng("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,b)),b}const l=n.id,u=n.id+"-"+this._currentId;this._currentId++,this.engine.register(u,e);const f=b=>{Array.isArray(b)?b.forEach(f):this.engine.registerTrigger(l,u,e,b.name,b)};return n.data.animation.forEach(f),new ex(this,u,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){e>=0&&e<this._microtaskId?this._zone.run(()=>n(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[l,u]=o;l(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(c.FYo),c.LFG(xt),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();class Ng{constructor(t,e,n,r){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&e==Pg?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ex extends Ng{constructor(t,e,n,r,o){super(e,n,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Pg?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function Lg(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(t);let o=e.slice(1),l="";return"@"!=o.charAt(0)&&([o,l]=function wb(i){const t=i.indexOf(".");return[i.substring(0,t),i.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,l,u=>{this.factory.scheduleListenerCallback(u._data||-1,n,u)})}return this.delegate.listen(t,e,n)}}const YC=[{provide:Ra,useClass:Tu},{provide:mb,useFactory:function tx(){return new pb}},{provide:xt,useClass:(()=>{class i extends xt{constructor(e,n,r,o){super(e.body,n,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(we),c.LFG(T),c.LFG(mb),c.LFG(c.z2F))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})()},{provide:c.FYo,useFactory:function nx(i,t,e){return new Og(i,t,e)},deps:[Ia,xt,c.R0b]}],ix=[{provide:T,useFactory:()=>new md},{provide:c.QbO,useValue:"BrowserAnimations"},...YC],Cb=[{provide:T,useClass:cl},{provide:c.QbO,useValue:"NoopAnimations"},...YC];let qC=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?Cb:ix}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:ix,imports:[ou]})}return i})();var Ho=j(5592),wc=j(4674);function Fg(i){return!!i&&(i instanceof Ho.y||(0,wc.m)(i.lift)&&(0,wc.m)(i.subscribe))}var eo=j(2459),nn=j(2096),Go=j(5619);const{isArray:ZC}=Array,{getPrototypeOf:rx,prototype:XC,keys:Mb}=Object;function Om(i){if(1===i.length){const t=i[0];if(ZC(t))return{args:t,keys:null};if(function KC(i){return i&&"object"==typeof i&&rx(i)===XC}(t)){const e=Mb(t);return{args:e.map(n=>t[n]),keys:e}}}return{args:i,keys:null}}var Kh=j(2737),wn=j(7398);const{isArray:QC}=Array;function Qh(i){return(0,wn.U)(t=>function ox(i,t){return QC(t)?i(...t):i(t)}(i,t))}var Nm=j(9940);function sx(i,t){return i.reduce((e,n,r)=>(e[n]=t[r],e),{})}var fo=j(8251),zI=j(7103);function Jh(...i){const t=(0,Nm.yG)(i),e=(0,Nm.jO)(i),{args:n,keys:r}=Om(i);if(0===n.length)return(0,eo.D)([],t);const o=new Ho.y(function JC(i,t,e=Kh.y){return n=>{ax(t,()=>{const{length:r}=i,o=new Array(r);let l=r,u=r;for(let f=0;f<r;f++)ax(t,()=>{const p=(0,eo.D)(i[f],t);let b=!1;p.subscribe((0,fo.x)(n,y=>{o[f]=y,b||(b=!0,u--),u||n.next(e(o.slice()))},()=>{--l||n.complete()}))},n)},n)}}(n,t,r?l=>sx(r,l):Kh.y));return e?o.pipe(Qh(e)):o}function ax(i,t,e){i?(0,zI.f)(e,i,t):t()}const Lm=(0,j(2306).d)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});var ul=j(7537);function Tb(...i){return function HI(){return(0,ul.J)(1)}()((0,eo.D)(i,(0,Nm.yG)(i)))}var Fm=j(4829);function Ug(i){return new Ho.y(t=>{(0,Fm.Xf)(i()).subscribe(t)})}var cx=j(8407);function Um(i,t){const e=(0,wc.m)(i)?i:()=>i,n=r=>r.error(e());return new Ho.y(t?r=>t.schedule(n,0,r):n)}var Gs=j(6232),ds=j(7394),mo=j(9360);function Ab(){return(0,mo.e)((i,t)=>{let e=null;i._refCount++;const n=(0,fo.x)(t,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(e=null);const r=i._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});i.subscribe(n),n.closed||(e=i.connect())})}class Db extends Ho.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,mo.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ds.w0;const e=this.getSubject();t.add(this.source.subscribe((0,fo.x)(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ds.w0.EMPTY)}return t}refCount(){return Ab()(this)}}var hn=j(8645),Ki=j(4664);function Wo(i){return i<=0?()=>Gs.E:(0,mo.e)((t,e)=>{let n=0;t.subscribe((0,fo.x)(e,r=>{++n<=i&&(e.next(r),i<=n&&e.complete())}))})}function Bm(...i){const t=(0,Nm.yG)(i);return(0,mo.e)((e,n)=>{(t?Tb(i,e,t):Tb(i,e)).subscribe(n)})}function Hr(i,t){return(0,mo.e)((e,n)=>{let r=0;e.subscribe((0,fo.x)(n,o=>i.call(t,o,r++)&&n.next(o)))})}var us=j(1631);function Ib(i){return(0,mo.e)((t,e)=>{let n=!1;t.subscribe((0,fo.x)(e,r=>{n=!0,e.next(r)},()=>{n||e.next(i),e.complete()}))})}function hl(i=Vm){return(0,mo.e)((t,e)=>{let n=!1;t.subscribe((0,fo.x)(e,r=>{n=!0,e.next(r)},()=>n?e.complete():e.error(i())))})}function Vm(){return new Lm}function Au(i,t){const e=arguments.length>=2;return n=>n.pipe(i?Hr((r,o)=>i(r,o,n)):Kh.y,Wo(1),e?Ib(t):hl(()=>new Lm))}function zm(i,t){return(0,wc.m)(t)?(0,us.z)(i,t,1):(0,us.z)(i,1)}var to=j(9397);function Du(i){return(0,mo.e)((t,e)=>{let o,n=null,r=!1;n=t.subscribe((0,fo.x)(e,void 0,void 0,l=>{o=(0,Fm.Xf)(i(l,Du(i)(t))),n?(n.unsubscribe(),n=null,o.subscribe(e)):r=!0})),r&&(n.unsubscribe(),n=null,o.subscribe(e))})}function lx(i,t){return(0,mo.e)(function GI(i,t,e,n,r){return(o,l)=>{let u=e,f=t,p=0;o.subscribe((0,fo.x)(l,b=>{const y=p++;f=u?i(f,b,y):(u=!0,b),n&&l.next(f)},r&&(()=>{u&&l.next(f),l.complete()})))}}(i,t,arguments.length>=2,!0))}function kb(i){return i<=0?()=>Gs.E:(0,mo.e)((t,e)=>{let n=[];t.subscribe((0,fo.x)(e,r=>{n.push(r),i<n.length&&n.shift()},()=>{for(const r of n)e.next(r);e.complete()},void 0,()=>{n=null}))})}function Hm(i){return(0,mo.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(i)}})}var eM=j(2420);function Ii(i){return(0,mo.e)((t,e)=>{(0,Fm.Xf)(i).subscribe((0,fo.x)(e,()=>e.complete(),eM.Z)),!e.closed&&t.subscribe(e)})}const Nn="primary",gd=Symbol("RouteTitle");class tM{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ef(i){return new tM(i)}function nM(i,t,e){const n=e.path.split("/");if(n.length>i.length||"full"===e.pathMatch&&(t.hasChildren()||n.length<i.length))return null;const r={};for(let o=0;o<n.length;o++){const l=n[o],u=i[o];if(l.startsWith(":"))r[l.substring(1)]=u;else if(l!==u.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function _d(i,t){const e=i?Object.keys(i):void 0,n=t?Object.keys(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!$I(i[r],t[r]))return!1;return!0}function $I(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;const e=[...i].sort(),n=[...t].sort();return e.every((r,o)=>n[o]===r)}return i===t}function Rb(i){return i.length>0?i[i.length-1]:null}function fl(i){return Fg(i)?i:(0,c.QGY)(i)?(0,eo.D)(Promise.resolve(i)):(0,nn.of)(i)}const wF={exact:function iM(i,t,e){if(!Iu(i.segments,t.segments)||!tf(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!i.children[n]||!iM(i.children[n],t.children[n],e))return!1;return!0},subset:rM},YI={exact:function qI(i,t){return _d(i,t)},subset:function ZI(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>$I(i[e],t[e]))},ignored:()=>!0};function dx(i,t,e){return wF[e.paths](i.root,t.root,e.matrixParams)&&YI[e.queryParams](i.queryParams,t.queryParams)&&!("exact"===e.fragment&&i.fragment!==t.fragment)}function rM(i,t,e){return ux(i,t,t.segments,e)}function ux(i,t,e,n){if(i.segments.length>e.length){const r=i.segments.slice(0,e.length);return!(!Iu(r,e)||t.hasChildren()||!tf(r,e,n))}if(i.segments.length===e.length){if(!Iu(i.segments,e)||!tf(i.segments,e,n))return!1;for(const r in t.children)if(!i.children[r]||!rM(i.children[r],t.children[r],n))return!1;return!0}{const r=e.slice(0,i.segments.length),o=e.slice(i.segments.length);return!!(Iu(i.segments,r)&&tf(i.segments,r,n)&&i.children[Nn])&&ux(i.children[Nn],t,o,n)}}function tf(i,t,e){return t.every((n,r)=>YI[e](i[r].parameters,n.parameters))}class nf{constructor(t=new Oi([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ef(this.queryParams)),this._queryParamMap}toString(){return KI.serialize(this)}}class Oi{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ob(this)}}class Bg{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ef(this.parameters)),this._parameterMap}toString(){return Wm(this)}}function Iu(i,t){return i.length===t.length&&i.every((e,n)=>e.path===t[n].path)}let Gm=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:function(){return new Pb},providedIn:"root"})}return i})();class Pb{parse(t){const e=new JI(t);return new nf(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Vg(t.root,!0)}`,n=function cM(i){const t=Object.keys(i).map(e=>{const n=i[e];return Array.isArray(n)?n.map(r=>`${zg(e)}=${zg(r)}`).join("&"):`${zg(e)}=${zg(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${n}${"string"==typeof t.fragment?`#${function EF(i){return encodeURI(i)}(t.fragment)}`:""}`}}const KI=new Pb;function Ob(i){return i.segments.map(t=>Wm(t)).join("/")}function Vg(i,t){if(!i.hasChildren())return Ob(i);if(t){const e=i.children[Nn]?Vg(i.children[Nn],!1):"",n=[];return Object.entries(i.children).forEach(([r,o])=>{r!==Nn&&n.push(`${r}:${Vg(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function XI(i,t){let e=[];return Object.entries(i.children).forEach(([n,r])=>{n===Nn&&(e=e.concat(t(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==Nn&&(e=e.concat(t(r,n)))}),e}(i,(n,r)=>r===Nn?[Vg(i.children[Nn],!1)]:[`${r}:${Vg(n,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Nn]?`${Ob(i)}/${e[0]}`:`${Ob(i)}/(${e.join("//")})`}}function oM(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zg(i){return oM(i).replace(/%3B/gi,";")}function sM(i){return oM(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ku(i){return decodeURIComponent(i)}function ki(i){return ku(i.replace(/\+/g,"%20"))}function Wm(i){return`${sM(i.path)}${function aM(i){return Object.keys(i).map(t=>`;${sM(t)}=${sM(i[t])}`).join("")}(i.parameters)}`}const hx=/^[^\/()?;#]+/;function Hg(i){const t=i.match(hx);return t?t[0]:""}const QI=/^[^\/()?;=#]+/,dM=/^[^=?&#]+/,CF=/^[^&#]+/;class JI{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oi([],{}):new Oi([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Nn]=new Oi(t,e)),n}parseSegment(){const t=Hg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(t),new Bg(ku(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function lM(i){const t=i.match(QI);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const r=Hg(this.remaining);r&&(n=r,this.capture(n))}t[ku(e)]=ku(n)}parseQueryParam(t){const e=function Nb(i){const t=i.match(dM);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const l=function fx(i){const t=i.match(CF);return t?t[0]:""}(this.remaining);l&&(n=l,this.capture(n))}const r=ki(e),o=ki(n);if(t.hasOwnProperty(r)){let l=t[r];Array.isArray(l)||(l=[l],t[r]=l),l.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Hg(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new c.vHH(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Nn);const l=this.parseChildren();e[o]=1===Object.keys(l).length?l[Nn]:new Oi([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new c.vHH(4011,!1)}}function Lb(i){return i.segments.length>0?new Oi([],{[Nn]:i}):i}function mx(i){const t={};for(const n of Object.keys(i.children)){const o=mx(i.children[n]);if(n===Nn&&0===o.segments.length&&o.hasChildren())for(const[l,u]of Object.entries(o.children))t[l]=u;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}return function uM(i){if(1===i.numberOfChildren&&i.children[Nn]){const t=i.children[Nn];return new Oi(i.segments.concat(t.segments),t.children)}return i}(new Oi(i.segments,t))}function aa(i){return i instanceof nf}function Fb(i){let t;const r=Lb(function e(o){const l={};for(const f of o.children){const p=e(f);l[f.outlet]=p}const u=new Oi(o.url,l);return o===i&&(t=u),u}(i.root));return t??r}function Gg(i,t,e,n){let r=i;for(;r.parent;)r=r.parent;if(0===t.length)return jm(r,r,r,e,n);const o=function px(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new Wg(!0,0,i);let t=0,e=!1;const n=i.reduce((r,o,l)=>{if("object"==typeof o&&null!=o){if(o.outlets){const u={};return Object.entries(o.outlets).forEach(([f,p])=>{u[f]="string"==typeof p?p.split("/"):p}),[...r,{outlets:u}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===l?(o.split("/").forEach((u,f)=>{0==f&&"."===u||(0==f&&""===u?e=!0:".."===u?t++:""!=u&&r.push(u))}),r):[...r,o]},[]);return new Wg(e,t,n)}(t);if(o.toRoot())return jm(r,r,new Oi([],{}),e,n);const l=function tk(i,t,e){if(i.isAbsolute)return new Bb(t,!0,0);if(!e)return new Bb(t,!1,NaN);if(null===e.parent)return new Bb(e,!0,0);const n=Ub(i.commands[0])?0:1;return function hM(i,t,e){let n=i,r=t,o=e;for(;o>r;){if(o-=r,n=n.parent,!n)throw new c.vHH(4005,!1);r=n.segments.length}return new Bb(n,!1,r-o)}(e,e.segments.length-1+n,i.numberOfDoubleDots)}(o,r,i),u=l.processChildren?jg(l.segmentGroup,l.index,o.commands):fM(l.segmentGroup,l.index,o.commands);return jm(r,l.segmentGroup,u,e,n)}function Ub(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function sf(i){return"object"==typeof i&&null!=i&&i.outlets}function jm(i,t,e,n,r){let l,o={};n&&Object.entries(n).forEach(([f,p])=>{o[f]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),l=i===t?e:Ec(i,t,e);const u=Lb(mx(l));return new nf(u,o,r)}function Ec(i,t,e){const n={};return Object.entries(i.children).forEach(([r,o])=>{n[r]=o===t?e:Ec(o,t,e)}),new Oi(i.segments,n)}class Wg{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Ub(n[0]))throw new c.vHH(4003,!1);const r=n.find(sf);if(r&&r!==Rb(n))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bb{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function fM(i,t,e){if(i||(i=new Oi([],{})),0===i.segments.length&&i.hasChildren())return jg(i,t,e);const n=function nk(i,t,e){let n=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return o;const l=i.segments[r],u=e[n];if(sf(u))break;const f=`${u}`,p=n<e.length-1?e[n+1]:null;if(r>0&&void 0===f)break;if(f&&p&&"object"==typeof p&&void 0===p.outlets){if(!gx(f,p,l))return o;n+=2}else{if(!gx(f,{},l))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){const o=new Oi(i.segments.slice(0,n.pathIndex),{});return o.children[Nn]=new Oi(i.segments.slice(n.pathIndex),i.children),jg(o,0,r)}return n.match&&0===r.length?new Oi(i.segments,{}):n.match&&!i.hasChildren()?$g(i,t,e):n.match?jg(i,0,r):$g(i,t,e)}function jg(i,t,e){if(0===e.length)return new Oi(i.segments,{});{const n=function $m(i){return sf(i[0])?i[0].outlets:{[Nn]:i}}(e),r={};if(Object.keys(n).some(o=>o!==Nn)&&i.children[Nn]&&1===i.numberOfChildren&&0===i.children[Nn].segments.length){const o=jg(i.children[Nn],t,e);return new Oi(i.segments,o.children)}return Object.entries(n).forEach(([o,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(r[o]=fM(i.children[o],t,l))}),Object.entries(i.children).forEach(([o,l])=>{void 0===n[o]&&(r[o]=l)}),new Oi(i.segments,r)}}function $g(i,t,e){const n=i.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(sf(o)){const f=mM(o.outlets);return new Oi(n,f)}if(0===r&&Ub(e[0])){n.push(new Bg(i.segments[t].path,pM(e[0]))),r++;continue}const l=sf(o)?o.outlets[Nn]:`${o}`,u=r<e.length-1?e[r+1]:null;l&&u&&Ub(u)?(n.push(new Bg(l,pM(u))),r+=2):(n.push(new Bg(l,{})),r++)}return new Oi(n,{})}function mM(i){const t={};return Object.entries(i).forEach(([e,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[e]=$g(new Oi([],{}),0,n))}),t}function pM(i){const t={};return Object.entries(i).forEach(([e,n])=>t[e]=`${n}`),t}function gx(i,t,e){return i==e.path&&_d(t,e.parameters)}const af="imperative";class vd{constructor(t,e){this.id=t,this.url=e}}class Vb extends vd{constructor(t,e,n="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ru extends vd{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yg extends vd{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qg extends vd{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=16}}class _x extends vd{constructor(t,e,n,r){super(t,e),this.error=n,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zg extends vd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ik extends vd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vx extends vd{constructor(t,e,n,r,o){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class bx extends vd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ym extends vd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yx{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xx{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xg{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zb{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qm{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wx{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hb{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Zm{}class gM{constructor(t){this.url=t}}class Kg{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Qg,this.attachRef=null}}let Qg=(()=>{class i{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new Kg,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class Ex{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Cx(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){const e=Cx(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Mx(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Mx(t,this._root).map(e=>e.value)}}function Cx(i,t){if(i===t.value)return t;for(const e of t.children){const n=Cx(i,e);if(n)return n}return null}function Mx(i,t){if(i===t.value)return[t];for(const e of t.children){const n=Mx(i,e);if(n.length)return n.unshift(t),n}return[]}class Cc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function cf(i){const t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}class vM extends Ex{constructor(t,e){super(t),this.snapshot=e,e_(this,t)}toString(){return this.snapshot.toString()}}function bM(i,t){const e=function MF(i,t){const l=new Gb([],{},{},"",{},Nn,t,null,{});return new Tx("",new Cc(l,[]))}(0,t),n=new Go.X([new Bg("",{})]),r=new Go.X({}),o=new Go.X({}),l=new Go.X({}),u=new Go.X(""),f=new Xm(n,r,l,u,o,Nn,t,e.root);return f.snapshot=e.root,new vM(new Cc(f,[]),e)}class Xm{constructor(t,e,n,r,o,l,u,f){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=l,this.component=u,this._futureSnapshot=f,this.title=this.dataSubject?.pipe((0,wn.U)(p=>p[gd]))??(0,nn.of)(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,wn.U)(t=>ef(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,wn.U)(t=>ef(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Jg(i,t="emptyOnly"){const e=i.pathFromRoot;let n=0;if("always"!==t)for(n=e.length-1;n>=1;){const r=e[n],o=e[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(o.component)break;n--}}return function Sx(i){return i.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(n))}class Gb{get title(){return this.data?.[gd]}constructor(t,e,n,r,o,l,u,f,p){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=l,this.component=u,this.routeConfig=f,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ef(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ef(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Tx extends Ex{constructor(t,e){super(e),this.url=t,e_(this,e)}toString(){return t_(this._root)}}function e_(i,t){t.value._routerState=i,t.children.forEach(e=>e_(i,e))}function t_(i){const t=i.children.length>0?` { ${i.children.map(t_).join(", ")} } `:"";return`${i.value}${t}`}function Ax(i){if(i.snapshot){const t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,_d(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),_d(t.params,e.params)||i.paramsSubject.next(e.params),function xF(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!_d(i[e],t[e]))return!1;return!0}(t.url,e.url)||i.urlSubject.next(e.url),_d(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function Wb(i,t){const e=_d(i.params,t.params)&&function rf(i,t){return Iu(i,t)&&i.every((e,n)=>_d(e.parameters,t[n].parameters))}(i.url,t.url);return e&&!(!i.parent!=!t.parent)&&(!i.parent||Wb(i.parent,t.parent))}let Dx=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=Nn,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(Qg),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(Ix,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=e;const r=this.location,l=e.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,f=new yM(e,u,r.injector);this.activated=r.createComponent(l,{index:r.length,injector:f,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]})}return i})();class yM{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Xm?this.route:t===Qg?this.childContexts:this.parent.get(t,e)}}const Ix=new c.OlP("");let xM=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:n}=e,r=Jh([n.queryParams,n.params,n.data]).pipe((0,Ki.w)(([o,l,u],f)=>(u={...o,...l,...u},0===f?(0,nn.of)(u):Promise.resolve(u)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(e);const l=(0,c.qFp)(n.component);if(l)for(const{templateName:u}of l.inputs)e.activatedComponentRef.setInput(u,o[u]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();function i_(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){const n=e.value;n._futureSnapshot=t.value;const r=function Km(i,t,e){return t.children.map(n=>{for(const r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return i_(i,n,r);return i_(i,n)})}(i,t,e);return new Cc(n,r)}{if(i.shouldAttach(t.value)){const o=i.retrieve(t.value);if(null!==o){const l=o.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(u=>i_(i,u)),l}}const n=function r_(i){return new Xm(new Go.X(i.url),new Go.X(i.params),new Go.X(i.queryParams),new Go.X(i.fragment),new Go.X(i.data),i.outlet,i.component,i)}(t.value),r=t.children.map(o=>i_(i,o));return new Cc(n,r)}}const kx="ngNavigationCancelingError";function Rx(i,t){const{redirectTo:e,navigationBehaviorOptions:n}=aa(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=wM(!1,0,t);return r.url=e,r.navigationBehaviorOptions=n,r}function wM(i,t,e){const n=new Error("NavigationCancelingError: "+(i||""));return n[kx]=!0,n.cancellationCode=t,e&&(n.url=e),n}function EM(i){return i&&i[kx]}let Px=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(n,r){1&n&&c._UZ(0,"router-outlet")},dependencies:[Dx],encapsulation:2})}return i})();function jb(i){const t=i.children&&i.children.map(jb),e=t?{...i,children:t}:{...i};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Nn&&(e.component=Px),e}function Mc(i){return i.outlet||Nn}function $b(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Sc{constructor(t,e,n,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ax(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=cf(e);t.children.forEach(o=>{const l=o.value.outlet;this.deactivateRoutes(o,r[l],n),delete r[l]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,e,n){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const l=n.getContext(r.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=cf(t);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],r);if(n&&n.outlet){const l=n.outlet.detach(),u=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=cf(t);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){const r=cf(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new wx(o.value.snapshot))}),t.children.length&&this.forwardEvent(new zb(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,o=e?e.value:null;if(Ax(r),r===o)if(r.component){const l=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const l=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(u.contexts),l.attachRef=u.componentRef,l.route=u.route.value,l.outlet&&l.outlet.attach(u.componentRef,u.route.value),Ax(u.route.value),this.activateChildRoutes(t,null,l.children)}else{const u=$b(r.snapshot);l.attachRef=null,l.route=r,l.injector=u,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,n)}}class Ox{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Nx{constructor(t,e){this.component=t,this.route=e}}function Lx(i,t,e){const n=i._root;return o_(n,t?t._root:null,e,[n.value])}function Ou(i,t){const e=Symbol(),n=t.get(i,e);return n===e?"function"!=typeof i||(0,c.Z0I)(i)?t.get(i):i:n}function o_(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=cf(t);return i.children.forEach(l=>{(function TF(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=i.value,l=t?t.value:null,u=e?e.getContext(i.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){const f=function dk(i,t,e){if("function"==typeof e)return e(i,t);switch(e){case"pathParamsChange":return!Iu(i.url,t.url);case"pathParamsOrQueryParamsChange":return!Iu(i.url,t.url)||!_d(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wb(i,t)||!_d(i.queryParams,t.queryParams);default:return!Wb(i,t)}}(l,o,o.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new Ox(n)):(o.data=l.data,o._resolvedData=l._resolvedData),o_(i,t,o.component?u?u.children:null:e,n,r),f&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new Nx(u.outlet.component,l))}else l&&lf(t,u,r),r.canActivateChecks.push(new Ox(n)),o_(i,null,o.component?u?u.children:null:e,n,r)})(l,o[l.value.outlet],e,n.concat([l.value]),r),delete o[l.value.outlet]}),Object.entries(o).forEach(([l,u])=>lf(u,e.getContext(l),r)),r}function lf(i,t,e){const n=cf(i),r=i.value;Object.entries(n).forEach(([o,l])=>{lf(l,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new Nx(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Ws(i){return"function"==typeof i}function Yb(i){return i instanceof Lm||"EmptyError"===i?.name}const s_=Symbol("INITIAL_VALUE");function df(){return(0,Ki.w)(i=>Jh(i.map(t=>t.pipe(Wo(1),Bm(s_)))).pipe((0,wn.U)(t=>{for(const e of t)if(!0!==e){if(e===s_)return s_;if(!1===e||e instanceof nf)return e}return!0}),Hr(t=>t!==s_),Wo(1)))}function uf(i){return(0,cx.z)((0,to.b)(t=>{if(aa(t))throw Rx(0,t)}),(0,wn.U)(t=>!0===t))}class qb{constructor(t){this.segmentGroup=t||null}}class Ux{constructor(t){this.urlTree=t}}function hf(i){return Um(new qb(i))}function Zb(i){return Um(new Ux(i))}class PM{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new c.vHH(4002,!1)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,nn.of)(n);if(r.numberOfChildren>1||!r.children[Nn])return Um(new c.vHH(4e3,!1));r=r.children[Nn]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreateUrlTree(t,e,n,r){const o=this.createSegmentGroup(t,e.root,n,r);return new nf(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const u=o.substring(1);n[r]=e[u]}else n[r]=o}),n}createSegmentGroup(t,e,n,r){const o=this.createSegments(t,e.segments,n,r);let l={};return Object.entries(e.children).forEach(([u,f])=>{l[u]=this.createSegmentGroup(t,f,n,r)}),new Oi(o,l)}createSegments(t,e,n,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new c.vHH(4001,!1);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}const Kb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bk(i,t,e,n,r){const o=Bx(i,t,e);return o.matched?(n=function CM(i,t){return i.providers&&!i._injector&&(i._injector=(0,c.MMx)(i.providers,t,`Route: ${i.path}`)),i._injector??t}(t,n),function vk(i,t,e,n){const r=t.canMatch;if(!r||0===r.length)return(0,nn.of)(!0);const o=r.map(l=>{const u=Ou(l,i);return fl(function Fx(i){return i&&Ws(i.canMatch)}(u)?u.canMatch(t,e):i.runInContext(()=>u(t,e)))});return(0,nn.of)(o).pipe(df(),uf())}(n,t,e).pipe((0,wn.U)(l=>!0===l?o:{...Kb}))):(0,nn.of)(o)}function Bx(i,t,e){if(""===t.path)return"full"===t.pathMatch&&(i.hasChildren()||e.length>0)?{...Kb}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||nM)(e,i,t);if(!r)return{...Kb};const o={};Object.entries(r.posParams??{}).forEach(([u,f])=>{o[u]=f.path});const l=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function OM(i,t,e,n){return e.length>0&&function IF(i,t,e){return e.some(n=>Vx(i,t,n)&&Mc(n)!==Nn)}(i,e,n)?{segmentGroup:new Oi(t,NM(n,new Oi(e,i.children))),slicedSegments:[]}:0===e.length&&function xk(i,t,e){return e.some(n=>Vx(i,t,n))}(i,e,n)?{segmentGroup:new Oi(i.segments,yk(i,0,e,n,i.children)),slicedSegments:e}:{segmentGroup:new Oi(i.segments,i.children),slicedSegments:e}}function yk(i,t,e,n,r){const o={};for(const l of n)if(Vx(i,e,l)&&!r[Mc(l)]){const u=new Oi([],{});o[Mc(l)]=u}return{...r,...o}}function NM(i,t){const e={};e[Nn]=t;for(const n of i)if(""===n.path&&Mc(n)!==Nn){const r=new Oi([],{});e[Mc(n)]=r}return e}function Vx(i,t,e){return(!(i.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class RF{constructor(t,e,n,r,o,l,u){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=l,this.urlSerializer=u,this.allowRedirects=!0,this.applyRedirects=new PM(this.urlSerializer,this.urlTree)}noMatchError(t){return new c.vHH(4002,!1)}recognize(){const t=OM(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Nn).pipe(Du(e=>{if(e instanceof Ux)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof qb?this.noMatchError(e):e}),(0,wn.U)(e=>{const n=new Gb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Nn,this.rootComponentType,null,{}),r=new Cc(n,e),o=new Tx("",r),l=function ek(i,t,e=null,n=null){return Gg(Fb(i),t,e,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(o._root),{state:o,tree:l}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Nn).pipe(Du(n=>{throw n instanceof qb?this.noMatchError(n):n}))}inheritParamsAndData(t){const e=t.value,n=Jg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,e,n):this.processSegment(t,e,n,n.segments,r,!0)}processChildren(t,e,n){const r=[];for(const o of Object.keys(n.children))"primary"===o?r.unshift(o):r.push(o);return(0,eo.D)(r).pipe(zm(o=>{const l=n.children[o],u=function ck(i,t){const e=i.filter(n=>Mc(n)===t);return e.push(...i.filter(n=>Mc(n)!==t)),e}(e,o);return this.processSegmentGroup(t,u,l,o)}),lx((o,l)=>(o.push(...l),o)),Ib(null),function WI(i,t){const e=arguments.length>=2;return n=>n.pipe(i?Hr((r,o)=>i(r,o,n)):Kh.y,kb(1),e?Ib(t):hl(()=>new Lm))}(),(0,us.z)(o=>{if(null===o)return hf(n);const l=zx(o);return function Qb(i){i.sort((t,e)=>t.value.outlet===Nn?-1:e.value.outlet===Nn?1:t.value.outlet.localeCompare(e.value.outlet))}(l),(0,nn.of)(l)}))}processSegment(t,e,n,r,o,l){return(0,eo.D)(e).pipe(zm(u=>this.processSegmentAgainstRoute(u._injector??t,e,u,n,r,o,l).pipe(Du(f=>{if(f instanceof qb)return(0,nn.of)(null);throw f}))),Au(u=>!!u),Du(u=>{if(Yb(u))return function LM(i,t,e){return 0===t.length&&!i.children[e]}(n,r,o)?(0,nn.of)([]):hf(n);throw u}))}processSegmentAgainstRoute(t,e,n,r,o,l,u){return function kF(i,t,e,n){return!!(Mc(i)===n||n!==Nn&&Vx(t,e,i))&&("**"===i.path||Bx(t,i,e).matched)}(n,r,o,l)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,r,n,o,l,u):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,n,o,l):hf(r):hf(r)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const o=this.applyRedirects.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Zb(o):this.applyRedirects.lineralizeSegments(n,o).pipe((0,us.z)(l=>{const u=new Oi(l,{});return this.processSegment(t,e,u,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,l){const{matched:u,consumedSegments:f,remainingSegments:p,positionalParamSegments:b}=Bx(e,r,o);if(!u)return hf(e);const y=this.applyRedirects.applyRedirectCommands(f,r.redirectTo,b);return r.redirectTo.startsWith("/")?Zb(y):this.applyRedirects.lineralizeSegments(r,y).pipe((0,us.z)(x=>this.processSegment(t,n,e,x.concat(p),l,!1)))}matchSegmentAgainstRoute(t,e,n,r,o,l){let u;if("**"===n.path){const f=r.length>0?Rb(r).parameters:{},p=new Gb(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,UM(n),Mc(n),n.component??n._loadedComponent??null,n,Hx(n));u=(0,nn.of)({snapshot:p,consumedSegments:[],remainingSegments:[]}),e.children={}}else u=bk(e,n,r,t).pipe((0,wn.U)(({matched:f,consumedSegments:p,remainingSegments:b,parameters:y})=>f?{snapshot:new Gb(p,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,UM(n),Mc(n),n.component??n._loadedComponent??null,n,Hx(n)),consumedSegments:p,remainingSegments:b}:null));return u.pipe((0,Ki.w)(f=>null===f?hf(e):this.getChildConfig(t=n._injector??t,n,r).pipe((0,Ki.w)(({routes:p})=>{const b=n._loadedInjector??t,{snapshot:y,consumedSegments:x,remainingSegments:M}=f,{segmentGroup:A,slicedSegments:R}=OM(e,x,M,p);if(0===R.length&&A.hasChildren())return this.processChildren(b,p,A).pipe((0,wn.U)(k=>null===k?null:[new Cc(y,k)]));if(0===p.length&&0===R.length)return(0,nn.of)([new Cc(y,[])]);const I=Mc(n)===o;return this.processSegment(b,p,A,R,I?Nn:o,!0).pipe((0,wn.U)(k=>[new Cc(y,k)]))}))))}getChildConfig(t,e,n){return e.children?(0,nn.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,nn.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function bd(i,t,e,n){const r=t.canLoad;if(void 0===r||0===r.length)return(0,nn.of)(!0);const o=r.map(l=>{const u=Ou(l,i);return fl(function uk(i){return i&&Ws(i.canLoad)}(u)?u.canLoad(t,e):i.runInContext(()=>u(t,e)))});return(0,nn.of)(o).pipe(df(),uf())}(t,e,n).pipe((0,us.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,to.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function Xb(i){return Um(wM(!1,3))}())):(0,nn.of)({routes:[],injector:t})}}function PF(i){const t=i.value.routeConfig;return t&&""===t.path}function zx(i){const t=[],e=new Set;for(const n of i){if(!PF(n)){t.push(n);continue}const r=t.find(o=>n.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...n.children),e.add(r)):t.push(n)}for(const n of e){const r=zx(n.children);t.push(new Cc(n.value,r))}return t.filter(n=>!e.has(n))}function UM(i){return i.data||{}}function Hx(i){return i.resolve||{}}function GM(i){return"string"==typeof i.title||null===i.title}function ep(i){return(0,Ki.w)(t=>{const e=i(t);return e?(0,eo.D)(e).pipe((0,wn.U)(()=>t)):(0,nn.of)(t)})}const Tc=new c.OlP("ROUTES");let c_=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,nn.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const n=fl(e.loadComponent()).pipe((0,wn.U)(Jb),(0,to.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Hm(()=>{this.componentLoaders.delete(e)})),r=new Db(n,()=>new hn.x).pipe(Ab());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return(0,nn.of)({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const o=function l_(i,t,e,n){return fl(i.loadChildren()).pipe((0,wn.U)(Jb),(0,us.z)(r=>r instanceof c.YKP||Array.isArray(r)?(0,nn.of)(r):(0,eo.D)(t.compileModuleAsync(r))),(0,wn.U)(r=>{n&&n(i);let o,l,u=!1;return Array.isArray(r)?(l=r,!0):(o=r.create(e).injector,l=o.get(Tc,[],{optional:!0,self:!0}).flat()),{routes:l.map(jb),injector:o}}))}(n,this.compiler,e,this.onLoadEndListener).pipe(Hm(()=>{this.childrenLoaders.delete(n)})),l=new Db(o,()=>new hn.x).pipe(Ab());return this.childrenLoaders.set(n,l),l}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Jb(i){return function WM(i){return i&&"object"==typeof i&&"default"in i}(i)?i.default:i}let tp=(()=>{class i{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new hn.x,this.transitionAbortSubject=new hn.x,this.configLoader=(0,c.f3M)(c_),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(Gm),this.rootContexts=(0,c.f3M)(Qg),this.inputBindingEnabled=null!==(0,c.f3M)(Ix,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,nn.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new xx(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new yx(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:n})}setupNavigations(e,n,r){return this.transitions=new Go.X({id:0,currentUrlTree:n,currentRawUrl:n,currentBrowserUrl:n,extractedUrl:e.urlHandlingStrategy.extract(n),urlAfterRedirects:e.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:af,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Hr(o=>0!==o.id),(0,wn.U)(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),(0,Ki.w)(o=>{this.currentTransition=o;let l=!1,u=!1;return(0,nn.of)(o).pipe((0,to.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ki.w)(f=>{const p=f.currentBrowserUrl.toString(),b=!e.navigated||f.extractedUrl.toString()!==p||p!==f.currentUrlTree.toString();if(!b&&"reload"!==(f.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const x="";return this.events.next(new qg(f.id,this.urlSerializer.serialize(f.rawUrl),x,0)),f.resolve(null),Gs.E}if(e.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return(0,nn.of)(f).pipe((0,Ki.w)(x=>{const M=this.transitions?.getValue();return this.events.next(new Vb(x.id,this.urlSerializer.serialize(x.extractedUrl),x.source,x.restoredState)),M!==this.transitions?.getValue()?Gs.E:Promise.resolve(x)}),function BM(i,t,e,n,r,o){return(0,us.z)(l=>function FM(i,t,e,n,r,o,l="emptyOnly"){return new RF(i,t,e,n,r,l,o).recognize()}(i,t,e,n,l.extractedUrl,r,o).pipe((0,wn.U)(({state:u,tree:f})=>({...l,targetSnapshot:u,urlAfterRedirects:f}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,to.b)(x=>{o.targetSnapshot=x.targetSnapshot,o.urlAfterRedirects=x.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects};const M=new Zg(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(M)}));if(b&&e.urlHandlingStrategy.shouldProcessUrl(f.currentRawUrl)){const{id:x,extractedUrl:M,source:A,restoredState:R,extras:I}=f,k=new Vb(x,this.urlSerializer.serialize(M),A,R);this.events.next(k);const U=bM(0,this.rootComponentType).snapshot;return this.currentTransition=o={...f,targetSnapshot:U,urlAfterRedirects:M,extras:{...I,skipLocationChange:!1,replaceUrl:!1}},(0,nn.of)(o)}{const x="";return this.events.next(new qg(f.id,this.urlSerializer.serialize(f.extractedUrl),x,1)),f.resolve(null),Gs.E}}),(0,to.b)(f=>{const p=new ik(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),(0,wn.U)(f=>(this.currentTransition=o={...f,guards:Lx(f.targetSnapshot,f.currentSnapshot,this.rootContexts)},o)),function mk(i,t){return(0,us.z)(e=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:l}}=e;return 0===l.length&&0===o.length?(0,nn.of)({...e,guardsResult:!0}):function IM(i,t,e,n){return(0,eo.D)(i).pipe((0,us.z)(r=>function Qm(i,t,e,n,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,nn.of)(!0);const l=o.map(u=>{const f=$b(t)??r,p=Ou(u,f);return fl(function hk(i){return i&&Ws(i.canDeactivate)}(p)?p.canDeactivate(i,t,e,n):f.runInContext(()=>p(i,t,e,n))).pipe(Au())});return(0,nn.of)(l).pipe(df())}(r.component,r.route,e,t,n)),Au(r=>!0!==r,!0))}(l,n,r,i).pipe((0,us.z)(u=>u&&function DM(i){return"boolean"==typeof i}(u)?function kM(i,t,e,n){return(0,eo.D)(t).pipe(zm(r=>Tb(function gk(i,t){return null!==i&&t&&t(new Xg(i)),(0,nn.of)(!0)}(r.route.parent,n),function pk(i,t){return null!==i&&t&&t(new qm(i)),(0,nn.of)(!0)}(r.route,n),function RM(i,t,e){const n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(l=>function Pu(i){const t=i.routeConfig?i.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:i,guards:t}:null}(l)).filter(l=>null!==l).map(l=>Ug(()=>{const u=l.guards.map(f=>{const p=$b(l.node)??e,b=Ou(f,p);return fl(function Ao(i){return i&&Ws(i.canActivateChild)}(b)?b.canActivateChild(n,i):p.runInContext(()=>b(n,i))).pipe(Au())});return(0,nn.of)(u).pipe(df())}));return(0,nn.of)(o).pipe(df())}(i,r.path,e),function _k(i,t,e){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return(0,nn.of)(!0);const r=n.map(o=>Ug(()=>{const l=$b(t)??e,u=Ou(o,l);return fl(function AF(i){return i&&Ws(i.canActivate)}(u)?u.canActivate(t,i):l.runInContext(()=>u(t,i))).pipe(Au())}));return(0,nn.of)(r).pipe(df())}(i,r.route,e))),Au(r=>!0!==r,!0))}(n,o,i,t):(0,nn.of)(u)),(0,wn.U)(u=>({...e,guardsResult:u})))})}(this.environmentInjector,f=>this.events.next(f)),(0,to.b)(f=>{if(o.guardsResult=f.guardsResult,aa(f.guardsResult))throw Rx(0,f.guardsResult);const p=new vx(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(p)}),Hr(f=>!!f.guardsResult||(this.cancelNavigationTransition(f,"",3),!1)),ep(f=>{if(f.guards.canActivateChecks.length)return(0,nn.of)(f).pipe((0,to.b)(p=>{const b=new bx(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(b)}),(0,Ki.w)(p=>{let b=!1;return(0,nn.of)(p).pipe(function Xn(i,t){return(0,us.z)(e=>{const{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,nn.of)(e);let o=0;return(0,eo.D)(r).pipe(zm(l=>function VM(i,t,e,n){const r=i.routeConfig,o=i._resolve;return void 0!==r?.title&&!GM(r)&&(o[gd]=r.title),function zM(i,t,e,n){const r=function Jm(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}(i);if(0===r.length)return(0,nn.of)({});const o={};return(0,eo.D)(r).pipe((0,us.z)(l=>function HM(i,t,e,n){const r=$b(t)??n,o=Ou(i,r);return fl(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(i[l],t,e,n).pipe(Au(),(0,to.b)(u=>{o[l]=u}))),kb(1),function jI(i){return(0,wn.U)(()=>i)}(o),Du(l=>Yb(l)?Gs.E:Um(l)))}(o,i,t,n).pipe((0,wn.U)(l=>(i._resolvedData=l,i.data=Jg(i,e).resolve,r&&GM(r)&&(i.data[gd]=r.title),null)))}(l.route,n,i,t)),(0,to.b)(()=>o++),kb(1),(0,us.z)(l=>o===r.length?(0,nn.of)(e):Gs.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,to.b)({next:()=>b=!0,complete:()=>{b||this.cancelNavigationTransition(p,"",2)}}))}),(0,to.b)(p=>{const b=new Ym(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(b)}))}),ep(f=>{const p=b=>{const y=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,to.b)(x=>{b.component=x}),(0,wn.U)(()=>{})));for(const x of b.children)y.push(...p(x));return y};return Jh(p(f.targetSnapshot.root)).pipe(Ib(),Wo(1))}),ep(()=>this.afterPreactivation()),(0,wn.U)(f=>{const p=function n_(i,t,e){const n=i_(i,t._root,e?e._root:void 0);return new vM(n,t)}(e.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return this.currentTransition=o={...f,targetRouterState:p},o}),(0,to.b)(()=>{this.events.next(new Zm)}),((i,t,e,n)=>(0,wn.U)(r=>(new Sc(t,r.targetRouterState,r.currentRouterState,e,n).activate(i),r)))(this.rootContexts,e.routeReuseStrategy,f=>this.events.next(f),this.inputBindingEnabled),Wo(1),(0,to.b)({next:f=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ru(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects))),e.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{l=!0}}),Ii(this.transitionAbortSubject.pipe((0,to.b)(f=>{throw f}))),Hm(()=>{l||u||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Du(f=>{if(u=!0,EM(f))this.events.next(new Yg(o.id,this.urlSerializer.serialize(o.extractedUrl),f.message,f.cancellationCode)),function rk(i){return EM(i)&&aa(i.url)}(f)?this.events.next(new gM(f.url)):o.resolve(!1);else{this.events.next(new _x(o.id,this.urlSerializer.serialize(o.extractedUrl),f,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(f))}catch(p){o.reject(p)}}return Gs.E}))}))}cancelNavigationTransition(e,n,r){const o=new Yg(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(o),e.resolve(!1)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function ey(i){return i!==af}let Gx=(()=>{class i{buildTitle(e){let n,r=e.root;for(;void 0!==r;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(o=>o.outlet===Nn);return n}getResolvedTitleForRoute(e){return e.data[gd]}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:function(){return(0,c.f3M)(Wx)},providedIn:"root"})}return i})(),Wx=(()=>{class i extends Gx{constructor(e){super(),this.title=e}updateTitle(e){const n=this.buildTitle(e);void 0!==n&&this.title.setTitle(n)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(rt))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ek=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:function(){return(0,c.f3M)(Mk)},providedIn:"root"})}return i})();class Ck{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Mk=(()=>{class i extends Ck{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const d_=new c.OlP("",{providedIn:"root",factory:()=>({})});let Sk=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:function(){return(0,c.f3M)(Tk)},providedIn:"root"})}return i})(),Tk=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var u_=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(u_||{});function jM(i,t){i.events.pipe(Hr(e=>e instanceof Ru||e instanceof Yg||e instanceof _x||e instanceof qg),(0,wn.U)(e=>e instanceof Ru||e instanceof qg?u_.COMPLETE:e instanceof Yg&&(0===e.code||1===e.code)?u_.REDIRECTING:u_.FAILED),Hr(e=>e!==u_.REDIRECTING),Wo(1)).subscribe(()=>{t()})}function $M(i){throw i}function YM(i,t,e){return t.parse("/")}const Ak={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Dk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $i=(()=>{class i{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this._events=new hn.x,this.options=(0,c.f3M)(d_,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||$M,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||YM,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(Sk),this.routeReuseStrategy=(0,c.f3M)(Ek),this.titleStrategy=(0,c.f3M)(Gx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(Tc,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(tp),this.urlSerializer=(0,c.f3M)(Gm),this.location=(0,c.f3M)(At),this.componentInputBindingEnabled=!!(0,c.f3M)(Ix,{optional:!0}),this.eventsSubscription=new ds.w0,this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new nf,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=bM(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(n=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(qM(n)&&this._events.next(n));if(n instanceof Vb)ey(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(n instanceof qg)this.rawUrlTree=r.rawUrl;else if(n instanceof Zg){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(n instanceof Zm)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(n instanceof Yg)0!==n.code&&1!==n.code&&(this.navigated=!0),(3===n.code||2===n.code)&&this.restoreHistory(r);else if(n instanceof gM){const o=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),l={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ey(r.source)};this.scheduleNavigation(o,af,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}n instanceof _x&&this.restoreHistory(r,!0),n instanceof Ru&&(this.navigated=!0),qM(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),af,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const n="popstate"===e.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,n,e.state)},0)}))}navigateToSyncWithBrowser(e,n,r){const o={replaceUrl:!0},l=r?.navigationId?r:null;if(r){const f={...r};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(o.state=f)}const u=this.parseUrl(e);this.scheduleNavigation(u,n,l,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(jb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){const{relativeTo:r,queryParams:o,fragment:l,queryParamsHandling:u,preserveFragment:f}=n,p=f?this.currentUrlTree.fragment:l;let y,b=null;switch(u){case"merge":b={...this.currentUrlTree.queryParams,...o};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=o||null}null!==b&&(b=this.removeEmptyProps(b));try{y=Fb(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),y=this.currentUrlTree.root}return Gg(y,e,b,p??null)}navigateByUrl(e,n={skipLocationChange:!1}){const r=aa(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,af,null,n)}navigate(e,n={skipLocationChange:!1}){return function Ik(i){for(let t=0;t<i.length;t++)if(null==i[t])throw new c.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let n;try{n=this.urlSerializer.parse(e)}catch(r){n=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return n}isActive(e,n){let r;if(r=!0===n?{...Ak}:!1===n?{...Dk}:n,aa(e))return dx(this.currentUrlTree,e,r);const o=this.parseUrl(e);return dx(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((n,r)=>{const o=e[r];return null!=o&&(n[r]=o),n},{})}scheduleNavigation(e,n,r,o,l){if(this.disposed)return Promise.resolve(!1);let u,f,p;l?(u=l.resolve,f=l.reject,p=l.promise):p=new Promise((y,x)=>{u=y,f=x});const b=this.pendingTasks.add();return jM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(b))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:o,resolve:u,reject:f,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(y=>Promise.reject(y))}setBrowserUrl(e,n){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){const l={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(r,"",l)}else{const o={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,n=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function qM(i){return!(i instanceof Zm||i instanceof gM)}let h_=(()=>{class i{constructor(e,n,r,o,l,u){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=o,this.el=l,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new hn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const f=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===f||"area"===f,this.isAnchorElement?this.subscription=e.events.subscribe(p=>{p instanceof Ru&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,n,r,o,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||n||r||o||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,n){const r=this.renderer,o=this.el.nativeElement;null!==n?r.setAttribute(o,e,n):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36($i),c.Y36(Xm),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(yt))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&c.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&n&&c.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",c.VuI],replaceUrl:["replaceUrl","replaceUrl",c.VuI],routerLink:"routerLink"},standalone:!0,features:[c.Xq5,c.TTD]})}return i})();class XM{}let KM=(()=>{class i{constructor(e,n,r,o,l){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Hr(e=>e instanceof Ru),zm(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){const r=[];for(const o of n){o.providers&&!o._injector&&(o._injector=(0,c.MMx)(o.providers,e,`Route: ${o.path}`));const l=o._injector??e,u=o._loadedInjector??l;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(l,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(u,o.children??o._loadedRoutes))}return(0,eo.D)(r).pipe((0,ul.J)())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;r=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(e,n):(0,nn.of)(null);const o=r.pipe((0,us.z)(l=>null===l?(0,nn.of)(void 0):(n._loadedRoutes=l.routes,n._loadedInjector=l.injector,this.processRoutes(l.injector??e,l.routes))));if(n.loadComponent&&!n._loadedComponent){const l=this.loader.loadComponent(n);return(0,eo.D)([o,l]).pipe((0,ul.J)())}return o})}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG($i),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(XM),c.LFG(c_))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const $x=new c.OlP("");let QM=(()=>{class i{constructor(e,n,r,o,l={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Vb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ru?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof qg&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Hb&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Hb(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){c.$Z()};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();function yd(i,t){return{\u0275kind:i,\u0275providers:t}}function ty(){const i=(0,c.f3M)(c.zs3);return t=>{const e=i.get(c.z2F);if(t!==e.components[0])return;const n=i.get($i),r=i.get(tS);1===i.get(ny)&&n.initialNavigation(),i.get(f_,null,c.XFs.Optional)?.setUpPreloading(),i.get($x,null,c.XFs.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const tS=new c.OlP("",{factory:()=>new hn.x}),ny=new c.OlP("",{providedIn:"root",factory:()=>1}),f_=new c.OlP("");function Yx(i){return yd(0,[{provide:f_,useExisting:KM},{provide:XM,useExisting:i}])}const iy=new c.OlP("ROUTER_FORROOT_GUARD"),wd=[At,{provide:Gm,useClass:Pb},$i,Qg,{provide:Xm,useFactory:function eS(i){return i.routerState.root},deps:[$i]},c_,[]];function Fk(){return new c.PXZ("Router",$i)}let qx=(()=>{class i{constructor(e){}static forRoot(e,n){return{ngModule:i,providers:[wd,[],{provide:Tc,multi:!0,useValue:e},{provide:iy,useFactory:Bk,deps:[[$i,new c.FiY,new c.tp0]]},{provide:d_,useValue:n||{}},n?.useHash?{provide:yt,useClass:ht}:{provide:yt,useClass:Ft},{provide:$x,useFactory:()=>{const i=(0,c.f3M)(Er),t=(0,c.f3M)(c.R0b),e=(0,c.f3M)(d_),n=(0,c.f3M)(tp),r=(0,c.f3M)(Gm);return e.scrollOffset&&i.setOffset(e.scrollOffset),new QM(r,n,i,t,e)}},n?.preloadingStrategy?Yx(n.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:Fk},n?.initialNavigation?ry(n):[],n?.bindToComponentInputs?yd(8,[xM,{provide:Ix,useExisting:xM}]).\u0275providers:[],[{provide:np,useFactory:ty},{provide:c.tb,multi:!0,useExisting:np}]]}}static forChild(e){return{ngModule:i,providers:[{provide:Tc,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(iy,8))};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({})}return i})();function Bk(i){return"guarded"}function ry(i){return["disabled"===i.initialNavigation?yd(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const t=(0,c.f3M)($i);return()=>{t.setUpLocationChangeListener()}}},{provide:ny,useValue:2}]).\u0275providers:[],"enabledBlocking"===i.initialNavigation?yd(2,[{provide:ny,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:t=>{const e=t.get(mt,Promise.resolve());return()=>e.then(()=>new Promise(n=>{const r=t.get($i),o=t.get(tS);jM(r,()=>{n(!0)}),t.get(tp).afterPreactivation=()=>(n(!0),o.closed?(0,nn.of)(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const np=new c.OlP("");let Kx;try{Kx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Kx=!1}let ml,rr=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Hf(i){return i===ea}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Kx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const sS=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Qx(){if(ml)return ml;if("object"!=typeof document||!document)return ml=new Set(sS),ml;let i=document.createElement("input");return ml=new Set(sS.filter(t=>(i.setAttribute("type",t),i.type===t))),ml}let ip,mf,Jx;function ff(i){return function Gk(){if(null==ip&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ip=!0}))}finally{ip=ip||!1}return ip}()?i:!!i.capture}function Wk(){if(null==mf){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return mf=!1,mf;if("scrollBehavior"in document.documentElement.style)mf=!0;else{const i=Element.prototype.scrollTo;mf=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return mf}function oy(){let i=typeof document<"u"&&document?document.activeElement:null;for(;i&&i.shadowRoot;){const t=i.shadowRoot.activeElement;if(t===i)break;i=t}return i}function Lu(i){return i.composedPath?i.composedPath()[0]:i.target}function sy(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Dc(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}var cp=j(6321);function hy(i,t=cp.z){return(0,mo.e)((e,n)=>{let r=null,o=null,l=null;const u=()=>{if(r){r.unsubscribe(),r=null;const p=o;o=null,n.next(p)}};function f(){const p=l+i,b=t.now();if(b<p)return r=this.schedule(void 0,p-b),void n.add(r);u()}e.subscribe((0,fo.x)(n,p=>{o=p,l=t.now(),r||(r=t.schedule(f,i),n.add(r))},()=>{u(),n.complete()},void 0,()=>{o=r=null}))})}function lw(i){return Hr((t,e)=>i<=e)}var fy=j(3997);function Hn(i){return null!=i&&"false"!=`${i}`}function js(i,t=0){return dw(i)?Number(i):t}function dw(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function M_(i){return Array.isArray(i)?i:[i]}function Gr(i){return null==i?"":"string"==typeof i?i:`${i}px`}function Ua(i){return i instanceof c.SBq?i.nativeElement:i}let SS=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Cd=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:[SS]})}return i})();const AS=new Set;let Md,w2=(()=>{class i{constructor(e,n){this._platform=e,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ER}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function E2(i,t){if(!AS.has(i))try{Md||(Md=document.createElement("style"),t&&(Md.nonce=t),Md.setAttribute("type","text/css"),document.head.appendChild(Md)),Md.sheet&&(Md.sheet.insertRule(`@media ${i} {body{ }}`,0),AS.add(i))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(rr),c.LFG(c.Ojb,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function ER(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let CR=(()=>{class i{constructor(e,n){this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new hn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return hw(M_(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=Jh(hw(M_(e)).map(l=>this._registerQuery(l).observable));return o=Tb(o.pipe(Wo(1)),o.pipe(lw(1),hy(0))),o.pipe((0,wn.U)(l=>{const u={matches:!1,breakpoints:{}};return l.forEach(({matches:f,query:p})=>{u.matches=u.matches||f,u.breakpoints[p]=f}),u}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const n=this._mediaMatcher.matchMedia(e),o={observable:new Ho.y(l=>{const u=f=>this._zone.run(()=>l.next(f));return n.addListener(u),()=>{n.removeListener(u)}}).pipe(Bm(n),(0,wn.U)(({matches:l})=>({query:e,matches:l})),Ii(this._destroySubject)),mql:n};return this._queries.set(e,o),o}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(w2),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function hw(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function fw(i,t,e){const n=my(i,t);n.some(r=>r.trim()==e.trim())||(n.push(e.trim()),i.setAttribute(t,n.join(" ")))}function mw(i,t,e){const r=my(i,t).filter(o=>o!=e.trim());r.length?i.setAttribute(t,r.join(" ")):i.removeAttribute(t)}function my(i,t){return(i.getAttribute(t)||"").match(/\S+/g)||[]}const DS="cdk-describedby-message",S_="cdk-describedby-host";let py=0,gf=(()=>{class i{constructor(e,n){this._platform=n,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+py++,this._document=e,this._id=(0,c.f3M)(c.AFp)+"-"+py++}describe(e,n,r){if(!this._canBeDescribed(e,n))return;const o=pw(n,r);"string"!=typeof n?(IS(n,this._id),this._messageRegistry.set(o,{messageElement:n,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(n,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,n,r){if(!n||!this._isElementNode(e))return;const o=pw(n,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof n){const l=this._messageRegistry.get(o);l&&0===l.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${S_}="${this._id}"]`);for(let n=0;n<e.length;n++)this._removeCdkDescribedByReferenceIds(e[n]),e[n].removeAttribute(S_);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,n){const r=this._document.createElement("div");IS(r,this._id),r.textContent=e,n&&r.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(pw(e,n),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<n.length;o++)n[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const n=my(e,"aria-describedby").filter(r=>0!=r.indexOf(DS));e.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(e,n){const r=this._messageRegistry.get(n);fw(e,"aria-describedby",r.messageElement.id),e.setAttribute(S_,this._id),r.referenceCount++}_removeMessageReference(e,n){const r=this._messageRegistry.get(n);r.referenceCount--,mw(e,"aria-describedby",r.messageElement.id),e.removeAttribute(S_)}_isElementDescribedByMessage(e,n){const r=my(e,"aria-describedby"),o=this._messageRegistry.get(n),l=o&&o.messageElement.id;return!!l&&-1!=r.indexOf(l)}_canBeDescribed(e,n){if(!this._isElementNode(e))return!1;if(n&&"object"==typeof n)return!0;const r=null==n?"":`${n}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(we),c.LFG(rr))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function pw(i,t){return"string"==typeof i?`${t||""}/${i}`:i}function IS(i,t){i.id||(i.id=`${DS}-${t}-${py++}`)}class gw{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new hn.x,this._typeaheadSubscription=ds.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new hn.x,this.change=new hn.x,t instanceof c.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,to.b)(e=>this._pressedLetters.push(e)),hy(t),Hr(()=>this._pressedLetters.length>0),(0,wn.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const n=this._getItemsArray();for(let r=1;r<n.length+1;r++){const o=(this._activeItemIndex+r)%n.length,l=n[o];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(o<l?o:l-1,-1);break}return;default:return void((r||Dc(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t);this._activeItem=e[n]??null,this._activeItemIndex=n}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}class SR extends gw{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let lp=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function pl(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const n=function _w(i){try{return i.frameElement}catch{return null}}(function IR(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(e));if(n&&(-1===bw(n)||!this.isVisible(n)))return!1;let r=e.nodeName.toLowerCase(),o=bw(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function AR(i){let t=i.nodeName.toLowerCase(),e="input"===t&&i.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,n){return function DR(i){return!function RS(i){return function Ic(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function TR(i){let t=i.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(i)||function gl(i){return function kc(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||vw(i))}(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(rr))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function vw(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let t=i.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function bw(i){if(!vw(i))return null;const t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class kR{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,n,r,o=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return n?.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=0;n<e.length;n++){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=e.length-1;n>=0;n--){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Wo(1)).subscribe(t)}}let T_=(()=>{class i{constructor(e,n,r){this._checker=e,this._ngZone=n,this._document=r}create(e,n=!1){return new kR(e,this._checker,this._ngZone,this._document,n)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(lp),c.LFG(c.R0b),c.LFG(we))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function yw(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}function A_(i){const t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const OR=new c.OlP("cdk-input-modality-detector-options"),PS={ignoreKeys:[18,17,224,91,16]},_f=ff({passive:!0,capture:!0});let NR=(()=>{class i{get mostRecentModality(){return this._modality.value}constructor(e,n,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Go.X(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(u=>u===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Lu(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(yw(l)?"keyboard":"mouse"),this._mostRecentTarget=Lu(l))},this._onTouchstart=l=>{A_(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Lu(l))},this._options={...PS,...o},this.modalityDetected=this._modality.pipe(lw(1)),this.modalityChanged=this.modalityDetected.pipe((0,fy.x)()),e.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,_f),r.addEventListener("mousedown",this._onMousedown,_f),r.addEventListener("touchstart",this._onTouchstart,_f)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,_f),document.removeEventListener("mousedown",this._onMousedown,_f),document.removeEventListener("touchstart",this._onTouchstart,_f))}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(rr),c.LFG(c.R0b),c.LFG(we),c.LFG(OR,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const LR=new c.OlP("liveAnnouncerElement",{providedIn:"root",factory:function ww(){return null}}),_y=new c.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let OS=0,NS=(()=>{class i{constructor(e,n,r,o){this._ngZone=n,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...n){const r=this._defaultOptions;let o,l;return 1===n.length&&"number"==typeof n[0]?l=n[0]:[o,l]=n,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==l&&r&&(l=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(u=>this._currentResolve=u)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof l&&(this._previousTimeout=setTimeout(()=>this.clear(),l)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<n.length;o++)n[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+OS++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){const o=n[r],l=o.getAttribute("aria-owns");l?-1===l.indexOf(e)&&o.setAttribute("aria-owns",l+" "+e):o.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(LR,8),c.LFG(c.R0b),c.LFG(we),c.LFG(_y,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const LS=new c.OlP("cdk-focus-monitor-default-options"),D_=ff({passive:!0,capture:!0});let Fu=(()=>{class i{constructor(e,n,r,o,l){this._ngZone=e,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new hn.x,this._rootNodeFocusAndBlurListener=u=>{for(let p=Lu(u);p;p=p.parentElement)"focus"===u.type?this._onFocus(u,p):this._onBlur(u,p)},this._document=o,this._detectionMode=l?.detectionMode||0}monitor(e,n=!1){const r=Ua(e);if(!this._platform.isBrowser||1!==r.nodeType)return(0,nn.of)();const o=function $k(i){if(function jk(){if(null==Jx){const i=typeof document<"u"?document.head:null;Jx=!(!i||!i.createShadowRoot&&!i.attachShadow)}return Jx}()){const t=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return n&&(l.checkChildren=!0),l.subject;const u={checkChildren:n,subject:new hn.x,rootNode:o};return this._elementInfo.set(r,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(e){const n=Ua(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){const o=Ua(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([u,f])=>this._originChanged(u,n,f)):(this._setOrigin(n),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused","touch"===n),e.classList.toggle("cdk-keyboard-focused","keyboard"===n),e.classList.toggle("cdk-mouse-focused","mouse"===n),e.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,n){const r=this._elementInfo.get(n),o=Lu(e);!r||!r.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),r)}_onBlur(e,n){const r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,D_),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,D_)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ii(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,D_),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,D_),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){const n=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&n.push([o,r])}),n}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!n||n===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let l=0;l<o.length;l++)if(o[l].contains(n))return!0;return!1}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(c.R0b),c.LFG(rr),c.LFG(NR),c.LFG(we,8),c.LFG(LS,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Ew="cdk-high-contrast-black-on-white",Cw="cdk-high-contrast-white-on-black",Mw="cdk-high-contrast-active";let FS=(()=>{class i{constructor(e,n){this._platform=e,this._document=n,this._breakpointSubscription=(0,c.f3M)(CR).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Mw,Ew,Cw),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?e.add(Mw,Ew):2===n&&e.add(Mw,Cw)}}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(rr),c.LFG(we))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),US=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(FS))};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[Cd]})}return i})();const BR=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function VR(){return(0,c.f3M)(we)}}),zR=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Uu=(()=>{class i{constructor(e){this.value="ltr",this.change=new c.vpe,e&&(this.value=function HR(i){const t=i?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?zR.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(BR,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),I_=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({})}return i})();const GR=["text"];function WR(i,t){if(1&i&&c._UZ(0,"mat-pseudo-checkbox",6),2&i){const e=c.oxw();c.Q6J("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function jR(i,t){if(1&i&&c._UZ(0,"mat-pseudo-checkbox",7),2&i){const e=c.oxw();c.Q6J("disabled",e.disabled)}}function $R(i,t){if(1&i&&(c.TgZ(0,"span",8),c._uU(1),c.qZA()),2&i){const e=c.oxw();c.xp6(1),c.hij("(",e.group.label,")")}}const VS=[[["mat-icon"]],"*"],zS=["mat-icon","*"];let HS=(()=>{class i{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return i})(),GS=(()=>{class i{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return i})();const jS=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function WS(){return!0}});let pi=(()=>{class i{constructor(e,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!sy()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(FS),c.LFG(jS,8),c.LFG(we))};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[I_,I_]})}return i})();function Ba(i){return class extends i{get disabled(){return this._disabled}set disabled(t){this._disabled=Hn(t)}constructor(...t){super(...t),this._disabled=!1}}}function Tw(i,t){return class extends i{get color(){return this._color}set color(e){const n=e||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function vy(i){return class extends i{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Hn(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function Bu(i,t=0){return class extends i{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?js(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function qR(i){return class extends i{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}function by(i){return class extends i{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Ho.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}let P_=(()=>{class i{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class KR{constructor(t,e,n,r=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Dw=ff({passive:!0,capture:!0});class ZS{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Lu(t);e&&this._events.get(t.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,n,r){const o=this._events.get(e);if(o){const l=o.get(n);l?l.add(r):o.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Dw)})}removeHandler(t,e,n){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(n),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Dw)))}}const Iw={enterDuration:225,exitDuration:150},KS=ff({passive:!0,capture:!0}),QS=["mousedown","touchstart"],JS=["mouseup","mouseleave","touchend","touchcancel"];class Sd{static#e=this._eventManager=new ZS;constructor(t,e,n,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ua(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...Iw,...n.animation};n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const l=n.radius||function QR(i,t,e){const n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+r*r)}(t,e,r),u=t-r.left,f=e-r.top,p=o.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=u-l+"px",b.style.top=f-l+"px",b.style.height=2*l+"px",b.style.width=2*l+"px",null!=n.color&&(b.style.backgroundColor=n.color),b.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(b);const y=window.getComputedStyle(b),M=y.transitionDuration,A="none"===y.transitionProperty||"0s"===M||"0s, 0s"===M||0===r.width&&0===r.height,R=new KR(this,b,n,A);b.style.transform="scale3d(1, 1, 1)",R.state=0,n.persistent||(this._mostRecentTransientRipple=R);let I=null;return!A&&(p||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const k=()=>this._finishRippleTransition(R),U=()=>this._destroyRipple(R);b.addEventListener("transitionend",k),b.addEventListener("transitioncancel",U),I={onTransitionEnd:k,onTransitionCancel:U}}),this._activeRipples.set(R,I),(A||!p)&&this._finishRippleTransition(R),R}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,n={...Iw,...t.config.animation};e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ua(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,QS.forEach(n=>{Sd._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{JS.forEach(e=>{this._triggerElement.addEventListener(e,this,KS)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=1,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=yw(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!A_(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(QS.forEach(e=>Sd._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&JS.forEach(e=>t.removeEventListener(e,this,KS)))}}const yy=new c.OlP("mat-ripple-global-options");let O_=(()=>{class i{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,n,r,o,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Sd(this,n,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,n,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(rr),c.Y36(yy,8),c.Y36(c.QbO,8))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){2&n&&c.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return i})(),Td=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[pi,pi]})}return i})(),eT=(()=>{class i{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.QbO,8))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(n,r){2&n&&c.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(n,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return i})(),kw=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[pi]})}return i})();const Rw=new c.OlP("MAT_OPTION_PARENT_COMPONENT"),tT=new c.OlP("MatOptgroup");let JR=0;class nT{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let iT=(()=>{class i{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Hn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,n,r,o){this._element=e,this._changeDetectorRef=n,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+JR++,this.onSelectionChange=new c.vpe,this._stateChanges=new hn.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,n){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Dc(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new nT(this,e))}static#e=this.\u0275fac=function(n){c.$Z()};static#t=this.\u0275dir=c.lG2({type:i,viewQuery:function(n,r){if(1&n&&c.Gf(GR,7),2&n){let o;c.iGM(o=c.CRH())&&(r._text=o.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return i})(),Ey=(()=>{class i extends iT{constructor(e,n,r,o){super(e,n,r,o)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Rw,8),c.Y36(tT,8))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(n,r){1&n&&c.NdJ("click",function(){return r._selectViaInteraction()})("keydown",function(l){return r._handleKeydown(l)}),2&n&&(c.Ikx("id",r.id),c.uIk("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),c.ekj("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[c.qOj],ngContentSelectors:zS,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(n,r){1&n&&(c.F$t(VS),c.YNc(0,WR,1,2,"mat-pseudo-checkbox",0),c.Hsn(1),c.TgZ(2,"span",1,2),c.Hsn(4,1),c.qZA(),c.YNc(5,jR,1,1,"mat-pseudo-checkbox",3),c.YNc(6,$R,2,1,"span",4),c._UZ(7,"div",5)),2&n&&(c.Q6J("ngIf",r.multiple),c.xp6(5),c.Q6J("ngIf",!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator),c.xp6(1),c.Q6J("ngIf",r.group&&r.group._inert),c.xp6(1),c.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[O_,co,eT],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return i})(),oT=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[Td,li,pi,kw]})}return i})();const sT={capture:!0},t1=["focus","click","mouseenter","touchstart"],aT="mat-ripple-loader-uninitialized",cT="mat-ripple-loader-class-name",n1="mat-ripple-loader-centered",N_="mat-ripple-loader-disabled";let Cy=(()=>{class i{constructor(){this._document=(0,c.f3M)(we,{optional:!0}),this._animationMode=(0,c.f3M)(c.QbO,{optional:!0}),this._globalRippleOptions=(0,c.f3M)(yy,{optional:!0}),this._platform=(0,c.f3M)(rr),this._ngZone=(0,c.f3M)(c.R0b),this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${aT}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of t1)this._document?.addEventListener(e,this._onInteraction,sT)})}ngOnDestroy(){for(const e of t1)this._document?.removeEventListener(e,this._onInteraction,sT)}configureRipple(e,n){e.setAttribute(aT,""),(n.className||!e.hasAttribute(cT))&&e.setAttribute(cT,n.className||""),n.centered&&e.setAttribute(n1,""),n.disabled&&e.setAttribute(N_,"")}getRipple(e){return e.matRipple?e.matRipple:this.createRipple(e)}setDisabled(e,n){const r=e.matRipple;r?r.disabled=n:n?e.setAttribute(N_,""):e.removeAttribute(N_)}createRipple(e){if(!this._document)return;e.querySelector(".mat-ripple")?.remove();const n=this._document.createElement("span");n.classList.add("mat-ripple",e.getAttribute(cT)),e.append(n);const r=new O_(new c.SBq(n),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,r.centered=e.hasAttribute(n1),r.disabled=e.hasAttribute(N_),this.attachRipple(e,r),r}attachRipple(e,n){e.removeAttribute(aT),e.matRipple=n}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const lT=["mat-button",""],dT=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Pw=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],uT=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",V2=["mat-icon-button",""],r1=["*"],F_=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],s1=Tw(Ba(vy(class{constructor(i){this._elementRef=i}})));let My=(()=>{class i extends s1{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Hn(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=Hn(e),this._updateRippleDisabled()}constructor(e,n,r,o){super(e),this._platform=n,this._ngZone=r,this._animationMode=o,this._focusMonitor=(0,c.f3M)(Fu),this._rippleLoader=(0,c.f3M)(Cy),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const l=e.nativeElement.classList;for(const u of F_)this._hasHostAttributes(u.selector)&&u.mdcClasses.forEach(f=>{l.add(f)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_hasHostAttributes(...e){return e.some(n=>this._elementRef.nativeElement.hasAttribute(n))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(n){c.$Z()};static#t=this.\u0275dir=c.lG2({type:i,features:[c.qOj]})}return i})(),l1=(()=>{class i extends My{constructor(e,n,r,o){super(e,n,r,o),this._haltDisabledEvents=l=>{this.disabled&&(l.preventDefault(),l.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}static#e=this.\u0275fac=function(n){c.$Z()};static#t=this.\u0275dir=c.lG2({type:i,features:[c.qOj]})}return i})(),vf=(()=>{class i extends My{constructor(e,n,r,o){super(e,n,r,o)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(rr),c.Y36(c.R0b),c.Y36(c.QbO,8))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(n,r){2&n&&(c.uIk("disabled",r.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:lT,ngContentSelectors:Pw,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(c.F$t(dT),c._UZ(0,"span",0),c.Hsn(1),c.TgZ(2,"span",1),c.Hsn(3,1),c.qZA(),c.Hsn(4,2),c._UZ(5,"span",2)(6,"span",3)),2&n&&c.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return i})(),Sy=(()=>{class i extends l1{constructor(e,n,r,o){super(e,n,r,o)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(rr),c.Y36(c.R0b),c.Y36(c.QbO,8))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(n,r){2&n&&(c.uIk("disabled",r.disabled||null)("tabindex",r.disabled?-1:r.tabIndex)("aria-disabled",r.disabled.toString()),c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[c.qOj],attrs:lT,ngContentSelectors:Pw,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(c.F$t(dT),c._UZ(0,"span",0),c.Hsn(1),c.TgZ(2,"span",1),c.Hsn(3,1),c.qZA(),c.Hsn(4,2),c._UZ(5,"span",2)(6,"span",3)),2&n&&c.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',uT],encapsulation:2,changeDetection:0})}return i})(),f1=(()=>{class i extends My{constructor(e,n,r,o){super(e,n,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(rr),c.Y36(c.R0b),c.Y36(c.QbO,8))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(n,r){2&n&&(c.uIk("disabled",r.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:V2,ngContentSelectors:r1,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(c.F$t(),c._UZ(0,"span",0),c.Hsn(1),c._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',uT],encapsulation:2,changeDetection:0})}return i})(),Ow=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[pi,Td,pi]})}return i})();var Ad=j(5861);const pT=1,b1=2,_l=3,Hw=0,I1=1,k1=2,Id=0,R1=1,P1=2,O1=3,N1=4,L1=5,Gu=301,Rc=302,fp=306,kd=1e3,ms=1001,io=1003,ro=1006,Pc=1008,Oc=1009,Va=1014,Rd=1015,z_=1016,Wu=1020,la=1023,bf=1026,yf=1027,xf=3001,Wr="srgb",Nc="srgb-linear",zT="display-p3",$_="display-p3-linear",Vy="linear",nr="srgb",Od="rec709",zy="p3",$u=7680,uE="300 es",bl=2e3;class yl{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const r=this._listeners[t];if(void 0!==r){const o=r.indexOf(e);-1!==o&&r.splice(o,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const n=this._listeners[t.type];if(void 0!==n){t.target=this;const r=n.slice(0);for(let o=0,l=r.length;o<l;o++)r[o].call(this,t);t.target=null}}}const gs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],gp=Math.PI/180,_p=180/Math.PI;function Ys(){const i=4294967295*Math.random()|0,t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(gs[255&i]+gs[i>>8&255]+gs[i>>16&255]+gs[i>>24&255]+"-"+gs[255&t]+gs[t>>8&255]+"-"+gs[t>>16&15|64]+gs[t>>24&255]+"-"+gs[63&e|128]+gs[e>>8&255]+"-"+gs[e>>16&255]+gs[e>>24&255]+gs[255&n]+gs[n>>8&255]+gs[n>>16&255]+gs[n>>24&255]).toLowerCase()}function Ir(i,t,e){return Math.max(t,Math.min(e,i))}function Z_(i,t,e){return(1-e)*i+e*t}function mE(i){return 0==(i&i-1)&&0!==i}function Wy(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function qs(i,t){switch(t.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function ni(i,t){switch(t.constructor){case Float32Array:return i;case Uint32Array:return Math.round(4294967295*i);case Uint16Array:return Math.round(65535*i);case Uint8Array:return Math.round(255*i);case Int32Array:return Math.round(2147483647*i);case Int16Array:return Math.round(32767*i);case Int8Array:return Math.round(127*i);default:throw new Error("Invalid component type.")}}const fP_DEG2RAD=gp;class et{constructor(t=0,e=0){et.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(Ir(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),r=Math.sin(e),o=this.x-t.x,l=this.y-t.y;return this.x=o*n-l*r+t.x,this.y=o*r+l*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class si{constructor(t,e,n,r,o,l,u,f,p){si.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,e,n,r,o,l,u,f,p)}set(t,e,n,r,o,l,u,f,p){const b=this.elements;return b[0]=t,b[1]=r,b[2]=u,b[3]=e,b[4]=o,b[5]=f,b[6]=n,b[7]=l,b[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,o=this.elements,l=n[0],u=n[3],f=n[6],p=n[1],b=n[4],y=n[7],x=n[2],M=n[5],A=n[8],R=r[0],I=r[3],k=r[6],U=r[1],O=r[4],B=r[7],W=r[2],Z=r[5],q=r[8];return o[0]=l*R+u*U+f*W,o[3]=l*I+u*O+f*Z,o[6]=l*k+u*B+f*q,o[1]=p*R+b*U+y*W,o[4]=p*I+b*O+y*Z,o[7]=p*k+b*B+y*q,o[2]=x*R+M*U+A*W,o[5]=x*I+M*O+A*Z,o[8]=x*k+M*B+A*q,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],r=t[2],o=t[3],l=t[4],u=t[5],f=t[6],p=t[7],b=t[8];return e*l*b-e*u*p-n*o*b+n*u*f+r*o*p-r*l*f}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],o=t[3],l=t[4],u=t[5],f=t[6],p=t[7],b=t[8],y=b*l-u*p,x=u*f-b*o,M=p*o-l*f,A=e*y+n*x+r*M;if(0===A)return this.set(0,0,0,0,0,0,0,0,0);const R=1/A;return t[0]=y*R,t[1]=(r*p-b*n)*R,t[2]=(u*n-r*l)*R,t[3]=x*R,t[4]=(b*e-r*f)*R,t[5]=(r*o-u*e)*R,t[6]=M*R,t[7]=(n*f-p*e)*R,t[8]=(l*e-n*o)*R,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,r,o,l,u){const f=Math.cos(o),p=Math.sin(o);return this.set(n*f,n*p,-n*(f*l+p*u)+l+t,-r*p,r*f,-r*(-p*l+f*u)+u+e,0,0,1),this}scale(t,e){return this.premultiply(K_.makeScale(t,e)),this}rotate(t){return this.premultiply(K_.makeRotation(-t)),this}translate(t,e){return this.premultiply(K_.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,n,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,n=t.elements;for(let r=0;r<9;r++)if(e[r]!==n[r])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}const K_=new si;function YT(i){for(let t=i.length-1;t>=0;--t)if(i[t]>=65535)return!0;return!1}function vp(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function u3(){const i=vp("canvas");return i.style.display="block",i}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const As={};function bp(i){i in As||(As[i]=!0,console.warn(i))}const pE=(new si).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),qT=(new si).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Q_={[Nc]:{transfer:Vy,primaries:Od,toReference:i=>i,fromReference:i=>i},[Wr]:{transfer:nr,primaries:Od,toReference:i=>i.convertSRGBToLinear(),fromReference:i=>i.convertLinearToSRGB()},[$_]:{transfer:Vy,primaries:zy,toReference:i=>i.applyMatrix3(qT),fromReference:i=>i.applyMatrix3(pE)},[zT]:{transfer:nr,primaries:zy,toReference:i=>i.convertSRGBToLinear().applyMatrix3(qT),fromReference:i=>i.applyMatrix3(pE).convertLinearToSRGB()}},pP=new Set([Nc,$_]),Ni={enabled:!0,_workingColorSpace:Nc,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(i){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!i},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(i){if(!pP.has(i))throw new Error(`Unsupported working color space, "${i}".`);this._workingColorSpace=i},convert:function(i,t,e){return!1!==this.enabled&&t!==e&&t&&e?(0,Q_[e].fromReference)((0,Q_[t].toReference)(i)):i},fromWorkingColorSpace:function(i,t){return this.convert(i,this._workingColorSpace,t)},toWorkingColorSpace:function(i,t){return this.convert(i,t,this._workingColorSpace)},getPrimaries:function(i){return Q_[i].primaries},getTransfer:function(i){return""===i?Vy:Q_[i].transfer}};function da(i){return i<.04045?.0773993808*i:Math.pow(.9478672986*i+.0521327014,2.4)}function jy(i){return i<.0031308?12.92*i:1.055*Math.pow(i,.41666)-.055}let Yu;class $y{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===Yu&&(Yu=vp("canvas")),Yu.width=t.width,Yu.height=t.height;const n=Yu.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=Yu}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=vp("canvas");e.width=t.width,e.height=t.height;const n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);const r=n.getImageData(0,0,t.width,t.height),o=r.data;for(let l=0;l<o.length;l++)o[l]=255*da(o[l]/255);return n.putImageData(r,0,0),e}if(t.data){const e=t.data.slice(0);for(let n=0;n<e.length;n++)e[n]=e instanceof Uint8Array||e instanceof Uint8ClampedArray?Math.floor(255*da(e[n]/255)):da(e[n]);return{data:e,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let gP=0;class J_{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:gP++}),this.uuid=Ys(),this.data=t,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let o;if(Array.isArray(r)){o=[];for(let l=0,u=r.length;l<u;l++)o.push(Yy(r[l].isDataTexture?r[l].image:r[l]))}else o=Yy(r);n.url=o}return e||(t.images[this.uuid]=n),n}}function Yy(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?$y.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _P=0,Nd=(()=>{class i extends yl{constructor(e=i.DEFAULT_IMAGE,n=i.DEFAULT_MAPPING,r=ms,o=ms,l=ro,u=Pc,f=la,p=Oc,b=i.DEFAULT_ANISOTROPY,y=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_P++}),this.uuid=Ys(),this.name="",this.source=new J_(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=o,this.magFilter=l,this.minFilter=u,this.anisotropy=b,this.format=f,this.internalFormat=null,this.type=p,this.offset=new et(0,0),this.repeat=new et(1,1),this.center=new et(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new si,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof y?this.colorSpace=y:(bp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=y===xf?Wr:""),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=void 0===e||"string"==typeof e;if(!n&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case kd:e.x=e.x-Math.floor(e.x);break;case ms:e.x=e.x<0?0:1;break;case 1002:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case kd:e.y=e.y-Math.floor(e.y);break;case ms:e.y=e.y<0?0:1;break;case 1002:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return bp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Wr?xf:3e3}set encoding(e){bp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===xf?Wr:""}}return i.DEFAULT_IMAGE=null,i.DEFAULT_MAPPING=300,i.DEFAULT_ANISOTROPY=1,i})();class Yi{constructor(t=0,e=0,n=0,r=1){Yi.prototype.isVector4=!0,this.x=t,this.y=e,this.z=n,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,o=this.w,l=t.elements;return this.x=l[0]*e+l[4]*n+l[8]*r+l[12]*o,this.y=l[1]*e+l[5]*n+l[9]*r+l[13]*o,this.z=l[2]*e+l[6]*n+l[10]*r+l[14]*o,this.w=l[3]*e+l[7]*n+l[11]*r+l[15]*o,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,r,o;const f=t.elements,p=f[0],b=f[4],y=f[8],x=f[1],M=f[5],A=f[9],R=f[2],I=f[6],k=f[10];if(Math.abs(b-x)<.01&&Math.abs(y-R)<.01&&Math.abs(A-I)<.01){if(Math.abs(b+x)<.1&&Math.abs(y+R)<.1&&Math.abs(A+I)<.1&&Math.abs(p+M+k-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const O=(p+1)/2,B=(M+1)/2,W=(k+1)/2,Z=(b+x)/4,q=(y+R)/4,ce=(A+I)/4;return O>B&&O>W?O<.01?(n=0,r=.707106781,o=.707106781):(n=Math.sqrt(O),r=Z/n,o=q/n):B>W?B<.01?(n=.707106781,r=0,o=.707106781):(r=Math.sqrt(B),n=Z/r,o=ce/r):W<.01?(n=.707106781,r=.707106781,o=0):(o=Math.sqrt(W),n=q/o,r=ce/o),this.set(n,r,o,e),this}let U=Math.sqrt((I-A)*(I-A)+(y-R)*(y-R)+(x-b)*(x-b));return Math.abs(U)<.001&&(U=1),this.x=(I-A)/U,this.y=(y-R)/U,this.z=(x-b)/U,this.w=Math.acos((p+M+k-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class vP extends yl{constructor(t=1,e=1,n={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new Yi(0,0,t,e),this.scissorTest=!1,this.viewport=new Yi(0,0,t,e);const r={width:t,height:e,depth:1};void 0!==n.encoding&&(bp("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===xf?Wr:""),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ro,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},n),this.texture=new Nd(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps,this.texture.internalFormat=n.internalFormat,this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}setSize(t,e,n=1){(this.width!==t||this.height!==e||this.depth!==n)&&(this.width=t,this.height=e,this.depth=n,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;const e=Object.assign({},t.texture.image);return this.texture.source=new J_(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class qu extends vP{constructor(t=1,e=1,n={}){super(t,e,n),this.isWebGLRenderTarget=!0}}class ZT extends Nd{constructor(t=null,e=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:n,depth:r},this.magFilter=io,this.minFilter=io,this.wrapR=ms,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class XT extends Nd{constructor(t=null,e=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:n,depth:r},this.magFilter=io,this.minFilter=io,this.wrapR=ms,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class jo{constructor(t=0,e=0,n=0,r=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=n,this._w=r}static slerpFlat(t,e,n,r,o,l,u){let f=n[r+0],p=n[r+1],b=n[r+2],y=n[r+3];const x=o[l+0],M=o[l+1],A=o[l+2],R=o[l+3];if(0===u)return t[e+0]=f,t[e+1]=p,t[e+2]=b,void(t[e+3]=y);if(1===u)return t[e+0]=x,t[e+1]=M,t[e+2]=A,void(t[e+3]=R);if(y!==R||f!==x||p!==M||b!==A){let I=1-u;const k=f*x+p*M+b*A+y*R,U=k>=0?1:-1,O=1-k*k;if(O>Number.EPSILON){const W=Math.sqrt(O),Z=Math.atan2(W,k*U);I=Math.sin(I*Z)/W,u=Math.sin(u*Z)/W}const B=u*U;if(f=f*I+x*B,p=p*I+M*B,b=b*I+A*B,y=y*I+R*B,I===1-u){const W=1/Math.sqrt(f*f+p*p+b*b+y*y);f*=W,p*=W,b*=W,y*=W}}t[e]=f,t[e+1]=p,t[e+2]=b,t[e+3]=y}static multiplyQuaternionsFlat(t,e,n,r,o,l){const u=n[r],f=n[r+1],p=n[r+2],b=n[r+3],y=o[l],x=o[l+1],M=o[l+2],A=o[l+3];return t[e]=u*A+b*y+f*M-p*x,t[e+1]=f*A+b*x+p*y-u*M,t[e+2]=p*A+b*M+u*x-f*y,t[e+3]=b*A-u*y-f*x-p*M,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){const n=t._x,r=t._y,o=t._z,l=t._order,u=Math.cos,f=Math.sin,p=u(n/2),b=u(r/2),y=u(o/2),x=f(n/2),M=f(r/2),A=f(o/2);switch(l){case"XYZ":this._x=x*b*y+p*M*A,this._y=p*M*y-x*b*A,this._z=p*b*A+x*M*y,this._w=p*b*y-x*M*A;break;case"YXZ":this._x=x*b*y+p*M*A,this._y=p*M*y-x*b*A,this._z=p*b*A-x*M*y,this._w=p*b*y+x*M*A;break;case"ZXY":this._x=x*b*y-p*M*A,this._y=p*M*y+x*b*A,this._z=p*b*A+x*M*y,this._w=p*b*y-x*M*A;break;case"ZYX":this._x=x*b*y-p*M*A,this._y=p*M*y+x*b*A,this._z=p*b*A-x*M*y,this._w=p*b*y+x*M*A;break;case"YZX":this._x=x*b*y+p*M*A,this._y=p*M*y+x*b*A,this._z=p*b*A-x*M*y,this._w=p*b*y-x*M*A;break;case"XZY":this._x=x*b*y-p*M*A,this._y=p*M*y-x*b*A,this._z=p*b*A+x*M*y,this._w=p*b*y+x*M*A;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],r=e[4],o=e[8],l=e[1],u=e[5],f=e[9],p=e[2],b=e[6],y=e[10],x=n+u+y;if(x>0){const M=.5/Math.sqrt(x+1);this._w=.25/M,this._x=(b-f)*M,this._y=(o-p)*M,this._z=(l-r)*M}else if(n>u&&n>y){const M=2*Math.sqrt(1+n-u-y);this._w=(b-f)/M,this._x=.25*M,this._y=(r+l)/M,this._z=(o+p)/M}else if(u>y){const M=2*Math.sqrt(1+u-n-y);this._w=(o-p)/M,this._x=(r+l)/M,this._y=.25*M,this._z=(f+b)/M}else{const M=2*Math.sqrt(1+y-n-u);this._w=(l-r)/M,this._x=(o+p)/M,this._y=(f+b)/M,this._z=.25*M}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Ir(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const r=Math.min(1,e/n);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,r=t._y,o=t._z,l=t._w,u=e._x,f=e._y,p=e._z,b=e._w;return this._x=n*b+l*u+r*p-o*f,this._y=r*b+l*f+o*u-n*p,this._z=o*b+l*p+n*f-r*u,this._w=l*b-n*u-r*f-o*p,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,r=this._y,o=this._z,l=this._w;let u=l*t._w+n*t._x+r*t._y+o*t._z;if(u<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,u=-u):this.copy(t),u>=1)return this._w=l,this._x=n,this._y=r,this._z=o,this;const f=1-u*u;if(f<=Number.EPSILON){const M=1-e;return this._w=M*l+e*this._w,this._x=M*n+e*this._x,this._y=M*r+e*this._y,this._z=M*o+e*this._z,this.normalize(),this._onChangeCallback(),this}const p=Math.sqrt(f),b=Math.atan2(p,u),y=Math.sin((1-e)*b)/p,x=Math.sin(e*b)/p;return this._w=l*y+this._w*x,this._x=n*y+this._x*x,this._y=r*y+this._y*x,this._z=o*y+this._z*x,this._onChangeCallback(),this}slerpQuaternions(t,e,n){return this.copy(t).slerp(e,n)}random(){const t=Math.random(),e=Math.sqrt(1-t),n=Math.sqrt(t),r=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(e*Math.cos(r),n*Math.sin(o),n*Math.cos(o),e*Math.sin(r))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class J{constructor(t=0,e=0,n=0){J.prototype.isVector3=!0,this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(KT.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(KT.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,r=this.z,o=t.elements;return this.x=o[0]*e+o[3]*n+o[6]*r,this.y=o[1]*e+o[4]*n+o[7]*r,this.z=o[2]*e+o[5]*n+o[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,o=t.elements,l=1/(o[3]*e+o[7]*n+o[11]*r+o[15]);return this.x=(o[0]*e+o[4]*n+o[8]*r+o[12])*l,this.y=(o[1]*e+o[5]*n+o[9]*r+o[13])*l,this.z=(o[2]*e+o[6]*n+o[10]*r+o[14])*l,this}applyQuaternion(t){const e=this.x,n=this.y,r=this.z,o=t.x,l=t.y,u=t.z,f=t.w,p=2*(l*r-u*n),b=2*(u*e-o*r),y=2*(o*n-l*e);return this.x=e+f*p+l*y-u*b,this.y=n+f*b+u*p-o*y,this.z=r+f*y+o*b-l*p,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,r=this.z,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r,this.y=o[1]*e+o[5]*n+o[9]*r,this.z=o[2]*e+o[6]*n+o[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,r=t.y,o=t.z,l=e.x,u=e.y,f=e.z;return this.x=r*f-o*u,this.y=o*l-n*f,this.z=n*u-r*l,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return qy.copy(this).projectOnVector(t),this.sub(qy)}reflect(t){return this.sub(qy.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(Ir(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=2*(Math.random()-.5),e=Math.random()*Math.PI*2,n=Math.sqrt(1-t**2);return this.x=n*Math.cos(e),this.y=n*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const qy=new J,KT=new jo;class xl{constructor(t=new J(1/0,1/0,1/0),e=new J(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e+=3)this.expandByPoint(_s.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,n=t.count;e<n;e++)this.expandByPoint(_s.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=_s.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const n=t.geometry;if(void 0!==n){const o=n.getAttribute("position");if(!0===e&&void 0!==o&&!0!==t.isInstancedMesh)for(let l=0,u=o.count;l<u;l++)!0===t.isMesh?t.getVertexPosition(l,_s):_s.fromBufferAttribute(o,l),_s.applyMatrix4(t.matrixWorld),this.expandByPoint(_s);else void 0!==t.boundingBox?(null===t.boundingBox&&t.computeBoundingBox(),Ef.copy(t.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),Ef.copy(n.boundingBox)),Ef.applyMatrix4(t.matrixWorld),this.union(Ef)}const r=t.children;for(let o=0,l=r.length;o<l;o++)this.expandByObject(r[o],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,_s),_s.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(ev),Zy.subVectors(this.max,ev),Cf.subVectors(t.a,ev),Mf.subVectors(t.b,ev),yp.subVectors(t.c,ev),Zu.subVectors(Mf,Cf),Sf.subVectors(yp,Mf),Xu.subVectors(Cf,yp);let e=[0,-Zu.z,Zu.y,0,-Sf.z,Sf.y,0,-Xu.z,Xu.y,Zu.z,0,-Zu.x,Sf.z,0,-Sf.x,Xu.z,0,-Xu.x,-Zu.y,Zu.x,0,-Sf.y,Sf.x,0,-Xu.y,Xu.x,0];return!(!QT(e,Cf,Mf,yp,Zy)||(e=[1,0,0,0,1,0,0,0,1],!QT(e,Cf,Mf,yp,Zy)))&&(gE.crossVectors(Zu,Sf),e=[gE.x,gE.y,gE.z],QT(e,Cf,Mf,yp,Zy))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,_s).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(_s).length()),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(wl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),wl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),wl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),wl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),wl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),wl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),wl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),wl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(wl)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const wl=[new J,new J,new J,new J,new J,new J,new J,new J],_s=new J,Ef=new xl,Cf=new J,Mf=new J,yp=new J,Zu=new J,Sf=new J,Xu=new J,ev=new J,Zy=new J,gE=new J,xp=new J;function QT(i,t,e,n,r){for(let o=0,l=i.length-3;o<=l;o+=3){xp.fromArray(i,o);const u=r.x*Math.abs(xp.x)+r.y*Math.abs(xp.y)+r.z*Math.abs(xp.z),f=t.dot(xp),p=e.dot(xp),b=n.dot(xp);if(Math.max(-Math.max(f,p,b),Math.min(f,p,b))>u)return!1}return!0}const JT=new xl,tv=new J,_E=new J;class El{constructor(t=new J,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):JT.setFromPoints(t).getCenter(n);let r=0;for(let o=0,l=t.length;o<l;o++)r=Math.max(r,n.distanceToSquared(t[o]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;tv.subVectors(t,this.center);const e=tv.lengthSq();if(e>this.radius*this.radius){const n=Math.sqrt(e),r=.5*(n-this.radius);this.center.addScaledVector(tv,r/n),this.radius+=r}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(_E.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(tv.copy(t.center).add(_E)),this.expandByPoint(tv.copy(t.center).sub(_E))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Ku=new J,eA=new J,vE=new J,Tf=new J,tA=new J,Xy=new J,wp=new J;class Ep{constructor(t=new J,e=new J(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Ku)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Ku.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Ku.copy(this.origin).addScaledVector(this.direction,e),Ku.distanceToSquared(t))}distanceSqToSegment(t,e,n,r){eA.copy(t).add(e).multiplyScalar(.5),vE.copy(e).sub(t).normalize(),Tf.copy(this.origin).sub(eA);const o=.5*t.distanceTo(e),l=-this.direction.dot(vE),u=Tf.dot(this.direction),f=-Tf.dot(vE),p=Tf.lengthSq(),b=Math.abs(1-l*l);let y,x,M,A;if(b>0)if(y=l*f-u,x=l*u-f,A=o*b,y>=0)if(x>=-A)if(x<=A){const R=1/b;y*=R,x*=R,M=y*(y+l*x+2*u)+x*(l*y+x+2*f)+p}else x=o,y=Math.max(0,-(l*x+u)),M=-y*y+x*(x+2*f)+p;else x=-o,y=Math.max(0,-(l*x+u)),M=-y*y+x*(x+2*f)+p;else x<=-A?(y=Math.max(0,-(-l*o+u)),x=y>0?-o:Math.min(Math.max(-o,-f),o),M=-y*y+x*(x+2*f)+p):x<=A?(y=0,x=Math.min(Math.max(-o,-f),o),M=x*(x+2*f)+p):(y=Math.max(0,-(l*o+u)),x=y>0?o:Math.min(Math.max(-o,-f),o),M=-y*y+x*(x+2*f)+p);else x=l>0?-o:o,y=Math.max(0,-(l*x+u)),M=-y*y+x*(x+2*f)+p;return n&&n.copy(this.origin).addScaledVector(this.direction,y),r&&r.copy(eA).addScaledVector(vE,x),M}intersectSphere(t,e){Ku.subVectors(t.center,this.origin);const n=Ku.dot(this.direction),r=Ku.dot(Ku)-n*n,o=t.radius*t.radius;if(r>o)return null;const l=Math.sqrt(o-r),u=n-l,f=n+l;return f<0?null:this.at(u<0?f:u,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,r,o,l,u,f;const p=1/this.direction.x,b=1/this.direction.y,y=1/this.direction.z,x=this.origin;return p>=0?(n=(t.min.x-x.x)*p,r=(t.max.x-x.x)*p):(n=(t.max.x-x.x)*p,r=(t.min.x-x.x)*p),b>=0?(o=(t.min.y-x.y)*b,l=(t.max.y-x.y)*b):(o=(t.max.y-x.y)*b,l=(t.min.y-x.y)*b),n>l||o>r||((o>n||isNaN(n))&&(n=o),(l<r||isNaN(r))&&(r=l),y>=0?(u=(t.min.z-x.z)*y,f=(t.max.z-x.z)*y):(u=(t.max.z-x.z)*y,f=(t.min.z-x.z)*y),n>f||u>r)||((u>n||n!=n)&&(n=u),(f<r||r!=r)&&(r=f),r<0)?null:this.at(n>=0?n:r,e)}intersectsBox(t){return null!==this.intersectBox(t,Ku)}intersectTriangle(t,e,n,r,o){tA.subVectors(e,t),Xy.subVectors(n,t),wp.crossVectors(tA,Xy);let u,l=this.direction.dot(wp);if(l>0){if(r)return null;u=1}else{if(!(l<0))return null;u=-1,l=-l}Tf.subVectors(this.origin,t);const f=u*this.direction.dot(Xy.crossVectors(Tf,Xy));if(f<0)return null;const p=u*this.direction.dot(tA.cross(Tf));if(p<0||f+p>l)return null;const b=-u*Tf.dot(wp);return b<0?null:this.at(b/l,o)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class ei{constructor(t,e,n,r,o,l,u,f,p,b,y,x,M,A,R,I){ei.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,e,n,r,o,l,u,f,p,b,y,x,M,A,R,I)}set(t,e,n,r,o,l,u,f,p,b,y,x,M,A,R,I){const k=this.elements;return k[0]=t,k[4]=e,k[8]=n,k[12]=r,k[1]=o,k[5]=l,k[9]=u,k[13]=f,k[2]=p,k[6]=b,k[10]=y,k[14]=x,k[3]=M,k[7]=A,k[11]=R,k[15]=I,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new ei).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,r=1/Af.setFromMatrixColumn(t,0).length(),o=1/Af.setFromMatrixColumn(t,1).length(),l=1/Af.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*o,e[5]=n[5]*o,e[6]=n[6]*o,e[7]=0,e[8]=n[8]*l,e[9]=n[9]*l,e[10]=n[10]*l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,n=t.x,r=t.y,o=t.z,l=Math.cos(n),u=Math.sin(n),f=Math.cos(r),p=Math.sin(r),b=Math.cos(o),y=Math.sin(o);if("XYZ"===t.order){const x=l*b,M=l*y,A=u*b,R=u*y;e[0]=f*b,e[4]=-f*y,e[8]=p,e[1]=M+A*p,e[5]=x-R*p,e[9]=-u*f,e[2]=R-x*p,e[6]=A+M*p,e[10]=l*f}else if("YXZ"===t.order){const x=f*b,M=f*y,A=p*b,R=p*y;e[0]=x+R*u,e[4]=A*u-M,e[8]=l*p,e[1]=l*y,e[5]=l*b,e[9]=-u,e[2]=M*u-A,e[6]=R+x*u,e[10]=l*f}else if("ZXY"===t.order){const x=f*b,M=f*y,A=p*b,R=p*y;e[0]=x-R*u,e[4]=-l*y,e[8]=A+M*u,e[1]=M+A*u,e[5]=l*b,e[9]=R-x*u,e[2]=-l*p,e[6]=u,e[10]=l*f}else if("ZYX"===t.order){const x=l*b,M=l*y,A=u*b,R=u*y;e[0]=f*b,e[4]=A*p-M,e[8]=x*p+R,e[1]=f*y,e[5]=R*p+x,e[9]=M*p-A,e[2]=-p,e[6]=u*f,e[10]=l*f}else if("YZX"===t.order){const x=l*f,M=l*p,A=u*f,R=u*p;e[0]=f*b,e[4]=R-x*y,e[8]=A*y+M,e[1]=y,e[5]=l*b,e[9]=-u*b,e[2]=-p*b,e[6]=M*y+A,e[10]=x-R*y}else if("XZY"===t.order){const x=l*f,M=l*p,A=u*f,R=u*p;e[0]=f*b,e[4]=-y,e[8]=p*b,e[1]=x*y+R,e[5]=l*b,e[9]=M*y-A,e[2]=A*y-M,e[6]=u*b,e[10]=R*y+x}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(nA,t,bE)}lookAt(t,e,n){const r=this.elements;return Ds.subVectors(t,e),0===Ds.lengthSq()&&(Ds.z=1),Ds.normalize(),Cl.crossVectors(n,Ds),0===Cl.lengthSq()&&(1===Math.abs(n.z)?Ds.x+=1e-4:Ds.z+=1e-4,Ds.normalize(),Cl.crossVectors(n,Ds)),Cl.normalize(),Ky.crossVectors(Ds,Cl),r[0]=Cl.x,r[4]=Ky.x,r[8]=Ds.x,r[1]=Cl.y,r[5]=Ky.y,r[9]=Ds.y,r[2]=Cl.z,r[6]=Ky.z,r[10]=Ds.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,o=this.elements,l=n[0],u=n[4],f=n[8],p=n[12],b=n[1],y=n[5],x=n[9],M=n[13],A=n[2],R=n[6],I=n[10],k=n[14],U=n[3],O=n[7],B=n[11],W=n[15],Z=r[0],q=r[4],ce=r[8],H=r[12],Q=r[1],ke=r[5],tt=r[9],ft=r[13],fe=r[2],Ue=r[6],ve=r[10],Ee=r[14],ze=r[3],Le=r[7],ot=r[11],me=r[15];return o[0]=l*Z+u*Q+f*fe+p*ze,o[4]=l*q+u*ke+f*Ue+p*Le,o[8]=l*ce+u*tt+f*ve+p*ot,o[12]=l*H+u*ft+f*Ee+p*me,o[1]=b*Z+y*Q+x*fe+M*ze,o[5]=b*q+y*ke+x*Ue+M*Le,o[9]=b*ce+y*tt+x*ve+M*ot,o[13]=b*H+y*ft+x*Ee+M*me,o[2]=A*Z+R*Q+I*fe+k*ze,o[6]=A*q+R*ke+I*Ue+k*Le,o[10]=A*ce+R*tt+I*ve+k*ot,o[14]=A*H+R*ft+I*Ee+k*me,o[3]=U*Z+O*Q+B*fe+W*ze,o[7]=U*q+O*ke+B*Ue+W*Le,o[11]=U*ce+O*tt+B*ve+W*ot,o[15]=U*H+O*ft+B*Ee+W*me,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],r=t[8],o=t[12],l=t[1],u=t[5],f=t[9],p=t[13],b=t[2],y=t[6],x=t[10],M=t[14];return t[3]*(+o*f*y-r*p*y-o*u*x+n*p*x+r*u*M-n*f*M)+t[7]*(+e*f*M-e*p*x+o*l*x-r*l*M+r*p*b-o*f*b)+t[11]*(+e*p*y-e*u*M-o*l*y+n*l*M+o*u*b-n*p*b)+t[15]*(-r*u*b-e*f*y+e*u*x+r*l*y-n*l*x+n*f*b)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],o=t[3],l=t[4],u=t[5],f=t[6],p=t[7],b=t[8],y=t[9],x=t[10],M=t[11],A=t[12],R=t[13],I=t[14],k=t[15],U=y*I*p-R*x*p+R*f*M-u*I*M-y*f*k+u*x*k,O=A*x*p-b*I*p-A*f*M+l*I*M+b*f*k-l*x*k,B=b*R*p-A*y*p+A*u*M-l*R*M-b*u*k+l*y*k,W=A*y*f-b*R*f-A*u*x+l*R*x+b*u*I-l*y*I,Z=e*U+n*O+r*B+o*W;if(0===Z)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const q=1/Z;return t[0]=U*q,t[1]=(R*x*o-y*I*o-R*r*M+n*I*M+y*r*k-n*x*k)*q,t[2]=(u*I*o-R*f*o+R*r*p-n*I*p-u*r*k+n*f*k)*q,t[3]=(y*f*o-u*x*o-y*r*p+n*x*p+u*r*M-n*f*M)*q,t[4]=O*q,t[5]=(b*I*o-A*x*o+A*r*M-e*I*M-b*r*k+e*x*k)*q,t[6]=(A*f*o-l*I*o-A*r*p+e*I*p+l*r*k-e*f*k)*q,t[7]=(l*x*o-b*f*o+b*r*p-e*x*p-l*r*M+e*f*M)*q,t[8]=B*q,t[9]=(A*y*o-b*R*o-A*n*M+e*R*M+b*n*k-e*y*k)*q,t[10]=(l*R*o-A*u*o+A*n*p-e*R*p-l*n*k+e*u*k)*q,t[11]=(b*u*o-l*y*o-b*n*p+e*y*p+l*n*M-e*u*M)*q,t[12]=W*q,t[13]=(b*R*r-A*y*r+A*n*x-e*R*x-b*n*I+e*y*I)*q,t[14]=(A*u*r-l*R*r-A*n*f+e*R*f+l*n*I-e*u*I)*q,t[15]=(l*y*r-b*u*r+b*n*f-e*y*f-l*n*x+e*u*x)*q,this}scale(t){const e=this.elements,n=t.x,r=t.y,o=t.z;return e[0]*=n,e[4]*=r,e[8]*=o,e[1]*=n,e[5]*=r,e[9]*=o,e[2]*=n,e[6]*=r,e[10]*=o,e[3]*=n,e[7]*=r,e[11]*=o,this}getMaxScaleOnAxis(){const t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))}makeTranslation(t,e,n){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),r=Math.sin(e),o=1-n,l=t.x,u=t.y,f=t.z,p=o*l,b=o*u;return this.set(p*l+n,p*u-r*f,p*f+r*u,0,p*u+r*f,b*u+n,b*f-r*l,0,p*f-r*u,b*f+r*l,o*f*f+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,r,o,l){return this.set(1,n,o,0,t,1,l,0,e,r,1,0,0,0,0,1),this}compose(t,e,n){const r=this.elements,o=e._x,l=e._y,u=e._z,f=e._w,p=o+o,b=l+l,y=u+u,x=o*p,M=o*b,A=o*y,R=l*b,I=l*y,k=u*y,U=f*p,O=f*b,B=f*y,W=n.x,Z=n.y,q=n.z;return r[0]=(1-(R+k))*W,r[1]=(M+B)*W,r[2]=(A-O)*W,r[3]=0,r[4]=(M-B)*Z,r[5]=(1-(x+k))*Z,r[6]=(I+U)*Z,r[7]=0,r[8]=(A+O)*q,r[9]=(I-U)*q,r[10]=(1-(x+R))*q,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,n){const r=this.elements;let o=Af.set(r[0],r[1],r[2]).length();const l=Af.set(r[4],r[5],r[6]).length(),u=Af.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),t.x=r[12],t.y=r[13],t.z=r[14],$o.copy(this);const p=1/o,b=1/l,y=1/u;return $o.elements[0]*=p,$o.elements[1]*=p,$o.elements[2]*=p,$o.elements[4]*=b,$o.elements[5]*=b,$o.elements[6]*=b,$o.elements[8]*=y,$o.elements[9]*=y,$o.elements[10]*=y,e.setFromRotationMatrix($o),n.x=o,n.y=l,n.z=u,this}makePerspective(t,e,n,r,o,l,u=bl){const f=this.elements,p=2*o/(e-t),b=2*o/(n-r),y=(e+t)/(e-t),x=(n+r)/(n-r);let M,A;if(u===bl)M=-(l+o)/(l-o),A=-2*l*o/(l-o);else{if(2001!==u)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);M=-l/(l-o),A=-l*o/(l-o)}return f[0]=p,f[4]=0,f[8]=y,f[12]=0,f[1]=0,f[5]=b,f[9]=x,f[13]=0,f[2]=0,f[6]=0,f[10]=M,f[14]=A,f[3]=0,f[7]=0,f[11]=-1,f[15]=0,this}makeOrthographic(t,e,n,r,o,l,u=bl){const f=this.elements,p=1/(e-t),b=1/(n-r),y=1/(l-o),x=(e+t)*p,M=(n+r)*b;let A,R;if(u===bl)A=(l+o)*y,R=-2*y;else{if(2001!==u)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);A=o*y,R=-1*y}return f[0]=2*p,f[4]=0,f[8]=0,f[12]=-x,f[1]=0,f[5]=2*b,f[9]=0,f[13]=-M,f[2]=0,f[6]=0,f[10]=R,f[14]=-A,f[3]=0,f[7]=0,f[11]=0,f[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}const Af=new J,$o=new ei,nA=new J(0,0,0),bE=new J(1,1,1),Cl=new J,Ky=new J,Ds=new J,Qy=new ei,nv=new jo;let h3=(()=>{class i{constructor(e=0,n=0,r=0,o=i.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=o}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,o=this._order){return this._x=e,this._y=n,this._z=r,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const o=e.elements,l=o[0],u=o[4],f=o[8],p=o[1],b=o[5],y=o[9],x=o[2],M=o[6],A=o[10];switch(n){case"XYZ":this._y=Math.asin(Ir(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-y,A),this._z=Math.atan2(-u,l)):(this._x=Math.atan2(M,b),this._z=0);break;case"YXZ":this._x=Math.asin(-Ir(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(f,A),this._z=Math.atan2(p,b)):(this._y=Math.atan2(-x,l),this._z=0);break;case"ZXY":this._x=Math.asin(Ir(M,-1,1)),Math.abs(M)<.9999999?(this._y=Math.atan2(-x,A),this._z=Math.atan2(-u,b)):(this._y=0,this._z=Math.atan2(p,l));break;case"ZYX":this._y=Math.asin(-Ir(x,-1,1)),Math.abs(x)<.9999999?(this._x=Math.atan2(M,A),this._z=Math.atan2(p,l)):(this._x=0,this._z=Math.atan2(-u,b));break;case"YZX":this._z=Math.asin(Ir(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(-y,b),this._y=Math.atan2(-x,l)):(this._x=0,this._y=Math.atan2(f,A));break;case"XZY":this._z=Math.asin(-Ir(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(M,b),this._y=Math.atan2(f,l)):(this._x=Math.atan2(-y,A),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,!0===r&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return Qy.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Qy,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return nv.setFromEuler(this),this.setFromQuaternion(nv,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return i.DEFAULT_ORDER="XYZ",i})();class iA{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}isEnabled(t){return 0!=(this.mask&(1<<t|0))}}let f3=0;const yE=new J,Cp=new jo,Ld=new ei,Jy=new J,iv=new J,rA=new J,oA=new jo,xE=new J(1,0,0),sA=new J(0,1,0),aA=new J(0,0,1),cA={type:"added"},wE={type:"removed"};let Ha=(()=>{class i extends yl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:f3++}),this.uuid=Ys(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=i.DEFAULT_UP.clone();const e=new J,n=new h3,r=new jo,o=new J(1,1,1);n._onChange(function l(){r.setFromEuler(n,!1)}),r._onChange(function u(){n.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new ei},normalMatrix:{value:new si}}),this.matrix=new ei,this.matrixWorld=new ei,this.matrixAutoUpdate=i.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=i.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new iA,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Cp.setFromAxisAngle(e,n),this.quaternion.multiply(Cp),this}rotateOnWorldAxis(e,n){return Cp.setFromAxisAngle(e,n),this.quaternion.premultiply(Cp),this}rotateX(e){return this.rotateOnAxis(xE,e)}rotateY(e){return this.rotateOnAxis(sA,e)}rotateZ(e){return this.rotateOnAxis(aA,e)}translateOnAxis(e,n){return yE.copy(e).applyQuaternion(this.quaternion),this.position.add(yE.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(xE,e)}translateY(e){return this.translateOnAxis(sA,e)}translateZ(e){return this.translateOnAxis(aA,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ld.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Jy.copy(e):Jy.set(e,n,r);const o=this.parent;this.updateWorldMatrix(!0,!1),iv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ld.lookAt(iv,Jy,this.up):Ld.lookAt(Jy,iv,this.up),this.quaternion.setFromRotationMatrix(Ld),o&&(Ld.extractRotation(o.matrixWorld),Cp.setFromRotationMatrix(Ld),this.quaternion.premultiply(Cp.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(cA)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(wE)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ld.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Ld.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ld),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,o=this.children.length;r<o;r++){const u=this.children[r].getObjectByProperty(e,n);if(void 0!==u)return u}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let o=0,l=this.children.length;o<l;o++){const u=this.children[o].getObjectsByProperty(e,n);u.length>0&&(r=r.concat(u))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(iv,e,rA),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(iv,oA,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,o=n.length;r<o;r++)n[r].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const n=this.children;for(let r=0,o=n.length;r<o;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;null!==n&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,o=n.length;r<o;r++){const l=n[r];(!0===l.matrixWorldAutoUpdate||!0===e)&&l.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(!0===e&&null!==r&&!0===r.matrixWorldAutoUpdate&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===n){const o=this.children;for(let l=0,u=o.length;l<u;l++){const f=o[l];!0===f.matrixWorldAutoUpdate&&f.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=void 0===e||"string"==typeof e,r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const o={};function l(f,p){return void 0===f[p.uuid]&&(f[p.uuid]=p.toJSON(e)),p.uuid}if(o.uuid=this.uuid,o.type=this.type,""!==this.name&&(o.name=this.name),!0===this.castShadow&&(o.castShadow=!0),!0===this.receiveShadow&&(o.receiveShadow=!0),!1===this.visible&&(o.visible=!1),!1===this.frustumCulled&&(o.frustumCulled=!1),0!==this.renderOrder&&(o.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),o.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(o.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(o.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=l(e.geometries,this.geometry);const f=this.geometry.parameters;if(void 0!==f&&void 0!==f.shapes){const p=f.shapes;if(Array.isArray(p))for(let b=0,y=p.length;b<y;b++)l(e.shapes,p[b]);else l(e.shapes,p)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(l(e.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const f=[];for(let p=0,b=this.material.length;p<b;p++)f.push(l(e.materials,this.material[p]));o.material=f}else o.material=l(e.materials,this.material);if(this.children.length>0){o.children=[];for(let f=0;f<this.children.length;f++)o.children.push(this.children[f].toJSON(e).object)}if(this.animations.length>0){o.animations=[];for(let f=0;f<this.animations.length;f++)o.animations.push(l(e.animations,this.animations[f]))}if(n){const f=u(e.geometries),p=u(e.materials),b=u(e.textures),y=u(e.images),x=u(e.shapes),M=u(e.skeletons),A=u(e.animations),R=u(e.nodes);f.length>0&&(r.geometries=f),p.length>0&&(r.materials=p),b.length>0&&(r.textures=b),y.length>0&&(r.images=y),x.length>0&&(r.shapes=x),M.length>0&&(r.skeletons=M),A.length>0&&(r.animations=A),R.length>0&&(r.nodes=R)}return r.object=o,r;function u(f){const p=[];for(const b in f){const y=f[b];delete y.metadata,p.push(y)}return p}}clone(e){return(new this.constructor).copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===n)for(let r=0;r<e.children.length;r++)this.add(e.children[r].clone());return this}}return i.DEFAULT_UP=new J(0,1,0),i.DEFAULT_MATRIX_AUTO_UPDATE=!0,i.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,i})();const Ga=new J,Lc=new J,EE=new J,Fd=new J,rv=new J,ov=new J,lA=new J,CE=new J,ME=new J,SE=new J;let sv=!1;class Zs{constructor(t=new J,e=new J,n=new J){this.a=t,this.b=e,this.c=n}static getNormal(t,e,n,r){r.subVectors(n,e),Ga.subVectors(t,e),r.cross(Ga);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(t,e,n,r,o){Ga.subVectors(r,e),Lc.subVectors(n,e),EE.subVectors(t,e);const l=Ga.dot(Ga),u=Ga.dot(Lc),f=Ga.dot(EE),p=Lc.dot(Lc),b=Lc.dot(EE),y=l*p-u*u;if(0===y)return o.set(-2,-1,-1);const x=1/y,M=(p*f-u*b)*x,A=(l*b-u*f)*x;return o.set(1-M-A,A,M)}static containsPoint(t,e,n,r){return this.getBarycoord(t,e,n,r,Fd),Fd.x>=0&&Fd.y>=0&&Fd.x+Fd.y<=1}static getUV(t,e,n,r,o,l,u,f){return!1===sv&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),sv=!0),this.getInterpolation(t,e,n,r,o,l,u,f)}static getInterpolation(t,e,n,r,o,l,u,f){return this.getBarycoord(t,e,n,r,Fd),f.setScalar(0),f.addScaledVector(o,Fd.x),f.addScaledVector(l,Fd.y),f.addScaledVector(u,Fd.z),f}static isFrontFacing(t,e,n,r){return Ga.subVectors(n,e),Lc.subVectors(t,e),Ga.cross(Lc).dot(r)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,e,n,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,r),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Ga.subVectors(this.c,this.b),Lc.subVectors(this.a,this.b),.5*Ga.cross(Lc).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Zs.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Zs.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,n,r,o){return!1===sv&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),sv=!0),Zs.getInterpolation(t,this.a,this.b,this.c,e,n,r,o)}getInterpolation(t,e,n,r,o){return Zs.getInterpolation(t,this.a,this.b,this.c,e,n,r,o)}containsPoint(t){return Zs.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Zs.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const n=this.a,r=this.b,o=this.c;let l,u;rv.subVectors(r,n),ov.subVectors(o,n),CE.subVectors(t,n);const f=rv.dot(CE),p=ov.dot(CE);if(f<=0&&p<=0)return e.copy(n);ME.subVectors(t,r);const b=rv.dot(ME),y=ov.dot(ME);if(b>=0&&y<=b)return e.copy(r);const x=f*y-b*p;if(x<=0&&f>=0&&b<=0)return l=f/(f-b),e.copy(n).addScaledVector(rv,l);SE.subVectors(t,o);const M=rv.dot(SE),A=ov.dot(SE);if(A>=0&&M<=A)return e.copy(o);const R=M*p-f*A;if(R<=0&&p>=0&&A<=0)return u=p/(p-A),e.copy(n).addScaledVector(ov,u);const I=b*A-M*y;if(I<=0&&y-b>=0&&M-A>=0)return lA.subVectors(o,r),u=(y-b)/(y-b+(M-A)),e.copy(r).addScaledVector(lA,u);const k=1/(I+R+x);return l=R*k,u=x*k,e.copy(n).addScaledVector(rv,l).addScaledVector(ov,u)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const dA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ud={h:0,s:0,l:0},av={h:0,s:0,l:0};function uA(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+6*(t-i)*e:e<.5?t:e<2/3?i+6*(t-i)*(2/3-e):i}class Jt{constructor(t,e,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,n)}set(t,e,n){if(void 0===e&&void 0===n){const r=t;r&&r.isColor?this.copy(r):"number"==typeof r?this.setHex(r):"string"==typeof r&&this.setStyle(r)}else this.setRGB(t,e,n);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=Wr){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,Ni.toWorkingColorSpace(this,e),this}setRGB(t,e,n,r=Ni.workingColorSpace){return this.r=t,this.g=e,this.b=n,Ni.toWorkingColorSpace(this,r),this}setHSL(t,e,n,r=Ni.workingColorSpace){if(t=function hE(i,t){return(i%t+t)%t}(t,1),e=Ir(e,0,1),n=Ir(n,0,1),0===e)this.r=this.g=this.b=n;else{const o=n<=.5?n*(1+e):n+e-n*e,l=2*n-o;this.r=uA(l,o,t+1/3),this.g=uA(l,o,t),this.b=uA(l,o,t-1/3)}return Ni.toWorkingColorSpace(this,r),this}setStyle(t,e=Wr){function n(o){void 0!==o&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(t)){let o;const u=r[2];switch(r[1]){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,e);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,e);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){const o=r[1],l=o.length;if(3===l)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,e);if(6===l)return this.setHex(parseInt(o,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=Wr){const n=dA[t.toLowerCase()];return void 0!==n?this.setHex(n,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=da(t.r),this.g=da(t.g),this.b=da(t.b),this}copyLinearToSRGB(t){return this.r=jy(t.r),this.g=jy(t.g),this.b=jy(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Wr){return Ni.fromWorkingColorSpace(Do.copy(this),t),65536*Math.round(Ir(255*Do.r,0,255))+256*Math.round(Ir(255*Do.g,0,255))+Math.round(Ir(255*Do.b,0,255))}getHexString(t=Wr){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Ni.workingColorSpace){Ni.fromWorkingColorSpace(Do.copy(this),e);const n=Do.r,r=Do.g,o=Do.b,l=Math.max(n,r,o),u=Math.min(n,r,o);let f,p;const b=(u+l)/2;if(u===l)f=0,p=0;else{const y=l-u;switch(p=b<=.5?y/(l+u):y/(2-l-u),l){case n:f=(r-o)/y+(r<o?6:0);break;case r:f=(o-n)/y+2;break;case o:f=(n-r)/y+4}f/=6}return t.h=f,t.s=p,t.l=b,t}getRGB(t,e=Ni.workingColorSpace){return Ni.fromWorkingColorSpace(Do.copy(this),e),t.r=Do.r,t.g=Do.g,t.b=Do.b,t}getStyle(t=Wr){Ni.fromWorkingColorSpace(Do.copy(this),t);const e=Do.r,n=Do.g,r=Do.b;return t!==Wr?`color(${t} ${e.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*e)},${Math.round(255*n)},${Math.round(255*r)})`}offsetHSL(t,e,n){return this.getHSL(Ud),this.setHSL(Ud.h+t,Ud.s+e,Ud.l+n)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}lerpHSL(t,e){this.getHSL(Ud),t.getHSL(av);const n=Z_(Ud.h,av.h,e),r=Z_(Ud.s,av.s,e),o=Z_(Ud.l,av.l,e);return this.setHSL(n,r,o),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,n=this.g,r=this.b,o=t.elements;return this.r=o[0]*e+o[3]*n+o[6]*r,this.g=o[1]*e+o[4]*n+o[7]*r,this.b=o[2]*e+o[5]*n+o[8]*r,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Do=new Jt;Jt.NAMES=dA;let hA=0;class Df extends yl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:hA++}),this.uuid=Ys(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Jt(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=$u,this.stencilZFail=$u,this.stencilZPass=$u,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=n:console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`)}}toJSON(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(o){const l=[];for(const u in o){const f=o[u];delete f.metadata,l.push(f)}return l}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),204!==this.blendSrc&&(n.blendSrc=this.blendSrc),205!==this.blendDst&&(n.blendDst=this.blendDst),100!==this.blendEquation&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==$u&&(n.stencilFail=this.stencilFail),this.stencilZFail!==$u&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==$u&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),e){const o=r(t.textures),l=r(t.images);o.length>0&&(n.textures=o),l.length>0&&(n.images=l)}return n}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const r=e.length;n=new Array(r);for(let o=0;o!==r;++o)n[o]=e[o].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}}class If extends Df{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Jt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Hw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const po=new J,e0=new et;class Yo{constructor(t,e,n=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=n,this.usage=35044,this.updateRange={offset:0,count:-1},this.gpuType=Rd,this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[t+r]=e.array[n+r];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)e0.fromBufferAttribute(this,e),e0.applyMatrix3(t),this.setXY(e,e0.x,e0.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)po.fromBufferAttribute(this,e),po.applyMatrix3(t),this.setXYZ(e,po.x,po.y,po.z);return this}applyMatrix4(t){for(let e=0,n=this.count;e<n;e++)po.fromBufferAttribute(this,e),po.applyMatrix4(t),this.setXYZ(e,po.x,po.y,po.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)po.fromBufferAttribute(this,e),po.applyNormalMatrix(t),this.setXYZ(e,po.x,po.y,po.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)po.fromBufferAttribute(this,e),po.transformDirection(t),this.setXYZ(e,po.x,po.y,po.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let n=this.array[t*this.itemSize+e];return this.normalized&&(n=qs(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=ni(n,this.array)),this.array[t*this.itemSize+e]=n,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=qs(e,this.array)),e}setX(t,e){return this.normalized&&(e=ni(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=qs(e,this.array)),e}setY(t,e){return this.normalized&&(e=ni(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=qs(e,this.array)),e}setZ(t,e){return this.normalized&&(e=ni(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=qs(e,this.array)),e}setW(t,e){return this.normalized&&(e=ni(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return t*=this.itemSize,this.normalized&&(e=ni(e,this.array),n=ni(n,this.array)),this.array[t+0]=e,this.array[t+1]=n,this}setXYZ(t,e,n,r){return t*=this.itemSize,this.normalized&&(e=ni(e,this.array),n=ni(n,this.array),r=ni(r,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this}setXYZW(t,e,n,r,o){return t*=this.itemSize,this.normalized&&(e=ni(e,this.array),n=ni(n,this.array),r=ni(r,this.array),o=ni(o,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=o,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),35044!==this.usage&&(t.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(t.updateRange=this.updateRange),t}}class fA extends Yo{constructor(t,e,n){super(new Uint16Array(t),e,n)}}class EP extends Yo{constructor(t,e,n){super(new Uint32Array(t),e,n)}}class fn extends Yo{constructor(t,e,n){super(new Float32Array(t),e,n)}}let CP=0;const Fc=new ei,mA=new Ha,cv=new J,ja=new xl,t0=new xl,Io=new J;class bi extends yl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:CP++}),this.uuid=Ys(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return this.index=Array.isArray(t)?new(YT(t)?EP:fA)(t,1):t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const o=(new si).getNormalMatrix(t);n.applyNormalMatrix(o),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return Fc.makeRotationFromQuaternion(t),this.applyMatrix4(Fc),this}rotateX(t){return Fc.makeRotationX(t),this.applyMatrix4(Fc),this}rotateY(t){return Fc.makeRotationY(t),this.applyMatrix4(Fc),this}rotateZ(t){return Fc.makeRotationZ(t),this.applyMatrix4(Fc),this}translate(t,e,n){return Fc.makeTranslation(t,e,n),this.applyMatrix4(Fc),this}scale(t,e,n){return Fc.makeScale(t,e,n),this.applyMatrix4(Fc),this}lookAt(t){return mA.lookAt(t),mA.updateMatrix(),this.applyMatrix4(mA.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(cv).negate(),this.translate(cv.x,cv.y,cv.z),this}setFromPoints(t){const e=[];for(let n=0,r=t.length;n<r;n++){const o=t[n];e.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new fn(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new xl);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new J(-1/0,-1/0,-1/0),new J(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let n=0,r=e.length;n<r;n++)ja.setFromBufferAttribute(e[n]),this.morphTargetsRelative?(Io.addVectors(this.boundingBox.min,ja.min),this.boundingBox.expandByPoint(Io),Io.addVectors(this.boundingBox.max,ja.max),this.boundingBox.expandByPoint(Io)):(this.boundingBox.expandByPoint(ja.min),this.boundingBox.expandByPoint(ja.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new El);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new J,1/0);if(t){const n=this.boundingSphere.center;if(ja.setFromBufferAttribute(t),e)for(let o=0,l=e.length;o<l;o++)t0.setFromBufferAttribute(e[o]),this.morphTargetsRelative?(Io.addVectors(ja.min,t0.min),ja.expandByPoint(Io),Io.addVectors(ja.max,t0.max),ja.expandByPoint(Io)):(ja.expandByPoint(t0.min),ja.expandByPoint(t0.max));ja.getCenter(n);let r=0;for(let o=0,l=t.count;o<l;o++)Io.fromBufferAttribute(t,o),r=Math.max(r,n.distanceToSquared(Io));if(e)for(let o=0,l=e.length;o<l;o++){const u=e[o],f=this.morphTargetsRelative;for(let p=0,b=u.count;p<b;p++)Io.fromBufferAttribute(u,p),f&&(cv.fromBufferAttribute(t,p),Io.add(cv)),r=Math.max(r,n.distanceToSquared(Io))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.array,r=e.position.array,o=e.normal.array,l=e.uv.array,u=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Yo(new Float32Array(4*u),4));const f=this.getAttribute("tangent").array,p=[],b=[];for(let Q=0;Q<u;Q++)p[Q]=new J,b[Q]=new J;const y=new J,x=new J,M=new J,A=new et,R=new et,I=new et,k=new J,U=new J;function O(Q,ke,tt){y.fromArray(r,3*Q),x.fromArray(r,3*ke),M.fromArray(r,3*tt),A.fromArray(l,2*Q),R.fromArray(l,2*ke),I.fromArray(l,2*tt),x.sub(y),M.sub(y),R.sub(A),I.sub(A);const ft=1/(R.x*I.y-I.x*R.y);isFinite(ft)&&(k.copy(x).multiplyScalar(I.y).addScaledVector(M,-R.y).multiplyScalar(ft),U.copy(M).multiplyScalar(R.x).addScaledVector(x,-I.x).multiplyScalar(ft),p[Q].add(k),p[ke].add(k),p[tt].add(k),b[Q].add(U),b[ke].add(U),b[tt].add(U))}let B=this.groups;0===B.length&&(B=[{start:0,count:n.length}]);for(let Q=0,ke=B.length;Q<ke;++Q){const tt=B[Q],ft=tt.start;for(let Ue=ft,ve=ft+tt.count;Ue<ve;Ue+=3)O(n[Ue+0],n[Ue+1],n[Ue+2])}const W=new J,Z=new J,q=new J,ce=new J;function H(Q){q.fromArray(o,3*Q),ce.copy(q);const ke=p[Q];W.copy(ke),W.sub(q.multiplyScalar(q.dot(ke))).normalize(),Z.crossVectors(ce,ke);const ft=Z.dot(b[Q])<0?-1:1;f[4*Q]=W.x,f[4*Q+1]=W.y,f[4*Q+2]=W.z,f[4*Q+3]=ft}for(let Q=0,ke=B.length;Q<ke;++Q){const tt=B[Q],ft=tt.start;for(let Ue=ft,ve=ft+tt.count;Ue<ve;Ue+=3)H(n[Ue+0]),H(n[Ue+1]),H(n[Ue+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new Yo(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let x=0,M=n.count;x<M;x++)n.setXYZ(x,0,0,0);const r=new J,o=new J,l=new J,u=new J,f=new J,p=new J,b=new J,y=new J;if(t)for(let x=0,M=t.count;x<M;x+=3){const A=t.getX(x+0),R=t.getX(x+1),I=t.getX(x+2);r.fromBufferAttribute(e,A),o.fromBufferAttribute(e,R),l.fromBufferAttribute(e,I),b.subVectors(l,o),y.subVectors(r,o),b.cross(y),u.fromBufferAttribute(n,A),f.fromBufferAttribute(n,R),p.fromBufferAttribute(n,I),u.add(b),f.add(b),p.add(b),n.setXYZ(A,u.x,u.y,u.z),n.setXYZ(R,f.x,f.y,f.z),n.setXYZ(I,p.x,p.y,p.z)}else for(let x=0,M=e.count;x<M;x+=3)r.fromBufferAttribute(e,x+0),o.fromBufferAttribute(e,x+1),l.fromBufferAttribute(e,x+2),b.subVectors(l,o),y.subVectors(r,o),b.cross(y),n.setXYZ(x+0,b.x,b.y,b.z),n.setXYZ(x+1,b.x,b.y,b.z),n.setXYZ(x+2,b.x,b.y,b.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)Io.fromBufferAttribute(t,e),Io.normalize(),t.setXYZ(e,Io.x,Io.y,Io.z)}toNonIndexed(){function t(u,f){const p=u.array,b=u.itemSize,y=u.normalized,x=new p.constructor(f.length*b);let M=0,A=0;for(let R=0,I=f.length;R<I;R++){M=u.isInterleavedBufferAttribute?f[R]*u.data.stride+u.offset:f[R]*b;for(let k=0;k<b;k++)x[A++]=p[M++]}return new Yo(x,b,y)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new bi,n=this.index.array,r=this.attributes;for(const u in r){const p=t(r[u],n);e.setAttribute(u,p)}const o=this.morphAttributes;for(const u in o){const f=[],p=o[u];for(let b=0,y=p.length;b<y;b++){const M=t(p[b],n);f.push(M)}e.morphAttributes[u]=f}e.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let u=0,f=l.length;u<f;u++){const p=l[u];e.addGroup(p.start,p.count,p.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const f=this.parameters;for(const p in f)void 0!==f[p]&&(t[p]=f[p]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const f in n)t.data.attributes[f]=n[f].toJSON(t.data);const r={};let o=!1;for(const f in this.morphAttributes){const p=this.morphAttributes[f],b=[];for(let y=0,x=p.length;y<x;y++)b.push(p[y].toJSON(t.data));b.length>0&&(r[f]=b,o=!0)}o&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(t.data.groups=JSON.parse(JSON.stringify(l)));const u=this.boundingSphere;return null!==u&&(t.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone(e));const r=t.attributes;for(const p in r)this.setAttribute(p,r[p].clone(e));const o=t.morphAttributes;for(const p in o){const b=[],y=o[p];for(let x=0,M=y.length;x<M;x++)b.push(y[x].clone(e));this.morphAttributes[p]=b}this.morphTargetsRelative=t.morphTargetsRelative;const l=t.groups;for(let p=0,b=l.length;p<b;p++){const y=l[p];this.addGroup(y.start,y.count,y.materialIndex)}const u=t.boundingBox;null!==u&&(this.boundingBox=u.clone());const f=t.boundingSphere;return null!==f&&(this.boundingSphere=f.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const s=new ei,a=new Ep,d=new El,h=new J,m=new J,_=new J,w=new J,S=new J,D=new J,L=new et,V=new et,K=new et,ue=new J,_e=new J,$e=new J,_t=new J,Bt=new J;class Wt extends Ha{constructor(t=new bi,e=new If){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const r=e[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=r.length;o<l;o++){const u=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=o}}}}getVertexPosition(t,e){const n=this.geometry,o=n.morphAttributes.position,l=n.morphTargetsRelative;e.fromBufferAttribute(n.attributes.position,t);const u=this.morphTargetInfluences;if(o&&u){D.set(0,0,0);for(let f=0,p=o.length;f<p;f++){const b=u[f];0!==b&&(S.fromBufferAttribute(o[f],t),D.addScaledVector(l?S:S.sub(e),b))}e.add(D)}return e}raycast(t,e){const n=this.geometry,o=this.matrixWorld;void 0!==this.material&&(null===n.boundingSphere&&n.computeBoundingSphere(),d.copy(n.boundingSphere),d.applyMatrix4(o),a.copy(t.ray).recast(t.near),(!1!==d.containsPoint(a.origin)||!(null===a.intersectSphere(d,h)||a.origin.distanceToSquared(h)>(t.far-t.near)**2))&&(s.copy(o).invert(),a.copy(t.ray).applyMatrix4(s),(null===n.boundingBox||!1!==a.intersectsBox(n.boundingBox))&&this._computeIntersections(t,e,a)))}_computeIntersections(t,e,n){let r;const o=this.geometry,l=this.material,u=o.index,f=o.attributes.position,p=o.attributes.uv,b=o.attributes.uv1,y=o.attributes.normal,x=o.groups,M=o.drawRange;if(null!==u)if(Array.isArray(l))for(let A=0,R=x.length;A<R;A++){const I=x[A],k=l[I.materialIndex];for(let B=Math.max(I.start,M.start),W=Math.min(u.count,Math.min(I.start+I.count,M.start+M.count));B<W;B+=3)r=Ln(this,k,t,n,p,b,y,u.getX(B),u.getX(B+1),u.getX(B+2)),r&&(r.faceIndex=Math.floor(B/3),r.face.materialIndex=I.materialIndex,e.push(r))}else for(let I=Math.max(0,M.start),k=Math.min(u.count,M.start+M.count);I<k;I+=3)r=Ln(this,l,t,n,p,b,y,u.getX(I),u.getX(I+1),u.getX(I+2)),r&&(r.faceIndex=Math.floor(I/3),e.push(r));else if(void 0!==f)if(Array.isArray(l))for(let A=0,R=x.length;A<R;A++){const I=x[A],k=l[I.materialIndex];for(let B=Math.max(I.start,M.start),W=Math.min(f.count,Math.min(I.start+I.count,M.start+M.count));B<W;B+=3)r=Ln(this,k,t,n,p,b,y,B,B+1,B+2),r&&(r.faceIndex=Math.floor(B/3),r.face.materialIndex=I.materialIndex,e.push(r))}else for(let I=Math.max(0,M.start),k=Math.min(f.count,M.start+M.count);I<k;I+=3)r=Ln(this,l,t,n,p,b,y,I,I+1,I+2),r&&(r.faceIndex=Math.floor(I/3),e.push(r))}}function Ln(i,t,e,n,r,o,l,u,f,p){i.getVertexPosition(u,m),i.getVertexPosition(f,_),i.getVertexPosition(p,w);const b=function lt(i,t,e,n,r,o,l,u){let f;if(f=1===t.side?n.intersectTriangle(l,o,r,!0,u):n.intersectTriangle(r,o,l,0===t.side,u),null===f)return null;Bt.copy(u),Bt.applyMatrix4(i.matrixWorld);const p=e.ray.origin.distanceTo(Bt);return p<e.near||p>e.far?null:{distance:p,point:Bt.clone(),object:i}}(i,t,e,n,m,_,w,_t);if(b){r&&(L.fromBufferAttribute(r,u),V.fromBufferAttribute(r,f),K.fromBufferAttribute(r,p),b.uv=Zs.getInterpolation(_t,m,_,w,L,V,K,new et)),o&&(L.fromBufferAttribute(o,u),V.fromBufferAttribute(o,f),K.fromBufferAttribute(o,p),b.uv1=Zs.getInterpolation(_t,m,_,w,L,V,K,new et),b.uv2=b.uv1),l&&(ue.fromBufferAttribute(l,u),_e.fromBufferAttribute(l,f),$e.fromBufferAttribute(l,p),b.normal=Zs.getInterpolation(_t,m,_,w,ue,_e,$e,new J),b.normal.dot(n.direction)>0&&b.normal.multiplyScalar(-1));const y={a:u,b:f,c:p,normal:new J,materialIndex:0};Zs.getNormal(m,_,w,y.normal),b.face=y}return b}class qn extends bi{constructor(t=1,e=1,n=1,r=1,o=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:o,depthSegments:l};const u=this;r=Math.floor(r),o=Math.floor(o),l=Math.floor(l);const f=[],p=[],b=[],y=[];let x=0,M=0;function A(R,I,k,U,O,B,W,Z,q,ce,H){const Q=B/q,ke=W/ce,tt=B/2,ft=W/2,fe=Z/2,Ue=q+1,ve=ce+1;let Ee=0,ze=0;const Le=new J;for(let ot=0;ot<ve;ot++){const me=ot*ke-ft;for(let We=0;We<Ue;We++)Le[R]=(We*Q-tt)*U,Le[I]=me*O,Le[k]=fe,p.push(Le.x,Le.y,Le.z),Le[R]=0,Le[I]=0,Le[k]=Z>0?1:-1,b.push(Le.x,Le.y,Le.z),y.push(We/q),y.push(1-ot/ce),Ee+=1}for(let ot=0;ot<ce;ot++)for(let me=0;me<q;me++){const Ut=x+me+Ue*(ot+1),Et=x+(me+1)+Ue*(ot+1),en=x+(me+1)+Ue*ot;f.push(x+me+Ue*ot,Ut,en),f.push(Ut,Et,en),ze+=6}u.addGroup(M,ze,H),M+=ze,x+=Ee}A("z","y","x",-1,-1,n,e,t,l,o,0),A("z","y","x",1,-1,n,e,-t,l,o,1),A("x","z","y",1,1,t,n,e,r,l,2),A("x","z","y",1,-1,t,n,-e,r,l,3),A("x","y","z",1,-1,t,e,n,r,o,4),A("x","y","z",-1,-1,t,e,-n,r,o,5),this.setIndex(f),this.setAttribute("position",new fn(p,3)),this.setAttribute("normal",new fn(b,3)),this.setAttribute("uv",new fn(y,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new qn(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Ci(i){const t={};for(const e in i){t[e]={};for(const n in i[e]){const r=i[e][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][n]=null):t[e][n]=r.clone():t[e][n]=Array.isArray(r)?r.slice():r}}return t}function qi(i){const t={};for(let e=0;e<i.length;e++){const n=Ci(i[e]);for(const r in n)t[r]=n[r]}return t}function kf(i){return null===i.getRenderTarget()?i.outputColorSpace:Ni.workingColorSpace}const TE={clone:Ci,merge:qi};class Sp extends Df{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Ci(t.uniforms),this.uniformsGroups=function Bd(i){const t=[];for(let e=0;e<i.length;e++)t.push(i[e].clone());return t}(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const r in this.uniforms){const l=this.uniforms[r].value;e.uniforms[r]=l&&l.isTexture?{type:"t",value:l.toJSON(t).uuid}:l&&l.isColor?{type:"c",value:l.getHex()}:l&&l.isVector2?{type:"v2",value:l.toArray()}:l&&l.isVector3?{type:"v3",value:l.toArray()}:l&&l.isVector4?{type:"v4",value:l.toArray()}:l&&l.isMatrix3?{type:"m3",value:l.toArray()}:l&&l.isMatrix4?{type:"m4",value:l.toArray()}:{value:l}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(e.extensions=n),e}}class TP extends Ha{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ei,this.projectionMatrix=new ei,this.projectionMatrixInverse=new ei,this.coordinateSystem=bl}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class vs extends TP{constructor(t=50,e=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*_p*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*gp*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*_p*Math.atan(Math.tan(.5*gp*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,n,r,o,l){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*gp*this.fov)/this.zoom,n=2*e,r=this.aspect*n,o=-.5*r;const l=this.view;if(null!==this.view&&this.view.enabled){const f=l.fullWidth,p=l.fullHeight;o+=l.offsetX*r/f,e-=l.offsetY*n/p,r*=l.width/f,n*=l.height/p}const u=this.filmOffset;0!==u&&(o+=t*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,e,e-n,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}class z6 extends Ha{constructor(t,e,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new vs(-90,1,t,e);r.layers=this.layers,this.add(r);const o=new vs(-90,1,t,e);o.layers=this.layers,this.add(o);const l=new vs(-90,1,t,e);l.layers=this.layers,this.add(l);const u=new vs(-90,1,t,e);u.layers=this.layers,this.add(u);const f=new vs(-90,1,t,e);f.layers=this.layers,this.add(f);const p=new vs(-90,1,t,e);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[n,r,o,l,u,f]=e;for(const p of e)this.remove(p);if(t===bl)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),f.up.set(0,1,0),f.lookAt(0,0,-1);else{if(2001!==t)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),f.up.set(0,-1,0),f.lookAt(0,0,-1)}for(const p of e)this.add(p),p.updateMatrixWorld()}update(t,e){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[o,l,u,f,p,b]=this.children,y=t.getRenderTarget(),x=t.getActiveCubeFace(),M=t.getActiveMipmapLevel(),A=t.xr.enabled;t.xr.enabled=!1;const R=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0,r),t.render(e,o),t.setRenderTarget(n,1,r),t.render(e,l),t.setRenderTarget(n,2,r),t.render(e,u),t.setRenderTarget(n,3,r),t.render(e,f),t.setRenderTarget(n,4,r),t.render(e,p),n.texture.generateMipmaps=R,t.setRenderTarget(n,5,r),t.render(e,b),t.setRenderTarget(y,x,M),t.xr.enabled=A,n.texture.needsPMREMUpdate=!0}}class pA extends Nd{constructor(t,e,n,r,o,l,u,f,p,b){super(t=void 0!==t?t:[],e=void 0!==e?e:Gu,n,r,o,l,u,f,p,b),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class H6 extends qu{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const n={width:t,height:t,depth:1},r=[n,n,n,n,n,n];void 0!==e.encoding&&(bp("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),e.colorSpace=e.encoding===xf?Wr:""),this.texture=new pA(r,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:ro}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n_uniforms={tEquirect:{value:null}},n_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",n_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new qn(5,5,5),o=new Sp({name:"CubemapFromEquirect",uniforms:Ci(n_uniforms),vertexShader:n_vertexShader,fragmentShader:n_fragmentShader,side:1,blending:0});o.uniforms.tEquirect.value=e;const l=new Wt(r,o),u=e.minFilter;return e.minFilter===Pc&&(e.minFilter=ro),new z6(1,10,this).update(t,l),e.minFilter=u,l.geometry.dispose(),l.material.dispose(),this}clear(t,e,n,r){const o=t.getRenderTarget();for(let l=0;l<6;l++)t.setRenderTarget(this,l),t.clear(e,n,r);t.setRenderTarget(o)}}const AP=new J,G6=new J,W6=new si;class Tp{constructor(t=new J(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const r=AP.subVectors(n,e).cross(G6.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const n=t.delta(AP),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const o=-(t.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:e.copy(t.start).addScaledVector(n,o)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||W6.getNormalMatrix(t),r=this.coplanarPoint(AP).applyMatrix4(t),o=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(o),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const lv=new El,gA=new J;class DP{constructor(t=new Tp,e=new Tp,n=new Tp,r=new Tp,o=new Tp,l=new Tp){this.planes=[t,e,n,r,o,l]}set(t,e,n,r,o,l){const u=this.planes;return u[0].copy(t),u[1].copy(e),u[2].copy(n),u[3].copy(r),u[4].copy(o),u[5].copy(l),this}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t,e=bl){const n=this.planes,r=t.elements,o=r[0],l=r[1],u=r[2],f=r[3],p=r[4],b=r[5],y=r[6],x=r[7],M=r[8],A=r[9],R=r[10],I=r[11],k=r[12],U=r[13],O=r[14],B=r[15];if(n[0].setComponents(f-o,x-p,I-M,B-k).normalize(),n[1].setComponents(f+o,x+p,I+M,B+k).normalize(),n[2].setComponents(f+l,x+b,I+A,B+U).normalize(),n[3].setComponents(f-l,x-b,I-A,B-U).normalize(),n[4].setComponents(f-u,x-y,I-R,B-O).normalize(),e===bl)n[5].setComponents(f+u,x+y,I+R,B+O).normalize();else{if(2001!==e)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);n[5].setComponents(u,y,R,O).normalize()}return this}intersectsObject(t){if(void 0!==t.boundingSphere)null===t.boundingSphere&&t.computeBoundingSphere(),lv.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;null===e.boundingSphere&&e.computeBoundingSphere(),lv.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(lv)}intersectsSprite(t){return lv.center.set(0,0,0),lv.radius=.7071067811865476,lv.applyMatrix4(t.matrixWorld),this.intersectsSphere(lv)}intersectsSphere(t){const e=this.planes,n=t.center,r=-t.radius;for(let o=0;o<6;o++)if(e[o].distanceToPoint(n)<r)return!1;return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const r=e[n];if(gA.x=r.normal.x>0?t.max.x:t.min.x,gA.y=r.normal.y>0?t.max.y:t.min.y,gA.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(gA)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function g3(){let i=null,t=!1,e=null,n=null;function r(o,l){e(o,l),n=i.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==e&&(n=i.requestAnimationFrame(r),t=!0)},stop:function(){i.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(o){e=o},setContext:function(o){i=o}}}function j6(i,t){const e=t.isWebGL2,n=new WeakMap;return{get:function l(p){return p.isInterleavedBufferAttribute&&(p=p.data),n.get(p)},remove:function u(p){p.isInterleavedBufferAttribute&&(p=p.data);const b=n.get(p);b&&(i.deleteBuffer(b.buffer),n.delete(p))},update:function f(p,b){if(p.isGLBufferAttribute){const x=n.get(p);return void((!x||x.version<p.version)&&n.set(p,{buffer:p.buffer,type:p.type,bytesPerElement:p.elementSize,version:p.version}))}p.isInterleavedBufferAttribute&&(p=p.data);const y=n.get(p);void 0===y?n.set(p,function r(p,b){const y=p.array,x=p.usage,M=i.createBuffer();let A;if(i.bindBuffer(b,M),i.bufferData(b,y,x),p.onUploadCallback(),y instanceof Float32Array)A=i.FLOAT;else if(y instanceof Uint16Array)if(p.isFloat16BufferAttribute){if(!e)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");A=i.HALF_FLOAT}else A=i.UNSIGNED_SHORT;else if(y instanceof Int16Array)A=i.SHORT;else if(y instanceof Uint32Array)A=i.UNSIGNED_INT;else if(y instanceof Int32Array)A=i.INT;else if(y instanceof Int8Array)A=i.BYTE;else if(y instanceof Uint8Array)A=i.UNSIGNED_BYTE;else{if(!(y instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+y);A=i.UNSIGNED_BYTE}return{buffer:M,type:A,bytesPerElement:y.BYTES_PER_ELEMENT,version:p.version}}(p,b)):y.version<p.version&&(function o(p,b,y){const x=b.array,M=b.updateRange;i.bindBuffer(y,p),-1===M.count?i.bufferSubData(y,0,x):(e?i.bufferSubData(y,M.offset*x.BYTES_PER_ELEMENT,x,M.offset,M.count):i.bufferSubData(y,M.offset*x.BYTES_PER_ELEMENT,x.subarray(M.offset,M.offset+M.count)),M.count=-1),b.onUploadCallback()}(y.buffer,p,b),y.version=p.version)}}}class _A extends bi{constructor(t=1,e=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};const o=t/2,l=e/2,u=Math.floor(n),f=Math.floor(r),p=u+1,b=f+1,y=t/u,x=e/f,M=[],A=[],R=[],I=[];for(let k=0;k<b;k++){const U=k*x-l;for(let O=0;O<p;O++)A.push(O*y-o,-U,0),R.push(0,0,1),I.push(O/u),I.push(1-k/f)}for(let k=0;k<f;k++)for(let U=0;U<u;U++){const B=U+p*(k+1),W=U+1+p*(k+1),Z=U+1+p*k;M.push(U+p*k,B,Z),M.push(B,W,Z)}this.setIndex(M),this.setAttribute("position",new fn(A,3)),this.setAttribute("normal",new fn(R,3)),this.setAttribute("uv",new fn(I,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new _A(t.width,t.height,t.widthSegments,t.heightSegments)}}const di={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},jt={common:{diffuse:{value:new Jt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new si},alphaMap:{value:null},alphaMapTransform:{value:new si},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new si}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new si}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new si}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new si},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new si},normalScale:{value:new et(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new si},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new si}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new si}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new si}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Jt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Jt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new si},alphaTest:{value:0},uvTransform:{value:new si}},sprite:{diffuse:{value:new Jt(16777215)},opacity:{value:1},center:{value:new et(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new si},alphaMap:{value:null},alphaMapTransform:{value:new si},alphaTest:{value:0}}},Qu={basic:{uniforms:qi([jt.common,jt.specularmap,jt.envmap,jt.aomap,jt.lightmap,jt.fog]),vertexShader:di.meshbasic_vert,fragmentShader:di.meshbasic_frag},lambert:{uniforms:qi([jt.common,jt.specularmap,jt.envmap,jt.aomap,jt.lightmap,jt.emissivemap,jt.bumpmap,jt.normalmap,jt.displacementmap,jt.fog,jt.lights,{emissive:{value:new Jt(0)}}]),vertexShader:di.meshlambert_vert,fragmentShader:di.meshlambert_frag},phong:{uniforms:qi([jt.common,jt.specularmap,jt.envmap,jt.aomap,jt.lightmap,jt.emissivemap,jt.bumpmap,jt.normalmap,jt.displacementmap,jt.fog,jt.lights,{emissive:{value:new Jt(0)},specular:{value:new Jt(1118481)},shininess:{value:30}}]),vertexShader:di.meshphong_vert,fragmentShader:di.meshphong_frag},standard:{uniforms:qi([jt.common,jt.envmap,jt.aomap,jt.lightmap,jt.emissivemap,jt.bumpmap,jt.normalmap,jt.displacementmap,jt.roughnessmap,jt.metalnessmap,jt.fog,jt.lights,{emissive:{value:new Jt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:di.meshphysical_vert,fragmentShader:di.meshphysical_frag},toon:{uniforms:qi([jt.common,jt.aomap,jt.lightmap,jt.emissivemap,jt.bumpmap,jt.normalmap,jt.displacementmap,jt.gradientmap,jt.fog,jt.lights,{emissive:{value:new Jt(0)}}]),vertexShader:di.meshtoon_vert,fragmentShader:di.meshtoon_frag},matcap:{uniforms:qi([jt.common,jt.bumpmap,jt.normalmap,jt.displacementmap,jt.fog,{matcap:{value:null}}]),vertexShader:di.meshmatcap_vert,fragmentShader:di.meshmatcap_frag},points:{uniforms:qi([jt.points,jt.fog]),vertexShader:di.points_vert,fragmentShader:di.points_frag},dashed:{uniforms:qi([jt.common,jt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:di.linedashed_vert,fragmentShader:di.linedashed_frag},depth:{uniforms:qi([jt.common,jt.displacementmap]),vertexShader:di.depth_vert,fragmentShader:di.depth_frag},normal:{uniforms:qi([jt.common,jt.bumpmap,jt.normalmap,jt.displacementmap,{opacity:{value:1}}]),vertexShader:di.meshnormal_vert,fragmentShader:di.meshnormal_frag},sprite:{uniforms:qi([jt.sprite,jt.fog]),vertexShader:di.sprite_vert,fragmentShader:di.sprite_frag},background:{uniforms:{uvTransform:{value:new si},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:di.background_vert,fragmentShader:di.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:di.backgroundCube_vert,fragmentShader:di.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:di.cube_vert,fragmentShader:di.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:di.equirect_vert,fragmentShader:di.equirect_frag},distanceRGBA:{uniforms:qi([jt.common,jt.displacementmap,{referencePosition:{value:new J},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:di.distanceRGBA_vert,fragmentShader:di.distanceRGBA_frag},shadow:{uniforms:qi([jt.lights,jt.fog,{color:{value:new Jt(0)},opacity:{value:1}}]),vertexShader:di.shadow_vert,fragmentShader:di.shadow_frag}};Qu.physical={uniforms:qi([Qu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new si},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new si},clearcoatNormalScale:{value:new et(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new si},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new si},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new si},sheen:{value:0},sheenColor:{value:new Jt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new si},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new si},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new si},transmissionSamplerSize:{value:new et},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new si},attenuationDistance:{value:0},attenuationColor:{value:new Jt(0)},specularColor:{value:new Jt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new si},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new si},anisotropyVector:{value:new et},anisotropyMap:{value:null},anisotropyMapTransform:{value:new si}}]),vertexShader:di.meshphysical_vert,fragmentShader:di.meshphysical_frag};const vA={r:0,b:0,g:0};function WW(i,t,e,n,r,o,l){const u=new Jt(0);let p,b,f=!0===o?0:1,y=null,x=0,M=null;function R(I,k){I.getRGB(vA,kf(i)),n.buffers.color.setClear(vA.r,vA.g,vA.b,k,l)}return{getClearColor:function(){return u},setClearColor:function(I,k=1){u.set(I),f=k,R(u,f)},getClearAlpha:function(){return f},setClearAlpha:function(I){f=I,R(u,f)},render:function A(I,k){let U=!1,O=!0===k.isScene?k.background:null;O&&O.isTexture&&(O=(k.backgroundBlurriness>0?e:t).get(O)),null===O?R(u,f):O&&O.isColor&&(R(O,1),U=!0);const B=i.xr.getEnvironmentBlendMode();"additive"===B?n.buffers.color.setClear(0,0,0,1,l):"alpha-blend"===B&&n.buffers.color.setClear(0,0,0,0,l),(i.autoClear||U)&&i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil),O&&(O.isCubeTexture||O.mapping===fp)?(void 0===b&&(b=new Wt(new qn(1,1,1),new Sp({name:"BackgroundCubeMaterial",uniforms:Ci(Qu.backgroundCube.uniforms),vertexShader:Qu.backgroundCube.vertexShader,fragmentShader:Qu.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),b.geometry.deleteAttribute("normal"),b.geometry.deleteAttribute("uv"),b.onBeforeRender=function(W,Z,q){this.matrixWorld.copyPosition(q.matrixWorld)},Object.defineProperty(b.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(b)),b.material.uniforms.envMap.value=O,b.material.uniforms.flipEnvMap.value=O.isCubeTexture&&!1===O.isRenderTargetTexture?-1:1,b.material.uniforms.backgroundBlurriness.value=k.backgroundBlurriness,b.material.uniforms.backgroundIntensity.value=k.backgroundIntensity,b.material.toneMapped=Ni.getTransfer(O.colorSpace)!==nr,(y!==O||x!==O.version||M!==i.toneMapping)&&(b.material.needsUpdate=!0,y=O,x=O.version,M=i.toneMapping),b.layers.enableAll(),I.unshift(b,b.geometry,b.material,0,0,null)):O&&O.isTexture&&(void 0===p&&(p=new Wt(new _A(2,2),new Sp({name:"BackgroundMaterial",uniforms:Ci(Qu.background.uniforms),vertexShader:Qu.background.vertexShader,fragmentShader:Qu.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(p)),p.material.uniforms.t2D.value=O,p.material.uniforms.backgroundIntensity.value=k.backgroundIntensity,p.material.toneMapped=Ni.getTransfer(O.colorSpace)!==nr,!0===O.matrixAutoUpdate&&O.updateMatrix(),p.material.uniforms.uvTransform.value.copy(O.matrix),(y!==O||x!==O.version||M!==i.toneMapping)&&(p.material.needsUpdate=!0,y=O,x=O.version,M=i.toneMapping),p.layers.enableAll(),I.unshift(p,p.geometry,p.material,0,0,null))}}}function jW(i,t,e,n){const r=i.getParameter(i.MAX_VERTEX_ATTRIBS),o=n.isWebGL2?null:t.get("OES_vertex_array_object"),l=n.isWebGL2||null!==o,u={},f=I(null);let p=f,b=!1;function M(fe){return n.isWebGL2?i.bindVertexArray(fe):o.bindVertexArrayOES(fe)}function A(fe){return n.isWebGL2?i.deleteVertexArray(fe):o.deleteVertexArrayOES(fe)}function I(fe){const Ue=[],ve=[],Ee=[];for(let ze=0;ze<r;ze++)Ue[ze]=0,ve[ze]=0,Ee[ze]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Ue,enabledAttributes:ve,attributeDivisors:Ee,object:fe,attributes:{},index:null}}function O(){const fe=p.newAttributes;for(let Ue=0,ve=fe.length;Ue<ve;Ue++)fe[Ue]=0}function B(fe){W(fe,0)}function W(fe,Ue){const Ee=p.enabledAttributes,ze=p.attributeDivisors;p.newAttributes[fe]=1,0===Ee[fe]&&(i.enableVertexAttribArray(fe),Ee[fe]=1),ze[fe]!==Ue&&((n.isWebGL2?i:t.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](fe,Ue),ze[fe]=Ue)}function Z(){const fe=p.newAttributes,Ue=p.enabledAttributes;for(let ve=0,Ee=Ue.length;ve<Ee;ve++)Ue[ve]!==fe[ve]&&(i.disableVertexAttribArray(ve),Ue[ve]=0)}function q(fe,Ue,ve,Ee,ze,Le,ot){!0===ot?i.vertexAttribIPointer(fe,Ue,ve,ze,Le):i.vertexAttribPointer(fe,Ue,ve,Ee,ze,Le)}function tt(){ft(),b=!0,p!==f&&(p=f,M(p.object))}function ft(){f.geometry=null,f.program=null,f.wireframe=!1}return{setup:function y(fe,Ue,ve,Ee,ze){let Le=!1;if(l){const ot=function R(fe,Ue,ve){const Ee=!0===ve.wireframe;let ze=u[fe.id];void 0===ze&&(ze={},u[fe.id]=ze);let Le=ze[Ue.id];void 0===Le&&(Le={},ze[Ue.id]=Le);let ot=Le[Ee];return void 0===ot&&(ot=I(function x(){return n.isWebGL2?i.createVertexArray():o.createVertexArrayOES()}()),Le[Ee]=ot),ot}(Ee,ve,Ue);p!==ot&&(p=ot,M(p.object)),Le=function k(fe,Ue,ve,Ee){const ze=p.attributes,Le=Ue.attributes;let ot=0;const me=ve.getAttributes();for(const We in me)if(me[We].location>=0){const Et=ze[We];let en=Le[We];if(void 0===en&&("instanceMatrix"===We&&fe.instanceMatrix&&(en=fe.instanceMatrix),"instanceColor"===We&&fe.instanceColor&&(en=fe.instanceColor)),void 0===Et||Et.attribute!==en||en&&Et.data!==en.data)return!0;ot++}return p.attributesNum!==ot||p.index!==Ee}(fe,Ee,ve,ze),Le&&function U(fe,Ue,ve,Ee){const ze={},Le=Ue.attributes;let ot=0;const me=ve.getAttributes();for(const We in me)if(me[We].location>=0){let Et=Le[We];void 0===Et&&("instanceMatrix"===We&&fe.instanceMatrix&&(Et=fe.instanceMatrix),"instanceColor"===We&&fe.instanceColor&&(Et=fe.instanceColor));const en={};en.attribute=Et,Et&&Et.data&&(en.data=Et.data),ze[We]=en,ot++}p.attributes=ze,p.attributesNum=ot,p.index=Ee}(fe,Ee,ve,ze)}else{const ot=!0===Ue.wireframe;(p.geometry!==Ee.id||p.program!==ve.id||p.wireframe!==ot)&&(p.geometry=Ee.id,p.program=ve.id,p.wireframe=ot,Le=!0)}null!==ze&&e.update(ze,i.ELEMENT_ARRAY_BUFFER),(Le||b)&&(b=!1,function ce(fe,Ue,ve,Ee){if(!1===n.isWebGL2&&(fe.isInstancedMesh||Ee.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;O();const ze=Ee.attributes,Le=ve.getAttributes(),ot=Ue.defaultAttributeValues;for(const me in Le){const We=Le[me];if(We.location>=0){let Ut=ze[me];if(void 0===Ut&&("instanceMatrix"===me&&fe.instanceMatrix&&(Ut=fe.instanceMatrix),"instanceColor"===me&&fe.instanceColor&&(Ut=fe.instanceColor)),void 0!==Ut){const Et=Ut.normalized,en=Ut.itemSize,Fn=e.get(Ut);if(void 0===Fn)continue;const on=Fn.buffer,gn=Fn.type,bn=Fn.bytesPerElement,ui=!0===n.isWebGL2&&(gn===i.INT||gn===i.UNSIGNED_INT||1013===Ut.gpuType);if(Ut.isInterleavedBufferAttribute){const In=Ut.data,le=In.stride,Vt=Ut.offset;if(In.isInstancedInterleavedBuffer){for(let at=0;at<We.locationSize;at++)W(We.location+at,In.meshPerAttribute);!0!==fe.isInstancedMesh&&void 0===Ee._maxInstanceCount&&(Ee._maxInstanceCount=In.meshPerAttribute*In.count)}else for(let at=0;at<We.locationSize;at++)B(We.location+at);i.bindBuffer(i.ARRAY_BUFFER,on);for(let at=0;at<We.locationSize;at++)q(We.location+at,en/We.locationSize,gn,Et,le*bn,(Vt+en/We.locationSize*at)*bn,ui)}else{if(Ut.isInstancedBufferAttribute){for(let In=0;In<We.locationSize;In++)W(We.location+In,Ut.meshPerAttribute);!0!==fe.isInstancedMesh&&void 0===Ee._maxInstanceCount&&(Ee._maxInstanceCount=Ut.meshPerAttribute*Ut.count)}else for(let In=0;In<We.locationSize;In++)B(We.location+In);i.bindBuffer(i.ARRAY_BUFFER,on);for(let In=0;In<We.locationSize;In++)q(We.location+In,en/We.locationSize,gn,Et,en*bn,en/We.locationSize*In*bn,ui)}}else if(void 0!==ot){const Et=ot[me];if(void 0!==Et)switch(Et.length){case 2:i.vertexAttrib2fv(We.location,Et);break;case 3:i.vertexAttrib3fv(We.location,Et);break;case 4:i.vertexAttrib4fv(We.location,Et);break;default:i.vertexAttrib1fv(We.location,Et)}}}}Z()}(fe,Ue,ve,Ee),null!==ze&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.get(ze).buffer))},reset:tt,resetDefaultState:ft,dispose:function H(){tt();for(const fe in u){const Ue=u[fe];for(const ve in Ue){const Ee=Ue[ve];for(const ze in Ee)A(Ee[ze].object),delete Ee[ze];delete Ue[ve]}delete u[fe]}},releaseStatesOfGeometry:function Q(fe){if(void 0===u[fe.id])return;const Ue=u[fe.id];for(const ve in Ue){const Ee=Ue[ve];for(const ze in Ee)A(Ee[ze].object),delete Ee[ze];delete Ue[ve]}delete u[fe.id]},releaseStatesOfProgram:function ke(fe){for(const Ue in u){const ve=u[Ue];if(void 0===ve[fe.id])continue;const Ee=ve[fe.id];for(const ze in Ee)A(Ee[ze].object),delete Ee[ze];delete ve[fe.id]}},initAttributes:O,enableAttribute:B,disableUnusedAttributes:Z}}function $W(i,t,e,n){const r=n.isWebGL2;let o;this.setMode=function l(p){o=p},this.render=function u(p,b){i.drawArrays(o,p,b),e.update(b,o,1)},this.renderInstances=function f(p,b,y){if(0===y)return;let x,M;if(r)x=i,M="drawArraysInstanced";else if(x=t.get("ANGLE_instanced_arrays"),M="drawArraysInstancedANGLE",null===x)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");x[M](o,p,b,y),e.update(b,o,y)}}function YW(i,t,e){let n;function o(q){if("highp"===q){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";q="mediump"}return"mediump"===q&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const l=typeof WebGL2RenderingContext<"u"&&"WebGL2RenderingContext"===i.constructor.name;let u=void 0!==e.precision?e.precision:"highp";const f=o(u);f!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",f,"instead."),u=f);const p=l||t.has("WEBGL_draw_buffers"),b=!0===e.logarithmicDepthBuffer,y=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),x=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),M=i.getParameter(i.MAX_TEXTURE_SIZE),A=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),R=i.getParameter(i.MAX_VERTEX_ATTRIBS),I=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),k=i.getParameter(i.MAX_VARYING_VECTORS),U=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),O=x>0,B=l||t.has("OES_texture_float");return{isWebGL2:l,drawBuffers:p,getMaxAnisotropy:function r(){if(void 0!==n)return n;if(!0===t.has("EXT_texture_filter_anisotropic")){const q=t.get("EXT_texture_filter_anisotropic");n=i.getParameter(q.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n},getMaxPrecision:o,precision:u,logarithmicDepthBuffer:b,maxTextures:y,maxVertexTextures:x,maxTextureSize:M,maxCubemapSize:A,maxAttributes:R,maxVertexUniforms:I,maxVaryings:k,maxFragmentUniforms:U,vertexTextures:O,floatFragmentTextures:B,floatVertexTextures:O&&B,maxSamples:l?i.getParameter(i.MAX_SAMPLES):0}}function qW(i){const t=this;let e=null,n=0,r=!1,o=!1;const l=new Tp,u=new si,f={value:null,needsUpdate:!1};function b(y,x,M,A){const R=null!==y?y.length:0;let I=null;if(0!==R){if(I=f.value,!0!==A||null===I){const k=M+4*R,U=x.matrixWorldInverse;u.getNormalMatrix(U),(null===I||I.length<k)&&(I=new Float32Array(k));for(let O=0,B=M;O!==R;++O,B+=4)l.copy(y[O]).applyMatrix4(U,u),l.normal.toArray(I,B),I[B+3]=l.constant}f.value=I,f.needsUpdate=!0}return t.numPlanes=R,t.numIntersection=0,I}this.uniform=f,this.numPlanes=0,this.numIntersection=0,this.init=function(y,x){const M=0!==y.length||x||0!==n||r;return r=x,n=y.length,M},this.beginShadows=function(){o=!0,b(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(y,x){e=b(y,x,0)},this.setState=function(y,x,M){const A=y.clippingPlanes,R=y.clipIntersection,I=y.clipShadows,k=i.get(y);if(!r||null===A||0===A.length||o&&!I)o?b(null):function p(){f.value!==e&&(f.value=e,f.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}();else{const U=o?0:n,O=4*U;let B=k.clippingState||null;f.value=B,B=b(A,x,O,M);for(let W=0;W!==O;++W)B[W]=e[W];k.clippingState=B,this.numIntersection=R?this.numPlanes:0,this.numPlanes+=U}}}function ZW(i){let t=new WeakMap;function e(l,u){return 303===u?l.mapping=Gu:304===u&&(l.mapping=Rc),l}function r(l){const u=l.target;u.removeEventListener("dispose",r);const f=t.get(u);void 0!==f&&(t.delete(u),f.dispose())}return{get:function n(l){if(l&&l.isTexture&&!1===l.isRenderTargetTexture){const u=l.mapping;if(303===u||304===u){if(t.has(l))return e(t.get(l).texture,l.mapping);{const f=l.image;if(f&&f.height>0){const p=new H6(f.height/2);return p.fromEquirectangularTexture(i,l),t.set(l,p),l.addEventListener("dispose",r),e(p.texture,l.mapping)}return null}}}return l},dispose:function o(){t=new WeakMap}}}class IP extends TP{constructor(t=-1,e=1,n=1,r=-1,o=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=o,this.far=l,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,n,r,o,l){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=n-t,l=n+t,u=r+e,f=r-e;if(null!==this.view&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,b=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=p*this.view.offsetX,l=o+p*this.view.width,u-=b*this.view.offsetY,f=u-b*this.view.height}this.projectionMatrix.makeOrthographic(o,l,u,f,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}const _3=[.125,.215,.35,.446,.526,.582],kP=new IP,v3=new Jt;let RP=null,PP=0,OP=0;const uv=(1+Math.sqrt(5))/2,s0=1/uv,b3=[new J(1,1,1),new J(-1,1,1),new J(1,1,-1),new J(-1,1,-1),new J(0,uv,s0),new J(0,uv,-s0),new J(s0,0,uv),new J(-s0,0,uv),new J(uv,s0,0),new J(-uv,s0,0)];class y3{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,n=.1,r=100){RP=this._renderer.getRenderTarget(),PP=this._renderer.getActiveCubeFace(),OP=this._renderer.getActiveMipmapLevel(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(t,n,r,o),e>0&&this._blur(o,0,0,e),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=E3(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=w3(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(RP,PP,OP),t.scissorTest=!1,bA(t,0,0,t.width,t.height)}_fromTexture(t,e){this._setSize(t.mapping===Gu||t.mapping===Rc?0===t.image.length?16:t.image[0].width||t.image[0].image.width:t.image.width/4),RP=this._renderer.getRenderTarget(),PP=this._renderer.getActiveCubeFace(),OP=this._renderer.getActiveMipmapLevel();const n=e||this._allocateTargets();return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,n={magFilter:ro,minFilter:ro,generateMipmaps:!1,type:z_,format:la,colorSpace:Nc,depthBuffer:!1},r=x3(t,e,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=x3(t,e,n);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function XW(i){const t=[],e=[],n=[];let r=i;const o=i-4+1+_3.length;for(let l=0;l<o;l++){const u=Math.pow(2,r);e.push(u);let f=1/u;l>i-4?f=_3[l-i+4-1]:0===l&&(f=0),n.push(f);const p=1/(u-2),b=-p,y=1+p,x=[b,b,y,b,y,y,b,b,y,y,b,y],M=6,A=6,R=3,I=2,k=1,U=new Float32Array(R*A*M),O=new Float32Array(I*A*M),B=new Float32Array(k*A*M);for(let Z=0;Z<M;Z++){const q=Z%3*2/3-1,ce=Z>2?0:-1;U.set([q,ce,0,q+2/3,ce,0,q+2/3,ce+1,0,q,ce,0,q+2/3,ce+1,0,q,ce+1,0],R*A*Z),O.set(x,I*A*Z),B.set([Z,Z,Z,Z,Z,Z],k*A*Z)}const W=new bi;W.setAttribute("position",new Yo(U,R)),W.setAttribute("uv",new Yo(O,I)),W.setAttribute("faceIndex",new Yo(B,k)),t.push(W),r>4&&r--}return{lodPlanes:t,sizeLods:e,sigmas:n}}(o)),this._blurMaterial=function KW(i,t,e){const n=new Float32Array(20),r=new J(0,1,0);return new Sp({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(o,t,e)}return r}_compileMaterial(t){const e=new Wt(this._lodPlanes[0],t);this._renderer.compile(e,kP)}_sceneToCubeUV(t,e,n,r){const u=new vs(90,1,e,n),f=[1,-1,1,1,1,1],p=[1,1,1,-1,-1,-1],b=this._renderer,y=b.autoClear,x=b.toneMapping;b.getClearColor(v3),b.toneMapping=Id,b.autoClear=!1;const M=new If({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),A=new Wt(new qn,M);let R=!1;const I=t.background;I?I.isColor&&(M.color.copy(I),t.background=null,R=!0):(M.color.copy(v3),R=!0);for(let k=0;k<6;k++){const U=k%3;0===U?(u.up.set(0,f[k],0),u.lookAt(p[k],0,0)):1===U?(u.up.set(0,0,f[k]),u.lookAt(0,p[k],0)):(u.up.set(0,f[k],0),u.lookAt(0,0,p[k]));const O=this._cubeSize;bA(r,U*O,k>2?O:0,O,O),b.setRenderTarget(r),R&&b.render(A,u),b.render(t,u)}A.geometry.dispose(),A.material.dispose(),b.toneMapping=x,b.autoClear=y,t.background=I}_textureToCubeUV(t,e){const n=this._renderer,r=t.mapping===Gu||t.mapping===Rc;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=E3()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=w3());const o=r?this._cubemapMaterial:this._equirectMaterial,l=new Wt(this._lodPlanes[0],o);o.uniforms.envMap.value=t;const f=this._cubeSize;bA(e,0,0,3*f,2*f),n.setRenderTarget(e),n.render(l,kP)}_applyPMREM(t){const e=this._renderer,n=e.autoClear;e.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const o=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]);this._blur(t,r-1,r,o,b3[(r-1)%b3.length])}e.autoClear=n}_blur(t,e,n,r,o){const l=this._pingPongRenderTarget;this._halfBlur(t,l,e,n,r,"latitudinal",o),this._halfBlur(l,t,n,n,r,"longitudinal",o)}_halfBlur(t,e,n,r,o,l,u){const f=this._renderer,p=this._blurMaterial;"latitudinal"!==l&&"longitudinal"!==l&&console.error("blur direction must be either latitudinal or longitudinal!");const y=new Wt(this._lodPlanes[r],p),x=p.uniforms,M=this._sizeLods[n]-1,A=isFinite(o)?Math.PI/(2*M):2*Math.PI/39,R=o/A,I=isFinite(o)?1+Math.floor(3*R):20;I>20&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${I} samples when the maximum is set to 20`);const k=[];let U=0;for(let q=0;q<20;++q){const ce=q/R,H=Math.exp(-ce*ce/2);k.push(H),0===q?U+=H:q<I&&(U+=2*H)}for(let q=0;q<k.length;q++)k[q]=k[q]/U;x.envMap.value=t.texture,x.samples.value=I,x.weights.value=k,x.latitudinal.value="latitudinal"===l,u&&(x.poleAxis.value=u);const{_lodMax:O}=this;x.dTheta.value=A,x.mipInt.value=O-n;const B=this._sizeLods[r];bA(e,3*B*(r>O-4?r-O+4:0),4*(this._cubeSize-B),3*B,2*B),f.setRenderTarget(e),f.render(y,kP)}}function x3(i,t,e){const n=new qu(i,t,e);return n.texture.mapping=fp,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function bA(i,t,e,n,r){i.viewport.set(t,e,n,r),i.scissor.set(t,e,n,r)}function w3(){return new Sp({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function E3(){return new Sp({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function QW(i){let t=new WeakMap,e=null;function o(u){const f=u.target;f.removeEventListener("dispose",o);const p=t.get(f);void 0!==p&&(t.delete(f),p.dispose())}return{get:function n(u){if(u&&u.isTexture){const f=u.mapping,p=303===f||304===f,b=f===Gu||f===Rc;if(p||b){if(u.isRenderTargetTexture&&!0===u.needsPMREMUpdate){u.needsPMREMUpdate=!1;let y=t.get(u);return null===e&&(e=new y3(i)),y=p?e.fromEquirectangular(u,y):e.fromCubemap(u,y),t.set(u,y),y.texture}if(t.has(u))return t.get(u).texture;{const y=u.image;if(p&&y&&y.height>0||b&&y&&function r(u){let f=0;for(let b=0;b<6;b++)void 0!==u[b]&&f++;return 6===f}(y)){null===e&&(e=new y3(i));const x=p?e.fromEquirectangular(u):e.fromCubemap(u);return t.set(u,x),u.addEventListener("dispose",o),x.texture}return null}}}return u},dispose:function l(){t=new WeakMap,null!==e&&(e.dispose(),e=null)}}}function JW(i){const t={};function e(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return t[n]=r,r}return{has:function(n){return null!==e(n)},init:function(n){n.isWebGL2?e("EXT_color_buffer_float"):(e("WEBGL_depth_texture"),e("OES_texture_float"),e("OES_texture_half_float"),e("OES_texture_half_float_linear"),e("OES_standard_derivatives"),e("OES_element_index_uint"),e("OES_vertex_array_object"),e("ANGLE_instanced_arrays")),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture")},get:function(n){const r=e(n);return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function ej(i,t,e,n){const r={},o=new WeakMap;function l(y){const x=y.target;null!==x.index&&t.remove(x.index);for(const A in x.attributes)t.remove(x.attributes[A]);for(const A in x.morphAttributes){const R=x.morphAttributes[A];for(let I=0,k=R.length;I<k;I++)t.remove(R[I])}x.removeEventListener("dispose",l),delete r[x.id];const M=o.get(x);M&&(t.remove(M),o.delete(x)),n.releaseStatesOfGeometry(x),!0===x.isInstancedBufferGeometry&&delete x._maxInstanceCount,e.memory.geometries--}function p(y){const x=[],M=y.index,A=y.attributes.position;let R=0;if(null!==M){const U=M.array;R=M.version;for(let O=0,B=U.length;O<B;O+=3){const W=U[O+0],Z=U[O+1],q=U[O+2];x.push(W,Z,Z,q,q,W)}}else{if(void 0===A)return;R=A.version;for(let O=0,B=A.array.length/3-1;O<B;O+=3){const W=O+0,Z=O+1,q=O+2;x.push(W,Z,Z,q,q,W)}}const I=new(YT(x)?EP:fA)(x,1);I.version=R;const k=o.get(y);k&&t.remove(k),o.set(y,I)}return{get:function u(y,x){return!0===r[x.id]||(x.addEventListener("dispose",l),r[x.id]=!0,e.memory.geometries++),x},update:function f(y){const x=y.attributes;for(const A in x)t.update(x[A],i.ARRAY_BUFFER);const M=y.morphAttributes;for(const A in M){const R=M[A];for(let I=0,k=R.length;I<k;I++)t.update(R[I],i.ARRAY_BUFFER)}},getWireframeAttribute:function b(y){const x=o.get(y);if(x){const M=y.index;null!==M&&x.version<M.version&&p(y)}else p(y);return o.get(y)}}}function tj(i,t,e,n){const r=n.isWebGL2;let o,u,f;this.setMode=function l(x){o=x},this.setIndex=function p(x){u=x.type,f=x.bytesPerElement},this.render=function b(x,M){i.drawElements(o,M,u,x*f),e.update(M,o,1)},this.renderInstances=function y(x,M,A){if(0===A)return;let R,I;if(r)R=i,I="drawElementsInstanced";else if(R=t.get("ANGLE_instanced_arrays"),I="drawElementsInstancedANGLE",null===R)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");R[I](o,M,u,x*f,A),e.update(M,o,A)}}function nj(i){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function r(){e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function n(o,l,u){switch(e.calls++,l){case i.TRIANGLES:e.triangles+=u*(o/3);break;case i.LINES:e.lines+=u*(o/2);break;case i.LINE_STRIP:e.lines+=u*(o-1);break;case i.LINE_LOOP:e.lines+=u*o;break;case i.POINTS:e.points+=u*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l)}}}}function ij(i,t){return i[0]-t[0]}function rj(i,t){return Math.abs(t[1])-Math.abs(i[1])}function oj(i,t,e){const n={},r=new Float32Array(8),o=new WeakMap,l=new Yi,u=[];for(let p=0;p<8;p++)u[p]=[p,0];return{update:function f(p,b,y){const x=p.morphTargetInfluences;if(!0===t.isWebGL2){const M=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,A=void 0!==M?M.length:0;let R=o.get(b);if(void 0===R||R.count!==A){let fe=function(){tt.dispose(),o.delete(b),b.removeEventListener("dispose",fe)};void 0!==R&&R.texture.dispose();const U=void 0!==b.morphAttributes.position,O=void 0!==b.morphAttributes.normal,B=void 0!==b.morphAttributes.color,W=b.morphAttributes.position||[],Z=b.morphAttributes.normal||[],q=b.morphAttributes.color||[];let ce=0;!0===U&&(ce=1),!0===O&&(ce=2),!0===B&&(ce=3);let H=b.attributes.position.count*ce,Q=1;H>t.maxTextureSize&&(Q=Math.ceil(H/t.maxTextureSize),H=t.maxTextureSize);const ke=new Float32Array(H*Q*4*A),tt=new ZT(ke,H,Q,A);tt.type=Rd,tt.needsUpdate=!0;const ft=4*ce;for(let Ue=0;Ue<A;Ue++){const ve=W[Ue],Ee=Z[Ue],ze=q[Ue],Le=H*Q*4*Ue;for(let ot=0;ot<ve.count;ot++){const me=ot*ft;!0===U&&(l.fromBufferAttribute(ve,ot),ke[Le+me+0]=l.x,ke[Le+me+1]=l.y,ke[Le+me+2]=l.z,ke[Le+me+3]=0),!0===O&&(l.fromBufferAttribute(Ee,ot),ke[Le+me+4]=l.x,ke[Le+me+5]=l.y,ke[Le+me+6]=l.z,ke[Le+me+7]=0),!0===B&&(l.fromBufferAttribute(ze,ot),ke[Le+me+8]=l.x,ke[Le+me+9]=l.y,ke[Le+me+10]=l.z,ke[Le+me+11]=4===ze.itemSize?l.w:1)}}R={count:A,texture:tt,size:new et(H,Q)},o.set(b,R),b.addEventListener("dispose",fe)}let I=0;for(let U=0;U<x.length;U++)I+=x[U];const k=b.morphTargetsRelative?1:1-I;y.getUniforms().setValue(i,"morphTargetBaseInfluence",k),y.getUniforms().setValue(i,"morphTargetInfluences",x),y.getUniforms().setValue(i,"morphTargetsTexture",R.texture,e),y.getUniforms().setValue(i,"morphTargetsTextureSize",R.size)}else{const M=void 0===x?0:x.length;let A=n[b.id];if(void 0===A||A.length!==M){A=[];for(let O=0;O<M;O++)A[O]=[O,0];n[b.id]=A}for(let O=0;O<M;O++){const B=A[O];B[0]=O,B[1]=x[O]}A.sort(rj);for(let O=0;O<8;O++)O<M&&A[O][1]?(u[O][0]=A[O][0],u[O][1]=A[O][1]):(u[O][0]=Number.MAX_SAFE_INTEGER,u[O][1]=0);u.sort(ij);const R=b.morphAttributes.position,I=b.morphAttributes.normal;let k=0;for(let O=0;O<8;O++){const B=u[O],W=B[0],Z=B[1];W!==Number.MAX_SAFE_INTEGER&&Z?(R&&b.getAttribute("morphTarget"+O)!==R[W]&&b.setAttribute("morphTarget"+O,R[W]),I&&b.getAttribute("morphNormal"+O)!==I[W]&&b.setAttribute("morphNormal"+O,I[W]),r[O]=Z,k+=Z):(R&&!0===b.hasAttribute("morphTarget"+O)&&b.deleteAttribute("morphTarget"+O),I&&!0===b.hasAttribute("morphNormal"+O)&&b.deleteAttribute("morphNormal"+O),r[O]=0)}const U=b.morphTargetsRelative?1:1-k;y.getUniforms().setValue(i,"morphTargetBaseInfluence",U),y.getUniforms().setValue(i,"morphTargetInfluences",r)}}}}function sj(i,t,e,n){let r=new WeakMap;function u(f){const p=f.target;p.removeEventListener("dispose",u),e.remove(p.instanceMatrix),null!==p.instanceColor&&e.remove(p.instanceColor)}return{update:function o(f){const p=n.render.frame,y=t.get(f,f.geometry);if(r.get(y)!==p&&(t.update(y),r.set(y,p)),f.isInstancedMesh&&(!1===f.hasEventListener("dispose",u)&&f.addEventListener("dispose",u),r.get(f)!==p&&(e.update(f.instanceMatrix,i.ARRAY_BUFFER),null!==f.instanceColor&&e.update(f.instanceColor,i.ARRAY_BUFFER),r.set(f,p))),f.isSkinnedMesh){const x=f.skeleton;r.get(x)!==p&&(x.update(),r.set(x,p))}return y},dispose:function l(){r=new WeakMap}}}const C3=new Nd,M3=new ZT,S3=new XT,T3=new pA,A3=[],D3=[],I3=new Float32Array(16),k3=new Float32Array(9),R3=new Float32Array(4);function a0(i,t,e){const n=i[0];if(n<=0||n>0)return i;const r=t*e;let o=A3[r];if(void 0===o&&(o=new Float32Array(r),A3[r]=o),0!==t){n.toArray(o,0);for(let l=1,u=0;l!==t;++l)u+=e,i[l].toArray(o,u)}return o}function qo(i,t){if(i.length!==t.length)return!1;for(let e=0,n=i.length;e<n;e++)if(i[e]!==t[e])return!1;return!0}function Zo(i,t){for(let e=0,n=t.length;e<n;e++)i[e]=t[e]}function yA(i,t){let e=D3[t];void 0===e&&(e=new Int32Array(t),D3[t]=e);for(let n=0;n!==t;++n)e[n]=i.allocateTextureUnit();return e}function aj(i,t){const e=this.cache;e[0]!==t&&(i.uniform1f(this.addr,t),e[0]=t)}function cj(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(qo(e,t))return;i.uniform2fv(this.addr,t),Zo(e,t)}}function lj(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(void 0!==t.r)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(i.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(qo(e,t))return;i.uniform3fv(this.addr,t),Zo(e,t)}}function dj(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(qo(e,t))return;i.uniform4fv(this.addr,t),Zo(e,t)}}function uj(i,t){const e=this.cache,n=t.elements;if(void 0===n){if(qo(e,t))return;i.uniformMatrix2fv(this.addr,!1,t),Zo(e,t)}else{if(qo(e,n))return;R3.set(n),i.uniformMatrix2fv(this.addr,!1,R3),Zo(e,n)}}function hj(i,t){const e=this.cache,n=t.elements;if(void 0===n){if(qo(e,t))return;i.uniformMatrix3fv(this.addr,!1,t),Zo(e,t)}else{if(qo(e,n))return;k3.set(n),i.uniformMatrix3fv(this.addr,!1,k3),Zo(e,n)}}function fj(i,t){const e=this.cache,n=t.elements;if(void 0===n){if(qo(e,t))return;i.uniformMatrix4fv(this.addr,!1,t),Zo(e,t)}else{if(qo(e,n))return;I3.set(n),i.uniformMatrix4fv(this.addr,!1,I3),Zo(e,n)}}function mj(i,t){const e=this.cache;e[0]!==t&&(i.uniform1i(this.addr,t),e[0]=t)}function pj(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2i(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(qo(e,t))return;i.uniform2iv(this.addr,t),Zo(e,t)}}function gj(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3i(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(qo(e,t))return;i.uniform3iv(this.addr,t),Zo(e,t)}}function _j(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4i(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(qo(e,t))return;i.uniform4iv(this.addr,t),Zo(e,t)}}function vj(i,t){const e=this.cache;e[0]!==t&&(i.uniform1ui(this.addr,t),e[0]=t)}function bj(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2ui(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(qo(e,t))return;i.uniform2uiv(this.addr,t),Zo(e,t)}}function yj(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3ui(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(qo(e,t))return;i.uniform3uiv(this.addr,t),Zo(e,t)}}function xj(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4ui(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(qo(e,t))return;i.uniform4uiv(this.addr,t),Zo(e,t)}}function wj(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTexture2D(t||C3,r)}function Ej(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTexture3D(t||S3,r)}function Cj(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTextureCube(t||T3,r)}function Mj(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTexture2DArray(t||M3,r)}function Tj(i,t){i.uniform1fv(this.addr,t)}function Aj(i,t){const e=a0(t,this.size,2);i.uniform2fv(this.addr,e)}function Dj(i,t){const e=a0(t,this.size,3);i.uniform3fv(this.addr,e)}function Ij(i,t){const e=a0(t,this.size,4);i.uniform4fv(this.addr,e)}function kj(i,t){const e=a0(t,this.size,4);i.uniformMatrix2fv(this.addr,!1,e)}function Rj(i,t){const e=a0(t,this.size,9);i.uniformMatrix3fv(this.addr,!1,e)}function Pj(i,t){const e=a0(t,this.size,16);i.uniformMatrix4fv(this.addr,!1,e)}function Oj(i,t){i.uniform1iv(this.addr,t)}function Nj(i,t){i.uniform2iv(this.addr,t)}function Lj(i,t){i.uniform3iv(this.addr,t)}function Fj(i,t){i.uniform4iv(this.addr,t)}function Uj(i,t){i.uniform1uiv(this.addr,t)}function Bj(i,t){i.uniform2uiv(this.addr,t)}function Vj(i,t){i.uniform3uiv(this.addr,t)}function zj(i,t){i.uniform4uiv(this.addr,t)}function Hj(i,t,e){const n=this.cache,r=t.length,o=yA(e,r);qo(n,o)||(i.uniform1iv(this.addr,o),Zo(n,o));for(let l=0;l!==r;++l)e.setTexture2D(t[l]||C3,o[l])}function Gj(i,t,e){const n=this.cache,r=t.length,o=yA(e,r);qo(n,o)||(i.uniform1iv(this.addr,o),Zo(n,o));for(let l=0;l!==r;++l)e.setTexture3D(t[l]||S3,o[l])}function Wj(i,t,e){const n=this.cache,r=t.length,o=yA(e,r);qo(n,o)||(i.uniform1iv(this.addr,o),Zo(n,o));for(let l=0;l!==r;++l)e.setTextureCube(t[l]||T3,o[l])}function jj(i,t,e){const n=this.cache,r=t.length,o=yA(e,r);qo(n,o)||(i.uniform1iv(this.addr,o),Zo(n,o));for(let l=0;l!==r;++l)e.setTexture2DArray(t[l]||M3,o[l])}class Yj{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function Sj(i){switch(i){case 5126:return aj;case 35664:return cj;case 35665:return lj;case 35666:return dj;case 35674:return uj;case 35675:return hj;case 35676:return fj;case 5124:case 35670:return mj;case 35667:case 35671:return pj;case 35668:case 35672:return gj;case 35669:case 35673:return _j;case 5125:return vj;case 36294:return bj;case 36295:return yj;case 36296:return xj;case 35678:case 36198:case 36298:case 36306:case 35682:return wj;case 35679:case 36299:case 36307:return Ej;case 35680:case 36300:case 36308:case 36293:return Cj;case 36289:case 36303:case 36311:case 36292:return Mj}}(e.type)}}class qj{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function $j(i){switch(i){case 5126:return Tj;case 35664:return Aj;case 35665:return Dj;case 35666:return Ij;case 35674:return kj;case 35675:return Rj;case 35676:return Pj;case 5124:case 35670:return Oj;case 35667:case 35671:return Nj;case 35668:case 35672:return Lj;case 35669:case 35673:return Fj;case 5125:return Uj;case 36294:return Bj;case 36295:return Vj;case 36296:return zj;case 35678:case 36198:case 36298:case 36306:case 35682:return Hj;case 35679:case 36299:case 36307:return Gj;case 35680:case 36300:case 36308:case 36293:return Wj;case 36289:case 36303:case 36311:case 36292:return jj}}(e.type)}}class Zj{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,n){const r=this.seq;for(let o=0,l=r.length;o!==l;++o){const u=r[o];u.setValue(t,e[u.id],n)}}}const LP=/(\w+)(\])?(\[|\.)?/g;function P3(i,t){i.seq.push(t),i.map[t.id]=t}function Xj(i,t,e){const n=i.name,r=n.length;for(LP.lastIndex=0;;){const o=LP.exec(n);let u=o[1];const p=o[3];if("]"===o[2]&&(u|=0),void 0===p||"["===p&&LP.lastIndex+2===r){P3(e,void 0===p?new Yj(u,i,t):new qj(u,i,t));break}{let y=e.map[u];void 0===y&&(y=new Zj(u),P3(e,y)),e=y}}}class xA{constructor(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const o=t.getActiveUniform(e,r);Xj(o,t.getUniformLocation(e,o.name),this)}}setValue(t,e,n,r){const o=this.map[e];void 0!==o&&o.setValue(t,n,r)}setOptional(t,e,n){const r=e[n];void 0!==r&&this.setValue(t,n,r)}static upload(t,e,n,r){for(let o=0,l=e.length;o!==l;++o){const u=e[o],f=n[u.id];!1!==f.needsUpdate&&u.setValue(t,f.value,r)}}static seqWithValue(t,e){const n=[];for(let r=0,o=t.length;r!==o;++r){const l=t[r];l.id in e&&n.push(l)}return n}}function O3(i,t,e){const n=i.createShader(t);return i.shaderSource(n,e),i.compileShader(n),n}const Kj=37297;let Qj=0;function N3(i,t,e){const n=i.getShaderParameter(t,i.COMPILE_STATUS),r=i.getShaderInfoLog(t).trim();if(n&&""===r)return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const l=parseInt(o[1]);return e.toUpperCase()+"\n\n"+r+"\n\n"+function Jj(i,t){const e=i.split("\n"),n=[],r=Math.max(t-6,0),o=Math.min(t+6,e.length);for(let l=r;l<o;l++){const u=l+1;n.push(`${u===t?">":" "} ${u}: ${e[l]}`)}return n.join("\n")}(i.getShaderSource(t),l)}return r}function t8(i,t){const e=function e8(i){const t=Ni.getPrimaries(Ni.workingColorSpace),e=Ni.getPrimaries(i);let n;switch(t===e?n="":t===zy&&e===Od?n="LinearDisplayP3ToLinearSRGB":t===Od&&e===zy&&(n="LinearSRGBToLinearDisplayP3"),i){case Nc:case $_:return[n,"LinearTransferOETF"];case Wr:case zT:return[n,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",i),[n,"LinearTransferOETF"]}}(t);return`vec4 ${i}( vec4 value ) { return ${e[0]}( ${e[1]}( value ) ); }`}function n8(i,t){let e;switch(t){case R1:e="Linear";break;case P1:e="Reinhard";break;case O1:e="OptimizedCineon";break;case N1:e="ACESFilmic";break;case L1:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+i+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}function AE(i){return""!==i}function L3(i,t){const e=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,e).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function F3(i,t){return i.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const s8=/^[ \t]*#include +<([\w\d./]+)>/gm;function FP(i){return i.replace(s8,c8)}const a8=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function c8(i,t){let e=di[t];if(void 0===e){const n=a8.get(t);if(void 0===n)throw new Error("Can not resolve #include <"+t+">");e=di[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,n)}return FP(e)}const l8=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function U3(i){return i.replace(l8,d8)}function d8(i,t,e,n){let r="";for(let o=parseInt(t);o<parseInt(e);o++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function B3(i){let t="precision "+i.precision+" float;\nprecision "+i.precision+" int;";return"highp"===i.precision?t+="\n#define HIGH_PRECISION":"mediump"===i.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===i.precision&&(t+="\n#define LOW_PRECISION"),t}function g8(i,t,e,n){const r=i.getContext(),o=e.defines;let l=e.vertexShader,u=e.fragmentShader;const f=function u8(i){let t="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===pT?t="SHADOWMAP_TYPE_PCF":i.shadowMapType===b1?t="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===_l&&(t="SHADOWMAP_TYPE_VSM"),t}(e),p=function h8(i){let t="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case Gu:case Rc:t="ENVMAP_TYPE_CUBE";break;case fp:t="ENVMAP_TYPE_CUBE_UV"}return t}(e),b=function f8(i){let t="ENVMAP_MODE_REFLECTION";return i.envMap&&i.envMapMode===Rc&&(t="ENVMAP_MODE_REFRACTION"),t}(e),y=function m8(i){let t="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case Hw:t="ENVMAP_BLENDING_MULTIPLY";break;case I1:t="ENVMAP_BLENDING_MIX";break;case k1:t="ENVMAP_BLENDING_ADD"}return t}(e),x=function p8(i){const t=i.envMapCubeUVHeight;if(null===t)return null;const e=Math.log2(t)-2,n=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),112)),texelHeight:n,maxMip:e}}(e),M=e.isWebGL2?"":function i8(i){return[i.extensionDerivatives||i.envMapCubeUVHeight||i.bumpMap||i.normalMapTangentSpace||i.clearcoatNormalMap||i.flatShading||"physical"===i.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(i.extensionFragDepth||i.logarithmicDepthBuffer)&&i.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",i.extensionDrawBuffers&&i.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(i.extensionShaderTextureLOD||i.envMap||i.transmission)&&i.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(AE).join("\n")}(e),A=function r8(i){const t=[];for(const e in i){const n=i[e];!1!==n&&t.push("#define "+e+" "+n)}return t.join("\n")}(o),R=r.createProgram();let I,k,U=e.glslVersion?"#version "+e.glslVersion+"\n":"";e.isRawShaderMaterial?(I=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,A].filter(AE).join("\n"),I.length>0&&(I+="\n"),k=[M,"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,A].filter(AE).join("\n"),k.length>0&&(k+="\n")):(I=[B3(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,A,e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+b:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.displacementMap?"#define USE_DISPLACEMENTMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.mapUv?"#define MAP_UV "+e.mapUv:"",e.alphaMapUv?"#define ALPHAMAP_UV "+e.alphaMapUv:"",e.lightMapUv?"#define LIGHTMAP_UV "+e.lightMapUv:"",e.aoMapUv?"#define AOMAP_UV "+e.aoMapUv:"",e.emissiveMapUv?"#define EMISSIVEMAP_UV "+e.emissiveMapUv:"",e.bumpMapUv?"#define BUMPMAP_UV "+e.bumpMapUv:"",e.normalMapUv?"#define NORMALMAP_UV "+e.normalMapUv:"",e.displacementMapUv?"#define DISPLACEMENTMAP_UV "+e.displacementMapUv:"",e.metalnessMapUv?"#define METALNESSMAP_UV "+e.metalnessMapUv:"",e.roughnessMapUv?"#define ROUGHNESSMAP_UV "+e.roughnessMapUv:"",e.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+e.anisotropyMapUv:"",e.clearcoatMapUv?"#define CLEARCOATMAP_UV "+e.clearcoatMapUv:"",e.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+e.clearcoatNormalMapUv:"",e.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+e.clearcoatRoughnessMapUv:"",e.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+e.iridescenceMapUv:"",e.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+e.iridescenceThicknessMapUv:"",e.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+e.sheenColorMapUv:"",e.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+e.sheenRoughnessMapUv:"",e.specularMapUv?"#define SPECULARMAP_UV "+e.specularMapUv:"",e.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+e.specularColorMapUv:"",e.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+e.specularIntensityMapUv:"",e.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+e.transmissionMapUv:"",e.thicknessMapUv?"#define THICKNESSMAP_UV "+e.thicknessMapUv:"",e.vertexTangents&&!1===e.flatShading?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&!1===e.flatShading?"#define USE_MORPHNORMALS":"",e.morphColors&&e.isWebGL2?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+f:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.useLegacyLights?"#define LEGACY_LIGHTS":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(AE).join("\n"),k=[M,B3(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,A,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+p:"",e.envMap?"#define "+b:"",e.envMap?"#define "+y:"",x?"#define CUBEUV_TEXEL_WIDTH "+x.texelWidth:"",x?"#define CUBEUV_TEXEL_HEIGHT "+x.texelHeight:"",x?"#define CUBEUV_MAX_MIP "+x.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents&&!1===e.flatShading?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+f:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.useLegacyLights?"#define LEGACY_LIGHTS":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==Id?"#define TONE_MAPPING":"",e.toneMapping!==Id?di.tonemapping_pars_fragment:"",e.toneMapping!==Id?n8("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",di.colorspace_pars_fragment,t8("linearToOutputTexel",e.outputColorSpace),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"","\n"].filter(AE).join("\n")),l=FP(l),l=L3(l,e),l=F3(l,e),u=FP(u),u=L3(u,e),u=F3(u,e),l=U3(l),u=U3(u),e.isWebGL2&&!0!==e.isRawShaderMaterial&&(U="#version 300 es\n",I=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+I,k=["precision mediump sampler2DArray;","#define varying in",e.glslVersion===uE?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===uE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+k);const B=U+k+u,W=O3(r,r.VERTEX_SHADER,U+I+l),Z=O3(r,r.FRAGMENT_SHADER,B);function q(ke){if(i.debug.checkShaderErrors){const tt=r.getProgramInfoLog(R).trim(),ft=r.getShaderInfoLog(W).trim(),fe=r.getShaderInfoLog(Z).trim();let Ue=!0,ve=!0;if(!1===r.getProgramParameter(R,r.LINK_STATUS))if(Ue=!1,"function"==typeof i.debug.onShaderError)i.debug.onShaderError(r,R,W,Z);else{const Ee=N3(r,W,"vertex"),ze=N3(r,Z,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(R,r.VALIDATE_STATUS)+"\n\nProgram Info Log: "+tt+"\n"+Ee+"\n"+ze)}else""!==tt?console.warn("THREE.WebGLProgram: Program Info Log:",tt):(""===ft||""===fe)&&(ve=!1);ve&&(ke.diagnostics={runnable:Ue,programLog:tt,vertexShader:{log:ft,prefix:I},fragmentShader:{log:fe,prefix:k}})}r.deleteShader(W),r.deleteShader(Z),ce=new xA(r,R),H=function o8(i,t){const e={},n=i.getProgramParameter(t,i.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){const o=i.getActiveAttrib(t,r),l=o.name;let u=1;o.type===i.FLOAT_MAT2&&(u=2),o.type===i.FLOAT_MAT3&&(u=3),o.type===i.FLOAT_MAT4&&(u=4),e[l]={type:o.type,location:i.getAttribLocation(t,l),locationSize:u}}return e}(r,R)}let ce,H;r.attachShader(R,W),r.attachShader(R,Z),void 0!==e.index0AttributeName?r.bindAttribLocation(R,0,e.index0AttributeName):!0===e.morphTargets&&r.bindAttribLocation(R,0,"position"),r.linkProgram(R),this.getUniforms=function(){return void 0===ce&&q(this),ce},this.getAttributes=function(){return void 0===H&&q(this),H};let Q=!1===e.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===Q&&(Q=r.getProgramParameter(R,Kj)),Q},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(R),this.program=void 0},this.type=e.shaderType,this.name=e.shaderName,this.id=Qj++,this.cacheKey=t,this.usedTimes=1,this.program=R,this.vertexShader=W,this.fragmentShader=Z,this}let _8=0;class v8{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const n=t.fragmentShader,r=this._getShaderStage(t.vertexShader),o=this._getShaderStage(n),l=this._getShaderCacheForMaterial(t);return!1===l.has(r)&&(l.add(r),r.usedTimes++),!1===l.has(o)&&(l.add(o),o.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const n of e)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let n=e.get(t);return void 0===n&&(n=new Set,e.set(t,n)),n}_getShaderStage(t){const e=this.shaderCache;let n=e.get(t);return void 0===n&&(n=new b8(t),e.set(t,n)),n}}class b8{constructor(t){this.id=_8++,this.code=t,this.usedTimes=0}}function y8(i,t,e,n,r,o,l){const u=new iA,f=new v8,p=[],b=r.isWebGL2,y=r.logarithmicDepthBuffer,x=r.vertexTextures;let M=r.precision;const A={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function R(H){return 0===H?"uv":`uv${H}`}return{getParameters:function I(H,Q,ke,tt,ft){const fe=tt.fog,Ue=ft.geometry,Ee=(H.isMeshStandardMaterial?e:t).get(H.envMap||(H.isMeshStandardMaterial?tt.environment:null)),ze=Ee&&Ee.mapping===fp?Ee.image.height:null,Le=A[H.type];null!==H.precision&&(M=r.getMaxPrecision(H.precision),M!==H.precision&&console.warn("THREE.WebGLProgram.getParameters:",H.precision,"not supported, using",M,"instead."));const ot=Ue.morphAttributes.position||Ue.morphAttributes.normal||Ue.morphAttributes.color,me=void 0!==ot?ot.length:0;let Ut,Et,en,Fn,We=0;if(void 0!==Ue.morphAttributes.position&&(We=1),void 0!==Ue.morphAttributes.normal&&(We=2),void 0!==Ue.morphAttributes.color&&(We=3),Le){const ko=Qu[Le];Ut=ko.vertexShader,Et=ko.fragmentShader}else Ut=H.vertexShader,Et=H.fragmentShader,f.update(H),en=f.getVertexShaderID(H),Fn=f.getFragmentShaderID(H);const on=i.getRenderTarget(),gn=!0===ft.isInstancedMesh,bn=!!H.map,In=!!Ee,le=!!H.aoMap,Vt=!!H.lightMap,at=!!H.bumpMap,Mt=!!H.normalMap,vt=!!H.displacementMap,Tn=!!H.emissiveMap,Kt=!!H.metalnessMap,an=!!H.roughnessMap,Gn=H.anisotropy>0,xi=H.clearcoat>0,Rr=H.iridescence>0,te=H.sheen>0,G=H.transmission>0,Be=Gn&&!!H.anisotropyMap,Tt=xi&&!!H.clearcoatMap,wt=xi&&!!H.clearcoatNormalMap,It=xi&&!!H.clearcoatRoughnessMap,_n=Rr&&!!H.iridescenceMap,Nt=Rr&&!!H.iridescenceThicknessMap,qt=te&&!!H.sheenColorMap,de=te&&!!H.sheenRoughnessMap,Lt=!!H.specularMap,pt=!!H.specularColorMap,jn=!!H.specularIntensityMap,Mn=G&&!!H.transmissionMap,Un=G&&!!H.thicknessMap,sn=!!H.alphaMap,Ht=!!H.extensions,Ct=!!Ue.attributes.uv1,nt=!!Ue.attributes.uv2,Rt=!!Ue.attributes.uv3;let kn=Id;return H.toneMapped&&(null===on||!0===on.isXRRenderTarget)&&(kn=i.toneMapping),{isWebGL2:b,shaderID:Le,shaderType:H.type,shaderName:H.name,vertexShader:Ut,fragmentShader:Et,defines:H.defines,customVertexShaderID:en,customFragmentShaderID:Fn,isRawShaderMaterial:!0===H.isRawShaderMaterial,glslVersion:H.glslVersion,precision:M,instancing:gn,instancingColor:gn&&null!==ft.instanceColor,supportsVertexTextures:x,outputColorSpace:null===on?i.outputColorSpace:!0===on.isXRRenderTarget?on.texture.colorSpace:Nc,map:bn,matcap:!!H.matcap,envMap:In,envMapMode:In&&Ee.mapping,envMapCubeUVHeight:ze,aoMap:le,lightMap:Vt,bumpMap:at,normalMap:Mt,displacementMap:x&&vt,emissiveMap:Tn,normalMapObjectSpace:Mt&&1===H.normalMapType,normalMapTangentSpace:Mt&&0===H.normalMapType,metalnessMap:Kt,roughnessMap:an,anisotropy:Gn,anisotropyMap:Be,clearcoat:xi,clearcoatMap:Tt,clearcoatNormalMap:wt,clearcoatRoughnessMap:It,iridescence:Rr,iridescenceMap:_n,iridescenceThicknessMap:Nt,sheen:te,sheenColorMap:qt,sheenRoughnessMap:de,specularMap:Lt,specularColorMap:pt,specularIntensityMap:jn,transmission:G,transmissionMap:Mn,thicknessMap:Un,gradientMap:!!H.gradientMap,opaque:!1===H.transparent&&1===H.blending,alphaMap:sn,alphaTest:H.alphaTest>0,alphaHash:!!H.alphaHash,combine:H.combine,mapUv:bn&&R(H.map.channel),aoMapUv:le&&R(H.aoMap.channel),lightMapUv:Vt&&R(H.lightMap.channel),bumpMapUv:at&&R(H.bumpMap.channel),normalMapUv:Mt&&R(H.normalMap.channel),displacementMapUv:vt&&R(H.displacementMap.channel),emissiveMapUv:Tn&&R(H.emissiveMap.channel),metalnessMapUv:Kt&&R(H.metalnessMap.channel),roughnessMapUv:an&&R(H.roughnessMap.channel),anisotropyMapUv:Be&&R(H.anisotropyMap.channel),clearcoatMapUv:Tt&&R(H.clearcoatMap.channel),clearcoatNormalMapUv:wt&&R(H.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:It&&R(H.clearcoatRoughnessMap.channel),iridescenceMapUv:_n&&R(H.iridescenceMap.channel),iridescenceThicknessMapUv:Nt&&R(H.iridescenceThicknessMap.channel),sheenColorMapUv:qt&&R(H.sheenColorMap.channel),sheenRoughnessMapUv:de&&R(H.sheenRoughnessMap.channel),specularMapUv:Lt&&R(H.specularMap.channel),specularColorMapUv:pt&&R(H.specularColorMap.channel),specularIntensityMapUv:jn&&R(H.specularIntensityMap.channel),transmissionMapUv:Mn&&R(H.transmissionMap.channel),thicknessMapUv:Un&&R(H.thicknessMap.channel),alphaMapUv:sn&&R(H.alphaMap.channel),vertexTangents:!!Ue.attributes.tangent&&(Mt||Gn),vertexColors:H.vertexColors,vertexAlphas:!0===H.vertexColors&&!!Ue.attributes.color&&4===Ue.attributes.color.itemSize,vertexUv1s:Ct,vertexUv2s:nt,vertexUv3s:Rt,pointsUvs:!0===ft.isPoints&&!!Ue.attributes.uv&&(bn||sn),fog:!!fe,useFog:!0===H.fog,fogExp2:fe&&fe.isFogExp2,flatShading:!0===H.flatShading,sizeAttenuation:!0===H.sizeAttenuation,logarithmicDepthBuffer:y,skinning:!0===ft.isSkinnedMesh,morphTargets:void 0!==Ue.morphAttributes.position,morphNormals:void 0!==Ue.morphAttributes.normal,morphColors:void 0!==Ue.morphAttributes.color,morphTargetsCount:me,morphTextureStride:We,numDirLights:Q.directional.length,numPointLights:Q.point.length,numSpotLights:Q.spot.length,numSpotLightMaps:Q.spotLightMap.length,numRectAreaLights:Q.rectArea.length,numHemiLights:Q.hemi.length,numDirLightShadows:Q.directionalShadowMap.length,numPointLightShadows:Q.pointShadowMap.length,numSpotLightShadows:Q.spotShadowMap.length,numSpotLightShadowsWithMaps:Q.numSpotLightShadowsWithMaps,numLightProbes:Q.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:H.dithering,shadowMapEnabled:i.shadowMap.enabled&&ke.length>0,shadowMapType:i.shadowMap.type,toneMapping:kn,useLegacyLights:i._useLegacyLights,decodeVideoTexture:bn&&!0===H.map.isVideoTexture&&Ni.getTransfer(H.map.colorSpace)===nr,premultipliedAlpha:H.premultipliedAlpha,doubleSided:2===H.side,flipSided:1===H.side,useDepthPacking:H.depthPacking>=0,depthPacking:H.depthPacking||0,index0AttributeName:H.index0AttributeName,extensionDerivatives:Ht&&!0===H.extensions.derivatives,extensionFragDepth:Ht&&!0===H.extensions.fragDepth,extensionDrawBuffers:Ht&&!0===H.extensions.drawBuffers,extensionShaderTextureLOD:Ht&&!0===H.extensions.shaderTextureLOD,rendererExtensionFragDepth:b||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:b||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:b||n.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:H.customProgramCacheKey()}},getProgramCacheKey:function k(H){const Q=[];if(H.shaderID?Q.push(H.shaderID):(Q.push(H.customVertexShaderID),Q.push(H.customFragmentShaderID)),void 0!==H.defines)for(const ke in H.defines)Q.push(ke),Q.push(H.defines[ke]);return!1===H.isRawShaderMaterial&&(function U(H,Q){H.push(Q.precision),H.push(Q.outputColorSpace),H.push(Q.envMapMode),H.push(Q.envMapCubeUVHeight),H.push(Q.mapUv),H.push(Q.alphaMapUv),H.push(Q.lightMapUv),H.push(Q.aoMapUv),H.push(Q.bumpMapUv),H.push(Q.normalMapUv),H.push(Q.displacementMapUv),H.push(Q.emissiveMapUv),H.push(Q.metalnessMapUv),H.push(Q.roughnessMapUv),H.push(Q.anisotropyMapUv),H.push(Q.clearcoatMapUv),H.push(Q.clearcoatNormalMapUv),H.push(Q.clearcoatRoughnessMapUv),H.push(Q.iridescenceMapUv),H.push(Q.iridescenceThicknessMapUv),H.push(Q.sheenColorMapUv),H.push(Q.sheenRoughnessMapUv),H.push(Q.specularMapUv),H.push(Q.specularColorMapUv),H.push(Q.specularIntensityMapUv),H.push(Q.transmissionMapUv),H.push(Q.thicknessMapUv),H.push(Q.combine),H.push(Q.fogExp2),H.push(Q.sizeAttenuation),H.push(Q.morphTargetsCount),H.push(Q.morphAttributeCount),H.push(Q.numDirLights),H.push(Q.numPointLights),H.push(Q.numSpotLights),H.push(Q.numSpotLightMaps),H.push(Q.numHemiLights),H.push(Q.numRectAreaLights),H.push(Q.numDirLightShadows),H.push(Q.numPointLightShadows),H.push(Q.numSpotLightShadows),H.push(Q.numSpotLightShadowsWithMaps),H.push(Q.numLightProbes),H.push(Q.shadowMapType),H.push(Q.toneMapping),H.push(Q.numClippingPlanes),H.push(Q.numClipIntersection),H.push(Q.depthPacking)}(Q,H),function O(H,Q){u.disableAll(),Q.isWebGL2&&u.enable(0),Q.supportsVertexTextures&&u.enable(1),Q.instancing&&u.enable(2),Q.instancingColor&&u.enable(3),Q.matcap&&u.enable(4),Q.envMap&&u.enable(5),Q.normalMapObjectSpace&&u.enable(6),Q.normalMapTangentSpace&&u.enable(7),Q.clearcoat&&u.enable(8),Q.iridescence&&u.enable(9),Q.alphaTest&&u.enable(10),Q.vertexColors&&u.enable(11),Q.vertexAlphas&&u.enable(12),Q.vertexUv1s&&u.enable(13),Q.vertexUv2s&&u.enable(14),Q.vertexUv3s&&u.enable(15),Q.vertexTangents&&u.enable(16),Q.anisotropy&&u.enable(17),Q.alphaHash&&u.enable(18),H.push(u.mask),u.disableAll(),Q.fog&&u.enable(0),Q.useFog&&u.enable(1),Q.flatShading&&u.enable(2),Q.logarithmicDepthBuffer&&u.enable(3),Q.skinning&&u.enable(4),Q.morphTargets&&u.enable(5),Q.morphNormals&&u.enable(6),Q.morphColors&&u.enable(7),Q.premultipliedAlpha&&u.enable(8),Q.shadowMapEnabled&&u.enable(9),Q.useLegacyLights&&u.enable(10),Q.doubleSided&&u.enable(11),Q.flipSided&&u.enable(12),Q.useDepthPacking&&u.enable(13),Q.dithering&&u.enable(14),Q.transmission&&u.enable(15),Q.sheen&&u.enable(16),Q.opaque&&u.enable(17),Q.pointsUvs&&u.enable(18),Q.decodeVideoTexture&&u.enable(19),H.push(u.mask)}(Q,H),Q.push(i.outputColorSpace)),Q.push(H.customProgramCacheKey),Q.join()},getUniforms:function B(H){const Q=A[H.type];let ke;return ke=Q?TE.clone(Qu[Q].uniforms):H.uniforms,ke},acquireProgram:function W(H,Q){let ke;for(let tt=0,ft=p.length;tt<ft;tt++){const fe=p[tt];if(fe.cacheKey===Q){ke=fe,++ke.usedTimes;break}}return void 0===ke&&(ke=new g8(i,Q,H,o),p.push(ke)),ke},releaseProgram:function Z(H){if(0==--H.usedTimes){const Q=p.indexOf(H);p[Q]=p[p.length-1],p.pop(),H.destroy()}},releaseShaderCache:function q(H){f.remove(H)},programs:p,dispose:function ce(){f.dispose()}}}function x8(){let i=new WeakMap;return{get:function t(o){let l=i.get(o);return void 0===l&&(l={},i.set(o,l)),l},remove:function e(o){i.delete(o)},update:function n(o,l,u){i.get(o)[l]=u},dispose:function r(){i=new WeakMap}}}function w8(i,t){return i.groupOrder!==t.groupOrder?i.groupOrder-t.groupOrder:i.renderOrder!==t.renderOrder?i.renderOrder-t.renderOrder:i.material.id!==t.material.id?i.material.id-t.material.id:i.z!==t.z?i.z-t.z:i.id-t.id}function V3(i,t){return i.groupOrder!==t.groupOrder?i.groupOrder-t.groupOrder:i.renderOrder!==t.renderOrder?i.renderOrder-t.renderOrder:i.z!==t.z?t.z-i.z:i.id-t.id}function z3(){const i=[];let t=0;const e=[],n=[],r=[];function l(y,x,M,A,R,I){let k=i[t];return void 0===k?(k={id:y.id,object:y,geometry:x,material:M,groupOrder:A,renderOrder:y.renderOrder,z:R,group:I},i[t]=k):(k.id=y.id,k.object=y,k.geometry=x,k.material=M,k.groupOrder=A,k.renderOrder=y.renderOrder,k.z=R,k.group=I),t++,k}return{opaque:e,transmissive:n,transparent:r,init:function o(){t=0,e.length=0,n.length=0,r.length=0},push:function u(y,x,M,A,R,I){const k=l(y,x,M,A,R,I);M.transmission>0?n.push(k):!0===M.transparent?r.push(k):e.push(k)},unshift:function f(y,x,M,A,R,I){const k=l(y,x,M,A,R,I);M.transmission>0?n.unshift(k):!0===M.transparent?r.unshift(k):e.unshift(k)},finish:function b(){for(let y=t,x=i.length;y<x;y++){const M=i[y];if(null===M.id)break;M.id=null,M.object=null,M.geometry=null,M.material=null,M.group=null}},sort:function p(y,x){e.length>1&&e.sort(y||w8),n.length>1&&n.sort(x||V3),r.length>1&&r.sort(x||V3)}}}function E8(){let i=new WeakMap;return{get:function t(n,r){const o=i.get(n);let l;return void 0===o?(l=new z3,i.set(n,[l])):r>=o.length?(l=new z3,o.push(l)):l=o[r],l},dispose:function e(){i=new WeakMap}}}function C8(){const i={};return{get:function(t){if(void 0!==i[t.id])return i[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new J,color:new Jt};break;case"SpotLight":e={position:new J,direction:new J,color:new Jt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new J,color:new Jt,distance:0,decay:0};break;case"HemisphereLight":e={direction:new J,skyColor:new Jt,groundColor:new Jt};break;case"RectAreaLight":e={color:new Jt,position:new J,halfWidth:new J,halfHeight:new J}}return i[t.id]=e,e}}}let S8=0;function T8(i,t){return(t.castShadow?2:0)-(i.castShadow?2:0)+(t.map?1:0)-(i.map?1:0)}function A8(i,t){const e=new C8,n=function M8(){const i={};return{get:function(t){if(void 0!==i[t.id])return i[t.id];let e;switch(t.type){case"DirectionalLight":case"SpotLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new et};break;case"PointLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new et,shadowCameraNear:1,shadowCameraFar:1e3}}return i[t.id]=e,e}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let b=0;b<9;b++)r.probe.push(new J);const o=new J,l=new ei,u=new ei;return{setup:function f(b,y){let x=0,M=0,A=0;for(let tt=0;tt<9;tt++)r.probe[tt].set(0,0,0);let R=0,I=0,k=0,U=0,O=0,B=0,W=0,Z=0,q=0,ce=0,H=0;b.sort(T8);const Q=!0===y?Math.PI:1;for(let tt=0,ft=b.length;tt<ft;tt++){const fe=b[tt],Ue=fe.color,ve=fe.intensity,Ee=fe.distance,ze=fe.shadow&&fe.shadow.map?fe.shadow.map.texture:null;if(fe.isAmbientLight)x+=Ue.r*ve*Q,M+=Ue.g*ve*Q,A+=Ue.b*ve*Q;else if(fe.isLightProbe){for(let Le=0;Le<9;Le++)r.probe[Le].addScaledVector(fe.sh.coefficients[Le],ve);H++}else if(fe.isDirectionalLight){const Le=e.get(fe);if(Le.color.copy(fe.color).multiplyScalar(fe.intensity*Q),fe.castShadow){const ot=fe.shadow,me=n.get(fe);me.shadowBias=ot.bias,me.shadowNormalBias=ot.normalBias,me.shadowRadius=ot.radius,me.shadowMapSize=ot.mapSize,r.directionalShadow[R]=me,r.directionalShadowMap[R]=ze,r.directionalShadowMatrix[R]=fe.shadow.matrix,B++}r.directional[R]=Le,R++}else if(fe.isSpotLight){const Le=e.get(fe);Le.position.setFromMatrixPosition(fe.matrixWorld),Le.color.copy(Ue).multiplyScalar(ve*Q),Le.distance=Ee,Le.coneCos=Math.cos(fe.angle),Le.penumbraCos=Math.cos(fe.angle*(1-fe.penumbra)),Le.decay=fe.decay,r.spot[k]=Le;const ot=fe.shadow;if(fe.map&&(r.spotLightMap[q]=fe.map,q++,ot.updateMatrices(fe),fe.castShadow&&ce++),r.spotLightMatrix[k]=ot.matrix,fe.castShadow){const me=n.get(fe);me.shadowBias=ot.bias,me.shadowNormalBias=ot.normalBias,me.shadowRadius=ot.radius,me.shadowMapSize=ot.mapSize,r.spotShadow[k]=me,r.spotShadowMap[k]=ze,Z++}k++}else if(fe.isRectAreaLight){const Le=e.get(fe);Le.color.copy(Ue).multiplyScalar(ve),Le.halfWidth.set(.5*fe.width,0,0),Le.halfHeight.set(0,.5*fe.height,0),r.rectArea[U]=Le,U++}else if(fe.isPointLight){const Le=e.get(fe);if(Le.color.copy(fe.color).multiplyScalar(fe.intensity*Q),Le.distance=fe.distance,Le.decay=fe.decay,fe.castShadow){const ot=fe.shadow,me=n.get(fe);me.shadowBias=ot.bias,me.shadowNormalBias=ot.normalBias,me.shadowRadius=ot.radius,me.shadowMapSize=ot.mapSize,me.shadowCameraNear=ot.camera.near,me.shadowCameraFar=ot.camera.far,r.pointShadow[I]=me,r.pointShadowMap[I]=ze,r.pointShadowMatrix[I]=fe.shadow.matrix,W++}r.point[I]=Le,I++}else if(fe.isHemisphereLight){const Le=e.get(fe);Le.skyColor.copy(fe.color).multiplyScalar(ve*Q),Le.groundColor.copy(fe.groundColor).multiplyScalar(ve*Q),r.hemi[O]=Le,O++}}U>0&&(t.isWebGL2||!0===i.has("OES_texture_float_linear")?(r.rectAreaLTC1=jt.LTC_FLOAT_1,r.rectAreaLTC2=jt.LTC_FLOAT_2):!0===i.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=jt.LTC_HALF_1,r.rectAreaLTC2=jt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=x,r.ambient[1]=M,r.ambient[2]=A;const ke=r.hash;(ke.directionalLength!==R||ke.pointLength!==I||ke.spotLength!==k||ke.rectAreaLength!==U||ke.hemiLength!==O||ke.numDirectionalShadows!==B||ke.numPointShadows!==W||ke.numSpotShadows!==Z||ke.numSpotMaps!==q||ke.numLightProbes!==H)&&(r.directional.length=R,r.spot.length=k,r.rectArea.length=U,r.point.length=I,r.hemi.length=O,r.directionalShadow.length=B,r.directionalShadowMap.length=B,r.pointShadow.length=W,r.pointShadowMap.length=W,r.spotShadow.length=Z,r.spotShadowMap.length=Z,r.directionalShadowMatrix.length=B,r.pointShadowMatrix.length=W,r.spotLightMatrix.length=Z+q-ce,r.spotLightMap.length=q,r.numSpotLightShadowsWithMaps=ce,r.numLightProbes=H,ke.directionalLength=R,ke.pointLength=I,ke.spotLength=k,ke.rectAreaLength=U,ke.hemiLength=O,ke.numDirectionalShadows=B,ke.numPointShadows=W,ke.numSpotShadows=Z,ke.numSpotMaps=q,ke.numLightProbes=H,r.version=S8++)},setupView:function p(b,y){let x=0,M=0,A=0,R=0,I=0;const k=y.matrixWorldInverse;for(let U=0,O=b.length;U<O;U++){const B=b[U];if(B.isDirectionalLight){const W=r.directional[x];W.direction.setFromMatrixPosition(B.matrixWorld),o.setFromMatrixPosition(B.target.matrixWorld),W.direction.sub(o),W.direction.transformDirection(k),x++}else if(B.isSpotLight){const W=r.spot[A];W.position.setFromMatrixPosition(B.matrixWorld),W.position.applyMatrix4(k),W.direction.setFromMatrixPosition(B.matrixWorld),o.setFromMatrixPosition(B.target.matrixWorld),W.direction.sub(o),W.direction.transformDirection(k),A++}else if(B.isRectAreaLight){const W=r.rectArea[R];W.position.setFromMatrixPosition(B.matrixWorld),W.position.applyMatrix4(k),u.identity(),l.copy(B.matrixWorld),l.premultiply(k),u.extractRotation(l),W.halfWidth.set(.5*B.width,0,0),W.halfHeight.set(0,.5*B.height,0),W.halfWidth.applyMatrix4(u),W.halfHeight.applyMatrix4(u),R++}else if(B.isPointLight){const W=r.point[M];W.position.setFromMatrixPosition(B.matrixWorld),W.position.applyMatrix4(k),M++}else if(B.isHemisphereLight){const W=r.hemi[I];W.direction.setFromMatrixPosition(B.matrixWorld),W.direction.transformDirection(k),I++}}},state:r}}function H3(i,t){const e=new A8(i,t),n=[],r=[];return{init:function o(){n.length=0,r.length=0},state:{lightsArray:n,shadowsArray:r,lights:e},setupLights:function f(y){e.setup(n,y)},setupLightsView:function p(y){e.setupView(n,y)},pushLight:function l(y){n.push(y)},pushShadow:function u(y){r.push(y)}}}function D8(i,t){let e=new WeakMap;return{get:function n(o,l=0){const u=e.get(o);let f;return void 0===u?(f=new H3(i,t),e.set(o,[f])):l>=u.length?(f=new H3(i,t),u.push(f)):f=u[l],f},dispose:function r(){e=new WeakMap}}}class G3 extends Df{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class W3 extends Df{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}function R8(i,t,e){let n=new DP;const r=new et,o=new et,l=new Yi,u=new G3({depthPacking:3201}),f=new W3,p={},b=e.maxTextureSize,y={0:1,1:0,2:2},x=new Sp({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new et},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),M=x.clone();M.defines.HORIZONTAL_PASS=1;const A=new bi;A.setAttribute("position",new Yo(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const R=new Wt(A,x),I=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=pT;let k=this.type;function U(W,Z){const q=t.update(R);x.defines.VSM_SAMPLES!==W.blurSamples&&(x.defines.VSM_SAMPLES=W.blurSamples,M.defines.VSM_SAMPLES=W.blurSamples,x.needsUpdate=!0,M.needsUpdate=!0),null===W.mapPass&&(W.mapPass=new qu(r.x,r.y)),x.uniforms.shadow_pass.value=W.map.texture,x.uniforms.resolution.value=W.mapSize,x.uniforms.radius.value=W.radius,i.setRenderTarget(W.mapPass),i.clear(),i.renderBufferDirect(Z,null,q,x,R,null),M.uniforms.shadow_pass.value=W.mapPass.texture,M.uniforms.resolution.value=W.mapSize,M.uniforms.radius.value=W.radius,i.setRenderTarget(W.map),i.clear(),i.renderBufferDirect(Z,null,q,M,R,null)}function O(W,Z,q,ce){let H=null;const Q=!0===q.isPointLight?W.customDistanceMaterial:W.customDepthMaterial;if(void 0!==Q)H=Q;else if(H=!0===q.isPointLight?f:u,i.localClippingEnabled&&!0===Z.clipShadows&&Array.isArray(Z.clippingPlanes)&&0!==Z.clippingPlanes.length||Z.displacementMap&&0!==Z.displacementScale||Z.alphaMap&&Z.alphaTest>0||Z.map&&Z.alphaTest>0){const ke=H.uuid,tt=Z.uuid;let ft=p[ke];void 0===ft&&(ft={},p[ke]=ft);let fe=ft[tt];void 0===fe&&(fe=H.clone(),ft[tt]=fe),H=fe}return H.visible=Z.visible,H.wireframe=Z.wireframe,H.side=ce===_l?null!==Z.shadowSide?Z.shadowSide:Z.side:null!==Z.shadowSide?Z.shadowSide:y[Z.side],H.alphaMap=Z.alphaMap,H.alphaTest=Z.alphaTest,H.map=Z.map,H.clipShadows=Z.clipShadows,H.clippingPlanes=Z.clippingPlanes,H.clipIntersection=Z.clipIntersection,H.displacementMap=Z.displacementMap,H.displacementScale=Z.displacementScale,H.displacementBias=Z.displacementBias,H.wireframeLinewidth=Z.wireframeLinewidth,H.linewidth=Z.linewidth,!0===q.isPointLight&&!0===H.isMeshDistanceMaterial&&(i.properties.get(H).light=q),H}function B(W,Z,q,ce,H){if(!1===W.visible)return;if(W.layers.test(Z.layers)&&(W.isMesh||W.isLine||W.isPoints)&&(W.castShadow||W.receiveShadow&&H===_l)&&(!W.frustumCulled||n.intersectsObject(W))){W.modelViewMatrix.multiplyMatrices(q.matrixWorldInverse,W.matrixWorld);const tt=t.update(W),ft=W.material;if(Array.isArray(ft)){const fe=tt.groups;for(let Ue=0,ve=fe.length;Ue<ve;Ue++){const Ee=fe[Ue],ze=ft[Ee.materialIndex];if(ze&&ze.visible){const Le=O(W,ze,ce,H);i.renderBufferDirect(q,null,tt,Le,W,Ee)}}}else if(ft.visible){const fe=O(W,ft,ce,H);i.renderBufferDirect(q,null,tt,fe,W,null)}}const ke=W.children;for(let tt=0,ft=ke.length;tt<ft;tt++)B(ke[tt],Z,q,ce,H)}this.render=function(W,Z,q){if(!1===I.enabled||!1===I.autoUpdate&&!1===I.needsUpdate||0===W.length)return;const ce=i.getRenderTarget(),H=i.getActiveCubeFace(),Q=i.getActiveMipmapLevel(),ke=i.state;ke.setBlending(0),ke.buffers.color.setClear(1,1,1,1),ke.buffers.depth.setTest(!0),ke.setScissorTest(!1);const tt=k!==_l&&this.type===_l,ft=k===_l&&this.type!==_l;for(let fe=0,Ue=W.length;fe<Ue;fe++){const ve=W[fe],Ee=ve.shadow;if(void 0===Ee){console.warn("THREE.WebGLShadowMap:",ve,"has no shadow.");continue}if(!1===Ee.autoUpdate&&!1===Ee.needsUpdate)continue;r.copy(Ee.mapSize);const ze=Ee.getFrameExtents();if(r.multiply(ze),o.copy(Ee.mapSize),(r.x>b||r.y>b)&&(r.x>b&&(o.x=Math.floor(b/ze.x),r.x=o.x*ze.x,Ee.mapSize.x=o.x),r.y>b&&(o.y=Math.floor(b/ze.y),r.y=o.y*ze.y,Ee.mapSize.y=o.y)),null===Ee.map||!0===tt||!0===ft){const ot=this.type!==_l?{minFilter:io,magFilter:io}:{};null!==Ee.map&&Ee.map.dispose(),Ee.map=new qu(r.x,r.y,ot),Ee.map.texture.name=ve.name+".shadowMap",Ee.camera.updateProjectionMatrix()}i.setRenderTarget(Ee.map),i.clear();const Le=Ee.getViewportCount();for(let ot=0;ot<Le;ot++){const me=Ee.getViewport(ot);l.set(o.x*me.x,o.y*me.y,o.x*me.z,o.y*me.w),ke.viewport(l),Ee.updateMatrices(ve,ot),n=Ee.getFrustum(),B(Z,q,Ee.camera,ve,this.type)}!0!==Ee.isPointLightShadow&&this.type===_l&&U(Ee,q),Ee.needsUpdate=!1}k=this.type,I.needsUpdate=!1,i.setRenderTarget(ce,H,Q)}}function P8(i,t,e){const n=e.isWebGL2,u=new function r(){let pe=!1;const Ht=new Yi;let Ct=null;const nt=new Yi(0,0,0,0);return{setMask:function(Rt){Ct!==Rt&&!pe&&(i.colorMask(Rt,Rt,Rt,Rt),Ct=Rt)},setLocked:function(Rt){pe=Rt},setClear:function(Rt,kn,Si,ko,kl){!0===kl&&(Rt*=ko,kn*=ko,Si*=ko),Ht.set(Rt,kn,Si,ko),!1===nt.equals(Ht)&&(i.clearColor(Rt,kn,Si,ko),nt.copy(Ht))},reset:function(){pe=!1,Ct=null,nt.set(-1,0,0,0)}}},f=new function o(){let pe=!1,Ht=null,Ct=null,nt=null;return{setTest:function(Rt){Rt?bn(i.DEPTH_TEST):ui(i.DEPTH_TEST)},setMask:function(Rt){Ht!==Rt&&!pe&&(i.depthMask(Rt),Ht=Rt)},setFunc:function(Rt){if(Ct!==Rt){switch(Rt){case 0:i.depthFunc(i.NEVER);break;case 1:i.depthFunc(i.ALWAYS);break;case 2:i.depthFunc(i.LESS);break;case 3:default:i.depthFunc(i.LEQUAL);break;case 4:i.depthFunc(i.EQUAL);break;case 5:i.depthFunc(i.GEQUAL);break;case 6:i.depthFunc(i.GREATER);break;case 7:i.depthFunc(i.NOTEQUAL)}Ct=Rt}},setLocked:function(Rt){pe=Rt},setClear:function(Rt){nt!==Rt&&(i.clearDepth(Rt),nt=Rt)},reset:function(){pe=!1,Ht=null,Ct=null,nt=null}}},p=new function l(){let pe=!1,Ht=null,Ct=null,nt=null,Rt=null,kn=null,Si=null,ko=null,kl=null;return{setTest:function(mr){pe||(mr?bn(i.STENCIL_TEST):ui(i.STENCIL_TEST))},setMask:function(mr){Ht!==mr&&!pe&&(i.stencilMask(mr),Ht=mr)},setFunc:function(mr,pa,ah){(Ct!==mr||nt!==pa||Rt!==ah)&&(i.stencilFunc(mr,pa,ah),Ct=mr,nt=pa,Rt=ah)},setOp:function(mr,pa,ah){(kn!==mr||Si!==pa||ko!==ah)&&(i.stencilOp(mr,pa,ah),kn=mr,Si=pa,ko=ah)},setLocked:function(mr){pe=mr},setClear:function(mr){kl!==mr&&(i.clearStencil(mr),kl=mr)},reset:function(){pe=!1,Ht=null,Ct=null,nt=null,Rt=null,kn=null,Si=null,ko=null,kl=null}}},b=new WeakMap,y=new WeakMap;let x={},M={},A=new WeakMap,R=[],I=null,k=!1,U=null,O=null,B=null,W=null,Z=null,q=null,ce=null,H=new Jt(0,0,0),Q=0,ke=!1,tt=null,ft=null,fe=null,Ue=null,ve=null;const Ee=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ze=!1,Le=0;const ot=i.getParameter(i.VERSION);-1!==ot.indexOf("WebGL")?(Le=parseFloat(/^WebGL (\d)/.exec(ot)[1]),ze=Le>=1):-1!==ot.indexOf("OpenGL ES")&&(Le=parseFloat(/^OpenGL ES (\d)/.exec(ot)[1]),ze=Le>=2);let me=null,We={};const Ut=i.getParameter(i.SCISSOR_BOX),Et=i.getParameter(i.VIEWPORT),en=(new Yi).fromArray(Ut),Fn=(new Yi).fromArray(Et);function on(pe,Ht,Ct,nt){const Rt=new Uint8Array(4),kn=i.createTexture();i.bindTexture(pe,kn),i.texParameteri(pe,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(pe,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let Si=0;Si<Ct;Si++)!n||pe!==i.TEXTURE_3D&&pe!==i.TEXTURE_2D_ARRAY?i.texImage2D(Ht+Si,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,Rt):i.texImage3D(Ht,0,i.RGBA,1,1,nt,0,i.RGBA,i.UNSIGNED_BYTE,Rt);return kn}const gn={};function bn(pe){!0!==x[pe]&&(i.enable(pe),x[pe]=!0)}function ui(pe){!1!==x[pe]&&(i.disable(pe),x[pe]=!1)}gn[i.TEXTURE_2D]=on(i.TEXTURE_2D,i.TEXTURE_2D,1),gn[i.TEXTURE_CUBE_MAP]=on(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),n&&(gn[i.TEXTURE_2D_ARRAY]=on(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),gn[i.TEXTURE_3D]=on(i.TEXTURE_3D,i.TEXTURE_3D,1,1)),u.setClear(0,0,0,1),f.setClear(1),p.setClear(0),bn(i.DEPTH_TEST),f.setFunc(3),Kt(!1),an(1),bn(i.CULL_FACE),vt(0);const at={100:i.FUNC_ADD,101:i.FUNC_SUBTRACT,102:i.FUNC_REVERSE_SUBTRACT};if(n)at[103]=i.MIN,at[104]=i.MAX;else{const pe=t.get("EXT_blend_minmax");null!==pe&&(at[103]=pe.MIN_EXT,at[104]=pe.MAX_EXT)}const Mt={200:i.ZERO,201:i.ONE,202:i.SRC_COLOR,204:i.SRC_ALPHA,210:i.SRC_ALPHA_SATURATE,208:i.DST_COLOR,206:i.DST_ALPHA,203:i.ONE_MINUS_SRC_COLOR,205:i.ONE_MINUS_SRC_ALPHA,209:i.ONE_MINUS_DST_COLOR,207:i.ONE_MINUS_DST_ALPHA,211:i.CONSTANT_COLOR,212:i.ONE_MINUS_CONSTANT_COLOR,213:i.CONSTANT_ALPHA,214:i.ONE_MINUS_CONSTANT_ALPHA};function vt(pe,Ht,Ct,nt,Rt,kn,Si,ko,kl,mr){if(0!==pe){if(!1===k&&(bn(i.BLEND),k=!0),5===pe)Rt=Rt||Ht,kn=kn||Ct,Si=Si||nt,(Ht!==O||Rt!==Z)&&(i.blendEquationSeparate(at[Ht],at[Rt]),O=Ht,Z=Rt),(Ct!==B||nt!==W||kn!==q||Si!==ce)&&(i.blendFuncSeparate(Mt[Ct],Mt[nt],Mt[kn],Mt[Si]),B=Ct,W=nt,q=kn,ce=Si),(!1===ko.equals(H)||kl!==Q)&&(i.blendColor(ko.r,ko.g,ko.b,kl),H.copy(ko),Q=kl),U=pe,ke=!1;else if(pe!==U||mr!==ke){if((100!==O||100!==Z)&&(i.blendEquation(i.FUNC_ADD),O=100,Z=100),mr)switch(pe){case 1:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case 2:i.blendFunc(i.ONE,i.ONE);break;case 3:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case 4:i.blendFuncSeparate(i.ZERO,i.SRC_COLOR,i.ZERO,i.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",pe)}else switch(pe){case 1:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case 2:i.blendFunc(i.SRC_ALPHA,i.ONE);break;case 3:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case 4:i.blendFunc(i.ZERO,i.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",pe)}B=null,W=null,q=null,ce=null,H.set(0,0,0),Q=0,U=pe,ke=mr}}else!0===k&&(ui(i.BLEND),k=!1)}function Kt(pe){tt!==pe&&(i.frontFace(pe?i.CW:i.CCW),tt=pe)}function an(pe){0!==pe?(bn(i.CULL_FACE),pe!==ft&&i.cullFace(1===pe?i.BACK:2===pe?i.FRONT:i.FRONT_AND_BACK)):ui(i.CULL_FACE),ft=pe}function xi(pe,Ht,Ct){pe?(bn(i.POLYGON_OFFSET_FILL),(Ue!==Ht||ve!==Ct)&&(i.polygonOffset(Ht,Ct),Ue=Ht,ve=Ct)):ui(i.POLYGON_OFFSET_FILL)}return{buffers:{color:u,depth:f,stencil:p},enable:bn,disable:ui,bindFramebuffer:function In(pe,Ht){return M[pe]!==Ht&&(i.bindFramebuffer(pe,Ht),M[pe]=Ht,n&&(pe===i.DRAW_FRAMEBUFFER&&(M[i.FRAMEBUFFER]=Ht),pe===i.FRAMEBUFFER&&(M[i.DRAW_FRAMEBUFFER]=Ht)),!0)},drawBuffers:function le(pe,Ht){let Ct=R,nt=!1;if(pe)if(Ct=A.get(Ht),void 0===Ct&&(Ct=[],A.set(Ht,Ct)),pe.isWebGLMultipleRenderTargets){const Rt=pe.texture;if(Ct.length!==Rt.length||Ct[0]!==i.COLOR_ATTACHMENT0){for(let kn=0,Si=Rt.length;kn<Si;kn++)Ct[kn]=i.COLOR_ATTACHMENT0+kn;Ct.length=Rt.length,nt=!0}}else Ct[0]!==i.COLOR_ATTACHMENT0&&(Ct[0]=i.COLOR_ATTACHMENT0,nt=!0);else Ct[0]!==i.BACK&&(Ct[0]=i.BACK,nt=!0);nt&&(e.isWebGL2?i.drawBuffers(Ct):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ct))},useProgram:function Vt(pe){return I!==pe&&(i.useProgram(pe),I=pe,!0)},setBlending:vt,setMaterial:function Tn(pe,Ht){2===pe.side?ui(i.CULL_FACE):bn(i.CULL_FACE);let Ct=1===pe.side;Ht&&(Ct=!Ct),Kt(Ct),1===pe.blending&&!1===pe.transparent?vt(0):vt(pe.blending,pe.blendEquation,pe.blendSrc,pe.blendDst,pe.blendEquationAlpha,pe.blendSrcAlpha,pe.blendDstAlpha,pe.blendColor,pe.blendAlpha,pe.premultipliedAlpha),f.setFunc(pe.depthFunc),f.setTest(pe.depthTest),f.setMask(pe.depthWrite),u.setMask(pe.colorWrite);const nt=pe.stencilWrite;p.setTest(nt),nt&&(p.setMask(pe.stencilWriteMask),p.setFunc(pe.stencilFunc,pe.stencilRef,pe.stencilFuncMask),p.setOp(pe.stencilFail,pe.stencilZFail,pe.stencilZPass)),xi(pe.polygonOffset,pe.polygonOffsetFactor,pe.polygonOffsetUnits),!0===pe.alphaToCoverage?bn(i.SAMPLE_ALPHA_TO_COVERAGE):ui(i.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:Kt,setCullFace:an,setLineWidth:function Gn(pe){pe!==fe&&(ze&&i.lineWidth(pe),fe=pe)},setPolygonOffset:xi,setScissorTest:function Rr(pe){pe?bn(i.SCISSOR_TEST):ui(i.SCISSOR_TEST)},activeTexture:function te(pe){void 0===pe&&(pe=i.TEXTURE0+Ee-1),me!==pe&&(i.activeTexture(pe),me=pe)},bindTexture:function G(pe,Ht,Ct){void 0===Ct&&(Ct=null===me?i.TEXTURE0+Ee-1:me);let nt=We[Ct];void 0===nt&&(nt={type:void 0,texture:void 0},We[Ct]=nt),(nt.type!==pe||nt.texture!==Ht)&&(me!==Ct&&(i.activeTexture(Ct),me=Ct),i.bindTexture(pe,Ht||gn[pe]),nt.type=pe,nt.texture=Ht)},unbindTexture:function Be(){const pe=We[me];void 0!==pe&&void 0!==pe.type&&(i.bindTexture(pe.type,null),pe.type=void 0,pe.texture=void 0)},compressedTexImage2D:function Tt(){try{i.compressedTexImage2D.apply(i,arguments)}catch(pe){console.error("THREE.WebGLState:",pe)}},compressedTexImage3D:function wt(){try{i.compressedTexImage3D.apply(i,arguments)}catch(pe){console.error("THREE.WebGLState:",pe)}},texImage2D:function pt(){try{i.texImage2D.apply(i,arguments)}catch(pe){console.error("THREE.WebGLState:",pe)}},texImage3D:function jn(){try{i.texImage3D.apply(i,arguments)}catch(pe){console.error("THREE.WebGLState:",pe)}},updateUBOMapping:function yn(pe,Ht){let Ct=y.get(Ht);void 0===Ct&&(Ct=new WeakMap,y.set(Ht,Ct));let nt=Ct.get(pe);void 0===nt&&(nt=i.getUniformBlockIndex(Ht,pe.name),Ct.set(pe,nt))},uniformBlockBinding:function sn(pe,Ht){const nt=y.get(Ht).get(pe);b.get(Ht)!==nt&&(i.uniformBlockBinding(Ht,nt,pe.__bindingPointIndex),b.set(Ht,nt))},texStorage2D:function de(){try{i.texStorage2D.apply(i,arguments)}catch(pe){console.error("THREE.WebGLState:",pe)}},texStorage3D:function Lt(){try{i.texStorage3D.apply(i,arguments)}catch(pe){console.error("THREE.WebGLState:",pe)}},texSubImage2D:function It(){try{i.texSubImage2D.apply(i,arguments)}catch(pe){console.error("THREE.WebGLState:",pe)}},texSubImage3D:function _n(){try{i.texSubImage3D.apply(i,arguments)}catch(pe){console.error("THREE.WebGLState:",pe)}},compressedTexSubImage2D:function Nt(){try{i.compressedTexSubImage2D.apply(i,arguments)}catch(pe){console.error("THREE.WebGLState:",pe)}},compressedTexSubImage3D:function qt(){try{i.compressedTexSubImage3D.apply(i,arguments)}catch(pe){console.error("THREE.WebGLState:",pe)}},scissor:function Mn(pe){!1===en.equals(pe)&&(i.scissor(pe.x,pe.y,pe.z,pe.w),en.copy(pe))},viewport:function Un(pe){!1===Fn.equals(pe)&&(i.viewport(pe.x,pe.y,pe.z,pe.w),Fn.copy(pe))},reset:function Mi(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),!0===n&&(i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null)),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),x={},me=null,We={},M={},A=new WeakMap,R=[],I=null,k=!1,U=null,O=null,B=null,W=null,Z=null,q=null,ce=null,H=new Jt(0,0,0),Q=0,ke=!1,tt=null,ft=null,fe=null,Ue=null,ve=null,en.set(0,0,i.canvas.width,i.canvas.height),Fn.set(0,0,i.canvas.width,i.canvas.height),u.reset(),f.reset(),p.reset()}}}function O8(i,t,e,n,r,o,l){const u=r.isWebGL2,f=r.maxTextures,p=r.maxCubemapSize,b=r.maxTextureSize,y=r.maxSamples,x=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,M=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),A=new WeakMap;let R;const I=new WeakMap;let k=!1;try{k=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function U(te,G){return k?new OffscreenCanvas(te,G):vp("canvas")}function O(te,G,Be,Tt){let wt=1;if((te.width>Tt||te.height>Tt)&&(wt=Tt/Math.max(te.width,te.height)),wt<1||!0===G){if(typeof HTMLImageElement<"u"&&te instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&te instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&te instanceof ImageBitmap){const It=G?Wy:Math.floor,_n=It(wt*te.width),Nt=It(wt*te.height);void 0===R&&(R=U(_n,Nt));const qt=Be?U(_n,Nt):R;return qt.width=_n,qt.height=Nt,qt.getContext("2d").drawImage(te,0,0,_n,Nt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+te.width+"x"+te.height+") to ("+_n+"x"+Nt+")."),qt}return"data"in te&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+te.width+"x"+te.height+")."),te}return te}function B(te){return mE(te.width)&&mE(te.height)}function Z(te,G){return te.generateMipmaps&&G&&te.minFilter!==io&&te.minFilter!==ro}function q(te){i.generateMipmap(te)}function ce(te,G,Be,Tt,wt=!1){if(!1===u)return G;if(null!==te){if(void 0!==i[te])return i[te];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+te+"'")}let It=G;if(G===i.RED&&(Be===i.FLOAT&&(It=i.R32F),Be===i.HALF_FLOAT&&(It=i.R16F),Be===i.UNSIGNED_BYTE&&(It=i.R8)),G===i.RED_INTEGER&&(Be===i.UNSIGNED_BYTE&&(It=i.R8UI),Be===i.UNSIGNED_SHORT&&(It=i.R16UI),Be===i.UNSIGNED_INT&&(It=i.R32UI),Be===i.BYTE&&(It=i.R8I),Be===i.SHORT&&(It=i.R16I),Be===i.INT&&(It=i.R32I)),G===i.RG&&(Be===i.FLOAT&&(It=i.RG32F),Be===i.HALF_FLOAT&&(It=i.RG16F),Be===i.UNSIGNED_BYTE&&(It=i.RG8)),G===i.RGBA){const _n=wt?Vy:Ni.getTransfer(Tt);Be===i.FLOAT&&(It=i.RGBA32F),Be===i.HALF_FLOAT&&(It=i.RGBA16F),Be===i.UNSIGNED_BYTE&&(It=_n===nr?i.SRGB8_ALPHA8:i.RGBA8),Be===i.UNSIGNED_SHORT_4_4_4_4&&(It=i.RGBA4),Be===i.UNSIGNED_SHORT_5_5_5_1&&(It=i.RGB5_A1)}return(It===i.R16F||It===i.R32F||It===i.RG16F||It===i.RG32F||It===i.RGBA16F||It===i.RGBA32F)&&t.get("EXT_color_buffer_float"),It}function H(te,G,Be){return!0===Z(te,Be)||te.isFramebufferTexture&&te.minFilter!==io&&te.minFilter!==ro?Math.log2(Math.max(G.width,G.height))+1:void 0!==te.mipmaps&&te.mipmaps.length>0?te.mipmaps.length:te.isCompressedTexture&&Array.isArray(te.image)?G.mipmaps.length:1}function Q(te){return te===io||1004===te||1005===te?i.NEAREST:i.LINEAR}function ke(te){const G=te.target;G.removeEventListener("dispose",ke),function ft(te){const G=n.get(te);if(void 0===G.__webglInit)return;const Be=te.source,Tt=I.get(Be);if(Tt){const wt=Tt[G.__cacheKey];wt.usedTimes--,0===wt.usedTimes&&fe(te),0===Object.keys(Tt).length&&I.delete(Be)}n.remove(te)}(G),G.isVideoTexture&&A.delete(G)}function tt(te){const G=te.target;G.removeEventListener("dispose",tt),function Ue(te){const G=te.texture,Be=n.get(te),Tt=n.get(G);if(void 0!==Tt.__webglTexture&&(i.deleteTexture(Tt.__webglTexture),l.memory.textures--),te.depthTexture&&te.depthTexture.dispose(),te.isWebGLCubeRenderTarget)for(let wt=0;wt<6;wt++){if(Array.isArray(Be.__webglFramebuffer[wt]))for(let It=0;It<Be.__webglFramebuffer[wt].length;It++)i.deleteFramebuffer(Be.__webglFramebuffer[wt][It]);else i.deleteFramebuffer(Be.__webglFramebuffer[wt]);Be.__webglDepthbuffer&&i.deleteRenderbuffer(Be.__webglDepthbuffer[wt])}else{if(Array.isArray(Be.__webglFramebuffer))for(let wt=0;wt<Be.__webglFramebuffer.length;wt++)i.deleteFramebuffer(Be.__webglFramebuffer[wt]);else i.deleteFramebuffer(Be.__webglFramebuffer);if(Be.__webglDepthbuffer&&i.deleteRenderbuffer(Be.__webglDepthbuffer),Be.__webglMultisampledFramebuffer&&i.deleteFramebuffer(Be.__webglMultisampledFramebuffer),Be.__webglColorRenderbuffer)for(let wt=0;wt<Be.__webglColorRenderbuffer.length;wt++)Be.__webglColorRenderbuffer[wt]&&i.deleteRenderbuffer(Be.__webglColorRenderbuffer[wt]);Be.__webglDepthRenderbuffer&&i.deleteRenderbuffer(Be.__webglDepthRenderbuffer)}if(te.isWebGLMultipleRenderTargets)for(let wt=0,It=G.length;wt<It;wt++){const _n=n.get(G[wt]);_n.__webglTexture&&(i.deleteTexture(_n.__webglTexture),l.memory.textures--),n.remove(G[wt])}n.remove(G),n.remove(te)}(G)}function fe(te){const G=n.get(te);i.deleteTexture(G.__webglTexture),delete I.get(te.source)[G.__cacheKey],l.memory.textures--}let ve=0;function ot(te,G){const Be=n.get(te);if(te.isVideoTexture&&function xi(te){const G=l.render.frame;A.get(te)!==G&&(A.set(te,G),te.update())}(te),!1===te.isRenderTargetTexture&&te.version>0&&Be.__version!==te.version){const Tt=te.image;if(null===Tt)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Tt.complete)return void bn(Be,te,G);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}e.bindTexture(i.TEXTURE_2D,Be.__webglTexture,i.TEXTURE0+G)}const Et={[kd]:i.REPEAT,[ms]:i.CLAMP_TO_EDGE,1002:i.MIRRORED_REPEAT},en={[io]:i.NEAREST,1004:i.NEAREST_MIPMAP_NEAREST,1005:i.NEAREST_MIPMAP_LINEAR,[ro]:i.LINEAR,1007:i.LINEAR_MIPMAP_NEAREST,[Pc]:i.LINEAR_MIPMAP_LINEAR},Fn={512:i.NEVER,519:i.ALWAYS,513:i.LESS,515:i.LEQUAL,514:i.EQUAL,518:i.GEQUAL,516:i.GREATER,517:i.NOTEQUAL};function on(te,G,Be){if(Be?(i.texParameteri(te,i.TEXTURE_WRAP_S,Et[G.wrapS]),i.texParameteri(te,i.TEXTURE_WRAP_T,Et[G.wrapT]),(te===i.TEXTURE_3D||te===i.TEXTURE_2D_ARRAY)&&i.texParameteri(te,i.TEXTURE_WRAP_R,Et[G.wrapR]),i.texParameteri(te,i.TEXTURE_MAG_FILTER,en[G.magFilter]),i.texParameteri(te,i.TEXTURE_MIN_FILTER,en[G.minFilter])):(i.texParameteri(te,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(te,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),(te===i.TEXTURE_3D||te===i.TEXTURE_2D_ARRAY)&&i.texParameteri(te,i.TEXTURE_WRAP_R,i.CLAMP_TO_EDGE),(G.wrapS!==ms||G.wrapT!==ms)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),i.texParameteri(te,i.TEXTURE_MAG_FILTER,Q(G.magFilter)),i.texParameteri(te,i.TEXTURE_MIN_FILTER,Q(G.minFilter)),G.minFilter!==io&&G.minFilter!==ro&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),G.compareFunction&&(i.texParameteri(te,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(te,i.TEXTURE_COMPARE_FUNC,Fn[G.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){const Tt=t.get("EXT_texture_filter_anisotropic");if(G.magFilter===io||1005!==G.minFilter&&G.minFilter!==Pc||G.type===Rd&&!1===t.has("OES_texture_float_linear")||!1===u&&G.type===z_&&!1===t.has("OES_texture_half_float_linear"))return;(G.anisotropy>1||n.get(G).__currentAnisotropy)&&(i.texParameterf(te,Tt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(G.anisotropy,r.getMaxAnisotropy())),n.get(G).__currentAnisotropy=G.anisotropy)}}function gn(te,G){let Be=!1;void 0===te.__webglInit&&(te.__webglInit=!0,G.addEventListener("dispose",ke));const Tt=G.source;let wt=I.get(Tt);void 0===wt&&(wt={},I.set(Tt,wt));const It=function Le(te){const G=[];return G.push(te.wrapS),G.push(te.wrapT),G.push(te.wrapR||0),G.push(te.magFilter),G.push(te.minFilter),G.push(te.anisotropy),G.push(te.internalFormat),G.push(te.format),G.push(te.type),G.push(te.generateMipmaps),G.push(te.premultiplyAlpha),G.push(te.flipY),G.push(te.unpackAlignment),G.push(te.colorSpace),G.join()}(G);if(It!==te.__cacheKey){void 0===wt[It]&&(wt[It]={texture:i.createTexture(),usedTimes:0},l.memory.textures++,Be=!0),wt[It].usedTimes++;const _n=wt[te.__cacheKey];void 0!==_n&&(wt[te.__cacheKey].usedTimes--,0===_n.usedTimes&&fe(G)),te.__cacheKey=It,te.__webglTexture=wt[It].texture}return Be}function bn(te,G,Be){let Tt=i.TEXTURE_2D;(G.isDataArrayTexture||G.isCompressedArrayTexture)&&(Tt=i.TEXTURE_2D_ARRAY),G.isData3DTexture&&(Tt=i.TEXTURE_3D);const wt=gn(te,G),It=G.source;e.bindTexture(Tt,te.__webglTexture,i.TEXTURE0+Be);const _n=n.get(It);if(It.version!==_n.__version||!0===wt){e.activeTexture(i.TEXTURE0+Be);const Nt=Ni.getPrimaries(Ni.workingColorSpace),qt=""===G.colorSpace?null:Ni.getPrimaries(G.colorSpace),de=""===G.colorSpace||Nt===qt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,G.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,G.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,de);const Lt=function W(te){return!u&&(te.wrapS!==ms||te.wrapT!==ms||te.minFilter!==io&&te.minFilter!==ro)}(G)&&!1===B(G.image);let pt=O(G.image,Lt,!1,b);pt=Rr(G,pt);const jn=B(pt)||u,Mn=o.convert(G.format,G.colorSpace);let sn,Un=o.convert(G.type),yn=ce(G.internalFormat,Mn,Un,G.colorSpace,G.isVideoTexture);on(Tt,G,jn);const Mi=G.mipmaps,pe=u&&!0!==G.isVideoTexture,Ht=void 0===_n.__version||!0===wt,Ct=H(G,pt,jn);if(G.isDepthTexture)yn=i.DEPTH_COMPONENT,u?yn=G.type===Rd?i.DEPTH_COMPONENT32F:G.type===Va?i.DEPTH_COMPONENT24:G.type===Wu?i.DEPTH24_STENCIL8:i.DEPTH_COMPONENT16:G.type===Rd&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),G.format===bf&&yn===i.DEPTH_COMPONENT&&1012!==G.type&&G.type!==Va&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),G.type=Va,Un=o.convert(G.type)),G.format===yf&&yn===i.DEPTH_COMPONENT&&(yn=i.DEPTH_STENCIL,G.type!==Wu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),G.type=Wu,Un=o.convert(G.type))),Ht&&(pe?e.texStorage2D(i.TEXTURE_2D,1,yn,pt.width,pt.height):e.texImage2D(i.TEXTURE_2D,0,yn,pt.width,pt.height,0,Mn,Un,null));else if(G.isDataTexture)if(Mi.length>0&&jn){pe&&Ht&&e.texStorage2D(i.TEXTURE_2D,Ct,yn,Mi[0].width,Mi[0].height);for(let nt=0,Rt=Mi.length;nt<Rt;nt++)sn=Mi[nt],pe?e.texSubImage2D(i.TEXTURE_2D,nt,0,0,sn.width,sn.height,Mn,Un,sn.data):e.texImage2D(i.TEXTURE_2D,nt,yn,sn.width,sn.height,0,Mn,Un,sn.data);G.generateMipmaps=!1}else pe?(Ht&&e.texStorage2D(i.TEXTURE_2D,Ct,yn,pt.width,pt.height),e.texSubImage2D(i.TEXTURE_2D,0,0,0,pt.width,pt.height,Mn,Un,pt.data)):e.texImage2D(i.TEXTURE_2D,0,yn,pt.width,pt.height,0,Mn,Un,pt.data);else if(G.isCompressedTexture)if(G.isCompressedArrayTexture){pe&&Ht&&e.texStorage3D(i.TEXTURE_2D_ARRAY,Ct,yn,Mi[0].width,Mi[0].height,pt.depth);for(let nt=0,Rt=Mi.length;nt<Rt;nt++)sn=Mi[nt],G.format!==la?null!==Mn?pe?e.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,nt,0,0,0,sn.width,sn.height,pt.depth,Mn,sn.data,0,0):e.compressedTexImage3D(i.TEXTURE_2D_ARRAY,nt,yn,sn.width,sn.height,pt.depth,0,sn.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):pe?e.texSubImage3D(i.TEXTURE_2D_ARRAY,nt,0,0,0,sn.width,sn.height,pt.depth,Mn,Un,sn.data):e.texImage3D(i.TEXTURE_2D_ARRAY,nt,yn,sn.width,sn.height,pt.depth,0,Mn,Un,sn.data)}else{pe&&Ht&&e.texStorage2D(i.TEXTURE_2D,Ct,yn,Mi[0].width,Mi[0].height);for(let nt=0,Rt=Mi.length;nt<Rt;nt++)sn=Mi[nt],G.format!==la?null!==Mn?pe?e.compressedTexSubImage2D(i.TEXTURE_2D,nt,0,0,sn.width,sn.height,Mn,sn.data):e.compressedTexImage2D(i.TEXTURE_2D,nt,yn,sn.width,sn.height,0,sn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):pe?e.texSubImage2D(i.TEXTURE_2D,nt,0,0,sn.width,sn.height,Mn,Un,sn.data):e.texImage2D(i.TEXTURE_2D,nt,yn,sn.width,sn.height,0,Mn,Un,sn.data)}else if(G.isDataArrayTexture)pe?(Ht&&e.texStorage3D(i.TEXTURE_2D_ARRAY,Ct,yn,pt.width,pt.height,pt.depth),e.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,pt.width,pt.height,pt.depth,Mn,Un,pt.data)):e.texImage3D(i.TEXTURE_2D_ARRAY,0,yn,pt.width,pt.height,pt.depth,0,Mn,Un,pt.data);else if(G.isData3DTexture)pe?(Ht&&e.texStorage3D(i.TEXTURE_3D,Ct,yn,pt.width,pt.height,pt.depth),e.texSubImage3D(i.TEXTURE_3D,0,0,0,0,pt.width,pt.height,pt.depth,Mn,Un,pt.data)):e.texImage3D(i.TEXTURE_3D,0,yn,pt.width,pt.height,pt.depth,0,Mn,Un,pt.data);else if(G.isFramebufferTexture){if(Ht)if(pe)e.texStorage2D(i.TEXTURE_2D,Ct,yn,pt.width,pt.height);else{let nt=pt.width,Rt=pt.height;for(let kn=0;kn<Ct;kn++)e.texImage2D(i.TEXTURE_2D,kn,yn,nt,Rt,0,Mn,Un,null),nt>>=1,Rt>>=1}}else if(Mi.length>0&&jn){pe&&Ht&&e.texStorage2D(i.TEXTURE_2D,Ct,yn,Mi[0].width,Mi[0].height);for(let nt=0,Rt=Mi.length;nt<Rt;nt++)sn=Mi[nt],pe?e.texSubImage2D(i.TEXTURE_2D,nt,0,0,Mn,Un,sn):e.texImage2D(i.TEXTURE_2D,nt,yn,Mn,Un,sn);G.generateMipmaps=!1}else pe?(Ht&&e.texStorage2D(i.TEXTURE_2D,Ct,yn,pt.width,pt.height),e.texSubImage2D(i.TEXTURE_2D,0,0,0,Mn,Un,pt)):e.texImage2D(i.TEXTURE_2D,0,yn,Mn,Un,pt);Z(G,jn)&&q(Tt),_n.__version=It.version,G.onUpdate&&G.onUpdate(G)}te.__version=G.version}function In(te,G,Be,Tt,wt,It){const _n=o.convert(Be.format,Be.colorSpace),Nt=o.convert(Be.type),qt=ce(Be.internalFormat,_n,Nt,Be.colorSpace);if(!n.get(G).__hasExternalTextures){const Lt=Math.max(1,G.width>>It),pt=Math.max(1,G.height>>It);wt===i.TEXTURE_3D||wt===i.TEXTURE_2D_ARRAY?e.texImage3D(wt,It,qt,Lt,pt,G.depth,0,_n,Nt,null):e.texImage2D(wt,It,qt,Lt,pt,0,_n,Nt,null)}e.bindFramebuffer(i.FRAMEBUFFER,te),Gn(G)?x.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,Tt,wt,n.get(Be).__webglTexture,0,an(G)):(wt===i.TEXTURE_2D||wt>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&wt<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,Tt,wt,n.get(Be).__webglTexture,It),e.bindFramebuffer(i.FRAMEBUFFER,null)}function le(te,G,Be){if(i.bindRenderbuffer(i.RENDERBUFFER,te),G.depthBuffer&&!G.stencilBuffer){let Tt=!0===u?i.DEPTH_COMPONENT24:i.DEPTH_COMPONENT16;if(Be||Gn(G)){const wt=G.depthTexture;wt&&wt.isDepthTexture&&(wt.type===Rd?Tt=i.DEPTH_COMPONENT32F:wt.type===Va&&(Tt=i.DEPTH_COMPONENT24));const It=an(G);Gn(G)?x.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,It,Tt,G.width,G.height):i.renderbufferStorageMultisample(i.RENDERBUFFER,It,Tt,G.width,G.height)}else i.renderbufferStorage(i.RENDERBUFFER,Tt,G.width,G.height);i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.RENDERBUFFER,te)}else if(G.depthBuffer&&G.stencilBuffer){const Tt=an(G);Be&&!1===Gn(G)?i.renderbufferStorageMultisample(i.RENDERBUFFER,Tt,i.DEPTH24_STENCIL8,G.width,G.height):Gn(G)?x.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Tt,i.DEPTH24_STENCIL8,G.width,G.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,G.width,G.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,te)}else{const Tt=!0===G.isWebGLMultipleRenderTargets?G.texture:[G.texture];for(let wt=0;wt<Tt.length;wt++){const It=Tt[wt],_n=o.convert(It.format,It.colorSpace),Nt=o.convert(It.type),qt=ce(It.internalFormat,_n,Nt,It.colorSpace),de=an(G);Be&&!1===Gn(G)?i.renderbufferStorageMultisample(i.RENDERBUFFER,de,qt,G.width,G.height):Gn(G)?x.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,de,qt,G.width,G.height):i.renderbufferStorage(i.RENDERBUFFER,qt,G.width,G.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function at(te){const G=n.get(te),Be=!0===te.isWebGLCubeRenderTarget;if(te.depthTexture&&!G.__autoAllocateDepthBuffer){if(Be)throw new Error("target.depthTexture not supported in Cube render targets");!function Vt(te,G){if(G&&G.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(i.FRAMEBUFFER,te),!G.depthTexture||!G.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(G.depthTexture).__webglTexture||G.depthTexture.image.width!==G.width||G.depthTexture.image.height!==G.height)&&(G.depthTexture.image.width=G.width,G.depthTexture.image.height=G.height,G.depthTexture.needsUpdate=!0),ot(G.depthTexture,0);const Tt=n.get(G.depthTexture).__webglTexture,wt=an(G);if(G.depthTexture.format===bf)Gn(G)?x.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Tt,0,wt):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Tt,0);else{if(G.depthTexture.format!==yf)throw new Error("Unknown depthTexture format");Gn(G)?x.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Tt,0,wt):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Tt,0)}}(G.__webglFramebuffer,te)}else if(Be){G.__webglDepthbuffer=[];for(let Tt=0;Tt<6;Tt++)e.bindFramebuffer(i.FRAMEBUFFER,G.__webglFramebuffer[Tt]),G.__webglDepthbuffer[Tt]=i.createRenderbuffer(),le(G.__webglDepthbuffer[Tt],te,!1)}else e.bindFramebuffer(i.FRAMEBUFFER,G.__webglFramebuffer),G.__webglDepthbuffer=i.createRenderbuffer(),le(G.__webglDepthbuffer,te,!1);e.bindFramebuffer(i.FRAMEBUFFER,null)}function an(te){return Math.min(y,te.samples)}function Gn(te){const G=n.get(te);return u&&te.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==G.__useRenderToTexture}function Rr(te,G){const Be=te.colorSpace,Tt=te.format,wt=te.type;return!0===te.isCompressedTexture||!0===te.isVideoTexture||1035===te.format||Be!==Nc&&""!==Be&&(Ni.getTransfer(Be)===nr?!1===u?!0===t.has("EXT_sRGB")&&Tt===la?(te.format=1035,te.minFilter=ro,te.generateMipmaps=!1):G=$y.sRGBToLinear(G):(Tt!==la||wt!==Oc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Be)),G}this.allocateTextureUnit=function ze(){const te=ve;return te>=f&&console.warn("THREE.WebGLTextures: Trying to use "+te+" texture units while this GPU supports only "+f),ve+=1,te},this.resetTextureUnits=function Ee(){ve=0},this.setTexture2D=ot,this.setTexture2DArray=function me(te,G){const Be=n.get(te);te.version>0&&Be.__version!==te.version?bn(Be,te,G):e.bindTexture(i.TEXTURE_2D_ARRAY,Be.__webglTexture,i.TEXTURE0+G)},this.setTexture3D=function We(te,G){const Be=n.get(te);te.version>0&&Be.__version!==te.version?bn(Be,te,G):e.bindTexture(i.TEXTURE_3D,Be.__webglTexture,i.TEXTURE0+G)},this.setTextureCube=function Ut(te,G){const Be=n.get(te);te.version>0&&Be.__version!==te.version?function ui(te,G,Be){if(6!==G.image.length)return;const Tt=gn(te,G),wt=G.source;e.bindTexture(i.TEXTURE_CUBE_MAP,te.__webglTexture,i.TEXTURE0+Be);const It=n.get(wt);if(wt.version!==It.__version||!0===Tt){e.activeTexture(i.TEXTURE0+Be);const _n=Ni.getPrimaries(Ni.workingColorSpace),Nt=""===G.colorSpace?null:Ni.getPrimaries(G.colorSpace),qt=""===G.colorSpace||_n===Nt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,G.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,G.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,qt);const de=G.isCompressedTexture||G.image[0].isCompressedTexture,Lt=G.image[0]&&G.image[0].isDataTexture,pt=[];for(let nt=0;nt<6;nt++)pt[nt]=de||Lt?Lt?G.image[nt].image:G.image[nt]:O(G.image[nt],!1,!0,p),pt[nt]=Rr(G,pt[nt]);const jn=pt[0],Mn=B(jn)||u,Un=o.convert(G.format,G.colorSpace),yn=o.convert(G.type),sn=ce(G.internalFormat,Un,yn,G.colorSpace),Mi=u&&!0!==G.isVideoTexture,pe=void 0===It.__version||!0===Tt;let Ct,Ht=H(G,jn,Mn);if(on(i.TEXTURE_CUBE_MAP,G,Mn),de){Mi&&pe&&e.texStorage2D(i.TEXTURE_CUBE_MAP,Ht,sn,jn.width,jn.height);for(let nt=0;nt<6;nt++){Ct=pt[nt].mipmaps;for(let Rt=0;Rt<Ct.length;Rt++){const kn=Ct[Rt];G.format!==la?null!==Un?Mi?e.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Rt,0,0,kn.width,kn.height,Un,kn.data):e.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Rt,sn,kn.width,kn.height,0,kn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Mi?e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Rt,0,0,kn.width,kn.height,Un,yn,kn.data):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Rt,sn,kn.width,kn.height,0,Un,yn,kn.data)}}}else{Ct=G.mipmaps,Mi&&pe&&(Ct.length>0&&Ht++,e.texStorage2D(i.TEXTURE_CUBE_MAP,Ht,sn,pt[0].width,pt[0].height));for(let nt=0;nt<6;nt++)if(Lt){Mi?e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+nt,0,0,0,pt[nt].width,pt[nt].height,Un,yn,pt[nt].data):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+nt,0,sn,pt[nt].width,pt[nt].height,0,Un,yn,pt[nt].data);for(let Rt=0;Rt<Ct.length;Rt++){const Si=Ct[Rt].image[nt].image;Mi?e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Rt+1,0,0,Si.width,Si.height,Un,yn,Si.data):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Rt+1,sn,Si.width,Si.height,0,Un,yn,Si.data)}}else{Mi?e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+nt,0,0,0,Un,yn,pt[nt]):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+nt,0,sn,Un,yn,pt[nt]);for(let Rt=0;Rt<Ct.length;Rt++){const kn=Ct[Rt];Mi?e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Rt+1,0,0,Un,yn,kn.image[nt]):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Rt+1,sn,Un,yn,kn.image[nt])}}}Z(G,Mn)&&q(i.TEXTURE_CUBE_MAP),It.__version=wt.version,G.onUpdate&&G.onUpdate(G)}te.__version=G.version}(Be,te,G):e.bindTexture(i.TEXTURE_CUBE_MAP,Be.__webglTexture,i.TEXTURE0+G)},this.rebindTextures=function Mt(te,G,Be){const Tt=n.get(te);void 0!==G&&In(Tt.__webglFramebuffer,te,te.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),void 0!==Be&&at(te)},this.setupRenderTarget=function vt(te){const G=te.texture,Be=n.get(te),Tt=n.get(G);te.addEventListener("dispose",tt),!0!==te.isWebGLMultipleRenderTargets&&(void 0===Tt.__webglTexture&&(Tt.__webglTexture=i.createTexture()),Tt.__version=G.version,l.memory.textures++);const wt=!0===te.isWebGLCubeRenderTarget,It=!0===te.isWebGLMultipleRenderTargets,_n=B(te)||u;if(wt){Be.__webglFramebuffer=[];for(let Nt=0;Nt<6;Nt++)if(u&&G.mipmaps&&G.mipmaps.length>0){Be.__webglFramebuffer[Nt]=[];for(let qt=0;qt<G.mipmaps.length;qt++)Be.__webglFramebuffer[Nt][qt]=i.createFramebuffer()}else Be.__webglFramebuffer[Nt]=i.createFramebuffer()}else{if(u&&G.mipmaps&&G.mipmaps.length>0){Be.__webglFramebuffer=[];for(let Nt=0;Nt<G.mipmaps.length;Nt++)Be.__webglFramebuffer[Nt]=i.createFramebuffer()}else Be.__webglFramebuffer=i.createFramebuffer();if(It)if(r.drawBuffers){const Nt=te.texture;for(let qt=0,de=Nt.length;qt<de;qt++){const Lt=n.get(Nt[qt]);void 0===Lt.__webglTexture&&(Lt.__webglTexture=i.createTexture(),l.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(u&&te.samples>0&&!1===Gn(te)){const Nt=It?G:[G];Be.__webglMultisampledFramebuffer=i.createFramebuffer(),Be.__webglColorRenderbuffer=[],e.bindFramebuffer(i.FRAMEBUFFER,Be.__webglMultisampledFramebuffer);for(let qt=0;qt<Nt.length;qt++){const de=Nt[qt];Be.__webglColorRenderbuffer[qt]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,Be.__webglColorRenderbuffer[qt]);const Lt=o.convert(de.format,de.colorSpace),pt=o.convert(de.type),jn=ce(de.internalFormat,Lt,pt,de.colorSpace,!0===te.isXRRenderTarget),Mn=an(te);i.renderbufferStorageMultisample(i.RENDERBUFFER,Mn,jn,te.width,te.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+qt,i.RENDERBUFFER,Be.__webglColorRenderbuffer[qt])}i.bindRenderbuffer(i.RENDERBUFFER,null),te.depthBuffer&&(Be.__webglDepthRenderbuffer=i.createRenderbuffer(),le(Be.__webglDepthRenderbuffer,te,!0)),e.bindFramebuffer(i.FRAMEBUFFER,null)}}if(wt){e.bindTexture(i.TEXTURE_CUBE_MAP,Tt.__webglTexture),on(i.TEXTURE_CUBE_MAP,G,_n);for(let Nt=0;Nt<6;Nt++)if(u&&G.mipmaps&&G.mipmaps.length>0)for(let qt=0;qt<G.mipmaps.length;qt++)In(Be.__webglFramebuffer[Nt][qt],te,G,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,qt);else In(Be.__webglFramebuffer[Nt],te,G,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,0);Z(G,_n)&&q(i.TEXTURE_CUBE_MAP),e.unbindTexture()}else if(It){const Nt=te.texture;for(let qt=0,de=Nt.length;qt<de;qt++){const Lt=Nt[qt],pt=n.get(Lt);e.bindTexture(i.TEXTURE_2D,pt.__webglTexture),on(i.TEXTURE_2D,Lt,_n),In(Be.__webglFramebuffer,te,Lt,i.COLOR_ATTACHMENT0+qt,i.TEXTURE_2D,0),Z(Lt,_n)&&q(i.TEXTURE_2D)}e.unbindTexture()}else{let Nt=i.TEXTURE_2D;if((te.isWebGL3DRenderTarget||te.isWebGLArrayRenderTarget)&&(u?Nt=te.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),e.bindTexture(Nt,Tt.__webglTexture),on(Nt,G,_n),u&&G.mipmaps&&G.mipmaps.length>0)for(let qt=0;qt<G.mipmaps.length;qt++)In(Be.__webglFramebuffer[qt],te,G,i.COLOR_ATTACHMENT0,Nt,qt);else In(Be.__webglFramebuffer,te,G,i.COLOR_ATTACHMENT0,Nt,0);Z(G,_n)&&q(Nt),e.unbindTexture()}te.depthBuffer&&at(te)},this.updateRenderTargetMipmap=function Tn(te){const G=B(te)||u,Be=!0===te.isWebGLMultipleRenderTargets?te.texture:[te.texture];for(let Tt=0,wt=Be.length;Tt<wt;Tt++){const It=Be[Tt];if(Z(It,G)){const _n=te.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:i.TEXTURE_2D,Nt=n.get(It).__webglTexture;e.bindTexture(_n,Nt),q(_n),e.unbindTexture()}}},this.updateMultisampleRenderTarget=function Kt(te){if(u&&te.samples>0&&!1===Gn(te)){const G=te.isWebGLMultipleRenderTargets?te.texture:[te.texture],Be=te.width,Tt=te.height;let wt=i.COLOR_BUFFER_BIT;const It=[],_n=te.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Nt=n.get(te),qt=!0===te.isWebGLMultipleRenderTargets;if(qt)for(let de=0;de<G.length;de++)e.bindFramebuffer(i.FRAMEBUFFER,Nt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+de,i.RENDERBUFFER,null),e.bindFramebuffer(i.FRAMEBUFFER,Nt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+de,i.TEXTURE_2D,null,0);e.bindFramebuffer(i.READ_FRAMEBUFFER,Nt.__webglMultisampledFramebuffer),e.bindFramebuffer(i.DRAW_FRAMEBUFFER,Nt.__webglFramebuffer);for(let de=0;de<G.length;de++){It.push(i.COLOR_ATTACHMENT0+de),te.depthBuffer&&It.push(_n);const Lt=void 0!==Nt.__ignoreDepthValues&&Nt.__ignoreDepthValues;if(!1===Lt&&(te.depthBuffer&&(wt|=i.DEPTH_BUFFER_BIT),te.stencilBuffer&&(wt|=i.STENCIL_BUFFER_BIT)),qt&&i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,Nt.__webglColorRenderbuffer[de]),!0===Lt&&(i.invalidateFramebuffer(i.READ_FRAMEBUFFER,[_n]),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[_n])),qt){const pt=n.get(G[de]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,pt,0)}i.blitFramebuffer(0,0,Be,Tt,0,0,Be,Tt,wt,i.NEAREST),M&&i.invalidateFramebuffer(i.READ_FRAMEBUFFER,It)}if(e.bindFramebuffer(i.READ_FRAMEBUFFER,null),e.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),qt)for(let de=0;de<G.length;de++){e.bindFramebuffer(i.FRAMEBUFFER,Nt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+de,i.RENDERBUFFER,Nt.__webglColorRenderbuffer[de]);const Lt=n.get(G[de]).__webglTexture;e.bindFramebuffer(i.FRAMEBUFFER,Nt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+de,i.TEXTURE_2D,Lt,0)}e.bindFramebuffer(i.DRAW_FRAMEBUFFER,Nt.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=at,this.setupFrameBufferTexture=In,this.useMultisampledRTT=Gn}function N8(i,t,e){const n=e.isWebGL2;return{convert:function r(o,l=""){let u;const f=Ni.getTransfer(l);if(o===Oc)return i.UNSIGNED_BYTE;if(1017===o)return i.UNSIGNED_SHORT_4_4_4_4;if(1018===o)return i.UNSIGNED_SHORT_5_5_5_1;if(1010===o)return i.BYTE;if(1011===o)return i.SHORT;if(1012===o)return i.UNSIGNED_SHORT;if(1013===o)return i.INT;if(o===Va)return i.UNSIGNED_INT;if(o===Rd)return i.FLOAT;if(o===z_)return n?i.HALF_FLOAT:(u=t.get("OES_texture_half_float"),null!==u?u.HALF_FLOAT_OES:null);if(1021===o)return i.ALPHA;if(o===la)return i.RGBA;if(1024===o)return i.LUMINANCE;if(1025===o)return i.LUMINANCE_ALPHA;if(o===bf)return i.DEPTH_COMPONENT;if(o===yf)return i.DEPTH_STENCIL;if(1035===o)return u=t.get("EXT_sRGB"),null!==u?u.SRGB_ALPHA_EXT:null;if(1028===o)return i.RED;if(1029===o)return i.RED_INTEGER;if(1030===o)return i.RG;if(1031===o)return i.RG_INTEGER;if(1033===o)return i.RGBA_INTEGER;if(33776===o||33777===o||33778===o||33779===o)if(f===nr){if(u=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===u)return null;if(33776===o)return u.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===o)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===o)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===o)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(u=t.get("WEBGL_compressed_texture_s3tc"),null===u)return null;if(33776===o)return u.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===o)return u.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===o)return u.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===o)return u.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===o||35841===o||35842===o||35843===o){if(u=t.get("WEBGL_compressed_texture_pvrtc"),null===u)return null;if(35840===o)return u.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===o)return u.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===o)return u.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===o)return u.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===o)return u=t.get("WEBGL_compressed_texture_etc1"),null!==u?u.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===o||37496===o){if(u=t.get("WEBGL_compressed_texture_etc"),null===u)return null;if(37492===o)return f===nr?u.COMPRESSED_SRGB8_ETC2:u.COMPRESSED_RGB8_ETC2;if(37496===o)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:u.COMPRESSED_RGBA8_ETC2_EAC}if(37808===o||37809===o||37810===o||37811===o||37812===o||37813===o||37814===o||37815===o||37816===o||37817===o||37818===o||37819===o||37820===o||37821===o){if(u=t.get("WEBGL_compressed_texture_astc"),null===u)return null;if(37808===o)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:u.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===o)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:u.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===o)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:u.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===o)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:u.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===o)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:u.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===o)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:u.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===o)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:u.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===o)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:u.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===o)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:u.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===o)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:u.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===o)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:u.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===o)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:u.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===o)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:u.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===o)return f===nr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:u.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===o||36494===o||36495===o){if(u=t.get("EXT_texture_compression_bptc"),null===u)return null;if(36492===o)return f===nr?u.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:u.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===o)return u.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===o)return u.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===o||36284===o||36285===o||36286===o){if(u=t.get("EXT_texture_compression_rgtc"),null===u)return null;if(36492===o)return u.COMPRESSED_RED_RGTC1_EXT;if(36284===o)return u.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===o)return u.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===o)return u.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return o===Wu?n?i.UNSIGNED_INT_24_8:(u=t.get("WEBGL_depth_texture"),null!==u?u.UNSIGNED_INT_24_8_WEBGL:null):void 0!==i[o]?i[o]:null}}}class L8 extends vs{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class Ap extends Ha{constructor(){super(),this.isGroup=!0,this.type="Group"}}const F8={type:"move"};class UP{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Ap,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Ap,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new J,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new J),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Ap,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new J,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new J),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const n of t.hand.values())this._getHandJoint(e,n)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,n){let r=null,o=null,l=null;const u=this._targetRay,f=this._grip,p=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState){if(p&&t.hand){l=!0;for(const R of t.hand.values()){const I=e.getJointPose(R,n),k=this._getHandJoint(p,R);null!==I&&(k.matrix.fromArray(I.transform.matrix),k.matrix.decompose(k.position,k.rotation,k.scale),k.matrixWorldNeedsUpdate=!0,k.jointRadius=I.radius),k.visible=null!==I}const x=p.joints["index-finger-tip"].position.distanceTo(p.joints["thumb-tip"].position),M=.02,A=.005;p.inputState.pinching&&x>M+A?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!p.inputState.pinching&&x<=M-A&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==f&&t.gripSpace&&(o=e.getPose(t.gripSpace,n),null!==o&&(f.matrix.fromArray(o.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,o.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(o.linearVelocity)):f.hasLinearVelocity=!1,o.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(o.angularVelocity)):f.hasAngularVelocity=!1));null!==u&&(r=e.getPose(t.targetRaySpace,n),null===r&&null!==o&&(r=o),null!==r&&(u.matrix.fromArray(r.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,r.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(r.linearVelocity)):u.hasLinearVelocity=!1,r.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(r.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(F8)))}return null!==u&&(u.visible=null!==r),null!==f&&(f.visible=null!==o),null!==p&&(p.visible=null!==l),this}_getHandJoint(t,e){if(void 0===t.joints[e.jointName]){const n=new Ap;n.matrixAutoUpdate=!1,n.visible=!1,t.joints[e.jointName]=n,t.add(n)}return t.joints[e.jointName]}}class U8 extends Nd{constructor(t,e,n,r,o,l,u,f,p,b){if((b=void 0!==b?b:bf)!==bf&&b!==yf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&b===bf&&(n=Va),void 0===n&&b===yf&&(n=Wu),super(null,r,o,l,u,f,b,n,p),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=void 0!==u?u:io,this.minFilter=void 0!==f?f:io,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return null!==this.compareFunction&&(e.compareFunction=this.compareFunction),e}}class B8 extends yl{constructor(t,e){super();const n=this;let r=null,o=1,l=null,u="local-floor",f=1,p=null,b=null,y=null,x=null,M=null,A=null;const R=e.getContextAttributes();let I=null,k=null;const U=[],O=[],B=new vs;B.layers.enable(1),B.viewport=new Yi;const W=new vs;W.layers.enable(2),W.viewport=new Yi;const Z=[B,W],q=new L8;q.layers.enable(1),q.layers.enable(2);let ce=null,H=null;function Q(me){const We=O.indexOf(me.inputSource);if(-1===We)return;const Ut=U[We];void 0!==Ut&&(Ut.update(me.inputSource,me.frame,p||l),Ut.dispatchEvent({type:me.type,data:me.inputSource}))}function ke(){r.removeEventListener("select",Q),r.removeEventListener("selectstart",Q),r.removeEventListener("selectend",Q),r.removeEventListener("squeeze",Q),r.removeEventListener("squeezestart",Q),r.removeEventListener("squeezeend",Q),r.removeEventListener("end",ke),r.removeEventListener("inputsourceschange",tt);for(let me=0;me<U.length;me++){const We=O[me];null!==We&&(O[me]=null,U[me].disconnect(We))}ce=null,H=null,t.setRenderTarget(I),M=null,x=null,y=null,r=null,k=null,ot.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function tt(me){for(let We=0;We<me.removed.length;We++){const Ut=me.removed[We],Et=O.indexOf(Ut);Et>=0&&(O[Et]=null,U[Et].disconnect(Ut))}for(let We=0;We<me.added.length;We++){const Ut=me.added[We];let Et=O.indexOf(Ut);if(-1===Et){for(let Fn=0;Fn<U.length;Fn++){if(Fn>=O.length){O.push(Ut),Et=Fn;break}if(null===O[Fn]){O[Fn]=Ut,Et=Fn;break}}if(-1===Et)break}const en=U[Et];en&&en.connect(Ut)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(me){let We=U[me];return void 0===We&&(We=new UP,U[me]=We),We.getTargetRaySpace()},this.getControllerGrip=function(me){let We=U[me];return void 0===We&&(We=new UP,U[me]=We),We.getGripSpace()},this.getHand=function(me){let We=U[me];return void 0===We&&(We=new UP,U[me]=We),We.getHandSpace()},this.setFramebufferScaleFactor=function(me){o=me,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(me){u=me,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||l},this.setReferenceSpace=function(me){p=me},this.getBaseLayer=function(){return null!==x?x:M},this.getBinding=function(){return y},this.getFrame=function(){return A},this.getSession=function(){return r},this.setSession=function(){var me=(0,Ad.Z)(function*(We){if(r=We,null!==r){if(I=t.getRenderTarget(),r.addEventListener("select",Q),r.addEventListener("selectstart",Q),r.addEventListener("selectend",Q),r.addEventListener("squeeze",Q),r.addEventListener("squeezestart",Q),r.addEventListener("squeezeend",Q),r.addEventListener("end",ke),r.addEventListener("inputsourceschange",tt),!0!==R.xrCompatible&&(yield e.makeXRCompatible()),void 0===r.renderState.layers||!1===t.capabilities.isWebGL2)M=new XRWebGLLayer(r,e,{antialias:void 0!==r.renderState.layers||R.antialias,alpha:!0,depth:R.depth,stencil:R.stencil,framebufferScaleFactor:o}),r.updateRenderState({baseLayer:M}),k=new qu(M.framebufferWidth,M.framebufferHeight,{format:la,type:Oc,colorSpace:t.outputColorSpace,stencilBuffer:R.stencil});else{let Ut=null,Et=null,en=null;R.depth&&(en=R.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,Ut=R.stencil?yf:bf,Et=R.stencil?Wu:Va);const Fn={colorFormat:e.RGBA8,depthFormat:en,scaleFactor:o};y=new XRWebGLBinding(r,e),x=y.createProjectionLayer(Fn),r.updateRenderState({layers:[x]}),k=new qu(x.textureWidth,x.textureHeight,{format:la,type:Oc,depthTexture:new U8(x.textureWidth,x.textureHeight,Et,void 0,void 0,void 0,void 0,void 0,void 0,Ut),stencilBuffer:R.stencil,colorSpace:t.outputColorSpace,samples:R.antialias?4:0}),t.properties.get(k).__ignoreDepthValues=x.ignoreDepthValues}k.isXRRenderTarget=!0,this.setFoveation(f),p=null,l=yield r.requestReferenceSpace(u),ot.setContext(r),ot.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}});return function(We){return me.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};const ft=new J,fe=new J;function ve(me,We){null===We?me.matrixWorld.copy(me.matrix):me.matrixWorld.multiplyMatrices(We.matrixWorld,me.matrix),me.matrixWorldInverse.copy(me.matrixWorld).invert()}this.updateCamera=function(me){if(null===r)return;q.near=W.near=B.near=me.near,q.far=W.far=B.far=me.far,(ce!==q.near||H!==q.far)&&(r.updateRenderState({depthNear:q.near,depthFar:q.far}),ce=q.near,H=q.far);const We=me.parent,Ut=q.cameras;ve(q,We);for(let Et=0;Et<Ut.length;Et++)ve(Ut[Et],We);2===Ut.length?function Ue(me,We,Ut){ft.setFromMatrixPosition(We.matrixWorld),fe.setFromMatrixPosition(Ut.matrixWorld);const Et=ft.distanceTo(fe),en=We.projectionMatrix.elements,Fn=Ut.projectionMatrix.elements,on=en[14]/(en[10]-1),gn=en[14]/(en[10]+1),bn=(en[9]+1)/en[5],ui=(en[9]-1)/en[5],In=(en[8]-1)/en[0],le=(Fn[8]+1)/Fn[0],Vt=on*In,at=on*le,Mt=Et/(-In+le),vt=Mt*-In;We.matrixWorld.decompose(me.position,me.quaternion,me.scale),me.translateX(vt),me.translateZ(Mt),me.matrixWorld.compose(me.position,me.quaternion,me.scale),me.matrixWorldInverse.copy(me.matrixWorld).invert();const Tn=on+Mt,Kt=gn+Mt;me.projectionMatrix.makePerspective(Vt-vt,at+(Et-vt),bn*gn/Kt*Tn,ui*gn/Kt*Tn,Tn,Kt),me.projectionMatrixInverse.copy(me.projectionMatrix).invert()}(q,B,W):q.projectionMatrix.copy(B.projectionMatrix),function Ee(me,We,Ut){null===Ut?me.matrix.copy(We.matrixWorld):(me.matrix.copy(Ut.matrixWorld),me.matrix.invert(),me.matrix.multiply(We.matrixWorld)),me.matrix.decompose(me.position,me.quaternion,me.scale),me.updateMatrixWorld(!0),me.projectionMatrix.copy(We.projectionMatrix),me.projectionMatrixInverse.copy(We.projectionMatrixInverse),me.isPerspectiveCamera&&(me.fov=2*_p*Math.atan(1/me.projectionMatrix.elements[5]),me.zoom=1)}(me,q,We)},this.getCamera=function(){return q},this.getFoveation=function(){if(null!==x||null!==M)return f},this.setFoveation=function(me){f=me,null!==x&&(x.fixedFoveation=me),null!==M&&void 0!==M.fixedFoveation&&(M.fixedFoveation=me)};let ze=null;const ot=new g3;ot.setAnimationLoop(function Le(me,We){if(b=We.getViewerPose(p||l),A=We,null!==b){const Ut=b.views;null!==M&&(t.setRenderTargetFramebuffer(k,M.framebuffer),t.setRenderTarget(k));let Et=!1;Ut.length!==q.cameras.length&&(q.cameras.length=0,Et=!0);for(let en=0;en<Ut.length;en++){const Fn=Ut[en];let on=null;if(null!==M)on=M.getViewport(Fn);else{const bn=y.getViewSubImage(x,Fn);on=bn.viewport,0===en&&(t.setRenderTargetTextures(k,bn.colorTexture,x.ignoreDepthValues?void 0:bn.depthStencilTexture),t.setRenderTarget(k))}let gn=Z[en];void 0===gn&&(gn=new vs,gn.layers.enable(en),gn.viewport=new Yi,Z[en]=gn),gn.matrix.fromArray(Fn.transform.matrix),gn.matrix.decompose(gn.position,gn.quaternion,gn.scale),gn.projectionMatrix.fromArray(Fn.projectionMatrix),gn.projectionMatrixInverse.copy(gn.projectionMatrix).invert(),gn.viewport.set(on.x,on.y,on.width,on.height),0===en&&(q.matrix.copy(gn.matrix),q.matrix.decompose(q.position,q.quaternion,q.scale)),!0===Et&&q.cameras.push(gn)}}for(let Ut=0;Ut<U.length;Ut++){const Et=O[Ut],en=U[Ut];null!==Et&&void 0!==en&&en.update(Et,We,p||l)}ze&&ze(me,We),We.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:We}),A=null}),this.setAnimationLoop=function(me){ze=me},this.dispose=function(){}}}function V8(i,t){function e(I,k){!0===I.matrixAutoUpdate&&I.updateMatrix(),k.value.copy(I.matrix)}function o(I,k){I.opacity.value=k.opacity,k.color&&I.diffuse.value.copy(k.color),k.emissive&&I.emissive.value.copy(k.emissive).multiplyScalar(k.emissiveIntensity),k.map&&(I.map.value=k.map,e(k.map,I.mapTransform)),k.alphaMap&&(I.alphaMap.value=k.alphaMap,e(k.alphaMap,I.alphaMapTransform)),k.bumpMap&&(I.bumpMap.value=k.bumpMap,e(k.bumpMap,I.bumpMapTransform),I.bumpScale.value=k.bumpScale,1===k.side&&(I.bumpScale.value*=-1)),k.normalMap&&(I.normalMap.value=k.normalMap,e(k.normalMap,I.normalMapTransform),I.normalScale.value.copy(k.normalScale),1===k.side&&I.normalScale.value.negate()),k.displacementMap&&(I.displacementMap.value=k.displacementMap,e(k.displacementMap,I.displacementMapTransform),I.displacementScale.value=k.displacementScale,I.displacementBias.value=k.displacementBias),k.emissiveMap&&(I.emissiveMap.value=k.emissiveMap,e(k.emissiveMap,I.emissiveMapTransform)),k.specularMap&&(I.specularMap.value=k.specularMap,e(k.specularMap,I.specularMapTransform)),k.alphaTest>0&&(I.alphaTest.value=k.alphaTest);const U=t.get(k).envMap;if(U&&(I.envMap.value=U,I.flipEnvMap.value=U.isCubeTexture&&!1===U.isRenderTargetTexture?-1:1,I.reflectivity.value=k.reflectivity,I.ior.value=k.ior,I.refractionRatio.value=k.refractionRatio),k.lightMap){I.lightMap.value=k.lightMap;const O=!0===i._useLegacyLights?Math.PI:1;I.lightMapIntensity.value=k.lightMapIntensity*O,e(k.lightMap,I.lightMapTransform)}k.aoMap&&(I.aoMap.value=k.aoMap,I.aoMapIntensity.value=k.aoMapIntensity,e(k.aoMap,I.aoMapTransform))}return{refreshFogUniforms:function n(I,k){k.color.getRGB(I.fogColor.value,kf(i)),k.isFog?(I.fogNear.value=k.near,I.fogFar.value=k.far):k.isFogExp2&&(I.fogDensity.value=k.density)},refreshMaterialUniforms:function r(I,k,U,O,B){k.isMeshBasicMaterial||k.isMeshLambertMaterial?o(I,k):k.isMeshToonMaterial?(o(I,k),function y(I,k){k.gradientMap&&(I.gradientMap.value=k.gradientMap)}(I,k)):k.isMeshPhongMaterial?(o(I,k),function b(I,k){I.specular.value.copy(k.specular),I.shininess.value=Math.max(k.shininess,1e-4)}(I,k)):k.isMeshStandardMaterial?(o(I,k),function x(I,k){I.metalness.value=k.metalness,k.metalnessMap&&(I.metalnessMap.value=k.metalnessMap,e(k.metalnessMap,I.metalnessMapTransform)),I.roughness.value=k.roughness,k.roughnessMap&&(I.roughnessMap.value=k.roughnessMap,e(k.roughnessMap,I.roughnessMapTransform)),t.get(k).envMap&&(I.envMapIntensity.value=k.envMapIntensity)}(I,k),k.isMeshPhysicalMaterial&&function M(I,k,U){I.ior.value=k.ior,k.sheen>0&&(I.sheenColor.value.copy(k.sheenColor).multiplyScalar(k.sheen),I.sheenRoughness.value=k.sheenRoughness,k.sheenColorMap&&(I.sheenColorMap.value=k.sheenColorMap,e(k.sheenColorMap,I.sheenColorMapTransform)),k.sheenRoughnessMap&&(I.sheenRoughnessMap.value=k.sheenRoughnessMap,e(k.sheenRoughnessMap,I.sheenRoughnessMapTransform))),k.clearcoat>0&&(I.clearcoat.value=k.clearcoat,I.clearcoatRoughness.value=k.clearcoatRoughness,k.clearcoatMap&&(I.clearcoatMap.value=k.clearcoatMap,e(k.clearcoatMap,I.clearcoatMapTransform)),k.clearcoatRoughnessMap&&(I.clearcoatRoughnessMap.value=k.clearcoatRoughnessMap,e(k.clearcoatRoughnessMap,I.clearcoatRoughnessMapTransform)),k.clearcoatNormalMap&&(I.clearcoatNormalMap.value=k.clearcoatNormalMap,e(k.clearcoatNormalMap,I.clearcoatNormalMapTransform),I.clearcoatNormalScale.value.copy(k.clearcoatNormalScale),1===k.side&&I.clearcoatNormalScale.value.negate())),k.iridescence>0&&(I.iridescence.value=k.iridescence,I.iridescenceIOR.value=k.iridescenceIOR,I.iridescenceThicknessMinimum.value=k.iridescenceThicknessRange[0],I.iridescenceThicknessMaximum.value=k.iridescenceThicknessRange[1],k.iridescenceMap&&(I.iridescenceMap.value=k.iridescenceMap,e(k.iridescenceMap,I.iridescenceMapTransform)),k.iridescenceThicknessMap&&(I.iridescenceThicknessMap.value=k.iridescenceThicknessMap,e(k.iridescenceThicknessMap,I.iridescenceThicknessMapTransform))),k.transmission>0&&(I.transmission.value=k.transmission,I.transmissionSamplerMap.value=U.texture,I.transmissionSamplerSize.value.set(U.width,U.height),k.transmissionMap&&(I.transmissionMap.value=k.transmissionMap,e(k.transmissionMap,I.transmissionMapTransform)),I.thickness.value=k.thickness,k.thicknessMap&&(I.thicknessMap.value=k.thicknessMap,e(k.thicknessMap,I.thicknessMapTransform)),I.attenuationDistance.value=k.attenuationDistance,I.attenuationColor.value.copy(k.attenuationColor)),k.anisotropy>0&&(I.anisotropyVector.value.set(k.anisotropy*Math.cos(k.anisotropyRotation),k.anisotropy*Math.sin(k.anisotropyRotation)),k.anisotropyMap&&(I.anisotropyMap.value=k.anisotropyMap,e(k.anisotropyMap,I.anisotropyMapTransform))),I.specularIntensity.value=k.specularIntensity,I.specularColor.value.copy(k.specularColor),k.specularColorMap&&(I.specularColorMap.value=k.specularColorMap,e(k.specularColorMap,I.specularColorMapTransform)),k.specularIntensityMap&&(I.specularIntensityMap.value=k.specularIntensityMap,e(k.specularIntensityMap,I.specularIntensityMapTransform))}(I,k,B)):k.isMeshMatcapMaterial?(o(I,k),function A(I,k){k.matcap&&(I.matcap.value=k.matcap)}(I,k)):k.isMeshDepthMaterial?o(I,k):k.isMeshDistanceMaterial?(o(I,k),function R(I,k){const U=t.get(k).light;I.referencePosition.value.setFromMatrixPosition(U.matrixWorld),I.nearDistance.value=U.shadow.camera.near,I.farDistance.value=U.shadow.camera.far}(I,k)):k.isMeshNormalMaterial?o(I,k):k.isLineBasicMaterial?(function l(I,k){I.diffuse.value.copy(k.color),I.opacity.value=k.opacity,k.map&&(I.map.value=k.map,e(k.map,I.mapTransform))}(I,k),k.isLineDashedMaterial&&function u(I,k){I.dashSize.value=k.dashSize,I.totalSize.value=k.dashSize+k.gapSize,I.scale.value=k.scale}(I,k)):k.isPointsMaterial?function f(I,k,U,O){I.diffuse.value.copy(k.color),I.opacity.value=k.opacity,I.size.value=k.size*U,I.scale.value=.5*O,k.map&&(I.map.value=k.map,e(k.map,I.uvTransform)),k.alphaMap&&(I.alphaMap.value=k.alphaMap,e(k.alphaMap,I.alphaMapTransform)),k.alphaTest>0&&(I.alphaTest.value=k.alphaTest)}(I,k,U,O):k.isSpriteMaterial?function p(I,k){I.diffuse.value.copy(k.color),I.opacity.value=k.opacity,I.rotation.value=k.rotation,k.map&&(I.map.value=k.map,e(k.map,I.mapTransform)),k.alphaMap&&(I.alphaMap.value=k.alphaMap,e(k.alphaMap,I.alphaMapTransform)),k.alphaTest>0&&(I.alphaTest.value=k.alphaTest)}(I,k):k.isShadowMaterial?(I.color.value.copy(k.color),I.opacity.value=k.opacity):k.isShaderMaterial&&(k.uniformsNeedUpdate=!1)}}}function z8(i,t,e,n){let r={},o={},l=[];const u=e.isWebGL2?i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS):0;function M(U,O,B){const W=U.value;if(void 0===B[O]){if("number"==typeof W)B[O]=W;else{const Z=Array.isArray(W)?W:[W],q=[];for(let ce=0;ce<Z.length;ce++)q.push(Z[ce].clone());B[O]=q}return!0}if("number"==typeof W){if(B[O]!==W)return B[O]=W,!0}else{const Z=Array.isArray(B[O])?B[O]:[B[O]],q=Array.isArray(W)?W:[W];for(let ce=0;ce<Z.length;ce++){const H=Z[ce];if(!1===H.equals(q[ce]))return H.copy(q[ce]),!0}}return!1}function R(U){const O={boundary:0,storage:0};return"number"==typeof U?(O.boundary=4,O.storage=4):U.isVector2?(O.boundary=8,O.storage=8):U.isVector3||U.isColor?(O.boundary=16,O.storage=12):U.isVector4?(O.boundary=16,O.storage=16):U.isMatrix3?(O.boundary=48,O.storage=48):U.isMatrix4?(O.boundary=64,O.storage=64):U.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",U),O}function I(U){const O=U.target;O.removeEventListener("dispose",I);const B=l.indexOf(O.__bindingPointIndex);l.splice(B,1),i.deleteBuffer(r[O.id]),delete r[O.id],delete o[O.id]}return{bind:function f(U,O){n.uniformBlockBinding(U,O.program)},update:function p(U,O){let B=r[U.id];void 0===B&&(function A(U){const O=U.uniforms;let B=0;let Z=0;for(let q=0,ce=O.length;q<ce;q++){const H=O[q],Q={boundary:0,storage:0},ke=Array.isArray(H.value)?H.value:[H.value];for(let tt=0,ft=ke.length;tt<ft;tt++){const Ue=R(ke[tt]);Q.boundary+=Ue.boundary,Q.storage+=Ue.storage}H.__data=new Float32Array(Q.storage/Float32Array.BYTES_PER_ELEMENT),H.__offset=B,q>0&&(Z=B%16,0!==Z&&16-Z-Q.boundary<0&&(B+=16-Z,H.__offset=B)),B+=Q.storage}Z=B%16,Z>0&&(B+=16-Z),U.__size=B,U.__cache={}}(U),B=function b(U){const O=function y(){for(let U=0;U<u;U++)if(-1===l.indexOf(U))return l.push(U),U;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();U.__bindingPointIndex=O;const B=i.createBuffer(),W=U.__size,Z=U.usage;return i.bindBuffer(i.UNIFORM_BUFFER,B),i.bufferData(i.UNIFORM_BUFFER,W,Z),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,O,B),B}(U),r[U.id]=B,U.addEventListener("dispose",I)),n.updateUBOMapping(U,O.program);const Z=t.render.frame;o[U.id]!==Z&&(function x(U){const B=U.uniforms,W=U.__cache;i.bindBuffer(i.UNIFORM_BUFFER,r[U.id]);for(let Z=0,q=B.length;Z<q;Z++){const ce=B[Z];if(!0===M(ce,Z,W)){const H=ce.__offset,Q=Array.isArray(ce.value)?ce.value:[ce.value];let ke=0;for(let tt=0;tt<Q.length;tt++){const ft=Q[tt],fe=R(ft);"number"==typeof ft?(ce.__data[0]=ft,i.bufferSubData(i.UNIFORM_BUFFER,H+ke,ce.__data)):ft.isMatrix3?(ce.__data[0]=ft.elements[0],ce.__data[1]=ft.elements[1],ce.__data[2]=ft.elements[2],ce.__data[3]=ft.elements[0],ce.__data[4]=ft.elements[3],ce.__data[5]=ft.elements[4],ce.__data[6]=ft.elements[5],ce.__data[7]=ft.elements[0],ce.__data[8]=ft.elements[6],ce.__data[9]=ft.elements[7],ce.__data[10]=ft.elements[8],ce.__data[11]=ft.elements[0]):(ft.toArray(ce.__data,ke),ke+=fe.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,H,ce.__data)}}i.bindBuffer(i.UNIFORM_BUFFER,null)}(U),o[U.id]=Z)},dispose:function k(){for(const U in r)i.deleteBuffer(r[U]);l=[],r={},o={}}}}class BP{constructor(t={}){const{canvas:e=u3(),context:n=null,depth:r=!0,stencil:o=!0,alpha:l=!1,antialias:u=!1,premultipliedAlpha:f=!0,preserveDrawingBuffer:p=!1,powerPreference:b="default",failIfMajorPerformanceCaveat:y=!1}=t;let x;this.isWebGLRenderer=!0,x=null!==n?n.getContextAttributes().alpha:l;const M=new Uint32Array(4),A=new Int32Array(4);let R=null,I=null;const k=[],U=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Wr,this._useLegacyLights=!1,this.toneMapping=Id,this.toneMappingExposure=1;const O=this;let B=!1,W=0,Z=0,q=null,ce=-1,H=null;const Q=new Yi,ke=new Yi;let tt=null;const ft=new Jt(0);let fe=0,Ue=e.width,ve=e.height,Ee=1,ze=null,Le=null;const ot=new Yi(0,0,Ue,ve),me=new Yi(0,0,Ue,ve);let We=!1;const Ut=new DP;let Et=!1,en=!1,Fn=null;const on=new ei,gn=new et,bn=new J,ui={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function In(){return null===q?Ee:1}let at,Mt,vt,Tn,Kt,an,Gn,xi,Rr,te,G,Be,Tt,wt,It,_n,Nt,qt,de,Lt,pt,jn,Mn,Un,le=n;function Vt(X,Ie){for(let He=0;He<X.length;He++){const Ye=e.getContext(X[He],Ie);if(null!==Ye)return Ye}return null}try{const X={alpha:!0,depth:r,stencil:o,antialias:u,premultipliedAlpha:f,preserveDrawingBuffer:p,powerPreference:b,failIfMajorPerformanceCaveat:y};if("setAttribute"in e&&e.setAttribute("data-engine","three.js r158"),e.addEventListener("webglcontextlost",Mi,!1),e.addEventListener("webglcontextrestored",pe,!1),e.addEventListener("webglcontextcreationerror",Ht,!1),null===le){const Ie=["webgl2","webgl","experimental-webgl"];if(!0===O.isWebGL1Renderer&&Ie.shift(),le=Vt(Ie,X),null===le)throw Vt(Ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&le instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===le.getShaderPrecisionFormat&&(le.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(X){throw console.error("THREE.WebGLRenderer: "+X.message),X}function yn(){at=new JW(le),Mt=new YW(le,at,t),at.init(Mt),jn=new N8(le,at,Mt),vt=new P8(le,at,Mt),Tn=new nj(le),Kt=new x8,an=new O8(le,at,vt,Kt,Mt,jn,Tn),Gn=new ZW(O),xi=new QW(O),Rr=new j6(le,Mt),Mn=new jW(le,at,Rr,Mt),te=new ej(le,Rr,Tn,Mn),G=new sj(le,te,Rr,Tn),de=new oj(le,Mt,an),_n=new qW(Kt),Be=new y8(O,Gn,xi,at,Mt,Mn,_n),Tt=new V8(O,Kt),wt=new E8,It=new D8(at,Mt),qt=new WW(O,Gn,xi,vt,G,x,f),Nt=new R8(O,G,Mt),Un=new z8(le,Tn,Mt,vt),Lt=new $W(le,at,Tn,Mt),pt=new tj(le,at,Tn,Mt),Tn.programs=Be.programs,O.capabilities=Mt,O.extensions=at,O.properties=Kt,O.renderLists=wt,O.shadowMap=Nt,O.state=vt,O.info=Tn}yn();const sn=new B8(O,le);function Mi(X){X.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),B=!0}function pe(){console.log("THREE.WebGLRenderer: Context Restored."),B=!1;const X=Tn.autoReset,Ie=Nt.enabled,He=Nt.autoUpdate,je=Nt.needsUpdate,Ye=Nt.type;yn(),Tn.autoReset=X,Nt.enabled=Ie,Nt.autoUpdate=He,Nt.needsUpdate=je,Nt.type=Ye}function Ht(X){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",X.statusMessage)}function Ct(X){const Ie=X.target;Ie.removeEventListener("dispose",Ct),function nt(X){(function Rt(X){const Ie=Kt.get(X).programs;void 0!==Ie&&(Ie.forEach(function(He){Be.releaseProgram(He)}),X.isShaderMaterial&&Be.releaseShaderCache(X))})(X),Kt.remove(X)}(Ie)}function kn(X,Ie,He){!0===X.transparent&&2===X.side&&!1===X.forceSinglePass?(X.side=1,X.needsUpdate=!0,LI(X,Ie,He),X.side=0,X.needsUpdate=!0,LI(X,Ie,He),X.side=2):LI(X,Ie,He)}this.xr=sn,this.getContext=function(){return le},this.getContextAttributes=function(){return le.getContextAttributes()},this.forceContextLoss=function(){const X=at.get("WEBGL_lose_context");X&&X.loseContext()},this.forceContextRestore=function(){const X=at.get("WEBGL_lose_context");X&&X.restoreContext()},this.getPixelRatio=function(){return Ee},this.setPixelRatio=function(X){void 0!==X&&(Ee=X,this.setSize(Ue,ve,!1))},this.getSize=function(X){return X.set(Ue,ve)},this.setSize=function(X,Ie,He=!0){sn.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(Ue=X,ve=Ie,e.width=Math.floor(X*Ee),e.height=Math.floor(Ie*Ee),!0===He&&(e.style.width=X+"px",e.style.height=Ie+"px"),this.setViewport(0,0,X,Ie))},this.getDrawingBufferSize=function(X){return X.set(Ue*Ee,ve*Ee).floor()},this.setDrawingBufferSize=function(X,Ie,He){Ue=X,ve=Ie,Ee=He,e.width=Math.floor(X*He),e.height=Math.floor(Ie*He),this.setViewport(0,0,X,Ie)},this.getCurrentViewport=function(X){return X.copy(Q)},this.getViewport=function(X){return X.copy(ot)},this.setViewport=function(X,Ie,He,je){X.isVector4?ot.set(X.x,X.y,X.z,X.w):ot.set(X,Ie,He,je),vt.viewport(Q.copy(ot).multiplyScalar(Ee).floor())},this.getScissor=function(X){return X.copy(me)},this.setScissor=function(X,Ie,He,je){X.isVector4?me.set(X.x,X.y,X.z,X.w):me.set(X,Ie,He,je),vt.scissor(ke.copy(me).multiplyScalar(Ee).floor())},this.getScissorTest=function(){return We},this.setScissorTest=function(X){vt.setScissorTest(We=X)},this.setOpaqueSort=function(X){ze=X},this.setTransparentSort=function(X){Le=X},this.getClearColor=function(X){return X.copy(qt.getClearColor())},this.setClearColor=function(){qt.setClearColor.apply(qt,arguments)},this.getClearAlpha=function(){return qt.getClearAlpha()},this.setClearAlpha=function(){qt.setClearAlpha.apply(qt,arguments)},this.clear=function(X=!0,Ie=!0,He=!0){let je=0;if(X){let Ye=!1;if(null!==q){const rn=q.texture.format;Ye=1033===rn||1031===rn||1029===rn}if(Ye){const rn=q.texture.type,An=rn===Oc||rn===Va||1012===rn||rn===Wu||1017===rn||1018===rn,$n=qt.getClearColor(),Jn=qt.getClearAlpha(),vi=$n.r,ai=$n.g,ci=$n.b;An?(M[0]=vi,M[1]=ai,M[2]=ci,M[3]=Jn,le.clearBufferuiv(le.COLOR,0,M)):(A[0]=vi,A[1]=ai,A[2]=ci,A[3]=Jn,le.clearBufferiv(le.COLOR,0,A))}else je|=le.COLOR_BUFFER_BIT}Ie&&(je|=le.DEPTH_BUFFER_BIT),He&&(je|=le.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),le.clear(je)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Mi,!1),e.removeEventListener("webglcontextrestored",pe,!1),e.removeEventListener("webglcontextcreationerror",Ht,!1),wt.dispose(),It.dispose(),Kt.dispose(),Gn.dispose(),xi.dispose(),G.dispose(),Mn.dispose(),Un.dispose(),Be.dispose(),sn.dispose(),sn.removeEventListener("sessionstart",kl),sn.removeEventListener("sessionend",mr),Fn&&(Fn.dispose(),Fn=null),pa.stop()},this.renderBufferDirect=function(X,Ie,He,je,Ye,rn){null===Ie&&(Ie=ui);const An=Ye.isMesh&&Ye.matrixWorld.determinant()<0,$n=function cre(X,Ie,He,je,Ye){!0!==Ie.isScene&&(Ie=ui),an.resetTextureUnits();const rn=Ie.fog,$n=null===q?O.outputColorSpace:!0===q.isXRRenderTarget?q.texture.colorSpace:Nc,Jn=(je.isMeshStandardMaterial?xi:Gn).get(je.envMap||(je.isMeshStandardMaterial?Ie.environment:null)),vi=!0===je.vertexColors&&!!He.attributes.color&&4===He.attributes.color.itemSize,ai=!!He.attributes.tangent&&(!!je.normalMap||je.anisotropy>0),ci=!!He.morphAttributes.position,_o=!!He.morphAttributes.normal,Gc=!!He.morphAttributes.color;let xs=Id;je.toneMapped&&(null===q||!0===q.isXRRenderTarget)&&(xs=O.toneMapping);const Uf=He.morphAttributes.position||He.morphAttributes.normal||He.morphAttributes.color,ao=void 0!==Uf?Uf.length:0,Ti=Kt.get(je),_F=I.state.lights;!0!==Et||!0!==en&&X===H||_n.setState(je,X,X===H&&je.id===ce);let Ro=!1;je.version===Ti.__version?(Ti.needsLights&&Ti.lightsStateVersion!==_F.state.version||Ti.outputColorSpace!==$n||Ye.isInstancedMesh&&!1===Ti.instancing||!Ye.isInstancedMesh&&!0===Ti.instancing||Ye.isSkinnedMesh&&!1===Ti.skinning||!Ye.isSkinnedMesh&&!0===Ti.skinning||Ye.isInstancedMesh&&!0===Ti.instancingColor&&null===Ye.instanceColor||Ye.isInstancedMesh&&!1===Ti.instancingColor&&null!==Ye.instanceColor||Ti.envMap!==Jn||!0===je.fog&&Ti.fog!==rn||void 0!==Ti.numClippingPlanes&&(Ti.numClippingPlanes!==_n.numPlanes||Ti.numIntersection!==_n.numIntersection)||Ti.vertexAlphas!==vi||Ti.vertexTangents!==ai||Ti.morphTargets!==ci||Ti.morphNormals!==_o||Ti.morphColors!==Gc||Ti.toneMapping!==xs||!0===Mt.isWebGL2&&Ti.morphTargetsCount!==ao)&&(Ro=!0):(Ro=!0,Ti.__version=je.version);let Vv=Ti.currentProgram;!0===Ro&&(Vv=LI(je,Ie,Ye));let l6=!1,VC=!1,vF=!1;const ga=Vv.getUniforms(),zv=Ti.uniforms;if(vt.useProgram(Vv.program)&&(l6=!0,VC=!0,vF=!0),je.id!==ce&&(ce=je.id,VC=!0),l6||H!==X){ga.setValue(le,"projectionMatrix",X.projectionMatrix),ga.setValue(le,"viewMatrix",X.matrixWorldInverse);const Wc=ga.map.cameraPosition;void 0!==Wc&&Wc.setValue(le,bn.setFromMatrixPosition(X.matrixWorld)),Mt.logarithmicDepthBuffer&&ga.setValue(le,"logDepthBufFC",2/(Math.log(X.far+1)/Math.LN2)),(je.isMeshPhongMaterial||je.isMeshToonMaterial||je.isMeshLambertMaterial||je.isMeshBasicMaterial||je.isMeshStandardMaterial||je.isShaderMaterial)&&ga.setValue(le,"isOrthographic",!0===X.isOrthographicCamera),H!==X&&(H=X,VC=!0,vF=!0)}if(Ye.isSkinnedMesh){ga.setOptional(le,Ye,"bindMatrix"),ga.setOptional(le,Ye,"bindMatrixInverse");const Wc=Ye.skeleton;Wc&&(Mt.floatVertexTextures?(null===Wc.boneTexture&&Wc.computeBoneTexture(),ga.setValue(le,"boneTexture",Wc.boneTexture,an),ga.setValue(le,"boneTextureSize",Wc.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const bF=He.morphAttributes;if((void 0!==bF.position||void 0!==bF.normal||void 0!==bF.color&&!0===Mt.isWebGL2)&&de.update(Ye,He,Vv),(VC||Ti.receiveShadow!==Ye.receiveShadow)&&(Ti.receiveShadow=Ye.receiveShadow,ga.setValue(le,"receiveShadow",Ye.receiveShadow)),je.isMeshGouraudMaterial&&null!==je.envMap&&(zv.envMap.value=Jn,zv.flipEnvMap.value=Jn.isCubeTexture&&!1===Jn.isRenderTargetTexture?-1:1),VC&&(ga.setValue(le,"toneMappingExposure",O.toneMappingExposure),Ti.needsLights&&function lre(X,Ie){X.ambientLightColor.needsUpdate=Ie,X.lightProbe.needsUpdate=Ie,X.directionalLights.needsUpdate=Ie,X.directionalLightShadows.needsUpdate=Ie,X.pointLights.needsUpdate=Ie,X.pointLightShadows.needsUpdate=Ie,X.spotLights.needsUpdate=Ie,X.spotLightShadows.needsUpdate=Ie,X.rectAreaLights.needsUpdate=Ie,X.hemisphereLights.needsUpdate=Ie}(zv,vF),rn&&!0===je.fog&&Tt.refreshFogUniforms(zv,rn),Tt.refreshMaterialUniforms(zv,je,Ee,ve,Fn),xA.upload(le,a6(Ti),zv,an)),je.isShaderMaterial&&!0===je.uniformsNeedUpdate&&(xA.upload(le,a6(Ti),zv,an),je.uniformsNeedUpdate=!1),je.isSpriteMaterial&&ga.setValue(le,"center",Ye.center),ga.setValue(le,"modelViewMatrix",Ye.modelViewMatrix),ga.setValue(le,"normalMatrix",Ye.normalMatrix),ga.setValue(le,"modelMatrix",Ye.matrixWorld),je.isShaderMaterial||je.isRawShaderMaterial){const Wc=je.uniformsGroups;for(let yF=0,ure=Wc.length;yF<ure;yF++)if(Mt.isWebGL2){const d6=Wc[yF];Un.update(d6,Vv),Un.bind(d6,Vv)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Vv}(X,Ie,He,je,Ye);vt.setMaterial(je,An);let Jn=He.index,vi=1;if(!0===je.wireframe){if(Jn=te.getWireframeAttribute(He),void 0===Jn)return;vi=2}const ai=He.drawRange,ci=He.attributes.position;let _o=ai.start*vi,Gc=(ai.start+ai.count)*vi;null!==rn&&(_o=Math.max(_o,rn.start*vi),Gc=Math.min(Gc,(rn.start+rn.count)*vi)),null!==Jn?(_o=Math.max(_o,0),Gc=Math.min(Gc,Jn.count)):null!=ci&&(_o=Math.max(_o,0),Gc=Math.min(Gc,ci.count));const xs=Gc-_o;if(xs<0||xs===1/0)return;Mn.setup(Ye,je,$n,He,Jn);let Uf,ao=Lt;if(null!==Jn&&(Uf=Rr.get(Jn),ao=pt,ao.setIndex(Uf)),Ye.isMesh)!0===je.wireframe?(vt.setLineWidth(je.wireframeLinewidth*In()),ao.setMode(le.LINES)):ao.setMode(le.TRIANGLES);else if(Ye.isLine){let Ti=je.linewidth;void 0===Ti&&(Ti=1),vt.setLineWidth(Ti*In()),ao.setMode(Ye.isLineSegments?le.LINES:Ye.isLineLoop?le.LINE_LOOP:le.LINE_STRIP)}else Ye.isPoints?ao.setMode(le.POINTS):Ye.isSprite&&ao.setMode(le.TRIANGLES);if(Ye.isInstancedMesh)ao.renderInstances(_o,xs,Ye.count);else if(He.isInstancedBufferGeometry){const _F=Math.min(He.instanceCount,void 0!==He._maxInstanceCount?He._maxInstanceCount:1/0);ao.renderInstances(_o,xs,_F)}else ao.render(_o,xs)},this.compile=function(X,Ie,He=null){null===He&&(He=X),I=It.get(He),I.init(),U.push(I),He.traverseVisible(function(Ye){Ye.isLight&&Ye.layers.test(Ie.layers)&&(I.pushLight(Ye),Ye.castShadow&&I.pushShadow(Ye))}),X!==He&&X.traverseVisible(function(Ye){Ye.isLight&&Ye.layers.test(Ie.layers)&&(I.pushLight(Ye),Ye.castShadow&&I.pushShadow(Ye))}),I.setupLights(O._useLegacyLights);const je=new Set;return X.traverse(function(Ye){const rn=Ye.material;if(rn)if(Array.isArray(rn))for(let An=0;An<rn.length;An++){const $n=rn[An];kn($n,He,Ye),je.add($n)}else kn(rn,He,Ye),je.add(rn)}),U.pop(),I=null,je},this.compileAsync=function(X,Ie,He=null){const je=this.compile(X,Ie,He);return new Promise(Ye=>{function rn(){je.forEach(function(An){Kt.get(An).currentProgram.isReady()&&je.delete(An)}),0!==je.size?setTimeout(rn,10):Ye(X)}null!==at.get("KHR_parallel_shader_compile")?rn():setTimeout(rn,10)})};let Si=null;function kl(){pa.stop()}function mr(){pa.start()}const pa=new g3;function ah(X,Ie,He,je){if(!1===X.visible)return;if(X.layers.test(Ie.layers))if(X.isGroup)He=X.renderOrder;else if(X.isLOD)!0===X.autoUpdate&&X.update(Ie);else if(X.isLight)I.pushLight(X),X.castShadow&&I.pushShadow(X);else if(X.isSprite){if(!X.frustumCulled||Ut.intersectsSprite(X)){je&&bn.setFromMatrixPosition(X.matrixWorld).applyMatrix4(on);const An=G.update(X),$n=X.material;$n.visible&&R.push(X,An,$n,He,bn.z,null)}}else if((X.isMesh||X.isLine||X.isPoints)&&(!X.frustumCulled||Ut.intersectsObject(X))){const An=G.update(X),$n=X.material;if(je&&(void 0!==X.boundingSphere?(null===X.boundingSphere&&X.computeBoundingSphere(),bn.copy(X.boundingSphere.center)):(null===An.boundingSphere&&An.computeBoundingSphere(),bn.copy(An.boundingSphere.center)),bn.applyMatrix4(X.matrixWorld).applyMatrix4(on)),Array.isArray($n)){const Jn=An.groups;for(let vi=0,ai=Jn.length;vi<ai;vi++){const ci=Jn[vi],_o=$n[ci.materialIndex];_o&&_o.visible&&R.push(X,An,_o,He,bn.z,ci)}}else $n.visible&&R.push(X,An,$n,He,bn.z,null)}const rn=X.children;for(let An=0,$n=rn.length;An<$n;An++)ah(rn[An],Ie,He,je)}function o6(X,Ie,He,je){const Ye=X.opaque,rn=X.transmissive,An=X.transparent;I.setupLightsView(He),!0===Et&&_n.setGlobalState(O.clippingPlanes,He),rn.length>0&&function are(X,Ie,He,je){if(null!==(!0===He.isScene?He.overrideMaterial:null))return;const rn=Mt.isWebGL2;null===Fn&&(Fn=new qu(1,1,{generateMipmaps:!0,type:at.has("EXT_color_buffer_half_float")?z_:Oc,minFilter:Pc,samples:rn?4:0})),O.getDrawingBufferSize(gn),rn?Fn.setSize(gn.x,gn.y):Fn.setSize(Wy(gn.x),Wy(gn.y));const An=O.getRenderTarget();O.setRenderTarget(Fn),O.getClearColor(ft),fe=O.getClearAlpha(),fe<1&&O.setClearColor(16777215,.5),O.clear();const $n=O.toneMapping;O.toneMapping=Id,NI(X,He,je),an.updateMultisampleRenderTarget(Fn),an.updateRenderTargetMipmap(Fn);let Jn=!1;for(let vi=0,ai=Ie.length;vi<ai;vi++){const ci=Ie[vi],_o=ci.object,Gc=ci.geometry,xs=ci.material,Uf=ci.group;if(2===xs.side&&_o.layers.test(je.layers)){const ao=xs.side;xs.side=1,xs.needsUpdate=!0,s6(_o,He,je,Gc,xs,Uf),xs.side=ao,xs.needsUpdate=!0,Jn=!0}}!0===Jn&&(an.updateMultisampleRenderTarget(Fn),an.updateRenderTargetMipmap(Fn)),O.setRenderTarget(An),O.setClearColor(ft,fe),O.toneMapping=$n}(Ye,rn,Ie,He),je&&vt.viewport(Q.copy(je)),Ye.length>0&&NI(Ye,Ie,He),rn.length>0&&NI(rn,Ie,He),An.length>0&&NI(An,Ie,He),vt.buffers.depth.setTest(!0),vt.buffers.depth.setMask(!0),vt.buffers.color.setMask(!0),vt.setPolygonOffset(!1)}function NI(X,Ie,He){const je=!0===Ie.isScene?Ie.overrideMaterial:null;for(let Ye=0,rn=X.length;Ye<rn;Ye++){const An=X[Ye],$n=An.object,Jn=An.geometry,vi=null===je?An.material:je,ai=An.group;$n.layers.test(He.layers)&&s6($n,Ie,He,Jn,vi,ai)}}function s6(X,Ie,He,je,Ye,rn){X.onBeforeRender(O,Ie,He,je,Ye,rn),X.modelViewMatrix.multiplyMatrices(He.matrixWorldInverse,X.matrixWorld),X.normalMatrix.getNormalMatrix(X.modelViewMatrix),Ye.onBeforeRender(O,Ie,He,je,X,rn),!0===Ye.transparent&&2===Ye.side&&!1===Ye.forceSinglePass?(Ye.side=1,Ye.needsUpdate=!0,O.renderBufferDirect(He,Ie,je,Ye,X,rn),Ye.side=0,Ye.needsUpdate=!0,O.renderBufferDirect(He,Ie,je,Ye,X,rn),Ye.side=2):O.renderBufferDirect(He,Ie,je,Ye,X,rn),X.onAfterRender(O,Ie,He,je,Ye,rn)}function LI(X,Ie,He){!0!==Ie.isScene&&(Ie=ui);const je=Kt.get(X),Ye=I.state.lights,An=Ye.state.version,$n=Be.getParameters(X,Ye.state,I.state.shadowsArray,Ie,He),Jn=Be.getProgramCacheKey($n);let vi=je.programs;je.environment=X.isMeshStandardMaterial?Ie.environment:null,je.fog=Ie.fog,je.envMap=(X.isMeshStandardMaterial?xi:Gn).get(X.envMap||je.environment),void 0===vi&&(X.addEventListener("dispose",Ct),vi=new Map,je.programs=vi);let ai=vi.get(Jn);if(void 0!==ai){if(je.currentProgram===ai&&je.lightsStateVersion===An)return c6(X,$n),ai}else $n.uniforms=Be.getUniforms(X),X.onBuild(He,$n,O),X.onBeforeCompile($n,O),ai=Be.acquireProgram($n,Jn),vi.set(Jn,ai),je.uniforms=$n.uniforms;const ci=je.uniforms;return(!X.isShaderMaterial&&!X.isRawShaderMaterial||!0===X.clipping)&&(ci.clippingPlanes=_n.uniform),c6(X,$n),je.needsLights=function dre(X){return X.isMeshLambertMaterial||X.isMeshToonMaterial||X.isMeshPhongMaterial||X.isMeshStandardMaterial||X.isShadowMaterial||X.isShaderMaterial&&!0===X.lights}(X),je.lightsStateVersion=An,je.needsLights&&(ci.ambientLightColor.value=Ye.state.ambient,ci.lightProbe.value=Ye.state.probe,ci.directionalLights.value=Ye.state.directional,ci.directionalLightShadows.value=Ye.state.directionalShadow,ci.spotLights.value=Ye.state.spot,ci.spotLightShadows.value=Ye.state.spotShadow,ci.rectAreaLights.value=Ye.state.rectArea,ci.ltc_1.value=Ye.state.rectAreaLTC1,ci.ltc_2.value=Ye.state.rectAreaLTC2,ci.pointLights.value=Ye.state.point,ci.pointLightShadows.value=Ye.state.pointShadow,ci.hemisphereLights.value=Ye.state.hemi,ci.directionalShadowMap.value=Ye.state.directionalShadowMap,ci.directionalShadowMatrix.value=Ye.state.directionalShadowMatrix,ci.spotShadowMap.value=Ye.state.spotShadowMap,ci.spotLightMatrix.value=Ye.state.spotLightMatrix,ci.spotLightMap.value=Ye.state.spotLightMap,ci.pointShadowMap.value=Ye.state.pointShadowMap,ci.pointShadowMatrix.value=Ye.state.pointShadowMatrix),je.currentProgram=ai,je.uniformsList=null,ai}function a6(X){if(null===X.uniformsList){const Ie=X.currentProgram.getUniforms();X.uniformsList=xA.seqWithValue(Ie.seq,X.uniforms)}return X.uniformsList}function c6(X,Ie){const He=Kt.get(X);He.outputColorSpace=Ie.outputColorSpace,He.instancing=Ie.instancing,He.instancingColor=Ie.instancingColor,He.skinning=Ie.skinning,He.morphTargets=Ie.morphTargets,He.morphNormals=Ie.morphNormals,He.morphColors=Ie.morphColors,He.morphTargetsCount=Ie.morphTargetsCount,He.numClippingPlanes=Ie.numClippingPlanes,He.numIntersection=Ie.numClipIntersection,He.vertexAlphas=Ie.vertexAlphas,He.vertexTangents=Ie.vertexTangents,He.toneMapping=Ie.toneMapping}pa.setAnimationLoop(function ko(X){Si&&Si(X)}),typeof self<"u"&&pa.setContext(self),this.setAnimationLoop=function(X){Si=X,sn.setAnimationLoop(X),null===X?pa.stop():pa.start()},sn.addEventListener("sessionstart",kl),sn.addEventListener("sessionend",mr),this.render=function(X,Ie){if(void 0===Ie||!0===Ie.isCamera){if(!0!==B){if(!0===X.matrixWorldAutoUpdate&&X.updateMatrixWorld(),null===Ie.parent&&!0===Ie.matrixWorldAutoUpdate&&Ie.updateMatrixWorld(),!0===sn.enabled&&!0===sn.isPresenting&&(!0===sn.cameraAutoUpdate&&sn.updateCamera(Ie),Ie=sn.getCamera()),!0===X.isScene&&X.onBeforeRender(O,X,Ie,q),I=It.get(X,U.length),I.init(),U.push(I),on.multiplyMatrices(Ie.projectionMatrix,Ie.matrixWorldInverse),Ut.setFromProjectionMatrix(on),en=this.localClippingEnabled,Et=_n.init(this.clippingPlanes,en),R=wt.get(X,k.length),R.init(),k.push(R),ah(X,Ie,0,O.sortObjects),R.finish(),!0===O.sortObjects&&R.sort(ze,Le),this.info.render.frame++,!0===Et&&_n.beginShadows(),Nt.render(I.state.shadowsArray,X,Ie),!0===Et&&_n.endShadows(),!0===this.info.autoReset&&this.info.reset(),qt.render(R,X),I.setupLights(O._useLegacyLights),Ie.isArrayCamera){const je=Ie.cameras;for(let Ye=0,rn=je.length;Ye<rn;Ye++){const An=je[Ye];o6(R,X,An,An.viewport)}}else o6(R,X,Ie);null!==q&&(an.updateMultisampleRenderTarget(q),an.updateRenderTargetMipmap(q)),!0===X.isScene&&X.onAfterRender(O,X,Ie),Mn.resetDefaultState(),ce=-1,H=null,U.pop(),I=U.length>0?U[U.length-1]:null,k.pop(),R=k.length>0?k[k.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return W},this.getActiveMipmapLevel=function(){return Z},this.getRenderTarget=function(){return q},this.setRenderTargetTextures=function(X,Ie,He){Kt.get(X.texture).__webglTexture=Ie,Kt.get(X.depthTexture).__webglTexture=He;const je=Kt.get(X);je.__hasExternalTextures=!0,je.__hasExternalTextures&&(je.__autoAllocateDepthBuffer=void 0===He,je.__autoAllocateDepthBuffer||!0===at.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),je.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(X,Ie){const He=Kt.get(X);He.__webglFramebuffer=Ie,He.__useDefaultFramebuffer=void 0===Ie},this.setRenderTarget=function(X,Ie=0,He=0){q=X,W=Ie,Z=He;let je=!0,Ye=null,rn=!1,An=!1;if(X){const Jn=Kt.get(X);void 0!==Jn.__useDefaultFramebuffer?(vt.bindFramebuffer(le.FRAMEBUFFER,null),je=!1):void 0===Jn.__webglFramebuffer?an.setupRenderTarget(X):Jn.__hasExternalTextures&&an.rebindTextures(X,Kt.get(X.texture).__webglTexture,Kt.get(X.depthTexture).__webglTexture);const vi=X.texture;(vi.isData3DTexture||vi.isDataArrayTexture||vi.isCompressedArrayTexture)&&(An=!0);const ai=Kt.get(X).__webglFramebuffer;X.isWebGLCubeRenderTarget?(Ye=Array.isArray(ai[Ie])?ai[Ie][He]:ai[Ie],rn=!0):Ye=Mt.isWebGL2&&X.samples>0&&!1===an.useMultisampledRTT(X)?Kt.get(X).__webglMultisampledFramebuffer:Array.isArray(ai)?ai[He]:ai,Q.copy(X.viewport),ke.copy(X.scissor),tt=X.scissorTest}else Q.copy(ot).multiplyScalar(Ee).floor(),ke.copy(me).multiplyScalar(Ee).floor(),tt=We;if(vt.bindFramebuffer(le.FRAMEBUFFER,Ye)&&Mt.drawBuffers&&je&&vt.drawBuffers(X,Ye),vt.viewport(Q),vt.scissor(ke),vt.setScissorTest(tt),rn){const Jn=Kt.get(X.texture);le.framebufferTexture2D(le.FRAMEBUFFER,le.COLOR_ATTACHMENT0,le.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Jn.__webglTexture,He)}else if(An){const Jn=Kt.get(X.texture);le.framebufferTextureLayer(le.FRAMEBUFFER,le.COLOR_ATTACHMENT0,Jn.__webglTexture,He||0,Ie||0)}ce=-1},this.readRenderTargetPixels=function(X,Ie,He,je,Ye,rn,An){if(!X||!X.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let $n=Kt.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&void 0!==An&&($n=$n[An]),$n){vt.bindFramebuffer(le.FRAMEBUFFER,$n);try{const Jn=X.texture,vi=Jn.format,ai=Jn.type;if(vi!==la&&jn.convert(vi)!==le.getParameter(le.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const ci=ai===z_&&(at.has("EXT_color_buffer_half_float")||Mt.isWebGL2&&at.has("EXT_color_buffer_float"));if(!(ai===Oc||jn.convert(ai)===le.getParameter(le.IMPLEMENTATION_COLOR_READ_TYPE)||ai===Rd&&(Mt.isWebGL2||at.has("OES_texture_float")||at.has("WEBGL_color_buffer_float"))||ci))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Ie>=0&&Ie<=X.width-je&&He>=0&&He<=X.height-Ye&&le.readPixels(Ie,He,je,Ye,jn.convert(vi),jn.convert(ai),rn)}finally{const Jn=null!==q?Kt.get(q).__webglFramebuffer:null;vt.bindFramebuffer(le.FRAMEBUFFER,Jn)}}},this.copyFramebufferToTexture=function(X,Ie,He=0){const je=Math.pow(2,-He),Ye=Math.floor(Ie.image.width*je),rn=Math.floor(Ie.image.height*je);an.setTexture2D(Ie,0),le.copyTexSubImage2D(le.TEXTURE_2D,He,0,0,X.x,X.y,Ye,rn),vt.unbindTexture()},this.copyTextureToTexture=function(X,Ie,He,je=0){const Ye=Ie.image.width,rn=Ie.image.height,An=jn.convert(He.format),$n=jn.convert(He.type);an.setTexture2D(He,0),le.pixelStorei(le.UNPACK_FLIP_Y_WEBGL,He.flipY),le.pixelStorei(le.UNPACK_PREMULTIPLY_ALPHA_WEBGL,He.premultiplyAlpha),le.pixelStorei(le.UNPACK_ALIGNMENT,He.unpackAlignment),Ie.isDataTexture?le.texSubImage2D(le.TEXTURE_2D,je,X.x,X.y,Ye,rn,An,$n,Ie.image.data):Ie.isCompressedTexture?le.compressedTexSubImage2D(le.TEXTURE_2D,je,X.x,X.y,Ie.mipmaps[0].width,Ie.mipmaps[0].height,An,Ie.mipmaps[0].data):le.texSubImage2D(le.TEXTURE_2D,je,X.x,X.y,An,$n,Ie.image),0===je&&He.generateMipmaps&&le.generateMipmap(le.TEXTURE_2D),vt.unbindTexture()},this.copyTextureToTexture3D=function(X,Ie,He,je,Ye=0){if(O.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const rn=X.max.x-X.min.x+1,An=X.max.y-X.min.y+1,$n=X.max.z-X.min.z+1,Jn=jn.convert(je.format),vi=jn.convert(je.type);let ai;if(je.isData3DTexture)an.setTexture3D(je,0),ai=le.TEXTURE_3D;else{if(!je.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");an.setTexture2DArray(je,0),ai=le.TEXTURE_2D_ARRAY}le.pixelStorei(le.UNPACK_FLIP_Y_WEBGL,je.flipY),le.pixelStorei(le.UNPACK_PREMULTIPLY_ALPHA_WEBGL,je.premultiplyAlpha),le.pixelStorei(le.UNPACK_ALIGNMENT,je.unpackAlignment);const ci=le.getParameter(le.UNPACK_ROW_LENGTH),_o=le.getParameter(le.UNPACK_IMAGE_HEIGHT),Gc=le.getParameter(le.UNPACK_SKIP_PIXELS),xs=le.getParameter(le.UNPACK_SKIP_ROWS),Uf=le.getParameter(le.UNPACK_SKIP_IMAGES),ao=He.isCompressedTexture?He.mipmaps[0]:He.image;le.pixelStorei(le.UNPACK_ROW_LENGTH,ao.width),le.pixelStorei(le.UNPACK_IMAGE_HEIGHT,ao.height),le.pixelStorei(le.UNPACK_SKIP_PIXELS,X.min.x),le.pixelStorei(le.UNPACK_SKIP_ROWS,X.min.y),le.pixelStorei(le.UNPACK_SKIP_IMAGES,X.min.z),He.isDataTexture||He.isData3DTexture?le.texSubImage3D(ai,Ye,Ie.x,Ie.y,Ie.z,rn,An,$n,Jn,vi,ao.data):He.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),le.compressedTexSubImage3D(ai,Ye,Ie.x,Ie.y,Ie.z,rn,An,$n,Jn,ao.data)):le.texSubImage3D(ai,Ye,Ie.x,Ie.y,Ie.z,rn,An,$n,Jn,vi,ao),le.pixelStorei(le.UNPACK_ROW_LENGTH,ci),le.pixelStorei(le.UNPACK_IMAGE_HEIGHT,_o),le.pixelStorei(le.UNPACK_SKIP_PIXELS,Gc),le.pixelStorei(le.UNPACK_SKIP_ROWS,xs),le.pixelStorei(le.UNPACK_SKIP_IMAGES,Uf),0===Ye&&je.generateMipmaps&&le.generateMipmap(ai),vt.unbindTexture()},this.initTexture=function(X){X.isCubeTexture?an.setTextureCube(X,0):X.isData3DTexture?an.setTexture3D(X,0):X.isDataArrayTexture||X.isCompressedArrayTexture?an.setTexture2DArray(X,0):an.setTexture2D(X,0),vt.unbindTexture()},this.resetState=function(){W=0,Z=0,q=null,vt.reset(),Mn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return bl}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const e=this.getContext();e.drawingBufferColorSpace=t===zT?"display-p3":"srgb",e.unpackColorSpace=Ni.workingColorSpace===$_?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(t){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!t}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Wr?xf:3e3}set outputEncoding(t){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=t===xf?Wr:Nc}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(t){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=t}}(class H8 extends BP{}).prototype.isWebGL1Renderer=!0;class HP extends Ha{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(e.object.backgroundIntensity=this.backgroundIntensity),e}}class pU extends Nd{constructor(t,e,n,r,o,l,u,f,p){super(t,e,n,r,o,l,u,f,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class m0 extends bi{constructor(t=1,e=1,n=1,r=32,o=1,l=!1,u=0,f=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:o,openEnded:l,thetaStart:u,thetaLength:f};const p=this;r=Math.floor(r),o=Math.floor(o);const b=[],y=[],x=[],M=[];let A=0;const R=[],I=n/2;let k=0;function O(B){const W=A,Z=new et,q=new J;let ce=0;const H=!0===B?t:e,Q=!0===B?1:-1;for(let tt=1;tt<=r;tt++)y.push(0,I*Q,0),x.push(0,Q,0),M.push(.5,.5),A++;const ke=A;for(let tt=0;tt<=r;tt++){const fe=tt/r*f+u,Ue=Math.cos(fe),ve=Math.sin(fe);q.x=H*ve,q.y=I*Q,q.z=H*Ue,y.push(q.x,q.y,q.z),x.push(0,Q,0),Z.x=.5*Ue+.5,Z.y=.5*ve*Q+.5,M.push(Z.x,Z.y),A++}for(let tt=0;tt<r;tt++){const ft=W+tt,fe=ke+tt;!0===B?b.push(fe,fe+1,ft):b.push(fe+1,fe,ft),ce+=3}p.addGroup(k,ce,!0===B?1:2),k+=ce}(function U(){const B=new J,W=new J;let Z=0;const q=(e-t)/n;for(let ce=0;ce<=o;ce++){const H=[],Q=ce/o,ke=Q*(e-t)+t;for(let tt=0;tt<=r;tt++){const ft=tt/r,fe=ft*f+u,Ue=Math.sin(fe),ve=Math.cos(fe);W.x=ke*Ue,W.y=-Q*n+I,W.z=ke*ve,y.push(W.x,W.y,W.z),B.set(Ue,q,ve).normalize(),x.push(B.x,B.y,B.z),M.push(ft,1-Q),H.push(A++)}R.push(H)}for(let ce=0;ce<r;ce++)for(let H=0;H<o;H++){const ke=R[H+1][ce],tt=R[H+1][ce+1],ft=R[H][ce+1];b.push(R[H][ce],ke,ft),b.push(ke,tt,ft),Z+=6}p.addGroup(k,Z,0),k+=Z})(),!1===l&&(t>0&&O(!0),e>0&&O(!1)),this.setIndex(b),this.setAttribute("position",new fn(y,3)),this.setAttribute("normal",new fn(x,3)),this.setAttribute("uv",new fn(M,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new m0(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class Ml extends bi{constructor(t=1,e=32,n=16,r=0,o=2*Math.PI,l=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:o,thetaStart:l,thetaLength:u},e=Math.max(3,Math.floor(e)),n=Math.max(2,Math.floor(n));const f=Math.min(l+u,Math.PI);let p=0;const b=[],y=new J,x=new J,M=[],A=[],R=[],I=[];for(let k=0;k<=n;k++){const U=[],O=k/n;let B=0;0===k&&0===l?B=.5/e:k===n&&f===Math.PI&&(B=-.5/e);for(let W=0;W<=e;W++){const Z=W/e;y.x=-t*Math.cos(r+Z*o)*Math.sin(l+O*u),y.y=t*Math.cos(l+O*u),y.z=t*Math.sin(r+Z*o)*Math.sin(l+O*u),A.push(y.x,y.y,y.z),x.copy(y).normalize(),R.push(x.x,x.y,x.z),I.push(Z+B,1-O),U.push(p++)}b.push(U)}for(let k=0;k<n;k++)for(let U=0;U<e;U++){const B=b[k][U],W=b[k+1][U],Z=b[k+1][U+1];(0!==k||l>0)&&M.push(b[k][U+1],B,Z),(k!==n-1||f<Math.PI)&&M.push(B,W,Z)}this.setIndex(M),this.setAttribute("position",new fn(A,3)),this.setAttribute("normal",new fn(R,3)),this.setAttribute("uv",new fn(I,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Ml(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class IU extends Df{constructor(t){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Jt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Jt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Sl extends IU{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new et(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ir(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Jt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Jt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Jt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}function mv(i,t,e){return!i||!e&&i.constructor===t?i:"number"==typeof t.BYTES_PER_ELEMENT?new t(i):Array.prototype.slice.call(i)}class GA{constructor(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let n=this._cachedIndex,r=e[n],o=e[n-1];e:{t:{let l;n:{i:if(!(t<r)){for(let u=n+2;;){if(void 0===r){if(t<o)break i;return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===u)break;if(o=r,r=e[++n],t<r)break t}l=e.length;break n}if(t>=o)break e;{const u=e[1];t<u&&(n=2,o=u);for(let f=n-2;;){if(void 0===o)return this._cachedIndex=0,this.copySampleValue_(0);if(n===f)break;if(r=o,o=e[--n-1],t>=o)break t}l=n,n=0}}for(;n<l;){const u=n+l>>>1;t<e[u]?l=u:n=u+1}if(r=e[n],o=e[n-1],void 0===o)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,o,r)}return this.interpolate_(n,o,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=t*r;for(let l=0;l!==r;++l)e[l]=n[o+l];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class G$ extends GA{constructor(t,e,n,r){super(t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(t,e,n){const r=this.parameterPositions;let o=t-2,l=t+1,u=r[o],f=r[l];if(void 0===u)switch(this.getSettings_().endingStart){case 2401:o=t,u=2*e-n;break;case 2402:o=r.length-2,u=e+r[o]-r[o+1];break;default:o=t,u=n}if(void 0===f)switch(this.getSettings_().endingEnd){case 2401:l=t,f=2*n-e;break;case 2402:l=1,f=n+r[1]-r[0];break;default:l=t-1,f=e}const p=.5*(n-e),b=this.valueSize;this._weightPrev=p/(e-u),this._weightNext=p/(f-n),this._offsetPrev=o*b,this._offsetNext=l*b}interpolate_(t,e,n,r){const o=this.resultBuffer,l=this.sampleValues,u=this.valueSize,f=t*u,p=f-u,b=this._offsetPrev,y=this._offsetNext,x=this._weightPrev,M=this._weightNext,A=(n-e)/(r-e),R=A*A,I=R*A,k=-x*I+2*x*R-x*A,U=(1+x)*I+(-1.5-2*x)*R+(-.5+x)*A+1,O=(-1-M)*I+(1.5+M)*R+.5*A,B=M*I-M*R;for(let W=0;W!==u;++W)o[W]=k*l[b+W]+U*l[p+W]+O*l[f+W]+B*l[y+W];return o}}class PU extends GA{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const o=this.resultBuffer,l=this.sampleValues,u=this.valueSize,f=t*u,p=f-u,b=(n-e)/(r-e),y=1-b;for(let x=0;x!==u;++x)o[x]=l[p+x]*y+l[f+x]*b;return o}}class W$ extends GA{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t){return this.copySampleValue_(t-1)}}class eh{constructor(t,e,n,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=mv(e,this.TimeBufferType),this.values=mv(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let n;if(e.toJSON!==this.toJSON)n=e.toJSON(t);else{n={name:t.name,times:mv(t.times,Array),values:mv(t.values,Array)};const r=t.getInterpolation();r!==t.DefaultInterpolation&&(n.interpolation=r)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new W$(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new PU(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new G$(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]*=t}return this}trim(t,e){const n=this.times,r=n.length;let o=0,l=r-1;for(;o!==r&&n[o]<t;)++o;for(;-1!==l&&n[l]>e;)--l;if(++l,0!==o||l!==r){o>=l&&(l=Math.max(l,1),o=l-1);const u=this.getValueSize();this.times=n.slice(o,l),this.values=this.values.slice(o*u,l*u)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,r=this.values,o=n.length;0===o&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let l=null;for(let u=0;u!==o;u++){const f=n[u];if("number"==typeof f&&isNaN(f)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,u,f),t=!1;break}if(null!==l&&l>f){console.error("THREE.KeyframeTrack: Out of order keys.",this,u,f,l),t=!1;break}l=f}if(void 0!==r&&function kU(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}(r))for(let u=0,f=r.length;u!==f;++u){const p=r[u];if(isNaN(p)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,p),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),n=this.getValueSize(),r=2302===this.getInterpolation(),o=t.length-1;let l=1;for(let u=1;u<o;++u){let f=!1;const p=t[u];if(p!==t[u+1]&&(1!==u||p!==t[0]))if(r)f=!0;else{const y=u*n,x=y-n,M=y+n;for(let A=0;A!==n;++A){const R=e[y+A];if(R!==e[x+A]||R!==e[M+A]){f=!0;break}}}if(f){if(u!==l){t[l]=t[u];const y=u*n,x=l*n;for(let M=0;M!==n;++M)e[x+M]=e[y+M]}++l}}if(o>0){t[l]=t[o];for(let u=o*n,f=l*n,p=0;p!==n;++p)e[f+p]=e[u+p];++l}return l!==t.length?(this.times=t.slice(0,l),this.values=e.slice(0,l*n)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),r=new(0,this.constructor)(this.name,t,e);return r.createInterpolant=this.createInterpolant,r}}eh.prototype.TimeBufferType=Float32Array,eh.prototype.ValueBufferType=Float32Array,eh.prototype.DefaultInterpolation=2301;class _0 extends eh{}_0.prototype.ValueTypeName="bool",_0.prototype.ValueBufferType=Array,_0.prototype.DefaultInterpolation=2300,_0.prototype.InterpolantFactoryMethodLinear=void 0,_0.prototype.InterpolantFactoryMethodSmooth=void 0;(class OU extends eh{}).prototype.ValueTypeName="color";(class WA extends eh{}).prototype.ValueTypeName="number";class j$ extends GA{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const o=this.resultBuffer,l=this.sampleValues,u=this.valueSize,f=(n-e)/(r-e);let p=t*u;for(let b=p+u;p!==b;p+=4)jo.slerpFlat(o,0,l,p-u,l,p,f);return o}}class zE extends eh{InterpolantFactoryMethodLinear(t){return new j$(this.times,this.values,this.getValueSize(),t)}}zE.prototype.ValueTypeName="quaternion",zE.prototype.DefaultInterpolation=2301,zE.prototype.InterpolantFactoryMethodSmooth=void 0;class v0 extends eh{}v0.prototype.ValueTypeName="string",v0.prototype.ValueBufferType=Array,v0.prototype.DefaultInterpolation=2300,v0.prototype.InterpolantFactoryMethodLinear=void 0,v0.prototype.InterpolantFactoryMethodSmooth=void 0;(class jA extends eh{}).prototype.ValueTypeName="vector";class _O extends Ha{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new Jt(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}const vO=new ei,LU=new J,FU=new J;class UU{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new et(512,512),this.map=null,this.mapPass=null,this.matrix=new ei,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new DP,this._frameExtents=new et(1,1),this._viewportCount=1,this._viewports=[new Yi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,n=this.matrix;LU.setFromMatrixPosition(t.matrixWorld),e.position.copy(LU),FU.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(FU),e.updateMatrixWorld(),vO.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(vO),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(vO)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class X$ extends UU{constructor(){super(new vs(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,n=2*_p*t.angle*this.focus,r=this.mapSize.width/this.mapSize.height,o=t.distance||e.far;(n!==e.fov||r!==e.aspect||o!==e.far)&&(e.fov=n,e.aspect=r,e.far=o,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class bO extends _O{constructor(t,e,n=0,r=Math.PI/3,o=0,l=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ha.DEFAULT_UP),this.updateMatrix(),this.target=new Ha,this.distance=n,this.angle=r,this.penumbra=o,this.decay=l,this.map=null,this.shadow=new X$}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const BU=new ei,HE=new J,yO=new J;class K$ extends UU{constructor(){super(new vs(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new et(4,2),this._viewportCount=6,this._viewports=[new Yi(2,1,1,1),new Yi(0,1,1,1),new Yi(3,1,1,1),new Yi(1,1,1,1),new Yi(3,0,1,1),new Yi(1,0,1,1)],this._cubeDirections=[new J(1,0,0),new J(-1,0,0),new J(0,0,1),new J(0,0,-1),new J(0,1,0),new J(0,-1,0)],this._cubeUps=[new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,0,1),new J(0,0,-1)]}updateMatrices(t,e=0){const n=this.camera,r=this.matrix,o=t.distance||n.far;o!==n.far&&(n.far=o,n.updateProjectionMatrix()),HE.setFromMatrixPosition(t.matrixWorld),n.position.copy(HE),yO.copy(n.position),yO.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(yO),n.updateMatrixWorld(),r.makeTranslation(-HE.x,-HE.y,-HE.z),BU.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(BU)}}class VU extends _O{constructor(t,e,n=0,r=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new K$}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class xO extends _O{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}const EO="\\[\\]\\.:\\/",dY=new RegExp("["+EO+"]","g"),CO="[^"+EO+"]",uY="[^"+EO.replace("\\.","")+"]",gY=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",CO)+/(WCOD+)?/.source.replace("WCOD",uY)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",CO)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",CO)+"$"),_Y=["material","materials","bones","map"];class vY{constructor(t,e,n){const r=n||vr.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}getValue(t,e){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(t,e)}setValue(t,e){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=n.length;r!==o;++r)n[r].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}let vr=(()=>{class i{constructor(e,n,r){this.path=n,this.parsedPath=r||i.parseTrackName(n),this.node=i.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new i.Composite(e,n,r):new i(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(dY,"")}static parseTrackName(e){const n=gY.exec(e);if(null===n)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},o=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==o&&-1!==o){const l=r.nodeName.substring(o+1);-1!==_Y.indexOf(l)&&(r.nodeName=r.nodeName.substring(0,o),r.objectName=l)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(void 0===n||""===n||"."===n||-1===n||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(void 0!==r)return r}if(e.children){const r=function(l){for(let u=0;u<l.length;u++){const f=l[u];if(f.name===n||f.uuid===n)return f;const p=r(f.children);if(p)return p}return null},o=r(e.children);if(o)return o}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let o=0,l=r.length;o!==l;++o)e[n++]=r[o]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let o=0,l=r.length;o!==l;++o)r[o]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let o=0,l=r.length;o!==l;++o)r[o]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let o=0,l=r.length;o!==l;++o)r[o]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,o=n.propertyName;let l=n.propertyIndex;if(e||(e=i.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(r){let b=n.objectIndex;switch(r){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let y=0;y<e.length;y++)if(e[y].name===b){b=y;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[r]}if(void 0!==b){if(void 0===e[b])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[b]}}const u=e[o];if(void 0===u)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n.nodeName+"."+o+" but it wasn't found.",e);let f=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?f=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(f=this.Versioning.MatrixWorldNeedsUpdate);let p=this.BindingType.Direct;if(void 0!==l){if("morphTargetInfluences"===o){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[l]&&(l=e.morphTargetDictionary[l])}p=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=l}else void 0!==u.fromArray&&void 0!==u.toArray?(p=this.BindingType.HasFromToArray,this.resolvedProperty=u):Array.isArray(u)?(p=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=o;this.getValue=this.GetterByBindingType[p],this.setValue=this.SetterByBindingTypeAndVersioning[p][f]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return i.Composite=vY,i})();vr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},vr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},vr.prototype.GetterByBindingType=[vr.prototype._getValue_direct,vr.prototype._getValue_array,vr.prototype._getValue_arrayElement,vr.prototype._getValue_toArray],vr.prototype.SetterByBindingTypeAndVersioning=[[vr.prototype._setValue_direct,vr.prototype._setValue_direct_setNeedsUpdate,vr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[vr.prototype._setValue_array,vr.prototype._setValue_array_setNeedsUpdate,vr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[vr.prototype._setValue_arrayElement,vr.prototype._setValue_arrayElement_setNeedsUpdate,vr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[vr.prototype._setValue_fromArray,vr.prototype._setValue_fromArray_setNeedsUpdate,vr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class wY{constructor(t,e,n=0,r=1/0){this.ray=new Ep(t,e),this.near=n,this.far=r,this.camera=null,this.layers=new iA,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}intersectObject(t,e=!0,n=[]){return MO(t,this,n,e),n.sort(KU),n}intersectObjects(t,e=!0,n=[]){for(let r=0,o=t.length;r<o;r++)MO(t[r],this,n,e);return n.sort(KU),n}}function KU(i,t){return i.distance-t.distance}function MO(i,t,e,n){if(i.layers.test(t.layers)&&i.raycast(t,e),!0===n){const r=i.children;for(let o=0,l=r.length;o<l;o++)MO(r[o],t,e,!0)}}class QU{constructor(t=1,e=0,n=0){return this.radius=t,this.phi=e,this.theta=n,this}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(Ir(e/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"158"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="158");const cB={type:"change"},AO={type:"start"},lB={type:"end"},tD=new Ep,dB=new Tp,CY=Math.cos(70*fP_DEG2RAD);class uB extends yl{constructor(t,e){super(),this.object=t,this.domElement=e,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new J,this.cursor=new J,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return u.phi},this.getAzimuthalAngle=function(){return u.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(de){de.addEventListener("keydown",G),this._domElementKeyEvents=de},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",G),this._domElementKeyEvents=null},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(cB),n.update(),o=r.NONE},this.update=function(){const de=new J,Lt=(new jo).setFromUnitVectors(t.up,new J(0,1,0)),pt=Lt.clone().invert(),jn=new J,Mn=new jo,Un=new J,yn=2*Math.PI;return function(Mi=null){const pe=n.object.position;de.copy(pe).sub(n.target),de.applyQuaternion(Lt),u.setFromVector3(de),n.autoRotate&&o===r.NONE&&ke(function H(de){return null!==de?2*Math.PI/60*n.autoRotateSpeed*de:2*Math.PI/60/60*n.autoRotateSpeed}(Mi)),n.enableDamping?(u.theta+=f.theta*n.dampingFactor,u.phi+=f.phi*n.dampingFactor):(u.theta+=f.theta,u.phi+=f.phi);let Ht=n.minAzimuthAngle,Ct=n.maxAzimuthAngle;isFinite(Ht)&&isFinite(Ct)&&(Ht<-Math.PI?Ht+=yn:Ht>Math.PI&&(Ht-=yn),Ct<-Math.PI?Ct+=yn:Ct>Math.PI&&(Ct-=yn),u.theta=Ht<=Ct?Math.max(Ht,Math.min(Ct,u.theta)):u.theta>(Ht+Ct)/2?Math.max(Ht,u.theta):Math.min(Ct,u.theta)),u.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,u.phi)),u.makeSafe(),!0===n.enableDamping?n.target.addScaledVector(b,n.dampingFactor):n.target.add(b),n.target.sub(n.cursor),n.target.clampLength(n.minTargetRadius,n.maxTargetRadius),n.target.add(n.cursor),u.radius=Le(n.zoomToCursor&&Z||n.object.isOrthographicCamera?u.radius:u.radius*p),de.setFromSpherical(u),de.applyQuaternion(pt),pe.copy(n.target).add(de),n.object.lookAt(n.target),!0===n.enableDamping?(f.theta*=1-n.dampingFactor,f.phi*=1-n.dampingFactor,b.multiplyScalar(1-n.dampingFactor)):(f.set(0,0,0),b.set(0,0,0));let nt=!1;if(n.zoomToCursor&&Z){let Rt=null;if(n.object.isPerspectiveCamera){const kn=de.length();Rt=Le(kn*p),n.object.position.addScaledVector(B,kn-Rt),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const kn=new J(W.x,W.y,0);kn.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/p)),n.object.updateProjectionMatrix(),nt=!0;const Si=new J(W.x,W.y,0);Si.unproject(n.object),n.object.position.sub(Si).add(kn),n.object.updateMatrixWorld(),Rt=de.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;null!==Rt&&(this.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(Rt).add(n.object.position):(tD.origin.copy(n.object.position),tD.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(tD.direction))<CY?t.lookAt(n.target):(dB.setFromNormalAndCoplanarPoint(n.object.up,n.target),tD.intersectPlane(dB,n.target))))}else n.object.isOrthographicCamera&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/p)),n.object.updateProjectionMatrix(),nt=!0);return p=1,Z=!1,!!(nt||jn.distanceToSquared(n.object.position)>l||8*(1-Mn.dot(n.object.quaternion))>l||Un.distanceToSquared(n.target)>0)&&(n.dispatchEvent(cB),jn.copy(n.object.position),Mn.copy(n.object.quaternion),Un.copy(n.target),nt=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",wt),n.domElement.removeEventListener("pointerdown",Kt),n.domElement.removeEventListener("pointercancel",Gn),n.domElement.removeEventListener("wheel",te),n.domElement.removeEventListener("pointermove",an),n.domElement.removeEventListener("pointerup",Gn),null!==n._domElementKeyEvents&&(n._domElementKeyEvents.removeEventListener("keydown",G),n._domElementKeyEvents=null)};const n=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let o=r.NONE;const l=1e-6,u=new QU,f=new QU;let p=1;const b=new J,y=new et,x=new et,M=new et,A=new et,R=new et,I=new et,k=new et,U=new et,O=new et,B=new J,W=new et;let Z=!1;const q=[],ce={};function Q(){return Math.pow(.95,n.zoomSpeed)}function ke(de){f.theta-=de}function tt(de){f.phi-=de}const ft=function(){const de=new J;return function(pt,jn){de.setFromMatrixColumn(jn,0),de.multiplyScalar(-pt),b.add(de)}}(),fe=function(){const de=new J;return function(pt,jn){!0===n.screenSpacePanning?de.setFromMatrixColumn(jn,1):(de.setFromMatrixColumn(jn,0),de.crossVectors(n.object.up,de)),de.multiplyScalar(pt),b.add(de)}}(),Ue=function(){const de=new J;return function(pt,jn){const Mn=n.domElement;if(n.object.isPerspectiveCamera){de.copy(n.object.position).sub(n.target);let yn=de.length();yn*=Math.tan(n.object.fov/2*Math.PI/180),ft(2*pt*yn/Mn.clientHeight,n.object.matrix),fe(2*jn*yn/Mn.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(ft(pt*(n.object.right-n.object.left)/n.object.zoom/Mn.clientWidth,n.object.matrix),fe(jn*(n.object.top-n.object.bottom)/n.object.zoom/Mn.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function ve(de){n.object.isPerspectiveCamera||n.object.isOrthographicCamera?p/=de:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function Ee(de){n.object.isPerspectiveCamera||n.object.isOrthographicCamera?p*=de:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function ze(de){if(!n.zoomToCursor)return;Z=!0;const Lt=n.domElement.getBoundingClientRect(),jn=de.clientY-Lt.top,Un=Lt.height;W.x=(de.clientX-Lt.left)/Lt.width*2-1,W.y=-jn/Un*2+1,B.set(W.x,W.y,1).unproject(n.object).sub(n.object.position).normalize()}function Le(de){return Math.max(n.minDistance,Math.min(n.maxDistance,de))}function ot(de){y.set(de.clientX,de.clientY)}function We(de){A.set(de.clientX,de.clientY)}function gn(){1===q.length?y.set(q[0].pageX,q[0].pageY):y.set(.5*(q[0].pageX+q[1].pageX),.5*(q[0].pageY+q[1].pageY))}function bn(){1===q.length?A.set(q[0].pageX,q[0].pageY):A.set(.5*(q[0].pageX+q[1].pageX),.5*(q[0].pageY+q[1].pageY))}function ui(){const de=q[0].pageX-q[1].pageX,Lt=q[0].pageY-q[1].pageY,pt=Math.sqrt(de*de+Lt*Lt);k.set(0,pt)}function Vt(de){if(1==q.length)x.set(de.pageX,de.pageY);else{const pt=qt(de);x.set(.5*(de.pageX+pt.x),.5*(de.pageY+pt.y))}M.subVectors(x,y).multiplyScalar(n.rotateSpeed);const Lt=n.domElement;ke(2*Math.PI*M.x/Lt.clientHeight),tt(2*Math.PI*M.y/Lt.clientHeight),y.copy(x)}function at(de){if(1===q.length)R.set(de.pageX,de.pageY);else{const Lt=qt(de);R.set(.5*(de.pageX+Lt.x),.5*(de.pageY+Lt.y))}I.subVectors(R,A).multiplyScalar(n.panSpeed),Ue(I.x,I.y),A.copy(R)}function Mt(de){const Lt=qt(de),pt=de.pageX-Lt.x,jn=de.pageY-Lt.y,Mn=Math.sqrt(pt*pt+jn*jn);U.set(0,Mn),O.set(0,Math.pow(U.y/k.y,n.zoomSpeed)),ve(O.y),k.copy(U)}function Kt(de){!1!==n.enabled&&(0===q.length&&(n.domElement.setPointerCapture(de.pointerId),n.domElement.addEventListener("pointermove",an),n.domElement.addEventListener("pointerup",Gn)),function It(de){q.push(de)}(de),"touch"===de.pointerType?function Be(de){switch(Nt(de),q.length){case 1:switch(n.touches.ONE){case 0:if(!1===n.enableRotate)return;gn(),o=r.TOUCH_ROTATE;break;case 1:if(!1===n.enablePan)return;bn(),o=r.TOUCH_PAN;break;default:o=r.NONE}break;case 2:switch(n.touches.TWO){case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;(function In(){n.enableZoom&&ui(),n.enablePan&&bn()})(),o=r.TOUCH_DOLLY_PAN;break;case 3:if(!1===n.enableZoom&&!1===n.enableRotate)return;(function le(){n.enableZoom&&ui(),n.enableRotate&&gn()})(),o=r.TOUCH_DOLLY_ROTATE;break;default:o=r.NONE}break;default:o=r.NONE}o!==r.NONE&&n.dispatchEvent(AO)}(de):function xi(de){let Lt;switch(de.button){case 0:Lt=n.mouseButtons.LEFT;break;case 1:Lt=n.mouseButtons.MIDDLE;break;case 2:Lt=n.mouseButtons.RIGHT;break;default:Lt=-1}switch(Lt){case 1:if(!1===n.enableZoom)return;(function me(de){ze(de),k.set(de.clientX,de.clientY)})(de),o=r.DOLLY;break;case 0:if(de.ctrlKey||de.metaKey||de.shiftKey){if(!1===n.enablePan)return;We(de),o=r.PAN}else{if(!1===n.enableRotate)return;ot(de),o=r.ROTATE}break;case 2:if(de.ctrlKey||de.metaKey||de.shiftKey){if(!1===n.enableRotate)return;ot(de),o=r.ROTATE}else{if(!1===n.enablePan)return;We(de),o=r.PAN}break;default:o=r.NONE}o!==r.NONE&&n.dispatchEvent(AO)}(de))}function an(de){!1!==n.enabled&&("touch"===de.pointerType?function Tt(de){switch(Nt(de),o){case r.TOUCH_ROTATE:if(!1===n.enableRotate)return;Vt(de),n.update();break;case r.TOUCH_PAN:if(!1===n.enablePan)return;at(de),n.update();break;case r.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;(function vt(de){n.enableZoom&&Mt(de),n.enablePan&&at(de)})(de),n.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;(function Tn(de){n.enableZoom&&Mt(de),n.enableRotate&&Vt(de)})(de),n.update();break;default:o=r.NONE}}(de):function Rr(de){switch(o){case r.ROTATE:if(!1===n.enableRotate)return;!function Ut(de){x.set(de.clientX,de.clientY),M.subVectors(x,y).multiplyScalar(n.rotateSpeed);const Lt=n.domElement;ke(2*Math.PI*M.x/Lt.clientHeight),tt(2*Math.PI*M.y/Lt.clientHeight),y.copy(x),n.update()}(de);break;case r.DOLLY:if(!1===n.enableZoom)return;!function Et(de){U.set(de.clientX,de.clientY),O.subVectors(U,k),O.y>0?ve(Q()):O.y<0&&Ee(Q()),k.copy(U),n.update()}(de);break;case r.PAN:if(!1===n.enablePan)return;!function en(de){R.set(de.clientX,de.clientY),I.subVectors(R,A).multiplyScalar(n.panSpeed),Ue(I.x,I.y),A.copy(R),n.update()}(de)}}(de))}function Gn(de){(function _n(de){delete ce[de.pointerId];for(let Lt=0;Lt<q.length;Lt++)if(q[Lt].pointerId==de.pointerId)return void q.splice(Lt,1)})(de),0===q.length&&(n.domElement.releasePointerCapture(de.pointerId),n.domElement.removeEventListener("pointermove",an),n.domElement.removeEventListener("pointerup",Gn)),n.dispatchEvent(lB),o=r.NONE}function te(de){!1===n.enabled||!1===n.enableZoom||o!==r.NONE||(de.preventDefault(),n.dispatchEvent(AO),function Fn(de){ze(de),de.deltaY<0?Ee(Q()):de.deltaY>0&&ve(Q()),n.update()}(de),n.dispatchEvent(lB))}function G(de){!1===n.enabled||!1===n.enablePan||function on(de){let Lt=!1;switch(de.code){case n.keys.UP:de.ctrlKey||de.metaKey||de.shiftKey?tt(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):Ue(0,n.keyPanSpeed),Lt=!0;break;case n.keys.BOTTOM:de.ctrlKey||de.metaKey||de.shiftKey?tt(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):Ue(0,-n.keyPanSpeed),Lt=!0;break;case n.keys.LEFT:de.ctrlKey||de.metaKey||de.shiftKey?ke(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):Ue(n.keyPanSpeed,0),Lt=!0;break;case n.keys.RIGHT:de.ctrlKey||de.metaKey||de.shiftKey?ke(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):Ue(-n.keyPanSpeed,0),Lt=!0}Lt&&(de.preventDefault(),n.update())}(de)}function wt(de){!1!==n.enabled&&de.preventDefault()}function Nt(de){let Lt=ce[de.pointerId];void 0===Lt&&(Lt=new et,ce[de.pointerId]=Lt),Lt.set(de.pageX,de.pageY)}function qt(de){return ce[(de.pointerId===q[0].pointerId?q[1]:q[0]).pointerId]}n.domElement.addEventListener("contextmenu",wt),n.domElement.addEventListener("pointerdown",Kt),n.domElement.addEventListener("pointercancel",Gn),n.domElement.addEventListener("wheel",te,{passive:!1}),this.update()}}let hB=(()=>{class i{constructor(e,n){this.ngZone=e,this.el=n}ngOnInit(){this.createScene(),this.animate()}ngAfterViewInit(){this.controls=new uB(this.camera,this.renderer.domElement),this.controls.minDistance=10,this.controls.maxDistance=50}ngOnDestroy(){}createScene(){this.scene=new HP,this.camera=new vs(75,window.innerWidth/window.innerHeight,.1,1e3),this.renderer=new BP,this.renderer.setSize(window.innerWidth,window.innerHeight);const e=this.el.nativeElement.querySelector("#sphereCanvas");if(e){e.appendChild(this.renderer.domElement);const n=new xO(16777215);n.position.set(5,5,5),this.scene.add(n);const r=new VU(16777215,1);r.position.set(5,5,5),this.scene.add(r);const o=new Ml(1,32,16);let l=new pU(new class MY{constructor(t=512,e=512){const n=document.createElement("canvas");n.width=t,n.height=e;const r=n.getContext("2d");r.fillStyle="rgb(127,127,255)",r.fillRect(0,0,t,e);for(let o=0;o<4e3;o++){const l=Math.random()*t,u=Math.random()*e,f=3*Math.random()+3;let p=2*Math.random()-1,b=2*Math.random()-1,y=1.5;const x=Math.sqrt(p*p+b*b+y*y);p/=x,b/=x,y/=x,r.fillStyle="rgb("+(127*p+127)+","+(127*b+127)+","+255*y+")",r.beginPath(),r.arc(l,u,f,0,2*Math.PI),r.fill()}return n}});l.wrapS=kd,l.wrapT=kd,l.repeat.x=10,l.repeat.y=6;const u=new Sl({color:8657098,clearcoat:1,clearcoatRoughness:.1,metalness:1e-4,roughness:1,normalMap:l,normalScale:new et(.1,.1),side:2});this.sphereMesh=new Wt(o,u),this.sphereMesh.rotation.x=Math.PI/2,this.scene.add(this.sphereMesh);const f=new m0(1,1,.2,32),p=new Sl({color:16711680,side:2});this.bandMesh=new Wt(f,p),this.scene.add(this.bandMesh),this.camera.position.z=5;const b=document.getElementById("sliderX"),y=document.getElementById("sliderY"),x=document.getElementById("sliderRot");b.addEventListener("input",this.moveObjects.bind(this)),y.addEventListener("input",this.moveObjects.bind(this)),x.addEventListener("input",this.moveObjects.bind(this))}else console.error("Container element not found.")}moveObjects(){this.sphereMesh.position.x=parseFloat(document.getElementById("sliderX").value),this.sphereMesh.position.y=parseFloat(document.getElementById("sliderY").value),this.sphereMesh.rotation.z=parseFloat(document.getElementById("sliderRot").value),this.bandMesh.position.x=parseFloat(document.getElementById("sliderX").value),this.bandMesh.position.y=parseFloat(document.getElementById("sliderY").value),this.bandMesh.rotation.z=parseFloat(document.getElementById("sliderRot").value)}animate(){this.ngZone.runOutsideAngular(()=>{const e=()=>{this.controls&&this.controls.update(),this.renderer.render(this.scene,this.camera),requestAnimationFrame(e)};e()})}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.R0b),c.Y36(c.SBq))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["app-sphere"]],decls:2,vars:0,consts:[[1,"total"],["src","../../../assets/eyeball/atomic.html",1,"ful"]],template:function(n,r){1&n&&(c.TgZ(0,"div",0),c._UZ(1,"iframe",1),c.qZA())},styles:["body[_ngcontent-%COMP%]{margin:0;background:black;overflow:hidden;display:flex;justify-content:center;align-items:center}.ful[_ngcontent-%COMP%]{width:80vw;height:90vh;margin-left:10vw;margin-top:60px}img[_ngcontent-%COMP%]{width:50vw;height:auto;margin-top:70px;margin-left:25vw;padding:50px}"]})}return i})();function TY(i,t){1&i&&c._UZ(0,"app-sphere")}function AY(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"div",4)(1,"div",5),c._UZ(2,"iframe",6),c.qZA(),c.TgZ(3,"div",7)(4,"div",8)(5,"div",9)(6,"button",10),c.NdJ("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.switchToSphereComponent())}),c.TgZ(7,"a"),c._uU(8,"Atom"),c.qZA()(),c.TgZ(9,"button",11)(10,"a",12),c._uU(11,"PRESENTATION"),c.qZA()()()()()()}}function DY(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"button",13),c.NdJ("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.switchToMyComponent())}),c._uU(1,"Back"),c.qZA()}}let IY=(()=>{class i{constructor(){this.currentComponent="my-component",this.isCubeOn=!0,this.isBackbut=!1}switchToCircleComponent(){this.currentComponent="circle-component",this.isCubeOn=!1,this.isBackbut=!0}switchToSphereComponent(){this.currentComponent="sphere-component",this.isCubeOn=!1,this.isBackbut=!0}switchToMyComponent(){this.currentComponent="my-component",this.isCubeOn=!0,this.isBackbut=!1}switchToAtomComponent(){this.currentComponent="atom-component",this.isCubeOn=!1,this.isBackbut=!0}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["app-home"]],decls:4,vars:3,consts:[[4,"ngIf"],["class","main",4,"ngIf"],[1,"backbutton"],["mat-button","",3,"click",4,"ngIf"],[1,"main"],["id","youtube"],["width","1280","height","720","src","https://www.youtube.com/embed/lDf6UEV-Vmo?rel=0;controls=0","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; modestbranding; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen",""],[1,"container"],[1,"text-box"],[1,"button-wrapper"],["ejs-button","",1,"button","a",3,"click"],["ejs-button","",1,"button","a"],["href","https://shikshaa.my.canva.site/e-learning","target","_blank"],["mat-button","",3,"click"]],template:function(n,r){1&n&&(c.YNc(0,TY,1,0,"app-sphere",0),c.YNc(1,AY,12,0,"div",1),c.TgZ(2,"div",2),c.YNc(3,DY,2,0,"button",3),c.qZA()),2&n&&(c.Q6J("ngIf","sphere-component"===r.currentComponent),c.xp6(1),c.Q6J("ngIf",r.isCubeOn),c.xp6(2),c.Q6J("ngIf",r.isBackbut))},dependencies:[co,vf,hB],styles:[".main[_ngcontent-%COMP%]{flex-direction:column;margin:0;padding:0;width:100%;background:rgb(255,255,255);overflow:hidden;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]{opacity:50%;overflow:hidden;display:flex;justify-content:center}canvas[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:-1}#youtube[_ngcontent-%COMP%]{position:relative;margin-top:50px;padding:20px;overflow:hidden;display:flex;justify-content:center;align-items:center}.text-box[_ngcontent-%COMP%]{overflow:hidden;display:flex;flex-direction:column;justify-content:flex-end;align-items:center;opacity:100%;font-size:60px;font-family:Raleway,sans-serif;letter-spacing:7px;word-spacing:12px;text-transform:uppercase;color:#fdd800;-webkit-text-fill-color:color-mix(in srgb-linear,#a70c0c percentage,#f30ad800 percentage);-webkit-text-stroke-width:2px}.button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:20px;flex-direction:row}.button[_ngcontent-%COMP%]{display:inline-block;font-size:1vw;padding:15px;margin-left:20px;margin-right:20px;word-spacing:normal;letter-spacing:5px;border:1px solid white;background:black;cursor:pointer}.backbutton[_ngcontent-%COMP%]{font-size:4vw;display:flex;justify-content:center;align-items:center}a[_ngcontent-%COMP%]{font-weight:100;font-size:1vw;color:#f0f8ff;text-decoration:none;text-decoration-style:none;stroke:none}.heading[_ngcontent-%COMP%]{font-size:4vw;padding:20px;align-items:center}"]})}return i})();let mB=(()=>{class i{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.Qsj),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:i})}return i})(),yv=(()=>{class i extends mB{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275dir=c.lG2({type:i,features:[c.qOj]})}return i})();const Bc=new c.OlP("NgValueAccessor"),RY={provide:Bc,useExisting:(0,c.Gpc)(()=>GE),multi:!0},OY=new c.OlP("CompositionEventMode");let GE=(()=>{class i extends mB{constructor(e,n,r){super(e,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function PY(){const i=$()?$().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(OY,8))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&c.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[c._Bn([RY]),c.qOj]})}return i})();function kp(i){return null==i||("string"==typeof i||Array.isArray(i))&&0===i.length}function gB(i){return null!=i&&"number"==typeof i.length}const Is=new c.OlP("NgValidators"),Rp=new c.OlP("NgAsyncValidators"),NY=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ha{static min(t){return function _B(i){return t=>{if(kp(t.value)||kp(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}(t)}static max(t){return function vB(i){return t=>{if(kp(t.value)||kp(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}(t)}static required(t){return function bB(i){return kp(i.value)?{required:!0}:null}(t)}static requiredTrue(t){return function yB(i){return!0===i.value?null:{required:!0}}(t)}static email(t){return function xB(i){return kp(i.value)||NY.test(i.value)?null:{email:!0}}(t)}static minLength(t){return function wB(i){return t=>kp(t.value)||!gB(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function EB(i){return t=>gB(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static pattern(t){return function CB(i){if(!i)return nD;let t,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(kp(n.value))return null;const r=n.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return IB(t)}static composeAsync(t){return kB(t)}}function nD(i){return null}function MB(i){return null!=i}function SB(i){return(0,c.QGY)(i)?(0,eo.D)(i):i}function TB(i){let t={};return i.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function AB(i,t){return t.map(e=>e(i))}function DB(i){return i.map(t=>function LY(i){return!i.validate}(t)?t:e=>t.validate(e))}function IB(i){if(!i)return null;const t=i.filter(MB);return 0==t.length?null:function(e){return TB(AB(e,t))}}function DO(i){return null!=i?IB(DB(i)):null}function kB(i){if(!i)return null;const t=i.filter(MB);return 0==t.length?null:function(e){return function fB(...i){const t=(0,Nm.jO)(i),{args:e,keys:n}=Om(i),r=new Ho.y(o=>{const{length:l}=e;if(!l)return void o.complete();const u=new Array(l);let f=l,p=l;for(let b=0;b<l;b++){let y=!1;(0,Fm.Xf)(e[b]).subscribe((0,fo.x)(o,x=>{y||(y=!0,p--),u[b]=x},()=>f--,void 0,()=>{(!f||!y)&&(p||o.next(n?sx(n,u):u),o.complete())}))}});return t?r.pipe(Qh(t)):r}(AB(e,t).map(SB)).pipe((0,wn.U)(TB))}}function IO(i){return null!=i?kB(DB(i)):null}function RB(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function PB(i){return i._rawValidators}function OB(i){return i._rawAsyncValidators}function kO(i){return i?Array.isArray(i)?i:[i]:[]}function iD(i,t){return Array.isArray(i)?i.includes(t):i===t}function NB(i,t){const e=kO(t);return kO(i).forEach(r=>{iD(e,r)||e.push(r)}),e}function LB(i,t){return kO(t).filter(e=>!iD(i,e))}class FB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=DO(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=IO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class fa extends FB{get formDirective(){return null}get path(){return null}}class th extends FB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class UB{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let rD=(()=>{class i extends UB{constructor(e){super(e)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(th,2))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[c.qOj]})}return i})(),oD=(()=>{class i extends UB{constructor(e){super(e)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(fa,10))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[c.qOj]})}return i})();const WE="VALID",aD="INVALID",y0="PENDING",jE="DISABLED";function OO(i){return(cD(i)?i.validators:i)||null}function NO(i,t){return(cD(t)?t.asyncValidators:i)||null}function cD(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}function VB(i,t,e){const n=i.controls;if(!(t?Object.keys(n):n).length)throw new c.vHH(1e3,"");if(!n[e])throw new c.vHH(1001,"")}function zB(i,t,e){i._forEachChild((n,r)=>{if(void 0===e[r])throw new c.vHH(1002,"")})}class lD{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===WE}get invalid(){return this.status===aD}get pending(){return this.status==y0}get disabled(){return this.status===jE}get enabled(){return this.status!==jE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(NB(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(NB(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(LB(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(LB(t,this._rawAsyncValidators))}hasValidator(t){return iD(this._rawValidators,t)}hasAsyncValidator(t){return iD(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=y0,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=jE,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=WE,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===WE||this.status===y0)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jE:WE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=y0,this._hasOwnPendingAsyncValidator=!0;const e=SB(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?jE:this.errors?aD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(y0)?y0:this._anyControlsHaveStatus(aD)?aD:WE}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){cD(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function VY(i){return Array.isArray(i)?DO(i):i||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function zY(i){return Array.isArray(i)?IO(i):i||null}(this._rawAsyncValidators)}}class $E extends lD{constructor(t,e,n){super(OO(e),NO(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){zB(this,0,t),Object.keys(t).forEach(n=>{VB(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{const r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>!!n._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,o)=>{n=e(n,r,o)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class HB extends $E{}const x0=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>dD}),dD="always";function YE(i,t,e=dD){LO(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(i.disabled),function GY(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&GB(i,t)})}(i,t),function jY(i,t){const e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function WY(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&GB(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function HY(i,t){if(t.valueAccessor.setDisabledState){const e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function hD(i,t,e=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),mD(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function fD(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function LO(i,t){const e=PB(i);null!==t.validator?i.setValidators(RB(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const n=OB(i);null!==t.asyncValidator?i.setAsyncValidators(RB(n,t.asyncValidator)):"function"==typeof n&&i.setAsyncValidators([n]);const r=()=>i.updateValueAndValidity();fD(t._rawValidators,r),fD(t._rawAsyncValidators,r)}function mD(i,t){let e=!1;if(null!==i){if(null!==t.validator){const r=PB(i);if(Array.isArray(r)&&r.length>0){const o=r.filter(l=>l!==t.validator);o.length!==r.length&&(e=!0,i.setValidators(o))}}if(null!==t.asyncValidator){const r=OB(i);if(Array.isArray(r)&&r.length>0){const o=r.filter(l=>l!==t.asyncValidator);o.length!==r.length&&(e=!0,i.setAsyncValidators(o))}}}const n=()=>{};return fD(t._rawValidators,n),fD(t._rawAsyncValidators,n),e}function GB(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function WB(i,t){LO(i,t)}function jB(i,t){i._syncPendingControls(),t.forEach(e=>{const n=e.control;"submit"===n.updateOn&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}const XY={provide:fa,useExisting:(0,c.Gpc)(()=>ZE)},qE=(()=>Promise.resolve())();let ZE=(()=>{class i extends fa{constructor(e,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new $E({},DO(e),IO(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){qE.then(()=>{const n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),YE(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){qE.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){qE.then(()=>{const n=this._findContainer(e.path),r=new $E({});WB(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){qE.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){qE.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,jB(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(Is,10),c.Y36(Rp,10),c.Y36(x0,8))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&c.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([XY]),c.qOj]})}return i})();function $B(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}function YB(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const XE=class extends lD{constructor(t=null,e,n){super(OO(e),NO(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cD(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=YB(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){$B(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){$B(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){YB(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let pD=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return i})(),JB=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({})}return i})();const VO=new c.OlP("NgModelWithFormControlWarning"),oq={provide:fa,useExisting:(0,c.Gpc)(()=>Pp)};let Pp=(()=>{class i extends fa{constructor(e,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const n=this.form.get(e.path);return YE(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){hD(e.control||null,e,!1),function ZY(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this.submitted=!0,jB(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const n=e.control,r=this.form.get(e.path);n!==r&&(hD(n||null,e),(i=>i instanceof XE)(r)&&(YE(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const n=this.form.get(e.path);WB(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const n=this.form.get(e.path);n&&function $Y(i,t){return mD(i,t)}(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){LO(this.form,this),this._oldForm&&mD(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(Is,10),c.Y36(Rp,10),c.Y36(x0,8))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&c.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([oq]),c.qOj,c.TTD]})}return i})();const cq={provide:th,useExisting:(0,c.Gpc)(()=>KE)};let KE=(()=>{class i extends th{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,n,r,o,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=function BO(i,t){if(!t)return null;let e,n,r;return Array.isArray(t),t.forEach(o=>{o.constructor===GE?e=o:function qY(i){return Object.getPrototypeOf(i.constructor)===yv}(o)?n=o:r=o}),r||n||e||null}(0,o)}ngOnChanges(e){this._added||this._setUpControl(),function UO(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function uD(i,t){return[...t.path,i]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(n){return new(n||i)(c.Y36(fa,13),c.Y36(Is,10),c.Y36(Rp,10),c.Y36(Bc,10),c.Y36(VO,8))};static#n=this.\u0275dir=c.lG2({type:i,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([cq]),c.qOj,c.TTD]})}return i})(),Eq=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[JB]})}return i})();class mV extends lD{constructor(t,e,n){super(OO(e),NO(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){zB(this,0,t),t.forEach((n,r)=>{VB(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,n)=>!!n._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function pV(i){return!!i&&(void 0!==i.asyncValidators||void 0!==i.validators||void 0!==i.updateOn)}let YO=(()=>{class i{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new i;return e.useNonNullable=!0,e}group(e,n=null){const r=this._reduceControls(e);let o={};return pV(n)?o=n:null!==n&&(o.validators=n.validator,o.asyncValidators=n.asyncValidator),new $E(r,o)}record(e,n=null){const r=this._reduceControls(e);return new HB(r,n)}control(e,n,r){let o={};return this.useNonNullable?(pV(n)?o=n:(o.validators=n,o.asyncValidators=r),new XE(e,{...o,nonNullable:!0})):new XE(e,n,r)}array(e,n,r){const o=e.map(l=>this._createControl(l));return new mV(o,n,r)}_reduceControls(e){const n={};return Object.keys(e).forEach(r=>{n[r]=this._createControl(e[r])}),n}_createControl(e){return e instanceof XE||e instanceof lD?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Cq=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:VO,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:x0,useValue:e.callSetDisabledState??dD}]}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[Eq]})}return i})();var Vc=j(3019),qO=j(3020),Tl=j(8186),Vd=j(6304),Tq=(j(5967),j(3106)),wv=j(4537),Ev=j(534),ee=j(9058),gD=j(7879);const gV="@firebase/database";let ZO="";function vV(i){ZO=i}class Aq{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,ee.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,ee.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Dq{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,ee.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const bV=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Aq(t)}}catch{}return new Dq},Cv=bV("localStorage"),XO=bV("sessionStorage"),w0=new gD.Yd("@firebase/database"),yV=function(){let i=1;return function(){return i++}}(),xV=function(i){const t=(0,ee.dS)(i),e=new ee.gQ;e.update(t);const n=e.digest();return ee.US.encodeByteArray(n)},QE=function(...i){let t="";for(let e=0;e<i.length;e++){const n=i[e];Array.isArray(n)||n&&"object"==typeof n&&"number"==typeof n.length?t+=QE.apply(null,n):t+="object"==typeof n?(0,ee.Wl)(n):n,t+=" "}return t};let Mv=null,wV=!0;const EV=function(i,t){(0,ee.hu)(!t||!0===i||!1===i,"Can't turn on custom loggers persistently."),!0===i?(w0.logLevel=gD.in.VERBOSE,Mv=w0.log.bind(w0),t&&XO.set("logging_enabled",!0)):"function"==typeof i?Mv=i:(Mv=null,XO.remove("logging_enabled"))},bs=function(...i){if(!0===wV&&(wV=!1,null===Mv&&!0===XO.get("logging_enabled")&&EV(!0)),Mv){const t=QE.apply(null,i);Mv(t)}},JE=function(i){return function(...t){bs(i,...t)}},KO=function(...i){const t="FIREBASE INTERNAL ERROR: "+QE(...i);w0.error(t)},nh=function(...i){const t=`FIREBASE FATAL ERROR: ${QE(...i)}`;throw w0.error(t),new Error(t)},Ks=function(...i){const t="FIREBASE WARNING: "+QE(...i);w0.warn(t)},_D=function(i){return"number"==typeof i&&(i!=i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},Op="[MIN_NAME]",Of="[MAX_NAME]",Sv=function(i,t){if(i===t)return 0;if(i===Op||t===Of)return-1;if(t===Op||i===Of)return 1;{const e=SV(i),n=SV(t);return null!==e?null!==n?e-n==0?i.length-t.length:e-n:-1:null!==n?1:i<t?-1:1}},Rq=function(i,t){return i===t?0:i<t?-1:1},eC=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+(0,ee.Wl)(t))},QO=function(i){if("object"!=typeof i||null===i)return(0,ee.Wl)(i);const t=[];for(const n in i)t.push(n);t.sort();let e="{";for(let n=0;n<t.length;n++)0!==n&&(e+=","),e+=(0,ee.Wl)(t[n]),e+=":",e+=QO(i[t[n]]);return e+="}",e},CV=function(i,t){const e=i.length;if(e<=t)return[i];const n=[];for(let r=0;r<e;r+=t)n.push(i.substring(r,r+t>e?e:r+t));return n};function ys(i,t){for(const e in i)i.hasOwnProperty(e)&&t(e,i[e])}const MV=function(i){(0,ee.hu)(!_D(i),"Invalid JSON number");const n=1023;let r,o,l,u,f;0===i?(o=0,l=0,r=1/i==-1/0?1:0):(r=i<0,(i=Math.abs(i))>=Math.pow(2,1-n)?(u=Math.min(Math.floor(Math.log(i)/Math.LN2),n),o=u+n,l=Math.round(i*Math.pow(2,52-u)-Math.pow(2,52))):(o=0,l=Math.round(i/Math.pow(2,-1074))));const p=[];for(f=52;f;f-=1)p.push(l%2?1:0),l=Math.floor(l/2);for(f=11;f;f-=1)p.push(o%2?1:0),o=Math.floor(o/2);p.push(r?1:0),p.reverse();const b=p.join("");let y="";for(f=0;f<64;f+=8){let x=parseInt(b.substr(f,8),2).toString(16);1===x.length&&(x="0"+x),y+=x}return y.toLowerCase()},Lq=new RegExp("^-?(0*)\\d{1,10}$"),SV=function(i){if(Lq.test(i)){const t=Number(i);if(t>=-2147483648&&t<=2147483647)return t}return null},E0=function(i){try{i()}catch(t){setTimeout(()=>{throw Ks("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},tC=function(i,t){const e=setTimeout(i,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class Vq{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(n=>this.appCheck=n)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,n)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,n):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){Ks(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class zq{constructor(t,e,n){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(bs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,n)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,n):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ks(t)}}let nC=(()=>{class i{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return i.OWNER="owner",i})();const kV=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,OV="websocket",NV="long_polling";class eN{constructor(t,e,n,r,o=!1,l="",u=!1,f=!1){this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=f,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Cv.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Cv.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function LV(i,t,e){let n;if((0,ee.hu)("string"==typeof t,"typeof type must == string"),(0,ee.hu)("object"==typeof e,"typeof params must == object"),t===OV)n=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else{if(t!==NV)throw new Error("Unknown connection type: "+t);n=(i.secure?"https://":"http://")+i.internalHost+"/.lp?"}(function Hq(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams})(i)&&(e.ns=i.namespace);const r=[];return ys(e,(o,l)=>{r.push(o+"="+l)}),n+r.join("&")}class Gq{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,ee.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,ee.p$)(this.counters_)}}const tN={},nN={};function iN(i){const t=i.toString();return tN[t]||(tN[t]=new Gq),tN[t]}class jq{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<n.length;++r)n[r]&&E0(()=>{this.onMessage_(n[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Np{constructor(t,e,n,r,o,l,u){this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.transportSessionId=l,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=JE(t),this.stats_=iN(e),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),LV(e,NV,f))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new jq(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(i){if((0,ee.Yr)()||"complete"===document.readyState)i();else{let t=!1;const e=function(){document.body?t||(t=!0,i()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new rN((...o)=>{const[l,u,f,p,b]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=u,this.password=f;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[l,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,u)},()=>{this.onClosed_()},this.urlFn);const n={start:"t"};n.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(n.cb=this.scriptTagHolder.uniqueCallbackIdentifier),n.v="5",this.transportSessionId&&(n.s=this.transportSessionId),this.lastSessionId&&(n.ls=this.lastSessionId),this.applicationId&&(n.p=this.applicationId),this.appCheckToken&&(n.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&kV.test(location.hostname)&&(n.r="f");const r=this.urlFn(n);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Np.forceAllow_=!0}static forceDisallow(){Np.forceDisallow_=!0}static isAvailable(){return!((0,ee.Yr)()||!Np.forceAllow_&&(Np.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,ee.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const n=(0,ee.h$)(e),r=CV(n,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,ee.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,ee.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class rN{constructor(t,e,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ee.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=yV(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=rN.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){bs("frame writing exception"),u.stack&&bs(u.stack),bs(u)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||bs("No IE domain setting required")}catch{const n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const l=this.pendingSegs.shift();n=n+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const n=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),n()})}addTag(t,e){(0,ee.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.onload=n.onreadystatechange=function(){const r=n.readyState;(!r||"loaded"===r||"complete"===r)&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),e())},n.onerror=()=>{bs("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}let bD=null;typeof MozWebSocket<"u"?bD=MozWebSocket:typeof WebSocket<"u"&&(bD=WebSocket);let C0=(()=>{class i{constructor(e,n,r,o,l,u,f){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=JE(this.connId),this.stats_=iN(n),this.connURL=i.connectionURL_(n,u,f,o,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,o,l){const u={v:"5"};return!(0,ee.Yr)()&&typeof location<"u"&&location.hostname&&kV.test(location.hostname)&&(u.r="f"),n&&(u.s=n),r&&(u.ls=r),o&&(u.ac=o),l&&(u.p=l),LV(e,OV,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Cv.set("previous_websocket_failure",!0);try{let r;if((0,ee.Yr)()){r={headers:{"User-Agent":`Firebase/5/${ZO}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,u=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;u&&(r.proxy={origin:u})}this.mySock=new bD(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){i.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==bD&&!i.forceDisallow_}static previouslyFailed(){return Cv.isInMemoryStorage||!0===Cv.get("previous_websocket_failure")}markConnectionHealthy(){Cv.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=(0,ee.cI)(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,ee.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=(0,ee.Wl)(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=CV(n,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return i.responsesRequiredToBeHealthy=2,i.healthyTimeout=3e4,i})(),GV=(()=>{class i{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Np,C0]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=C0&&C0.isAvailable();let r=n&&!C0.previouslyFailed();if(e.webSocketOnly&&(n||Ks("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[C0];else{const o=this.transports_=[];for(const l of i.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l);i.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return i.globalTransportInitialized_=!1,i})();class XV{constructor(t,e,n,r,o,l,u,f,p,b){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=l,this.onReady_=u,this.onDisconnect_=f,this.onKill_=p,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=JE("c:"+this.id+":"),this.transportManager_=new GV(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,n)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=tC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=eC("t",t),n=eC("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=eC("t",t),n=eC("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=eC("t",t);if("d"in t){const n=t.d;if("h"===e){const r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?KO("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):KO("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&Ks("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,n),tC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):tC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Cv.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class KV{put(t,e,n,r){}merge(t,e,n,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,n){}onDisconnectMerge(t,e,n){}onDisconnectCancel(t,e){}reportStats(t){}}class QV{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,ee.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const n=[...this.listeners_[t]];for(let r=0;r<n.length;r++)n[r].callback.apply(n[r].context,e)}}on(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});const r=this.getInitialEvent(t);r&&e.apply(n,r)}off(t,e,n){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!n||n===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,ee.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class yD extends QV{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ee.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new yD}getInitialEvent(t){return(0,ee.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Zi{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let n=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Li(){return new Zi("")}function gi(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Lp(i){return i.pieces_.length-i.pieceNum_}function or(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new Zi(i.pieces_,t)}function sN(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function iC(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function tz(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let e=i.pieceNum_;e<i.pieces_.length-1;e++)t.push(i.pieces_[e]);return new Zi(t,0)}function kr(i,t){const e=[];for(let n=i.pieceNum_;n<i.pieces_.length;n++)e.push(i.pieces_[n]);if(t instanceof Zi)for(let n=t.pieceNum_;n<t.pieces_.length;n++)e.push(t.pieces_[n]);else{const n=t.split("/");for(let r=0;r<n.length;r++)n[r].length>0&&e.push(n[r])}return new Zi(e,0)}function _i(i){return i.pieceNum_>=i.pieces_.length}function ma(i,t){const e=gi(i),n=gi(t);if(null===e)return t;if(e===n)return ma(or(i),or(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function fZ(i,t){const e=iC(i,0),n=iC(t,0);for(let r=0;r<e.length&&r<n.length;r++){const o=Sv(e[r],n[r]);if(0!==o)return o}return e.length===n.length?0:e.length<n.length?-1:1}function aN(i,t){if(Lp(i)!==Lp(t))return!1;for(let e=i.pieceNum_,n=t.pieceNum_;e<=i.pieces_.length;e++,n++)if(i.pieces_[e]!==t.pieces_[n])return!1;return!0}function Al(i,t){let e=i.pieceNum_,n=t.pieceNum_;if(Lp(i)>Lp(t))return!1;for(;e<i.pieces_.length;){if(i.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0}class mZ{constructor(t,e){this.errorPrefix_=e,this.parts_=iC(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,ee.ug)(this.parts_[n]);nz(this)}}function nz(i){if(i.byteLength_>768)throw new Error(i.errorPrefix_+"has a key path longer than 768 bytes ("+i.byteLength_+").");if(i.parts_.length>32)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Tv(i))}function Tv(i){return 0===i.parts_.length?"":"in property '"+i.parts_.join(".")+"'"}class cN extends QV{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const n=!document[t];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}static getInstance(){return new cN}getInitialEvent(t){return(0,ee.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const rC=1e3;let wD,Av=(()=>{class i extends KV{constructor(e,n,r,o,l,u,f,p){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=f,this.authOverride_=p,this.id=i.nextPersistentConnectionId_++,this.log_=JE("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=rC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p&&!(0,ee.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");cN.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&yD.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const o=++this.requestNumber_,l={r:o,a:e,b:n};this.log_((0,ee.Wl)(l)),(0,ee.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const n=new ee.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const f=u.d;"ok"===u.s?n.resolve(f):n.reject(f)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),n.promise}listen(e,n,r,o){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),(0,ee.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ee.hu)(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const f={onComplete:o,hashFn:n,query:e,tag:r};this.listens.get(u).set(l,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+r+" for "+o);const l={p:r};e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest("q",l,f=>{const p=f.d,b=f.s;i.warnOnListenWarnings_(p,n),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",f),"ok"!==b&&this.removeListen_(r,o),e.onComplete&&e.onComplete(b,p))})}static warnOnListenWarnings_(e,n){if(e&&"object"==typeof e&&(0,ee.r3)(e,"w")){const r=(0,ee.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();Ks(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,ee.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=(0,ee.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,o=>{const l=o.s,u=o.d||"error";this.authToken_===e&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";"ok"===n?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,ee.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,n)}sendUnlisten_(e,n,r,o){this.log_("Unlisten on "+e+" for "+n);const l={p:e};o&&(l.q=r,l.t=o),this.sendRequest("n",l)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,o){const l={p:n,d:r};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,n,r,o){this.putInternal("p",e,n,r,o)}merge(e,n,r,o){this.putInternal("m",e,n,r,o)}putInternal(e,n,r,o,l){this.initConnection_();const u={p:n,d:r};void 0!==l&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,ee.Wl)(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),"d"===e?this.onDataUpdate_(n.p,n.d,!1,n.t):"m"===e?this.onDataUpdate_(n.p,n.d,!0,n.t):"c"===e?this.onListenRevoked_(n.p,n.q):"ac"===e?this.onAuthRevoked_(n.s,n.d):"apc"===e?this.onAppCheckRevoked_(n.s,n.d):"sd"===e?this.onSecurityDebugPacket_(n):KO("Unrecognized action received from server: "+(0,ee.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,ee.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rC,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=rC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=rC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ad.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const n=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),l=e.id+":"+i.nextConnectionId_++,u=e.lastSessionId;let f=!1,p=null;const b=function(){p?p.close():(f=!0,o())};e.realtime_={close:b,sendRequest:function(M){(0,ee.hu)(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(M)}};const x=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[M,A]=yield Promise.all([e.authTokenProvider_.getToken(x),e.appCheckTokenProvider_.getToken(x)]);f?bs("getToken() completed but was canceled"):(bs("getToken() completed. Creating connection."),e.authToken_=M&&M.accessToken,e.appCheckToken_=A&&A.token,p=new XV(l,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,n,r,o,R=>{Ks(R+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},u))}catch(M){e.log_("Failed to get token: "+M),f||(e.repoInfo_.nodeAdmin&&Ks(M),b())}}})()}interrupt(e){bs("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){bs("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,ee.xb)(this.interruptReasons_)&&(this.reconnectDelay_=rC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;r=n?n.map(l=>QO(l)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const r=new Zi(e).toString();let o;if(this.listens.has(r)){const l=this.listens.get(r);o=l.get(n),l.delete(n),0===l.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,n){bs("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){bs("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";(0,ee.Yr)()&&(n=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+n+"."+ZO.replace(/\./g,"-")]=1,(0,ee.uI)()?e["framework.cordova"]=1:(0,ee.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=yD.getInstance().currentlyOnline();return(0,ee.xb)(this.interruptReasons_)&&e}}return i.nextPersistentConnectionId_=0,i.nextConnectionId_=0,i})();class yi{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new yi(t,e)}}class xD{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const n=new yi(Op,t),r=new yi(Op,e);return 0!==this.compare(n,r)}minPost(){return yi.MIN}}class oz extends xD{static get __EMPTY_NODE(){return wD}static set __EMPTY_NODE(t){wD=t}compare(t,e){return Sv(t.name,e.name)}isDefinedOn(t){throw(0,ee.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return yi.MIN}maxPost(){return new yi(Of,wD)}makePost(t,e){return(0,ee.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new yi(t,wD)}toString(){return".key"}}const ih=new oz;class ED{constructor(t,e,n,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!t.isEmpty();)if(l=e?n(t.key,e):1,r&&(l*=-1),l<0)t=this.isReverse_?t.left:t.right;else{if(0===l){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let dN,zd=(()=>{class i{constructor(e,n,r,o,l){this.key=e,this.value=n,this.color=r??i.RED,this.left=o??$a.EMPTY_NODE,this.right=l??$a.EMPTY_NODE}copy(e,n,r,o,l){return new i(e??this.key,n??this.value,r??this.color,o??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,r),null):0===l?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return $a.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,o;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===n(e,r.key)){if(r.right.isEmpty())return $a.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return i.RED=!0,i.BLACK=!1,i})();class $a{constructor(t,e=$a.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new $a(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,zd.BLACK,null,null))}remove(t){return new $a(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,zd.BLACK,null,null))}get(t){let e,n=this.root_;for(;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e)return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null}getPredecessorKey(t){let e,n=this.root_,r=null;for(;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ED(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new ED(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new ED(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new ED(this.root_,null,this.comparator_,!0,t)}}function wZ(i,t){return Sv(i.name,t.name)}function lN(i,t){return Sv(i,t)}$a.EMPTY_NODE=new class xZ{copy(t,e,n,r,o){return this}insert(t,e,n){return new zd(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const sz=function(i){return"number"==typeof i?"number:"+MV(i):"string:"+i},az=function(i){if(i.isLeafNode()){const t=i.val();(0,ee.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,ee.r3)(t,".sv"),"Priority must be a string or number.")}else(0,ee.hu)(i===dN||i.isEmpty(),"priority of unexpected type.");(0,ee.hu)(i===dN||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let cz,lz,dz,M0=(()=>{class i{constructor(e,n=i.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,(0,ee.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),az(this.priorityNode_)}static set __childrenNodeConstructor(e){cz=e}static get __childrenNodeConstructor(){return cz}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new i(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return _i(e)?this:".priority"===gi(e)?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=gi(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,ee.hu)(".priority"!==r||1===Lp(e),".priority must be the last token in a path"),this.updateImmediateChild(r,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(or(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+sz(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",e+="number"===n?MV(this.value_):this.value_,this.lazyHash_=xV(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===i.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof i.__childrenNodeConstructor?-1:((0,ee.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,o=i.VALUE_TYPE_ORDER.indexOf(n),l=i.VALUE_TYPE_ORDER.indexOf(r);return(0,ee.hu)(o>=0,"Unknown leaf type: "+n),(0,ee.hu)(l>=0,"Unknown leaf type: "+r),o===l?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-o}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i})();const hr=new class SZ extends xD{compare(t,e){const n=t.node.getPriority(),r=e.node.getPriority(),o=n.compareTo(r);return 0===o?Sv(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return yi.MIN}maxPost(){return new yi(Of,new M0("[PRIORITY-POST]",dz))}makePost(t,e){const n=lz(t);return new yi(e,new M0("[PRIORITY-POST]",n))}toString(){return".priority"}},TZ=Math.log(2);class AZ{constructor(t){this.count=parseInt(Math.log(t+1)/TZ,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const CD=function(i,t,e,n){i.sort(t);const r=function(f,p){const b=p-f;let y,x;if(0===b)return null;if(1===b)return y=i[f],x=e?e(y):y,new zd(x,y.node,zd.BLACK,null,null);{const M=parseInt(b/2,10)+f,A=r(f,M),R=r(M+1,p);return y=i[M],x=e?e(y):y,new zd(x,y.node,zd.BLACK,A,R)}},u=function(f){let p=null,b=null,y=i.length;const x=function(A,R){const I=y-A,k=y;y-=A;const U=r(I+1,k),O=i[I],B=e?e(O):O;M(new zd(B,O.node,R,null,U))},M=function(A){p?(p.left=A,p=A):(b=A,p=A)};for(let A=0;A<f.count;++A){const R=f.nextBitIsOne(),I=Math.pow(2,f.count-(A+1));R?x(I,zd.BLACK):(x(I,zd.BLACK),x(I,zd.RED))}return b}(new AZ(i.length));return new $a(n||t,u)};let uN;const S0={};class Nf{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,ee.hu)(S0&&hr,"ChildrenNode.ts has not been loaded"),uN=uN||new Nf({".priority":S0},{".priority":hr}),uN}get(t){const e=(0,ee.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof $a?e:null}hasIndex(t){return(0,ee.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,ee.hu)(t!==ih,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const o=e.getIterator(yi.Wrap);let u,l=o.getNext();for(;l;)r=r||t.isDefinedOn(l.node),n.push(l),l=o.getNext();u=r?CD(n,t.getCompare()):S0;const f=t.toString(),p=Object.assign({},this.indexSet_);p[f]=t;const b=Object.assign({},this.indexes_);return b[f]=u,new Nf(b,p)}addToIndexes(t,e){const n=(0,ee.UI)(this.indexes_,(r,o)=>{const l=(0,ee.DV)(this.indexSet_,o);if((0,ee.hu)(l,"Missing index implementation for "+o),r===S0){if(l.isDefinedOn(t.node)){const u=[],f=e.getIterator(yi.Wrap);let p=f.getNext();for(;p;)p.name!==t.name&&u.push(p),p=f.getNext();return u.push(t),CD(u,l.getCompare())}return S0}{const u=e.get(t.name);let f=r;return u&&(f=f.remove(new yi(t.name,u))),f.insert(t,t.node)}});return new Nf(n,this.indexSet_)}removeFromIndexes(t,e){const n=(0,ee.UI)(this.indexes_,r=>{if(r===S0)return r;{const o=e.get(t.name);return o?r.remove(new yi(t.name,o)):r}});return new Nf(n,this.indexSet_)}}let oC,ii=(()=>{class i{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&az(this.priorityNode_),this.children_.isEmpty()&&(0,ee.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return oC||(oC=new i(new $a(lN),null,Nf.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||oC}updatePriority(e){return this.children_.isEmpty()?this:new i(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const n=this.children_.get(e);return null===n?oC:n}}getChild(e){const n=gi(e);return null===n?this:this.getImmediateChild(n).getChild(or(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,n){if((0,ee.hu)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);{const r=new yi(e,n);let o,l;n.isEmpty()?(o=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(r,this.children_));const u=o.isEmpty()?oC:this.priorityNode_;return new i(o,u,l)}}updateChild(e,n){const r=gi(e);if(null===r)return n;{(0,ee.hu)(".priority"!==gi(e)||1===Lp(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(or(e),n);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,o=0,l=!0;if(this.forEachChild(hr,(u,f)=>{n[u]=f.val(e),r++,l&&i.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):l=!1}),!e&&l&&o<2*r){const u=[];for(const f in n)u[f]=n[f];return u}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+sz(this.getPriority().val())+":"),this.forEachChild(hr,(n,r)=>{const o=r.hash();""!==o&&(e+=":"+n+":"+o)}),this.lazyHash_=""===e?"":xV(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const o=this.resolveIndex_(r);if(o){const l=o.getPredecessorKey(new yi(e,n));return l?l.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new yi(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new yi(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,yi.Wrap);let l=o.peek();for(;null!=l&&n.compare(l,e)<0;)o.getNext(),l=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,yi.Wrap);let l=o.peek();for(;null!=l&&n.compare(l,e)>0;)o.getNext(),l=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===sC?-1:0}withIndex(e){if(e===ih||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new i(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ih||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority())){if(this.children_.count()===n.children_.count()){const r=this.getIterator(hr),o=n.getIterator(hr);let l=r.getNext(),u=o.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=r.getNext(),u=o.getNext()}return null===l&&null===u}return!1}return!1}}resolveIndex_(e){return e===ih?null:this.indexMap_.get(e.toString())}}return i.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,i})();const sC=new class DZ extends ii{constructor(){super(new $a(lN),ii.EMPTY_NODE,Nf.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ii.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(yi,{MIN:{value:new yi(Op,ii.EMPTY_NODE)},MAX:{value:new yi(Of,sC)}}),oz.__EMPTY_NODE=ii.EMPTY_NODE,M0.__childrenNodeConstructor=ii,function EZ(i){dN=i}(sC),function MZ(i){dz=i}(sC);const IZ=!0;function $r(i,t=null){if(null===i)return ii.EMPTY_NODE;if("object"==typeof i&&".priority"in i&&(t=i[".priority"]),(0,ee.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof i&&".value"in i&&null!==i[".value"]&&(i=i[".value"]),"object"!=typeof i||".sv"in i)return new M0(i,$r(t));if(i instanceof Array||!IZ){let e=ii.EMPTY_NODE;return ys(i,(n,r)=>{if((0,ee.r3)(i,n)&&"."!==n.substring(0,1)){const o=$r(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(n,o))}}),e.updatePriority($r(t))}{const e=[];let n=!1;if(ys(i,(l,u)=>{if("."!==l.substring(0,1)){const f=$r(u);f.isEmpty()||(n=n||!f.getPriority().isEmpty(),e.push(new yi(l,f)))}}),0===e.length)return ii.EMPTY_NODE;const o=CD(e,wZ,l=>l.name,lN);if(n){const l=CD(e,hr.getCompare());return new ii(o,$r(t),new Nf({".priority":l},{".priority":hr}))}return new ii(o,$r(t),Nf.Default)}}!function CZ(i){lz=i}($r);class hN extends xD{constructor(t){super(),this.indexPath_=t,(0,ee.hu)(!_i(t)&&".priority"!==gi(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const n=this.extractChild(t.node),r=this.extractChild(e.node),o=n.compareTo(r);return 0===o?Sv(t.name,e.name):o}makePost(t,e){const n=$r(t),r=ii.EMPTY_NODE.updateChild(this.indexPath_,n);return new yi(e,r)}maxPost(){const t=ii.EMPTY_NODE.updateChild(this.indexPath_,sC);return new yi(Of,t)}toString(){return iC(this.indexPath_,0).join("/")}}const fN=new class kZ extends xD{compare(t,e){const n=t.node.compareTo(e.node);return 0===n?Sv(t.name,e.name):n}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return yi.MIN}maxPost(){return yi.MAX}makePost(t,e){const n=$r(t);return new yi(e,n)}toString(){return".value"}};function uz(i){return{type:"value",snapshotNode:i}}function T0(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function aC(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function cC(i,t,e){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:e}}class mN{constructor(t){this.index_=t}updateChild(t,e,n,r,o,l){(0,ee.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=t.getImmediateChild(e);return u.getChild(r).equals(n.getChild(r))&&u.isEmpty()===n.isEmpty()||(null!=l&&(n.isEmpty()?t.hasChild(e)?l.trackChildChange(aC(e,u)):(0,ee.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?l.trackChildChange(T0(e,n)):l.trackChildChange(cC(e,n,u))),t.isLeafNode()&&n.isEmpty())?t:t.updateImmediateChild(e,n).withIndex(this.index_)}updateFullNode(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(hr,(r,o)=>{e.hasChild(r)||n.trackChildChange(aC(r,o))}),e.isLeafNode()||e.forEachChild(hr,(r,o)=>{if(t.hasChild(r)){const l=t.getImmediateChild(r);l.equals(o)||n.trackChildChange(cC(r,o,l))}else n.trackChildChange(T0(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?ii.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class lC{constructor(t){this.indexedFilter_=new mN(t.getIndex()),this.index_=t.getIndex(),this.startPost_=lC.getStartPost_(t),this.endPost_=lC.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,n=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&n}updateChild(t,e,n,r,o,l){return this.matches(new yi(e,n))||(n=ii.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,o,l)}updateFullNode(t,e,n){e.isLeafNode()&&(e=ii.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(ii.EMPTY_NODE);const o=this;return e.forEachChild(hr,(l,u)=>{o.matches(new yi(l,u))||(r=r.updateImmediateChild(l,ii.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class PZ{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const n=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=e=>{const n=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new lC(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,n,r,o,l){return this.rangedFilter_.matches(new yi(e,n))||(n=ii.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,o,l):this.fullLimitUpdateChild_(t,e,n,o,l)}updateFullNode(t,e,n){let r;if(e.isLeafNode()||e.isEmpty())r=ii.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=ii.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;o.hasNext()&&l<this.limit_;){const u=o.getNext();if(this.withinDirectionalStart(u)){if(!this.withinDirectionalEnd(u))break;r=r.updateImmediateChild(u.name,u.node),l++}}}else{let o;r=e.withIndex(this.index_),r=r.updatePriority(ii.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let l=0;for(;o.hasNext();){const u=o.getNext();l<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?l++:r=r.updateImmediateChild(u.name,ii.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,n,r,o){let l;if(this.reverse_){const y=this.index_.getCompare();l=(x,M)=>y(M,x)}else l=this.index_.getCompare();const u=t;(0,ee.hu)(u.numChildren()===this.limit_,"");const f=new yi(e,n),p=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),b=this.rangedFilter_.matches(f);if(u.hasChild(e)){const y=u.getImmediateChild(e);let x=r.getChildAfterChild(this.index_,p,this.reverse_);for(;null!=x&&(x.name===e||u.hasChild(x.name));)x=r.getChildAfterChild(this.index_,x,this.reverse_);const M=null==x?1:l(x,f);if(b&&!n.isEmpty()&&M>=0)return o?.trackChildChange(cC(e,n,y)),u.updateImmediateChild(e,n);{o?.trackChildChange(aC(e,y));const R=u.updateImmediateChild(e,ii.EMPTY_NODE);return null!=x&&this.rangedFilter_.matches(x)?(o?.trackChildChange(T0(x.name,x.node)),R.updateImmediateChild(x.name,x.node)):R}}return n.isEmpty()?t:b&&l(p,f)>=0?(null!=o&&(o.trackChildChange(aC(p.name,p.node)),o.trackChildChange(T0(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(p.name,ii.EMPTY_NODE)):t}}class MD{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=hr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ee.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ee.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Op}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ee.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ee.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Of}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ee.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===hr}copy(){const t=new MD;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function pN(i,t,e){const n=i.copy();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n}function gN(i,t,e){const n=i.copy();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n}function SD(i,t){const e=i.copy();return e.index_=t,e}function hz(i){const t={};if(i.isDefault())return t;let e;if(i.index_===hr?e="$priority":i.index_===fN?e="$value":i.index_===ih?e="$key":((0,ee.hu)(i.index_ instanceof hN,"Unrecognized index type!"),e=i.index_.toString()),t.orderBy=(0,ee.Wl)(e),i.startSet_){const n=i.startAfterSet_?"startAfter":"startAt";t[n]=(0,ee.Wl)(i.indexStartValue_),i.startNameSet_&&(t[n]+=","+(0,ee.Wl)(i.indexStartName_))}if(i.endSet_){const n=i.endBeforeSet_?"endBefore":"endAt";t[n]=(0,ee.Wl)(i.indexEndValue_),i.endNameSet_&&(t[n]+=","+(0,ee.Wl)(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function fz(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let e=i.viewFrom_;""===e&&(e=i.isViewFromLeft()?"l":"r"),t.vf=e}return i.index_!==hr&&(t.i=i.index_.toString()),t}class TD extends KV{constructor(t,e,n,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=JE("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,ee.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,n,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const l=TD.getListenId_(t,n),u={};this.listens_[l]=u;const f=hz(t._queryParams);this.restRequest_(o+".json",f,(p,b)=>{let y=b;if(404===p&&(y=null,p=null),null===p&&this.onDataUpdate_(o,y,!1,n),(0,ee.DV)(this.listens_,l)===u){let x;x=p?401===p?"permission_denied":"rest_error:"+p:"ok",r(x,null)}})}unlisten(t,e){const n=TD.getListenId_(t,e);delete this.listens_[n]}get(t){const e=hz(t._queryParams),n=t._path.toString(),r=new ee.BH;return this.restRequest_(n+".json",e,(o,l)=>{let u=l;404===o&&(u=null,o=null),null===o?(this.onDataUpdate_(n,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},n){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,ee.xO)(e);this.log_("Sending REST request for "+l);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(n&&4===u.readyState){this.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);let f=null;if(u.status>=200&&u.status<300){try{f=(0,ee.cI)(u.responseText)}catch{Ks("Failed to parse JSON response for "+l+": "+u.responseText)}n(null,f)}else 401!==u.status&&404!==u.status&&Ks("Got unsuccessful REST response for "+l+" Status: "+u.status),n(u.status);n=null}},u.open("GET",l,!0),u.send()})}}class BZ{constructor(){this.rootNode_=ii.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function AD(){return{value:null,children:new Map}}function A0(i,t,e){if(_i(t))i.value=e,i.children.clear();else if(null!==i.value)i.value=i.value.updateChild(t,e);else{const n=gi(t);i.children.has(n)||i.children.set(n,AD()),A0(i.children.get(n),t=or(t),e)}}function _N(i,t){if(_i(t))return i.value=null,i.children.clear(),!0;if(null!==i.value){if(i.value.isLeafNode())return!1;{const e=i.value;return i.value=null,e.forEachChild(hr,(n,r)=>{A0(i,new Zi(n),r)}),_N(i,t)}}if(i.children.size>0){const e=gi(t);return t=or(t),i.children.has(e)&&_N(i.children.get(e),t)&&i.children.delete(e),0===i.children.size}return!0}function vN(i,t,e){null!==i.value?e(t,i.value):function VZ(i,t){i.children.forEach((e,n)=>{t(n,e)})}(i,(n,r)=>{vN(r,new Zi(t.toString()+"/"+n),e)})}class zZ{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&ys(this.last_,(n,r)=>{e[n]=e[n]-r}),this.last_=t,e}}class WZ{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new zZ(t);const n=1e4+2e4*Math.random();tC(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const t=this.statsListener_.get(),e={};let n=!1;ys(t,(r,o)=>{o>0&&(0,ee.r3)(this.statsToReport_,r)&&(e[r]=o,n=!0)}),n&&this.server_.reportStats(e),tC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var rh=function(i){return i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",i}(rh||{});function xN(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class DD{constructor(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=rh.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(_i(this.path)){if(null!=this.affectedTree.value)return(0,ee.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Zi(t));return new DD(Li(),e,this.revert)}}return(0,ee.hu)(gi(this.path)===t,"operationForChild called for unrelated child."),new DD(or(this.path),this.affectedTree,this.revert)}}class dC{constructor(t,e){this.source=t,this.path=e,this.type=rh.LISTEN_COMPLETE}operationForChild(t){return _i(this.path)?new dC(this.source,Li()):new dC(this.source,or(this.path))}}class Dv{constructor(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=rh.OVERWRITE}operationForChild(t){return _i(this.path)?new Dv(this.source,Li(),this.snap.getImmediateChild(t)):new Dv(this.source,or(this.path),this.snap)}}class D0{constructor(t,e,n){this.source=t,this.path=e,this.children=n,this.type=rh.MERGE}operationForChild(t){if(_i(this.path)){const e=this.children.subtree(new Zi(t));return e.isEmpty()?null:e.value?new Dv(this.source,Li(),e.value):new D0(this.source,Li(),e)}return(0,ee.hu)(gi(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new D0(this.source,or(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Fp{constructor(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(_i(t))return this.isFullyInitialized()&&!this.filtered_;const e=gi(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class jZ{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function uC(i,t,e,n,r,o){const l=n.filter(u=>u.type===e);l.sort((u,f)=>function qZ(i,t,e){if(null==t.childName||null==e.childName)throw(0,ee.g5)("Should only compare child_ events.");const n=new yi(t.childName,t.snapshotNode),r=new yi(e.childName,e.snapshotNode);return i.index_.compare(n,r)}(i,u,f)),l.forEach(u=>{const f=function YZ(i,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}(i,u,o);r.forEach(p=>{p.respondsTo(u.type)&&t.push(p.createEvent(f,i.query_))})})}function ID(i,t){return{eventCache:i,serverCache:t}}function hC(i,t,e,n){return ID(new Fp(t,e,n),i.serverCache)}function pz(i,t,e,n){return ID(i.eventCache,new Fp(t,e,n))}function kD(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Iv(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let wN;class fr{constructor(t,e=(()=>(wN||(wN=new $a(Rq)),wN))()){this.value=t,this.children=e}static fromObject(t){let e=new fr(null);return ys(t,(n,r)=>{e=e.set(new Zi(n),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Li(),value:this.value};if(_i(t))return null;{const n=gi(t),r=this.children.get(n);if(null!==r){const o=r.findRootMostMatchingPathAndValue(or(t),e);return null!=o?{path:kr(new Zi(n),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(_i(t))return this;{const e=gi(t),n=this.children.get(e);return null!==n?n.subtree(or(t)):new fr(null)}}set(t,e){if(_i(t))return new fr(e,this.children);{const n=gi(t),o=(this.children.get(n)||new fr(null)).set(or(t),e),l=this.children.insert(n,o);return new fr(this.value,l)}}remove(t){if(_i(t))return this.children.isEmpty()?new fr(null):new fr(null,this.children);{const e=gi(t),n=this.children.get(e);if(n){const r=n.remove(or(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new fr(null):new fr(this.value,o)}return this}}get(t){if(_i(t))return this.value;{const e=gi(t),n=this.children.get(e);return n?n.get(or(t)):null}}setTree(t,e){if(_i(t))return e;{const n=gi(t),o=(this.children.get(n)||new fr(null)).setTree(or(t),e);let l;return l=o.isEmpty()?this.children.remove(n):this.children.insert(n,o),new fr(this.value,l)}}fold(t){return this.fold_(Li(),t)}fold_(t,e){const n={};return this.children.inorderTraversal((r,o)=>{n[r]=o.fold_(kr(t,r),e)}),e(t,this.value,n)}findOnPath(t,e){return this.findOnPath_(t,Li(),e)}findOnPath_(t,e,n){const r=!!this.value&&n(e,this.value);if(r)return r;if(_i(t))return null;{const o=gi(t),l=this.children.get(o);return l?l.findOnPath_(or(t),kr(e,o),n):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Li(),e)}foreachOnPath_(t,e,n){if(_i(t))return this;{this.value&&n(e,this.value);const r=gi(t),o=this.children.get(r);return o?o.foreachOnPath_(or(t),kr(e,r),n):new fr(null)}}foreach(t){this.foreach_(Li(),t)}foreach_(t,e){this.children.inorderTraversal((n,r)=>{r.foreach_(kr(t,n),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,n)=>{n.value&&t(e,n.value)})}}class Hd{constructor(t){this.writeTree_=t}static empty(){return new Hd(new fr(null))}}function fC(i,t,e){if(_i(t))return new Hd(new fr(e));{const n=i.writeTree_.findRootMostValueAndPath(t);if(null!=n){const r=n.path;let o=n.value;const l=ma(r,t);return o=o.updateChild(l,e),new Hd(i.writeTree_.set(r,o))}{const r=new fr(e),o=i.writeTree_.setTree(t,r);return new Hd(o)}}}function EN(i,t,e){let n=i;return ys(e,(r,o)=>{n=fC(n,kr(t,r),o)}),n}function gz(i,t){if(_i(t))return Hd.empty();{const e=i.writeTree_.setTree(t,new fr(null));return new Hd(e)}}function CN(i,t){return null!=kv(i,t)}function kv(i,t){const e=i.writeTree_.findRootMostValueAndPath(t);return null!=e?i.writeTree_.get(e.path).getChild(ma(e.path,t)):null}function _z(i){const t=[],e=i.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(hr,(n,r)=>{t.push(new yi(n,r))}):i.writeTree_.children.inorderTraversal((n,r)=>{null!=r.value&&t.push(new yi(n,r.value))}),t}function Up(i,t){if(_i(t))return i;{const e=kv(i,t);return new Hd(null!=e?new fr(e):i.writeTree_.subtree(t))}}function MN(i){return i.writeTree_.isEmpty()}function I0(i,t){return vz(Li(),i.writeTree_,t)}function vz(i,t,e){if(null!=t.value)return e.updateChild(i,t.value);{let n=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,ee.hu)(null!==o.value,"Priority writes must always be leaf nodes"),n=o.value):e=vz(kr(i,r),o,e)}),!e.getChild(i).isEmpty()&&null!==n&&(e=e.updateChild(kr(i,".priority"),n)),e}}function RD(i,t){return Ez(t,i)}function e7(i,t){if(i.snap)return Al(i.path,t);for(const e in i.children)if(i.children.hasOwnProperty(e)&&Al(kr(i.path,e),t))return!0;return!1}function n7(i){return i.visible}function bz(i,t,e){let n=Hd.empty();for(let r=0;r<i.length;++r){const o=i[r];if(t(o)){const l=o.path;let u;if(o.snap)Al(e,l)?(u=ma(e,l),n=fC(n,u,o.snap)):Al(l,e)&&(u=ma(l,e),n=fC(n,Li(),o.snap.getChild(u)));else{if(!o.children)throw(0,ee.g5)("WriteRecord should have .snap or .children");if(Al(e,l))u=ma(e,l),n=EN(n,u,o.children);else if(Al(l,e))if(u=ma(l,e),_i(u))n=EN(n,Li(),o.children);else{const f=(0,ee.DV)(o.children,gi(u));if(f){const p=f.getChild(or(u));n=fC(n,Li(),p)}}}}}return n}function yz(i,t,e,n,r){if(n||r){const o=Up(i.visibleWrites,t);return!r&&MN(o)?e:r||null!=e||CN(o,Li())?I0(bz(i.allWrites,function(p){return(p.visible||r)&&(!n||!~n.indexOf(p.writeId))&&(Al(p.path,t)||Al(t,p.path))},t),e||ii.EMPTY_NODE):null}{const o=kv(i.visibleWrites,t);if(null!=o)return o;{const l=Up(i.visibleWrites,t);return MN(l)?e:null!=e||CN(l,Li())?I0(l,e||ii.EMPTY_NODE):null}}}function PD(i,t,e,n){return yz(i.writeTree,i.treePath,t,e,n)}function SN(i,t){return function i7(i,t,e){let n=ii.EMPTY_NODE;const r=kv(i.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(hr,(o,l)=>{n=n.updateImmediateChild(o,l)}),n;if(e){const o=Up(i.visibleWrites,t);return e.forEachChild(hr,(l,u)=>{const f=I0(Up(o,new Zi(l)),u);n=n.updateImmediateChild(l,f)}),_z(o).forEach(l=>{n=n.updateImmediateChild(l.name,l.node)}),n}return _z(Up(i.visibleWrites,t)).forEach(l=>{n=n.updateImmediateChild(l.name,l.node)}),n}(i.writeTree,i.treePath,t)}function xz(i,t,e,n){return function r7(i,t,e,n,r){(0,ee.hu)(n||r,"Either existingEventSnap or existingServerSnap must exist");const o=kr(t,e);if(CN(i.visibleWrites,o))return null;{const l=Up(i.visibleWrites,o);return MN(l)?r.getChild(e):I0(l,r.getChild(e))}}(i.writeTree,i.treePath,t,e,n)}function OD(i,t){return function s7(i,t){return kv(i.visibleWrites,t)}(i.writeTree,kr(i.treePath,t))}function TN(i,t,e){return function o7(i,t,e,n){const r=kr(t,e),o=kv(i.visibleWrites,r);return null!=o?o:n.isCompleteForChild(e)?I0(Up(i.visibleWrites,r),n.getNode().getImmediateChild(e)):null}(i.writeTree,i.treePath,t,e)}function wz(i,t){return Ez(kr(i.treePath,t),i.writeTree)}function Ez(i,t){return{treePath:i,writeTree:t}}class d7{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,n=t.childName;(0,ee.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,ee.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(n,cC(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(n,aC(n,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(n,T0(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,ee.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,cC(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)}getChanges(){return Array.from(this.changeMap.values())}}const Cz=new class u7{getCompleteChild(t){return null}getChildAfterChild(t,e,n){return null}};class AN{constructor(t,e,n=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const n=null!=this.optCompleteServerCache_?new Fp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return TN(this.writes_,t,n)}}getChildAfterChild(t,e,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Iv(this.viewCache_),o=function l7(i,t,e,n,r,o){return function a7(i,t,e,n,r,o,l){let u;const f=Up(i.visibleWrites,t),p=kv(f,Li());if(null!=p)u=p;else{if(null==e)return[];u=I0(f,e)}if(u=u.withIndex(l),u.isEmpty()||u.isLeafNode())return[];{const b=[],y=l.getCompare(),x=o?u.getReverseIteratorFrom(n,l):u.getIteratorFrom(n,l);let M=x.getNext();for(;M&&b.length<r;)0!==y(M,n)&&b.push(M),M=x.getNext();return b}}(i.writeTree,i.treePath,t,e,n,r,o)}(this.writes_,r,e,1,n,t);return 0===o.length?null:o[0]}}function Mz(i,t,e,n,r,o){const l=t.eventCache;if(null!=OD(n,e))return t;{let u,f;if(_i(e))if((0,ee.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=Iv(t),y=SN(n,p instanceof ii?p:ii.EMPTY_NODE);u=i.filter.updateFullNode(t.eventCache.getNode(),y,o)}else{const p=PD(n,Iv(t));u=i.filter.updateFullNode(t.eventCache.getNode(),p,o)}else{const p=gi(e);if(".priority"===p){(0,ee.hu)(1===Lp(e),"Can't have a priority with additional path components");const b=l.getNode();f=t.serverCache.getNode();const y=xz(n,e,b,f);u=null!=y?i.filter.updatePriority(b,y):l.getNode()}else{const b=or(e);let y;if(l.isCompleteForChild(p)){f=t.serverCache.getNode();const x=xz(n,e,l.getNode(),f);y=null!=x?l.getNode().getImmediateChild(p).updateChild(b,x):l.getNode().getImmediateChild(p)}else y=TN(n,p,t.serverCache);u=null!=y?i.filter.updateChild(l.getNode(),p,y,b,r,o):l.getNode()}}return hC(t,u,l.isFullyInitialized()||_i(e),i.filter.filtersNodes())}}function ND(i,t,e,n,r,o,l,u){const f=t.serverCache;let p;const b=l?i.filter:i.filter.getIndexedFilter();if(_i(e))p=b.updateFullNode(f.getNode(),n,null);else if(b.filtersNodes()&&!f.isFiltered()){const M=f.getNode().updateChild(e,n);p=b.updateFullNode(f.getNode(),M,null)}else{const M=gi(e);if(!f.isCompleteForPath(e)&&Lp(e)>1)return t;const A=or(e),I=f.getNode().getImmediateChild(M).updateChild(A,n);p=".priority"===M?b.updatePriority(f.getNode(),I):b.updateChild(f.getNode(),M,I,A,Cz,null)}const y=pz(t,p,f.isFullyInitialized()||_i(e),b.filtersNodes());return Mz(i,y,e,r,new AN(r,y,o),u)}function DN(i,t,e,n,r,o,l){const u=t.eventCache;let f,p;const b=new AN(r,t,o);if(_i(e))p=i.filter.updateFullNode(t.eventCache.getNode(),n,l),f=hC(t,p,!0,i.filter.filtersNodes());else{const y=gi(e);if(".priority"===y)p=i.filter.updatePriority(t.eventCache.getNode(),n),f=hC(t,p,u.isFullyInitialized(),u.isFiltered());else{const x=or(e),M=u.getNode().getImmediateChild(y);let A;if(_i(x))A=n;else{const R=b.getCompleteChild(y);A=null!=R?".priority"===sN(x)&&R.getChild(tz(x)).isEmpty()?R:R.updateChild(x,n):ii.EMPTY_NODE}f=M.equals(A)?t:hC(t,i.filter.updateChild(u.getNode(),y,A,x,b,l),u.isFullyInitialized(),i.filter.filtersNodes())}}return f}function Sz(i,t){return i.eventCache.isCompleteForChild(t)}function Tz(i,t,e){return e.foreach((n,r)=>{t=t.updateChild(n,r)}),t}function IN(i,t,e,n,r,o,l,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let p,f=t;p=_i(e)?n:new fr(null).setTree(e,n);const b=t.serverCache.getNode();return p.children.inorderTraversal((y,x)=>{if(b.hasChild(y)){const A=Tz(0,t.serverCache.getNode().getImmediateChild(y),x);f=ND(i,f,new Zi(y),A,r,o,l,u)}}),p.children.inorderTraversal((y,x)=>{const M=!t.serverCache.isCompleteForChild(y)&&null===x.value;if(!b.hasChild(y)&&!M){const R=Tz(0,t.serverCache.getNode().getImmediateChild(y),x);f=ND(i,f,new Zi(y),R,r,o,l,u)}}),f}class y7{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new mN(n.getIndex()),o=function OZ(i){return i.loadsAllData()?new mN(i.getIndex()):i.hasLimit()?new PZ(i):new lC(i)}(n);this.processor_=function h7(i){return{filter:i}}(o);const l=e.serverCache,u=e.eventCache,f=r.updateFullNode(ii.EMPTY_NODE,l.getNode(),null),p=o.updateFullNode(ii.EMPTY_NODE,u.getNode(),null),b=new Fp(f,l.isFullyInitialized(),r.filtersNodes()),y=new Fp(p,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=ID(y,b),this.eventGenerator_=new jZ(this.query_)}get query(){return this.query_}}function E7(i,t){const e=Iv(i.viewCache_);return e&&(i.query._queryParams.loadsAllData()||!_i(t)&&!e.getImmediateChild(gi(t)).isEmpty())?e.getChild(t):null}function Az(i){return 0===i.eventRegistrations_.length}function Dz(i,t,e){const n=[];if(e){(0,ee.hu)(null==t,"A cancel should cancel all event registrations.");const r=i.query._path;i.eventRegistrations_.forEach(o=>{const l=o.createCancelEvent(e,r);l&&n.push(l)})}if(t){let r=[];for(let o=0;o<i.eventRegistrations_.length;++o){const l=i.eventRegistrations_[o];if(l.matches(t)){if(t.hasAnyCallback()){r=r.concat(i.eventRegistrations_.slice(o+1));break}}else r.push(l)}i.eventRegistrations_=r}else i.eventRegistrations_=[];return n}function Iz(i,t,e,n){t.type===rh.MERGE&&null!==t.source.queryId&&((0,ee.hu)(Iv(i.viewCache_),"We should always have a full cache before handling merges"),(0,ee.hu)(kD(i.viewCache_),"Missing event cache, even though we have a server cache"));const r=i.viewCache_,o=function m7(i,t,e,n,r){const o=new d7;let l,u;if(e.type===rh.OVERWRITE){const p=e;p.source.fromUser?l=DN(i,t,p.path,p.snap,n,r,o):((0,ee.hu)(p.source.fromServer,"Unknown source."),u=p.source.tagged||t.serverCache.isFiltered()&&!_i(p.path),l=ND(i,t,p.path,p.snap,n,r,u,o))}else if(e.type===rh.MERGE){const p=e;p.source.fromUser?l=function g7(i,t,e,n,r,o,l){let u=t;return n.foreach((f,p)=>{const b=kr(e,f);Sz(t,gi(b))&&(u=DN(i,u,b,p,r,o,l))}),n.foreach((f,p)=>{const b=kr(e,f);Sz(t,gi(b))||(u=DN(i,u,b,p,r,o,l))}),u}(i,t,p.path,p.children,n,r,o):((0,ee.hu)(p.source.fromServer,"Unknown source."),u=p.source.tagged||t.serverCache.isFiltered(),l=IN(i,t,p.path,p.children,n,r,u,o))}else if(e.type===rh.ACK_USER_WRITE){const p=e;l=p.revert?function b7(i,t,e,n,r,o){let l;if(null!=OD(n,e))return t;{const u=new AN(n,t,r),f=t.eventCache.getNode();let p;if(_i(e)||".priority"===gi(e)){let b;if(t.serverCache.isFullyInitialized())b=PD(n,Iv(t));else{const y=t.serverCache.getNode();(0,ee.hu)(y instanceof ii,"serverChildren would be complete if leaf node"),b=SN(n,y)}p=i.filter.updateFullNode(f,b,o)}else{const b=gi(e);let y=TN(n,b,t.serverCache);null==y&&t.serverCache.isCompleteForChild(b)&&(y=f.getImmediateChild(b)),p=null!=y?i.filter.updateChild(f,b,y,or(e),u,o):t.eventCache.getNode().hasChild(b)?i.filter.updateChild(f,b,ii.EMPTY_NODE,or(e),u,o):f,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(l=PD(n,Iv(t)),l.isLeafNode()&&(p=i.filter.updateFullNode(p,l,o)))}return l=t.serverCache.isFullyInitialized()||null!=OD(n,Li()),hC(t,p,l,i.filter.filtersNodes())}}(i,t,p.path,n,r,o):function _7(i,t,e,n,r,o,l){if(null!=OD(r,e))return t;const u=t.serverCache.isFiltered(),f=t.serverCache;if(null!=n.value){if(_i(e)&&f.isFullyInitialized()||f.isCompleteForPath(e))return ND(i,t,e,f.getNode().getChild(e),r,o,u,l);if(_i(e)){let p=new fr(null);return f.getNode().forEachChild(ih,(b,y)=>{p=p.set(new Zi(b),y)}),IN(i,t,e,p,r,o,u,l)}return t}{let p=new fr(null);return n.foreach((b,y)=>{const x=kr(e,b);f.isCompleteForPath(x)&&(p=p.set(b,f.getNode().getChild(x)))}),IN(i,t,e,p,r,o,u,l)}}(i,t,p.path,p.affectedTree,n,r,o)}else{if(e.type!==rh.LISTEN_COMPLETE)throw(0,ee.g5)("Unknown operation type: "+e.type);l=function v7(i,t,e,n,r){const o=t.serverCache;return Mz(i,pz(t,o.getNode(),o.isFullyInitialized()||_i(e),o.isFiltered()),e,n,Cz,r)}(i,t,e.path,n,o)}const f=o.getChanges();return function p7(i,t,e){const n=t.eventCache;if(n.isFullyInitialized()){const r=n.getNode().isLeafNode()||n.getNode().isEmpty(),o=kD(i);(e.length>0||!i.eventCache.isFullyInitialized()||r&&!n.getNode().equals(o)||!n.getNode().getPriority().equals(o.getPriority()))&&e.push(uz(kD(t)))}}(t,l,f),{viewCache:l,changes:f}}(i.processor_,r,t,e,n);return function f7(i,t){(0,ee.hu)(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,ee.hu)(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}(i.processor_,o.viewCache),(0,ee.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=o.viewCache,kz(i,o.changes,o.viewCache.eventCache.getNode(),null)}function kz(i,t,e,n){return function $Z(i,t,e,n){const r=[],o=[];return t.forEach(l=>{"child_changed"===l.type&&i.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(function RZ(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}(l.childName,l.snapshotNode))}),uC(i,r,"child_removed",t,n,e),uC(i,r,"child_added",t,n,e),uC(i,r,"child_moved",o,n,e),uC(i,r,"child_changed",t,n,e),uC(i,r,"value",t,n,e),r}(i.eventGenerator_,t,e,n?[n]:i.eventRegistrations_)}let LD,UD;class Rz{constructor(){this.views=new Map}}function kN(i,t,e,n){const r=t.source.queryId;if(null!==r){const o=i.views.get(r);return(0,ee.hu)(null!=o,"SyncTree gave us an op for an invalid query."),Iz(o,t,e,n)}{let o=[];for(const l of i.views.values())o=o.concat(Iz(l,t,e,n));return o}}function Pz(i,t,e,n,r){const l=i.views.get(t._queryIdentifier);if(!l){let u=PD(e,r?n:null),f=!1;u?f=!0:n instanceof ii?(u=SN(e,n),f=!1):(u=ii.EMPTY_NODE,f=!1);const p=ID(new Fp(u,f,!1),new Fp(n,r,!1));return new y7(t,p)}return l}function Oz(i){const t=[];for(const e of i.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Bp(i,t){let e=null;for(const n of i.views.values())e=e||E7(n,t);return e}function Nz(i,t){return t._queryParams.loadsAllData()?FD(i):i.views.get(t._queryIdentifier)}function Lz(i,t){return null!=Nz(i,t)}function Vp(i){return null!=FD(i)}function FD(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let P7=1;class Fz{constructor(t){this.listenProvider_=t,this.syncPointTree_=new fr(null),this.pendingWriteTree_=function c7(){return{visibleWrites:Hd.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function RN(i,t,e,n,r){return function XZ(i,t,e,n,r){(0,ee.hu)(n>i.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),i.allWrites.push({path:t,snap:e,writeId:n,visible:r}),r&&(i.visibleWrites=fC(i.visibleWrites,t,e)),i.lastWriteId=n}(i.pendingWriteTree_,t,e,n,r),r?k0(i,new Dv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function zp(i,t,e=!1){const n=function QZ(i,t){for(let e=0;e<i.allWrites.length;e++){const n=i.allWrites[e];if(n.writeId===t)return n}return null}(i.pendingWriteTree_,t);if(function JZ(i,t){const e=i.allWrites.findIndex(u=>u.writeId===t);(0,ee.hu)(e>=0,"removeWrite called with nonexistent writeId.");const n=i.allWrites[e];i.allWrites.splice(e,1);let r=n.visible,o=!1,l=i.allWrites.length-1;for(;r&&l>=0;){const u=i.allWrites[l];u.visible&&(l>=e&&e7(u,n.path)?r=!1:Al(n.path,u.path)&&(o=!0)),l--}return!!r&&(o?(function t7(i){i.visibleWrites=bz(i.allWrites,n7,Li()),i.lastWriteId=i.allWrites.length>0?i.allWrites[i.allWrites.length-1].writeId:-1}(i),!0):(n.snap?i.visibleWrites=gz(i.visibleWrites,n.path):ys(n.children,f=>{i.visibleWrites=gz(i.visibleWrites,kr(n.path,f))}),!0))}(i.pendingWriteTree_,t)){let o=new fr(null);return null!=n.snap?o=o.set(Li(),!0):ys(n.children,l=>{o=o.set(new Zi(l),!0)}),k0(i,new DD(n.path,o,e))}return[]}function mC(i,t,e){return k0(i,new Dv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function BD(i,t,e,n,r=!1){const o=t._path,l=i.syncPointTree_.get(o);let u=[];if(l&&("default"===t._queryIdentifier||Lz(l,t))){const f=function I7(i,t,e,n){const r=t._queryIdentifier,o=[];let l=[];const u=Vp(i);if("default"===r)for(const[f,p]of i.views.entries())l=l.concat(Dz(p,e,n)),Az(p)&&(i.views.delete(f),p.query._queryParams.loadsAllData()||o.push(p.query));else{const f=i.views.get(r);f&&(l=l.concat(Dz(f,e,n)),Az(f)&&(i.views.delete(r),f.query._queryParams.loadsAllData()||o.push(f.query)))}return u&&!Vp(i)&&o.push(new(function T7(){return(0,ee.hu)(LD,"Reference.ts has not been loaded"),LD}())(t._repo,t._path)),{removed:o,events:l}}(l,t,e,n);(function A7(i){return 0===i.views.size})(l)&&(i.syncPointTree_=i.syncPointTree_.remove(o));const p=f.removed;if(u=f.events,!r){const b=-1!==p.findIndex(x=>x._queryParams.loadsAllData()),y=i.syncPointTree_.findOnPath(o,(x,M)=>Vp(M));if(b&&!y){const x=i.syncPointTree_.subtree(o);if(!x.isEmpty()){const M=function V7(i){return i.fold((t,e,n)=>{if(e&&Vp(e))return[FD(e)];{let r=[];return e&&(r=Oz(e)),ys(n,(o,l)=>{r=r.concat(l)}),r}})}(x);for(let A=0;A<M.length;++A){const R=M[A],I=R.query,k=zz(i,R);i.listenProvider_.startListening(gC(I),pC(i,I),k.hashFn,k.onComplete)}}}!y&&p.length>0&&!n&&(b?i.listenProvider_.stopListening(gC(t),null):p.forEach(x=>{const M=i.queryToTagMap.get(zD(x));i.listenProvider_.stopListening(gC(x),M)}))}!function z7(i,t){for(let e=0;e<t.length;++e){const n=t[e];if(!n._queryParams.loadsAllData()){const r=zD(n),o=i.queryToTagMap.get(r);i.queryToTagMap.delete(r),i.tagToQueryMap.delete(o)}}}(i,p)}return u}function Uz(i,t,e,n){const r=ON(i,n);if(null!=r){const o=NN(r),l=o.path,u=o.queryId,f=ma(l,t);return LN(i,l,new Dv(xN(u),f,e))}return[]}function PN(i,t,e,n=!1){const r=t._path;let o=null,l=!1;i.syncPointTree_.foreachOnPath(r,(x,M)=>{const A=ma(x,r);o=o||Bp(M,A),l=l||Vp(M)});let f,u=i.syncPointTree_.get(r);u?(l=l||Vp(u),o=o||Bp(u,Li())):(u=new Rz,i.syncPointTree_=i.syncPointTree_.set(r,u)),null!=o?f=!0:(f=!1,o=ii.EMPTY_NODE,i.syncPointTree_.subtree(r).foreachChild((M,A)=>{const R=Bp(A,Li());R&&(o=o.updateImmediateChild(M,R))}));const p=Lz(u,t);if(!p&&!t._queryParams.loadsAllData()){const x=zD(t);(0,ee.hu)(!i.queryToTagMap.has(x),"View does not exist, but we have a tag");const M=function H7(){return P7++}();i.queryToTagMap.set(x,M),i.tagToQueryMap.set(M,x)}let y=function D7(i,t,e,n,r,o){const l=Pz(i,t,n,r,o);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,l),function C7(i,t){i.eventRegistrations_.push(t)}(l,e),function M7(i,t){const e=i.viewCache_.eventCache,n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(hr,(o,l)=>{n.push(T0(o,l))}),e.isFullyInitialized()&&n.push(uz(e.getNode())),kz(i,n,e.getNode(),t)}(l,e)}(u,t,e,RD(i.pendingWriteTree_,r),o,f);if(!p&&!l&&!n){const x=Nz(u,t);y=y.concat(function G7(i,t,e){const n=t._path,r=pC(i,t),o=zz(i,e),l=i.listenProvider_.startListening(gC(t),r,o.hashFn,o.onComplete),u=i.syncPointTree_.subtree(n);if(r)(0,ee.hu)(!Vp(u.value),"If we're adding a query, it shouldn't be shadowed");else{const f=u.fold((p,b,y)=>{if(!_i(p)&&b&&Vp(b))return[FD(b).query];{let x=[];return b&&(x=x.concat(Oz(b).map(M=>M.query))),ys(y,(M,A)=>{x=x.concat(A)}),x}});for(let p=0;p<f.length;++p){const b=f[p];i.listenProvider_.stopListening(gC(b),pC(i,b))}}return l}(i,t,x))}return y}function VD(i,t,e){const r=i.pendingWriteTree_,o=i.syncPointTree_.findOnPath(t,(l,u)=>{const p=Bp(u,ma(l,t));if(p)return p});return yz(r,t,o,e,!0)}function k0(i,t){return Bz(t,i.syncPointTree_,null,RD(i.pendingWriteTree_,Li()))}function Bz(i,t,e,n){if(_i(i.path))return Vz(i,t,e,n);{const r=t.get(Li());null==e&&null!=r&&(e=Bp(r,Li()));let o=[];const l=gi(i.path),u=i.operationForChild(l),f=t.children.get(l);if(f&&u){const p=e?e.getImmediateChild(l):null,b=wz(n,l);o=o.concat(Bz(u,f,p,b))}return r&&(o=o.concat(kN(r,i,n,e))),o}}function Vz(i,t,e,n){const r=t.get(Li());null==e&&null!=r&&(e=Bp(r,Li()));let o=[];return t.children.inorderTraversal((l,u)=>{const f=e?e.getImmediateChild(l):null,p=wz(n,l),b=i.operationForChild(l);b&&(o=o.concat(Vz(b,u,f,p)))}),r&&(o=o.concat(kN(r,i,n,e))),o}function zz(i,t){const e=t.query,n=pC(i,e);return{hashFn:()=>(function x7(i){return i.viewCache_.serverCache.getNode()}(t)||ii.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return n?function F7(i,t,e){const n=ON(i,e);if(n){const r=NN(n),o=r.path,l=r.queryId,u=ma(o,t);return LN(i,o,new dC(xN(l),u))}return[]}(i,e._path,n):function L7(i,t){return k0(i,new dC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(i,e._path);{const o=function Nq(i,t){let e="Unknown Error";"too_big"===i?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===i?e="Client doesn't have permission to access the desired data.":"unavailable"===i&&(e="The service is unavailable");const n=new Error(i+" at "+t._path.toString()+": "+e);return n.code=i.toUpperCase(),n}(r,e);return BD(i,e,null,o)}}}}function pC(i,t){const e=zD(t);return i.queryToTagMap.get(e)}function zD(i){return i._path.toString()+"$"+i._queryIdentifier}function ON(i,t){return i.tagToQueryMap.get(t)}function NN(i){const t=i.indexOf("$");return(0,ee.hu)(-1!==t&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new Zi(i.substr(0,t))}}function LN(i,t,e){const n=i.syncPointTree_.get(t);return(0,ee.hu)(n,"Missing sync point for query tag that we're tracking"),kN(n,e,RD(i.pendingWriteTree_,t),null)}function gC(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(function R7(){return(0,ee.hu)(UD,"Reference.ts has not been loaded"),UD}())(i._repo,i._path):i}class FN{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new FN(e)}node(){return this.node_}}class UN{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=kr(this.path_,t);return new UN(this.syncTree_,e)}node(){return VD(this.syncTree_,this.path_)}}const W7=function(i){return(i=i||{}).timestamp=i.timestamp||(new Date).getTime(),i},Hz=function(i,t,e){return i&&"object"==typeof i?((0,ee.hu)(".sv"in i,"Unexpected leaf node or priority contents"),"string"==typeof i[".sv"]?j7(i[".sv"],t,e):"object"==typeof i[".sv"]?$7(i[".sv"],t):void(0,ee.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2))):i},j7=function(i,t,e){if("timestamp"===i)return e.timestamp;(0,ee.hu)(!1,"Unexpected server value: "+i)},$7=function(i,t,e){i.hasOwnProperty("increment")||(0,ee.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const n=i.increment;"number"!=typeof n&&(0,ee.hu)(!1,"Unexpected increment value: "+n);const r=t.node();if((0,ee.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return n;const l=r.getValue();return"number"!=typeof l?n:l+n},Gz=function(i,t,e,n){return VN(t,new UN(e,i),n)},BN=function(i,t,e){return VN(i,new FN(t),e)};function VN(i,t,e){const n=i.getPriority().val(),r=Hz(n,t.getImmediateChild(".priority"),e);let o;if(i.isLeafNode()){const l=i,u=Hz(l.getValue(),t,e);return u!==l.getValue()||r!==l.getPriority().val()?new M0(u,$r(r)):i}{const l=i;return o=l,r!==l.getPriority().val()&&(o=o.updatePriority(new M0(r))),l.forEachChild(hr,(u,f)=>{const p=VN(f,t.getImmediateChild(u),e);p!==f&&(o=o.updateImmediateChild(u,p))}),o}}class zN{constructor(t="",e=null,n={children:{},childCount:0}){this.name=t,this.parent=e,this.node=n}}function HD(i,t){let e=t instanceof Zi?t:new Zi(t),n=i,r=gi(e);for(;null!==r;){const o=(0,ee.DV)(n.node.children,r)||{children:{},childCount:0};n=new zN(r,n,o),e=or(e),r=gi(e)}return n}function Rv(i){return i.node.value}function HN(i,t){i.node.value=t,GN(i)}function Wz(i){return i.node.childCount>0}function GD(i,t){ys(i.node.children,(e,n)=>{t(new zN(e,i,n))})}function jz(i,t,e,n){e&&!n&&t(i),GD(i,r=>{jz(r,t,!0,n)}),e&&n&&t(i)}function _C(i){return new Zi(null===i.parent?i.name:_C(i.parent)+"/"+i.name)}function GN(i){null!==i.parent&&function Z7(i,t,e){const n=function Y7(i){return void 0===Rv(i)&&!Wz(i)}(e),r=(0,ee.r3)(i.node.children,t);n&&r?(delete i.node.children[t],i.node.childCount--,GN(i)):!n&&!r&&(i.node.children[t]=e.node,i.node.childCount++,GN(i))}(i.parent,i.name,i)}const X7=/[\[\].#$\/\u0000-\u001F\u007F]/,K7=/[\[\].#$\u0000-\u001F\u007F]/,WN=10485760,WD=function(i){return"string"==typeof i&&0!==i.length&&!X7.test(i)},$z=function(i){return"string"==typeof i&&0!==i.length&&!K7.test(i)},vC=function(i){return null===i||"string"==typeof i||"number"==typeof i&&!_D(i)||i&&"object"==typeof i&&(0,ee.r3)(i,".sv")},oh=function(i,t,e,n){n&&void 0===t||bC((0,ee.gK)(i,"value"),t,e)},bC=function(i,t,e){const n=e instanceof Zi?new mZ(e,i):e;if(void 0===t)throw new Error(i+"contains undefined "+Tv(n));if("function"==typeof t)throw new Error(i+"contains a function "+Tv(n)+" with contents = "+t.toString());if(_D(t))throw new Error(i+"contains "+t.toString()+" "+Tv(n));if("string"==typeof t&&t.length>WN/3&&(0,ee.ug)(t)>WN)throw new Error(i+"contains a string greater than "+WN+" utf8 bytes "+Tv(n)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(ys(t,(l,u)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(o=!0,!WD(l)))throw new Error(i+" contains an invalid key ("+l+") "+Tv(n)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function pZ(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=(0,ee.ug)(t),nz(i)})(n,l),bC(i,u,n),function gZ(i){const t=i.parts_.pop();i.byteLength_-=(0,ee.ug)(t),i.parts_.length>0&&(i.byteLength_-=1)}(n)}),r&&o)throw new Error(i+' contains ".value" child '+Tv(n)+" in addition to actual children.")}},Yz=function(i,t,e,n){if(n&&void 0===t)return;const r=(0,ee.gK)(i,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];ys(t,(l,u)=>{const f=new Zi(l);if(bC(r,u,kr(e,f)),".priority"===sN(f)&&!vC(u))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(f)}),function(i,t){let e,n;for(e=0;e<t.length;e++){n=t[e];const o=iC(n);for(let l=0;l<o.length;l++)if((".priority"!==o[l]||l!==o.length-1)&&!WD(o[l]))throw new Error(i+"contains an invalid key ("+o[l]+") in path "+n.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(fZ);let r=null;for(e=0;e<t.length;e++){if(n=t[e],null!==r&&Al(r,n))throw new Error(i+"contains a path "+r.toString()+" that is ancestor of another path "+n.toString());r=n}}(r,o)},jN=function(i,t,e){if(!e||void 0!==t){if(_D(t))throw new Error((0,ee.gK)(i,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!vC(t))throw new Error((0,ee.gK)(i,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},yC=function(i,t,e,n){if(!(n&&void 0===e||WD(e)))throw new Error((0,ee.gK)(i,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},xC=function(i,t,e,n){if(!(n&&void 0===e||$z(e)))throw new Error((0,ee.gK)(i,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},e9=function(i,t,e,n){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),xC(i,t,e,n)},Dl=function(i,t){if(".info"===gi(t))throw new Error(i+" failed = Can't modify data under /.info/")},qz=function(i,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!WD(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),$z(i)}(e))throw new Error((0,ee.gK)(i,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class t9{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function jD(i,t){let e=null;for(let n=0;n<t.length;n++){const r=t[n],o=r.getPath();null!==e&&!aN(o,e.path)&&(i.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&i.eventLists_.push(e)}function Zz(i,t,e){jD(i,e),Xz(i,n=>aN(n,t))}function zc(i,t,e){jD(i,e),Xz(i,n=>Al(n,t)||Al(t,n))}function Xz(i,t){i.recursionDepth_++;let e=!0;for(let n=0;n<i.eventLists_.length;n++){const r=i.eventLists_[n];r&&(t(r.path)?(n9(i.eventLists_[n]),i.eventLists_[n]=null):e=!1)}e&&(i.eventLists_=[]),i.recursionDepth_--}function n9(i){for(let t=0;t<i.events.length;t++){const e=i.events[t];if(null!==e){i.events[t]=null;const n=e.getEventRunner();Mv&&bs("event: "+e.toString()),E0(n)}}}const Kz="repo_interrupt",i9=25;class r9{constructor(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new t9,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=AD(),this.transactionQueueTree_=new zN,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Qz(i){const e=i.infoData_.getNode(new Zi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function wC(i){return W7({timestamp:Qz(i)})}function Jz(i,t,e,n,r){i.dataUpdateCount++;const o=new Zi(t);e=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,e):e;let l=[];if(r)if(n){const f=(0,ee.UI)(e,p=>$r(p));l=function U7(i,t,e,n){const r=ON(i,n);if(r){const o=NN(r),l=o.path,u=o.queryId,f=ma(l,t),p=fr.fromObject(e);return LN(i,l,new D0(xN(u),f,p))}return[]}(i.serverSyncTree_,o,f,r)}else{const f=$r(e);l=Uz(i.serverSyncTree_,o,f,r)}else if(n){const f=(0,ee.UI)(e,p=>$r(p));l=function N7(i,t,e){const n=fr.fromObject(e);return k0(i,new D0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}(i.serverSyncTree_,o,f)}else{const f=$r(e);l=mC(i.serverSyncTree_,o,f)}let u=o;l.length>0&&(u=P0(i,o)),zc(i.eventQueue_,u,l)}function eH(i,t){$N(i,"connected",t),!1===t&&function l9(i){R0(i,"onDisconnectEvents");const t=wC(i),e=AD();vN(i.onDisconnect_,Li(),(r,o)=>{const l=Gz(r,o,i.serverSyncTree_,t);A0(e,r,l)});let n=[];vN(e,Li(),(r,o)=>{n=n.concat(mC(i.serverSyncTree_,r,o));const l=XN(i,r);P0(i,l)}),i.onDisconnect_=AD(),zc(i.eventQueue_,Li(),n)}(i)}function $N(i,t,e){const n=new Zi("/.info/"+t),r=$r(e);i.infoData_.updateSnapshot(n,r);const o=mC(i.infoSyncTree_,n,r);zc(i.eventQueue_,n,o)}function $D(i){return i.nextWriteId_++}function YN(i,t,e,n,r){R0(i,"set",{path:t.toString(),value:e,priority:n});const o=wC(i),l=$r(e,n),u=VD(i.serverSyncTree_,t),f=BN(l,u,o),p=$D(i),b=RN(i.serverSyncTree_,t,f,p,!0);jD(i.eventQueue_,b),i.server_.put(t.toString(),l.val(!0),(x,M)=>{const A="ok"===x;A||Ks("set at "+t+" failed: "+x);const R=zp(i.serverSyncTree_,p,!A);zc(i.eventQueue_,t,R),Hp(0,r,x,M)});const y=XN(i,t);P0(i,y),zc(i.eventQueue_,y,[])}function d9(i,t,e){i.server_.onDisconnectCancel(t.toString(),(n,r)=>{"ok"===n&&_N(i.onDisconnect_,t),Hp(0,e,n,r)})}function tH(i,t,e,n){const r=$r(e);i.server_.onDisconnectPut(t.toString(),r.val(!0),(o,l)=>{"ok"===o&&A0(i.onDisconnect_,t,r),Hp(0,n,o,l)})}function qN(i,t,e){let n;n=".info"===gi(t._path)?BD(i.infoSyncTree_,t,e):BD(i.serverSyncTree_,t,e),Zz(i.eventQueue_,t._path,n)}function nH(i){i.persistentConnection_&&i.persistentConnection_.interrupt(Kz)}function R0(i,...t){let e="";i.persistentConnection_&&(e=i.persistentConnection_.id+":"),bs(e,...t)}function Hp(i,t,e,n){t&&E0(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;n&&(o+=": "+n);const l=new Error(o);l.code=r,t(l)}})}function ZN(i,t,e){return VD(i.serverSyncTree_,t,e)||ii.EMPTY_NODE}function YD(i,t=i.transactionQueueTree_){if(t||qD(i,t),Rv(t)){const e=rH(i,t);(0,ee.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function g9(i,t,e){const n=e.map(p=>p.currentWriteId),r=ZN(i,t,n);let o=r;const l=r.hash();for(let p=0;p<e.length;p++){const b=e[p];(0,ee.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const y=ma(t,b.path);o=o.updateChild(y,b.currentOutputSnapshotRaw)}const u=o.val(!0),f=t;i.server_.put(f.toString(),u,p=>{R0(i,"transaction put response",{path:f.toString(),status:p});let b=[];if("ok"===p){const y=[];for(let x=0;x<e.length;x++)e[x].status=2,b=b.concat(zp(i.serverSyncTree_,e[x].currentWriteId)),e[x].onComplete&&y.push(()=>e[x].onComplete(null,!0,e[x].currentOutputSnapshotResolved)),e[x].unwatcher();qD(i,HD(i.transactionQueueTree_,t)),YD(i,i.transactionQueueTree_),zc(i.eventQueue_,t,b);for(let x=0;x<y.length;x++)E0(y[x])}else{if("datastale"===p)for(let y=0;y<e.length;y++)e[y].status=3===e[y].status?4:0;else{Ks("transaction at "+f.toString()+" failed: "+p);for(let y=0;y<e.length;y++)e[y].status=4,e[y].abortReason=p}P0(i,t)}},l)}(i,_C(t),e)}else Wz(t)&&GD(t,e=>{YD(i,e)})}function P0(i,t){const e=iH(i,t),n=_C(e);return function _9(i,t,e){if(0===t.length)return;const n=[];let r=[];const l=t.filter(u=>0===u.status).map(u=>u.currentWriteId);for(let u=0;u<t.length;u++){const f=t[u],p=ma(e,f.path);let y,b=!1;if((0,ee.hu)(null!==p,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)b=!0,y=f.abortReason,r=r.concat(zp(i.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=i9)b=!0,y="maxretry",r=r.concat(zp(i.serverSyncTree_,f.currentWriteId,!0));else{const x=ZN(i,f.path,l);f.currentInputSnapshot=x;const M=t[u].update(x.val());if(void 0!==M){bC("transaction failed: Data returned ",M,f.path);let A=$r(M);"object"==typeof M&&null!=M&&(0,ee.r3)(M,".priority")||(A=A.updatePriority(x.getPriority()));const I=f.currentWriteId,k=wC(i),U=BN(A,x,k);f.currentOutputSnapshotRaw=A,f.currentOutputSnapshotResolved=U,f.currentWriteId=$D(i),l.splice(l.indexOf(I),1),r=r.concat(RN(i.serverSyncTree_,f.path,U,f.currentWriteId,f.applyLocally)),r=r.concat(zp(i.serverSyncTree_,I,!0))}else b=!0,y="nodata",r=r.concat(zp(i.serverSyncTree_,f.currentWriteId,!0))}zc(i.eventQueue_,e,r),r=[],b&&(t[u].status=2,setTimeout(t[u].unwatcher,Math.floor(0)),t[u].onComplete&&n.push("nodata"===y?()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot):()=>t[u].onComplete(new Error(y),!1,null)))}qD(i,i.transactionQueueTree_);for(let u=0;u<n.length;u++)E0(n[u]);YD(i,i.transactionQueueTree_)}(i,rH(i,e),n),n}function iH(i,t){let e,n=i.transactionQueueTree_;for(e=gi(t);null!==e&&void 0===Rv(n);)n=HD(n,e),e=gi(t=or(t));return n}function rH(i,t){const e=[];return oH(i,t,e),e.sort((n,r)=>n.order-r.order),e}function oH(i,t,e){const n=Rv(t);if(n)for(let r=0;r<n.length;r++)e.push(n[r]);GD(t,r=>{oH(i,r,e)})}function qD(i,t){const e=Rv(t);if(e){let n=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[n]=e[r],n++);e.length=n,HN(t,e.length>0?e:void 0)}GD(t,n=>{qD(i,n)})}function XN(i,t){const e=_C(iH(i,t)),n=HD(i.transactionQueueTree_,t);return function q7(i,t,e){let n=e?i:i.parent;for(;null!==n;){if(t(n))return!0;n=n.parent}}(n,r=>{KN(i,r)}),KN(i,n),jz(n,r=>{KN(i,r)}),e}function KN(i,t){const e=Rv(t);if(e){const n=[];let r=[],o=-1;for(let l=0;l<e.length;l++)3===e[l].status||(1===e[l].status?((0,ee.hu)(o===l-1,"All SENT items should be at beginning of queue."),o=l,e[l].status=3,e[l].abortReason="set"):((0,ee.hu)(0===e[l].status,"Unexpected transaction status in abort"),e[l].unwatcher(),r=r.concat(zp(i.serverSyncTree_,e[l].currentWriteId,!0)),e[l].onComplete&&n.push(e[l].onComplete.bind(null,new Error("set"),!1,null))));-1===o?HN(t,void 0):e.length=o+1,zc(i.eventQueue_,_C(t),r);for(let l=0;l<n.length;l++)E0(n[l])}}const QN=function(i,t){const e=y9(i),n=e.namespace;return"firebase.com"===e.domain&&nh(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||"undefined"===n)&&"localhost"!==e.domain&&nh("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ks("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new eN(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme,t,"",n!==e.subdomain),path:new Zi(e.pathString)}},y9=function(i){let t="",e="",n="",r="",o="",l=!0,u="https",f=443;if("string"==typeof i){let p=i.indexOf("//");p>=0&&(u=i.substring(0,p-1),i=i.substring(p+2));let b=i.indexOf("/");-1===b&&(b=i.length);let y=i.indexOf("?");-1===y&&(y=i.length),t=i.substring(0,Math.min(b,y)),b<y&&(r=function v9(i){let t="";const e=i.split("/");for(let n=0;n<e.length;n++)if(e[n].length>0){let r=e[n];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(i.substring(b,y)));const x=function b9(i){const t={};"?"===i.charAt(0)&&(i=i.substring(1));for(const e of i.split("&")){if(0===e.length)continue;const n=e.split("=");2===n.length?t[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):Ks(`Invalid query segment '${e}' in query '${i}'`)}return t}(i.substring(Math.min(i.length,y)));p=t.indexOf(":"),p>=0?(l="https"===u||"wss"===u,f=parseInt(t.substring(p+1),10)):p=t.length;const M=t.slice(0,p);if("localhost"===M.toLowerCase())e="localhost";else if(M.split(".").length<=2)e=M;else{const A=t.indexOf(".");n=t.substring(0,A).toLowerCase(),e=t.substring(A+1),o=n}"ns"in x&&(o=x.ns)}return{host:t,port:f,domain:e,subdomain:n,secure:l,scheme:u,pathString:r,namespace:o}},sH="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",x9=function(){let i=0;const t=[];return function(e){const n=e===i;let r;i=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=sH.charAt(e%64),e=Math.floor(e/64);(0,ee.hu)(0===e,"Cannot push at time == 0");let l=o.join("");if(n){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)l+=sH.charAt(t[r]);return(0,ee.hu)(20===l.length,"nextPushId: Length should be 20."),l}}();class aH{constructor(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ee.Wl)(this.snapshot.exportVal())}}class cH{constructor(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class JN{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,ee.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class lH{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new ee.BH;return d9(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Dl("OnDisconnect.remove",this._path);const t=new ee.BH;return tH(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Dl("OnDisconnect.set",this._path),oh("OnDisconnect.set",t,this._path,!1);const e=new ee.BH;return tH(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Dl("OnDisconnect.setWithPriority",this._path),oh("OnDisconnect.setWithPriority",t,this._path,!1),jN("OnDisconnect.setWithPriority",e,!1);const n=new ee.BH;return function u9(i,t,e,n,r){const o=$r(e,n);i.server_.onDisconnectPut(t.toString(),o.val(!0),(l,u)=>{"ok"===l&&A0(i.onDisconnect_,t,o),Hp(0,r,l,u)})}(this._repo,this._path,t,e,n.wrapCallback(()=>{})),n.promise}update(t){Dl("OnDisconnect.update",this._path),Yz("OnDisconnect.update",t,this._path,!1);const e=new ee.BH;return function h9(i,t,e,n){if((0,ee.xb)(e))return bs("onDisconnect().update() called with empty data.  Don't do anything."),void Hp(0,n,"ok",void 0);i.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&ys(e,(l,u)=>{const f=$r(u);A0(i.onDisconnect_,kr(t,l),f)}),Hp(0,n,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Ya{constructor(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}get key(){return _i(this._path)?null:sN(this._path)}get ref(){return new Il(this._repo,this._path)}get _queryIdentifier(){const t=fz(this._queryParams),e=QO(t);return"{}"===e?"default":e}get _queryObject(){return fz(this._queryParams)}isEqual(t){if(!((t=(0,ee.m9)(t))instanceof Ya))return!1;const e=this._repo===t._repo,n=aN(this._path,t._path);return e&&n&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function hZ(i){let t="";for(let e=i.pieceNum_;e<i.pieces_.length;e++)""!==i.pieces_[e]&&(t+="/"+encodeURIComponent(String(i.pieces_[e])));return t||"/"}(this._path)}}function ZD(i,t){if(!0===i._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Gp(i){let t=null,e=null;if(i.hasStart()&&(t=i.getIndexStartValue()),i.hasEnd()&&(e=i.getIndexEndValue()),i.getIndex()===ih){const n="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(i.hasStart()){if(i.getIndexStartName()!==Op)throw new Error(n);if("string"!=typeof t)throw new Error(r)}if(i.hasEnd()){if(i.getIndexEndName()!==Of)throw new Error(n);if("string"!=typeof e)throw new Error(r)}}else if(i.getIndex()===hr){if(null!=t&&!vC(t)||null!=e&&!vC(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ee.hu)(i.getIndex()instanceof hN||i.getIndex()===fN,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function XD(i){if(i.hasStart()&&i.hasEnd()&&i.hasLimit()&&!i.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Il extends Ya{constructor(t,e){super(t,e,new MD,!1)}get parent(){const t=tz(this._path);return null===t?null:new Il(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Pv{constructor(t,e,n){this._node=t,this.ref=e,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Zi(t),n=Ov(this.ref,t);return new Pv(this._node.getChild(e),n,hr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(n,r)=>t(new Pv(r,Ov(this.ref,n),hr)))}hasChild(t){const e=new Zi(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function dH(i,t){return(i=(0,ee.m9)(i))._checkNotDeleted("ref"),void 0!==t?Ov(i._root,t):i._root}function uH(i,t){(i=(0,ee.m9)(i))._checkNotDeleted("refFromURL");const e=QN(t,i._repo.repoInfo_.nodeAdmin);qz("refFromURL",e);const n=e.repoInfo;return!i._repo.repoInfo_.isCustomHost()&&n.host!==i._repo.repoInfo_.host&&nh("refFromURL: Host name does not match the current database: (found "+n.host+" but expected "+i._repo.repoInfo_.host+")"),dH(i,e.path.toString())}function Ov(i,t){return null===gi((i=(0,ee.m9)(i))._path)?e9("child","path",t,!1):xC("child","path",t,!1),new Il(i._repo,kr(i._path,t))}function eL(i,t){i=(0,ee.m9)(i),Dl("set",i._path),oh("set",t,i._path,!1);const e=new ee.BH;return YN(i._repo,i._path,t,null,e.wrapCallback(()=>{})),e.promise}function S9(i,t){Yz("update",t,i._path,!1);const e=new ee.BH;return function c9(i,t,e,n){R0(i,"update",{path:t.toString(),value:e});let r=!0;const o=wC(i),l={};if(ys(e,(u,f)=>{r=!1,l[u]=Gz(kr(t,u),$r(f),i.serverSyncTree_,o)}),r)bs("update() called with empty data.  Don't do anything."),Hp(0,n,"ok",void 0);else{const u=$D(i),f=function O7(i,t,e,n){!function KZ(i,t,e,n){(0,ee.hu)(n>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:e,writeId:n,visible:!0}),i.visibleWrites=EN(i.visibleWrites,t,e),i.lastWriteId=n}(i.pendingWriteTree_,t,e,n);const r=fr.fromObject(e);return k0(i,new D0({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(i.serverSyncTree_,t,l,u);jD(i.eventQueue_,f),i.server_.merge(t.toString(),e,(p,b)=>{const y="ok"===p;y||Ks("update at "+t+" failed: "+p);const x=zp(i.serverSyncTree_,u,!y),M=x.length>0?P0(i,t):t;zc(i.eventQueue_,M,x),Hp(0,n,p,b)}),ys(e,p=>{const b=XN(i,kr(t,p));P0(i,b)}),zc(i.eventQueue_,t,[])}}(i._repo,i._path,t,e.wrapCallback(()=>{})),e.promise}function T9(i){i=(0,ee.m9)(i);const t=new JN(()=>{}),e=new EC(t);return function a9(i,t,e){const n=function B7(i,t){const e=t._path;let n=null;i.syncPointTree_.foreachOnPath(e,(p,b)=>{const y=ma(p,e);n=n||Bp(b,y)});let r=i.syncPointTree_.get(e);r?n=n||Bp(r,Li()):(r=new Rz,i.syncPointTree_=i.syncPointTree_.set(e,r));const o=null!=n,l=o?new Fp(n,!0,!1):null;return function w7(i){return kD(i.viewCache_)}(Pz(r,t,RD(i.pendingWriteTree_,t._path),o?l.getNode():ii.EMPTY_NODE,o))}(i.serverSyncTree_,t);return null!=n?Promise.resolve(n):i.server_.get(t).then(r=>{const o=$r(r).withIndex(t._queryParams.getIndex());let l;if(PN(i.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())l=mC(i.serverSyncTree_,t._path,o);else{const u=pC(i.serverSyncTree_,t);l=Uz(i.serverSyncTree_,t._path,o,u)}return zc(i.eventQueue_,t._path,l),BD(i.serverSyncTree_,t,e,null,!0),o},r=>(R0(i,"get for query "+(0,ee.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(i._repo,i,e).then(n=>new Pv(n,new Il(i._repo,i._path),i._queryParams.getIndex()))}class EC{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const n=e._queryParams.getIndex();return new aH("value",this,new Pv(t.snapshotNode,new Il(e._repo,e._path),n))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new cH(this,t,e):null}matches(t){return t instanceof EC&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class KD{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new cH(this,t,e):null}createEvent(t,e){(0,ee.hu)(null!=t.childName,"Child events should have a childName.");const n=Ov(new Il(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new aH(t.type,this,new Pv(t.snapshotNode,n,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof KD&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function CC(i,t,e,n,r){let o;if("object"==typeof n&&(o=void 0,r=n),"function"==typeof n&&(o=n),r&&r.onlyOnce){const f=e,p=(b,y)=>{qN(i._repo,i,u),f(b,y)};p.userCallback=e.userCallback,p.context=e.context,e=p}const l=new JN(e,o||void 0),u="value"===t?new EC(l):new KD(t,l);return function f9(i,t,e){let n;n=".info"===gi(t._path)?PN(i.infoSyncTree_,t,e):PN(i.serverSyncTree_,t,e),Zz(i.eventQueue_,t._path,n)}(i._repo,i,u),()=>qN(i._repo,i,u)}function tL(i,t,e,n){return CC(i,"value",t,e,n)}function hH(i,t,e,n){return CC(i,"child_added",t,e,n)}function fH(i,t,e,n){return CC(i,"child_changed",t,e,n)}function mH(i,t,e,n){return CC(i,"child_moved",t,e,n)}function pH(i,t,e,n){return CC(i,"child_removed",t,e,n)}function gH(i,t,e){let n=null;const r=e?new JN(e):null;"value"===t?n=new EC(r):t&&(n=new KD(t,r)),qN(i._repo,i,n)}class Gd{}class _H extends Gd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){oh("endAt",this._value,t._path,!0);const e=gN(t._queryParams,this._value,this._key);if(XD(e),Gp(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ya(t._repo,t._path,e,t._orderByCalled)}}class D9 extends Gd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){oh("endBefore",this._value,t._path,!1);const e=function UZ(i,t,e){let n;return n=gN(i,t,i.index_===ih||e?e:Op),n.endBeforeSet_=!0,n}(t._queryParams,this._value,this._key);if(XD(e),Gp(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ya(t._repo,t._path,e,t._orderByCalled)}}class vH extends Gd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){oh("startAt",this._value,t._path,!0);const e=pN(t._queryParams,this._value,this._key);if(XD(e),Gp(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ya(t._repo,t._path,e,t._orderByCalled)}}class R9 extends Gd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){oh("startAfter",this._value,t._path,!1);const e=function FZ(i,t,e){let n;return n=pN(i,t,i.index_===ih||e?e:Of),n.startAfterSet_=!0,n}(t._queryParams,this._value,this._key);if(XD(e),Gp(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ya(t._repo,t._path,e,t._orderByCalled)}}class O9 extends Gd{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ya(t._repo,t._path,function NZ(i,t){const e=i.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class L9 extends Gd{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ya(t._repo,t._path,function LZ(i,t){const e=i.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class U9 extends Gd{constructor(t){super(),this._path=t}_apply(t){ZD(t,"orderByChild");const e=new Zi(this._path);if(_i(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new hN(e),r=SD(t._queryParams,n);return Gp(r),new Ya(t._repo,t._path,r,!0)}}class V9 extends Gd{_apply(t){ZD(t,"orderByKey");const e=SD(t._queryParams,ih);return Gp(e),new Ya(t._repo,t._path,e,!0)}}class H9 extends Gd{_apply(t){ZD(t,"orderByPriority");const e=SD(t._queryParams,hr);return Gp(e),new Ya(t._repo,t._path,e,!0)}}class W9 extends Gd{_apply(t){ZD(t,"orderByValue");const e=SD(t._queryParams,fN);return Gp(e),new Ya(t._repo,t._path,e,!0)}}class $9 extends Gd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(oh("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new _H(this._value,this._key)._apply(new vH(this._value,this._key)._apply(t))}}function Wd(i,...t){let e=(0,ee.m9)(i);for(const n of t)e=n._apply(e);return e}(function S7(i){(0,ee.hu)(!LD,"__referenceConstructor has already been defined"),LD=i})(Il),function k7(i){(0,ee.hu)(!UD,"__referenceConstructor has already been defined"),UD=i}(Il);const nL={};function yH(i,t,e,n,r){let o=n||i.options.databaseURL;void 0===o&&(i.options.projectId||nh("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),bs("Using default host for project ",i.options.projectId),o=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f,p,l=QN(o,r),u=l.repoInfo;typeof process<"u"&&process.env&&(p=process.env.FIREBASE_DATABASE_EMULATOR_HOST),p?(f=!0,o=`http://${p}?ns=${u.namespace}`,l=QN(o,r),u=l.repoInfo):f=!l.repoInfo.secure;const b=r&&f?new nC(nC.OWNER):new zq(i.name,i.options,t);qz("Invalid Firebase Database URL",l),_i(l.path)||nh("Database URL must point to the root of a Firebase Database (not including a child path).");const y=function K9(i,t,e,n){let r=nL[t.name];r||(r={},nL[t.name]=r);let o=r[i.toURLString()];return o&&nh("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new r9(i,false,e,n),r[i.toURLString()]=o,o}(u,i,b,new Vq(i.name,e));return new J9(y,i)}class J9{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function o9(i,t,e){if(i.stats_=iN(i.repoInfo_),i.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)i.server_=new TD(i.repoInfo_,(n,r,o,l)=>{Jz(i,n,r,o,l)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>eH(i,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ee.Wl)(e)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}i.persistentConnection_=new Av(i.repoInfo_,t,(n,r,o,l)=>{Jz(i,n,r,o,l)},n=>{eH(i,n)},n=>{!function s9(i,t){ys(t,(e,n)=>{$N(i,e,n)})}(i,n)},i.authTokenProvider_,i.appCheckProvider_,e),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(n=>{i.server_.refreshAuthToken(n)}),i.appCheckProvider_.addTokenChangeListener(n=>{i.server_.refreshAppCheckToken(n.token)}),i.statsReporter_=function Wq(i,t){const e=i.toString();return nN[e]||(nN[e]=t()),nN[e]}(i.repoInfo_,()=>new WZ(i.stats_,i.server_)),i.infoData_=new BZ,i.infoSyncTree_=new Fz({startListening:(n,r,o,l)=>{let u=[];const f=i.infoData_.getNode(n._path);return f.isEmpty()||(u=mC(i.infoSyncTree_,n._path,f),setTimeout(()=>{l("ok")},0)),u},stopListening:()=>{}}),$N(i,"connected",!1),i.serverSyncTree_=new Fz({startListening:(n,r,o,l)=>(i.server_.listen(n,o,r,(u,f)=>{const p=l(u,f);zc(i.eventQueue_,n._path,p)}),[]),stopListening:(n,r)=>{i.server_.unlisten(n,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Il(this._repo,Li())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function X9(i,t){const e=nL[t];(!e||e[i.key]!==i)&&nh(`Database ${t}(${i.repoInfo_}) has already been deleted.`),nH(i),delete e[i.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&nh("Cannot call "+t+" on a deleted database.")}}function xH(){GV.IS_TRANSPORT_INITIALIZED&&Ks("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function eX(){xH(),Np.forceDisallow()}function tX(){xH(),C0.forceDisallow(),Np.forceAllow()}function rX(i,t){EV(i,t)}const sX={".sv":"timestamp"};class lX{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Av.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)},Av.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)},function oX(i){vV(Ev.SDK_VERSION),(0,Ev._registerComponent)(new wv.wA("database",(t,{instanceIdentifier:e})=>yH(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Ev.registerVersion)(gV,"0.14.4",i),(0,Ev.registerVersion)(gV,"0.14.4","esm2017")}();const fX=new gD.Yd("@firebase/database-compat"),EH=function(i){fX.warn("FIREBASE WARNING: "+i)};class gX{constructor(t){this._delegate=t}cancel(t){(0,ee.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ee.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),n=>t(n)),e}remove(t){(0,ee.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ee.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),n=>t(n)),e}set(t,e){(0,ee.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ee.Wj)("OnDisconnect.set","onComplete",e,!0);const n=this._delegate.set(t);return e&&n.then(()=>e(null),r=>e(r)),n}setWithPriority(t,e,n){(0,ee.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ee.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(t,e);return n&&r.then(()=>n(null),o=>n(o)),r}update(t,e){if((0,ee.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,EH("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ee.Wj)("OnDisconnect.update","onComplete",e,!0);const n=this._delegate.update(t);return e&&n.then(()=>e(null),r=>e(r)),n}}class _X{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,ee.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Wp{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,ee.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ee.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ee.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ee.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,ee.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),xC("DataSnapshot.child","path",t,!1),new Wp(this._database,this._delegate.child(t))}hasChild(t){return(0,ee.Dv)("DataSnapshot.hasChild",1,1,arguments.length),xC("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,ee.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,ee.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ee.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Wp(this._database,e)))}hasChildren(){return(0,ee.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ee.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ee.Dv)("DataSnapshot.ref",0,0,arguments.length),new Hc(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ks{constructor(t,e){this.database=t,this._delegate=e}on(t,e,n,r){var o;(0,ee.Dv)("Query.on",2,4,arguments.length),(0,ee.Wj)("Query.on","callback",e,!1);const l=ks.getCancelAndContextArgs_("Query.on",n,r),u=(p,b)=>{e.call(l.context,new Wp(this.database,p),b)};u.userCallback=e,u.context=l.context;const f=null===(o=l.cancel)||void 0===o?void 0:o.bind(l.context);switch(t){case"value":return tL(this._delegate,u,f),e;case"child_added":return hH(this._delegate,u,f),e;case"child_removed":return pH(this._delegate,u,f),e;case"child_changed":return fH(this._delegate,u,f),e;case"child_moved":return mH(this._delegate,u,f),e;default:throw new Error((0,ee.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,n){if((0,ee.Dv)("Query.off",0,3,arguments.length),function(i,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ee.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,ee.Wj)("Query.off","callback",e,!0),(0,ee.lb)("Query.off","context",n,!0),e){const r=()=>{};r.userCallback=e,r.context=n,gH(this._delegate,t,r)}else gH(this._delegate,t)}get(){return T9(this._delegate).then(t=>new Wp(this.database,t))}once(t,e,n,r){(0,ee.Dv)("Query.once",1,4,arguments.length),(0,ee.Wj)("Query.once","callback",e,!0);const o=ks.getCancelAndContextArgs_("Query.once",n,r),l=new ee.BH,u=(p,b)=>{const y=new Wp(this.database,p);e&&e.call(o.context,y,b),l.resolve(y)};u.userCallback=e,u.context=o.context;const f=p=>{o.cancel&&o.cancel.call(o.context,p),l.reject(p)};switch(t){case"value":tL(this._delegate,u,f,{onlyOnce:!0});break;case"child_added":hH(this._delegate,u,f,{onlyOnce:!0});break;case"child_removed":pH(this._delegate,u,f,{onlyOnce:!0});break;case"child_changed":fH(this._delegate,u,f,{onlyOnce:!0});break;case"child_moved":mH(this._delegate,u,f,{onlyOnce:!0});break;default:throw new Error((0,ee.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(t){return(0,ee.Dv)("Query.limitToFirst",1,1,arguments.length),new ks(this.database,Wd(this._delegate,function N9(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new O9(i)}(t)))}limitToLast(t){return(0,ee.Dv)("Query.limitToLast",1,1,arguments.length),new ks(this.database,Wd(this._delegate,function F9(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new L9(i)}(t)))}orderByChild(t){return(0,ee.Dv)("Query.orderByChild",1,1,arguments.length),new ks(this.database,Wd(this._delegate,function B9(i){if("$key"===i)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===i)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===i)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return xC("orderByChild","path",i,!1),new U9(i)}(t)))}orderByKey(){return(0,ee.Dv)("Query.orderByKey",0,0,arguments.length),new ks(this.database,Wd(this._delegate,function z9(){return new V9}()))}orderByPriority(){return(0,ee.Dv)("Query.orderByPriority",0,0,arguments.length),new ks(this.database,Wd(this._delegate,function G9(){return new H9}()))}orderByValue(){return(0,ee.Dv)("Query.orderByValue",0,0,arguments.length),new ks(this.database,Wd(this._delegate,function j9(){return new W9}()))}startAt(t=null,e){return(0,ee.Dv)("Query.startAt",0,2,arguments.length),new ks(this.database,Wd(this._delegate,function k9(i=null,t){return yC("startAt","key",t,!0),new vH(i,t)}(t,e)))}startAfter(t=null,e){return(0,ee.Dv)("Query.startAfter",0,2,arguments.length),new ks(this.database,Wd(this._delegate,function P9(i,t){return yC("startAfter","key",t,!0),new R9(i,t)}(t,e)))}endAt(t=null,e){return(0,ee.Dv)("Query.endAt",0,2,arguments.length),new ks(this.database,Wd(this._delegate,function A9(i,t){return yC("endAt","key",t,!0),new _H(i,t)}(t,e)))}endBefore(t=null,e){return(0,ee.Dv)("Query.endBefore",0,2,arguments.length),new ks(this.database,Wd(this._delegate,function I9(i,t){return yC("endBefore","key",t,!0),new D9(i,t)}(t,e)))}equalTo(t,e){return(0,ee.Dv)("Query.equalTo",1,2,arguments.length),new ks(this.database,Wd(this._delegate,function Y9(i,t){return yC("equalTo","key",t,!0),new $9(i,t)}(t,e)))}toString(){return(0,ee.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ee.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,ee.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof ks))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,n){const r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,(0,ee.Wj)(t,"cancel",r.cancel,!0),r.context=n,(0,ee.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,ee.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Hc(this.database,new Il(this._delegate._repo,this._delegate._path))}}class Hc extends ks{constructor(t,e){super(t,new Ya(e._repo,e._path,new MD,!1)),this.database=t,this._delegate=e}getKey(){return(0,ee.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,ee.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Hc(this.database,Ov(this._delegate,t))}getParent(){(0,ee.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Hc(this.database,t):null}getRoot(){return(0,ee.Dv)("Reference.root",0,0,arguments.length),new Hc(this.database,this._delegate.root)}set(t,e){(0,ee.Dv)("Reference.set",1,2,arguments.length),(0,ee.Wj)("Reference.set","onComplete",e,!0);const n=eL(this._delegate,t);return e&&n.then(()=>e(null),r=>e(r)),n}update(t,e){if((0,ee.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,EH("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Dl("Reference.update",this._delegate._path),(0,ee.Wj)("Reference.update","onComplete",e,!0);const n=S9(this._delegate,t);return e&&n.then(()=>e(null),r=>e(r)),n}setWithPriority(t,e,n){(0,ee.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ee.Wj)("Reference.setWithPriority","onComplete",n,!0);const r=function M9(i,t,e){if(Dl("setWithPriority",i._path),oh("setWithPriority",t,i._path,!1),jN("setWithPriority",e,!1),".length"===i.key||".keys"===i.key)throw"setWithPriority failed: "+i.key+" is a read-only object.";const n=new ee.BH;return YN(i._repo,i._path,t,e,n.wrapCallback(()=>{})),n.promise}(this._delegate,t,e);return n&&r.then(()=>n(null),o=>n(o)),r}remove(t){(0,ee.Dv)("Reference.remove",0,1,arguments.length),(0,ee.Wj)("Reference.remove","onComplete",t,!0);const e=function E9(i){return Dl("remove",i._path),eL(i,null)}(this._delegate);return t&&e.then(()=>t(null),n=>t(n)),e}transaction(t,e,n){(0,ee.Dv)("Reference.transaction",1,3,arguments.length),(0,ee.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,ee.Wj)("Reference.transaction","onComplete",e,!0),function(i,t,e,n){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,ee.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,n);const r=function dX(i,t,e){var n;if(i=(0,ee.m9)(i),Dl("Reference.transaction",i._path),".length"===i.key||".keys"===i.key)throw"Reference.transaction failed: "+i.key+" is a read-only object.";const r=null===(n=e?.applyLocally)||void 0===n||n,o=new ee.BH,u=tL(i,()=>{});return function p9(i,t,e,n,r,o){R0(i,"transaction on "+t);const l={path:t,update:e,onComplete:n,status:null,order:yV(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=ZN(i,t,void 0);l.currentInputSnapshot=u;const f=l.update(u.val());if(void 0===f)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{bC("transaction failed: Data returned ",f,l.path),l.status=0;const p=HD(i.transactionQueueTree_,t),b=Rv(p)||[];let y;b.push(l),HN(p,b),"object"==typeof f&&null!==f&&(0,ee.r3)(f,".priority")?(y=(0,ee.DV)(f,".priority"),(0,ee.hu)(vC(y),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):y=(VD(i.serverSyncTree_,t)||ii.EMPTY_NODE).getPriority().val();const x=wC(i),M=$r(f,y),A=BN(M,u,x);l.currentOutputSnapshotRaw=M,l.currentOutputSnapshotResolved=A,l.currentWriteId=$D(i);const R=RN(i.serverSyncTree_,t,A,l.currentWriteId,l.applyLocally);zc(i.eventQueue_,t,R),YD(i,i.transactionQueueTree_)}}(i._repo,i._path,t,(f,p,b)=>{let y=null;f?o.reject(f):(y=new Pv(b,new Il(i._repo,i._path),hr),o.resolve(new lX(p,y)))},u,r),o.promise}(this._delegate,t,{applyLocally:n}).then(o=>new _X(o.committed,new Wp(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,ee.Dv)("Reference.setPriority",1,2,arguments.length),(0,ee.Wj)("Reference.setPriority","onComplete",e,!0);const n=function C9(i,t){i=(0,ee.m9)(i),Dl("setPriority",i._path),jN("setPriority",t,!1);const e=new ee.BH;return YN(i._repo,kr(i._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&n.then(()=>e(null),r=>e(r)),n}push(t,e){(0,ee.Dv)("Reference.push",0,2,arguments.length),(0,ee.Wj)("Reference.push","onComplete",e,!0);const n=function w9(i,t){i=(0,ee.m9)(i),Dl("push",i._path),oh("push",t,i._path,!0);const e=Qz(i._repo),n=x9(e),r=Ov(i,n),o=Ov(i,n);let l;return l=null!=t?eL(o,t).then(()=>o):Promise.resolve(o),r.then=l.then.bind(l),r.catch=l.then.bind(l,void 0),r}(this._delegate,t),r=n.then(l=>new Hc(this.database,l));e&&r.then(()=>e(null),l=>e(l));const o=new Hc(this.database,n);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Dl("Reference.onDisconnect",this._delegate._path),new gX(new lH(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class MC{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:eX,forceLongPolling:tX}}useEmulator(t,e,n={}){!function wH(i,t,e,n={}){(i=(0,ee.m9)(i))._checkNotDeleted("useEmulator"),i._instanceStarted&&nh("Cannot call useEmulator() after instance has already been initialized.");const r=i._repoInternal;let o;if(r.repoInfo_.nodeAdmin)n.mockUserToken&&nh('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new nC(nC.OWNER);else if(n.mockUserToken){const l="string"==typeof n.mockUserToken?n.mockUserToken:(0,ee.Sg)(n.mockUserToken,i.app.options.projectId);o=new nC(l)}!function Z9(i,t,e,n){i.repoInfo_=new eN(`${t}:${e}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),n&&(i.authTokenProvider_=n)}(r,t,e,o)}(this._delegate,t,e,n)}ref(t){if((0,ee.Dv)("database.ref",0,1,arguments.length),t instanceof Hc){const e=uH(this._delegate,t.toString());return new Hc(this,e)}{const e=dH(this._delegate,t);return new Hc(this,e)}}refFromURL(t){(0,ee.Dv)("database.refFromURL",1,1,arguments.length);const n=uH(this._delegate,t);return new Hc(this,n)}goOffline(){return(0,ee.Dv)("database.goOffline",0,0,arguments.length),function nX(i){(i=(0,ee.m9)(i))._checkNotDeleted("goOffline"),nH(i._repo)}(this._delegate)}goOnline(){return(0,ee.Dv)("database.goOnline",0,0,arguments.length),function iX(i){(i=(0,ee.m9)(i))._checkNotDeleted("goOnline"),function m9(i){i.persistentConnection_&&i.persistentConnection_.resume(Kz)}(i._repo)}(this._delegate)}}MC.ServerValue={TIMESTAMP:function aX(){return sX}(),increment:i=>function cX(i){return{".sv":{increment:i}}}(i)};var bX=Object.freeze({__proto__:null,initStandalone:function vX({app:i,url:t,version:e,customAuthImpl:n,namespace:r,nodeAdmin:o=!1}){vV(e);const l=new wv.zt("auth-internal",new wv.H0("database-standalone"));return l.setComponent(new wv.wA("auth-internal",()=>n,"PRIVATE")),{instance:new MC(yH(i,l,void 0,t,o),i),namespace:r}}});const yX=MC.ServerValue;!function xX(i){i.INTERNAL.registerComponent(new wv.wA("database-compat",(t,{instanceIdentifier:e})=>{const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new MC(r,n)},"PUBLIC").setServiceProps({Reference:Hc,Query:ks,Database:MC,DataSnapshot:Wp,enableLogging:rX,INTERNAL:bX,ServerValue:yX}).setMultipleInstances(!0)),i.registerVersion("@firebase/database-compat","0.3.4")}(Tq.Z);var QD=j(3093),wX=j(4552);class EX extends hn.x{constructor(t=1/0,e=1/0,n=wX.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:l}=this;e||(n.push(t),!r&&n.push(o.now()+l)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:r}=this,o=r.slice();for(let l=0;l<o.length&&!t.closed;l+=n?1:2)t.next(o[l]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:n,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<n.length&&n.splice(0,n.length-o),!r){const l=e.now();let u=0;for(let f=1;f<n.length&&n[f]<=l;f+=2)u=f;u&&n.splice(0,u+1)}}}function iL(i,t,e){let n,r=!1;return i&&"object"==typeof i?({bufferSize:n=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=i):n=i??1/0,(0,qO.B)({connector:()=>new EX(n,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function CH(i,t){return(0,wc.m)(t)?(0,Ki.w)(()=>i,t):(0,Ki.w)(()=>i)}var rL=j(5137);j(3182);const sL=new Map,SH={activated:!1,tokenObservers:[]},AX={initialized:!1,enabled:!1};function so(i){return sL.get(i)||Object.assign({},SH)}function eI(){return AX}const aL="https://content-firebaseappcheck.googleapis.com/v1",RX="exchangeDebugToken",TH={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class OX{constructor(t,e,n,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ad.Z)(function*(){e.stop();try{e.pending=new ee.BH,yield function NX(i){return new Promise(t=>{setTimeout(t,i)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new ee.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(n){e.retryPolicy(n)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Rs=new ee.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function cL(i){if(!so(i).activated)throw Rs.create("use-before-activation",{appName:i.name})}function iI(i,t){return dL.apply(this,arguments)}function dL(){return(dL=(0,Ad.Z)(function*({url:i,body:t},e){const n={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const y=yield r.getHeartbeatsHeader();y&&(n["X-Firebase-Client"]=y)}const o={method:"POST",body:JSON.stringify(t),headers:n};let l,u;try{l=yield fetch(i,o)}catch(y){throw Rs.create("fetch-network-error",{originalErrorMessage:y?.message})}if(200!==l.status)throw Rs.create("fetch-status-error",{httpStatus:l.status});try{u=yield l.json()}catch(y){throw Rs.create("fetch-parse-error",{originalErrorMessage:y?.message})}const f=u.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw Rs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const p=1e3*Number(f[1]),b=Date.now();return{token:u.token,expireTimeMillis:b+p,issuedAtTimeMillis:b}})).apply(this,arguments)}function AH(i,t){const{projectId:e,appId:n,apiKey:r}=i.options;return{url:`${aL}/projects/${e}/apps/${n}:${RX}?key=${r}`,body:{debug_token:t}}}const BX="firebase-app-check-database",VX=1,SC="firebase-app-check-store";let rI=null;function uL(){return(uL=(0,Ad.Z)(function*(i,t){const n=(yield function IH(){return rI||(rI=new Promise((i,t)=>{try{const e=indexedDB.open(BX,VX);e.onsuccess=n=>{i(n.target.result)},e.onerror=n=>{var r;t(Rs.create("storage-open",{originalErrorMessage:null===(r=n.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=n=>{0===n.oldVersion&&n.target.result.createObjectStore(SC,{keyPath:"compositeKey"})}}catch(e){t(Rs.create("storage-open",{originalErrorMessage:e?.message}))}}),rI)}()).transaction(SC,"readwrite"),o=n.objectStore(SC).put({compositeKey:i,value:t});return new Promise((l,u)=>{o.onsuccess=f=>{l()},n.onerror=f=>{var p;u(Rs.create("storage-set",{originalErrorMessage:null===(p=f.target.error)||void 0===p?void 0:p.message}))}})})).apply(this,arguments)}const TC=new gD.Yd("@firebase/app-check");function mL(i,t){return(0,ee.hl)()?function HX(i,t){return function kH(i,t){return uL.apply(this,arguments)}(function PH(i){return`${i.options.appId}-${i.name}`}(i),t)}(i,t).catch(e=>{TC.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function gL(){return eI().enabled}function _L(){return vL.apply(this,arguments)}function vL(){return(vL=(0,Ad.Z)(function*(){const i=eI();if(i.enabled&&i.token)return i.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const qX={error:"UNKNOWN_ERROR"};function ZX(i){return ee.US.encodeString(JSON.stringify(i),!1)}function oI(i){return bL.apply(this,arguments)}function bL(){return(bL=(0,Ad.Z)(function*(i,t=!1){const e=i.app;cL(e);const n=so(e);let o,r=n.token;if(r&&!O0(r)&&(n.token=void 0,r=void 0),!r){const f=yield n.cachedTokenPromise;f&&(O0(f)?r=f:yield mL(e,void 0))}if(!t&&r&&O0(r))return{token:r.token};let u,l=!1;if(gL()){n.exchangeTokenPromise||(n.exchangeTokenPromise=iI(AH(e,yield _L()),i.heartbeatServiceProvider).finally(()=>{n.exchangeTokenPromise=void 0}),l=!0);const f=yield n.exchangeTokenPromise;return yield mL(e,f),n.token=f,{token:f.token}}try{n.exchangeTokenPromise||(n.exchangeTokenPromise=n.provider.getToken().finally(()=>{n.exchangeTokenPromise=void 0}),l=!0),r=yield so(e).exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?TC.warn(f.message):TC.error(f),o=f}return r?o?u=O0(r)?{token:r.token,internalError:o}:FH(o):(u={token:r.token},n.token=r,yield mL(e,r)):u=FH(o),l&&function LH(i,t){const e=so(i).tokenObservers;for(const n of e)try{"EXTERNAL"===n.type&&null!=t.error?n.error(t.error):n.next(t)}catch{}}(e,u),u})).apply(this,arguments)}function OH(i){return yL.apply(this,arguments)}function yL(){return(yL=(0,Ad.Z)(function*(i){const t=i.app;cL(t);const{provider:e}=so(t);if(gL()){const n=yield _L(),{token:r}=yield iI(AH(t,n),i.heartbeatServiceProvider);return{token:r}}{const{token:n}=yield e.getToken();return{token:n}}})).apply(this,arguments)}function wL(i,t){const e=so(i),n=e.tokenObservers.filter(r=>r.next!==t);0===n.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=n}function NH(i){const{app:t}=i,e=so(t);let n=e.tokenRefresher;n||(n=function XX(i){const{app:t}=i;return new OX((0,Ad.Z)(function*(){let n;if(n=so(t).token?yield oI(i,!0):yield oI(i),n.error)throw n.error;if(n.internalError)throw n.internalError}),()=>!0,()=>{const e=so(t);if(e.token){let n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return n=Math.min(n,e.token.expireTimeMillis-3e5),Math.max(0,n-Date.now())}return 0},TH.RETRIAL_MIN_WAIT,TH.RETRIAL_MAX_WAIT)}(i),e.tokenRefresher=n),!n.isRunning()&&e.isTokenAutoRefreshEnabled&&n.start()}function O0(i){return i.expireTimeMillis-Date.now()>0}function FH(i){return{token:ZX(qX),error:i}}class KX{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=so(this.app);for(const e of t)wL(this.app,e.next);return Promise.resolve()}}const jH="app-check-internal";!function uK(){(0,Ev._registerComponent)(new wv.wA("app-check",i=>function QX(i,t){return new KX(i,t)}(i.getProvider("app").getImmediate(),i.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,t,e)=>{i.getProvider(jH).initialize()})),(0,Ev._registerComponent)(new wv.wA(jH,i=>function JX(i){return{getToken:t=>oI(i,t),getLimitedUseToken:()=>OH(i),addTokenListener:t=>function xL(i,t,e,n){const{app:r}=i,o=so(r);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:n,type:t}],o.token&&O0(o.token)){const u=o.token;Promise.resolve().then(()=>{e({token:u.token}),NH(i)}).catch(()=>{})}o.cachedTokenPromise.then(()=>NH(i))}(i,"INTERNAL",t),removeTokenListener:t=>wL(i.app,t)}}(i.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ev.registerVersion)("@firebase/app-check","0.8.0")}();class SL{constructor(){return(0,Tl.vb)("app-check")}}typeof window<"u"&&window;var gK=j(7142);const YH=new c.OlP("angularfire2.auth.use-emulator"),qH=new c.OlP("angularfire2.auth.settings"),ZH=new c.OlP("angularfire2.auth.tenant-id"),XH=new c.OlP("angularfire2.auth.langugage-code"),KH=new c.OlP("angularfire2.auth.use-device-language"),QH=new c.OlP("angularfire.auth.persistence"),JH=(i,t,e,n,r,o,l,u)=>(0,Vd.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const f=t.runOutsideAngular(()=>i.auth());if(e&&f.useEmulator(...e),n&&(f.tenantId=n),f.languageCode=r,o&&f.useDeviceLanguage(),l)for(const[p,b]of Object.entries(l))f.settings[p]=b;return u&&f.setPersistence(u),f},[e,n,r,o,l,u]);let e4=(()=>{class i{constructor(e,n,r,o,l,u,f,p,b,y,x,M){const A=new hn.x,R=(0,nn.of)(void 0).pipe((0,QD.Q)(l.outsideAngular),(0,Ki.w)(()=>o.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,5967)))),(0,wn.U)(()=>(0,Vd.on)(e,o,n)),(0,wn.U)(I=>JH(I,o,u,p,b,y,f,x)),iL({bufferSize:1,refCount:!1}));if(Ma(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,nn.of)(null);else{R.pipe(Au()).subscribe();const k=R.pipe((0,Ki.w)(B=>B.getRedirectResult().then(W=>W,()=>null)),Tl.iC,iL({bufferSize:1,refCount:!1})),U=R.pipe((0,Ki.w)(B=>new Ho.y(W=>({unsubscribe:o.runOutsideAngular(()=>B.onAuthStateChanged(Z=>W.next(Z),Z=>W.error(Z),()=>W.complete()))})))),O=R.pipe((0,Ki.w)(B=>new Ho.y(W=>({unsubscribe:o.runOutsideAngular(()=>B.onIdTokenChanged(Z=>W.next(Z),Z=>W.error(Z),()=>W.complete()))}))));this.authState=k.pipe(CH(U),(0,rL.R)(l.outsideAngular),(0,QD.Q)(l.insideAngular)),this.user=k.pipe(CH(O),(0,rL.R)(l.outsideAngular),(0,QD.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,Ki.w)(B=>B?(0,eo.D)(B.getIdToken()):(0,nn.of)(null))),this.idTokenResult=this.user.pipe((0,Ki.w)(B=>B?(0,eo.D)(B.getIdTokenResult()):(0,nn.of)(null))),this.credential=(0,Vc.T)(k,A,this.authState.pipe(Hr(B=>!B))).pipe((0,wn.U)(B=>B?.user?B:null),(0,rL.R)(l.outsideAngular),(0,QD.Q)(l.insideAngular))}return(0,Vd.pX)(this,R,o,{spy:{apply:(I,k,U)=>{(I.startsWith("signIn")||I.startsWith("createUser"))&&U.then(O=>A.next(O))}}})}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Vd.Dh),c.LFG(Vd.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Tl.HU),c.LFG(YH,8),c.LFG(qH,8),c.LFG(ZH,8),c.LFG(XH,8),c.LFG(KH,8),c.LFG(QH,8),c.LFG(SL,8))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function t4(i){return null==i}function n4(i){return"function"==typeof i.set}function r4(i,t){return n4(t)?t:i.ref(t)}function o4(i,t){if(function vK(i){return"string"==typeof i}(i))return t.stringCase();if(n4(i))return t.firebaseCase();if(function bK(i){return"function"==typeof i.exportVal}(i))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof i)}function AC(i,t,e="on",n=cp.z){return new Ho.y(r=>{let o=null;return o=i[e](t,(l,u)=>{n.schedule(()=>{r.next({snapshot:l,prevKey:u})}),"once"===e&&n.schedule(()=>r.complete())},l=>{n.schedule(()=>r.error(l))}),"on"===e?{unsubscribe(){null!=o&&i.off(t,o)}}:{unsubscribe(){}}}).pipe((0,wn.U)(r=>{const{snapshot:o,prevKey:l}=r;let u=null;return o.exists()&&(u=o.key),{type:t,payload:o,prevKey:l,key:u}}),(0,qO.B)())}function s4(i,t){const e=i.length;for(let n=0;n<e;n++)if(i[n].payload.key===t)return n;return-1}function wK(i,t){const{payload:e,prevKey:n,key:r}=t,o=s4(i,r),l=function xK(i,t){if(t4(t))return 0;{const e=s4(i,t);return-1===e?i.length:e+1}}(i,n);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let u=null;t.payload.forEach(f=>{const p={payload:f,type:"value",prevKey:u,key:f.key};return u=f.key,i=[...i,p],!1})}return i;case"child_added":if(o>-1){const u=i[o-1];(u&&u.key||null)!==n&&(i=i.filter(f=>f.payload.key!==e.key)).splice(l,0,t)}else{if(null==n)return[t,...i];(i=i.slice()).splice(l,0,t)}return i;case"child_removed":return i.filter(u=>u.payload.key!==e.key);case"child_changed":return i.map(u=>u.payload.key===r?t:u);case"child_moved":if(o>-1){const u=i.splice(o,1)[0];return(i=i.slice()).splice(l,0,u),i}return i;default:return i}}function a4(i){return(t4(i)||0===i.length)&&(i=["child_added","child_removed","child_changed","child_moved"]),i}function c4(i,t,e){return function yK(i,t,e){return AC(i,"value","once",e).pipe((0,Ki.w)(n=>{const r=[(0,nn.of)(n)];return t.forEach(o=>r.push(AC(i,o,"on",e))),(0,Vc.T)(...r).pipe(lx(wK,[]))}),(0,fy.x)())}(i,t=a4(t),e)}function l4(i,t,e){const n=(t=a4(t)).map(r=>AC(i,r,"on",e));return(0,Vc.T)(...n)}function d4(i,t){return function(n,r){return o4(n,{stringCase:()=>i.child(n)[t](r),firebaseCase:()=>n[t](r),snapshotCase:()=>n.ref[t](r)})}}function SK(i){return function(e){return e?o4(e,{stringCase:()=>i.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):i.remove()}}function u4(i,t){return function(){return AC(i,"value","on",t)}}const DK=new c.OlP("angularfire2.realtimeDatabaseURL"),IK=new c.OlP("angularfire2.database.use-emulator");let h4=(()=>{class i{constructor(e,n,r,o,l,u,f,p,b,y,x,M,A,R,I){this.schedulers=u;const k=f,U=(0,Vd.on)(e,l,n);p&&JH(U,l,b,x,M,A,y,R),this.database=(0,Vd.cc)(`${U.name}.database.${r}`,"AngularFireDatabase",U.name,()=>{const O=l.runOutsideAngular(()=>U.database(r||void 0));return k&&O.useEmulator(...k),O},[k])}list(e,n){const r=this.schedulers.ngZone.runOutsideAngular(()=>r4(this.database,e));let o=r;return n&&(o=n(r)),function TK(i,t){const e=t.schedulers.outsideAngular,n=t.schedulers.ngZone.run(()=>i.ref);return{query:i,update:d4(n,"update"),set:d4(n,"set"),push:r=>n.push(r),remove:SK(n),snapshotChanges:r=>c4(i,r,e).pipe(Tl.iC),stateChanges:r=>l4(i,r,e).pipe(Tl.iC),auditTrail:r=>function EK(i,t,e){return function MK(i,t,e){return function CK(i,t){return AC(i,"value","on",t).pipe((0,wn.U)(e=>{let n;return e.payload.forEach(r=>(n=r.key,!1)),{data:e,lastKeyToLoad:n}}))}(i,e).pipe(function Mq(...i){const t=(0,Nm.jO)(i);return(0,mo.e)((e,n)=>{const r=i.length,o=new Array(r);let l=i.map(()=>!1),u=!1;for(let f=0;f<r;f++)(0,Fm.Xf)(i[f]).subscribe((0,fo.x)(n,p=>{o[f]=p,!u&&!l[f]&&(l[f]=!0,(u=l.every(Kh.y))&&(l=null))},eM.Z));e.subscribe((0,fo.x)(n,f=>{if(u){const p=[f,...o];n.next(t?t(...p):p)}}))})}(t),(0,wn.U)(([r,o])=>{const l=r.lastKeyToLoad,u=o.map(f=>f.key);return{actions:o,lastKeyToLoad:l,loadedKeys:u}}),function Sq(i){return(0,mo.e)((t,e)=>{let n=!1,r=0;t.subscribe((0,fo.x)(e,o=>(n||(n=!i(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,wn.U)(r=>r.actions))}(i,l4(i,t).pipe(lx((r,o)=>[...r,o],[])),e)}(i,r,e).pipe(Tl.iC),valueChanges:(r,o)=>c4(i,r,e).pipe((0,wn.U)(u=>u.map(f=>o&&o.idField?Object.assign(Object.assign({},f.payload.val()),{[o.idField]:f.key}):f.payload.val())),Tl.iC)}}(o,this)}object(e){return function AK(i,t){return{query:i,snapshotChanges:()=>u4(i,t.schedulers.outsideAngular)().pipe(Tl.iC),update:e=>i.ref.update(e),set:e=>i.ref.set(e),remove:()=>i.ref.remove(),valueChanges:()=>u4(i,t.schedulers.outsideAngular)().pipe(Tl.iC,(0,wn.U)(n=>n.payload.exists()?n.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>r4(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Vd.Dh),c.LFG(Vd.xv,8),c.LFG(DK,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Tl.HU),c.LFG(IK,8),c.LFG(e4,8),c.LFG(YH,8),c.LFG(qH,8),c.LFG(ZH,8),c.LFG(XH,8),c.LFG(KH,8),c.LFG(QH,8),c.LFG(SL,8))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),kK=(()=>{class i{constructor(){gK.Z.registerVersion("angularfire",Tl.q4.full,"rtdb-compat")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:[h4]}),i})(),Nv=(()=>{class i{constructor(e){this.db=e,this.dbPath="/user",this.rollPath="/role",this.usersRef=e.list(this.dbPath),this.roleRef=e.list(this.rollPath)}GetAll(){return this.usersRef}RegisterUser(e){return this.db.object(`/user/${e.id}`).set(e)}Updateuser(e,n){return this.usersRef.update(e,n)}delete(e){return this.usersRef.remove(e)}deleteAll(){return this.usersRef.remove()}GetAllRoll(){return this.roleRef}getUserName(){return sessionStorage.getItem("username")||""}proceedregister(e){return this.usersRef.push(e)}isloggedin(){return null!=sessionStorage.getItem("username")}getUserRole(){return null!=sessionStorage.getItem("role")?sessionStorage.getItem("role")?.toString():""}Getbycode(e){return this.db.list(this.dbPath,n=>n.orderByChild("id").equalTo(e))}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(h4))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const f4=["toast-component",""];function RK(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.remove())}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA()()}}function PK(i,t){if(1&i&&(c.ynx(0),c._uU(1),c.BQk()),2&i){const e=c.oxw(2);c.xp6(1),c.hij("[",e.duplicatesCount+1,"]")}}function OK(i,t){if(1&i&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,PK,2,1,"ng-container",4),c.qZA()),2&i){const e=c.oxw();c.Tol(e.options.titleClass),c.uIk("aria-label",e.title),c.xp6(1),c.hij(" ",e.title," "),c.xp6(1),c.Q6J("ngIf",e.duplicatesCount)}}function NK(i,t){if(1&i&&c._UZ(0,"div",7),2&i){const e=c.oxw();c.Tol(e.options.messageClass),c.Q6J("innerHTML",e.message,c.oJD)}}function LK(i,t){if(1&i&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&i){const e=c.oxw();c.Tol(e.options.messageClass),c.uIk("aria-label",e.message),c.xp6(1),c.hij(" ",e.message," ")}}function FK(i,t){if(1&i&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&i){const e=c.oxw();c.xp6(1),c.Udp("width",e.width+"%")}}class WK{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class jK{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}class $K{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new hn.x;_activate=new hn.x;_manualClose=new hn.x;_resetTimeout=new hn.x;_countDuplicate=new hn.x;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class aI{toastId;config;message;title;toastType;toastRef;_onTap=new hn.x;_onAction=new hn.x;constructor(t,e,n,r,o,l){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=o,this.toastRef=l,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const p4=new c.OlP("ToastConfig");class YK extends jK{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let qK=(()=>{class i{_document=(0,c.f3M)(we);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(n){return new(n||i)};static \u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class ZK{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let XK=(()=>{class i{_overlayContainer=(0,c.f3M)(qK);_componentFactoryResolver=(0,c.f3M)(c._Vd);_appRef=(0,c.f3M)(c.z2F);_document=(0,c.f3M)(we);_paneElements=new Map;create(e,n){return this._createOverlayRef(this.getPaneElement(e,n))}getPaneElement(e="",n){return this._paneElements.get(n)||this._paneElements.set(n,{}),this._paneElements.get(n)[e]||(this._paneElements.get(n)[e]=this._createPaneElement(e,n)),this._paneElements.get(n)[e]}_createPaneElement(e,n){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),n?n.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new YK(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new ZK(this._createPortalHost(e))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),DC=(()=>{class i{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,n,r,o,l){this.overlay=n,this._injector=r,this.sanitizer=o,this.ngZone=l,this.toastrConfig={...e.default,...e.config},e.config.iconClasses&&(this.toastrConfig.iconClasses={...e.default.iconClasses,...e.config.iconClasses})}show(e,n,r={},o=""){return this._preBuildNotification(o,e,n,this.applyConfig(r))}success(e,n,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,n,this.applyConfig(r))}error(e,n,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,n,this.applyConfig(r))}info(e,n,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,n,this.applyConfig(r))}warning(e,n,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,n,this.applyConfig(r))}clear(e){for(const n of this.toasts)if(void 0!==e){if(n.toastId===e)return void n.toastRef.manualClose()}else n.toastRef.manualClose()}remove(e){const n=this._findToast(e);if(!n||(n.activeToast.toastRef.close(),this.toasts.splice(n.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",n="",r,o){const{includeTitleDuplicates:l}=this.toastrConfig;for(const u of this.toasts)if((!l||l&&u.title===e)&&u.message===n)return u.toastRef.onDuplicate(r,o),u;return null}applyConfig(e={}){return{...this.toastrConfig,...e}}_findToast(e){for(let n=0;n<this.toasts.length;n++)if(this.toasts[n].toastId===e)return{index:n,activeToast:this.toasts[n]};return null}_preBuildNotification(e,n,r,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,n,r,o)):this._buildNotification(e,n,r,o)}_buildNotification(e,n,r,o){if(!o.toastComponent)throw new Error("toastComponent required");const l=this.findDuplicate(r,n,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||n)&&this.toastrConfig.preventDuplicates&&null!==l)return l;this.previousToastMessage=n;let u=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(u=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const f=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let p=n;n&&o.enableHtml&&(p=this.sanitizer.sanitize(c.q3G.HTML,n));const b=new $K(f),y=new aI(this.index,o,p,r,e,b),M=c.zs3.create({providers:[{provide:aI,useValue:y}],parent:this._injector}),A=new WK(o.toastComponent,M),R=f.attach(A,o.newestOnTop);b.componentInstance=R.instance;const I={toastId:this.index,title:r||"",message:n||"",toastRef:b,onShown:b.afterActivate(),onHidden:b.afterClosed(),onTap:y.onTap(),onAction:y.onAction(),portal:R};return u||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{I.toastRef.activate()})),this.toasts.push(I),I}static \u0275fac=function(n){return new(n||i)(c.LFG(p4),c.LFG(XK),c.LFG(c.zs3),c.LFG(is),c.LFG(c.R0b))};static \u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const KK={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class i{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,n,r){this.toastrService=e,this.toastPackage=n,this.ngZone=r,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),n)):this.timeout=setTimeout(()=>e(),n)}outsideInterval(e,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),n)):this.intervalId=setInterval(()=>e(),n)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(n){return new(n||i)(c.Y36(DC),c.Y36(aI),c.Y36(c.R0b))};static \u0275cmp=c.Xpm({type:i,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(n,r){1&n&&c.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&n&&(c.d8E("@flyInOut",r.state),c.Tol(r.toastClasses),c.Udp("display",r.displayStyle))},standalone:!0,features:[c.jDz],attrs:f4,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){1&n&&(c.YNc(0,RK,3,0,"button",0),c.YNc(1,OK,3,5,"div",1),c.YNc(2,NK,1,3,"div",2),c.YNc(3,LK,2,4,"div",3),c.YNc(4,FK,2,2,"div",4)),2&n&&(c.Q6J("ngIf",r.options.closeButton),c.xp6(1),c.Q6J("ngIf",r.title),c.xp6(1),c.Q6J("ngIf",r.message&&r.options.enableHtml),c.xp6(1),c.Q6J("ngIf",r.message&&!r.options.enableHtml),c.xp6(1),c.Q6J("ngIf",r.options.progressBar))},dependencies:[co],encapsulation:2,data:{animation:[Xr("flyInOut",[Yn("inactive",Rn({opacity:0})),Yn("active",Rn({opacity:1})),Yn("removed",Rn({opacity:0})),Sn("inactive => active",Di("{{ easeTime }}ms {{ easing }}")),Sn("active => removed",Di("{{ easeTime }}ms {{ easing }}"))])]}})}return i})()},QK=(i={})=>(0,c.MR2)([{provide:p4,useValue:{default:KK,config:i}}]);let JK=(()=>{class i{static forRoot(e={}){return{ngModule:i,providers:[QK(e)]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=c.oAB({type:i});static \u0275inj=c.cJS({})}return i})();const g4=ff({passive:!0});let eQ=(()=>{class i{constructor(e,n){this._platform=e,this._ngZone=n,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Gs.E;const n=Ua(e),r=this._monitoredElements.get(n);if(r)return r.subject;const o=new hn.x,l="cdk-text-field-autofilled",u=f=>{"cdk-text-field-autofill-start"!==f.animationName||n.classList.contains(l)?"cdk-text-field-autofill-end"===f.animationName&&n.classList.contains(l)&&(n.classList.remove(l),this._ngZone.run(()=>o.next({target:f.target,isAutofilled:!1}))):(n.classList.add(l),this._ngZone.run(()=>o.next({target:f.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",u,g4),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:o,unlisten:()=>{n.removeEventListener("animationstart",u,g4)}}),o}stopMonitoring(e){const n=Ua(e),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((e,n)=>this.stopMonitoring(n))}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(rr),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),tQ=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({})}return i})();class nQ{constructor(t){this._box=t,this._destroyed=new hn.x,this._resizeSubject=new hn.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Ho.y(e=>{const n=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Hr(e=>e.some(n=>n.target===t)),iL({bufferSize:1,refCount:!0}),Ii(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let iQ=(()=>{class i{constructor(){this._observers=new Map,this._ngZone=(0,c.f3M)(c.R0b)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,n){const r=n?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new nQ(r)),this._observers.get(r).observe(e)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const rQ=["notch"],oQ=["matFormFieldNotchedOutline",""],sQ=["*"],aQ=["textField"],cQ=["iconPrefixContainer"],lQ=["textPrefixContainer"];function dQ(i,t){1&i&&c._UZ(0,"span",19)}function uQ(i,t){if(1&i&&(c.TgZ(0,"label",17),c.Hsn(1,1),c.YNc(2,dQ,1,0,"span",18),c.qZA()),2&i){const e=c.oxw(2);c.Q6J("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),c.uIk("for",e._control.id),c.xp6(2),c.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function hQ(i,t){if(1&i&&c.YNc(0,uQ,3,5,"label",16),2&i){const e=c.oxw();c.Q6J("ngIf",e._hasFloatingLabel())}}function fQ(i,t){1&i&&c._UZ(0,"div",20)}function mQ(i,t){}function pQ(i,t){if(1&i&&c.YNc(0,mQ,0,0,"ng-template",22),2&i){c.oxw(2);const e=c.MAs(1);c.Q6J("ngTemplateOutlet",e)}}function gQ(i,t){if(1&i&&(c.TgZ(0,"div",21),c.YNc(1,pQ,1,1,"ng-template",9),c.qZA()),2&i){const e=c.oxw();c.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),c.xp6(1),c.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function _Q(i,t){1&i&&(c.TgZ(0,"div",23,24),c.Hsn(2,2),c.qZA())}function vQ(i,t){1&i&&(c.TgZ(0,"div",25,26),c.Hsn(2,3),c.qZA())}function bQ(i,t){}function yQ(i,t){if(1&i&&c.YNc(0,bQ,0,0,"ng-template",22),2&i){c.oxw();const e=c.MAs(1);c.Q6J("ngTemplateOutlet",e)}}function xQ(i,t){1&i&&(c.TgZ(0,"div",27),c.Hsn(1,4),c.qZA())}function wQ(i,t){1&i&&(c.TgZ(0,"div",28),c.Hsn(1,5),c.qZA())}function EQ(i,t){1&i&&c._UZ(0,"div",29)}function CQ(i,t){if(1&i&&(c.TgZ(0,"div",30),c.Hsn(1,6),c.qZA()),2&i){const e=c.oxw();c.Q6J("@transitionMessages",e._subscriptAnimationState)}}function MQ(i,t){if(1&i&&(c.TgZ(0,"mat-hint",34),c._uU(1),c.qZA()),2&i){const e=c.oxw(2);c.Q6J("id",e._hintLabelId),c.xp6(1),c.Oqu(e.hintLabel)}}function SQ(i,t){if(1&i&&(c.TgZ(0,"div",31),c.YNc(1,MQ,2,2,"mat-hint",32),c.Hsn(2,7),c._UZ(3,"div",33),c.Hsn(4,8),c.qZA()),2&i){const e=c.oxw();c.Q6J("@transitionMessages",e._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",e.hintLabel)}}const TQ=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],AQ=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let IC=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["mat-label"]]})}return i})();const DQ=new c.OlP("MatError");let IQ=0,_4=(()=>{class i{constructor(){this.align="start",this.id="mat-mdc-hint-"+IQ++}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,r){2&n&&(c.Ikx("id",r.id),c.uIk("align",null),c.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return i})();const kQ=new c.OlP("MatPrefix"),RQ=new c.OlP("MatSuffix"),v4=new c.OlP("FloatingLabelParent");let b4=(()=>{class i{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,c.f3M)(iQ),this._ngZone=(0,c.f3M)(c.R0b),this._parent=(0,c.f3M)(v4),this._resizeSubscription=new ds.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function PQ(i){if(null!==i.offsetParent)return i.scrollWidth;const e=i.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const n=e.scrollWidth;return e.remove(),n}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,r){2&n&&c.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return i})();const y4="mdc-line-ripple--active",cI="mdc-line-ripple--deactivating";let x4=(()=>{class i{constructor(e,n){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,l=o.contains(cI);"opacity"===r.propertyName&&l&&o.remove(y4,cI)},n.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(cI),e.add(y4)}deactivate(){this._elementRef.nativeElement.classList.add(cI)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return i})(),w4=(()=>{class i{constructor(e,n){this._elementRef=e,this._ngZone=n,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,r){if(1&n&&c.Gf(rQ,5),2&n){let o;c.iGM(o=c.CRH())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,r){2&n&&c.ekj("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:oQ,ngContentSelectors:sQ,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(n,r){1&n&&(c.F$t(),c._UZ(0,"div",0),c.TgZ(1,"div",1,2),c.Hsn(3),c.qZA(),c._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return i})();const OQ={transitionMessages:Xr("transitionMessages",[Yn("enter",Rn({opacity:1,transform:"translateY(0%)"})),Sn("void => enter",[Rn({opacity:0,transform:"translateY(-5px)"}),Di("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let AL=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=c.lG2({type:i})}return i})();const DL=new c.OlP("MatFormField"),NQ=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let E4=0,lI=(()=>{class i{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Hn(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const n=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,n,r,o,l,u,f,p){this._elementRef=e,this._changeDetectorRef=n,this._ngZone=r,this._dir=o,this._platform=l,this._defaults=u,this._animationMode=f,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+E4++,this._hintLabelId="mat-mdc-hint-"+E4++,this._subscriptAnimationState="",this._destroyed=new hn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,u&&(u.appearance&&(this.appearance=u.appearance),this._hideRequiredMarker=!!u?.hideRequiredMarker,u.color&&(this.color=u.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Ii(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Vc.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ii(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Ii(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const n=this._control?this._control.ngControl:null;return n&&n[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;n?e.push(n.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const n=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=n?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(Uu),c.Y36(rr),c.Y36(NQ,8),c.Y36(c.QbO,8),c.Y36(we))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-form-field"]],contentQueries:function(n,r,o){if(1&n&&(c.Suo(o,IC,5),c.Suo(o,IC,7),c.Suo(o,AL,5),c.Suo(o,kQ,5),c.Suo(o,RQ,5),c.Suo(o,DQ,5),c.Suo(o,_4,5)),2&n){let l;c.iGM(l=c.CRH())&&(r._labelChildNonStatic=l.first),c.iGM(l=c.CRH())&&(r._labelChildStatic=l.first),c.iGM(l=c.CRH())&&(r._formFieldControl=l.first),c.iGM(l=c.CRH())&&(r._prefixChildren=l),c.iGM(l=c.CRH())&&(r._suffixChildren=l),c.iGM(l=c.CRH())&&(r._errorChildren=l),c.iGM(l=c.CRH())&&(r._hintChildren=l)}},viewQuery:function(n,r){if(1&n&&(c.Gf(aQ,5),c.Gf(cQ,5),c.Gf(lQ,5),c.Gf(b4,5),c.Gf(w4,5),c.Gf(x4,5)),2&n){let o;c.iGM(o=c.CRH())&&(r._textField=o.first),c.iGM(o=c.CRH())&&(r._iconPrefixContainer=o.first),c.iGM(o=c.CRH())&&(r._textPrefixContainer=o.first),c.iGM(o=c.CRH())&&(r._floatingLabel=o.first),c.iGM(o=c.CRH())&&(r._notchedOutline=o.first),c.iGM(o=c.CRH())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,r){2&n&&c.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:DL,useExisting:i},{provide:v4,useExisting:i}])],ngContentSelectors:AQ,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(n,r){1&n&&(c.F$t(TQ),c.YNc(0,hQ,1,1,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.NdJ("click",function(l){return r._control.onContainerClick(l)}),c.YNc(4,fQ,1,0,"div",3),c.TgZ(5,"div",4),c.YNc(6,gQ,2,2,"div",5),c.YNc(7,_Q,3,0,"div",6),c.YNc(8,vQ,3,0,"div",7),c.TgZ(9,"div",8),c.YNc(10,yQ,1,1,"ng-template",9),c.Hsn(11),c.qZA(),c.YNc(12,xQ,2,0,"div",10),c.YNc(13,wQ,2,0,"div",11),c.qZA(),c.YNc(14,EQ,1,0,"div",12),c.qZA(),c.TgZ(15,"div",13),c.YNc(16,CQ,2,1,"div",14),c.YNc(17,SQ,5,2,"div",15),c.qZA()),2&n&&(c.xp6(2),c.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),c.xp6(2),c.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),c.xp6(2),c.Q6J("ngIf",r._hasOutline()),c.xp6(1),c.Q6J("ngIf",r._hasIconPrefix),c.xp6(1),c.Q6J("ngIf",r._hasTextPrefix),c.xp6(2),c.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),c.xp6(2),c.Q6J("ngIf",r._hasTextSuffix),c.xp6(1),c.Q6J("ngIf",r._hasIconSuffix),c.xp6(1),c.Q6J("ngIf",!r._hasOutline()),c.xp6(1),c.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),c.Q6J("ngSwitch",r._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},dependencies:[co,Nl,Ea,Ol,_4,b4,w4,x4],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[OQ.transitionMessages]},changeDetection:0})}return i})(),IL=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[pi,li,Cd,pi]})}return i})();const UQ=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),BQ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let VQ=0;const zQ=qR(class{constructor(i,t,e,n){this._defaultErrorStateMatcher=i,this._parentForm=t,this._parentFormGroup=e,this.ngControl=n,this.stateChanges=new hn.x}});let S4=(()=>{class i extends zQ{get disabled(){return this._disabled}set disabled(e){this._disabled=Hn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ha.required)??!1}set required(e){this._required=Hn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Qx().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Hn(e)}constructor(e,n,r,o,l,u,f,p,b,y){super(u,o,l,r),this._elementRef=e,this._platform=n,this._autofillMonitor=p,this._formField=y,this._uid="mat-input-"+VQ++,this.focused=!1,this.stateChanges=new hn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(A=>Qx().has(A)),this._iOSKeyupListener=A=>{const R=A.target;!R.value&&0===R.selectionStart&&0===R.selectionEnd&&(R.setSelectionRange(1,1),R.setSelectionRange(0,0))};const x=this._elementRef.nativeElement,M=x.nodeName.toLowerCase();this._inputValueAccessor=f||x,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&b.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===M,this._isTextarea="textarea"===M,this._isInFormField=!!y,this._isNativeSelect&&(this.controlType=x.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const n=this._elementRef.nativeElement;this._previousPlaceholder=e,e?n.setAttribute("placeholder",e):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){BQ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,n=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&n&&n.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(rr),c.Y36(th,10),c.Y36(ZE,8),c.Y36(Pp,8),c.Y36(P_),c.Y36(UQ,10),c.Y36(eQ),c.Y36(c.R0b),c.Y36(DL,8))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,r){1&n&&c.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&n&&(c.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),c.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),c.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:AL,useExisting:i}]),c.qOj,c.TTD]})}return i})(),HQ=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[pi,IL,IL,tQ,pi]})}return i})();const GQ=["*"],$Q=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],YQ=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],qQ=new c.OlP("MAT_CARD_CONFIG");let N0=(()=>{class i{constructor(e){this.appearance=e?.appearance||"raised"}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(qQ,8))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(n,r){2&n&&c.ekj("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:GQ,decls:1,vars:0,template:function(n,r){1&n&&(c.F$t(),c.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return i})(),T4=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return i})(),L0=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return i})(),A4=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return i})(),D4=(()=>{class i{constructor(){this.align="start"}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(n,r){2&n&&c.ekj("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]})}return i})(),F0=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:YQ,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(n,r){1&n&&(c.F$t($Q),c.Hsn(0),c.TgZ(1,"div",0),c.Hsn(2,1),c.qZA(),c.Hsn(3,2))},encapsulation:2,changeDetection:0})}return i})(),XQ=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[pi,li,pi]})}return i})();class KQ{}function kL(i){return i&&"function"==typeof i.connect&&!(i instanceof Db)}class I4{applyChanges(t,e,n,r,o){t.forEachOperation((l,u,f)=>{let p,b;if(null==l.previousIndex){const y=n(l,u,f);p=e.createEmbeddedView(y.templateRef,y.context,y.index),b=1}else null==f?(e.remove(u),b=3):(p=e.get(u),e.move(p,f),b=2);o&&o({context:p?.context,operation:b,record:l})})}detach(){}}class RL{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,n=!0,r){this._multiple=t,this._emitChanges=n,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new hn.x,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(n=>this._markSelected(n));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(n=>this._unmarkSelected(n));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,n=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!n.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}let QQ=(()=>{class i{constructor(){this._listeners=[]}notify(e,n){for(let r of this._listeners)r(e,n)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(n=>e!==n)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const kC=new c.OlP("_ViewRepeater"),JQ=["input"],eJ=["*"];let R4=0;class P4{constructor(t,e){this.source=t,this.value=e}}const tJ={provide:Bc,useExisting:(0,c.Gpc)(()=>N4),multi:!0},O4=new c.OlP("MatRadioGroup"),nJ=new c.OlP("mat-radio-default-options",{providedIn:"root",factory:function iJ(){return{color:"accent"}}});let rJ=(()=>{class i{get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=Hn(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=Hn(e),this._markRadiosForCheck()}constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+R4++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new c.vpe}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(e=>e===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(n=>{n.checked=this.value===n.value,n.checked&&(this._selected=n)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new P4(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.sBO))};static#t=this.\u0275dir=c.lG2({type:i,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}})}return i})();class oJ{constructor(t){this._elementRef=t}}const sJ=vy(Bu(oJ));let aJ=(()=>{class i extends sJ{get checked(){return this._checked}set checked(e){const n=Hn(e);this._checked!==n&&(this._checked=n,n&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!n&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),n&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(Hn(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=Hn(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,n,r,o,l,u,f,p){super(n),this._changeDetector=r,this._focusMonitor=o,this._radioDispatcher=l,this._providerOverride=f,this._uniqueId="mat-radio-"+ ++R4,this.id=this._uniqueId,this.change=new c.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===u,p&&(this.tabIndex=js(p,0))}focus(e,n){n?this._focusMonitor.focusVia(this._inputElement,n,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,n)=>{e!==this.id&&n===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new P4(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const n=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),n&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let n;if(n=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,n!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",n+""),this._previousTabIndex=n)}}static#e=this.\u0275fac=function(n){c.$Z()};static#t=this.\u0275dir=c.lG2({type:i,viewQuery:function(n,r){if(1&n&&c.Gf(JQ,5),2&n){let o;c.iGM(o=c.CRH())&&(r._inputElement=o.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[c.qOj]})}return i})(),N4=(()=>{class i extends rJ{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275dir=c.lG2({type:i,selectors:[["mat-radio-group"]],contentQueries:function(n,r,o){if(1&n&&c.Suo(o,L4,5),2&n){let l;c.iGM(l=c.CRH())&&(r._radios=l)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[c._Bn([tJ,{provide:O4,useExisting:i}]),c.qOj]})}return i})(),L4=(()=>{class i extends aJ{constructor(e,n,r,o,l,u,f,p){super(e,n,r,o,l,u,f,p)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(O4,8),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Fu),c.Y36(QQ),c.Y36(c.QbO,8),c.Y36(nJ,8),c.$8M("tabindex"))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(n,r){1&n&&c.NdJ("focus",function(){return r._inputElement.nativeElement.focus()}),2&n&&(c.uIk("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),c.ekj("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("mat-mdc-radio-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[c.qOj],ngContentSelectors:eJ,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(n,r){if(1&n&&(c.F$t(),c.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3),c.NdJ("click",function(l){return r._onTouchTargetClick(l)}),c.qZA(),c.TgZ(4,"input",4,5),c.NdJ("change",function(l){return r._onInputInteraction(l)}),c.qZA(),c.TgZ(6,"div",6),c._UZ(7,"div",7)(8,"div",8),c.qZA(),c.TgZ(9,"div",9),c._UZ(10,"div",10),c.qZA()(),c.TgZ(11,"label",11),c.Hsn(12),c.qZA()()),2&n){const o=c.MAs(1);c.ekj("mdc-form-field--align-end","before"==r.labelPosition),c.xp6(2),c.ekj("mdc-radio--disabled",r.disabled),c.xp6(2),c.Q6J("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),c.uIk("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),c.xp6(5),c.Q6J("matRippleTrigger",o)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),c.xp6(2),c.Q6J("for",r.inputId)}},dependencies:[O_],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{--mdc-radio-disabled-selected-icon-opacity:0.38;--mdc-radio-disabled-unselected-icon-opacity:0.38;--mdc-radio-state-layer-size:40px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return i})(),cJ=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[pi,li,Td,pi]})}return i})(),lJ=(()=>{class i{get(e){throw new Error("Method not implemented.")}setValue(e){throw new Error("Method not implemented.")}constructor(e,n,r,o){this.builder=e,this.service=n,this.router=r,this.toastr=o,this.registerform=this.builder.group({id:this.builder.control("",ha.compose([ha.required,ha.minLength(5)])),name:this.builder.control("",ha.required),password:this.builder.control("",ha.compose([ha.required,ha.pattern("")])),email:this.builder.control("",ha.compose([ha.required,ha.email])),gender:this.builder.control("male"),role:this.builder.control(""),isactive:this.builder.control(!1)})}proceedregister(){this.registerform.valid?this.service.RegisterUser(this.registerform.value).then(e=>{this.toastr.warning("Please contact admin for enable access.Registered successfully"),this.router.navigate(["login"])}):this.toastr.warning("Please enter valid data.")}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(YO),c.Y36(Nv),c.Y36($i),c.Y36(DC))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["app-register"]],decls:34,vars:1,consts:[["role","main",1,"content"],[1,"example-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["matInput","","formControlName","id","zzzzz",""],["matInput","","formControlName","name"],["matInput","","formControlName","password"],["matInput","","formControlName","email"],["formControlName","gender","aria-label","Gender"],["value","male"],["value","female"],["mat-button","","color","primary"],["routerLink","/login","mat-button","","color","accent"]],template:function(n,r){1&n&&(c.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"h1"),c._uU(4,"User Registration"),c.qZA()(),c.TgZ(5,"mat-card-content")(6,"form",1),c.NdJ("ngSubmit",function(){return r.proceedregister()}),c.TgZ(7,"mat-form-field",2)(8,"mat-label"),c._uU(9,"User Name"),c.qZA(),c._UZ(10,"input",3),c.qZA(),c.TgZ(11,"mat-form-field",2)(12,"mat-label"),c._uU(13,"Name"),c.qZA(),c._UZ(14,"input",4),c.qZA(),c.TgZ(15,"mat-form-field",2)(16,"mat-label"),c._uU(17,"Password"),c.qZA(),c._UZ(18,"input",5),c.qZA(),c.TgZ(19,"mat-form-field",2)(20,"mat-label"),c._uU(21,"Email"),c.qZA(),c._UZ(22,"input",6),c.qZA(),c.TgZ(23,"div")(24,"mat-radio-group",7)(25,"mat-radio-button",8),c._uU(26,"Male"),c.qZA(),c.TgZ(27,"mat-radio-button",9),c._uU(28,"Female"),c.qZA()()(),c.TgZ(29,"div")(30,"button",10),c._uU(31,"Submit"),c.qZA(),c.TgZ(32,"a",11),c._uU(33,"Back to Login"),c.qZA()()()()()()),2&n&&(c.xp6(6),c.Q6J("formGroup",r.registerform))},dependencies:[h_,S4,lI,IC,N0,L0,F0,N4,L4,Sy,vf,pD,GE,rD,oD,Pp,KE]})}return i})(),dJ=(()=>{class i{constructor(e,n,r,o){this.builder=e,this.service=n,this.router=r,this.toastr=o,this.loginform=this.builder.group({id:this.builder.control("",ha.required),password:this.builder.control("",ha.required)}),sessionStorage.clear()}proceedlogin(){if(this.loginform.valid){const e=String(this.loginform.value.id),n=this.loginform.value.password;this.service.Getbycode(e).valueChanges().subscribe(r=>{if(r){const o=r[0];o&&o.password===n?o.isactive?null!=o.id&&null!=o.role?(sessionStorage.setItem("username",o.id),sessionStorage.setItem("role",o.role),this.router.navigate(["/user"])):this.toastr.warning("User ID is undefined."):this.toastr.warning("InActive User. Please contact Admin."):this.toastr.warning("Invalid credentials")}else this.toastr.warning("User not found")})}else this.toastr.warning("Please enter valid data.")}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(YO),c.Y36(Nv),c.Y36($i),c.Y36(DC))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["app-login"]],decls:22,vars:1,consts:[["role","main",1,"content"],[1,"card"],[1,"example-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["matInput","","formControlName","id"],["matInput","","formControlName","password"],["mat-raised-button","","color","primary"],["routerLink","/register","mat-raised-button","","color","accent"]],template:function(n,r){1&n&&(c.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-header",1)(3,"h1"),c._uU(4,"User Login"),c.qZA()(),c.TgZ(5,"mat-card-content")(6,"form",2),c.NdJ("ngSubmit",function(){return r.proceedlogin()}),c.TgZ(7,"mat-form-field",3)(8,"mat-label"),c._uU(9,"User Name"),c.qZA(),c._UZ(10,"input",4),c.qZA(),c.TgZ(11,"mat-form-field",3)(12,"mat-label"),c._uU(13,"Password"),c.qZA(),c._UZ(14,"input",5),c.qZA(),c.TgZ(15,"div")(16,"button",6),c._uU(17,"Login"),c.qZA(),c.TgZ(18,"a",7),c._uU(19,"New User?"),c.qZA()(),c.TgZ(20,"p"),c._uU(21,'To login as guest, please enter "guest" as your user name and password. '),c.qZA()()()()()),2&n&&(c.xp6(6),c.Q6J("formGroup",r.loginform))},dependencies:[h_,S4,lI,IC,N0,L0,F0,Sy,vf,pD,GE,rD,oD,Pp,KE],styles:[".content[_ngcontent-%COMP%]{padding:2%;max-width:1200px;top:50%;left:50%;display:flex;justify-content:center;align-items:center;background-size:cover}#banner[_ngcontent-%COMP%]{height:600px;width:1200px}"]})}return i})();var uJ=j(4266);const hJ=["addListener","removeListener"],fJ=["addEventListener","removeEventListener"],mJ=["on","off"];function PL(i,t,e,n){if((0,wc.m)(e)&&(n=e,e=void 0),n)return PL(i,t,e).pipe(Qh(n));const[r,o]=function _J(i){return(0,wc.m)(i.addEventListener)&&(0,wc.m)(i.removeEventListener)}(i)?fJ.map(l=>u=>i[l](t,u,e)):function pJ(i){return(0,wc.m)(i.addListener)&&(0,wc.m)(i.removeListener)}(i)?hJ.map(F4(i,t)):function gJ(i){return(0,wc.m)(i.on)&&(0,wc.m)(i.off)}(i)?mJ.map(F4(i,t)):[];if(!r&&(0,uJ.z)(i))return(0,us.z)(l=>PL(l,t,e))((0,Fm.Xf)(i));if(!r)throw new TypeError("Invalid event target");return new Ho.y(l=>{const u=(...f)=>l.next(1<f.length?f:f[0]);return r(u),()=>o(u)})}function F4(i,t){return e=>n=>i[e](t,n)}var U4=j(1954);const RC={schedule(i){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:n}=RC;n&&(t=n.requestAnimationFrame,e=n.cancelAnimationFrame);const r=t(o=>{e=void 0,i(o)});return new ds.w0(()=>e?.(r))},requestAnimationFrame(...i){const{delegate:t}=RC;return(t?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:t}=RC;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0};var B4=j(2631);new class bJ extends B4.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class vJ extends U4.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=RC.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(RC.cancelAnimationFrame(e),t._scheduled=void 0)}});let OL,xJ=1;const dI={};function V4(i){return i in dI&&(delete dI[i],!0)}const wJ={setImmediate(i){const t=xJ++;return dI[t]=!0,OL||(OL=Promise.resolve()),OL.then(()=>V4(t)&&i()),t},clearImmediate(i){V4(i)}},{setImmediate:EJ,clearImmediate:CJ}=wJ,uI={setImmediate(...i){const{delegate:t}=uI;return(t?.setImmediate||EJ)(...i)},clearImmediate(i){const{delegate:t}=uI;return(t?.clearImmediate||CJ)(i)},delegate:void 0};new class SJ extends B4.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class MJ extends U4.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=uI.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(uI.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var DJ=j(671);function z4(i,t=cp.z){return function AJ(i){return(0,mo.e)((t,e)=>{let n=!1,r=null,o=null,l=!1;const u=()=>{if(o?.unsubscribe(),o=null,n){n=!1;const p=r;r=null,e.next(p)}l&&e.complete()},f=()=>{o=null,l&&e.complete()};t.subscribe((0,fo.x)(e,p=>{n=!0,r=p,o||(0,Fm.Xf)(i(p)).subscribe(o=(0,fo.x)(e,u,f))},()=>{l=!0,(!n||!o||o.closed)&&e.complete()}))})}(()=>function kJ(i=0,t,e=cp.P){let n=-1;return null!=t&&((0,DJ.K)(t)?e=t:n=t),new Ho.y(r=>{let o=function IJ(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;o<0&&(o=0);let l=0;return e.schedule(function(){r.closed||(r.next(l++),0<=n?this.schedule(void 0,n):r.complete())},o)})}(i,t))}let H4=(()=>{class i{constructor(e,n,r){this._ngZone=e,this._platform=n,this._scrolled=new hn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ho.y(n=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(z4(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,nn.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){const r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(Hr(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const n=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let r=Ua(n),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>PL(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(c.R0b),c.LFG(rr),c.LFG(we,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),hI=(()=>{class i{constructor(e,n,r){this._platform=e,this._change=new hn.x,this._changeListener=o=>{this._change.next(o)},this._document=r,n.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,n=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(z4(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(rr),c.LFG(c.R0b),c.LFG(we,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Lv=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({})}return i})(),NL=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[I_,Lv,I_,Lv]})}return i})();const OJ=[[["caption"]],[["colgroup"],["col"]]],NJ=["caption","colgroup, col"];function LL(i){return class extends i{get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Hn(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}}}const U0=new c.OlP("CDK_TABLE");let B0=(()=>{class i{constructor(e){this.template=e}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","cdkCellDef",""]]})}return i})(),V0=(()=>{class i{constructor(e){this.template=e}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","cdkHeaderCellDef",""]]})}return i})(),fI=(()=>{class i{constructor(e){this.template=e}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","cdkFooterCellDef",""]]})}return i})();class BJ{}const VJ=LL(BJ);let Lf=(()=>{class i extends VJ{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const n=this._stickyEnd;this._stickyEnd=Hn(e),this._hasStickyChanged=n!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(U0,8))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","cdkColumnDef",""]],contentQueries:function(n,r,o){if(1&n&&(c.Suo(o,B0,5),c.Suo(o,V0,5),c.Suo(o,fI,5)),2&n){let l;c.iGM(l=c.CRH())&&(r.cell=l.first),c.iGM(l=c.CRH())&&(r.headerCell=l.first),c.iGM(l=c.CRH())&&(r.footerCell=l.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[c._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),c.qOj]})}return i})();class FL{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let UL=(()=>{class i extends FL{constructor(e,n){super(e,n)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(Lf),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[c.qOj]})}return i})(),BL=(()=>{class i extends FL{constructor(e,n){if(super(e,n),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");n.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(Lf),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[c.qOj]})}return i})();class W4{constructor(){this.tasks=[],this.endTasks=[]}}const VL=new c.OlP("_COALESCED_STYLE_SCHEDULER");let j4=(()=>{class i{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new hn.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new W4,this._getScheduleObservable().pipe(Ii(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new W4;for(const n of e.tasks)n();for(const n of e.endTasks)n()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,eo.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Wo(1))}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})(),zL=(()=>{class i{constructor(e,n){this.template=e,this._differs=n}ngOnChanges(e){if(!this._columnsDiffer){const n=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(n).create(),this._columnsDiffer.diff(n)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof PC?e.headerCell.template:this instanceof OC?e.footerCell.template:e.cell.template}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.Rgc),c.Y36(c.ZZ4))};static#t=this.\u0275dir=c.lG2({type:i,features:[c.TTD]})}return i})();class zJ extends zL{}const HJ=LL(zJ);let PC=(()=>{class i extends HJ{constructor(e,n,r){super(e,n),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(U0,8))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[c.qOj,c.TTD]})}return i})();class GJ extends zL{}const WJ=LL(GJ);let OC=(()=>{class i extends WJ{constructor(e,n,r){super(e,n),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(U0,8))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[c.qOj,c.TTD]})}return i})(),mI=(()=>{class i extends zL{constructor(e,n,r){super(e,n),this._table=r}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(U0,8))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[c.qOj]})}return i})(),Ff=(()=>{class i{static#e=this.mostRecentCellOutlet=null;constructor(e){this._viewContainer=e,i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.s_b))};static#n=this.\u0275dir=c.lG2({type:i,selectors:[["","cdkCellOutlet",""]]})}return i})(),HL=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&c.GkF(0,0)},dependencies:[Ff],encapsulation:2})}return i})(),WL=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&c.GkF(0,0)},dependencies:[Ff],encapsulation:2})}return i})(),pI=(()=>{class i{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["ng-template","cdkNoDataRow",""]]})}return i})();const $4=["top","bottom","left","right"];class jJ{constructor(t,e,n,r,o=!0,l=!0,u){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=l,this._positionListener=u,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const n=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){n.push(r);for(let o=0;o<r.children.length;o++)n.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of n)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,n,r=!0){if(!t.length||!this._isBrowser||!e.some(x=>x)&&!n.some(x=>x))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],l=o.children.length,u=this._getCellWidths(o,r),f=this._getStickyStartColumnPositions(u,e),p=this._getStickyEndColumnPositions(u,n),b=e.lastIndexOf(!0),y=n.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const x="rtl"===this.direction,M=x?"right":"left",A=x?"left":"right";for(const R of t)for(let I=0;I<l;I++){const k=R.children[I];e[I]&&this._addStickyStyle(k,M,f[I],I===b),n[I]&&this._addStickyStyle(k,A,p[I],I===y)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===b?[]:u.slice(0,b+1).map((R,I)=>e[I]?R:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===y?[]:u.slice(y).map((R,I)=>n[I+y]?R:null).reverse()}))})}stickRows(t,e,n){if(!this._isBrowser)return;const r="bottom"===n?t.slice().reverse():t,o="bottom"===n?e.slice().reverse():e,l=[],u=[],f=[];for(let b=0,y=0;b<r.length;b++){if(!o[b])continue;l[b]=y;const x=r[b];f[b]=this._isNativeHtmlTable?Array.from(x.children):[x];const M=x.getBoundingClientRect().height;y+=M,u[b]=M}const p=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let b=0;b<r.length;b++){if(!o[b])continue;const y=l[b],x=b===p;for(const M of f[b])this._addStickyStyle(M,n,y,x)}"top"===n?this._positionListener?.stickyHeaderRowsUpdated({sizes:u,offsets:l,elements:f}):this._positionListener?.stickyFooterRowsUpdated({sizes:u,offsets:l,elements:f})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);$4.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${n}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const r of $4)t.style[r]&&(n+=e[r]);return n?`${n}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],r=t.children;for(let o=0;o<r.length;o++)n.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(t,e){const n=[];let r=0;for(let o=0;o<t.length;o++)e[o]&&(n[o]=r,r+=t[o]);return n}_getStickyEndColumnPositions(t,e){const n=[];let r=0;for(let o=t.length;o>0;o--)e[o]&&(n[o]=r,r+=t[o]);return n}}const jL=new c.OlP("CDK_SPL");let gI=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","rowOutlet",""]]})}return i})(),_I=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","headerRowOutlet",""]]})}return i})(),vI=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","footerRowOutlet",""]]})}return i})(),bI=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","noDataRowOutlet",""]]})}return i})(),yI=(()=>{class i{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Hn(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Hn(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,n,r,o,l,u,f,p,b,y,x,M){this._differs=e,this._changeDetectorRef=n,this._elementRef=r,this._dir=l,this._platform=f,this._viewRepeater=p,this._coalescedStyleScheduler=b,this._viewportRuler=y,this._stickyPositioningListener=x,this._ngZone=M,this._onDestroy=new hn.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new c.vpe,this.viewChange=new Go.X({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=u,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,n)=>this.trackBy?this.trackBy(n.dataIndex,n.data):n),this._viewportRuler.change().pipe(Ii(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const n=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||n,this._forceRecalculateCellWidths=n,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),kL(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const n=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,n,(r,o,l)=>this._getEmbeddedViewArgs(r.item,l),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{n.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&c.R0b.isInAngularZone()?this._ngZone.onStable.pipe(Wo(1),Ii(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const o=this._headerRowDefs.map(l=>l.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(l=>l.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const o=this._footerRowDefs.map(l=>l.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(l=>l.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...n,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,l)=>{this._addStickyColumnStyles([o],this._headerRowDefs[l])}),this._rowDefs.forEach(o=>{const l=[];for(let u=0;u<n.length;u++)this._renderRows[u].rowDef===o&&l.push(n[u]);this._addStickyColumnStyles(l,o)}),r.forEach((o,l)=>{this._addStickyColumnStyles([o],this._footerRowDefs[l])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],n=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const l=this._getRenderRowsForData(o,r,n.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let u=0;u<l.length;u++){let f=l[u];const p=this._cachedRenderRowsMap.get(f.data);p.has(f.rowDef)?p.get(f.rowDef).push(f):p.set(f.rowDef,[f]),e.push(f)}}return e}_getRenderRowsForData(e,n,r){return this._getRowDefs(e,n).map(l=>{const u=r&&r.has(l)?r.get(l):[];if(u.length){const f=u.shift();return f.dataIndex=n,f}return{data:e,rowDef:l,dataIndex:n}})}_cacheColumnDefs(){this._columnDefsByName.clear(),xI(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(n=>{this._columnDefsByName.has(n.name),this._columnDefsByName.set(n.name,n)})}_cacheRowDefs(){this._headerRowDefs=xI(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=xI(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=xI(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(n=>!n.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(l,u)=>l||!!u.getColumnsDiff(),n=this._rowDefs.reduce(e,!1);n&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),n||r||o}_switchDataSource(e){this._data=[],kL(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;kL(this.dataSource)?e=this.dataSource.connect(this):Fg(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,nn.of)(this.dataSource)),this._renderChangeSubscription=e.pipe(Ii(this._onDestroy)).subscribe(n=>{this._data=n||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,n)=>this._renderRow(this._headerRowOutlet,e,n)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,n)=>this._renderRow(this._footerRowOutlet,e,n)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,n){const r=Array.from(n.columns||[]).map(u=>this._columnDefsByName.get(u)),o=r.map(u=>u.sticky),l=r.map(u=>u.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,l,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const n=[];for(let r=0;r<e.viewContainer.length;r++){const o=e.viewContainer.get(r);n.push(o.rootNodes[0])}return n}_getRowDefs(e,n){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(n,e));else{let o=this._rowDefs.find(l=>l.when&&l.when(n,e))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(e,n){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:n}}_renderRow(e,n,r,o={}){const l=e.viewContainer.createEmbeddedView(n.template,o,r);return this._renderCellTemplateForItem(n,o),l}_renderCellTemplateForItem(e,n){for(let r of this._getCellTemplates(e))Ff.mostRecentCellOutlet&&Ff.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,n);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let n=0,r=e.length;n<r;n++){const l=e.get(n).context;l.count=r,l.first=0===n,l.last=n===r-1,l.even=n%2==0,l.odd=!l.even,this.multiTemplateDataRows?(l.dataIndex=this._renderRows[n].dataIndex,l.renderIndex=n):l.index=this._renderRows[n].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,n=>{const r=this._columnDefsByName.get(n);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),n=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of n){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const l of r.outlets)o.appendChild(l.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(n,r)=>n||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new jJ(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,nn.of)()).pipe(Ii(this._onDestroy)).subscribe(n=>{this._stickyStyler.direction=n,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(n=>!n._table||n._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const n=0===this._rowOutlet.viewContainer.length;if(n===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(n){const o=r.createEmbeddedView(e.templateRef),l=o.rootNodes[0];1===o.rootNodes.length&&l?.nodeType===this._document.ELEMENT_NODE&&(l.setAttribute("role","row"),l.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=n,this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.ZZ4),c.Y36(c.sBO),c.Y36(c.SBq),c.$8M("role"),c.Y36(Uu,8),c.Y36(we),c.Y36(rr),c.Y36(kC),c.Y36(VL),c.Y36(hI),c.Y36(jL,12),c.Y36(c.R0b,8))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(n,r,o){if(1&n&&(c.Suo(o,pI,5),c.Suo(o,Lf,5),c.Suo(o,mI,5),c.Suo(o,PC,5),c.Suo(o,OC,5)),2&n){let l;c.iGM(l=c.CRH())&&(r._noDataRow=l.first),c.iGM(l=c.CRH())&&(r._contentColumnDefs=l),c.iGM(l=c.CRH())&&(r._contentRowDefs=l),c.iGM(l=c.CRH())&&(r._contentHeaderRowDefs=l),c.iGM(l=c.CRH())&&(r._contentFooterRowDefs=l)}},viewQuery:function(n,r){if(1&n&&(c.Gf(gI,7),c.Gf(_I,7),c.Gf(vI,7),c.Gf(bI,7)),2&n){let o;c.iGM(o=c.CRH())&&(r._rowOutlet=o.first),c.iGM(o=c.CRH())&&(r._headerRowOutlet=o.first),c.iGM(o=c.CRH())&&(r._footerRowOutlet=o.first),c.iGM(o=c.CRH())&&(r._noDataRowOutlet=o.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(n,r){2&n&&c.ekj("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[c._Bn([{provide:U0,useExisting:i},{provide:kC,useClass:I4},{provide:VL,useClass:j4},{provide:jL,useValue:null}])],ngContentSelectors:NJ,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){1&n&&(c.F$t(OJ),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[gI,_I,vI,bI],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return i})();function xI(i,t){return i.concat(Array.from(t))}let YJ=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[NL]})}return i})();const qJ=[[["caption"]],[["colgroup"],["col"]]],ZJ=["caption","colgroup, col"];let q4=(()=>{class i extends yI{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(n,r){2&n&&c.ekj("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[c._Bn([{provide:yI,useExisting:i},{provide:U0,useExisting:i},{provide:VL,useClass:j4},{provide:kC,useClass:I4},{provide:jL,useValue:null}]),c.qOj],ngContentSelectors:ZJ,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){1&n&&(c.F$t(qJ),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[gI,_I,vI,bI],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{--mat-table-row-item-outline-width:1px;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return i})(),$L=(()=>{class i extends B0{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","matCellDef",""]],features:[c._Bn([{provide:B0,useExisting:i}]),c.qOj]})}return i})(),YL=(()=>{class i extends V0{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","matHeaderCellDef",""]],features:[c._Bn([{provide:V0,useExisting:i}]),c.qOj]})}return i})(),qL=(()=>{class i extends Lf{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[c._Bn([{provide:Lf,useExisting:i},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),c.qOj]})}return i})(),ZL=(()=>{class i extends UL{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275dir=c.lG2({type:i,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[c.qOj]})}return i})(),XL=(()=>{class i extends BL{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275dir=c.lG2({type:i,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[c.qOj]})}return i})(),Z4=(()=>{class i extends PC{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[c._Bn([{provide:PC,useExisting:i}]),c.qOj]})}return i})(),X4=(()=>{class i extends mI{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[c._Bn([{provide:mI,useExisting:i}]),c.qOj]})}return i})(),K4=(()=>{class i extends HL{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[c._Bn([{provide:HL,useExisting:i}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&c.GkF(0,0)},dependencies:[Ff],encapsulation:2})}return i})(),Q4=(()=>{class i extends WL{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[c._Bn([{provide:WL,useExisting:i}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&c.GkF(0,0)},dependencies:[Ff],encapsulation:2})}return i})(),iee=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[pi,YJ,pi]})}return i})();class oee extends KQ{get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}constructor(t=[]){super(),this._renderData=new Go.X([]),this._filter=new Go.X(""),this._internalPageChanges=new hn.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,n)=>{const r=e[n];if(dw(r)){const o=Number(r);return o<9007199254740991?o:r}return r},this.sortData=(e,n)=>{const r=n.active,o=n.direction;return r&&""!=o?e.sort((l,u)=>{let f=this.sortingDataAccessor(l,r),p=this.sortingDataAccessor(u,r);const b=typeof f,y=typeof p;b!==y&&("number"===b&&(f+=""),"number"===y&&(p+=""));let x=0;return null!=f&&null!=p?f>p?x=1:f<p&&(x=-1):null!=f?x=1:null!=p&&(x=-1),x*("asc"==o?1:-1)}):e},this.filterPredicate=(e,n)=>{const r=Object.keys(e).reduce((l,u)=>l+e[u]+"\u25ec","").toLowerCase(),o=n.trim().toLowerCase();return-1!=r.indexOf(o)},this._data=new Go.X(t),this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?(0,Vc.T)(this._sort.sortChange,this._sort.initialized):(0,nn.of)(null),e=this._paginator?(0,Vc.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,nn.of)(null),r=Jh([this._data,this._filter]).pipe((0,wn.U)(([u])=>this._filterData(u))),o=Jh([r,t]).pipe((0,wn.U)(([u])=>this._orderData(u))),l=Jh([o,e]).pipe((0,wn.U)(([u])=>this._pageData(u)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=l.subscribe(u=>this._renderData.next(u))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const n=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,n);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class see extends oee{}class KL{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class wI extends KL{constructor(t,e,n,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}}class QL extends KL{constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class cee extends KL{constructor(t){super(),this.element=t instanceof c.SBq?t.nativeElement:t}}class JL{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof wI?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof QL?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof cee?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class lee extends JL{constructor(t,e,n,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=l=>{const u=l.element,f=this._document.createComment("dom-portal");u.parentNode.insertBefore(f,u),this.outletElement.appendChild(u),this._attachedPortal=l,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=o}attachComponentPortal(t){const n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(t.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);-1!==r&&e.remove(r)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let eF=(()=>{class i extends JL{constructor(e,n,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=o=>{const l=o.element,u=this._document.createComment("dom-portal");o.setAttachedHost(this),l.parentNode.insertBefore(u,l),this._getRootNode().appendChild(l),this._attachedPortal=o,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(l,u)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const n=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),l=n.createComponent(o,n.length,e.injector||n.injector,e.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=e,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(e){e.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(we))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]})}return i})(),EI=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({})}return i})();const J4=Wk();class dee{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Gr(-this._previousScrollPosition.left),t.style.top=Gr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,n=t.style,r=this._document.body.style,o=n.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),J4&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),J4&&(n.scrollBehavior=o,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}}class uee{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Hr(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class eG{enable(){}disable(){}attach(){}}function tF(i,t){return t.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function tG(i,t){return t.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class hee{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();tF(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let fee=(()=>{class i{constructor(e,n,r,o){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new eG,this.close=l=>new uee(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new dee(this._viewportRuler,this._document),this.reposition=l=>new hee(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=o}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(H4),c.LFG(hI),c.LFG(c.R0b),c.LFG(we))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class nF{constructor(t){if(this.scrollStrategy=new eG,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class mee{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let nG=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(we))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),pee=(()=>{class i extends nG{constructor(e,n){super(e),this._ngZone=n,this._keydownListener=r=>{const o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){const u=o[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(we),c.LFG(c.R0b,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),gee=(()=>{class i extends nG{constructor(e,n,r){super(e),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Lu(o)},this._clickListener=o=>{const l=Lu(o),u="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let p=f.length-1;p>-1;p--){const b=f[p];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(l)||b.overlayElement.contains(u))break;const y=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>y.next(o)):y.next(o)}}}add(e){if(super.add(e),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(we),c.LFG(rr),c.LFG(c.R0b,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),CI=(()=>{class i{constructor(e,n){this._platform=n,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||sy()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const n=this._document.createElement("div");n.classList.add(e),sy()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(we),c.LFG(rr))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class NC{constructor(t,e,n,r,o,l,u,f,p,b=!1){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=l,this._document=u,this._location=f,this._outsideClickDispatcher=p,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new hn.x,this._attachments=new hn.x,this._detachments=new hn.x,this._locationChanges=ds.w0.EMPTY,this._backdropClickHandler=y=>this._backdropClick.next(y),this._backdropTransitionendHandler=y=>{this._disposeBackdrop(y.target)},this._keydownEvents=new hn.x,this._outsidePointerEvents=new hn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Wo(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Gr(this._config.width),t.height=Gr(this._config.height),t.minWidth=Gr(this._config.minWidth),t.minHeight=Gr(this._config.minHeight),t.maxWidth=Gr(this._config.maxWidth),t.maxHeight=Gr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,n){const r=M_(e||[]).filter(o=>!!o);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Ii((0,Vc.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const iG="cdk-overlay-connected-position-bounding-box",_ee=/([A-Za-z%]+)$/;class vee{get positions(){return this._preferredPositions}constructor(t,e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new hn.x,this._resizeSubscription=ds.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(iG),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[];let l;for(let u of this._preferredPositions){let f=this._getOriginPoint(t,r,u),p=this._getOverlayPoint(f,e,u),b=this._getOverlayFit(p,e,n,u);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,f);this._canFitWithFlexibleDimensions(b,p,n)?o.push({position:u,origin:f,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(f,u)}):(!l||l.overlayFit.visibleArea<b.visibleArea)&&(l={overlayFit:b,overlayPoint:p,originPoint:f,position:u,overlayRect:e})}if(o.length){let u=null,f=-1;for(const p of o){const b=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);b>f&&(f=b,u=p)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Fv(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(iG),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,n){let r,o;if("center"==n.originX)r=t.left+t.width/2;else{const l=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;r="start"==n.originX?l:u}return e.left<0&&(r-=e.left),o="center"==n.originY?t.top+t.height/2:"top"==n.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,n){let r,o;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,n,r){const o=oG(e);let{x:l,y:u}=t,f=this._getOffset(r,"x"),p=this._getOffset(r,"y");f&&(l+=f),p&&(u+=p);let x=0-u,M=u+o.height-n.height,A=this._subtractOverflows(o.width,0-l,l+o.width-n.width),R=this._subtractOverflows(o.height,x,M),I=A*R;return{visibleArea:I,isCompletelyWithinViewport:o.width*o.height===I,fitsInViewportVertically:R===o.height,fitsInViewportHorizontally:A==o.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,o=n.right-e.x,l=rG(this._overlayRef.getConfig().minHeight),u=rG(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=l&&l<=r)&&(t.fitsInViewportHorizontally||null!=u&&u<=o)}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=oG(e),o=this._viewportRect,l=Math.max(t.x+r.width-o.width,0),u=Math.max(t.y+r.height-o.height,0),f=Math.max(o.top-n.top-t.y,0),p=Math.max(o.left-n.left-t.x,0);let b=0,y=0;return b=r.width<=o.width?p||-l:t.x<this._viewportMargin?o.left-n.left-t.x:0,y=r.height<=o.height?f||-u:t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:b,y},{x:t.x+b,y:t.y+y}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const n=this._getScrollVisibility(),r=new mee(t,n);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let o,l,u,b,y,x;if("top"===e.overlayY)l=t.y,o=n.height-l+this._viewportMargin;else if("bottom"===e.overlayY)u=n.height-t.y+2*this._viewportMargin,o=n.height-u+this._viewportMargin;else{const M=Math.min(n.bottom-t.y+n.top,t.y),A=this._lastBoundingBoxSize.height;o=2*M,l=t.y-M,o>A&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.y-A/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)x=n.width-t.x+this._viewportMargin,b=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)y=t.x,b=n.right-t.x;else{const M=Math.min(n.right-t.x+n.left,t.x),A=this._lastBoundingBoxSize.width;b=2*M,y=t.x-M,b>A&&!this._isInitialRender&&!this._growAfterOpen&&(y=t.x-A/2)}return{top:l,left:y,bottom:u,right:x,width:b,height:o}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=Gr(n.height),r.top=Gr(n.top),r.bottom=Gr(n.bottom),r.width=Gr(n.width),r.left=Gr(n.left),r.right=Gr(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Gr(o)),l&&(r.maxWidth=Gr(l))}this._lastBoundingBoxSize=n,Fv(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Fv(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Fv(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){const b=this._viewportRuler.getViewportScrollPosition();Fv(n,this._getExactOverlayY(e,t,b)),Fv(n,this._getExactOverlayX(e,t,b))}else n.position="static";let u="",f=this._getOffset(e,"x"),p=this._getOffset(e,"y");f&&(u+=`translateX(${f}px) `),p&&(u+=`translateY(${p}px)`),n.transform=u.trim(),l.maxHeight&&(r?n.maxHeight=Gr(l.maxHeight):o&&(n.maxHeight="")),l.maxWidth&&(r?n.maxWidth=Gr(l.maxWidth):o&&(n.maxWidth="")),Fv(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Gr(o.y),r}_getExactOverlayX(t,e,n){let l,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),l=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===l?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Gr(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:tG(t,n),isOriginOutsideView:tF(t,n),isOverlayClipped:tG(e,n),isOverlayOutsideView:tF(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&M_(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof c.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Fv(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function rG(i){if("number"!=typeof i&&null!=i){const[t,e]=i.split(_ee);return e&&"px"!==e?null:parseFloat(t)}return i||null}function oG(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const sG="cdk-global-overlay-wrapper";class bee{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(sG),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:l,maxHeight:u}=n,f=!("100%"!==r&&"100vw"!==r||l&&"100%"!==l&&"100vw"!==l),p=!("100%"!==o&&"100vh"!==o||u&&"100%"!==u&&"100vh"!==u),b=this._xPosition,y=this._xOffset,x="rtl"===this._overlayRef.getConfig().direction;let M="",A="",R="";f?R="flex-start":"center"===b?(R="center",x?A=y:M=y):x?"left"===b||"end"===b?(R="flex-end",M=y):("right"===b||"start"===b)&&(R="flex-start",A=y):"left"===b||"start"===b?(R="flex-start",M=y):("right"===b||"end"===b)&&(R="flex-end",A=y),t.position=this._cssPosition,t.marginLeft=f?"0":M,t.marginTop=p?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=f?"0":A,e.justifyContent=R,e.alignItems=p?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(sG),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let yee=(()=>{class i{constructor(e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o}global(){return new bee}flexibleConnectedTo(e){return new vee(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(hI),c.LFG(we),c.LFG(rr),c.LFG(CI))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),xee=0,jd=(()=>{class i{constructor(e,n,r,o,l,u,f,p,b,y,x,M){this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=l,this._injector=u,this._ngZone=f,this._document=p,this._directionality=b,this._location=y,this._outsideClickDispatcher=x,this._animationsModuleType=M}create(e){const n=this._createHostElement(),r=this._createPaneElement(n),o=this._createPortalOutlet(r),l=new nF(e);return l.direction=l.direction||this._directionality.value,new NC(o,n,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const n=this._document.createElement("div");return n.id="cdk-overlay-"+xee++,n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new lee(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(fee),c.LFG(CI),c.LFG(c._Vd),c.LFG(yee),c.LFG(pee),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(we),c.LFG(Uu),c.LFG(At),c.LFG(gee),c.LFG(c.QbO,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const wee=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],aG=new c.OlP("cdk-connected-overlay-scroll-strategy");let iF=(()=>{class i{constructor(e){this.elementRef=e}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return i})(),cG=(()=>{class i{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Hn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Hn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Hn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Hn(e)}get push(){return this._push}set push(e){this._push=Hn(e)}constructor(e,n,r,o,l){this._overlay=e,this._dir=l,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ds.w0.EMPTY,this._attachSubscription=ds.w0.EMPTY,this._detachSubscription=ds.w0.EMPTY,this._positionSubscription=ds.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new c.vpe,this.positionChange=new c.vpe,this.attach=new c.vpe,this.detach=new c.vpe,this.overlayKeydown=new c.vpe,this.overlayOutsideClick=new c.vpe,this._templatePortal=new QL(n,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=wee);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),27===n.keyCode&&!this.disableClose&&!Dc(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{this.overlayOutsideClick.next(n)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new nF({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(n.width=this.width),(this.height||0===this.height)&&(n.height=this.height),(this.minWidth||0===this.minWidth)&&(n.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){const n=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof iF?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function aee(i,t=!1){return(0,mo.e)((e,n)=>{let r=0;e.subscribe((0,fo.x)(n,o=>{const l=i(o,r++);(l||t)&&n.next(o),!l&&n.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(jd),c.Y36(c.Rgc),c.Y36(c.s_b),c.Y36(aG),c.Y36(Uu,8))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[c.TTD]})}return i})();const Cee={provide:aG,deps:[jd],useFactory:function Eee(i){return()=>i.scrollStrategies.reposition()}};let LC=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:[jd,Cee],imports:[I_,EI,NL,NL]})}return i})();const Mee=["trigger"],See=["panel"];function Tee(i,t){if(1&i&&(c.TgZ(0,"span",10),c._uU(1),c.qZA()),2&i){const e=c.oxw();c.xp6(1),c.Oqu(e.placeholder)}}function Aee(i,t){if(1&i&&(c.TgZ(0,"span",14),c._uU(1),c.qZA()),2&i){const e=c.oxw(2);c.xp6(1),c.Oqu(e.triggerValue)}}function Dee(i,t){1&i&&c.Hsn(0,0,["*ngSwitchCase","true"])}function Iee(i,t){if(1&i&&(c.TgZ(0,"span",11),c.YNc(1,Aee,2,1,"span",12),c.YNc(2,Dee,1,0,"ng-content",13),c.qZA()),2&i){const e=c.oxw();c.Q6J("ngSwitch",!!e.customTrigger),c.xp6(2),c.Q6J("ngSwitchCase",!0)}}function kee(i,t){if(1&i){const e=c.EpF();c.O4$(),c.kcU(),c.TgZ(0,"div",15,16),c.NdJ("@transformPanel.done",function(r){c.CHM(e);const o=c.oxw();return c.KtG(o._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){c.CHM(e);const o=c.oxw();return c.KtG(o._handleKeydown(r))}),c.Hsn(2,1),c.qZA()}if(2&i){const e=c.oxw();c.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),c.Q6J("ngClass",e.panelClass)("@transformPanel","showing"),c.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Ree=[[["mat-select-trigger"]],"*"],Pee=["mat-select-trigger","*"],Oee={transformPanelWrap:Xr("transformPanelWrap",[Sn("* => void",Kl("@transformPanel",[Us()],{optional:!0}))]),transformPanel:Xr("transformPanel",[Yn("void",Rn({opacity:0,transform:"scale(1, 0.8)"})),Sn("void => showing",Di("120ms cubic-bezier(0, 0, 0.2, 1)",Rn({opacity:1,transform:"scale(1, 1)"}))),Sn("* => void",Di("100ms linear",Rn({opacity:0})))])};let lG=0;const dG=new c.OlP("mat-select-scroll-strategy"),Lee=new c.OlP("MAT_SELECT_CONFIG"),Fee={provide:dG,deps:[jd],useFactory:function Nee(i){return()=>i.scrollStrategies.reposition()}},Uee=new c.OlP("MatSelectTrigger");class Bee{constructor(t,e){this.source=t,this.value=e}}const Vee=vy(Bu(Ba(qR(class{constructor(i,t,e,n,r){this._elementRef=i,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r,this.stateChanges=new hn.x}}))));let zee=(()=>{class i extends Vee{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(ha.required)??!1}set required(e){this._required=Hn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Hn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Hn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=js(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,n,r,o,l,u,f,p,b,y,x,M,A,R){super(l,o,f,p,y),this._viewportRuler=e,this._changeDetectorRef=n,this._ngZone=r,this._dir=u,this._parentFormField=b,this._liveAnnouncer=A,this._defaultOptions=R,this._panelOpen=!1,this._compareWith=(I,k)=>I===k,this._uid="mat-select-"+lG++,this._triggerAriaLabelledBy=null,this._destroy=new hn.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+lG++,this._panelDoneAnimatingStream=new hn.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Ug(()=>{const I=this.options;return I?I.changes.pipe(Bm(I),(0,Ki.w)(()=>(0,Vc.T)(...I.map(k=>k.onSelectionChange)))):this._ngZone.onStable.pipe(Wo(1),(0,Ki.w)(()=>this.optionSelectionChanges))}),this.openedChange=new c.vpe,this._openedStream=this.openedChange.pipe(Hr(I=>I),(0,wn.U)(()=>{})),this._closedStream=this.openedChange.pipe(Hr(I=>!I),(0,wn.U)(()=>{})),this.selectionChange=new c.vpe,this.valueChange=new c.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=R?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=R.typeaheadDebounceInterval),this._scrollStrategyFactory=M,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(x)||0,this.id=this.id}ngOnInit(){this._selectionModel=new RL(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,fy.x)(),Ii(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Ii(this._destroy)).subscribe(e=>{e.added.forEach(n=>n.select()),e.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(Bm(null),Ii(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),n=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(void 0!==this._previousControl&&null!==n.disabled&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const n=`${this.id}-panel`;this._trackedModal&&mw(this._trackedModal,"aria-owns",n),fw(e,"aria-owns",n),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(mw(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const n=e.keyCode,r=40===n||38===n||37===n||39===n,o=13===n||32===n,l=this._keyManager;if(!l.isTyping()&&o&&!Dc(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const u=this.selected;l.onKeydown(e);const f=this.selected;f&&u!==f&&this._liveAnnouncer.announce(f.viewValue,1e4)}}_handleOpenKeydown(e){const n=this._keyManager,r=e.keyCode,o=40===r||38===r,l=n.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(l||13!==r&&32!==r||!n.activeItem||Dc(e))if(!l&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const u=this.options.some(f=>!f.disabled&&!f.selected);this.options.forEach(f=>{f.disabled||(u?f.select():f.deselect())})}else{const u=n.activeItemIndex;n.onKeydown(e),this._multiple&&o&&e.shiftKey&&n.activeItem&&n.activeItemIndex!==u&&n.activeItem._selectViaInteraction()}else e.preventDefault(),n.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Wo(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{const n=this._selectOptionByValue(e);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_skipPredicate(e){return e.disabled}_initKeyManager(){this._keyManager=new SR(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Vc.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ii(e)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Vc.T)(...this.options.map(n=>n._stateChanges)).pipe(Ii(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,n){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),n&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),n&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,e):e.indexOf(n)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let n=null;n=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){e=n;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(hI),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(P_),c.Y36(c.SBq),c.Y36(Uu,8),c.Y36(ZE,8),c.Y36(Pp,8),c.Y36(DL,8),c.Y36(th,10),c.$8M("tabindex"),c.Y36(dG),c.Y36(NS),c.Y36(Lee,8))};static#t=this.\u0275dir=c.lG2({type:i,viewQuery:function(n,r){if(1&n&&(c.Gf(Mee,5),c.Gf(See,5),c.Gf(cG,5)),2&n){let o;c.iGM(o=c.CRH())&&(r.trigger=o.first),c.iGM(o=c.CRH())&&(r.panel=o.first),c.iGM(o=c.CRH())&&(r._overlayDir=o.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[c.qOj,c.TTD]})}return i})(),uG=(()=>{class i extends zee{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=e=>!this.panelOpen&&e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Ii(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const n=this.options.toArray()[e];if(n){const r=this.panel.nativeElement,o=function e1(i,t,e){if(e.length){let n=t.toArray(),r=e.toArray(),o=0;for(let l=0;l<i+1;l++)n[l].group&&n[l].group===r[o]&&o++;return o}return 0}(e,this.options,this.optionGroups),l=n._getHostElement();r.scrollTop=0===e&&1===o?0:function rT(i,t,e,n){return i<e?i:i+t>e+n?Math.max(0,i-n+t):e}(l.offsetTop,l.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new Bee(this,e)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof iF?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Hn(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(i)))(r||i)}}();static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-select"]],contentQueries:function(n,r,o){if(1&n&&(c.Suo(o,Uee,5),c.Suo(o,Ey,5),c.Suo(o,tT,5)),2&n){let l;c.iGM(l=c.CRH())&&(r.customTrigger=l.first),c.iGM(l=c.CRH())&&(r.options=l),c.iGM(l=c.CRH())&&(r.optionGroups=l)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(n,r){1&n&&c.NdJ("keydown",function(l){return r._handleKeydown(l)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&n&&(c.uIk("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),c.ekj("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[c._Bn([{provide:AL,useExisting:i},{provide:Rw,useExisting:i}]),c.qOj],ngContentSelectors:Pee,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(n,r){if(1&n&&(c.F$t(Ree),c.TgZ(0,"div",0,1),c.NdJ("click",function(){return r.toggle()}),c.TgZ(3,"div",2),c.YNc(4,Tee,2,1,"span",3),c.YNc(5,Iee,3,2,"span",4),c.qZA(),c.TgZ(6,"div",5)(7,"div",6),c.O4$(),c.TgZ(8,"svg",7),c._UZ(9,"path",8),c.qZA()()()(),c.YNc(10,kee,3,9,"ng-template",9),c.NdJ("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&n){const o=c.MAs(1);c.xp6(3),c.Q6J("ngSwitch",r.empty),c.uIk("id",r._valueId),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngSwitchCase",!1),c.xp6(5),c.Q6J("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[Za,Ea,Ol,uh,cG,iF],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[Oee.transformPanel]},changeDetection:0})}return i})(),hG=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:[Fee],imports:[li,LC,oT,pi,Lv,IL,oT,pi]})}return i})();const Hee=["tooltip"],fG=new c.OlP("mat-tooltip-scroll-strategy"),jee={provide:fG,deps:[jd],useFactory:function Wee(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}},Yee=new c.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function $ee(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),mG="tooltip-panel",pG=ff({passive:!0});let Jee=(()=>{class i{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Hn(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Hn(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=js(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=js(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,n,r,o,l,u,f,p,b,y,x,M){this._overlay=e,this._elementRef=n,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=l,this._platform=u,this._ariaDescriber=f,this._focusMonitor=p,this._dir=y,this._defaultOptions=x,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new hn.x,this._scrollStrategy=b,this._document=M,x&&(this._showDelay=x.showDelay,this._hideDelay=x.hideDelay,x.position&&(this.position=x.position),x.positionAtOrigin&&(this.positionAtOrigin=x.positionAtOrigin),x.touchGestures&&(this.touchGestures=x.touchGestures)),y.change.pipe(Ii(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ii(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,r])=>{e.removeEventListener(n,r,pG)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(n);this._detach(),this._portal=this._portal||new wI(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Ii(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const n=this._tooltipInstance;n&&(n.isVisible()?n.hide(e):(n._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof c.SBq)return this._overlayRef;this._detach()}const n=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return r.positionChanges.pipe(Ii(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${mG}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ii(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ii(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ii(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!Dc(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const n=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();n.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n||"below"==n?r={originX:"center",originY:"above"==n?"top":"bottom"}:"before"==n||"left"==n&&e||"right"==n&&!e?r={originX:"start",originY:"center"}:("after"==n||"right"==n&&e||"left"==n&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:l}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:l}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n?r={overlayX:"center",overlayY:"bottom"}:"below"==n?r={overlayX:"center",overlayY:"top"}:"before"==n||"left"==n&&e||"right"==n&&!e?r={overlayX:"end",overlayY:"center"}:("after"==n||"right"==n&&e||"left"==n&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:l}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:l}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Wo(1),Ii(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,n){return"above"===this.position||"below"===this.position?"top"===n?n="bottom":"bottom"===n&&(n="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:n}}_updateCurrentPositionClass(e){const{overlayY:n,originX:r,originY:o}=e;let l;if(l="center"===n?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===n&&"top"===o?"above":"below",l!==this._currentPosition){const u=this._overlayRef;if(u){const f=`${this._cssClassPrefix}-${mG}-`;u.removePanelClass(f+this._currentPosition),u.addPanelClass(f+l)}this._currentPosition=l}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let n;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(n=e),this.show(void 0,n)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const n=e.targetTouches?.[0],r=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",n=>{const r=n.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const n=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",n],["touchcancel",n])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,pG)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const n=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const n=this._elementRef.nativeElement,r=n.style;("on"===e||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(n){c.$Z()};static#t=this.\u0275dir=c.lG2({type:i,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return i})(),ete=(()=>{class i extends Jee{constructor(e,n,r,o,l,u,f,p,b,y,x,M){super(e,n,r,o,l,u,f,p,b,y,x,M),this._tooltipComponent=nte,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(jd),c.Y36(c.SBq),c.Y36(H4),c.Y36(c.s_b),c.Y36(c.R0b),c.Y36(rr),c.Y36(gf),c.Y36(Fu),c.Y36(fG),c.Y36(Uu,8),c.Y36(Yee,8),c.Y36(we))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,r){2&n&&c.ekj("mat-mdc-tooltip-disabled",r.disabled)},exportAs:["matTooltip"],features:[c.qOj]})}return i})(),tte=(()=>{class i{constructor(e,n){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new hn.x,this._animationsDisabled="NoopAnimations"===n}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const n=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(n.classList.remove(e?o:r),n.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const l=getComputedStyle(n);("0s"===l.getPropertyValue("animation-duration")||"none"===l.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.sBO),c.Y36(c.QbO,8))};static#t=this.\u0275dir=c.lG2({type:i})}return i})(),nte=(()=>{class i extends tte{constructor(e,n,r){super(e,r),this._elementRef=n,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.QbO,8))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(n,r){if(1&n&&c.Gf(Hee,7),2&n){let o;c.iGM(o=c.CRH())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(n,r){1&n&&c.NdJ("mouseleave",function(l){return r._handleMouseLeave(l)}),2&n&&c.Udp("zoom",r.isVisible()?1:null)},features:[c.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(n,r){1&n&&(c.TgZ(0,"div",0,1),c.NdJ("animationend",function(l){return r._handleAnimationEnd(l)}),c.TgZ(2,"div",2),c._uU(3),c.qZA()()),2&n&&(c.ekj("mdc-tooltip--multiline",r._isMultiline),c.Q6J("ngClass",r.tooltipClass),c.xp6(3),c.Oqu(r.message))},dependencies:[Za],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return i})(),ite=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:[jee],imports:[US,li,LC,pi,pi,Lv]})}return i})();function rte(i,t){if(1&i&&(c.TgZ(0,"mat-option",19),c._uU(1),c.qZA()),2&i){const e=t.$implicit;c.Q6J("value",e),c.xp6(1),c.hij(" ",e," ")}}function ote(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"mat-form-field",16)(1,"mat-select",17),c.NdJ("selectionChange",function(r){c.CHM(e);const o=c.oxw(2);return c.KtG(o._changePageSize(r.value))}),c.YNc(2,rte,2,2,"mat-option",18),c.qZA()()}if(2&i){const e=c.oxw(2);c.Q6J("appearance",e._formFieldAppearance)("color",e.color),c.xp6(1),c.Q6J("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),c.xp6(1),c.Q6J("ngForOf",e._displayedPageSizeOptions)}}function ste(i,t){if(1&i&&(c.TgZ(0,"div",20),c._uU(1),c.qZA()),2&i){const e=c.oxw(2);c.xp6(1),c.Oqu(e.pageSize)}}function ate(i,t){if(1&i&&(c.TgZ(0,"div",12)(1,"div",13),c._uU(2),c.qZA(),c.YNc(3,ote,3,8,"mat-form-field",14),c.YNc(4,ste,2,1,"div",15),c.qZA()),2&i){const e=c.oxw();c.xp6(1),c.s9C("id",e._pageSizeLabelId),c.xp6(1),c.hij(" ",e._intl.itemsPerPageLabel," "),c.xp6(1),c.Q6J("ngIf",e._displayedPageSizeOptions.length>1),c.xp6(1),c.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function cte(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"button",21),c.NdJ("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.firstPage())}),c.O4$(),c.TgZ(1,"svg",7),c._UZ(2,"path",22),c.qZA()()}if(2&i){const e=c.oxw();c.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),c.uIk("aria-label",e._intl.firstPageLabel)}}function lte(i,t){if(1&i){const e=c.EpF();c.O4$(),c.kcU(),c.TgZ(0,"button",23),c.NdJ("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.lastPage())}),c.O4$(),c.TgZ(1,"svg",7),c._UZ(2,"path",24),c.qZA()()}if(2&i){const e=c.oxw();c.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),c.uIk("aria-label",e._intl.lastPageLabel)}}let MI=(()=>{class i{constructor(){this.changes=new hn.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,n,r)=>{if(0==r||0==n)return`0 of ${r}`;const o=e*n;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+n,r):o+n} of ${r}`}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const ute={provide:MI,deps:[[new c.FiY,new c.tp0,MI]],useFactory:function dte(i){return i||new MI}},fte=new c.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),mte=Ba(by(class{}));let pte=(()=>{class i extends mte{get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(js(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=js(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(js(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(n=>js(n)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=Hn(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=Hn(e)}constructor(e,n,r){if(super(),this._intl=e,this._changeDetectorRef=n,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new c.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:o,pageSizeOptions:l,hidePageSize:u,showFirstLastButtons:f}=r;null!=o&&(this._pageSize=o),null!=l&&(this._pageSizeOptions=l),null!=u&&(this._hidePageSize=u),null!=f&&(this._showFirstLastButtons=f)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,n)=>e-n),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(n){c.$Z()};static#t=this.\u0275dir=c.lG2({type:i,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[c.qOj]})}return i})(),gte=0,gG=(()=>{class i extends pte{constructor(e,n,r){super(e,n,r),this._pageSizeLabelId="mat-paginator-page-size-label-"+gte++,this._formFieldAppearance=r?.formFieldAppearance||"outline"}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(MI),c.Y36(c.sBO),c.Y36(fte,8))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[c.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(n,r){1&n&&(c.TgZ(0,"div",0)(1,"div",1),c.YNc(2,ate,5,4,"div",2),c.TgZ(3,"div",3)(4,"div",4),c._uU(5),c.qZA(),c.YNc(6,cte,3,5,"button",5),c.TgZ(7,"button",6),c.NdJ("click",function(){return r.previousPage()}),c.O4$(),c.TgZ(8,"svg",7),c._UZ(9,"path",8),c.qZA()(),c.kcU(),c.TgZ(10,"button",9),c.NdJ("click",function(){return r.nextPage()}),c.O4$(),c.TgZ(11,"svg",7),c._UZ(12,"path",10),c.qZA()(),c.YNc(13,lte,3,5,"button",11),c.qZA()()()),2&n&&(c.xp6(2),c.Q6J("ngIf",!r.hidePageSize),c.xp6(3),c.hij(" ",r._intl.getRangeLabel(r.pageIndex,r.pageSize,r.length)," "),c.xp6(1),c.Q6J("ngIf",r.showFirstLastButtons),c.xp6(1),c.Q6J("matTooltip",r._intl.previousPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("matTooltipPosition","above")("disabled",r._previousButtonsDisabled()),c.uIk("aria-label",r._intl.previousPageLabel),c.xp6(3),c.Q6J("matTooltip",r._intl.nextPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("matTooltipPosition","above")("disabled",r._nextButtonsDisabled()),c.uIk("aria-label",r._intl.nextPageLabel),c.xp6(3),c.Q6J("ngIf",r.showFirstLastButtons))},dependencies:[Yc,co,f1,lI,uG,Ey,ete],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return i})(),_te=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:[ute],imports:[li,Ow,hG,ite]})}return i})();const vte=["mat-sort-header",""];function bte(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"div",3),c.NdJ("@arrowPosition.start",function(){c.CHM(e);const r=c.oxw();return c.KtG(r._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){c.CHM(e);const r=c.oxw();return c.KtG(r._disableViewStateAnimation=!1)}),c._UZ(1,"div",4),c.TgZ(2,"div",5),c._UZ(3,"div",6)(4,"div",7)(5,"div",8),c.qZA()()}if(2&i){const e=c.oxw();c.Q6J("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),c.xp6(2),c.Q6J("@indicator",e._getArrowDirectionState()),c.xp6(1),c.Q6J("@leftPointer",e._getArrowDirectionState()),c.xp6(1),c.Q6J("@rightPointer",e._getArrowDirectionState())}}const yte=["*"],_G=new c.OlP("MAT_SORT_DEFAULT_OPTIONS"),xte=by(Ba(class{}));let rF=(()=>{class i extends xte{get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Hn(e)}constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new hn.x,this.start="asc",this._direction="",this.sortChange=new c.vpe}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let r=function wte(i,t){let e=["asc","desc"];return"desc"==i&&e.reverse(),t||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),o=r.indexOf(this.direction)+1;return o>=r.length&&(o=0),r[o]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(_G,8))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[c.qOj,c.TTD]})}return i})();const jp=GS.ENTERING+" "+HS.STANDARD_CURVE,z0={indicator:Xr("indicator",[Yn("active-asc, asc",Rn({transform:"translateY(0px)"})),Yn("active-desc, desc",Rn({transform:"translateY(10px)"})),Sn("active-asc <=> active-desc",Di(jp))]),leftPointer:Xr("leftPointer",[Yn("active-asc, asc",Rn({transform:"rotate(-45deg)"})),Yn("active-desc, desc",Rn({transform:"rotate(45deg)"})),Sn("active-asc <=> active-desc",Di(jp))]),rightPointer:Xr("rightPointer",[Yn("active-asc, asc",Rn({transform:"rotate(45deg)"})),Yn("active-desc, desc",Rn({transform:"rotate(-45deg)"})),Sn("active-asc <=> active-desc",Di(jp))]),arrowOpacity:Xr("arrowOpacity",[Yn("desc-to-active, asc-to-active, active",Rn({opacity:1})),Yn("desc-to-hint, asc-to-hint, hint",Rn({opacity:.54})),Yn("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",Rn({opacity:0})),Sn("* => asc, * => desc, * => active, * => hint, * => void",Di("0ms")),Sn("* <=> *",Di(jp))]),arrowPosition:Xr("arrowPosition",[Sn("* => desc-to-hint, * => desc-to-active",Di(jp,rs([Rn({transform:"translateY(-25%)"}),Rn({transform:"translateY(0)"})]))),Sn("* => hint-to-desc, * => active-to-desc",Di(jp,rs([Rn({transform:"translateY(0)"}),Rn({transform:"translateY(25%)"})]))),Sn("* => asc-to-hint, * => asc-to-active",Di(jp,rs([Rn({transform:"translateY(25%)"}),Rn({transform:"translateY(0)"})]))),Sn("* => hint-to-asc, * => active-to-asc",Di(jp,rs([Rn({transform:"translateY(0)"}),Rn({transform:"translateY(-25%)"})]))),Yn("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",Rn({transform:"translateY(0)"})),Yn("hint-to-desc, active-to-desc, desc",Rn({transform:"translateY(-25%)"})),Yn("hint-to-asc, active-to-asc, asc",Rn({transform:"translateY(25%)"}))]),allowChildren:Xr("allowChildren",[Sn("* <=> *",[Kl("@*",Us(),{optional:!0})])])};let SI=(()=>{class i{constructor(){this.changes=new hn.x}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Cte={provide:SI,deps:[[new c.FiY,new c.tp0,SI]],useFactory:function Ete(i){return i||new SI}},Mte=Ba(class{});let Ste=(()=>{class i extends Mte{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Hn(e)}constructor(e,n,r,o,l,u,f,p){super(),this._intl=e,this._changeDetectorRef=n,this._sort=r,this._columnDef=o,this._focusMonitor=l,this._elementRef=u,this._ariaDescriber=f,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",p?.arrowPosition&&(this.arrowPosition=p?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const n=!!e;n!==this._showIndicatorHint&&(this._setIndicatorHintVisible(n),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=(0,Vc.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(SI),c.Y36(c.sBO),c.Y36(rF,8),c.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),c.Y36(Fu),c.Y36(c.SBq),c.Y36(gf,8),c.Y36(_G,8))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(n,r){1&n&&c.NdJ("click",function(){return r._handleClick()})("keydown",function(l){return r._handleKeydown(l)})("mouseenter",function(){return r._setIndicatorHintVisible(!0)})("mouseleave",function(){return r._setIndicatorHintVisible(!1)}),2&n&&(c.uIk("aria-sort",r._getAriaSortAttribute()),c.ekj("mat-sort-header-disabled",r._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[c.qOj],attrs:vte,ngContentSelectors:yte,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(n,r){1&n&&(c.F$t(),c.TgZ(0,"div",0)(1,"div",1),c.Hsn(2),c.qZA(),c.YNc(3,bte,6,6,"div",2),c.qZA()),2&n&&(c.ekj("mat-sort-header-sorted",r._isSorted())("mat-sort-header-position-before","before"===r.arrowPosition),c.uIk("tabindex",r._isDisabled()?null:0)("role",r._isDisabled()?null:"button"),c.xp6(3),c.Q6J("ngIf",r._renderArrow()))},dependencies:[co],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[z0.indicator,z0.leftPointer,z0.rightPointer,z0.arrowOpacity,z0.arrowPosition,z0.allowChildren]},changeDetection:0})}return i})(),Tte=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:[Cte],imports:[li,pi]})}return i})();function Ate(i,t){}class TI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let vG=(()=>{class i extends JL{constructor(e,n,r,o,l,u,f,p){super(),this._elementRef=e,this._focusTrapFactory=n,this._config=o,this._interactivityChecker=l,this._ngZone=u,this._overlayRef=f,this._focusMonitor=p,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=b=>{this._portalOutlet.hasAttached();const y=this._portalOutlet.attachDomPortal(b);return this._contentAttached(),y},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(n)}_focusByCssSelector(e,n){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,n)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let n=null;if("string"==typeof e?n=this._document.querySelector(e):"boolean"==typeof e?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&"function"==typeof n.focus){const r=oy(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,n=oy();return e===n||e.contains(n)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=oy())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(T_),c.Y36(we,8),c.Y36(TI),c.Y36(lp),c.Y36(c.R0b),c.Y36(NC),c.Y36(Fu))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(n,r){if(1&n&&c.Gf(eF,7),2&n){let o;c.iGM(o=c.CRH())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,r){2&n&&c.uIk("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[c.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,r){1&n&&c.YNc(0,Ate,0,0,"ng-template",0)},dependencies:[eF],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return i})();class oF{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new hn.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{27===n.keyCode&&!this.disableClose&&!Dc(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(t),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const bG=new c.OlP("DialogScrollStrategy"),Dte=new c.OlP("DialogData"),Ite=new c.OlP("DefaultDialogConfig"),Rte={provide:bG,deps:[jd],useFactory:function kte(i){return()=>i.scrollStrategies.block()}};let Pte=0,yG=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,n,r,o,l,u){this._overlay=e,this._injector=n,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new hn.x,this._afterOpenedAtThisLevel=new hn.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Ug(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Bm(void 0))),this._scrollStrategy=u}open(e,n){(n={...this._defaultOptions||new TI,...n}).id=n.id||"cdk-dialog-"+Pte++,n.id&&this.getDialogById(n.id);const o=this._getOverlayConfig(n),l=this._overlay.create(o),u=new oF(l,n),f=this._attachContainer(l,u,n);return u.containerInstance=f,this._attachDialogContent(e,u,f,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.closed.subscribe(()=>this._removeOpenDialog(u,!0)),this.afterOpened.next(u),u}closeAll(){sF(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){sF(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),sF(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const n=new nF({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,r){const o=r.injector||r.viewContainerRef?.injector,l=[{provide:TI,useValue:r},{provide:oF,useValue:n},{provide:NC,useValue:e}];let u;r.container?"function"==typeof r.container?u=r.container:(u=r.container.type,l.push(...r.container.providers(r))):u=vG;const f=new wI(u,r.viewContainerRef,c.zs3.create({parent:o||this._injector,providers:l}),r.componentFactoryResolver);return e.attach(f).instance}_attachDialogContent(e,n,r,o){if(e instanceof c.Rgc){const l=this._createInjector(o,n,r,void 0);let u={$implicit:o.data,dialogRef:n};o.templateContext&&(u={...u,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new QL(e,null,u,l))}else{const l=this._createInjector(o,n,r,this._injector),u=r.attachComponentPortal(new wI(e,o.viewContainerRef,l,o.componentFactoryResolver));n.componentRef=u,n.componentInstance=u.instance}}_createInjector(e,n,r,o){const l=e.injector||e.viewContainerRef?.injector,u=[{provide:Dte,useValue:e.data},{provide:oF,useValue:n}];return e.providers&&("function"==typeof e.providers?u.push(...e.providers(n,e,r)):u.push(...e.providers)),e.direction&&(!l||!l.get(Uu,null,{optional:!0}))&&u.push({provide:Uu,useValue:{value:e.direction,change:(0,nn.of)()}}),c.zs3.create({parent:l||o,providers:u})}_removeOpenDialog(e,n){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,l)=>{o?l.setAttribute("aria-hidden",o):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const n=e.parentElement.children;for(let r=n.length-1;r>-1;r--){const o=n[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(jd),c.LFG(c.zs3),c.LFG(Ite,8),c.LFG(i,12),c.LFG(CI),c.LFG(bG))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();function sF(i,t){let e=i.length;for(;e--;)t(i[e])}let Ote=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:[yG,Rte],imports:[LC,EI,US,EI]})}return i})();function Nte(i,t){}class AI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const aF="mdc-dialog--open",xG="mdc-dialog--opening",wG="mdc-dialog--closing";let Ute=(()=>{class i extends vG{constructor(e,n,r,o,l,u,f,p){super(e,n,r,o,l,u,f,p),this._animationStateChanged=new c.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(T_),c.Y36(we,8),c.Y36(AI),c.Y36(lp),c.Y36(c.R0b),c.Y36(NC),c.Y36(Fu))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["ng-component"]],features:[c.qOj],decls:0,vars:0,template:function(n,r){},encapsulation:2})}return i})();const EG="--mat-dialog-transition-duration";function CG(i){return null==i?null:"number"==typeof i?i:i.endsWith("ms")?js(i.substring(0,i.length-2)):i.endsWith("s")?1e3*js(i.substring(0,i.length-1)):"0"===i?0:null}let Bte=(()=>{class i extends Ute{constructor(e,n,r,o,l,u,f,p,b){super(e,n,r,o,l,u,f,b),this._animationMode=p,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?CG(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?CG(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(EG,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(xG,aF)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(aF),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(aF),this._animationsEnabled?(this._hostElement.style.setProperty(EG,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(wG)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(xG,wG)}_waitForAnimationToComplete(e,n){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(T_),c.Y36(we,8),c.Y36(AI),c.Y36(lp),c.Y36(c.R0b),c.Y36(NC),c.Y36(c.QbO,8),c.Y36(Fu))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(n,r){2&n&&(c.Ikx("id",r._config.id),c.uIk("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),c.ekj("_mat-animation-noopable",!r._animationsEnabled))},features:[c.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,r){1&n&&(c.TgZ(0,"div",0)(1,"div",1),c.YNc(2,Nte,0,0,"ng-template",2),c.qZA()())},dependencies:[eF],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return i})();class cF{constructor(t,e,n){this._ref=t,this._containerInstance=n,this._afterOpened=new hn.x,this._beforeClosed=new hn.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,n._animationStateChanged.pipe(Hr(r=>"opened"===r.state),Wo(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(Hr(r=>"closed"===r.state),Wo(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Vc.T)(this.backdropClick(),this.keydownEvents().pipe(Hr(r=>27===r.keyCode&&!this.disableClose&&!Dc(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),MG(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Hr(e=>"closing"===e.state),Wo(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function MG(i,t,e){return i._closeInteractionType=t,i.close(e)}const SG=new c.OlP("MatMdcDialogData"),Vte=new c.OlP("mat-mdc-dialog-default-options"),TG=new c.OlP("mat-mdc-dialog-scroll-strategy"),Hte={provide:TG,deps:[jd],useFactory:function zte(i){return()=>i.scrollStrategies.block()}};let Gte=0,Wte=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,n,r,o,l,u,f,p,b,y){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=f,this._dialogContainerType=p,this._dialogDataToken=b,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new hn.x,this._afterOpenedAtThisLevel=new hn.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=AI,this.afterAllClosed=Ug(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Bm(void 0))),this._scrollStrategy=u,this._dialog=n.get(yG)}open(e,n){let r;(n={...this._defaultOptions||new AI,...n}).id=n.id||`${this._idPrefix}${Gte++}`,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...n,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:TI,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(l,u,f)=>(r=new this._dialogRefConstructor(l,n,f),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:f},{provide:this._dialogDataToken,useValue:u.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const l=this.openDialogs.indexOf(r);l>-1&&(this.openDialogs.splice(l,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}static#e=this.\u0275fac=function(n){c.$Z()};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})(),lF=(()=>{class i extends Wte{constructor(e,n,r,o,l,u,f,p){super(e,n,o,u,f,l,cF,Bte,SG,p),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(jd),c.LFG(c.zs3),c.LFG(At,8),c.LFG(Vte,8),c.LFG(TG),c.LFG(i,12),c.LFG(CI),c.LFG(c.QbO,8))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})(),jte=(()=>{class i{constructor(e,n,r){this.dialogRef=e,this._elementRef=n,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function $te(i,t){let e=i.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(n=>n.id===e.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const n=e._matDialogClose||e._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(e){MG(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(cF,8),c.Y36(c.SBq),c.Y36(lF))};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(n,r){1&n&&c.NdJ("click",function(l){return r._onButtonClick(l)}),2&n&&c.uIk("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[c.TTD]})}return i})(),Yte=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:[lF,Hte],imports:[Ote,LC,EI,pi,pi]})}return i})();const qte=["input"],Zte=["label"],Xte=["*"],Kte=new c.OlP("mat-checkbox-default-options",{providedIn:"root",factory:DG});function DG(){return{color:"accent",clickAction:"check-indeterminate"}}const Qte={provide:Bc,useExisting:(0,c.Gpc)(()=>kG),multi:!0};class Jte{}let ene=0;const IG=DG(),tne=Bu(Tw(vy(Ba(class{constructor(i){this._elementRef=i}}))));let nne=(()=>{class i extends tne{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Hn(e)}constructor(e,n,r,o,l,u,f){super(n),this._changeDetectorRef=r,this._ngZone=o,this._animationMode=u,this._options=f,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new c.vpe,this.indeterminateChange=new c.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||IG,this.color=this.defaultColor=this._options.color||IG.color,this.tabIndex=parseInt(l)||0,this.id=this._uniqueId=`${e}${++ene}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const n=Hn(e);n!=this.checked&&(this._checked=n,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const n=Hn(e);n!==this.disabled&&(this._disabled=n,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const n=e!=this._indeterminate;this._indeterminate=Hn(e),n&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_transitionCheckState(e){let n=this._currentCheckState,r=this._getAnimationTargetElement();if(n!==e&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,n){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===n)return this._animationClasses.uncheckedToChecked;if(3==n)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===n?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===n?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===n?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const n=this._inputElement;n&&(n.nativeElement.indeterminate=e)}static#e=this.\u0275fac=function(n){c.$Z()};static#t=this.\u0275dir=c.lG2({type:i,viewQuery:function(n,r){if(1&n&&(c.Gf(qte,5),c.Gf(Zte,5),c.Gf(O_,5)),2&n){let o;c.iGM(o=c.CRH())&&(r._inputElement=o.first),c.iGM(o=c.CRH())&&(r._labelElement=o.first),c.iGM(o=c.CRH())&&(r.ripple=o.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[c.qOj]})}return i})(),kG=(()=>{class i extends nne{constructor(e,n,r,o,l,u){super("mat-mdc-checkbox-",e,n,r,o,l,u),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){const n=new Jte;return n.source=this,n.checked=e,n}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.$8M("tabindex"),c.Y36(c.QbO,8),c.Y36(Kte,8))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(n,r){2&n&&(c.Ikx("id",r.id),c.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[c._Bn([Qte]),c.qOj],ngContentSelectors:Xte,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(n,r){if(1&n&&(c.F$t(),c.TgZ(0,"div",0),c.NdJ("click",function(l){return r._preventBubblingFromLabel(l)}),c.TgZ(1,"div",1,2)(3,"div",3),c.NdJ("click",function(){return r._onTouchTargetClick()}),c.qZA(),c.TgZ(4,"input",4,5),c.NdJ("blur",function(){return r._onBlur()})("click",function(){return r._onInputClick()})("change",function(l){return r._onInteractionEvent(l)}),c.qZA(),c._UZ(6,"div",6),c.TgZ(7,"div",7),c.O4$(),c.TgZ(8,"svg",8),c._UZ(9,"path",9),c.qZA(),c.kcU(),c._UZ(10,"div",10),c.qZA(),c._UZ(11,"div",11),c.qZA(),c.TgZ(12,"label",12,13),c.Hsn(14),c.qZA()()),2&n){const o=c.MAs(2);c.ekj("mdc-form-field--align-end","before"==r.labelPosition),c.xp6(4),c.ekj("mdc-checkbox--selected",r.checked),c.Q6J("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.tabIndex),c.uIk("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("name",r.name)("value",r.value),c.xp6(7),c.Q6J("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),c.xp6(1),c.Q6J("for",r.inputId)}},dependencies:[O_],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return i})(),RG=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({})}return i})(),one=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[pi,Td,RG,pi,RG]})}return i})();function sne(i,t){if(1&i&&(c.TgZ(0,"mat-option",7),c._uU(1),c.qZA()),2&i){const e=t.$implicit;c.Q6J("value",e.code),c.xp6(1),c.hij(" ",e.name," ")}}let ane=(()=>{class i{constructor(e,n,r,o,l){this.builder=e,this.service=n,this.dialogref=r,this.toastr=o,this.data=l,this.registerform=this.builder.group({id:this.builder.control(""),name:this.builder.control(""),password:this.builder.control(""),email:this.builder.control(""),gender:this.builder.control("male"),role:this.builder.control("",ha.required),isactive:this.builder.control(!1)}),this.service.GetAllRoll().valueChanges().subscribe(u=>{this.rolelist=u})}ngOnInit(){null!=this.data.usercode&&""!=this.data.usercode&&this.loaduserdata(this.data.usercode)}loaduserdata(e){this.service.Getbycode(e).valueChanges().subscribe(n=>{this.editData=n[0],console.log(this.editData),this.registerform.setValue({id:this.editData.id,name:this.editData.name,password:this.editData.password,email:this.editData.email,gender:this.editData.gender,role:this.editData.role,isactive:this.editData.isactive}),this.idd=this.registerform.value.id})}updateUser(){if(this.registerform.valid){const e=this.registerform.get("id")?.value;""!==e?this.service.Updateuser(e,this.registerform.value).then(()=>{this.toastr.success("Data updated successfully","success"),this.dialogref.close()}).catch(n=>{this.toastr.error("Error updating data: ",n)}):this.toastr.warning("Please Select Role for the user")}else this.toastr.warning("Please Select Role for the user")}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(YO),c.Y36(Nv),c.Y36(cF),c.Y36(DC),c.Y36(SG))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["app-updatepopup"]],decls:19,vars:4,consts:[[1,"example-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["formControlName","role"],[3,"value",4,"ngFor","ngForOf"],["formControlName","isactive",1,"example-margin"],["mat-raised-button","","color","primary",3,"click"],["mat-dialog-close","","mat-raised-button","","color","accent"],[3,"value"]],template:function(n,r){1&n&&(c.TgZ(0,"mat-card")(1,"mat-card-header")(2,"h2"),c._uU(3),c.qZA()(),c.TgZ(4,"mat-card-content")(5,"form",0),c.NdJ("ngSubmit",function(){return r.updateUser}),c.TgZ(6,"mat-form-field",1)(7,"mat-label"),c._uU(8),c.qZA(),c.TgZ(9,"mat-select",2),c.YNc(10,sne,2,2,"mat-option",3),c.qZA()(),c.TgZ(11,"div")(12,"mat-checkbox",4),c._uU(13,"Is Active"),c.qZA()(),c.TgZ(14,"div")(15,"button",5),c.NdJ("click",function(){return r.updateUser()}),c._uU(16,"Update"),c.qZA(),c.TgZ(17,"a",6),c._uU(18,"Close"),c.qZA()()()()()),2&n&&(c.xp6(3),c.Oqu(r.idd),c.xp6(2),c.Q6J("formGroup",r.registerform),c.xp6(3),c.Oqu(r.registerform.value.role),c.xp6(2),c.Q6J("ngForOf",r.rolelist))},dependencies:[Yc,lI,IC,uG,Ey,N0,L0,F0,kG,jte,Sy,vf,pD,rD,oD,Pp,KE],styles:["h2[_ngcontent-%COMP%]{font-family:verdana}"]})}return i})();function cne(i,t){1&i&&(c.TgZ(0,"th",15),c._uU(1," Username "),c.qZA())}function lne(i,t){if(1&i&&(c.TgZ(0,"td",16),c._uU(1),c.qZA()),2&i){const e=t.$implicit;c.xp6(1),c.hij(" ",e.id," ")}}function dne(i,t){1&i&&(c.TgZ(0,"th",17),c._uU(1," Name "),c.qZA())}function une(i,t){if(1&i&&(c.TgZ(0,"td",16),c._uU(1),c.qZA()),2&i){const e=t.$implicit;c.xp6(1),c.hij(" ",e.name," ")}}function hne(i,t){1&i&&(c.TgZ(0,"th",15),c._uU(1," Email "),c.qZA())}function fne(i,t){if(1&i&&(c.TgZ(0,"td",16),c._uU(1),c.qZA()),2&i){const e=t.$implicit;c.xp6(1),c.hij(" ",e.email," ")}}function mne(i,t){1&i&&(c.TgZ(0,"th",17),c._uU(1," Status "),c.qZA())}function pne(i,t){if(1&i&&(c.TgZ(0,"td",16),c._uU(1),c.qZA()),2&i){const e=t.$implicit;c.xp6(1),c.hij(" ",e.isactive?"Active":"Inactive"," ")}}function gne(i,t){1&i&&(c.TgZ(0,"th",17),c._uU(1," Role "),c.qZA())}function _ne(i,t){if(1&i&&(c.TgZ(0,"td",16),c._uU(1),c.qZA()),2&i){const e=t.$implicit;c.xp6(1),c.hij(" ",""===e.role?"Un Assigned":e.role," ")}}function vne(i,t){1&i&&(c.TgZ(0,"th",15),c._uU(1," Action "),c.qZA())}function bne(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"button",19),c.NdJ("click",function(){c.CHM(e);const r=c.oxw().$implicit,o=c.oxw();return c.KtG(o.updateUser(r.id))}),c._uU(1,"Update"),c.qZA()}}function yne(i,t){if(1&i&&(c.TgZ(0,"td",16),c.YNc(1,bne,2,0,"button",18),c.qZA()),2&i){const e=t.$implicit;c.xp6(1),c.Q6J("ngIf","admin"!==e.role)}}function xne(i,t){1&i&&c._UZ(0,"tr",20)}function wne(i,t){1&i&&c._UZ(0,"tr",21)}const Ene=function(){return[5,10,20]};let Cne=(()=>{class i{constructor(e,n){this.service=e,this.dialog=n,this.displayedColumns=["id","name","email","role","status","action"]}ngAfterViewInit(){}ngOnInit(){this.loadUser()}loadUser(){this.service.GetAll().valueChanges().subscribe(e=>{this.userList=e,this.dataSource=new see(this.userList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}updateUser(e){this.openDialog("100ms","600ms",e)}openDialog(e,n,r){this.dialog.open(ane,{enterAnimationDuration:e,exitAnimationDuration:n,width:"20%",data:{usercode:r}}).afterClosed().subscribe(l=>{this.loadUser()})}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(Nv),c.Y36(lF))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["app-userlisting"]],viewQuery:function(n,r){if(1&n&&(c.Gf(gG,5),c.Gf(rF,5)),2&n){let o;c.iGM(o=c.CRH())&&(r.paginator=o.first),c.iGM(o=c.CRH())&&(r.sort=o.first)}},decls:29,vars:5,consts:[["role","main",1,"content"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","status"],["matColumnDef","role"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,r){1&n&&(c.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"h2"),c._uU(4,"User Listing"),c.qZA()(),c.TgZ(5,"mat-card-content")(6,"div",1)(7,"table",2),c.ynx(8,3),c.YNc(9,cne,2,0,"th",4),c.YNc(10,lne,2,1,"td",5),c.BQk(),c.ynx(11,6),c.YNc(12,dne,2,0,"th",7),c.YNc(13,une,2,1,"td",5),c.BQk(),c.ynx(14,8),c.YNc(15,hne,2,0,"th",4),c.YNc(16,fne,2,1,"td",5),c.BQk(),c.ynx(17,9),c.YNc(18,mne,2,0,"th",7),c.YNc(19,pne,2,1,"td",5),c.BQk(),c.ynx(20,10),c.YNc(21,gne,2,0,"th",7),c.YNc(22,_ne,2,1,"td",5),c.BQk(),c.ynx(23,11),c.YNc(24,vne,2,0,"th",4),c.YNc(25,yne,2,1,"td",5),c.BQk(),c.YNc(26,xne,1,0,"tr",12),c.YNc(27,wne,1,0,"tr",13),c.qZA(),c._UZ(28,"mat-paginator",14),c.qZA()()()()),2&n&&(c.xp6(7),c.Q6J("dataSource",r.dataSource),c.xp6(19),c.Q6J("matHeaderRowDef",r.displayedColumns),c.xp6(1),c.Q6J("matRowDefColumns",r.displayedColumns),c.xp6(1),c.Q6J("pageSizeOptions",c.DdM(4,Ene)))},dependencies:[co,N0,L0,F0,q4,YL,Z4,qL,$L,X4,ZL,XL,K4,Q4,gG,rF,Ste,vf]})}return i})(),PG=(()=>{class i{constructor(e,n){this.service=e,this.router=n}canActivate(e,n){return this.service.isloggedin()?!(e.url.length>0&&"user"==e.url[0].path&&"admin"!=this.service.getUserRole()&&(this.router.navigate([""]),1)):(this.router.navigate(["login"]),!1)}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(Nv),c.LFG($i))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Mne=(()=>{class i{constructor(){this.points=0,this.radiusClicked=!1,this.circumferenceClicked=!1}ngOnInit(){this.points=0}ngAfterViewInit(){const e=document.getElementById("radiusSlider"),n=document.getElementById("circle"),r=document.getElementById("circle2"),o=document.getElementById("radiusLine"),l=document.getElementById("radiusText"),u=document.getElementById("circumferenceText"),f=document.getElementById("rewardPoints"),p=document.getElementById("badgeContainer"),b=document.getElementById("overlay"),y=document.getElementById("dialog-text"),x=document.getElementById("ok-button"),M=document.getElementById("congrats-overlay"),R=O=>{this.points+=O,25===this.points&&(M.style.display="block",p.innerText="Expert"),f.textContent=`Points: ${this.points}`};function I(){const O=+e.value;n.style.width=4*O+"px",n.style.height=4*O+"px",r.style.width=4*O+"px",r.style.height=4*O+"px",o.style.width=4*O+10+"px",l.textContent=`radius: ${O}px`,u.textContent=`Circumference: ${Math.round(2*Math.PI*O).toFixed(2)}px`}function k(){l.style.color="red",l.style.fontSize="18px"}function U(){u.style.color="red",u.style.fontSize="18px"}o.addEventListener("click",()=>{this.radiusClicked||(k(),R(10),this.radiusClicked=!0)},!0),r.addEventListener("click",()=>{this.circumferenceClicked||(U(),R(15),this.circumferenceClicked=!0)},!0),y.textContent="Hi, Play with slider to understand how the radius and circumference will change the size of the circle.Then try to identify the radius and circumference of the circle.",b.style.display="block",M.style.display="none",x.addEventListener("click",function(){b.style.display="none"}),e.addEventListener("input",I),o.addEventListener("click",k,!0),r.addEventListener("click",U,!0),I()}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["app-circle"]],decls:43,vars:0,consts:[["id","container"],[1,"example-card"],["id","rewardPoints"],["id","badgeContainer"],["id","radiusText"],["id","circumferenceText"],["id","rewardContainer"],["for","radiusSlider"],["type","range","id","radiusSlider","min","20","max","100","step","1","value","50"],["id","circleContainer"],["id","circle2"],["id","circle"],["id","centerPoint"],["id","radiusLine"],["id","overlay"],["id","overlay-content"],["id","dialog-text"],["id","ok-button"],["id","congrats-overlay"],["id","congrats-content"],["src","../../../assets/eyeball/index8.html",1,"example-card","sphere"]],template:function(n,r){1&n&&(c.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),c._uU(4,"Circle"),c.qZA(),c.TgZ(5,"mat-card-subtitle",2),c._uU(6,"Points: 0"),c.qZA(),c.TgZ(7,"mat-card-subtitle",3),c._uU(8,"Starter"),c.qZA(),c.TgZ(9,"mat-card-subtitle",4),c._uU(10,"Radius: 50px"),c.qZA(),c.TgZ(11,"mat-card-subtitle",5),c._uU(12,"Circumference: 157.08px"),c.qZA(),c.TgZ(13,"div",6)(14,"label",7),c._uU(15,"Adjust the radius:"),c.qZA(),c._UZ(16,"input",8),c.TgZ(17,"div",9),c._UZ(18,"div",10),c.TgZ(19,"div",11),c._UZ(20,"div",12)(21,"div",13),c.qZA()(),c.TgZ(22,"div",14)(23,"div",15),c._UZ(24,"p",16),c.TgZ(25,"button",17),c._uU(26,"OK"),c.qZA()()(),c.TgZ(27,"div",18)(28,"div",19)(29,"h1"),c._uU(30,"Congratulations! You've earned 25 points!"),c.qZA(),c.TgZ(31,"p"),c._uU(32," In this interactive exercise, you've learned the importance of points, radius, and circumference in forming a circle. "),c.qZA(),c.TgZ(33,"p"),c._uU(34," The radius is a line segment from the center of the circle to any point on its circumference. It defines the size of the circle. "),c.qZA(),c.TgZ(35,"p"),c._uU(36," The circumference is the total length of the circle's boundary, and it's calculated as 2\u03c0 times the radius. It's crucial for understanding the circle's dimensions and properties. "),c.qZA(),c.TgZ(37,"p"),c._uU(38," Keep exploring and learning to unlock more achievements and enhance your understanding of geometry! "),c.qZA()()()()(),c._UZ(39,"mat-card-content")(40,"mat-card-actions"),c.qZA(),c.TgZ(41,"mat-card-content"),c._UZ(42,"iframe",20),c.qZA()())},dependencies:[N0,D4,L0,F0,A4,T4],styles:["#container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:100px}.h[_ngcontent-%COMP%]{font-size:20px;font-weight:700;font-style:italic;color:#00b342}.d[_ngcontent-%COMP%]{font-size:20px;font-weight:700;font-style:italic;color:#6c31e3}.n[_ngcontent-%COMP%]{font-size:20px;font-weight:700;font-style:italic;color:#e35682}h1[_ngcontent-%COMP%]{color:#333}#radiusSlider[_ngcontent-%COMP%]{width:200px}#circleContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:20px}#circle[_ngcontent-%COMP%]{width:200px;height:200px;margin-top:50px;background-color:#007bff;border-radius:50%;transition:width .3s,height .3s;position:relative;overflow:hidden}#circle2[_ngcontent-%COMP%]{width:200px;height:200px;margin-top:42px;border-radius:50%;transition:width .3s,height .3s;position:absolute;overflow:hidden;border:8px solid #ff000000}#circle2[_ngcontent-%COMP%]:hover{border:8px solid red;cursor:pointer}#centerPoint[_ngcontent-%COMP%]{width:10px;height:10px;background-color:#333;border-radius:50%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}#radiusLine[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform-origin:left;height:3px;background-color:#333;width:80%}#radiusLine[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:red;height:10px;stroke:6px solid red}#radiusText[_ngcontent-%COMP%]{padding-top:50px;position:relative;font-size:14px;color:#333}#circumferenceText[_ngcontent-%COMP%]{position:relative;font-size:14px;color:#333}#overlay[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.7);z-index:999}#overlay-content[_ngcontent-%COMP%]{text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;padding:20px}#dialog-text[_ngcontent-%COMP%]{font-size:18px;margin-bottom:20px}#ok-button[_ngcontent-%COMP%]{background:#007BFF;color:#fff;padding:10px 20px;border:none;cursor:pointer}#ok-button[_ngcontent-%COMP%]:hover{background:#0056b3}.example-card[_ngcontent-%COMP%]{max-width:700px}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}.sphere[_ngcontent-%COMP%]{margin-top:100px;width:500px;height:800px}"]})}return i})();class Sne{constructor(t=512,e=512){const n=document.createElement("canvas");n.width=t,n.height=e;const r=n.getContext("2d");r.fillStyle="rgb(127,127,255)",r.fillRect(0,0,t,e);for(let o=0;o<4e3;o++){const l=Math.random()*t,u=Math.random()*e,f=3*Math.random()+3;let p=2*Math.random()-1,b=2*Math.random()-1,y=1.5;const x=Math.sqrt(p*p+b*b+y*y);p/=x,b/=x,y/=x,r.fillStyle="rgb("+(127*p+127)+","+(127*b+127)+","+255*y+")",r.beginPath(),r.arc(l,u,f,0,2*Math.PI),r.fill()}return n}}const Tne=[{path:"",component:IY,canActivate:[PG]},{path:"register",component:lJ},{path:"login",component:dJ},{path:"user",component:Cne,canActivate:[PG]},{path:"circle",component:Mne},{path:"sphere",component:hB},{path:"atom",component:(()=>{class i{constructor(e,n){this.el=e,this.ngZone=n,this.isPaused=!1}ngOnInit(){this.setupScene(),this.createParticles(),this.setupControls(),this.setupClickEvents(),this.animate(),this.onWindowResize()}ngOnDestroy(){this.ngZone.runOutsideAngular(()=>{window.removeEventListener("resize",()=>this.onWindowResize())})}setupScene(){this.scene=new HP,this.camera=new vs(15,window.innerWidth/window.innerHeight,.1,1e3),this.renderer=new BP,this.renderer.setSize(window.innerWidth,window.innerHeight),this.el.nativeElement.appendChild(this.renderer.domElement);var e=new xO(4210752,3);this.scene.add(e);var n=new bO(16777215,.3);n.position.set(this.camera.position.x+10,this.camera.position.y+10,this.camera.position.z+10);var r=new bO(16777215,.3);n.position.set(this.camera.position.x-10,this.camera.position.y-10,this.camera.position.z-10),this.scene.add(n,r),new Ml(.1,64,64),new Ml(.1,64,64),new Ml(.6,32,32),new Ml(3,64,64);let p=new pU(new Sne);p.wrapS=kd,p.wrapT=kd,p.repeat.x=10,p.repeat.y=6,new Sl({color:8657098,clearcoat:1,clearcoatRoughness:.1,metalness:.01,roughness:.5,normalMap:p,normalScale:new et(.1,.1),side:2}),new Sl({color:38976,clearcoat:1,clearcoatRoughness:.1,metalness:.01,roughness:.5,normalMap:p,normalScale:new et(.1,.1),side:2}),new Sl({color:16732240,clearcoat:1,clearcoatRoughness:.1,metalness:.1,roughness:.5,normalMap:p,normalScale:new et(.1,.1),side:2}),new Sl({color:16777113,transparent:!0,opacity:.1}),new Sl({color:10076927,transparent:!0,opacity:.15}),window.addEventListener("resize",()=>this.onWindowResize())}setupControls(){this.controls=new uB(this.camera,this.renderer.domElement),this.controls.minDistance=1,this.controls.maxDistance=30}createParticles(){this.nucleus=new Ap,this.electronGroup1s=new Ap,this.electronGroup2s=new Ap,this.createProtons(),this.createNeutrons(),this.createElectron(new Sl,1.5,2,this.electronGroup1s),this.createElectron(new Sl,3,8,this.electronGroup2s),this.nucleus.add(this.electronGroup1s,this.electronGroup2s),this.scene.add(this.nucleus)}createProtons(){const e=new Ml(.1,64,64),n=new Sl({color:8657098,clearcoat:1,clearcoatRoughness:.1,metalness:.01,roughness:.5,side:2});for(let r=0;r<8;r++){const o=new Wt(e,n),l=r/8*Math.PI*2,u=.4;o.position.set(Math.cos(l)*u,Math.sin(l)*u,0),o.name="p"+r,this.nucleus.add(o)}}createNeutrons(){const e=new Ml(.1,64,64),n=new Sl({color:38976,clearcoat:1,clearcoatRoughness:.1,metalness:.01,roughness:.5,side:2});for(let r=0;r<8;r++){const o=new Wt(e,n),l=r/8*Math.PI*2,u=.2;o.position.set(-Math.cos(l)*u,-Math.sin(l)*u,0),o.name="n"+r,this.nucleus.add(o)}}createElectron(e,n,r,o){const l=new Ml(.1,16,8);for(let u=0;u<r;u++){const f=new Wt(l,e),p=u/r*Math.PI*2;f.name="el"+u,f.position.set(Math.cos(p)*n,Math.sin(p)*n,0),o.add(f)}}setupClickEvents(){this.renderer.domElement.addEventListener("click",e=>this.onClick(e),!1)}onClick(e){const n=new et(e.clientX/window.innerWidth*2-1,-e.clientY/window.innerHeight*2+1),r=new wY;r.setFromCamera(n,this.camera);const o=r.intersectObjects([...this.electronGroup1s.children,...this.electronGroup2s.children,...this.nucleus.children]);if(o.length>0){const l=o[0].object;console.log("Clicked on particle:",l.name),this.clickedParticle.material.color.set(16777215*Math.random());let u="";u=l.name&&l.name.startsWith("p")?"Proton":l.name&&l.name.startsWith("n")?"Neutron":"Electron";const f=window.speechSynthesis,p=new SpeechSynthesisUtterance("Clicked on "+u);f.speak(p)}}updateInfoDivPosition(e,n){}updateNutronInfoDivPosition(e,n){}updateProtonInfoDivPosition(e,n){}animate(){this.isPaused||(requestAnimationFrame(()=>this.animate()),this.electronGroup2s.children.forEach(e=>{this.updateInfoDivPosition(e,this.einfoDiv)}),this.nucleus.children.forEach(e=>{this.updateNutronInfoDivPosition(e,this.ninfoDiv)}),this.nucleus.children.forEach(e=>{this.updateProtonInfoDivPosition(e,this.pinfoDiv)}),this.electronGroup1s.rotation.x+=.01,this.electronGroup1s.rotation.y+=.01,this.electronGroup2s.rotation.z+=.001,this.controls.update(),this.renderer.render(this.scene,this.camera))}onWindowResize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["app-atomic-structure"]],decls:6,vars:0,consts:[["id","einfo",1,"info"],["id","ninfo",1,"info"],["id","pinfo",1,"info"]],template:function(n,r){1&n&&(c.TgZ(0,"div",0),c._uU(1,"electrons"),c.qZA(),c.TgZ(2,"div",1),c._uU(3,"neutrons"),c.qZA(),c.TgZ(4,"div",2),c._uU(5,"protons"),c.qZA())},styles:["body[_ngcontent-%COMP%]{margin:0;overflow:hidden}canvas[_ngcontent-%COMP%]{display:block}.info[_ngcontent-%COMP%]{position:absolute;padding:4px;font-size:12px;font-family:poppins,sans-serif;font-weight:700;width:-moz-fit-content;width:fit-content;text-align:center;z-index:100;display:block;color:#f0f8ff;background-color:#f0f8ff41;border:solid 2px #767676;border-radius:5px}"]})}return i})()}];let Ane=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[qx.forRoot(Tne),qx]})}return i})();const Dne=["*",[["mat-toolbar-row"]]],Ine=["*","mat-toolbar-row"],kne=Tw(class{constructor(i){this._elementRef=i}});let Rne=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=c.lG2({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return i})(),Pne=(()=>{class i extends kne{constructor(e,n,r){super(e),this._platform=n,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36(c.SBq),c.Y36(rr),c.Y36(we))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["mat-toolbar"]],contentQueries:function(n,r,o){if(1&n&&c.Suo(o,Rne,5),2&n){let l;c.iGM(l=c.CRH())&&(r._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(n,r){2&n&&c.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:Ine,decls:2,vars:0,template:function(n,r){1&n&&(c.F$t(Dne),c.Hsn(0),c.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return i})(),One=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[pi,pi]})}return i})();function Nne(i,t){if(1&i&&(c.TgZ(0,"p"),c._uU(1),c.qZA()),2&i){const e=c.oxw(2);c.xp6(1),c.hij("Welcome, ",e.userName,"")}}function Lne(i,t){1&i&&(c.TgZ(0,"a",8),c._uU(1,"Users"),c.qZA())}function Fne(i,t){if(1&i&&(c.TgZ(0,"mat-toolbar",1),c._UZ(1,"img",2),c.YNc(2,Nne,2,1,"p",3),c.TgZ(3,"div",4)(4,"p"),c.YNc(5,Lne,2,0,"a",5),c.qZA()(),c._UZ(6,"span")(7,"div",6),c.TgZ(8,"button",7),c._uU(9,"Logout"),c.qZA()()),2&i){const e=c.oxw();c.xp6(2),c.Q6J("ngIf",e.userName),c.xp6(3),c.Q6J("ngIf",e.isAdmin)}}let Une=(()=>{class i{constructor(e,n){this.router=e,this.service=n,this.title="shikshaa",this.isMenuRequire=!1,this.isAdmin=!1,this.isStudent=!1,this.userName=""}ngDoCheck(){let e=this.router.url;this.isMenuRequire="/login"!=e&&"/register"!=e;const n=this.service.getUserRole();this.isAdmin="admin"===n,this.isStudent="Student"===n,this.userName=this.service.getUserName()}static#e=this.\u0275fac=function(n){return new(n||i)(c.Y36($i),c.Y36(Nv))};static#t=this.\u0275cmp=c.Xpm({type:i,selectors:[["app-root"]],decls:2,vars:1,consts:[["class","toolbar tooltext","role","banner",4,"ngIf"],["role","banner",1,"toolbar","tooltext"],["height","40","alt","Shikshaa Logo","src","../assets/Shikshaa_logo_white.svg"],[4,"ngIf"],["id","menu"],["mat-raised-button","","color","primary","routerLink","/user",4,"ngIf"],[1,"spacer"],["routerLink","/login","mat-flat-button","","color","basic",1,"tooltext"],["mat-raised-button","","color","primary","routerLink","/user"]],template:function(n,r){1&n&&(c.YNc(0,Fne,10,2,"mat-toolbar",0),c._UZ(1,"router-outlet")),2&n&&c.Q6J("ngIf",r.isMenuRequire)},dependencies:[co,Dx,h_,Sy,vf,Pne],styles:['*[_ngcontent-%COMP%]{padding:0;margin:0;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]{font-family:Roboto;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.spacer[_ngcontent-%COMP%]{flex:1}.toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2}.tooltext[_ngcontent-%COMP%]{font-size:medium;color:#fff;font-weight:300}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 16px}#menu[_ngcontent-%COMP%]{padding-left:20px;height:40px;display:flex;justify-content:space-between;font-size:medium}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]{height:40px;margin:0 8px;display:block;align-self:center}.toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]{height:40px;margin:0 16px;display:block;align-self:center}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover{opacity:.8}.content[_ngcontent-%COMP%]{display:flex;margin:82px auto 32px;padding:0 16px;max-width:960px;flex-direction:column;align-items:center}svg.material-icons[_ngcontent-%COMP%]{height:24px;width:auto}svg.material-icons[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#888}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:16px}.card[_ngcontent-%COMP%]{all:unset;border-radius:4px;border:1px solid #eee;background-color:#fafafa;height:40px;width:200px;margin:0 8px 16px;padding:16px;display:flex;flex-direction:row;justify-content:center;align-items:center;transition:all .2s ease-in-out;line-height:24px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child){margin-right:0}.card.card-small[_ngcontent-%COMP%]{height:16px;width:168px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card){cursor:pointer}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover{transform:translateY(-3px);box-shadow:0 4px 17px #00000059}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#696767}.card.highlight-card[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;font-weight:600;border:none;width:auto;min-width:30%;position:relative}.card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:60px}svg#rocket[_ngcontent-%COMP%]{width:80px;position:absolute;left:-10px;top:-24px}svg#rocket-smoke[_ngcontent-%COMP%]{height:calc(100vh - 95px);position:absolute;top:10px;right:180px;z-index:-10}.terminal[_ngcontent-%COMP%]{position:relative;width:80%;max-width:600px;border-radius:6px;padding-top:45px;margin-top:8px;overflow:hidden;background-color:#0f0f10}.terminal[_ngcontent-%COMP%]:before{content:"\\2022\\2022\\2022";position:absolute;top:0;left:0;height:4px;background:rgb(58,58,58);color:#c2c3c4;width:100%;font-size:2rem;line-height:0;padding:14px 0;text-indent:4px}.terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;color:#fff;padding:0 1rem 1rem;margin:0}.circle-link[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:40px;margin:8px;background-color:#fff;border:1px solid #eeeeee;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;transition:1s ease-out}.circle-link[_ngcontent-%COMP%]:hover{transform:translateY(-.25rem);box-shadow:0 3px 15px #0003}footer[_ngcontent-%COMP%]{margin-top:8px;display:flex;align-items:center;line-height:20px}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}.github-star-badge[_ngcontent-%COMP%]{color:#24292e;display:flex;align-items:center;font-size:12px;padding:3px 10px;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-image:linear-gradient(-180deg,#fafbfc,#eff3f6 90%);margin-left:4px;font-weight:600}.github-star-badge[_ngcontent-%COMP%]:hover{background-image:linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);border-color:#1b1f2359;background-position:-.5em}.github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:4px}svg#clouds[_ngcontent-%COMP%]{position:fixed;bottom:-160px;left:-230px;z-index:-10;width:1920px}@media screen and (max-width: 767px){.card-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]:not(.highlight-card){height:16px;margin:8px 0}.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:72px}svg#rocket-smoke[_ngcontent-%COMP%]{right:120px;transform:rotate(-5deg)}}@media screen and (max-width: 575px){svg#rocket-smoke[_ngcontent-%COMP%]{display:none;visibility:hidden}}']})}return i})();const Hne={provide:new c.OlP("mat-menu-scroll-strategy"),deps:[jd],useFactory:function zne(i){return()=>i.scrollStrategies.reposition()}};let Gne=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:[Hne],imports:[li,Td,pi,LC,Lv,pi]})}return i})(),Wne=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[HQ,hG,XQ,cJ,one,iee,_te,Tte,Yte,Ow,Gne]})}return i})(),$ne=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[li,pi,Lv,Lv,pi]})}return i})(),Yne=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[pi,pi]})}return i})(),Eie=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[Cd,li,pi,Td,kw,Yne]})}return i})();class DI{}class II{}class sh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const r=e.slice(0,n),o=r.toLowerCase(),l=e.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(l):this.headers.set(o,[l])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.setHeaderEntries(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof sh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new sh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof sh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let l=this.headers.get(e);if(!l)return;l=l.filter(u=>-1===o.indexOf(u)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const n=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Cie{encodeKey(t){return BG(t)}encodeValue(t){return BG(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Sie=/%(\d[a-f0-9])/gi,Tie={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function BG(i){return encodeURIComponent(i).replace(Sie,(t,e)=>Tie[e]??t)}function kI(i){return`${i}`}class $p{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Cie,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Mie(i,t){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[l,u]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],f=e.get(l)||[];f.push(u),e.set(l,f)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e],r=Array.isArray(n)?n.map(kI):[kI(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new $p({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(kI(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const r=n.indexOf(kI(t.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Aie{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function VG(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function zG(i){return typeof Blob<"u"&&i instanceof Blob}function HG(i){return typeof FormData<"u"&&i instanceof FormData}class FC{constructor(t,e,n,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Die(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new sh),this.context||(this.context=new Aie),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const u=e.indexOf("?");this.urlWithParams=e+(-1===u?"?":u<e.length-1?"&":"")+l}}else this.params=new $p,this.urlWithParams=e}serializeBody(){return null===this.body?null:VG(this.body)||zG(this.body)||HG(this.body)||function Iie(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof $p?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||HG(this.body)?null:zG(this.body)?this.body.type||null:VG(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $p?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,l=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,u=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let f=t.headers||this.headers,p=t.params||this.params;const b=t.context??this.context;return void 0!==t.setHeaders&&(f=Object.keys(t.setHeaders).reduce((y,x)=>y.set(x,t.setHeaders[x]),f)),t.setParams&&(p=Object.keys(t.setParams).reduce((y,x)=>y.set(x,t.setParams[x]),p)),new FC(e,n,o,{params:p,headers:f,context:b,reportProgress:u,responseType:r,withCredentials:l})}}var H0=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(H0||{});class uF{constructor(t,e=200,n="OK"){this.headers=t.headers||new sh,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class hF extends uF{constructor(t={}){super(t),this.type=H0.ResponseHeader}clone(t={}){return new hF({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class G0 extends uF{constructor(t={}){super(t),this.type=H0.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new G0({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class GG extends uF{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function fF(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let mF=(()=>{class i{constructor(e){this.handler=e}request(e,n,r={}){let o;if(e instanceof FC)o=e;else{let f,p;f=r.headers instanceof sh?r.headers:new sh(r.headers),r.params&&(p=r.params instanceof $p?r.params:new $p({fromObject:r.params})),o=new FC(e,n,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:p,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=(0,nn.of)(o).pipe(zm(f=>this.handler.handle(f)));if(e instanceof FC||"events"===r.observe)return l;const u=l.pipe(Hr(f=>f instanceof G0));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe((0,wn.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return u.pipe((0,wn.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return u.pipe((0,wn.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return u.pipe((0,wn.U)(f=>f.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new $p).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,fF(r,n))}post(e,n,r={}){return this.request("POST",e,fF(r,n))}put(e,n,r={}){return this.request("PUT",e,fF(r,n))}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(DI))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();function $G(i,t){return t(i)}function Rie(i,t){return(e,n)=>t.intercept(e,{handle:r=>i(r,n)})}const Oie=new c.OlP(""),UC=new c.OlP(""),YG=new c.OlP("");function Nie(){let i=null;return(t,e)=>{null===i&&(i=((0,c.f3M)(Oie,{optional:!0})??[]).reduceRight(Rie,$G));const n=(0,c.f3M)(c.HDt),r=n.add();return i(t,e).pipe(Hm(()=>n.remove(r)))}}let qG=(()=>{class i extends DI{constructor(e,n){super(),this.backend=e,this.injector=n,this.chain=null,this.pendingTasks=(0,c.f3M)(c.HDt)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(UC),...this.injector.get(YG,[])]));this.chain=r.reduceRight((o,l)=>function Pie(i,t,e){return(n,r)=>e.runInContext(()=>t(n,o=>i(o,r)))}(o,l,this.injector),$G)}const n=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Hm(()=>this.pendingTasks.remove(n)))}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(II),c.LFG(c.lqb))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();const Bie=/^\)\]\}',?\n/;let XG=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new c.vHH(-2800,!1);const n=this.xhrFactory;return(n.\u0275loadImpl?(0,eo.D)(n.\u0275loadImpl()):(0,nn.of)(null)).pipe((0,Ki.w)(()=>new Ho.y(o=>{const l=n.build();if(l.open(e.method,e.urlWithParams),e.withCredentials&&(l.withCredentials=!0),e.headers.forEach((R,I)=>l.setRequestHeader(R,I.join(","))),e.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const R=e.detectContentTypeHeader();null!==R&&l.setRequestHeader("Content-Type",R)}if(e.responseType){const R=e.responseType.toLowerCase();l.responseType="json"!==R?R:"text"}const u=e.serializeBody();let f=null;const p=()=>{if(null!==f)return f;const R=l.statusText||"OK",I=new sh(l.getAllResponseHeaders()),k=function Vie(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(l)||e.url;return f=new hF({headers:I,status:l.status,statusText:R,url:k}),f},b=()=>{let{headers:R,status:I,statusText:k,url:U}=p(),O=null;204!==I&&(O=typeof l.response>"u"?l.responseText:l.response),0===I&&(I=O?200:0);let B=I>=200&&I<300;if("json"===e.responseType&&"string"==typeof O){const W=O;O=O.replace(Bie,"");try{O=""!==O?JSON.parse(O):null}catch(Z){O=W,B&&(B=!1,O={error:Z,text:O})}}B?(o.next(new G0({body:O,headers:R,status:I,statusText:k,url:U||void 0})),o.complete()):o.error(new GG({error:O,headers:R,status:I,statusText:k,url:U||void 0}))},y=R=>{const{url:I}=p(),k=new GG({error:R,status:l.status||0,statusText:l.statusText||"Unknown Error",url:I||void 0});o.error(k)};let x=!1;const M=R=>{x||(o.next(p()),x=!0);let I={type:H0.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(I.total=R.total),"text"===e.responseType&&l.responseText&&(I.partialText=l.responseText),o.next(I)},A=R=>{let I={type:H0.UploadProgress,loaded:R.loaded};R.lengthComputable&&(I.total=R.total),o.next(I)};return l.addEventListener("load",b),l.addEventListener("error",y),l.addEventListener("timeout",y),l.addEventListener("abort",y),e.reportProgress&&(l.addEventListener("progress",M),null!==u&&l.upload&&l.upload.addEventListener("progress",A)),l.send(u),o.next({type:H0.Sent}),()=>{l.removeEventListener("error",y),l.removeEventListener("abort",y),l.removeEventListener("load",b),l.removeEventListener("timeout",y),e.reportProgress&&(l.removeEventListener("progress",M),null!==u&&l.upload&&l.upload.removeEventListener("progress",A)),l.readyState!==l.DONE&&l.abort()}})))}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(Lo))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();const pF=new c.OlP("XSRF_ENABLED"),KG=new c.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),QG=new c.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class JG{}let Gie=(()=>{class i{constructor(e,n,r){this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Es(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(n){return new(n||i)(c.LFG(we),c.LFG(c.Lbi),c.LFG(KG))};static#t=this.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac})}return i})();function Wie(i,t){const e=i.url.toLowerCase();if(!(0,c.f3M)(pF)||"GET"===i.method||"HEAD"===i.method||e.startsWith("http://")||e.startsWith("https://"))return t(i);const n=(0,c.f3M)(JG).getToken(),r=(0,c.f3M)(QG);return null!=n&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,n)})),t(i)}var Yp=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(Yp||{});function jie(...i){const t=[mF,XG,qG,{provide:DI,useExisting:qG},{provide:II,useExisting:XG},{provide:UC,useValue:Wie,multi:!0},{provide:pF,useValue:!0},{provide:JG,useClass:Gie}];for(const e of i)t.push(...e.\u0275providers);return(0,c.MR2)(t)}const e6=new c.OlP("LEGACY_INTERCEPTOR_FN");function $ie(){return function Uv(i,t){return{\u0275kind:i,\u0275providers:t}}(Yp.LegacyInterceptors,[{provide:e6,useFactory:Nie},{provide:UC,useExisting:e6,multi:!0}])}let Yie=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({providers:[jie($ie())]})}return i})();const Jie_firebase={apiKey:"AIzaSyCnWNW_JRtsBy6ds0Yz9J3gQhl5ufPhIVA",authDomain:"angular15-harish.firebaseapp.com",projectId:"angular15-harish",storageBucket:"angular15-harish.appspot.com",messagingSenderId:"267251024705",appId:"1:267251024705:web:5e2095d220abc3a4fc17c0"};let ore=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i});static#n=this.\u0275inj=c.cJS({imports:[pi,pi]})}return i})(),sre=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=c.oAB({type:i,bootstrap:[Une]});static#n=this.\u0275inj=c.cJS({providers:[Nv],imports:[ou,Ane,qC,Wne,One,$ne,Eie,ore,Cq,Yie,Vd.hO.initializeApp(Jie_firebase),kK,JK.forRoot({timeOut:1e4,positionClass:"toast-top-right",preventDuplicates:!0}),qx.forRoot([]),Ow]})}return i})();Ar().bootstrapModule(sre).catch(i=>console.error(i))},5619:(tn,Je,j)=>{j.d(Je,{X:()=>be});var c=j(8645);class be extends c.x{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const Ae=super._subscribe(Ce);return!Ae.closed&&Ce.next(this._value),Ae}getValue(){const{hasError:Ce,thrownError:Ae,_value:we}=this;if(Ce)throw Ae;return this._throwIfClosed(),we}next(Ce){super.next(this._value=Ce)}}},5592:(tn,Je,j)=>{j.d(Je,{y:()=>mt});var c=j(305),be=j(7394),$=j(4850),Ce=j(8407),Ae=j(2653),we=j(4674),Ge=j(1441);let mt=(()=>{class ye{constructor(ct){ct&&(this._subscribe=ct)}lift(ct){const Ft=new ye;return Ft.source=this,Ft.operator=ct,Ft}subscribe(ct,Ft,ht){const At=function se(ye){return ye&&ye instanceof c.Lv||function ne(ye){return ye&&(0,we.m)(ye.next)&&(0,we.m)(ye.error)&&(0,we.m)(ye.complete)}(ye)&&(0,be.Nn)(ye)}(ct)?ct:new c.Hp(ct,Ft,ht);return(0,Ge.x)(()=>{const{operator:bt,source:un}=this;At.add(bt?bt.call(At,un):un?this._subscribe(At):this._trySubscribe(At))}),At}_trySubscribe(ct){try{return this._subscribe(ct)}catch(Ft){ct.error(Ft)}}forEach(ct,Ft){return new(Ft=Ve(Ft))((ht,At)=>{const bt=new c.Hp({next:un=>{try{ct(un)}catch(cn){At(cn),bt.unsubscribe()}},error:At,complete:ht});this.subscribe(bt)})}_subscribe(ct){var Ft;return null===(Ft=this.source)||void 0===Ft?void 0:Ft.subscribe(ct)}[$.L](){return this}pipe(...ct){return(0,Ce.U)(ct)(this)}toPromise(ct){return new(ct=Ve(ct))((Ft,ht)=>{let At;this.subscribe(bt=>At=bt,bt=>ht(bt),()=>Ft(At))})}}return ye.create=yt=>new ye(yt),ye})();function Ve(ye){var yt;return null!==(yt=ye??Ae.config.Promise)&&void 0!==yt?yt:Promise}},8645:(tn,Je,j)=>{j.d(Je,{x:()=>Ge});var c=j(5592),be=j(7394);const Ce=(0,j(2306).d)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=j(9039),we=j(1441);let Ge=(()=>{class Ve extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const ye=new mt(this,this);return ye.operator=se,ye}_throwIfClosed(){if(this.closed)throw new Ce}next(se){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ye of this.currentObservers)ye.next(se)}})}error(se){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:ye}=this;for(;ye.length;)ye.shift().error(se)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:ye,isStopped:yt,observers:ct}=this;return ye||yt?be.Lc:(this.currentObservers=null,ct.push(se),new be.w0(()=>{this.currentObservers=null,(0,Ae.P)(ct,se)}))}_checkFinalizedStatuses(se){const{hasError:ye,thrownError:yt,isStopped:ct}=this;ye?se.error(yt):ct&&se.complete()}asObservable(){const se=new c.y;return se.source=this,se}}return Ve.create=(ne,se)=>new mt(ne,se),Ve})();class mt extends Ge{constructor(ne,se){super(),this.destination=ne,this.source=se}next(ne){var se,ye;null===(ye=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===ye||ye.call(se,ne)}error(ne){var se,ye;null===(ye=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===ye||ye.call(se,ne)}complete(){var ne,se;null===(se=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===se||se.call(ne)}_subscribe(ne){var se,ye;return null!==(ye=null===(se=this.source)||void 0===se?void 0:se.subscribe(ne))&&void 0!==ye?ye:be.Lc}}},305:(tn,Je,j)=>{j.d(Je,{Hp:()=>ht,Lv:()=>ye});var c=j(4674),be=j(7394),$=j(2653),Ce=j(3894),Ae=j(2420);const we=Ve("C",void 0,void 0);function Ve(Te,qe,Me){return{kind:Te,value:qe,error:Me}}var ne=j(7599),se=j(1441);class ye extends be.w0{constructor(qe){super(),this.isStopped=!1,qe?(this.destination=qe,(0,be.Nn)(qe)&&qe.add(this)):this.destination=cn}static create(qe,Me,it){return new ht(qe,Me,it)}next(qe){this.isStopped?un(function mt(Te){return Ve("N",Te,void 0)}(qe),this):this._next(qe)}error(qe){this.isStopped?un(function Ge(Te){return Ve("E",void 0,Te)}(qe),this):(this.isStopped=!0,this._error(qe))}complete(){this.isStopped?un(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(qe){this.destination.next(qe)}_error(qe){try{this.destination.error(qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const yt=Function.prototype.bind;function ct(Te,qe){return yt.call(Te,qe)}class Ft{constructor(qe){this.partialObserver=qe}next(qe){const{partialObserver:Me}=this;if(Me.next)try{Me.next(qe)}catch(it){At(it)}}error(qe){const{partialObserver:Me}=this;if(Me.error)try{Me.error(qe)}catch(it){At(it)}else At(qe)}complete(){const{partialObserver:qe}=this;if(qe.complete)try{qe.complete()}catch(Me){At(Me)}}}class ht extends ye{constructor(qe,Me,it){let gt;if(super(),(0,c.m)(qe)||!qe)gt={next:qe??void 0,error:Me??void 0,complete:it??void 0};else{let Pt;this&&$.config.useDeprecatedNextContext?(Pt=Object.create(qe),Pt.unsubscribe=()=>this.unsubscribe(),gt={next:qe.next&&ct(qe.next,Pt),error:qe.error&&ct(qe.error,Pt),complete:qe.complete&&ct(qe.complete,Pt)}):gt=qe}this.destination=new Ft(gt)}}function At(Te){$.config.useDeprecatedSynchronousErrorHandling?(0,se.O)(Te):(0,Ce.h)(Te)}function un(Te,qe){const{onStoppedNotification:Me}=$.config;Me&&ne.z.setTimeout(()=>Me(Te,qe))}const cn={closed:!0,next:Ae.Z,error:function bt(Te){throw Te},complete:Ae.Z}},7394:(tn,Je,j)=>{j.d(Je,{Lc:()=>we,w0:()=>Ae,Nn:()=>Ge});var c=j(4674);const $=(0,j(2306).d)(Ve=>function(se){Ve(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((ye,yt)=>`${yt+1}) ${ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var Ce=j(9039);class Ae{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const ct of se)ct.remove(this);else se.remove(this);const{initialTeardown:ye}=this;if((0,c.m)(ye))try{ye()}catch(ct){ne=ct instanceof $?ct.errors:[ct]}const{_finalizers:yt}=this;if(yt){this._finalizers=null;for(const ct of yt)try{mt(ct)}catch(Ft){ne=ne??[],Ft instanceof $?ne=[...ne,...Ft.errors]:ne.push(Ft)}}if(ne)throw new $(ne)}}add(ne){var se;if(ne&&ne!==this)if(this.closed)mt(ne);else{if(ne instanceof Ae){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(ne)}}_hasParent(ne){const{_parentage:se}=this;return se===ne||Array.isArray(se)&&se.includes(ne)}_addParent(ne){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(ne),se):se?[se,ne]:ne}_removeParent(ne){const{_parentage:se}=this;se===ne?this._parentage=null:Array.isArray(se)&&(0,Ce.P)(se,ne)}remove(ne){const{_finalizers:se}=this;se&&(0,Ce.P)(se,ne),ne instanceof Ae&&ne._removeParent(this)}}Ae.EMPTY=(()=>{const Ve=new Ae;return Ve.closed=!0,Ve})();const we=Ae.EMPTY;function Ge(Ve){return Ve instanceof Ae||Ve&&"closed"in Ve&&(0,c.m)(Ve.remove)&&(0,c.m)(Ve.add)&&(0,c.m)(Ve.unsubscribe)}function mt(Ve){(0,c.m)(Ve)?Ve():Ve.unsubscribe()}},2653:(tn,Je,j)=>{j.d(Je,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(tn,Je,j)=>{j.d(Je,{E:()=>be});const be=new(j(5592).y)(Ae=>Ae.complete())},2459:(tn,Je,j)=>{j.d(Je,{D:()=>qe});var c=j(4829),be=j(3093),$=j(5137),we=j(5592),mt=j(4971),Ve=j(4674),ne=j(7103);function ye(Me,it){if(!Me)throw new Error("Iterable cannot be null");return new we.y(gt=>{(0,ne.f)(gt,it,()=>{const Pt=Me[Symbol.asyncIterator]();(0,ne.f)(gt,it,()=>{Pt.next().then(Re=>{Re.done?gt.complete():gt.next(Re.value)})},0,!0)})})}var yt=j(8382),ct=j(4026),Ft=j(4266),ht=j(3664),At=j(5726),bt=j(9853),un=j(541);function qe(Me,it){return it?function Te(Me,it){if(null!=Me){if((0,yt.c)(Me))return function Ce(Me,it){return(0,c.Xf)(Me).pipe((0,$.R)(it),(0,be.Q)(it))}(Me,it);if((0,Ft.z)(Me))return function Ge(Me,it){return new we.y(gt=>{let Pt=0;return it.schedule(function(){Pt===Me.length?gt.complete():(gt.next(Me[Pt++]),gt.closed||this.schedule())})})}(Me,it);if((0,ct.t)(Me))return function Ae(Me,it){return(0,c.Xf)(Me).pipe((0,$.R)(it),(0,be.Q)(it))}(Me,it);if((0,At.D)(Me))return ye(Me,it);if((0,ht.T)(Me))return function se(Me,it){return new we.y(gt=>{let Pt;return(0,ne.f)(gt,it,()=>{Pt=Me[mt.h](),(0,ne.f)(gt,it,()=>{let Re,mn;try{({value:Re,done:mn}=Pt.next())}catch(Kn){return void gt.error(Kn)}mn?gt.complete():gt.next(Re)},0,!0)}),()=>(0,Ve.m)(Pt?.return)&&Pt.return()})}(Me,it);if((0,un.L)(Me))return function cn(Me,it){return ye((0,un.Q)(Me),it)}(Me,it)}throw(0,bt.z)(Me)}(Me,it):(0,c.Xf)(Me)}},4829:(tn,Je,j)=>{j.d(Je,{Xf:()=>yt});var c=j(7582),be=j(4266),$=j(4026),Ce=j(5592),Ae=j(8382),we=j(5726),Ge=j(9853),mt=j(3664),Ve=j(541),ne=j(4674),se=j(3894),ye=j(4850);function yt(Te){if(Te instanceof Ce.y)return Te;if(null!=Te){if((0,Ae.c)(Te))return function ct(Te){return new Ce.y(qe=>{const Me=Te[ye.L]();if((0,ne.m)(Me.subscribe))return Me.subscribe(qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,be.z)(Te))return function Ft(Te){return new Ce.y(qe=>{for(let Me=0;Me<Te.length&&!qe.closed;Me++)qe.next(Te[Me]);qe.complete()})}(Te);if((0,$.t)(Te))return function ht(Te){return new Ce.y(qe=>{Te.then(Me=>{qe.closed||(qe.next(Me),qe.complete())},Me=>qe.error(Me)).then(null,se.h)})}(Te);if((0,we.D)(Te))return bt(Te);if((0,mt.T)(Te))return function At(Te){return new Ce.y(qe=>{for(const Me of Te)if(qe.next(Me),qe.closed)return;qe.complete()})}(Te);if((0,Ve.L)(Te))return function un(Te){return bt((0,Ve.Q)(Te))}(Te)}throw(0,Ge.z)(Te)}function bt(Te){return new Ce.y(qe=>{(function cn(Te,qe){var Me,it,gt,Pt;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Me=(0,c.KL)(Te);!(it=yield Me.next()).done;)if(qe.next(it.value),qe.closed)return}catch(Re){gt={error:Re}}finally{try{it&&!it.done&&(Pt=Me.return)&&(yield Pt.call(Me))}finally{if(gt)throw gt.error}}qe.complete()})})(Te,qe).catch(Me=>qe.error(Me))})}},3019:(tn,Je,j)=>{j.d(Je,{T:()=>we});var c=j(7537),be=j(4829),$=j(6232),Ce=j(9940),Ae=j(2459);function we(...Ge){const mt=(0,Ce.yG)(Ge),Ve=(0,Ce._6)(Ge,1/0),ne=Ge;return ne.length?1===ne.length?(0,be.Xf)(ne[0]):(0,c.J)(Ve)((0,Ae.D)(ne,mt)):$.E}},2096:(tn,Je,j)=>{j.d(Je,{of:()=>$});var c=j(9940),be=j(2459);function $(...Ce){const Ae=(0,c.yG)(Ce);return(0,be.D)(Ce,Ae)}},8251:(tn,Je,j)=>{j.d(Je,{x:()=>be});var c=j(305);function be(Ce,Ae,we,Ge,mt){return new $(Ce,Ae,we,Ge,mt)}class $ extends c.Lv{constructor(Ae,we,Ge,mt,Ve,ne){super(Ae),this.onFinalize=Ve,this.shouldUnsubscribe=ne,this._next=we?function(se){try{we(se)}catch(ye){Ae.error(ye)}}:super._next,this._error=mt?function(se){try{mt(se)}catch(ye){Ae.error(ye)}finally{this.unsubscribe()}}:super._error,this._complete=Ge?function(){try{Ge()}catch(se){Ae.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(Ae=this.onFinalize)||void 0===Ae||Ae.call(this))}}}},3997:(tn,Je,j)=>{j.d(Je,{x:()=>Ce});var c=j(2737),be=j(9360),$=j(8251);function Ce(we,Ge=c.y){return we=we??Ae,(0,be.e)((mt,Ve)=>{let ne,se=!0;mt.subscribe((0,$.x)(Ve,ye=>{const yt=Ge(ye);(se||!we(ne,yt))&&(se=!1,ne=yt,Ve.next(ye))}))})}function Ae(we,Ge){return we===Ge}},7398:(tn,Je,j)=>{j.d(Je,{U:()=>$});var c=j(9360),be=j(8251);function $(Ce,Ae){return(0,c.e)((we,Ge)=>{let mt=0;we.subscribe((0,be.x)(Ge,Ve=>{Ge.next(Ce.call(Ae,Ve,mt++))}))})}},7537:(tn,Je,j)=>{j.d(Je,{J:()=>$});var c=j(1631),be=j(2737);function $(Ce=1/0){return(0,c.z)(be.y,Ce)}},1631:(tn,Je,j)=>{j.d(Je,{z:()=>mt});var c=j(7398),be=j(4829),$=j(9360),Ce=j(7103),Ae=j(8251),Ge=j(4674);function mt(Ve,ne,se=1/0){return(0,Ge.m)(ne)?mt((ye,yt)=>(0,c.U)((ct,Ft)=>ne(ye,ct,yt,Ft))((0,be.Xf)(Ve(ye,yt))),se):("number"==typeof ne&&(se=ne),(0,$.e)((ye,yt)=>function we(Ve,ne,se,ye,yt,ct,Ft,ht){const At=[];let bt=0,un=0,cn=!1;const Te=()=>{cn&&!At.length&&!bt&&ne.complete()},qe=it=>bt<ye?Me(it):At.push(it),Me=it=>{ct&&ne.next(it),bt++;let gt=!1;(0,be.Xf)(se(it,un++)).subscribe((0,Ae.x)(ne,Pt=>{yt?.(Pt),ct?qe(Pt):ne.next(Pt)},()=>{gt=!0},void 0,()=>{if(gt)try{for(bt--;At.length&&bt<ye;){const Pt=At.shift();Ft?(0,Ce.f)(ne,Ft,()=>Me(Pt)):Me(Pt)}Te()}catch(Pt){ne.error(Pt)}}))};return Ve.subscribe((0,Ae.x)(ne,qe,()=>{cn=!0,Te()})),()=>{ht?.()}}(ye,yt,Ve,se)))}},3093:(tn,Je,j)=>{j.d(Je,{Q:()=>Ce});var c=j(7103),be=j(9360),$=j(8251);function Ce(Ae,we=0){return(0,be.e)((Ge,mt)=>{Ge.subscribe((0,$.x)(mt,Ve=>(0,c.f)(mt,Ae,()=>mt.next(Ve),we),()=>(0,c.f)(mt,Ae,()=>mt.complete(),we),Ve=>(0,c.f)(mt,Ae,()=>mt.error(Ve),we)))})}},3020:(tn,Je,j)=>{j.d(Je,{B:()=>Ae});var c=j(4829),be=j(8645),$=j(305),Ce=j(9360);function Ae(Ge={}){const{connector:mt=(()=>new be.x),resetOnError:Ve=!0,resetOnComplete:ne=!0,resetOnRefCountZero:se=!0}=Ge;return ye=>{let yt,ct,Ft,ht=0,At=!1,bt=!1;const un=()=>{ct?.unsubscribe(),ct=void 0},cn=()=>{un(),yt=Ft=void 0,At=bt=!1},Te=()=>{const qe=yt;cn(),qe?.unsubscribe()};return(0,Ce.e)((qe,Me)=>{ht++,!bt&&!At&&un();const it=Ft=Ft??mt();Me.add(()=>{ht--,0===ht&&!bt&&!At&&(ct=we(Te,se))}),it.subscribe(Me),!yt&&ht>0&&(yt=new $.Hp({next:gt=>it.next(gt),error:gt=>{bt=!0,un(),ct=we(cn,Ve,gt),it.error(gt)},complete:()=>{At=!0,un(),ct=we(cn,ne),it.complete()}}),(0,c.Xf)(qe).subscribe(yt))})(ye)}}function we(Ge,mt,...Ve){if(!0===mt)return void Ge();if(!1===mt)return;const ne=new $.Hp({next:()=>{ne.unsubscribe(),Ge()}});return(0,c.Xf)(mt(...Ve)).subscribe(ne)}},5137:(tn,Je,j)=>{j.d(Je,{R:()=>be});var c=j(9360);function be($,Ce=0){return(0,c.e)((Ae,we)=>{we.add($.schedule(()=>Ae.subscribe(we),Ce))})}},4664:(tn,Je,j)=>{j.d(Je,{w:()=>Ce});var c=j(4829),be=j(9360),$=j(8251);function Ce(Ae,we){return(0,be.e)((Ge,mt)=>{let Ve=null,ne=0,se=!1;const ye=()=>se&&!Ve&&mt.complete();Ge.subscribe((0,$.x)(mt,yt=>{Ve?.unsubscribe();let ct=0;const Ft=ne++;(0,c.Xf)(Ae(yt,Ft)).subscribe(Ve=(0,$.x)(mt,ht=>mt.next(we?we(yt,ht,Ft,ct++):ht),()=>{Ve=null,ye()}))},()=>{se=!0,ye()}))})}},9397:(tn,Je,j)=>{j.d(Je,{b:()=>Ae});var c=j(4674),be=j(9360),$=j(8251),Ce=j(2737);function Ae(we,Ge,mt){const Ve=(0,c.m)(we)||Ge||mt?{next:we,error:Ge,complete:mt}:we;return Ve?(0,be.e)((ne,se)=>{var ye;null===(ye=Ve.subscribe)||void 0===ye||ye.call(Ve);let yt=!0;ne.subscribe((0,$.x)(se,ct=>{var Ft;null===(Ft=Ve.next)||void 0===Ft||Ft.call(Ve,ct),se.next(ct)},()=>{var ct;yt=!1,null===(ct=Ve.complete)||void 0===ct||ct.call(Ve),se.complete()},ct=>{var Ft;yt=!1,null===(Ft=Ve.error)||void 0===Ft||Ft.call(Ve,ct),se.error(ct)},()=>{var ct,Ft;yt&&(null===(ct=Ve.unsubscribe)||void 0===ct||ct.call(Ve)),null===(Ft=Ve.finalize)||void 0===Ft||Ft.call(Ve)}))}):Ce.y}},1954:(tn,Je,j)=>{j.d(Je,{o:()=>Ae});var c=j(7394);class be extends c.w0{constructor(Ge,mt){super()}schedule(Ge,mt=0){return this}}const $={setInterval(we,Ge,...mt){const{delegate:Ve}=$;return Ve?.setInterval?Ve.setInterval(we,Ge,...mt):setInterval(we,Ge,...mt)},clearInterval(we){const{delegate:Ge}=$;return(Ge?.clearInterval||clearInterval)(we)},delegate:void 0};var Ce=j(9039);class Ae extends be{constructor(Ge,mt){super(Ge,mt),this.scheduler=Ge,this.work=mt,this.pending=!1}schedule(Ge,mt=0){var Ve;if(this.closed)return this;this.state=Ge;const ne=this.id,se=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(se,ne,mt)),this.pending=!0,this.delay=mt,this.id=null!==(Ve=this.id)&&void 0!==Ve?Ve:this.requestAsyncId(se,this.id,mt),this}requestAsyncId(Ge,mt,Ve=0){return $.setInterval(Ge.flush.bind(Ge,this),Ve)}recycleAsyncId(Ge,mt,Ve=0){if(null!=Ve&&this.delay===Ve&&!1===this.pending)return mt;null!=mt&&$.clearInterval(mt)}execute(Ge,mt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ve=this._execute(Ge,mt);if(Ve)return Ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ge,mt){let ne,Ve=!1;try{this.work(Ge)}catch(se){Ve=!0,ne=se||new Error("Scheduled action threw falsy error")}if(Ve)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:Ge,scheduler:mt}=this,{actions:Ve}=mt;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.P)(Ve,this),null!=Ge&&(this.id=this.recycleAsyncId(mt,Ge,null)),this.delay=null,super.unsubscribe()}}}},2631:(tn,Je,j)=>{j.d(Je,{v:()=>$});var c=j(4552);class be{constructor(Ae,we=be.now){this.schedulerActionCtor=Ae,this.now=we}schedule(Ae,we=0,Ge){return new this.schedulerActionCtor(this,Ae).schedule(Ge,we)}}be.now=c.l.now;class $ extends be{constructor(Ae,we=be.now){super(Ae,we),this.actions=[],this._active=!1}flush(Ae){const{actions:we}=this;if(this._active)return void we.push(Ae);let Ge;this._active=!0;do{if(Ge=Ae.execute(Ae.state,Ae.delay))break}while(Ae=we.shift());if(this._active=!1,Ge){for(;Ae=we.shift();)Ae.unsubscribe();throw Ge}}}},6321:(tn,Je,j)=>{j.d(Je,{P:()=>Ce,z:()=>$});var c=j(1954);const $=new(j(2631).v)(c.o),Ce=$},4552:(tn,Je,j)=>{j.d(Je,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},7599:(tn,Je,j)=>{j.d(Je,{z:()=>c});const c={setTimeout(be,$,...Ce){const{delegate:Ae}=c;return Ae?.setTimeout?Ae.setTimeout(be,$,...Ce):setTimeout(be,$,...Ce)},clearTimeout(be){const{delegate:$}=c;return($?.clearTimeout||clearTimeout)(be)},delegate:void 0}},4971:(tn,Je,j)=>{j.d(Je,{h:()=>be});const be=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(tn,Je,j)=>{j.d(Je,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(tn,Je,j)=>{j.d(Je,{_6:()=>we,jO:()=>Ce,yG:()=>Ae});var c=j(4674),be=j(671);function $(Ge){return Ge[Ge.length-1]}function Ce(Ge){return(0,c.m)($(Ge))?Ge.pop():void 0}function Ae(Ge){return(0,be.K)($(Ge))?Ge.pop():void 0}function we(Ge,mt){return"number"==typeof $(Ge)?Ge.pop():mt}},9039:(tn,Je,j)=>{function c(be,$){if(be){const Ce=be.indexOf($);0<=Ce&&be.splice(Ce,1)}}j.d(Je,{P:()=>c})},2306:(tn,Je,j)=>{function c(be){const Ce=be(Ae=>{Error.call(Ae),Ae.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}j.d(Je,{d:()=>c})},1441:(tn,Je,j)=>{j.d(Je,{O:()=>Ce,x:()=>$});var c=j(2653);let be=null;function $(Ae){if(c.config.useDeprecatedSynchronousErrorHandling){const we=!be;if(we&&(be={errorThrown:!1,error:null}),Ae(),we){const{errorThrown:Ge,error:mt}=be;if(be=null,Ge)throw mt}}else Ae()}function Ce(Ae){c.config.useDeprecatedSynchronousErrorHandling&&be&&(be.errorThrown=!0,be.error=Ae)}},7103:(tn,Je,j)=>{function c(be,$,Ce,Ae=0,we=!1){const Ge=$.schedule(function(){Ce(),we?be.add(this.schedule(null,Ae)):this.unsubscribe()},Ae);if(be.add(Ge),!we)return Ge}j.d(Je,{f:()=>c})},2737:(tn,Je,j)=>{function c(be){return be}j.d(Je,{y:()=>c})},4266:(tn,Je,j)=>{j.d(Je,{z:()=>c});const c=be=>be&&"number"==typeof be.length&&"function"!=typeof be},5726:(tn,Je,j)=>{j.d(Je,{D:()=>be});var c=j(4674);function be($){return Symbol.asyncIterator&&(0,c.m)($?.[Symbol.asyncIterator])}},4674:(tn,Je,j)=>{function c(be){return"function"==typeof be}j.d(Je,{m:()=>c})},8382:(tn,Je,j)=>{j.d(Je,{c:()=>$});var c=j(4850),be=j(4674);function $(Ce){return(0,be.m)(Ce[c.L])}},3664:(tn,Je,j)=>{j.d(Je,{T:()=>$});var c=j(4971),be=j(4674);function $(Ce){return(0,be.m)(Ce?.[c.h])}},4026:(tn,Je,j)=>{j.d(Je,{t:()=>be});var c=j(4674);function be($){return(0,c.m)($?.then)}},541:(tn,Je,j)=>{j.d(Je,{L:()=>Ce,Q:()=>$});var c=j(7582),be=j(4674);function $(Ae){return(0,c.FC)(this,arguments,function*(){const Ge=Ae.getReader();try{for(;;){const{value:mt,done:Ve}=yield(0,c.qq)(Ge.read());if(Ve)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(mt)}}finally{Ge.releaseLock()}})}function Ce(Ae){return(0,be.m)(Ae?.getReader)}},671:(tn,Je,j)=>{j.d(Je,{K:()=>be});var c=j(4674);function be($){return $&&(0,c.m)($.schedule)}},9360:(tn,Je,j)=>{j.d(Je,{A:()=>be,e:()=>$});var c=j(4674);function be(Ce){return(0,c.m)(Ce?.lift)}function $(Ce){return Ae=>{if(be(Ae))return Ae.lift(function(we){try{return Ce(we,this)}catch(Ge){this.error(Ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(tn,Je,j)=>{function c(){}j.d(Je,{Z:()=>c})},8407:(tn,Je,j)=>{j.d(Je,{U:()=>$,z:()=>be});var c=j(2737);function be(...Ce){return $(Ce)}function $(Ce){return 0===Ce.length?c.y:1===Ce.length?Ce[0]:function(we){return Ce.reduce((Ge,mt)=>mt(Ge),we)}}},3894:(tn,Je,j)=>{j.d(Je,{h:()=>$});var c=j(2653),be=j(7599);function $(Ce){be.z.setTimeout(()=>{const{onUnhandledError:Ae}=c.config;if(!Ae)throw Ce;Ae(Ce)})}},9853:(tn,Je,j)=>{function c(be){return new TypeError(`You provided ${null!==be&&"object"==typeof be?"an invalid object":`'${be}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(Je,{z:()=>c})},5879:(tn,Je,j)=>{j.d(Je,{$8M:()=>vu,$WT:()=>Ca,$Z:()=>HM,AFp:()=>mM,AaK:()=>ye,BQk:()=>cw,CHM:()=>Ms,CRH:()=>eE,DdM:()=>Id,EJc:()=>gs,EiD:()=>nf,EpF:()=>mR,F$t:()=>xR,F4k:()=>pR,FYo:()=>Rx,FiY:()=>vm,Gf:()=>Qw,GfV:()=>Px,GkF:()=>wS,Gpc:()=>Ft,Gre:()=>Cw,HDt:()=>Ys,Hsn:()=>MS,Ikx:()=>$S,JOm:()=>qh,JVY:()=>zm,JZr:()=>cn,KtG:()=>cu,L6k:()=>to,LAX:()=>GI,LFG:()=>xn,Lbi:()=>af,Lck:()=>w1,MAs:()=>uR,MMx:()=>vT,MR2:()=>Hg,NdJ:()=>CS,O4$:()=>hc,Ojb:()=>Ru,OlP:()=>ki,Oqu:()=>ww,P3R:()=>zg,PXZ:()=>Nd,Q6J:()=>bS,QGY:()=>ES,QbO:()=>Vb,Qsj:()=>wM,R0b:()=>Ao,RDi:()=>Um,Rgc:()=>Va,SBq:()=>r_,Sil:()=>hE,Suo:()=>Jw,TTD:()=>nu,TgZ:()=>ow,Tol:()=>RS,Udp:()=>lp,VuI:()=>fA,W1O:()=>oE,X6Q:()=>Zy,XFs:()=>dn,Xpm:()=>$d,Xq5:()=>lS,Xts:()=>Wm,Y36:()=>Jm,YKP:()=>Fw,YNc:()=>cR,Yjl:()=>fh,Yz7:()=>Vn,Z0I:()=>Ai,ZZ4:()=>wE,_Bn:()=>_T,_UZ:()=>xS,_Vd:()=>n_,_c5:()=>lA,_uU:()=>xw,aQg:()=>Lc,c2e:()=>bl,cJS:()=>Bi,cg1:()=>by,d8E:()=>YS,dDg:()=>qT,dqk:()=>Ei,eBb:()=>Du,eFA:()=>bP,eJc:()=>ju,ekj:()=>_w,eoX:()=>Q_,f3M:()=>Bn,g9A:()=>gx,h0i:()=>Hu,hGG:()=>CE,hij:()=>_y,iGM:()=>Kw,ifc:()=>dt,ip1:()=>uE,jDz:()=>bT,kL8:()=>qS,kcU:()=>os,lG2:()=>Zc,lqb:()=>Ec,lri:()=>bp,mCW:()=>Ii,n5z:()=>Fa,n_E:()=>Oc,oAB:()=>Ll,oJD:()=>Iu,oxw:()=>yR,pB0:()=>lx,q3G:()=>rf,q4F:()=>CM,qFp:()=>Io,qLn:()=>Pu,qOj:()=>aS,qZA:()=>sw,qzn:()=>Vm,rWj:()=>pE,rg0:()=>Th,s9C:()=>Dc,sBO:()=>tv,s_b:()=>G_,soG:()=>yl,tb:()=>$y,tp0:()=>bc,uIk:()=>hS,vHH:()=>Te,vpe:()=>Ws,wAp:()=>k_,xp6:()=>VM,ynx:()=>aw,z2F:()=>_s,z3N:()=>hl,zSh:()=>Fb,zs3:()=>Sc});var c=j(8645),be=j(7394),$=j(5592),Ce=j(3019),Ae=j(5619),we=j(2096),Ge=j(3020),mt=j(4664),Ve=j(3997);function ne(s){for(let a in s)if(s[a]===ne)return a;throw Error("Could not find renamed property on target object.")}function se(s,a){for(const d in a)a.hasOwnProperty(d)&&!s.hasOwnProperty(d)&&(s[d]=a[d])}function ye(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ye).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const d=a.indexOf("\n");return-1===d?a:a.substring(0,d)}function yt(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const ct=ne({__forward_ref__:ne});function Ft(s){return s.__forward_ref__=Ft,s.toString=function(){return ye(this())},s}function ht(s){return At(s)?s():s}function At(s){return"function"==typeof s&&s.hasOwnProperty(ct)&&s.__forward_ref__===Ft}function bt(s){return s&&!!s.\u0275providers}const cn="https://g.co/ng/security#xss";class Te extends Error{constructor(a,d){super(function qe(s,a){return`NG0${Math.abs(s)}${a?": "+a:""}`}(a,d)),this.code=a}}function Me(s){return"string"==typeof s?s:null==s?"":String(s)}function mn(s,a){throw new Te(-201,!1)}function $t(s,a){null==s&&function Dt(s,a,d,h){throw new Error(`ASSERTION ERROR: ${s}`+(null==h?"":` [Expected=> ${d} ${h} ${a} <=Actual]`))}(a,s,null,"!=")}function Vn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Bi(s){return{providers:s.providers||[],imports:s.imports||[]}}function br(s){return Yr(s,Oo)||Yr(s,ba)}function Ai(s){return null!==br(s)}function Yr(s,a){return s.hasOwnProperty(a)?s[a]:null}function va(s){return s&&(s.hasOwnProperty(No)||s.hasOwnProperty(Rl))?s[No]:null}const Oo=ne({\u0275prov:ne}),No=ne({\u0275inj:ne}),ba=ne({ngInjectableDef:ne}),Rl=ne({ngInjectorDef:ne});var dn=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(dn||{});let Qn;function Ri(s){const a=Qn;return Qn=s,a}function Xi(s,a,d){const h=br(s);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:d&dn.Optional?null:void 0!==a?a:void mn(ye(s))}const Ei=globalThis,xo={},ar="__NG_DI_FLAG__",Ko="ngTempTokenPath",re=/\n/gm,he="__source";let Ke;function zt(s){const a=Ke;return Ke=s,a}function Dn(s,a=dn.Default){if(void 0===Ke)throw new Te(-203,!1);return null===Ke?Xi(s,void 0,a):Ke.get(s,a&dn.Optional?null:void 0,a)}function xn(s,a=dn.Default){return(function Pn(){return Qn}()||Dn)(ht(s),a)}function Bn(s,a=dn.Default){return xn(s,Ji(a))}function Ji(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function ri(s){const a=[];for(let d=0;d<s.length;d++){const h=ht(s[d]);if(Array.isArray(h)){if(0===h.length)throw new Te(900,!1);let m,_=dn.Default;for(let w=0;w<h.length;w++){const S=h[w],D=Os(S);"number"==typeof D?-1===D?m=S.token:_|=D:m=S}a.push(xn(m,_))}else a.push(xn(h))}return a}function pr(s,a){return s[ar]=a,s.prototype[ar]=a,s}function Os(s){return s[ar]}function Oe(s){return{toString:s}.toString()}var Se=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(Se||{}),dt=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(dt||{});const Zt={},Ot=[],zn=ne({\u0275cmp:ne}),mi=ne({\u0275dir:ne}),cr=ne({\u0275pipe:ne}),lr=ne({\u0275mod:ne}),Nr=ne({\u0275fac:ne}),Es=ne({__NG_ELEMENT_ID__:ne}),$c=ne({__NG_ENV_ID__:ne});function ch(s,a,d){let h=s.length;for(;;){const m=s.indexOf(a,d);if(-1===m)return m;if(0===m||s.charCodeAt(m-1)<=32){const _=a.length;if(m+_===h||s.charCodeAt(m+_)<=32)return m}d=m+1}}function Za(s,a,d){let h=0;for(;h<d.length;){const m=d[h];if("number"==typeof m){if(0!==m)break;h++;const _=d[h++],w=d[h++],S=d[h++];s.setAttribute(a,w,S,_)}else{const _=m,w=d[++h];Jo(_)?s.setProperty(a,_,w):s.setAttribute(a,_,w),h++}}return h}function lh(s){return 3===s||4===s||6===s}function Jo(s){return 64===s.charCodeAt(0)}function Xa(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let d=-1;for(let h=0;h<a.length;h++){const m=a[h];"number"==typeof m?d=m:0===d||Yc(s,d,m,null,-1===d||2===d?a[++h]:null)}}return s}function Yc(s,a,d,h,m){let _=0,w=s.length;if(-1===a)w=-1;else for(;_<s.length;){const S=s[_++];if("number"==typeof S){if(S===a){w=-1;break}if(S>a){w=_-1;break}}}for(;_<s.length;){const S=s[_];if("number"==typeof S)break;if(S===d){if(null===h)return void(null!==m&&(s[_+1]=m));if(h===s[_+1])return void(s[_+2]=m)}_++,null!==h&&_++,null!==m&&_++}-1!==w&&(s.splice(w,0,a),_=w+1),s.splice(_++,0,d),null!==h&&s.splice(_++,0,h),null!==m&&s.splice(_++,0,m)}const dh="ng-template";function dr(s,a,d){let h=0,m=!0;for(;h<s.length;){let _=s[h++];if("string"==typeof _&&m){const w=s[h++];if(d&&"class"===_&&-1!==ch(w.toLowerCase(),a,0))return!0}else{if(1===_){for(;h<s.length&&"string"==typeof(_=s[h++]);)if(_.toLowerCase()===a)return!0;return!1}"number"==typeof _&&(m=!1)}}return!1}function co(s){return 4===s.type&&s.value!==dh}function Hv(s,a,d){return a===(4!==s.type||d?s.value:dh)}function qp(s,a,d){let h=4;const m=s.attrs||[],_=function Gv(s){for(let a=0;a<s.length;a++)if(lh(s[a]))return a;return s.length}(m);let w=!1;for(let S=0;S<a.length;S++){const D=a[S];if("number"!=typeof D){if(!w)if(4&h){if(h=2|1&h,""!==D&&!Hv(s,D,d)||""===D&&1===a.length){if(wo(h))return!1;w=!0}}else{const L=8&h?D:a[++S];if(8&h&&null!==s.attrs){if(!dr(s.attrs,L,d)){if(wo(h))return!1;w=!0}continue}const K=Ea(8&h?"class":D,m,co(s),d);if(-1===K){if(wo(h))return!1;w=!0;continue}if(""!==L){let ue;ue=K>_?"":m[K+1].toLowerCase();const _e=8&h?ue:null;if(_e&&-1!==ch(_e,L,0)||2&h&&L!==ue){if(wo(h))return!1;w=!0}}}}else{if(!w&&!wo(h)&&!wo(D))return!1;if(w&&wo(D))continue;w=!1,h=D|1&h}}return wo(h)||w}function wo(s){return 0==(1&s)}function Ea(s,a,d,h){if(null===a)return-1;let m=0;if(h||!d){let _=!1;for(;m<a.length;){const w=a[m];if(w===s)return m;if(3===w||6===w)_=!0;else{if(1===w||2===w){let S=a[++m];for(;"string"==typeof S;)S=a[++m];continue}if(4===w)break;if(0===w){m+=4;continue}}m+=_?1:2}return-1}return function Ka(s,a){let d=s.indexOf(4);if(d>-1)for(d++;d<s.length;){const h=s[d];if("number"==typeof h)return-1;if(h===a)return d;d++}return-1}(a,s)}function Ol(s,a,d=!1){for(let h=0;h<a.length;h++)if(qp(s,a[h],d))return!0;return!1}function Bf(s,a){e:for(let d=0;d<a.length;d++){const h=a[d];if(s.length===h.length){for(let m=0;m<s.length;m++)if(s[m]!==h[m])continue e;return!0}}return!1}function qc(s,a){return s?":not("+a.trim()+")":a}function Nl(s){let a=s[0],d=1,h=2,m="",_=!1;for(;d<s.length;){let w=s[d];if("string"==typeof w)if(2&h){const S=s[++d];m+="["+w+(S.length>0?'="'+S+'"':"")+"]"}else 8&h?m+="."+w:4&h&&(m+=" "+w);else""!==m&&!wo(w)&&(a+=qc(_,m),m=""),h=w,_=_||!wo(h);d++}return""!==m&&(a+=qc(_,m)),a}function $d(s){return Oe(()=>{const a=mh(s),d={...a,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===Se.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||dt.Emulated,styles:s.styles||Ot,_:null,schemas:s.schemas||null,tView:null,id:""};Zp(d);const h=s.dependencies;return d.directiveDefs=Fl(h,!1),d.pipeDefs=Fl(h,!0),d.id=function ts(s){let a=0;const d=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const m of d)a=Math.imul(31,a)+m.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(d),d})}function hh(s){return oi(s)||ir(s)}function Yd(s){return null!==s}function Ll(s){return Oe(()=>({type:s.type,bootstrap:s.bootstrap||Ot,declarations:s.declarations||Ot,imports:s.imports||Ot,exports:s.exports||Ot,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function qd(s,a){if(null==s)return Zt;const d={};for(const h in s)if(s.hasOwnProperty(h)){let m=s[h],_=m;Array.isArray(m)&&(_=m[1],m=m[0]),d[m]=h,a&&(a[m]=_)}return d}function Zc(s){return Oe(()=>{const a=mh(s);return Zp(a),a})}function fh(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function oi(s){return s[zn]||null}function ir(s){return s[mi]||null}function lo(s){return s[cr]||null}function Ca(s){const a=oi(s)||ir(s)||lo(s);return null!==a&&a.standalone}function uo(s,a){const d=s[lr]||null;if(!d&&!0===a)throw new Error(`Type ${ye(s)} does not have '\u0275mod' property.`);return d}function mh(s){const a={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:s.inputs||Zt,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||Ot,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qd(s.inputs,a),outputs:qd(s.outputs)}}function Zp(s){s.features?.forEach(a=>a(s))}function Fl(s,a){if(!s)return null;const d=a?lo:hh;return()=>("function"==typeof s?s():s).map(h=>d(h)).filter(Yd)}const Vi=0,Gt=1,vn=2,zi=3,ho=4,Qa=5,Lr=6,Ul=7,li=8,ea=9,Xc=10,En=11,Fr=12,Hf=13,Ma=14,Hi=15,ph=16,Ja=17,Er=18,ta=19,na=20,Sa=21,Lo=22,Bl=23,Ta=24,Wn=25,Kc=1,Xd=2,Cr=7,Mr=9,Ur=11;function Sr(s){return Array.isArray(s)&&"object"==typeof s[Kc]}function Zr(s){return Array.isArray(s)&&!0===s[Kc]}function Kd(s){return 0!=(4&s.flags)}function tc(s){return s.componentOffset>-1}function Fo(s){return 1==(1&s.flags)}function Eo(s){return!!s.template}function Qc(s){return 0!=(512&s[vn])}function nc(s,a){return s.hasOwnProperty(Nr)?s[Nr]:null}let gr=null,ic=!1;function Co(s){const a=gr;return gr=s,a}const rc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Hl(s){if(!oc(s)||s.dirty){if(!s.producerMustRecompute(s)&&!wh(s))return void(s.dirty=!1);s.producerRecomputeValue(s),s.dirty=!1}}function Gl(s){s.dirty=!0,function Yf(s){if(void 0===s.liveConsumerNode)return;const a=ic;ic=!0;try{for(const d of s.liveConsumerNode)d.dirty||Gl(d)}finally{ic=a}}(s),s.consumerMarkedDirty?.(s)}function qf(s){return s&&(s.nextProducerIndex=0),Co(s)}function Tr(s,a){if(Co(a),s&&void 0!==s.producerNode&&void 0!==s.producerIndexOfThis&&void 0!==s.producerLastReadVersion){if(oc(s))for(let d=s.nextProducerIndex;d<s.producerNode.length;d++)Wl(s.producerNode[d],s.producerIndexOfThis[d]);for(;s.producerNode.length>s.nextProducerIndex;)s.producerNode.pop(),s.producerLastReadVersion.pop(),s.producerIndexOfThis.pop()}}function wh(s){Da(s);for(let a=0;a<s.producerNode.length;a++){const d=s.producerNode[a],h=s.producerLastReadVersion[a];if(h!==d.version||(Hl(d),h!==d.version))return!0}return!1}function Eh(s){if(Da(s),oc(s))for(let a=0;a<s.producerNode.length;a++)Wl(s.producerNode[a],s.producerIndexOfThis[a]);s.producerNode.length=s.producerLastReadVersion.length=s.producerIndexOfThis.length=0,s.liveConsumerNode&&(s.liveConsumerNode.length=s.liveConsumerIndexOfThis.length=0)}function Wl(s,a){if(function jl(s){s.liveConsumerNode??=[],s.liveConsumerIndexOfThis??=[]}(s),Da(s),1===s.liveConsumerNode.length)for(let h=0;h<s.producerNode.length;h++)Wl(s.producerNode[h],s.producerIndexOfThis[h]);const d=s.liveConsumerNode.length-1;if(s.liveConsumerNode[a]=s.liveConsumerNode[d],s.liveConsumerIndexOfThis[a]=s.liveConsumerIndexOfThis[d],s.liveConsumerNode.length--,s.liveConsumerIndexOfThis.length--,a<s.liveConsumerNode.length){const h=s.liveConsumerIndexOfThis[a],m=s.liveConsumerNode[a];Da(m),m.producerIndexOfThis[h]=a}}function oc(s){return s.consumerIsAlwaysLive||(s?.liveConsumerNode?.length??0)>0}function Da(s){s.producerNode??=[],s.producerIndexOfThis??=[],s.producerLastReadVersion??=[]}let Kf=null;function Th(s){const a=Co(null);try{return s()}finally{Co(a)}}const Ah=()=>{},tg=(()=>({...rc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:s=>{s.schedule(s.ref)},hasRun:!1,cleanupFn:Ah}))();class ng{constructor(a,d,h){this.previousValue=a,this.currentValue=d,this.firstChange=h}isFirstChange(){return this.firstChange}}function nu(){return ql}function ql(s){return s.type.prototype.ngOnChanges&&(s.setInput=sc),ig}function ig(){const s=ac(this),a=s?.current;if(a){const d=s.previous;if(d===Zt)s.previous=a;else for(let h in a)d[h]=a[h];s.current=null,this.ngOnChanges(a)}}function sc(s,a,d,h){const m=this.declaredInputs[d],_=ac(s)||function Jf(s,a){return s[Ls]=a}(s,{previous:Zt,current:null}),w=_.current||(_.current={}),S=_.previous,D=S[m];w[m]=new ng(D&&D.currentValue,a,S===Zt),s[h]=a}nu.ngInherit=!0;const Ls="__ngSimpleChanges__";function ac(s){return s[Ls]||null}const Cs=function(s,a,d){},em="svg";function wi(s){for(;Array.isArray(s);)s=s[Vi];return s}function cc(s,a){return wi(a[s])}function Br(s,a){return wi(a[s.index])}function Ih(s,a){return s.data[a]}function Vr(s,a){const d=a[s];return Sr(d)?d:d[Vi]}function Mo(s,a){return null==a?null:s[a]}function cg(s){s[Ja]=0}function kh(s){1024&s[vn]||(s[vn]|=1024,Qv(s,1))}function iu(s){1024&s[vn]&&(s[vn]&=-1025,Qv(s,-1))}function Qv(s,a){let d=s[zi];if(null===d)return;d[Qa]+=a;let h=d;for(d=d[zi];null!==d&&(1===a&&1===h[Qa]||-1===a&&0===h[Qa]);)d[Qa]+=a,h=d,d=d[zi]}const Cn={lFrame:To(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function zr(){return Cn.bindingsEnabled}function Fs(){return null!==Cn.skipHydrationRootTNode}function rt(){return Cn.lFrame.lView}function ti(){return Cn.lFrame.tView}function Ms(s){return Cn.lFrame.contextLView=s,s[li]}function cu(s){return Cn.lFrame.contextLView=null,s}function Dr(){let s=lu();for(;null!==s&&64===s.type;)s=s.parent;return s}function lu(){return Cn.lFrame.currentTNode}function ka(s,a){const d=Cn.lFrame;d.currentTNode=s,d.isParent=a}function dc(){return Cn.lFrame.isParent}function Ph(){Cn.lFrame.isParent=!1}function uc(){return Cn.lFrame.bindingIndex++}function is(s){const a=Cn.lFrame,d=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,d}function du(s,a){const d=Cn.lFrame;d.bindingIndex=d.bindingRootIndex=s,uu(a)}function uu(s){Cn.lFrame.currentDirectiveIndex=s}function sm(s){const a=Cn.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}function hu(){return Cn.lFrame.currentQueryIndex}function am(s){Cn.lFrame.currentQueryIndex=s}function cm(s){const a=s[Gt];return 2===a.type?a.declTNode:1===a.type?s[Lr]:null}function dg(s,a,d){if(d&dn.SkipSelf){let m=a,_=s;for(;!(m=m.parent,null!==m||d&dn.Host||(m=cm(_),null===m||(_=_[Ma],10&m.type))););if(null===m)return!1;a=m,s=_}const h=Cn.lFrame=lm();return h.currentTNode=a,h.lView=s,!0}function Ra(s){const a=lm(),d=s[Gt];Cn.lFrame=a,a.currentTNode=d.firstChild,a.lView=s,a.tView=d,a.contextLView=s,a.bindingIndex=d.bindingStartIndex,a.inI18n=!1}function lm(){const s=Cn.lFrame,a=null===s?null:s.child;return null===a?To(s):a}function To(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Xr(){const s=Cn.lFrame;return Cn.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Di=Xr;function sl(){const s=Xr();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Yn(){return Cn.lFrame.selectedIndex}function rs(s){Cn.lFrame.selectedIndex=s}function Sn(){const s=Cn.lFrame;return Ih(s.tView,s.selectedIndex)}function hc(){Cn.lFrame.currentNamespace=em}function os(){!function Kl(){Cn.lFrame.currentNamespace=null}()}let ra=!0;function Pa(){return ra}function ss(s){ra=s}function fc(s,a){for(let d=a.directiveStart,h=a.directiveEnd;d<h;d++){const _=s.data[d].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:S,ngAfterViewInit:D,ngAfterViewChecked:L,ngOnDestroy:V}=_;w&&(s.contentHooks??=[]).push(-d,w),S&&((s.contentHooks??=[]).push(d,S),(s.contentCheckHooks??=[]).push(d,S)),D&&(s.viewHooks??=[]).push(-d,D),L&&((s.viewHooks??=[]).push(d,L),(s.viewCheckHooks??=[]).push(d,L)),null!=V&&(s.destroyHooks??=[]).push(d,V)}}function Ql(s,a,d){ug(s,a,3,d)}function fu(s,a,d,h){(3&s[vn])===d&&ug(s,a,d,h)}function Jl(s,a){let d=s[vn];(3&d)===a&&(d&=8191,d+=1,s[vn]=d)}function ug(s,a,d,h){const _=h??-1,w=a.length-1;let S=0;for(let D=void 0!==h?65535&s[Ja]:0;D<w;D++)if("number"==typeof a[D+1]){if(S=a[D],null!=h&&S>=h)break}else a[D]<0&&(s[Ja]+=65536),(S<_||-1==_)&&(Fh(s,d,a,D),s[Ja]=(4294901760&s[Ja])+D+2),D++}function mu(s,a){Cs(4,s,a);const d=Co(null);try{a.call(s)}finally{Co(d),Cs(5,s,a)}}function Fh(s,a,d,h){const m=d[h]<0,_=d[h+1],S=s[m?-d[h]:d[h]];m?s[vn]>>13<s[Ja]>>16&&(3&s[vn])===a&&(s[vn]+=8192,mu(S,_)):mu(S,_)}const Oa=-1;class Na{constructor(a,d,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=h}}function ed(s){return s!==Oa}function al(s){return 32767&s}function mc(s,a){let d=function fg(s){return s>>16}(s),h=a;for(;d>0;)h=h[Ma],d--;return h}let Bh=!0;function pu(s){const a=Bh;return Bh=s,a}const pm=255,mg=5;let Vh=0;const Bs={};function pc(s,a){const d=nd(s,a);if(-1!==d)return d;const h=a[Gt];h.firstCreatePass&&(s.injectorIndex=a.length,td(h.data,s),td(a,null),td(h.blueprint,null));const m=La(s,a),_=s.injectorIndex;if(ed(m)){const w=al(m),S=mc(m,a),D=S[Gt].data;for(let L=0;L<8;L++)a[_+L]=S[w+L]|D[w+L]}return a[_+8]=m,_}function td(s,a){s.push(0,0,0,0,0,0,0,0,a)}function nd(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function La(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let d=0,h=null,m=a;for(;null!==m;){if(h=_u(m),null===h)return Oa;if(d++,m=m[Ma],-1!==h.injectorIndex)return h.injectorIndex|d<<16}return Oa}function id(s,a,d){!function zh(s,a,d){let h;"string"==typeof d?h=d.charCodeAt(0)||0:d.hasOwnProperty(Es)&&(h=d[Es]),null==h&&(h=d[Es]=Vh++);const m=h&pm;a.data[s+(m>>mg)]|=1<<m}(s,a,d)}function rd(s,a,d){if(d&dn.Optional||void 0!==s)return s;mn()}function od(s,a,d,h){if(d&dn.Optional&&void 0===h&&(h=null),!(d&(dn.Self|dn.Host))){const m=s[ea],_=Ri(void 0);try{return m?m.get(a,h,d&dn.Optional):Xi(a,h,d&dn.Optional)}finally{Ri(_)}}return rd(h,0,d)}function Ss(s,a,d,h=dn.Default,m){if(null!==s){if(2048&a[vn]&&!(h&dn.Self)){const w=function ob(s,a,d,h,m){let _=s,w=a;for(;null!==_&&null!==w&&2048&w[vn]&&!(512&w[vn]);){const S=Gh(_,w,d,h|dn.Self,Bs);if(S!==Bs)return S;let D=_.parent;if(!D){const L=w[na];if(L){const V=L.get(d,Bs,h);if(V!==Bs)return V}D=_u(w),w=w[Ma]}_=D}return m}(s,a,d,h,Bs);if(w!==Bs)return w}const _=Gh(s,a,d,h,Bs);if(_!==Bs)return _}return od(a,d,h,m)}function Gh(s,a,d,h,m){const _=function Bo(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Es)?s[Es]:void 0;return"number"==typeof a?a>=0?a&pm:ad:a}(d);if("function"==typeof _){if(!dg(a,s,h))return h&dn.Host?rd(m,0,h):od(a,d,h,m);try{let w;if(w=_(h),null!=w||h&dn.Optional)return w;mn()}finally{Di()}}else if("number"==typeof _){let w=null,S=nd(s,a),D=Oa,L=h&dn.Host?a[Hi][Lr]:null;for((-1===S||h&dn.SkipSelf)&&(D=-1===S?La(s,a):a[S+8],D!==Oa&&Wh(h,!1)?(w=a[Gt],S=al(D),a=mc(D,a)):S=-1);-1!==S;){const V=a[Gt];if(Vs(_,S,V.data)){const K=gu(S,a,d,w,h,L);if(K!==Bs)return K}D=a[S+8],D!==Oa&&Wh(h,a[Gt].data[S+8]===L)&&Vs(_,S,a)?(w=V,S=al(D),a=mc(D,a)):S=-1}}return m}function gu(s,a,d,h,m,_){const w=a[Gt],S=w.data[s+8],V=sd(S,w,d,null==h?tc(S)&&Bh:h!=w&&0!=(3&S.type),m&dn.Host&&_===S);return null!==V?sa(a,w,V,S):Bs}function sd(s,a,d,h,m){const _=s.providerIndexes,w=a.data,S=1048575&_,D=s.directiveStart,V=_>>20,ue=m?S+V:s.directiveEnd;for(let _e=h?S:S+V;_e<ue;_e++){const $e=w[_e];if(_e<D&&d===$e||_e>=D&&$e.type===d)return _e}if(m){const _e=w[D];if(_e&&Eo(_e)&&_e.type===d)return D}return null}function sa(s,a,d,h){let m=s[d];const _=a.data;if(function nb(s){return s instanceof Na}(m)){const w=m;w.resolving&&function gt(s,a){const d=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new Te(-200,`Circular dependency in DI detected for ${s}${d}`)}(function it(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Me(s)}(_[d]));const S=pu(w.canSeeViewProviders);w.resolving=!0;const L=w.injectImpl?Ri(w.injectImpl):null;dg(s,h,dn.Default);try{m=s[d]=w.factory(void 0,_,s,h),a.firstCreatePass&&d>=h.directiveStart&&function oa(s,a,d){const{ngOnChanges:h,ngOnInit:m,ngDoCheck:_}=a.type.prototype;if(h){const w=ql(a);(d.preOrderHooks??=[]).push(s,w),(d.preOrderCheckHooks??=[]).push(s,w)}m&&(d.preOrderHooks??=[]).push(0-s,m),_&&((d.preOrderHooks??=[]).push(s,_),(d.preOrderCheckHooks??=[]).push(s,_))}(d,_[d],a)}finally{null!==L&&Ri(L),pu(S),w.resolving=!1,Di()}}return m}function Vs(s,a,d){return!!(d[a+(s>>mg)]&1<<s)}function Wh(s,a){return!(s&dn.Self||s&dn.Host&&a)}class Pi{constructor(a,d){this._tNode=a,this._lView=d}get(a,d,h){return Ss(this._tNode,this._lView,a,Ji(h),d)}}function ad(){return new Pi(Dr(),rt())}function Fa(s){return Oe(()=>{const a=s.prototype.constructor,d=a[Nr]||pg(a),h=Object.prototype;let m=Object.getPrototypeOf(s.prototype).constructor;for(;m&&m!==h;){const _=m[Nr]||pg(m);if(_&&_!==d)return _;m=Object.getPrototypeOf(m)}return _=>new _})}function pg(s){return At(s)?()=>{const a=pg(ht(s));return a&&a()}:nc(s)}function _u(s){const a=s[Gt],d=a.type;return 2===d?a.declTNode:1===d?s[Lr]:null}function vu(s){return function Hh(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const d=s.attrs;if(d){const h=d.length;let m=0;for(;m<h;){const _=d[m];if(lh(_))break;if(0===_)m+=2;else if("number"==typeof _)for(m++;m<h&&"string"==typeof d[m];)m++;else{if(_===a)return d[m+1];m+=2}}}return null}(Dr(),s)}const cl="__parameters__";function Y(s,a,d){return Oe(()=>{const h=function F(s){return function(...d){if(s){const h=s(...d);for(const m in h)this[m]=h[m]}}}(a);function m(..._){if(this instanceof m)return h.apply(this,_),this;const w=new m(..._);return S.annotation=w,S;function S(D,L,V){const K=D.hasOwnProperty(cl)?D[cl]:Object.defineProperty(D,cl,{value:[]})[cl];for(;K.length<=V;)K.push(null);return(K[V]=K[V]||[]).push(w),D}}return d&&(m.prototype=Object.create(d.prototype)),m.prototype.ngMetadataName=s,m.annotationCls=m,m})}function as(s,a){s.forEach(d=>Array.isArray(d)?as(d,a):a(d))}function bu(s,a,d){a>=s.length?s.push(d):s.splice(a,0,d)}function gg(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function vc(s,a){const d=[];for(let h=0;h<s;h++)d.push(a);return d}function Vo(s,a,d){let h=yu(s,a);return h>=0?s[1|h]=d:(h=~h,function jh(s,a,d,h){let m=s.length;if(m==a)s.push(d,h);else if(1===m)s.push(h,s[0]),s[0]=d;else{for(m--,s.push(s[m-1],s[m]);m>a;)s[m]=s[m-2],m--;s[a]=d,s[a+1]=h}}(s,h,a,d)),h}function sb(s,a){const d=yu(s,a);if(d>=0)return s[1|d]}function yu(s,a){return function cs(s,a,d){let h=0,m=s.length>>d;for(;m!==h;){const _=h+(m-h>>1),w=s[_<<d];if(a===w)return _<<d;w>a?m=_:h=_+1}return~(m<<d)}(s,a,1)}const vm=pr(Y("Optional"),8),bc=pr(Y("SkipSelf"),4);function hd(s){return 128==(128&s.flags)}var qh=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(qh||{});const vb=/^>|^->|<!--|-->|--!>|<!-$/g,dl=/(<|>)/g,Dm="\u200b$1\u200b";const Ag=new Map;let Q0=0;const km="__ngContext__";function Jr(s,a){Sr(a)?(s[km]=a[ta],function zo(s){Ag.set(s[ta],s)}(a)):s[km]=a}let oe;function xe(s,a){return oe(s,a)}function xt(s){const a=s[zi];return Zr(a)?a[zi]:a}function ji(s){return Su(s[Fr])}function Hs(s){return Su(s[ho])}function Su(s){for(;null!==s&&!Zr(s);)s=s[ho];return s}function md(s,a,d,h,m){if(null!=h){let _,w=!1;Zr(h)?_=h:Sr(h)&&(w=!0,h=h[Vi]);const S=wi(h);0===s&&null!==d?null==m?BI(a,d,S):Pm(a,d,S,m||null,!0):1===s&&null!==d?Pm(a,d,S,m||null,!0):2===s?function wn(s,a,d){const h=Fg(s,a);h&&function Ho(s,a,d,h){s.removeChild(a,d,h)}(s,h,a,d)}(a,S,w):3===s&&a.destroyNode(S),null!=_&&function fo(s,a,d,h,m){const _=d[Cr];_!==wi(d)&&md(a,s,h,_,m);for(let S=Ur;S<d.length;S++){const D=d[S];Qh(D[Gt],D,s,a,h,_)}}(a,s,_,d,m)}}function Rm(s,a){return s.createComment(function bb(s){return s.replace(vb,a=>a.replace(dl,Dm))}(a))}function pd(s,a,d){return s.createElement(a,d)}function wb(s,a){const d=s[Mr],h=d.indexOf(a);iu(a),d.splice(h,1)}function Eb(s,a){if(s.length<=Ur)return;const d=Ur+a,h=s[d];if(h){const m=h[ph];null!==m&&m!==s&&wb(m,h),a>0&&(s[d-1][ho]=h[ho]);const _=gg(s,Ur+a);!function Xh(s,a){Qh(s,a,a[En],2,null,null),a[Vi]=null,a[Lr]=null}(h[Gt],h);const w=_[Er];null!==w&&w.detachView(_[Gt]),h[zi]=null,h[ho]=null,h[vn]&=-129}return h}function tx(s,a){if(!(256&a[vn])){const d=a[En];a[Bl]&&Eh(a[Bl]),a[Ta]&&Eh(a[Ta]),d.destroyNode&&Qh(s,a,d,3,null,null),function Ng(s){let a=s[Fr];if(!a)return nx(s[Gt],s);for(;a;){let d=null;if(Sr(a))d=a[Fr];else{const h=a[Ur];h&&(d=h)}if(!d){for(;a&&!a[ho]&&a!==s;)Sr(a)&&nx(a[Gt],a),a=a[zi];null===a&&(a=s),Sr(a)&&nx(a[Gt],a),d=a&&a[ho]}a=d}}(a)}}function nx(s,a){if(!(256&a[vn])){a[vn]&=-129,a[vn]|=256,function ix(s,a){let d;if(null!=s&&null!=(d=s.destroyHooks))for(let h=0;h<d.length;h+=2){const m=a[d[h]];if(!(m instanceof Na)){const _=d[h+1];if(Array.isArray(_))for(let w=0;w<_.length;w+=2){const S=m[_[w]],D=_[w+1];Cs(4,S,D);try{D.call(S)}finally{Cs(5,S,D)}}else{Cs(4,m,_);try{_.call(m)}finally{Cs(5,m,_)}}}}}(s,a),function YC(s,a){const d=s.cleanup,h=a[Ul];if(null!==d)for(let _=0;_<d.length-1;_+=2)if("string"==typeof d[_]){const w=d[_+3];w>=0?h[w]():h[-w].unsubscribe(),_+=2}else d[_].call(h[d[_+1]]);null!==h&&(a[Ul]=null);const m=a[Sa];if(null!==m){a[Sa]=null;for(let _=0;_<m.length;_++)(0,m[_])()}}(s,a),1===a[Gt].type&&a[En].destroy();const d=a[ph];if(null!==d&&Zr(a[zi])){d!==a[zi]&&wb(d,a);const h=a[Er];null!==h&&h.detachView(s)}!function Ts(s){Ag.delete(s[ta])}(a)}}function Cb(s,a,d){return function qC(s,a,d){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return d[Vi];{const{componentOffset:m}=h;if(m>-1){const{encapsulation:_}=s.data[h.directiveStart+m];if(_===dt.None||_===dt.Emulated)return null}return Br(h,d)}}(s,a.parent,d)}function Pm(s,a,d,h,m){s.insertBefore(a,d,h,m)}function BI(s,a,d){s.appendChild(a,d)}function VI(s,a,d,h,m){null!==h?Pm(s,a,d,h,m):BI(s,a,d)}function Fg(s,a){return s.parentNode(a)}function nn(s,a,d){return ZC(s,a,d)}let rx,Sb,cx,ds,ZC=function Go(s,a,d){return 40&s.type?Br(s,d):null};function Mb(s,a,d,h){const m=Cb(s,h,a),_=a[En],S=nn(h.parent||a[Lr],h,a);if(null!=m)if(Array.isArray(d))for(let D=0;D<d.length;D++)VI(_,m,d[D],S,!1);else VI(_,m,d,S,!1);void 0!==rx&&rx(_,h,a,d,m)}function Om(s,a){if(null!==a){const d=a.type;if(3&d)return Br(a,s);if(4&d)return Kh(-1,s[a.index]);if(8&d){const h=a.child;if(null!==h)return Om(s,h);{const m=s[a.index];return Zr(m)?Kh(-1,m):wi(m)}}if(32&d)return xe(a,s)()||wi(s[a.index]);{const h=KC(s,a);return null!==h?Array.isArray(h)?h[0]:Om(xt(s[Hi]),h):Om(s,a.next)}}return null}function KC(s,a){return null!==a?s[Hi][Lr].projection[a.projection]:null}function Kh(s,a){const d=Ur+s+1;if(d<a.length){const h=a[d],m=h[Gt].firstChild;if(null!==m)return Om(h,m)}return a[Cr]}function ox(s,a,d,h,m,_,w){for(;null!=d;){const S=h[d.index],D=d.type;if(w&&0===a&&(S&&Jr(wi(S),h),d.flags|=2),32!=(32&d.flags))if(8&D)ox(s,a,d.child,h,m,_,!1),md(a,s,m,S,_);else if(32&D){const L=xe(d,h);let V;for(;V=L();)md(a,s,m,V,_);md(a,s,m,S,_)}else 16&D?sx(s,a,h,d,m,_):md(a,s,m,S,_);d=w?d.projectionNext:d.next}}function Qh(s,a,d,h,m,_){ox(d,h,s.firstChild,a,m,_,!1)}function sx(s,a,d,h,m,_){const w=d[Hi],D=w[Lr].projection[h.projection];if(Array.isArray(D))for(let L=0;L<D.length;L++)md(a,s,m,D[L],_);else{let L=D;const V=w[zi];hd(h)&&(L.flags|=128),ox(s,a,L,V,m,_,!0)}}function JC(s,a,d){""===d?s.removeAttribute(a,"class"):s.setAttribute(a,"class",d)}function ax(s,a,d){const{mergedAttrs:h,classes:m,styles:_}=d;null!==h&&Za(s,a,h),null!==m&&JC(s,a,m),null!==_&&function Jh(s,a,d){s.setAttribute(a,"style",d)}(s,a,_)}function ul(s){return function Lm(){if(void 0===Sb&&(Sb=null,Ei.trustedTypes))try{Sb=Ei.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Sb}()?.createHTML(s)||s}function Um(s){cx=s}function Gs(){if(void 0!==cx)return cx;if(typeof document<"u")return document;throw new Te(210,!1)}function mo(){if(void 0===ds&&(ds=null,Ei.trustedTypes))try{ds=Ei.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ds}function Ab(s){return mo()?.createHTML(s)||s}function hn(s){return mo()?.createScriptURL(s)||s}class Ki{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cn})`}}class Wo extends Ki{getTypeName(){return"HTML"}}class Bm extends Ki{getTypeName(){return"Style"}}class Hr extends Ki{getTypeName(){return"Script"}}class us extends Ki{getTypeName(){return"URL"}}class Ib extends Ki{getTypeName(){return"ResourceURL"}}function hl(s){return s instanceof Ki?s.changingThisBreaksApplicationSecurity:s}function Vm(s,a){const d=function Au(s){return s instanceof Ki&&s.getTypeName()||null}(s);if(null!=d&&d!==a){if("ResourceURL"===d&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${d} (see ${cn})`)}return d===a}function zm(s){return new Wo(s)}function to(s){return new Bm(s)}function Du(s){return new Hr(s)}function GI(s){return new us(s)}function lx(s){return new Ib(s)}class WI{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const d=(new window.DOMParser).parseFromString(ul(a),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(a):(d.removeChild(d.firstChild),d)}catch{return null}}}class jI{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const d=this.inertDocument.createElement("template");return d.innerHTML=ul(a),d}}const eM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ii(s){return(s=String(s)).match(eM)?s:"unsafe:"+s}function Nn(s){const a={};for(const d of s.split(","))a[d]=!0;return a}function gd(...s){const a={};for(const d of s)for(const h in d)d.hasOwnProperty(h)&&(a[h]=!0);return a}const tM=Nn("area,br,col,hr,img,wbr"),ef=Nn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nM=Nn("rp,rt"),Rb=gd(tM,gd(ef,Nn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gd(nM,Nn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gd(nM,ef)),fl=Nn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dx=gd(fl,Nn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Nn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qI=Nn("script,style,template");class iM{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let d=a.firstChild,h=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?h=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,h&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let m=this.checkClobberedElement(d,d.nextSibling);if(m){d=m;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(a){const d=a.nodeName.toLowerCase();if(!Rb.hasOwnProperty(d))return this.sanitizedSomething=!0,!qI.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const h=a.attributes;for(let m=0;m<h.length;m++){const _=h.item(m),w=_.name,S=w.toLowerCase();if(!dx.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let D=_.value;fl[S]&&(D=Ii(D)),this.buf.push(" ",w,'="',ux(D),'"')}return this.buf.push(">"),!0}endElement(a){const d=a.nodeName.toLowerCase();Rb.hasOwnProperty(d)&&!tM.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(a){this.buf.push(ux(a))}checkClobberedElement(a,d){if(d&&(a.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return d}}const ZI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rM=/([^\#-~ |!])/g;function ux(s){return s.replace(/&/g,"&amp;").replace(ZI,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(rM,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tf;function nf(s,a){let d=null;try{tf=tf||function kb(s){const a=new jI(s);return function Hm(){try{return!!(new window.DOMParser).parseFromString(ul(""),"text/html")}catch{return!1}}()?new WI(a):a}(s);let h=a?String(a):"";d=tf.getInertBodyElement(h);let m=5,_=h;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,h=_,_=d.innerHTML,d=tf.getInertBodyElement(h)}while(h!==_);return ul((new iM).sanitizeChildren(Oi(d)||d))}finally{if(d){const h=Oi(d)||d;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Oi(s){return"content"in s&&function Bg(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var rf=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(rf||{});function Iu(s){const a=ku();return a?Ab(a.sanitize(rf.HTML,s)||""):Vm(s,"HTML")?Ab(hl(s)):nf(Gs(),Me(s))}function Gm(s){const a=ku();return a?a.sanitize(rf.URL,s)||"":Vm(s,"URL")?hl(s):Ii(Me(s))}function Pb(s){const a=ku();if(a)return hn(a.sanitize(rf.RESOURCE_URL,s)||"");if(Vm(s,"ResourceURL"))return hn(hl(s));throw new Te(904,!1)}function zg(s,a,d){return function oM(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?Pb:Gm}(a,d)(s)}function ku(){const s=rt();return s&&s[Xc].sanitizer}class ki{constructor(a,d){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=Vn({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Wm=new ki("ENVIRONMENT_INITIALIZER"),aM=new ki("INJECTOR",-1),cM=new ki("INJECTOR_DEF_TYPES");class hx{get(a,d=xo){if(d===xo){const h=new Error(`NullInjectorError: No provider for ${ye(a)}!`);throw h.name="NullInjectorError",h}return d}}function Hg(s){return{\u0275providers:s}}function QI(...s){return{\u0275providers:lM(0,s),\u0275fromNgModule:!0}}function lM(s,...a){const d=[],h=new Set;let m;const _=w=>{d.push(w)};return as(a,w=>{const S=w;Nb(S,_,[],h)&&(m||=[],m.push(S))}),void 0!==m&&dM(m,_),d}function dM(s,a){for(let d=0;d<s.length;d++){const{ngModule:h,providers:m}=s[d];fx(m,_=>{a(_,h)})}}function Nb(s,a,d,h){if(!(s=ht(s)))return!1;let m=null,_=va(s);const w=!_&&oi(s);if(_||w){if(w&&!w.standalone)return!1;m=s}else{const D=s.ngModule;if(_=va(D),!_)return!1;m=D}const S=h.has(m);if(w){if(S)return!1;if(h.add(m),w.dependencies){const D="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const L of D)Nb(L,a,d,h)}}else{if(!_)return!1;{if(null!=_.imports&&!S){let L;h.add(m);try{as(_.imports,V=>{Nb(V,a,d,h)&&(L||=[],L.push(V))})}finally{}void 0!==L&&dM(L,a)}if(!S){const L=nc(m)||(()=>new m);a({provide:m,useFactory:L,deps:Ot},m),a({provide:cM,useValue:m,multi:!0},m),a({provide:Wm,useValue:()=>xn(m),multi:!0},m)}const D=_.providers;if(null!=D&&!S){const L=s;fx(D,V=>{a(V,L)})}}}return m!==s&&void 0!==s.providers}function fx(s,a){for(let d of s)bt(d)&&(d=d.\u0275providers),Array.isArray(d)?fx(d,a):a(d)}const JI=ne({provide:String,useValue:ne});function Lb(s){return null!==s&&"object"==typeof s&&JI in s}function aa(s){return"function"==typeof s}const Fb=new ki("Set Injector scope."),Gg={},Ub={};let sf;function jm(){return void 0===sf&&(sf=new hx),sf}class Ec{}class Wg extends Ec{get destroyed(){return this._destroyed}constructor(a,d,h,m){super(),this.parent=d,this.source=h,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$g(a,w=>this.processProvider(w)),this.records.set(aM,$m(void 0,this)),m.has("environment")&&this.records.set(Ec,$m(void 0,this));const _=this.records.get(Fb);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(cM.multi,Ot,dn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const d of this._ngOnDestroyHooks)d.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const d of a)d()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const d=zt(this),h=Ri(void 0);try{return a()}finally{zt(d),Ri(h)}}get(a,d=xo,h=dn.Default){if(this.assertNotDestroyed(),a.hasOwnProperty($c))return a[$c](this);h=Ji(h);const _=zt(this),w=Ri(void 0);try{if(!(h&dn.SkipSelf)){let D=this.records.get(a);if(void 0===D){const L=function nk(s){return"function"==typeof s||"object"==typeof s&&s instanceof ki}(a)&&br(a);D=L&&this.injectableDefInScope(L)?$m(px(a),Gg):null,this.records.set(a,D)}if(null!=D)return this.hydrate(a,D)}return(h&dn.Self?jm():this.parent).get(a,d=h&dn.Optional&&d===xo?null:d)}catch(S){if("NullInjectorError"===S.name){if((S[Ko]=S[Ko]||[]).unshift(ye(a)),_)throw S;return function Js(s,a,d,h){const m=s[Ko];throw a[he]&&m.unshift(a[he]),s.message=function Pl(s,a,d,h=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let m=ye(a);if(Array.isArray(a))m=a.map(ye).join(" -> ");else if("object"==typeof a){let _=[];for(let w in a)if(a.hasOwnProperty(w)){let S=a[w];_.push(w+":"+("string"==typeof S?JSON.stringify(S):ye(S)))}m=`{${_.join(", ")}}`}return`${d}${h?"("+h+")":""}[${m}]: ${s.replace(re,"\n  ")}`}("\n"+s.message,m,d,h),s.ngTokenPath=m,s[Ko]=null,s}(S,a,"R3InjectorError",this.source)}throw S}finally{Ri(w),zt(_)}}resolveInjectorInitializers(){const a=zt(this),d=Ri(void 0);try{const m=this.get(Wm.multi,Ot,dn.Self);for(const _ of m)_()}finally{zt(a),Ri(d)}}toString(){const a=[],d=this.records;for(const h of d.keys())a.push(ye(h));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(a){let d=aa(a=ht(a))?a:ht(a&&a.provide);const h=function tk(s){return Lb(s)?$m(void 0,s.useValue):$m(hM(s),Gg)}(a);if(aa(a)||!0!==a.multi)this.records.get(d);else{let m=this.records.get(d);m||(m=$m(void 0,Gg,!0),m.factory=()=>ri(m.multi),this.records.set(d,m)),d=a,m.multi.push(a)}this.records.set(d,h)}hydrate(a,d){return d.value===Gg&&(d.value=Ub,d.value=d.factory()),"object"==typeof d.value&&d.value&&function jg(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(a){if(!a.providedIn)return!1;const d=ht(a.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}removeOnDestroy(a){const d=this._onDestroyHooks.indexOf(a);-1!==d&&this._onDestroyHooks.splice(d,1)}}function px(s){const a=br(s),d=null!==a?a.factory:nc(s);if(null!==d)return d;if(s instanceof ki)throw new Te(204,!1);if(s instanceof Function)return function Bb(s){const a=s.length;if(a>0)throw vc(a,"?"),new Te(204,!1);const d=function Po(s){return s&&(s[Oo]||s[ba])||null}(s);return null!==d?()=>d.factory(s):()=>new s}(s);throw new Te(204,!1)}function hM(s,a,d){let h;if(aa(s)){const m=ht(s);return nc(m)||px(m)}if(Lb(s))h=()=>ht(s.useValue);else if(function uM(s){return!(!s||!s.useFactory)}(s))h=()=>s.useFactory(...ri(s.deps||[]));else if(function mx(s){return!(!s||!s.useExisting)}(s))h=()=>xn(ht(s.useExisting));else{const m=ht(s&&(s.useClass||s.provide));if(!function fM(s){return!!s.deps}(s))return nc(m)||px(m);h=()=>new m(...ri(s.deps))}return h}function $m(s,a,d=!1){return{factory:s,value:a,multi:d?[]:void 0}}function $g(s,a){for(const d of s)Array.isArray(d)?$g(d,a):d&&bt(d)?$g(d.\u0275providers,a):a(d)}const mM=new ki("AppId",{providedIn:"root",factory:()=>pM}),pM="ng",gx=new ki("Platform Initializer"),af=new ki("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Vb=new ki("AnimationModuleType"),Ru=new ki("CSP nonce",{providedIn:"root",factory:()=>Gs().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ex=(s,a,d)=>null;function Cc(s,a,d=!1){return Ex(s,a,d)}class Ax{}class Wb{}class xM{resolveComponentFactory(a){throw function Dx(s){const a=Error(`No component factory found for ${ye(s)}.`);return a.ngComponent=s,a}(a)}}let n_=(()=>{class s{static#e=this.NULL=new xM}return s})();function i_(){return Km(Dr(),rt())}function Km(s,a){return new r_(Br(s,a))}let r_=(()=>{class s{constructor(d){this.nativeElement=d}static#e=this.__NG_ELEMENT_ID__=i_}return s})();function kx(s){return s instanceof r_?s.nativeElement:s}class Rx{}let wM=(()=>{class s{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function rk(){const s=rt(),d=Vr(Dr().index,s);return(Sr(d)?d:s)[En]}()}return s})(),EM=(()=>{class s{static#e=this.\u0275prov=Vn({token:s,providedIn:"root",factory:()=>null})}return s})();class Px{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const CM=new Px("16.2.9"),MM={};function lk(s,a=null,d=null,h){const m=AM(s,a,d,h);return m.resolveInjectorInitializers(),m}function AM(s,a=null,d=null,h,m=new Set){const _=[d||Ot,QI(s)];return h=h||("object"==typeof s?void 0:ye(s)),new Wg(_,a||jm(),h||null,m)}let Sc=(()=>{class s{static#e=this.THROW_IF_NOT_FOUND=xo;static#t=this.NULL=new hx;static create(d,h){if(Array.isArray(d))return lk({name:""},h,d,"");{const m=d.name??"";return lk({name:m},d.parent,d.providers,m)}}static#n=this.\u0275prov=Vn({token:s,providedIn:"any",factory:()=>xn(aM)});static#i=this.__NG_ELEMENT_ID__=-1}return s})();function Lx(s){return s.ngOriginalError}class Pu{constructor(){this._console=console}handleError(a){const d=this._findOriginalError(a);this._console.error("ERROR",a),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(a){let d=a&&Lx(a);for(;d&&Lx(d);)d=Lx(d);return d||null}}function lf(s){return a=>{setTimeout(s,void 0,a)}}const Ws=class dk extends c.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,d,h){let m=a,_=d||(()=>null),w=h;if(a&&"object"==typeof a){const D=a;m=D.next?.bind(D),_=D.error?.bind(D),w=D.complete?.bind(D)}this.__isAsync&&(_=lf(_),m&&(m=lf(m)),w&&(w=lf(w)));const S=super.subscribe({next:m,error:_,complete:w});return a instanceof be.w0&&a.add(S),S}};function DM(...s){}class Ao{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ws(!1),this.onMicrotaskEmpty=new Ws(!1),this.onStable=new Ws(!1),this.onError=new Ws(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!h&&d,m.shouldCoalesceRunChangeDetection=h,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function uk(){const s="function"==typeof Ei.requestAnimationFrame;let a=Ei[s?"requestAnimationFrame":"setTimeout"],d=Ei[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&d){const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h);const m=d[Zone.__symbol__("OriginalDelegate")];m&&(d=m)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function fk(s){const a=()=>{!function DF(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ei,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Yb(s),s.isCheckStableRunning=!0,Fx(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Yb(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,h,m,_,w,S)=>{if(function pk(s){return!(!Array.isArray(s)||1!==s.length)&&!0===s[0].data?.__ignore_ng_zone__}(S))return d.invokeTask(m,_,w,S);try{return s_(s),d.invokeTask(m,_,w,S)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||s.shouldCoalesceRunChangeDetection)&&a(),df(s)}},onInvoke:(d,h,m,_,w,S,D)=>{try{return s_(s),d.invoke(m,_,w,S,D)}finally{s.shouldCoalesceRunChangeDetection&&a(),df(s)}},onHasTask:(d,h,m,_)=>{d.hasTask(m,_),h===m&&("microTask"==_.change?(s._hasPendingMicrotasks=_.microTask,Yb(s),Fx(s)):"macroTask"==_.change&&(s.hasPendingMacrotasks=_.macroTask))},onHandleError:(d,h,m,_)=>(d.handleError(m,_),s.runOutsideAngular(()=>s.onError.emit(_)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ao.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(Ao.isInAngularZone())throw new Te(909,!1)}run(a,d,h){return this._inner.run(a,d,h)}runTask(a,d,h,m){const _=this._inner,w=_.scheduleEventTask("NgZoneEvent: "+m,a,hk,DM,DM);try{return _.runTask(w,d,h)}finally{_.cancelTask(w)}}runGuarded(a,d,h){return this._inner.runGuarded(a,d,h)}runOutsideAngular(a){return this._outer.run(a)}}const hk={};function Fx(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Yb(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function s_(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function df(s){s._nesting--,Fx(s)}class mk{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ws,this.onMicrotaskEmpty=new Ws,this.onStable=new Ws,this.onError=new Ws}run(a,d,h){return a.apply(d,h)}runGuarded(a,d,h){return a.apply(d,h)}runOutsideAngular(a){return a()}runTask(a,d,h,m){return a.apply(d,h)}}const IM=new ki("",{providedIn:"root",factory:kM});function kM(){const s=Bn(Ao);let a=!0;const d=new $.y(m=>{a=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{m.next(a),m.complete()})}),h=new $.y(m=>{let _;s.runOutsideAngular(()=>{_=s.onStable.subscribe(()=>{Ao.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(a=!0,m.next(!0))})})});const w=s.onUnstable.subscribe(()=>{Ao.assertInAngularZone(),a&&(a=!1,s.runOutsideAngular(()=>{m.next(!1)}))});return()=>{_.unsubscribe(),w.unsubscribe()}});return(0,Ce.T)(d,h.pipe((0,Ge.B)()))}function bd(s){return s instanceof Function?s():s}let Zb=(()=>{class s{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Vn({token:s,providedIn:"root",factory:()=>new s})}return s})();function a_(s){for(;s;){s[vn]|=64;const a=xt(s);if(Qc(s)&&!a)return s;s=a}return null}const Kb=new ki("",{providedIn:"root",factory:()=>!1});let Qb=null;function zx(s,a){return s[a]??BM()}function wk(s,a){const d=BM();d.producerNode?.length&&(s[a]=Qb,d.lView=s,Qb=Hx())}const UM={...rc,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{a_(s.lView)},lView:null};function Hx(){return Object.create(UM)}function BM(){return Qb??=Hx(),Qb}const Xn={};function VM(s){zM(ti(),rt(),Yn()+s,!1)}function zM(s,a,d,h){if(!h)if(3==(3&a[vn])){const _=s.preOrderCheckHooks;null!==_&&Ql(a,_,d)}else{const _=s.preOrderHooks;null!==_&&fu(a,_,0,d)}rs(d)}function Jm(s,a=dn.Default){const d=rt();return null===d?xn(s,a):Ss(Dr(),d,ht(s),a)}function HM(){throw new Error("invalid")}function ep(s,a,d,h,m,_,w,S,D,L,V){const K=a.blueprint.slice();return K[Vi]=m,K[vn]=140|h,(null!==L||s&&2048&s[vn])&&(K[vn]|=2048),cg(K),K[zi]=K[Ma]=s,K[li]=d,K[Xc]=w||s&&s[Xc],K[En]=S||s&&s[En],K[ea]=D||s&&s[ea]||null,K[Lr]=_,K[ta]=function yb(){return Q0++}(),K[Lo]=V,K[na]=L,K[Hi]=2==a.type?s[Hi]:K,K}function Tc(s,a,d,h,m){let _=s.data[a];if(null===_)_=function c_(s,a,d,h,m){const _=lu(),w=dc(),D=s.data[a]=function jM(s,a,d,h,m,_){let w=a?a.injectorIndex:-1,S=0;return Fs()&&(S|=128),{type:d,index:h,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:S,providerIndexes:0,value:m,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?_:_&&_.parent,d,a,h,m);return null===s.firstChild&&(s.firstChild=D),null!==_&&(w?null==_.child&&null!==D.parent&&(_.child=D):null===_.next&&(_.next=D,D.prev=_)),D}(s,a,d,h,m),function Nh(){return Cn.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=d,_.value=h,_.attrs=m;const w=function ol(){const s=Cn.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();_.injectorIndex=null===w?-1:w.injectorIndex}return ka(_,!0),_}function l_(s,a,d,h){if(0===d)return-1;const m=a.length;for(let _=0;_<d;_++)a.push(h),s.blueprint.push(h),s.data.push(null);return m}function WM(s,a,d,h,m){const _=zx(a,Bl),w=Yn(),S=2&h;try{rs(-1),S&&a.length>Wn&&zM(s,a,Wn,!1),Cs(S?2:0,m);const L=S?_:null,V=qf(L);try{null!==L&&(L.dirty=!1),d(h,m)}finally{Tr(L,V)}}finally{S&&null===a[Bl]&&wk(a,Bl),rs(w),Cs(S?3:1,m)}}function Jb(s,a,d){if(Kd(a)){const h=Co(null);try{const _=a.directiveEnd;for(let w=a.directiveStart;w<_;w++){const S=s.data[w];S.contentQueries&&S.contentQueries(1,d[w],w)}}finally{Co(h)}}}function tp(s,a,d){zr()&&(function NF(s,a,d,h){const m=d.directiveStart,_=d.directiveEnd;tc(d)&&function FF(s,a,d){const h=Br(a,s),m=Gx(d);let w=16;d.signals?w=4096:d.onPush&&(w=64);const S=f_(s,ep(s,m,null,w,h,a,null,s[Xc].rendererFactory.createRenderer(h,d),null,null,null));s[a.index]=S}(a,d,s.data[m+d.componentOffset]),s.firstCreatePass||pc(d,a),Jr(h,a);const w=d.initialInputs;for(let S=m;S<_;S++){const D=s.data[S],L=sa(a,s,S,d);Jr(L,a),null!==w&&tS(0,S-m,L,D,0,w),Eo(D)&&(Vr(d.index,a)[li]=sa(a,s,S,d))}}(s,a,d,Br(d,a)),64==(64&d.flags)&&KM(s,a,d))}function ey(s,a,d=Br){const h=a.localNames;if(null!==h){let m=a.index+1;for(let _=0;_<h.length;_+=2){const w=h[_+1],S=-1===w?d(a,s):s[w];s[m++]=S}}}function Gx(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Wx(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):a}function Wx(s,a,d,h,m,_,w,S,D,L,V){const K=Wn+h,ue=K+m,_e=function Ek(s,a){const d=[];for(let h=0;h<a;h++)d.push(h<s?null:Xn);return d}(K,ue),$e="function"==typeof L?L():L;return _e[Gt]={type:s,blueprint:_e,template:d,queries:null,viewQuery:S,declTNode:a,data:_e.slice().fill(null,K),bindingStartIndex:K,expandoStartIndex:ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:D,consts:$e,incompleteFirstPass:!1,ssrId:V}}let d_=s=>null;function $M(s,a,d,h){for(let m in s)if(s.hasOwnProperty(m)){d=null===d?{}:d;const _=s[m];null===h?YM(d,a,m,_):h.hasOwnProperty(m)&&YM(d,a,h[m],_)}return d}function YM(s,a,d,h){s.hasOwnProperty(d)?s[d].push(a,h):s[d]=[a,h]}function $i(s,a,d,h,m,_,w,S){const D=Br(a,d);let V,L=a.inputs;!S&&null!=L&&(V=L[h])?(iy(s,d,V,h,m),tc(a)&&function Ik(s,a){const d=Vr(a,s);16&d[vn]||(d[vn]|=64)}(d,a.index)):3&a.type&&(h=function Dk(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(h),m=null!=w?w(m,a.value||"",h):m,_.setProperty(D,h,m))}function jx(s,a,d,h){if(zr()){const m=null===h?null:{"":-1},_=function QM(s,a){const d=s.directiveRegistry;let h=null,m=null;if(d)for(let _=0;_<d.length;_++){const w=d[_];if(Ol(a,w.selectors,!1))if(h||(h=[]),Eo(w))if(null!==w.findHostDirectiveDefs){const S=[];m=m||new Map,w.findHostDirectiveDefs(w,S,m),h.unshift(...S,w),JM(s,a,S.length)}else h.unshift(w),JM(s,a,0);else m=m||new Map,w.findHostDirectiveDefs?.(w,h,m),h.push(w)}return null===h?null:[h,m]}(s,d);let w,S;null===_?w=S=null:[w,S]=_,null!==w&&ZM(s,a,d,w,m,S),m&&function eS(s,a,d){if(a){const h=s.localNames=[];for(let m=0;m<a.length;m+=2){const _=d[a[m+1]];if(null==_)throw new Te(-301,!1);h.push(a[m],_)}}}(d,h,m)}d.mergedAttrs=Xa(d.mergedAttrs,d.attrs)}function ZM(s,a,d,h,m,_){for(let L=0;L<h.length;L++)id(pc(d,a),s,h[L].type);!function kk(s,a,d){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+d,s.providerIndexes=a}(d,s.data.length,h.length);for(let L=0;L<h.length;L++){const V=h[L];V.providersResolver&&V.providersResolver(V)}let w=!1,S=!1,D=l_(s,a,h.length,null);for(let L=0;L<h.length;L++){const V=h[L];d.mergedAttrs=Xa(d.mergedAttrs,V.hostAttrs),LF(s,d,a,D,V),yd(D,V,m),null!==V.contentQueries&&(d.flags|=4),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(d.flags|=64);const K=V.type.prototype;!w&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((s.preOrderHooks??=[]).push(d.index),w=!0),!S&&(K.ngOnChanges||K.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(d.index),S=!0),D++}!function Ak(s,a,d){const m=a.directiveEnd,_=s.data,w=a.attrs,S=[];let D=null,L=null;for(let V=a.directiveStart;V<m;V++){const K=_[V],ue=d?d.get(K):null,$e=ue?ue.outputs:null;D=$M(K.inputs,V,D,ue?ue.inputs:null),L=$M(K.outputs,V,L,$e);const _t=null===D||null===w||co(a)?null:Rk(D,V,w);S.push(_t)}null!==D&&(D.hasOwnProperty("class")&&(a.flags|=8),D.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=S,a.inputs=D,a.outputs=L}(s,d,_)}function KM(s,a,d){const h=d.directiveStart,m=d.directiveEnd,_=d.index,w=function tb(){return Cn.lFrame.currentDirectiveIndex}();try{rs(_);for(let S=h;S<m;S++){const D=s.data[S],L=a[S];uu(S),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&$x(D,L)}}finally{rs(-1),uu(w)}}function $x(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function JM(s,a,d){a.componentOffset=d,(s.components??=[]).push(a.index)}function yd(s,a,d){if(d){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)d[a.exportAs[h]]=s;Eo(a)&&(d[""]=s)}}function LF(s,a,d,h,m){s.data[h]=m;const _=m.factory||(m.factory=nc(m.type)),w=new Na(_,Eo(m),Jm);s.blueprint[h]=w,d[h]=w,function XM(s,a,d,h,m){const _=m.hostBindings;if(_){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const S=~a.index;(function OF(s){let a=s.length;for(;a>0;){const d=s[--a];if("number"==typeof d&&d<0)return d}return 0})(w)!=S&&w.push(S),w.push(d,h,_)}}(s,a,h,l_(s,d,m.hostVars,Xn),m)}function xd(s,a,d,h,m,_){const w=Br(s,a);!function ty(s,a,d,h,m,_,w){if(null==_)s.removeAttribute(a,m,d);else{const S=null==w?Me(_):w(_,h||"",m);s.setAttribute(a,m,S,d)}}(a[En],w,_,s.value,d,h,m)}function tS(s,a,d,h,m,_){const w=_[a];if(null!==w)for(let S=0;S<w.length;)ny(h,d,w[S++],w[S++],w[S++])}function ny(s,a,d,h,m){const _=Co(null);try{const w=s.inputTransforms;null!==w&&w.hasOwnProperty(h)&&(m=w[h].call(a,m)),null!==s.setInput?s.setInput(a,m,d,h):a[h]=m}finally{Co(_)}}function Rk(s,a,d){let h=null,m=0;for(;m<d.length;){const _=d[m];if(0!==_)if(5!==_){if("number"==typeof _)break;if(s.hasOwnProperty(_)){null===h&&(h=[]);const w=s[_];for(let S=0;S<w.length;S+=2)if(w[S]===a){h.push(_,w[S+1],d[m+1]);break}}m+=2}else m+=2;else m+=4}return h}function nS(s,a,d,h){return[s,!0,!1,a,null,0,h,d,null,null,null]}function Pk(s,a){const d=s.contentQueries;if(null!==d)for(let h=0;h<d.length;h+=2){const _=d[h+1];if(-1!==_){const w=s.data[_];am(d[h]),w.contentQueries(2,a[_],_)}}}function f_(s,a){return s[Fr]?s[Hf][ho]=a:s[Fr]=a,s[Hf]=a,a}function Yx(s,a,d){am(0);const h=Co(null);try{a(s,d)}finally{Co(h)}}function Ok(s){return s[Ul]||(s[Ul]=[])}function Nk(s){return s.cleanup||(s.cleanup=[])}function iS(s,a,d){return(null===s||Eo(s))&&(d=function Ia(s){for(;Array.isArray(s);){if("object"==typeof s[Kc])return s;s=s[Vi]}return null}(d[a.index])),d[En]}function Lk(s,a){const d=s[ea],h=d?d.get(Pu,null):null;h&&h.handleError(a)}function iy(s,a,d,h,m){for(let _=0;_<d.length;){const w=d[_++],S=d[_++];ny(s.data[w],a[w],h,S,m)}}function Fk(s,a){const d=Vr(a,s),h=d[Gt];!function qx(s,a){for(let d=a.length;d<s.blueprint.length;d++)a.push(s.blueprint[d])}(h,d);const m=d[Vi];null!==m&&null===d[Lo]&&(d[Lo]=Cc(m,d[ea])),Zx(h,d,d[li])}function Zx(s,a,d){Ra(a);try{const h=s.viewQuery;null!==h&&Yx(1,h,d);const m=s.template;null!==m&&WM(s,a,m,1,d),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Pk(s,a),s.staticViewQueries&&Yx(2,s.viewQuery,d);const _=s.components;null!==_&&function Uk(s,a){for(let d=0;d<a.length;d++)Fk(s,a[d])}(a,_)}catch(h){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),h}finally{a[vn]&=-5,sl()}}let rS=(()=>{class s{constructor(){this.all=new Set,this.queue=new Map}create(d,h,m){const _=typeof Zone>"u"?null:Zone.current,w=function Kv(s,a,d){const h=Object.create(tg);d&&(h.consumerAllowSignalWrites=!0),h.fn=s,h.schedule=a;const m=w=>{h.cleanupFn=w};return h.ref={notify:()=>Gl(h),run:()=>{if(h.dirty=!1,h.hasRun&&!wh(h))return;h.hasRun=!0;const w=qf(h);try{h.cleanupFn(),h.cleanupFn=Ah,h.fn(m)}finally{Tr(h,w)}},cleanup:()=>h.cleanupFn()},h.ref}(d,L=>{this.all.has(L)&&this.queue.set(L,_)},m);let S;this.all.add(w),w.notify();const D=()=>{w.cleanup(),S?.(),this.all.delete(w),this.queue.delete(w)};return S=h?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[d,h]of this.queue)this.queue.delete(d),h?h.run(()=>d.run()):d.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Vn({token:s,providedIn:"root",factory:()=>new s})}return s})();function ry(s,a,d){let h=d?s.styles:null,m=d?s.classes:null,_=0;if(null!==a)for(let w=0;w<a.length;w++){const S=a[w];"number"==typeof S?_=S:1==_?m=yt(m,S):2==_&&(h=yt(h,S+": "+a[++w]+";"))}d?s.styles=h:s.stylesWithoutHost=h,d?s.classes=m:s.classesWithoutHost=m}function np(s,a,d,h,m=!1){for(;null!==d;){const _=a[d.index];null!==_&&h.push(wi(_)),Zr(_)&&oS(_,h);const w=d.type;if(8&w)np(s,a,d.child,h);else if(32&w){const S=xe(d,a);let D;for(;D=S();)h.push(D)}else if(16&w){const S=KC(a,d);if(Array.isArray(S))h.push(...S);else{const D=xt(a[Hi]);np(D[Gt],D,S,h,!0)}}d=m?d.projectionNext:d.next}return h}function oS(s,a){for(let d=Ur;d<s.length;d++){const h=s[d],m=h[Gt].firstChild;null!==m&&np(h[Gt],h,m,a)}s[Cr]!==s[Vi]&&a.push(s[Cr])}function Xx(s,a,d,h=!0){const m=a[Xc],_=m.rendererFactory,w=m.afterRenderEventManager;_.begin?.(),w?.begin();try{Vk(s,a,s.template,d)}catch(D){throw h&&Lk(a,D),D}finally{_.end?.(),m.effectManager?.flush(),w?.end()}}function Vk(s,a,d,h){const m=a[vn];if(256!=(256&m)){a[Xc].effectManager?.flush(),Ra(a);try{cg(a),function om(s){return Cn.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==d&&WM(s,a,d,2,h);const w=3==(3&m);if(w){const L=s.preOrderCheckHooks;null!==L&&Ql(a,L,null)}else{const L=s.preOrderHooks;null!==L&&fu(a,L,0,null),Jl(a,0)}if(function BF(s){for(let a=ji(s);null!==a;a=Hs(a)){if(!a[Xd])continue;const d=a[Mr];for(let h=0;h<d.length;h++){kh(d[h])}}}(a),zk(a,2),null!==s.contentQueries&&Pk(s,a),w){const L=s.contentCheckHooks;null!==L&&Ql(a,L)}else{const L=s.contentHooks;null!==L&&fu(a,L,1),Jl(a,1)}!function GM(s,a){const d=s.hostBindingOpCodes;if(null===d)return;const h=zx(a,Ta);try{for(let m=0;m<d.length;m++){const _=d[m];if(_<0)rs(~_);else{const w=_,S=d[++m],D=d[++m];du(S,w),h.dirty=!1;const L=qf(h);try{D(2,a[w])}finally{Tr(h,L)}}}}finally{null===a[Ta]&&wk(a,Ta),rs(-1)}}(s,a);const S=s.components;null!==S&&Hk(a,S,0);const D=s.viewQuery;if(null!==D&&Yx(2,D,h),w){const L=s.viewCheckHooks;null!==L&&Ql(a,L)}else{const L=s.viewHooks;null!==L&&fu(a,L,2),Jl(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[vn]&=-73,iu(a)}finally{sl()}}}function zk(s,a){for(let d=ji(s);null!==d;d=Hs(d))for(let h=Ur;h<d.length;h++)rr(d[h],a)}function Kx(s,a,d){rr(Vr(a,s),d)}function rr(s,a){if(!function rl(s){return 128==(128&s[vn])}(s))return;const d=s[Gt],h=s[vn];if(80&h&&0===a||1024&h||2===a)Vk(d,s,d.template,s[li]);else if(s[Qa]>0){zk(s,1);const m=d.components;null!==m&&Hk(s,m,1)}}function Hk(s,a,d){for(let h=0;h<a.length;h++)Kx(s,a[h],d)}class ml{get rootNodes(){const a=this._lView,d=a[Gt];return np(d,a,d.firstChild,[])}constructor(a,d){this._lView=a,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[li]}set context(a){this._lView[li]=a}get destroyed(){return 256==(256&this._lView[vn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[zi];if(Zr(a)){const d=a[8],h=d?d.indexOf(this):-1;h>-1&&(Eb(a,h),gg(d,h))}this._attachedToViewContainer=!1}tx(this._lView[Gt],this._lView)}onDestroy(a){!function Fi(s,a){if(256==(256&s[vn]))throw new Te(911,!1);null===s[Sa]&&(s[Sa]=[]),s[Sa].push(a)}(this._lView,a)}markForCheck(){a_(this._cdRefInjectingView||this._lView)}detach(){this._lView[vn]&=-129}reattach(){this._lView[vn]|=128}detectChanges(){Xx(this._lView[Gt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Og(s,a){Qh(s,a,a[En],2,null,null)}(this._lView[Gt],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=a}}class sS extends ml{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Xx(a[Gt],a,a[li],!1)}checkNoChanges(){}get context(){return null}}class Qx extends n_{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const d=oi(a);return new Nu(d,this.ngModule)}}function ip(s){const a=[];for(let d in s)s.hasOwnProperty(d)&&a.push({propName:s[d],templateName:d});return a}class ff{constructor(a,d){this.injector=a,this.parentInjector=d}get(a,d,h){h=Ji(h);const m=this.injector.get(a,MM,h);return m!==MM||d===MM?m:this.parentInjector.get(a,d,h)}}class Nu extends Wb{get inputs(){const a=this.componentDef,d=a.inputTransforms,h=ip(a.inputs);if(null!==d)for(const m of h)d.hasOwnProperty(m.propName)&&(m.transform=d[m.propName]);return h}get outputs(){return ip(this.componentDef.outputs)}constructor(a,d){super(),this.componentDef=a,this.ngModule=d,this.componentType=a.type,this.selector=function Vf(s){return s.map(Nl).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!d}create(a,d,h,m){let _=(m=m||this.ngModule)instanceof Ec?m:m?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const w=_?new ff(a,_):a,S=w.get(Rx,null);if(null===S)throw new Te(407,!1);const K={rendererFactory:S,sanitizer:w.get(EM,null),effectManager:w.get(rS,null),afterRenderEventManager:w.get(Zb,null)},ue=S.createRenderer(null,this.componentDef),_e=this.componentDef.selectors[0][0]||"div",$e=h?function Ck(s,a,d,h){const _=h.get(Kb,!1)||d===dt.ShadowDom,w=s.selectRootElement(a,_);return function Mk(s){d_(s)}(w),w}(ue,h,this.componentDef.encapsulation,w):pd(ue,_e,function Gk(s){const a=s.toLowerCase();return"svg"===a?em:"math"===a?"math":null}(_e)),Wt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let lt=null;null!==$e&&(lt=Cc($e,w,!0));const Ln=Wx(0,null,null,1,0,null,null,null,null,null,null),qn=ep(null,Ln,null,Wt,null,null,K,ue,w,null,lt);let Ci,qi;Ra(qn);try{const Bd=this.componentDef;let kf,TE=null;Bd.findHostDirectiveDefs?(kf=[],TE=new Map,Bd.findHostDirectiveDefs(Bd,kf,TE),kf.push(Bd)):kf=[Bd];const MP=function Wk(s,a){const d=s[Gt],h=Wn;return s[h]=a,Tc(d,h,2,"#host",null)}(qn,$e),SP=function VF(s,a,d,h,m,_,w){const S=m[Gt];!function Jx(s,a,d,h){for(const m of s)a.mergedAttrs=Xa(a.mergedAttrs,m.hostAttrs);null!==a.mergedAttrs&&(ry(a,a.mergedAttrs,!0),null!==d&&ax(h,d,a))}(h,s,a,w);let D=null;null!==a&&(D=Cc(a,m[ea]));const L=_.rendererFactory.createRenderer(a,d);let V=16;d.signals?V=4096:d.onPush&&(V=64);const K=ep(m,Gx(d),null,V,m[s.index],s,_,L,null,null,D);return S.firstCreatePass&&JM(S,s,h.length-1),f_(m,K),m[s.index]=K}(MP,$e,Bd,kf,qn,K,ue);qi=Ih(Ln,Wn),$e&&function $k(s,a,d,h){if(h)Za(s,d,["ng-version",CM.full]);else{const{attrs:m,classes:_}=function es(s){const a=[],d=[];let h=1,m=2;for(;h<s.length;){let _=s[h];if("string"==typeof _)2===m?""!==_&&a.push(_,s[++h]):8===m&&d.push(_);else{if(!wo(m))break;m=_}h++}return{attrs:a,classes:d}}(a.selectors[0]);m&&Za(s,d,m),_&&_.length>0&&JC(s,d,_.join(" "))}}(ue,Bd,$e,h),void 0!==d&&function oy(s,a,d){const h=s.projection=[];for(let m=0;m<a.length;m++){const _=d[m];h.push(null!=_?Array.from(_):null)}}(qi,this.ngContentSelectors,d),Ci=function jk(s,a,d,h,m,_){const w=Dr(),S=m[Gt],D=Br(w,m);ZM(S,m,w,d,null,h);for(let V=0;V<d.length;V++)Jr(sa(m,S,w.directiveStart+V,w),m);KM(S,m,w),D&&Jr(D,m);const L=sa(m,S,w.directiveStart+w.componentOffset,w);if(s[li]=m[li]=L,null!==_)for(const V of _)V(L,a);return Jb(S,w,s),L}(SP,Bd,kf,TE,qn,[Lu]),Zx(Ln,qn,null)}finally{sl()}return new mf(this.componentType,Ci,Km(qi,qn),qn,qi)}}class mf extends Ax{constructor(a,d,h,m,_){super(),this.location=h,this._rootLView=m,this._tNode=_,this.previousInputValues=null,this.instance=d,this.hostView=this.changeDetectorRef=new sS(m),this.componentType=a}setInput(a,d){const h=this._tNode.inputs;let m;if(null!==h&&(m=h[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),d))return;const _=this._rootLView;iy(_[Gt],_,m,a,d),this.previousInputValues.set(a,d),a_(Vr(this._tNode.index,_))}}get injector(){return new Pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Lu(){const s=Dr();fc(rt()[Gt],s)}function aS(s){let a=function sy(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),d=!0;const h=[s];for(;a;){let m;if(Eo(s))m=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Te(903,!1);m=a.\u0275dir}if(m){if(d){h.push(m);const w=s;w.inputs=ay(s.inputs),w.inputTransforms=ay(s.inputTransforms),w.declaredInputs=ay(s.declaredInputs),w.outputs=ay(s.outputs);const S=m.hostBindings;S&&Yk(s,S);const D=m.viewQuery,L=m.contentQueries;if(D&&HF(s,D),L&&m_(s,L),se(s.inputs,m.inputs),se(s.declaredInputs,m.declaredInputs),se(s.outputs,m.outputs),null!==m.inputTransforms&&(null===w.inputTransforms&&(w.inputTransforms={}),se(w.inputTransforms,m.inputTransforms)),Eo(m)&&m.data.animation){const V=s.data;V.animation=(V.animation||[]).concat(m.data.animation)}}const _=m.features;if(_)for(let w=0;w<_.length;w++){const S=_[w];S&&S.ngInherit&&S(s),S===aS&&(d=!1)}}a=Object.getPrototypeOf(a)}!function zF(s){let a=0,d=null;for(let h=s.length-1;h>=0;h--){const m=s[h];m.hostVars=a+=m.hostVars,m.hostAttrs=Xa(m.hostAttrs,d=Xa(d,m.hostAttrs))}}(h)}function ay(s){return s===Zt?{}:s===Ot?[]:s}function HF(s,a){const d=s.viewQuery;s.viewQuery=d?(h,m)=>{a(h,m),d(h,m)}:a}function m_(s,a){const d=s.contentQueries;s.contentQueries=d?(h,m,_)=>{a(h,m,_),d(h,m,_)}:a}function Yk(s,a){const d=s.hostBindings;s.hostBindings=d?(h,m)=>{a(h,m),d(h,m)}:a}function lS(s){const a=s.inputConfig,d={};for(const h in a)if(a.hasOwnProperty(h)){const m=a[h];Array.isArray(m)&&m[2]&&(d[h]=m[2])}s.inputTransforms=d}function op(s){return!!uS(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function uS(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function hs(s,a,d){return!Object.is(s[a],d)&&(s[a]=d,!0)}function hS(s,a,d,h){const m=rt();return hs(m,uc(),a)&&(ti(),xd(Sn(),m,s,a,d,h)),hS}function __(s,a,d,h){return hs(s,uc(),d)?a+Me(d)+h:Xn}function cR(s,a,d,h,m,_,w,S){const D=rt(),L=ti(),V=s+Wn,K=L.firstCreatePass?function d2(s,a,d,h,m,_,w,S,D){const L=a.consts,V=Tc(a,s,4,w||null,Mo(L,S));jx(a,d,V,Mo(L,D)),fc(a,V);const K=V.tView=Wx(2,V,h,m,_,a.directiveRegistry,a.pipeRegistry,null,a.schemas,L,null);return null!==a.queries&&(a.queries.template(a,V),K.queries=a.queries.embeddedTView(V)),V}(V,L,D,a,d,h,m,_,w):L.data[V];ka(K,!1);const ue=lR(L,D,K,s);Pa()&&Mb(L,D,ue,K),Jr(ue,D),f_(D,D[V]=nS(ue,D,ue,K)),Fo(K)&&tp(L,D,K),null!=w&&ey(D,K,S)}let lR=function dR(s,a,d,h){return ss(!0),a[En].createComment("")};function uR(s){return function lc(s,a){return s[a]}(function lg(){return Cn.lFrame.contextLView}(),Wn+s)}function bS(s,a,d){const h=rt();return hs(h,uc(),a)&&$i(ti(),Sn(),h,s,a,h[En],d,!1),bS}function yS(s,a,d,h,m){const w=m?"class":"style";iy(s,d,a.inputs[w],w,h)}function ow(s,a,d,h){const m=rt(),_=ti(),w=Wn+s,S=m[En],D=_.firstCreatePass?function m2(s,a,d,h,m,_){const w=a.consts,D=Tc(a,s,2,h,Mo(w,m));return jx(a,d,D,Mo(w,_)),null!==D.attrs&&ry(D,D.attrs,!1),null!==D.mergedAttrs&&ry(D,D.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,D),D}(w,_,m,a,d,h):_.data[w],L=hR(_,m,D,S,a,s);m[w]=L;const V=Fo(D);return ka(D,!0),ax(S,L,D),32!=(32&D.flags)&&Pa()&&Mb(_,m,L,D),0===function ru(){return Cn.lFrame.elementDepthCount}()&&Jr(L,m),function Ar(){Cn.lFrame.elementDepthCount++}(),V&&(tp(_,m,D),Jb(_,D,m)),null!==h&&ey(m,D),ow}function sw(){let s=Dr();dc()?Ph():(s=s.parent,ka(s,!1));const a=s;(function ou(s){return Cn.skipHydrationRootTNode===s})(a)&&function Rh(){Cn.skipHydrationRootTNode=null}(),function rm(){Cn.lFrame.elementDepthCount--}();const d=ti();return d.firstCreatePass&&(fc(d,s),Kd(s)&&d.queries.elementEnd(s)),null!=a.classesWithoutHost&&function hm(s){return 0!=(8&s.flags)}(a)&&yS(d,a,rt(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function ib(s){return 0!=(16&s.flags)}(a)&&yS(d,a,rt(),a.stylesWithoutHost,!1),sw}function xS(s,a,d,h){return ow(s,a,d,h),sw(),xS}let hR=(s,a,d,h,m,_)=>(ss(!0),pd(h,m,function dm(){return Cn.lFrame.currentNamespace}()));function aw(s,a,d){const h=rt(),m=ti(),_=s+Wn,w=m.firstCreatePass?function _2(s,a,d,h,m){const _=a.consts,w=Mo(_,h),S=Tc(a,s,8,"ng-container",w);return null!==w&&ry(S,w,!0),jx(a,d,S,Mo(_,m)),null!==a.queries&&a.queries.elementStart(a,S),S}(_,m,h,a,d):m.data[_];ka(w,!0);const S=fR(m,h,w,s);return h[_]=S,Pa()&&Mb(m,h,S,w),Jr(S,h),Fo(w)&&(tp(m,h,w),Jb(m,w,h)),null!=d&&ey(h,w),aw}function cw(){let s=Dr();const a=ti();return dc()?Ph():(s=s.parent,ka(s,!1)),a.firstCreatePass&&(fc(a,s),Kd(s)&&a.queries.elementEnd(s)),cw}function wS(s,a,d){return aw(s,a,d),cw(),wS}let fR=(s,a,d,h)=>(ss(!0),Rm(a[En],""));function mR(){return rt()}function ES(s){return!!s&&"function"==typeof s.then}function pR(s){return!!s&&"function"==typeof s.subscribe}function CS(s,a,d,h){const m=rt(),_=ti(),w=Dr();return function _R(s,a,d,h,m,_,w){const S=Fo(h),L=s.firstCreatePass&&Nk(s),V=a[li],K=Ok(a);let ue=!0;if(3&h.type||w){const _t=Br(h,a),Bt=w?w(_t):_t,Wt=K.length,lt=w?qn=>w(wi(qn[h.index])):h.index;let Ln=null;if(!w&&S&&(Ln=function y2(s,a,d,h){const m=s.cleanup;if(null!=m)for(let _=0;_<m.length-1;_+=2){const w=m[_];if(w===d&&m[_+1]===h){const S=a[Ul],D=m[_+2];return S.length>D?S[D]:null}"string"==typeof w&&(_+=2)}return null}(s,a,m,h.index)),null!==Ln)(Ln.__ngLastListenerFn__||Ln).__ngNextListenerFn__=_,Ln.__ngLastListenerFn__=_,ue=!1;else{_=bR(h,a,V,_,!1);const qn=d.listen(Bt,m,_);K.push(_,qn),L&&L.push(m,lt,Wt,Wt+1)}}else _=bR(h,a,V,_,!1);const _e=h.outputs;let $e;if(ue&&null!==_e&&($e=_e[m])){const _t=$e.length;if(_t)for(let Bt=0;Bt<_t;Bt+=2){const Ci=a[$e[Bt]][$e[Bt+1]].subscribe(_),qi=K.length;K.push(_,Ci),L&&L.push(m,h.index,qi,-(qi+1))}}}(_,m,m[En],w,s,a,h),CS}function vR(s,a,d,h){try{return Cs(6,a,d),!1!==d(h)}catch(m){return Lk(s,m),!1}finally{Cs(7,a,d)}}function bR(s,a,d,h,m){return function _(w){if(w===Function)return h;a_(s.componentOffset>-1?Vr(s.index,a):a);let D=vR(a,d,h,w),L=_.__ngNextListenerFn__;for(;L;)D=vR(a,d,L,w)&&D,L=L.__ngNextListenerFn__;return m&&!1===D&&w.preventDefault(),D}}function yR(s=1){return function Xl(s){return(Cn.lFrame.contextLView=function Rn(s,a){for(;s>0;)a=a[Ma],s--;return a}(s,Cn.lFrame.contextLView))[li]}(s)}function x2(s,a){let d=null;const h=function uh(s){const a=s.attrs;if(null!=a){const d=a.indexOf(5);if(!(1&d))return a[d+1]}return null}(s);for(let m=0;m<a.length;m++){const _=a[m];if("*"!==_){if(null===h?Ol(s,_,!0):Bf(h,_))return m}else d=m}return d}function xR(s){const a=rt()[Hi][Lr];if(!a.projection){const h=a.projection=vc(s?s.length:1,null),m=h.slice();let _=a.child;for(;null!==_;){const w=s?x2(_,s):0;null!==w&&(m[w]?m[w].projectionNext=_:h[w]=_,m[w]=_),_=_.next}}}function MS(s,a=0,d){const h=rt(),m=ti(),_=Tc(m,Wn+s,16,null,d||null);null===_.projection&&(_.projection=a),Ph(),(!h[Lo]||Fs())&&32!=(32&_.flags)&&function Nm(s,a,d){sx(a[En],0,a,d,Cb(s,d,a),nn(d.parent||a[Lr],d,a))}(m,h,_)}function Dc(s,a,d){return cp(s,"",a,"",d),Dc}function cp(s,a,d,h,m){const _=rt(),w=__(_,a,d,h);return w!==Xn&&$i(ti(),Sn(),_,s,w,_[En],m,!1),cp}function Ua(s,a){return s<<17|a<<2}function pf(s){return s>>17&32767}function uw(s){return 2|s}function Cd(s){return(131068&s)>>2}function TS(s,a){return-131069&s|a<<2}function Md(s){return 1|s}function hw(s,a,d,h,m){const _=s[d+1],w=null===a;let S=h?pf(_):Cd(_),D=!1;for(;0!==S&&(!1===D||w);){const V=s[S+1];C2(s[S],a)&&(D=!0,s[S+1]=h?Md(V):uw(V)),S=h?pf(V):Cd(V)}D&&(s[d+1]=h?uw(_):Md(_))}function C2(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&yu(s,a)>=0}const no={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function fw(s){return s.substring(no.key,no.keyEnd)}function MR(s,a){const d=no.textEnd;return d===a?-1:(a=no.keyEnd=function pw(s,a,d){for(;a<d&&s.charCodeAt(a)>32;)a++;return a}(s,no.key=a,d),gf(s,a,d))}function gf(s,a,d){for(;a<d&&s.charCodeAt(a)<=32;)a++;return a}function lp(s,a,d){return Ic(s,a,d,!1),lp}function _w(s,a){return Ic(s,a,null,!0),_w}function RS(s){kc(S2,gl,s,!0)}function gl(s,a){for(let d=function my(s){return function py(s){no.key=0,no.keyEnd=0,no.value=0,no.valueEnd=0,no.textEnd=s.length}(s),MR(s,gf(s,0,no.textEnd))}(a);d>=0;d=MR(a,d))Vo(s,fw(a),!0)}function Ic(s,a,d,h){const m=rt(),_=ti(),w=is(2);_.firstUpdatePass&&bw(_,s,w,h),a!==Xn&&hs(m,w,a)&&PR(_,_.data[Yn()],m,m[En],s,m[w+1]=function OR(s,a){return null==s||""===s||("string"==typeof a?s+=a:"object"==typeof s&&(s=ye(hl(s)))),s}(a,d),h,w)}function kc(s,a,d,h){const m=ti(),_=is(2);m.firstUpdatePass&&bw(m,null,_,h);const w=rt();if(d!==Xn&&hs(w,_,d)){const S=m.data[Yn()];if(PS(S,h)&&!vw(m,_)){let D=h?S.classesWithoutHost:S.stylesWithoutHost;null!==D&&(d=yt(D,d||"")),yS(m,S,w,d,h)}else!function T2(s,a,d,h,m,_,w,S){m===Xn&&(m=Ot);let D=0,L=0,V=0<m.length?m[0]:null,K=0<_.length?_[0]:null;for(;null!==V||null!==K;){const ue=D<m.length?m[D+1]:void 0,_e=L<_.length?_[L+1]:void 0;let _t,$e=null;V===K?(D+=2,L+=2,ue!==_e&&($e=K,_t=_e)):null===K||null!==V&&V<K?(D+=2,$e=V):(L+=2,$e=K,_t=_e),null!==$e&&PR(s,a,d,h,$e,_t,w,S),V=D<m.length?m[D]:null,K=L<_.length?_[L]:null}}(m,S,w,w[En],w[_+1],w[_+1]=function M2(s,a,d){if(null==d||""===d)return Ot;const h=[],m=hl(d);if(Array.isArray(m))for(let _=0;_<m.length;_++)s(h,m[_],!0);else if("object"==typeof m)for(const _ in m)m.hasOwnProperty(_)&&s(h,_,m[_]);else"string"==typeof m&&a(h,m);return h}(s,a,d),h,_)}}function vw(s,a){return a>=s.expandoStartIndex}function bw(s,a,d,h){const m=s.data;if(null===m[d+1]){const _=m[Yn()],w=vw(s,d);PS(_,h)&&null===a&&!w&&(a=!1),a=function AR(s,a,d,h){const m=sm(s);let _=h?a.residualClasses:a.residualStyles;if(null===m)0===(h?a.classBindings:a.styleBindings)&&(d=gy(d=T_(null,s,a,d,h),a.attrs,h),_=null);else{const w=a.directiveStylingLast;if(-1===w||s[w]!==m)if(d=T_(m,s,a,d,h),null===_){let D=function DR(s,a,d){const h=d?a.classBindings:a.styleBindings;if(0!==Cd(h))return s[pf(h)]}(s,a,h);void 0!==D&&Array.isArray(D)&&(D=T_(null,s,a,D[1],h),D=gy(D,a.attrs,h),function IR(s,a,d,h){s[pf(d?a.classBindings:a.styleBindings)]=h}(s,a,h,D))}else _=function kR(s,a,d){let h;const m=a.directiveEnd;for(let _=1+a.directiveStylingLast;_<m;_++)h=gy(h,s[_].hostAttrs,d);return gy(h,a.attrs,d)}(s,a,h)}return void 0!==_&&(h?a.residualClasses=_:a.residualStyles=_),d}(m,_,a,h),function ER(s,a,d,h,m,_){let w=_?a.classBindings:a.styleBindings,S=pf(w),D=Cd(w);s[h]=d;let V,L=!1;if(Array.isArray(d)?(V=d[1],(null===V||yu(d,V)>0)&&(L=!0)):V=d,m)if(0!==D){const ue=pf(s[S+1]);s[h+1]=Ua(ue,S),0!==ue&&(s[ue+1]=TS(s[ue+1],h)),s[S+1]=function wR(s,a){return 131071&s|a<<17}(s[S+1],h)}else s[h+1]=Ua(S,0),0!==S&&(s[S+1]=TS(s[S+1],h)),S=h;else s[h+1]=Ua(D,0),0===S?S=h:s[D+1]=TS(s[D+1],h),D=h;L&&(s[h+1]=uw(s[h+1])),hw(s,V,h,!0),hw(s,V,h,!1),function CR(s,a,d,h,m){const _=m?s.residualClasses:s.residualStyles;null!=_&&"string"==typeof a&&yu(_,a)>=0&&(d[h+1]=Md(d[h+1]))}(a,V,s,h,_),w=Ua(S,D),_?a.classBindings=w:a.styleBindings=w}(m,_,a,d,w,h)}}function T_(s,a,d,h,m){let _=null;const w=d.directiveEnd;let S=d.directiveStylingLast;for(-1===S?S=d.directiveStart:S++;S<w&&(_=a[S],h=gy(h,_.hostAttrs,m),_!==s);)S++;return null!==s&&(d.directiveStylingLast=S),h}function gy(s,a,d){const h=d?1:2;let m=-1;if(null!==a)for(let _=0;_<a.length;_++){const w=a[_];"number"==typeof w?m=w:m===h&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Vo(s,w,!!d||a[++_]))}return void 0===s?null:s}function S2(s,a,d){const h=String(a);""!==h&&!h.includes(" ")&&Vo(s,h,d)}function PR(s,a,d,h,m,_,w,S){if(!(3&a.type))return;const D=s.data,L=D[S+1],V=function AS(s){return 1==(1&s)}(L)?yw(D,a,d,m,Cd(L),w):void 0;A_(V)||(A_(_)||function SS(s){return 2==(2&s)}(L)&&(_=yw(D,null,d,m,S,w)),function zI(s,a,d,h,m){if(a)m?s.addClass(d,h):s.removeClass(d,h);else{let _=-1===h.indexOf("-")?void 0:qh.DashCase;null==m?s.removeStyle(d,h,_):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),_|=qh.Important),s.setStyle(d,h,m,_))}}(h,w,cc(Yn(),d),m,_))}function yw(s,a,d,h,m,_){const w=null===a;let S;for(;m>0;){const D=s[m],L=Array.isArray(D),V=L?D[1]:D,K=null===V;let ue=d[m+1];ue===Xn&&(ue=K?Ot:void 0);let _e=K?sb(ue,h):V===h?ue:void 0;if(L&&!A_(_e)&&(_e=sb(D,h)),A_(_e)&&(S=_e,w))return S;const $e=s[m+1];m=w?pf($e):Cd($e)}if(null!==a){let D=_?a.residualClasses:a.residualStyles;null!=D&&(S=sb(D,h))}return S}function A_(s){return void 0!==s}function PS(s,a){return 0!=(s.flags&(a?8:16))}function xw(s,a=""){const d=rt(),h=ti(),m=s+Wn,_=h.firstCreatePass?Tc(h,m,1,a,null):h.data[m],w=_f(h,d,_,a,s);d[m]=w,Pa()&&Mb(h,d,w,_),ka(_,!1)}let _f=(s,a,d,h,m)=>(ss(!0),function Tu(s,a){return s.createText(a)}(a[En],h));function ww(s){return _y("",s,""),ww}function _y(s,a,d){const h=rt(),m=__(h,s,a,d);return m!==Xn&&function wd(s,a,d){const h=cc(a,s);!function Rg(s,a,d){s.setValue(a,d)}(s[En],h,d)}(h,Yn(),m),_y}function Cw(s,a,d){kc(Vo,gl,__(rt(),s,a,d),!0)}function $S(s,a,d){const h=rt();return hs(h,uc(),a)&&$i(ti(),Sn(),h,s,a,h[En],d,!0),$S}function YS(s,a,d){const h=rt();if(hs(h,uc(),a)){const _=ti(),w=Sn();$i(_,w,h,s,a,iS(sm(_.data),w,h),d,!0)}return YS}const Ba=void 0;var vy=["en",[["a","p"],["AM","PM"],Ba],[["AM","PM"],Ba,Ba],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ba,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ba,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ba,"{1} 'at' {0}",Ba],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Tw(s){const d=Math.floor(Math.abs(s)),h=s.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===h?1:5}];let Bu={};function by(s){const a=function k2(s){return s.toLowerCase().replace(/_/g,"-")}(s);let d=ZR(a);if(d)return d;const h=a.split("-")[0];if(d=ZR(h),d)return d;if("en"===h)return vy;throw new Te(701,!1)}function qS(s){return by(s)[k_.PluralCase]}function ZR(s){return s in Bu||(Bu[s]=Ei.ng&&Ei.ng.common&&Ei.ng.common.locales&&Ei.ng.common.locales[s]),Bu[s]}var k_=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(k_||{});const R_="en-US";let dp=R_;function vl(s,a,d,h,m){if(s=ht(s),Array.isArray(s))for(let _=0;_<s.length;_++)vl(s[_],a,d,h,m);else{const _=ti(),w=rt(),S=Dr();let D=aa(s)?s:ht(s.provide);const L=hM(s),V=1048575&S.providerIndexes,K=S.directiveStart,ue=S.providerIndexes>>20;if(aa(s)||!s.multi){const _e=new Na(L,m,Jm),$e=Ty(D,a,m?V:V+ue,K);-1===$e?(id(pc(S,w),_,D),zu(_,s,a.length),a.push(D),S.directiveStart++,S.directiveEnd++,m&&(S.providerIndexes+=1048576),d.push(_e),w.push(_e)):(d[$e]=_e,w[$e]=_e)}else{const _e=Ty(D,a,V+ue,K),$e=Ty(D,a,V,V+ue),Bt=$e>=0&&d[$e];if(m&&!Bt||!m&&!(_e>=0&&d[_e])){id(pc(S,w),_,D);const Wt=function x1(s,a,d,h,m){const _=new Na(s,d,Jm);return _.multi=[],_.index=a,_.componentProviders=0,Lw(_,m,h&&!d),_}(m?y1:gT,d.length,m,h,L);!m&&Bt&&(d[$e].providerFactory=Wt),zu(_,s,a.length,0),a.push(D),S.directiveStart++,S.directiveEnd++,m&&(S.providerIndexes+=1048576),d.push(Wt),w.push(Wt)}else zu(_,s,_e>-1?_e:$e,Lw(d[m?$e:_e],L,!m&&h));!m&&h&&Bt&&d[$e].componentProviders++}}}function zu(s,a,d,h){const m=aa(a),_=function ek(s){return!!s.useClass}(a);if(m||_){const D=(_?ht(a.useClass):a).prototype.ngOnDestroy;if(D){const L=s.destroyHooks||(s.destroyHooks=[]);if(!m&&a.multi){const V=L.indexOf(d);-1===V?L.push(d,[h,D]):L[V+1].push(h,D)}else L.push(d,D)}}}function Lw(s,a,d){return d&&s.componentProviders++,s.multi.push(a)-1}function Ty(s,a,d,h){for(let m=d;m<h;m++)if(a[m]===s)return m;return-1}function gT(s,a,d,h){return Dd(this.multi,[])}function y1(s,a,d,h){const m=this.multi;let _;if(this.providerFactory){const w=this.providerFactory.componentProviders,S=sa(d,d[Gt],this.providerFactory.index,h);_=S.slice(0,w),Dd(m,_);for(let D=w;D<S.length;D++)_.push(S[D])}else _=[],Dd(m,_);return _}function Dd(s,a){for(let d=0;d<s.length;d++)a.push((0,s[d])());return a}function _T(s,a=[]){return d=>{d.providersResolver=(h,m)=>function $2(s,a,d){const h=ti();if(h.firstCreatePass){const m=Eo(s);vl(d,h.data,h.blueprint,m,!0),vl(a,h.data,h.blueprint,m,!1)}}(h,m?m(s):s,a)}}class Hu{}class Fw{}function w1(s,a){return new Uw(s,a??null,[])}class Uw extends Hu{constructor(a,d,h){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qx(this);const m=uo(a);this._bootstrapComponents=bd(m.bootstrap),this._r3Injector=AM(a,d,[{provide:Hu,useValue:this},{provide:n_,useValue:this.componentFactoryResolver},...h],ye(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Bw extends Fw{constructor(a){super(),this.moduleType=a}create(a){return new Uw(this.moduleType,a,[])}}class Ay extends Hu{constructor(a){super(),this.componentFactoryResolver=new Qx(this),this.instance=null;const d=new Wg([...a.providers,{provide:Hu,useValue:this},{provide:n_,useValue:this.componentFactoryResolver}],a.parent||jm(),a.debugName,new Set(["environment"]));this.injector=d,a.runEnvironmentInitializers&&d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function vT(s,a,d=null){return new Ay({providers:s,parent:a,debugName:d,runEnvironmentInitializers:!0}).injector}let E1=(()=>{class s{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d)){const h=lM(0,d.type),m=h.length>0?vT([h],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d,m)}return this.cachedInjectors.get(d)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Vn({token:s,providedIn:"environment",factory:()=>new s(xn(Ec))})}return s})();function bT(s){s.getStandaloneInjector=a=>a.get(E1).getOrCreateStandaloneInjector(s)}function Id(s,a,d){const h=function So(){const s=Cn.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}()+s,m=rt();return m[h]===Xn?function Ed(s,a,d){return s[a]=d}(m,h,d?a.call(d):a()):function cy(s,a){return s[a]}(m,h)}function K2(){return this._results[Symbol.iterator]()}class Oc{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ws)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Oc.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=K2)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,d){return this._results.reduce(a,d)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,d){const h=this;h.dirty=!1;const m=function tr(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Qr(s,a,d){if(s.length!==a.length)return!1;for(let h=0;h<s.length;h++){let m=s[h],_=a[h];if(d&&(m=d(m),_=d(_)),_!==m)return!1}return!0}(h._results,m,d))&&(h._results=m,h.length=m.length,h.last=m[this.length-1],h.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Ww(s,a,d,h=!0){const m=a[Gt];if(function ex(s,a,d,h){const m=Ur+h,_=d.length;h>0&&(d[m-1][ho]=a),h<_-Ur?(a[ho]=d[m],bu(d,Ur+h,a)):(d.push(a),a[ho]=null),a[zi]=d;const w=a[ph];null!==w&&d!==w&&function Lg(s,a){const d=s[Mr];a[Hi]!==a[zi][zi][Hi]&&(s[Xd]=!0),null===d?s[Mr]=[a]:d.push(a)}(w,a);const S=a[Er];null!==S&&S.insertView(s),a[vn]|=128}(m,a,s,d),h){const _=Kh(d,s),w=a[En],S=Fg(w,s[Cr]);null!==S&&function Pg(s,a,d,h,m,_){h[Vi]=m,h[Lr]=a,Qh(s,h,d,1,m,_)}(m,s[Lr],w,a,S,_)}}let Va=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=AT}return s})();const Rd=Va,z_=class extends Rd{constructor(a,d,h){super(),this._declarationLView=a,this._declarationTContainer=d,this.elementRef=h}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,d){return this.createEmbeddedViewImpl(a,d)}createEmbeddedViewImpl(a,d,h){const m=function U1(s,a,d,h){const m=a.tView,S=ep(s,m,d,4096&s[vn]?4096:16,null,a,null,null,null,h?.injector??null,h?.hydrationInfo??null);S[ph]=s[a.index];const L=s[Er];return null!==L&&(S[Er]=L.createEmbeddedView(m)),Zx(m,S,d),S}(this._declarationLView,this._declarationTContainer,a,{injector:d,hydrationInfo:h});return new ml(m)}};function AT(){return H_(Dr(),rt())}function H_(s,a){return 4&s.type?new z_(a,s,Km(s,a)):null}let G_=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=kT}return s})();function kT(){return $w(Dr(),rt())}const jw=G_,Ry=class extends jw{constructor(a,d,h){super(),this._lContainer=a,this._hostTNode=d,this._hostLView=h}get element(){return Km(this._hostTNode,this._hostLView)}get injector(){return new Pi(this._hostTNode,this._hostLView)}get parentInjector(){const a=La(this._hostTNode,this._hostLView);if(ed(a)){const d=mc(a,this._hostLView),h=al(a);return new Pi(d[Gt].data[h+8],d)}return new Pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const d=Py(this._lContainer);return null!==d&&d[a]||null}get length(){return this._lContainer.length-Ur}createEmbeddedView(a,d,h){let m,_;"number"==typeof h?m=h:null!=h&&(m=h.index,_=h.injector);const S=a.createEmbeddedViewImpl(d||{},_,null);return this.insertImpl(S,m,false),S}createComponent(a,d,h,m,_){const w=a&&!function Kr(s){return"function"==typeof s}(a);let S;if(w)S=d;else{const _t=d||{};S=_t.index,h=_t.injector,m=_t.projectableNodes,_=_t.environmentInjector||_t.ngModuleRef}const D=w?a:new Nu(oi(a)),L=h||this.parentInjector;if(!_&&null==D.ngModule){const Bt=(w?L:this.parentInjector).get(Ec,null);Bt&&(_=Bt)}oi(D.componentType??{});const _e=D.create(L,m,null,_);return this.insertImpl(_e.hostView,S,false),_e}insert(a,d){return this.insertImpl(a,d,!1)}insertImpl(a,d,h){const m=a._lView;if(function ag(s){return Zr(s[zi])}(m)){const D=this.indexOf(a);if(-1!==D)this.detach(D);else{const L=m[zi],V=new Ry(L,L[Lr],L[zi]);V.detach(V.indexOf(a))}}const w=this._adjustIndex(d),S=this._lContainer;return Ww(S,m,w,!h),a.attachToViewContainerRef(),bu(W_(S),w,a),a}move(a,d){return this.insert(a,d)}indexOf(a){const d=Py(this._lContainer);return null!==d?d.indexOf(a):-1}remove(a){const d=this._adjustIndex(a,-1),h=Eb(this._lContainer,d);h&&(gg(W_(this._lContainer),d),tx(h[Gt],h))}detach(a){const d=this._adjustIndex(a,-1),h=Eb(this._lContainer,d);return h&&null!=gg(W_(this._lContainer),d)?new ml(h):null}_adjustIndex(a,d=0){return a??this.length+d}};function Py(s){return s[8]}function W_(s){return s[8]||(s[8]=[])}function $w(s,a){let d;const h=a[s.index];return Zr(h)?d=h:(d=nS(h,a,null,s),a[s.index]=d,f_(a,d)),Yw(d,a,s,h),new Ry(d,s,a)}let Yw=function qw(s,a,d,h){if(s[Cr])return;let m;m=8&d.type?wi(h):function RT(s,a){const d=s[En],h=d.createComment(""),m=Br(a,s);return Pm(d,Fg(d,m),h,function eo(s,a){return s.nextSibling(a)}(d,m),!1),h}(a,d),s[Cr]=m};class Oy{constructor(a){this.queryList=a,this.matches=null}clone(){return new Oy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ny{constructor(a=[]){this.queries=a}createEmbeddedView(a){const d=a.queries;if(null!==d){const h=null!==a.contentQueries?a.contentQueries[0]:d.length,m=[];for(let _=0;_<h;_++){const w=d.getByIndex(_);m.push(this.queries[w.indexInDeclarationView].clone())}return new Ny(m)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let d=0;d<this.queries.length;d++)null!==rE(a,d).matches&&this.queries[d].setDirty()}}class Zw{constructor(a,d,h=null){this.predicate=a,this.flags=d,this.read=h}}class Ly{constructor(a=[]){this.queries=a}elementStart(a,d){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,d)}elementEnd(a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(a)}embeddedTView(a){let d=null;for(let h=0;h<this.length;h++){const m=null!==d?d.length:0,_=this.getByIndex(h).embeddedTView(a,m);_&&(_.indexInDeclarationView=h,null!==d?d.push(_):d=[_])}return null!==d?new Ly(d):null}template(a,d){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,d)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Fy{constructor(a,d=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(a,d){this.isApplyingToNode(d)&&this.matchTNode(a,d)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,d){this.elementStart(a,d)}embeddedTView(a,d){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,d),new Fy(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==d;)h=h.parent;return d===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,d){const h=this.metadata.predicate;if(Array.isArray(h))for(let m=0;m<h.length;m++){const _=h[m];this.matchTNodeWithReadOption(a,d,OT(d,_)),this.matchTNodeWithReadOption(a,d,sd(d,a,_,!1,!1))}else h===Va?4&d.type&&this.matchTNodeWithReadOption(a,d,-1):this.matchTNodeWithReadOption(a,d,sd(d,a,h,!1,!1))}matchTNodeWithReadOption(a,d,h){if(null!==h){const m=this.metadata.read;if(null!==m)if(m===r_||m===G_||m===Va&&4&d.type)this.addMatch(d.index,-2);else{const _=sd(d,a,m,!1,!1);null!==_&&this.addMatch(d.index,_)}else this.addMatch(d.index,h)}}addMatch(a,d){null===this.matches?this.matches=[a,d]:this.matches.push(a,d)}}function OT(s,a){const d=s.localNames;if(null!==d)for(let h=0;h<d.length;h+=2)if(d[h]===a)return d[h+1];return null}function LT(s,a,d,h){return-1===d?function NT(s,a){return 11&s.type?Km(s,a):4&s.type?H_(s,a):null}(a,s):-2===d?function FT(s,a,d){return d===r_?Km(a,s):d===Va?H_(a,s):d===G_?$w(a,s):void 0}(s,a,h):sa(s,s[Gt],d,a)}function Xw(s,a,d,h){const m=a[Er].queries[h];if(null===m.matches){const _=s.data,w=d.matches,S=[];for(let D=0;D<w.length;D+=2){const L=w[D];S.push(L<0?null:LT(a,_[L],w[D+1],d.metadata.read))}m.matches=S}return m.matches}function Uy(s,a,d,h){const m=s.queries.getByIndex(d),_=m.matches;if(null!==_){const w=Xw(s,a,m,d);for(let S=0;S<_.length;S+=2){const D=_[S];if(D>0)h.push(w[S/2]);else{const L=_[S+1],V=a[-D];for(let K=Ur;K<V.length;K++){const ue=V[K];ue[ph]===ue[zi]&&Uy(ue[Gt],ue,L,h)}if(null!==V[Mr]){const K=V[Mr];for(let ue=0;ue<K.length;ue++){const _e=K[ue];Uy(_e[Gt],_e,L,h)}}}}}return h}function Kw(s){const a=rt(),d=ti(),h=hu();am(h+1);const m=rE(d,h);if(s.dirty&&function sg(s){return 4==(4&s[vn])}(a)===(2==(2&m.metadata.flags))){if(null===m.matches)s.reset([]);else{const _=m.crossesNgTemplate?Uy(d,a,h,[]):Xw(d,a,m,h);s.reset(_,kx),s.notifyOnChanges()}return!0}return!1}function Qw(s,a,d){const h=ti();h.firstCreatePass&&(iE(h,new Zw(s,a,d),-1),2==(2&a)&&(h.staticViewQueries=!0)),nE(h,rt(),a)}function Jw(s,a,d,h){const m=ti();if(m.firstCreatePass){const _=Dr();iE(m,new Zw(a,d,h),_.index),function W1(s,a){const d=s.contentQueries||(s.contentQueries=[]);a!==(d.length?d[d.length-1]:-1)&&d.push(s.queries.length-1,a)}(m,s),2==(2&d)&&(m.staticContentQueries=!0)}nE(m,rt(),d)}function eE(){return function tE(s,a){return s[Er].queries[a].queryList}(rt(),hu())}function nE(s,a,d){const h=new Oc(4==(4&d));(function u_(s,a,d,h){const m=Ok(a);m.push(d),s.firstCreatePass&&Nk(s).push(h,m.length-1)})(s,a,h,h.destroy),null===a[Er]&&(a[Er]=new Ny),a[Er].queries.push(new Oy(h))}function iE(s,a,d){null===s.queries&&(s.queries=new Ly),s.queries.track(new Fy(a,d))}function rE(s,a){return s.queries.getByIndex(a)}function oE(s,a){return H_(s,a)}function ju(s){return!!uo(s)}const uE=new ki("Application Initializer");let q_=(()=>{class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h}),this.appInits=Bn(uE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const d=[];for(const m of this.appInits){const _=m();if(ES(_))d.push(_);else if(pR(_)){const w=new Promise((S,D)=>{_.subscribe({complete:S,error:D})});d.push(w)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(d).then(()=>{h()}).catch(m=>{this.reject(m)}),0===d.length&&h(),this.initialized=!0}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=Vn({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),bl=(()=>{class s{log(d){console.log(d)}warn(d){console.warn(d)}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=Vn({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();const yl=new ki("LocaleId",{providedIn:"root",factory:()=>Bn(yl,dn.Optional|dn.SkipSelf)||function Hy(){return typeof $localize<"u"&&$localize.locale||R_}()}),gs=new ki("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Ys=(()=>{class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ae.X(!1)}add(){this.hasPendingTasks.next(!0);const d=this.taskId++;return this.pendingTasks.add(d),d}remove(d){this.pendingTasks.delete(d),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=Vn({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class Ir{constructor(a,d){this.ngModuleFactory=a,this.componentFactories=d}}let hE=(()=>{class s{compileModuleSync(d){return new Bw(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const h=this.compileModuleSync(d),_=bd(uo(d).declarations).reduce((w,S)=>{const D=oi(S);return D&&w.push(new Nu(D)),w},[]);return new Ir(h,_)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=Vn({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const bp=new ki(""),pE=new ki("");let Ni,qT=(()=>{class s{constructor(d,h,m){this._ngZone=d,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ni||(function pP(s){Ni=s}(m),m.addToWindow(h)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ao.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(d)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,h,m){let _=-1;h&&h>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==_),d(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:d,timeoutId:_,updateCb:m})}whenStable(d,h,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,h,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,h,m){return[]}static#e=this.\u0275fac=function(h){return new(h||s)(xn(Ao),xn(Q_),xn(pE))};static#t=this.\u0275prov=Vn({token:s,factory:s.\u0275fac})}return s})(),Q_=(()=>{class s{constructor(){this._applications=new Map}registerApplication(d,h){this._applications.set(d,h)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,h=!0){return Ni?.findTestabilityInTree(this,d,h)??null}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=Vn({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})(),da=null;const jy=new ki("AllowMultipleToken"),Yu=new ki("PlatformDestroyListeners"),$y=new ki("appBootstrapListener");class Nd{constructor(a,d){this.name=a,this.token=d}}function bP(s,a,d=[]){const h=`Platform: ${a}`,m=new ki(h);return(_=[])=>{let w=jo();if(!w||w.injector.get(jy,!1)){const S=[...d,..._,{provide:m,useValue:!0}];s?s(S):function Yi(s){if(da&&!da.get(jy,!1))throw new Te(400,!1);(function Yy(){!function Jp(s){Kf=s}(()=>{throw new Te(600,!1)})})(),da=s;const a=s.get(J);(function qu(s){s.get(gx,null)?.forEach(d=>d())})(s)}(function yP(s=[],a){return Sc.create({name:a,providers:[{provide:Fb,useValue:"platform"},{provide:Yu,useValue:new Set([()=>da=null])},...s]})}(S,h))}return function XT(s){const a=jo();if(!a)throw new Te(401,!1);return a}()}}function jo(){return da?.get(J)??null}let J=(()=>{class s{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,h){const m=function KT(s="zone.js",a){return"noop"===s?new mk:"zone.js"===s?new Ao(a):s}(h?.ngZone,function qy(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return m.run(()=>{const _=function Vw(s,a,d){return new Uw(s,a,d)}(d.moduleType,this.injector,function Xu(s){return[{provide:Ao,useFactory:s},{provide:Wm,multi:!0,useFactory:()=>{const a=Bn(Zu,{optional:!0});return()=>a.initialize()}},{provide:Mf,useFactory:yp},{provide:IM,useFactory:kM}]}(()=>m)),w=_.injector.get(Pu,null);return m.runOutsideAngular(()=>{const S=m.onError.subscribe({next:D=>{w.handleError(D)}});_.onDestroy(()=>{Ef(this._modules,_),S.unsubscribe()})}),function xl(s,a,d){try{const h=d();return ES(h)?h.catch(m=>{throw a.runOutsideAngular(()=>s.handleError(m)),m}):h}catch(h){throw a.runOutsideAngular(()=>s.handleError(h)),h}}(w,m,()=>{const S=_.injector.get(q_);return S.runInitializers(),S.donePromise.then(()=>(function XR(s){$t(s,"Expected localeId to be defined"),"string"==typeof s&&(dp=s.toLowerCase().replace(/_/g,"-"))}(_.injector.get(yl,R_)||R_),this._moduleDoBootstrap(_),_))})})}bootstrapModule(d,h=[]){const m=wl({},h);return function gP(s,a,d){const h=new Bw(d);return Promise.resolve(h)}(0,0,d).then(_=>this.bootstrapModuleFactory(_,m))}_moduleDoBootstrap(d){const h=d.injector.get(_s);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(m=>h.bootstrap(m));else{if(!d.instance.ngDoBootstrap)throw new Te(-403,!1);d.instance.ngDoBootstrap(h)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const d=this._injector.get(Yu,null);d&&(d.forEach(h=>h()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(h){return new(h||s)(xn(Sc))};static#t=this.\u0275prov=Vn({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function wl(s,a){return Array.isArray(a)?a.reduce(wl,s):{...s,...a}}let _s=(()=>{class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Bn(Mf),this.zoneIsStable=Bn(IM),this.componentTypes=[],this.components=[],this.isStable=Bn(Ys).hasPendingTasks.pipe((0,mt.w)(d=>d?(0,we.of)(!1):this.zoneIsStable),(0,Ve.x)(),(0,Ge.B)()),this._injector=Bn(Ec)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,h){const m=d instanceof Wb;if(!this._injector.get(q_).done)throw!m&&Ca(d),new Te(405,!1);let w;w=m?d:this._injector.get(n_).resolveComponentFactory(d),this.componentTypes.push(w.componentType);const S=function _P(s){return s.isBoundToModule}(w)?void 0:this._injector.get(Hu),L=w.create(Sc.NULL,[],h||w.selector,S),V=L.location.nativeElement,K=L.injector.get(bp,null);return K?.registerApplication(V),L.onDestroy(()=>{this.detachView(L.hostView),Ef(this.components,L),K?.unregisterApplication(V)}),this._loadComponent(L),L}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1}}attachView(d){const h=d;this._views.push(h),h.attachToAppRef(this)}detachView(d){const h=d;Ef(this._views,h),h.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const h=this._injector.get($y,[]);h.push(...this._bootstrapListeners),h.forEach(m=>m(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Ef(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new Te(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=Vn({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Ef(s,a){const d=s.indexOf(a);d>-1&&s.splice(d,1)}const Mf=new ki("",{providedIn:"root",factory:()=>Bn(Pu).handleError.bind(void 0)});function yp(){const s=Bn(Ao),a=Bn(Pu);return d=>s.runOutsideAngular(()=>a.handleError(d))}let Zu=(()=>{class s{constructor(){this.zone=Bn(Ao),this.applicationRef=Bn(_s)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=Vn({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Zy(){return!1}let tv=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=_E}return s})();function _E(s){return function El(s,a,d){if(tc(s)&&!d){const h=Vr(s.index,a);return new ml(h,h)}return 47&s.type?new ml(a[Hi],a):null}(Dr(),rt(),16==(16&s))}class yE{constructor(){}supports(a){return op(a)}create(a){return new Ld(a)}}const Cp=(s,a)=>a;class Ld{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Cp}forEachItem(a){let d;for(d=this._itHead;null!==d;d=d._next)a(d)}forEachOperation(a){let d=this._itHead,h=this._removalsHead,m=0,_=null;for(;d||h;){const w=!h||d&&d.currentIndex<oA(h,m,_)?d:h,S=oA(w,m,_),D=w.currentIndex;if(w===h)m--,h=h._nextRemoved;else if(d=d._next,null==w.previousIndex)m++;else{_||(_=[]);const L=S-m,V=D-m;if(L!=V){for(let ue=0;ue<L;ue++){const _e=ue<_.length?_[ue]:_[ue]=0,$e=_e+ue;V<=$e&&$e<L&&(_[ue]=_e+1)}_[w.previousIndex]=V-L}}S!==D&&a(w,S,D)}}forEachPreviousItem(a){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachMovedItem(a){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}forEachIdentityChange(a){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)a(d)}diff(a){if(null==a&&(a=[]),!op(a))throw new Te(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let m,_,w,d=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let S=0;S<this.length;S++)_=a[S],w=this._trackByFn(S,_),null!==d&&Object.is(d.trackById,w)?(h&&(d=this._verifyReinsertion(d,_,w,S)),Object.is(d.item,_)||this._addIdentityChange(d,_)):(d=this._mismatch(d,_,w,S),h=!0),d=d._next}else m=0,function ew(s,a){if(Array.isArray(s))for(let d=0;d<s.length;d++)a(s[d]);else{const d=s[Symbol.iterator]();let h;for(;!(h=d.next()).done;)a(h.value)}}(a,S=>{w=this._trackByFn(m,S),null!==d&&Object.is(d.trackById,w)?(h&&(d=this._verifyReinsertion(d,S,w,m)),Object.is(d.item,S)||this._addIdentityChange(d,S)):(d=this._mismatch(d,S,w,m),h=!0),d=d._next,m++}),this.length=m;return this._truncate(d),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,d,h,m){let _;return null===a?_=this._itTail:(_=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._reinsertAfter(a,_,m)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,m))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._moveAfter(a,_,m)):a=this._addAfter(new Jy(d,h),_,m),a}_verifyReinsertion(a,d,h,m){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==_?a=this._reinsertAfter(_,a._prev,m):a.currentIndex!=m&&(a.currentIndex=m,this._addToMoves(a,m)),a}_truncate(a){for(;null!==a;){const d=a._next;this._addToRemovals(this._unlink(a)),a=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,d,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const m=a._prevRemoved,_=a._nextRemoved;return null===m?this._removalsHead=_:m._nextRemoved=_,null===_?this._removalsTail=m:_._prevRemoved=m,this._insertAfter(a,d,h),this._addToMoves(a,h),a}_moveAfter(a,d,h){return this._unlink(a),this._insertAfter(a,d,h),this._addToMoves(a,h),a}_addAfter(a,d,h){return this._insertAfter(a,d,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,d,h){const m=null===d?this._itHead:d._next;return a._next=m,a._prev=d,null===m?this._itTail=a:m._prev=a,null===d?this._itHead=a:d._next=a,null===this._linkedRecords&&(this._linkedRecords=new rA),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const d=a._prev,h=a._next;return null===d?this._itHead=h:d._next=h,null===h?this._itTail=d:h._prev=d,a}_addToMoves(a,d){return a.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rA),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,d){return a.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Jy{constructor(a,d){this.item=a,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iv{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,d){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===d||d<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const d=a._prevDup,h=a._nextDup;return null===d?this._head=h:d._nextDup=h,null===h?this._tail=d:h._prevDup=d,null===this._head}}class rA{constructor(){this.map=new Map}put(a){const d=a.trackById;let h=this.map.get(d);h||(h=new iv,this.map.set(d,h)),h.add(a)}get(a,d){const m=this.map.get(a);return m?m.get(a,d):null}remove(a){const d=a.trackById;return this.map.get(d).remove(a)&&this.map.delete(d),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oA(s,a,d){const h=s.previousIndex;if(null===h)return h;let m=0;return d&&h<d.length&&(m=d[h]),h+a+m}class xE{constructor(){}supports(a){return a instanceof Map||uS(a)}create(){return new sA}}class sA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let d;for(d=this._mapHead;null!==d;d=d._next)a(d)}forEachPreviousItem(a){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)a(d)}forEachChangedItem(a){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}diff(a){if(a){if(!(a instanceof Map||uS(a)))throw new Te(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,m)=>{if(d&&d.key===m)this._maybeAddToChanges(d,h),this._appendAfter=d,d=d._next;else{const _=this._getOrCreateRecordForKey(m,h);d=this._insertBeforeOrAppend(d,_)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let h=d;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,d){if(a){const h=a._prev;return d._next=a,d._prev=h,a._prev=d,h&&(h._next=d),a===this._mapHead&&(this._mapHead=d),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(a,d){if(this._records.has(a)){const m=this._records.get(a);this._maybeAddToChanges(m,d);const _=m._prev,w=m._next;return _&&(_._next=w),w&&(w._prev=_),m._next=null,m._prev=null,m}const h=new aA(a);return this._records.set(a,h),h.currentValue=d,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,d){Object.is(d,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=d,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,d){a instanceof Map?a.forEach(d):Object.keys(a).forEach(h=>d(a[h],h))}}class aA{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cA(){return new wE([new yE])}let wE=(()=>{class s{static#e=this.\u0275prov=Vn({token:s,providedIn:"root",factory:cA});constructor(d){this.factories=d}static create(d,h){if(null!=h){const m=h.factories.slice();d=d.concat(m)}return new s(d)}static extend(d){return{provide:s,useFactory:h=>s.create(d,h||cA()),deps:[[s,new bc,new vm]]}}find(d){const h=this.factories.find(m=>m.supports(d));if(null!=h)return h;throw new Te(901,!1)}}return s})();function Ga(){return new Lc([new xE])}let Lc=(()=>{class s{static#e=this.\u0275prov=Vn({token:s,providedIn:"root",factory:Ga});constructor(d){this.factories=d}static create(d,h){if(h){const m=h.factories.slice();d=d.concat(m)}return new s(d)}static extend(d){return{provide:s,useFactory:h=>s.create(d,h||Ga()),deps:[[s,new bc,new vm]]}}find(d){const h=this.factories.find(m=>m.supports(d));if(h)return h;throw new Te(901,!1)}}return s})();const lA=bP(null,"core",[]);let CE=(()=>{class s{constructor(d){}static#e=this.\u0275fac=function(h){return new(h||s)(xn(_s))};static#t=this.\u0275mod=Ll({type:s});static#n=this.\u0275inj=Bi({})}return s})();function fA(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function Io(s){const a=oi(s);if(!a)return null;const d=new Nu(a);return{get selector(){return d.selector},get type(){return d.componentType},get inputs(){return d.inputs},get outputs(){return d.outputs},get ngContentSelectors(){return d.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},3106:(tn,Je,j)=>{j.d(Je,{Z:()=>Ft});var c=j(9058),be=j(4537),$=j(534),Ce=j(7879);class Ae{constructor(At,bt){this._delegate=At,this.firebase=bt,(0,$._addComponent)(At,new be.wA("app-compat",()=>this,"PUBLIC")),this.container=At.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(At){this._delegate.automaticDataCollectionEnabled=At}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(At=>{this._delegate.checkDestroyed(),At()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService(At,bt=$._DEFAULT_ENTRY_NAME){var un;this._delegate.checkDestroyed();const cn=this._delegate.container.getProvider(At);return!cn.isInitialized()&&"EXPLICIT"===(null===(un=cn.getComponent())||void 0===un?void 0:un.instantiationMode)&&cn.initialize(),cn.getImmediate({identifier:bt})}_removeServiceInstance(At,bt=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(At).clearInstance(bt)}_addComponent(At){(0,$._addComponent)(this._delegate,At)}_addOrOverwriteComponent(At){(0,$._addOrOverwriteComponent)(this._delegate,At)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ge=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function Ve(){const ht=function mt(ht){const At={},bt={__esModule:!0,initializeApp:function Te(gt,Pt={}){const Re=$.initializeApp(gt,Pt);if((0,c.r3)(At,Re.name))return At[Re.name];const mn=new ht(Re,bt);return At[Re.name]=mn,mn},app:cn,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function Me(gt){const Pt=gt.name,Re=Pt.replace("-compat","");if($._registerComponent(gt)&&"PUBLIC"===gt.type){const mn=(Kn=cn())=>{if("function"!=typeof Kn[Re])throw Ge.create("invalid-app-argument",{appName:Pt});return Kn[Re]()};void 0!==gt.serviceProps&&(0,c.ZB)(mn,gt.serviceProps),bt[Re]=mn,ht.prototype[Re]=function(...Kn){return this._getService.bind(this,Pt).apply(this,gt.multipleInstances?Kn:[])}}return"PUBLIC"===gt.type?bt[Re]:null},removeApp:function un(gt){delete At[gt]},useAsService:function it(gt,Pt){return"serverAuth"===Pt?null:Pt},modularAPIs:$}};function cn(gt){if(!(0,c.r3)(At,gt=gt||$._DEFAULT_ENTRY_NAME))throw Ge.create("no-app",{appName:gt});return At[gt]}return bt.default=bt,Object.defineProperty(bt,"apps",{get:function qe(){return Object.keys(At).map(gt=>At[gt])}}),cn.App=ht,bt}(Ae);return ht.INTERNAL=Object.assign(Object.assign({},ht.INTERNAL),{createFirebaseNamespace:Ve,extendNamespace:function At(bt){(0,c.ZB)(ht,bt)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),ht}(),se=new Ce.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ht=self.firebase.SDK_VERSION;ht&&ht.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ft=ne;!function ct(ht){(0,$.registerVersion)("@firebase/app-compat","0.2.13",ht)}()},534:(tn,Je,j)=>{j.r(Je),j.d(Je,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>ya,_DEFAULT_ENTRY_NAME:()=>dn,_addComponent:()=>Xi,_addOrOverwriteComponent:()=>bo,_apps:()=>Pn,_clearComponents:()=>fi,_components:()=>Ri,_getProvider:()=>Or,_registerComponent:()=>Ei,_removeServiceInstance:()=>jc,deleteApp:()=>ws,getApp:()=>Xo,getApps:()=>wa,initializeApp:()=>xa,onLog:()=>xo,registerVersion:()=>xr,setLogLevel:()=>ar});var c=j(5861),be=j(4537),$=j(7879),Ce=j(9058);const Ae=(Oe,Se)=>Se.some(dt=>Oe instanceof dt);let we,Ge;const ne=new WeakMap,se=new WeakMap,ye=new WeakMap,yt=new WeakMap,ct=new WeakMap;let At={get(Oe,Se,dt){if(Oe instanceof IDBTransaction){if("done"===Se)return se.get(Oe);if("objectStoreNames"===Se)return Oe.objectStoreNames||ye.get(Oe);if("store"===Se)return dt.objectStoreNames[1]?void 0:dt.objectStore(dt.objectStoreNames[0])}return Te(Oe[Se])},set:(Oe,Se,dt)=>(Oe[Se]=dt,!0),has:(Oe,Se)=>Oe instanceof IDBTransaction&&("done"===Se||"store"===Se)||Se in Oe};function cn(Oe){return"function"==typeof Oe?function un(Oe){return Oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ve(){return Ge||(Ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Oe)?function(...Se){return Oe.apply(qe(this),Se),Te(ne.get(this))}:function(...Se){return Te(Oe.apply(qe(this),Se))}:function(Se,...dt){const Zt=Oe.call(qe(this),Se,...dt);return ye.set(Zt,Se.sort?Se.sort():[Se]),Te(Zt)}}(Oe):(Oe instanceof IDBTransaction&&function ht(Oe){if(se.has(Oe))return;const Se=new Promise((dt,Zt)=>{const Ot=()=>{Oe.removeEventListener("complete",zn),Oe.removeEventListener("error",mi),Oe.removeEventListener("abort",mi)},zn=()=>{dt(),Ot()},mi=()=>{Zt(Oe.error||new DOMException("AbortError","AbortError")),Ot()};Oe.addEventListener("complete",zn),Oe.addEventListener("error",mi),Oe.addEventListener("abort",mi)});se.set(Oe,Se)}(Oe),Ae(Oe,function mt(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Oe,At):Oe)}function Te(Oe){if(Oe instanceof IDBRequest)return function Ft(Oe){const Se=new Promise((dt,Zt)=>{const Ot=()=>{Oe.removeEventListener("success",zn),Oe.removeEventListener("error",mi)},zn=()=>{dt(Te(Oe.result)),Ot()},mi=()=>{Zt(Oe.error),Ot()};Oe.addEventListener("success",zn),Oe.addEventListener("error",mi)});return Se.then(dt=>{dt instanceof IDBCursor&&ne.set(dt,Oe)}).catch(()=>{}),ct.set(Se,Oe),Se}(Oe);if(yt.has(Oe))return yt.get(Oe);const Se=cn(Oe);return Se!==Oe&&(yt.set(Oe,Se),ct.set(Se,Oe)),Se}const qe=Oe=>ct.get(Oe),gt=["get","getKey","getAll","getAllKeys","count"],Pt=["put","add","delete","clear"],Re=new Map;function mn(Oe,Se){if(!(Oe instanceof IDBDatabase)||Se in Oe||"string"!=typeof Se)return;if(Re.get(Se))return Re.get(Se);const dt=Se.replace(/FromIndex$/,""),Zt=Se!==dt,Ot=Pt.includes(dt);if(!(dt in(Zt?IDBIndex:IDBObjectStore).prototype)||!Ot&&!gt.includes(dt))return;const zn=function(){var mi=(0,c.Z)(function*(cr,...lr){const Nr=this.transaction(cr,Ot?"readwrite":"readonly");let Es=Nr.store;return Zt&&(Es=Es.index(lr.shift())),(yield Promise.all([Es[dt](...lr),Ot&&Nr.done]))[0]});return function(lr){return mi.apply(this,arguments)}}();return Re.set(Se,zn),zn}!function bt(Oe){At=Oe(At)}(Oe=>({...Oe,get:(Se,dt,Zt)=>mn(Se,dt)||Oe.get(Se,dt,Zt),has:(Se,dt)=>!!mn(Se,dt)||Oe.has(Se,dt)}));class Kn{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(dt=>{if(function Pr(Oe){const Se=Oe.getComponent();return"VERSION"===Se?.type}(dt)){const Zt=dt.getImmediate();return`${Zt.library}/${Zt.version}`}return null}).filter(dt=>dt).join(" ")}}const vo="@firebase/app",sr=new $.Yd("@firebase/app"),dn="[DEFAULT]",Qn={[vo]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Pn=new Map,Ri=new Map;function Xi(Oe,Se){try{Oe.container.addComponent(Se)}catch(dt){sr.debug(`Component ${Se.name} failed to register with FirebaseApp ${Oe.name}`,dt)}}function bo(Oe,Se){Oe.container.addOrOverwriteComponent(Se)}function Ei(Oe){const Se=Oe.name;if(Ri.has(Se))return sr.debug(`There were multiple attempts to register component ${Se}.`),!1;Ri.set(Se,Oe);for(const dt of Pn.values())Xi(dt,Oe);return!0}function Or(Oe,Se){const dt=Oe.container.getProvider("heartbeat").getImmediate({optional:!0});return dt&&dt.triggerHeartbeat(),Oe.container.getProvider(Se)}function jc(Oe,Se,dt=dn){Or(Oe,Se).clearInstance(dt)}function fi(){Ri.clear()}const Zn=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ps{constructor(Se,dt,Zt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},dt),this._name=dt.name,this._automaticDataCollectionEnabled=dt.automaticDataCollectionEnabled,this._container=Zt,this.container.addComponent(new be.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Zn.create("app-deleted",{appName:this._name})}}const ya="9.23.0";function xa(Oe,Se={}){let dt=Oe;"object"!=typeof Se&&(Se={name:Se});const Zt=Object.assign({name:dn,automaticDataCollectionEnabled:!1},Se),Ot=Zt.name;if("string"!=typeof Ot||!Ot)throw Zn.create("bad-app-name",{appName:String(Ot)});if(dt||(dt=(0,Ce.aH)()),!dt)throw Zn.create("no-options");const zn=Pn.get(Ot);if(zn){if((0,Ce.vZ)(dt,zn.options)&&(0,Ce.vZ)(Zt,zn.config))return zn;throw Zn.create("duplicate-app",{appName:Ot})}const mi=new be.H0(Ot);for(const lr of Ri.values())mi.addComponent(lr);const cr=new Ps(dt,Zt,mi);return Pn.set(Ot,cr),cr}function Xo(Oe=dn){const Se=Pn.get(Oe);if(!Se&&Oe===dn&&(0,Ce.aH)())return xa();if(!Se)throw Zn.create("no-app",{appName:Oe});return Se}function wa(){return Array.from(Pn.values())}function ws(Oe){return yr.apply(this,arguments)}function yr(){return(yr=(0,c.Z)(function*(Oe){const Se=Oe.name;Pn.has(Se)&&(Pn.delete(Se),yield Promise.all(Oe.container.getProviders().map(dt=>dt.delete())),Oe.isDeleted=!0)})).apply(this,arguments)}function xr(Oe,Se,dt){var Zt;let Ot=null!==(Zt=Qn[Oe])&&void 0!==Zt?Zt:Oe;dt&&(Ot+=`-${dt}`);const zn=Ot.match(/\s|\//),mi=Se.match(/\s|\//);if(zn||mi){const cr=[`Unable to register library "${Ot}" with version "${Se}":`];return zn&&cr.push(`library name "${Ot}" contains illegal characters (whitespace or "/")`),zn&&mi&&cr.push("and"),mi&&cr.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void sr.warn(cr.join(" "))}Ei(new be.wA(`${Ot}-version`,()=>({library:Ot,version:Se}),"VERSION"))}function xo(Oe,Se){if(null!==Oe&&"function"!=typeof Oe)throw Zn.create("invalid-log-argument");(0,$.Am)(Oe,Se)}function ar(Oe){(0,$.Ub)(Oe)}const Ko="firebase-heartbeat-database",Qo=1,re="firebase-heartbeat-store";let ie=null;function he(){return ie||(ie=function Me(Oe,Se,{blocked:dt,upgrade:Zt,blocking:Ot,terminated:zn}={}){const mi=indexedDB.open(Oe,Se),cr=Te(mi);return Zt&&mi.addEventListener("upgradeneeded",lr=>{Zt(Te(mi.result),lr.oldVersion,lr.newVersion,Te(mi.transaction),lr)}),dt&&mi.addEventListener("blocked",lr=>dt(lr.oldVersion,lr.newVersion,lr)),cr.then(lr=>{zn&&lr.addEventListener("close",()=>zn()),Ot&&lr.addEventListener("versionchange",Nr=>Ot(Nr.oldVersion,Nr.newVersion,Nr))}).catch(()=>{}),cr}(Ko,Qo,{upgrade:(Oe,Se)=>{0===Se&&Oe.createObjectStore(re)}}).catch(Oe=>{throw Zn.create("idb-open",{originalErrorMessage:Oe.message})})),ie}function De(){return(De=(0,c.Z)(function*(Oe){try{return yield(yield he()).transaction(re).objectStore(re).get(xn(Oe))}catch(Se){if(Se instanceof Ce.ZR)sr.warn(Se.message);else{const dt=Zn.create("idb-get",{originalErrorMessage:Se?.message});sr.warn(dt.message)}}})).apply(this,arguments)}function zt(Oe,Se){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,c.Z)(function*(Oe,Se){try{const Zt=(yield he()).transaction(re,"readwrite");yield Zt.objectStore(re).put(Se,xn(Oe)),yield Zt.done}catch(dt){if(dt instanceof Ce.ZR)sr.warn(dt.message);else{const Zt=Zn.create("idb-set",{originalErrorMessage:dt?.message});sr.warn(Zt.message)}}})).apply(this,arguments)}function xn(Oe){return`${Oe.name}!${Oe.options.appId}`}class Ji{constructor(Se){this.container=Se,this._heartbeatsCache=null;const dt=this.container.getProvider("app").getImmediate();this._storage=new Os(dt),this._heartbeatsCachePromise=this._storage.read().then(Zt=>(this._heartbeatsCache=Zt,Zt))}triggerHeartbeat(){var Se=this;return(0,c.Z)(function*(){const Zt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ot=ri();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==Ot&&!Se._heartbeatsCache.heartbeats.some(zn=>zn.date===Ot))return Se._heartbeatsCache.heartbeats.push({date:Ot,agent:Zt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(zn=>{const mi=new Date(zn.date).valueOf();return Date.now()-mi<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,c.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const dt=ri(),{heartbeatsToSend:Zt,unsentEntries:Ot}=function pr(Oe,Se=1024){const dt=[];let Zt=Oe.slice();for(const Ot of Oe){const zn=dt.find(mi=>mi.agent===Ot.agent);if(zn){if(zn.dates.push(Ot.date),Js(dt)>Se){zn.dates.pop();break}}else if(dt.push({agent:Ot.agent,dates:[Ot.date]}),Js(dt)>Se){dt.pop();break}Zt=Zt.slice(1)}return{heartbeatsToSend:dt,unsentEntries:Zt}}(Se._heartbeatsCache.heartbeats),zn=(0,Ce.L)(JSON.stringify({version:2,heartbeats:Zt}));return Se._heartbeatsCache.lastSentHeartbeatDate=dt,Ot.length>0?(Se._heartbeatsCache.heartbeats=Ot,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),zn})()}}function ri(){return(new Date).toISOString().substring(0,10)}class Os{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,Ce.hl)()&&(0,Ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,c.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function Ke(Oe){return De.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var dt=this;return(0,c.Z)(function*(){var Zt;if(yield dt._canUseIndexedDBPromise){const zn=yield dt.read();return zt(dt.app,{lastSentHeartbeatDate:null!==(Zt=Se.lastSentHeartbeatDate)&&void 0!==Zt?Zt:zn.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var dt=this;return(0,c.Z)(function*(){var Zt;if(yield dt._canUseIndexedDBPromise){const zn=yield dt.read();return zt(dt.app,{lastSentHeartbeatDate:null!==(Zt=Se.lastSentHeartbeatDate)&&void 0!==Zt?Zt:zn.lastSentHeartbeatDate,heartbeats:[...zn.heartbeats,...Se.heartbeats]})}})()}}function Js(Oe){return(0,Ce.L)(JSON.stringify({version:2,heartbeats:Oe})).length}!function Pl(Oe){Ei(new be.wA("platform-logger",Se=>new Kn(Se),"PRIVATE")),Ei(new be.wA("heartbeat",Se=>new Ji(Se),"PRIVATE")),xr(vo,"0.9.13",Oe),xr(vo,"0.9.13","esm2017"),xr("fire-js","")}("")},4537:(tn,Je,j)=>{j.d(Je,{H0:()=>mt,wA:()=>$,zt:()=>Ae});var c=j(5861),be=j(9058);class ${constructor(ne,se,ye){this.name=ne,this.instanceFactory=se,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const Ce="[DEFAULT]";class Ae{constructor(ne,se){this.name=ne,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const se=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(se)){const ye=new be.BH;if(this.instancesDeferred.set(se,ye),this.isInitialized(se)||this.shouldAutoInitialize())try{const yt=this.getOrInitializeService({instanceIdentifier:se});yt&&ye.resolve(yt)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(ne){var se;const ye=this.normalizeInstanceIdentifier(ne?.identifier),yt=null!==(se=ne?.optional)&&void 0!==se&&se;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(yt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch(ct){if(yt)return null;throw ct}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function Ge(Ve){return"EAGER"===Ve.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch{}for(const[se,ye]of this.instancesDeferred.entries()){const yt=this.normalizeInstanceIdentifier(se);try{const ct=this.getOrInitializeService({instanceIdentifier:yt});ye.resolve(ct)}catch{}}}}clearInstance(ne=Ce){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,c.Z)(function*(){const se=Array.from(ne.instances.values());yield Promise.all([...se.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...se.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=Ce){return this.instances.has(ne)}getOptions(ne=Ce){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:se={}}=ne,ye=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const yt=this.getOrInitializeService({instanceIdentifier:ye,options:se});for(const[ct,Ft]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier(ct)&&Ft.resolve(yt);return yt}onInit(ne,se){var ye;const yt=this.normalizeInstanceIdentifier(se),ct=null!==(ye=this.onInitCallbacks.get(yt))&&void 0!==ye?ye:new Set;ct.add(ne),this.onInitCallbacks.set(yt,ct);const Ft=this.instances.get(yt);return Ft&&ne(Ft,yt),()=>{ct.delete(ne)}}invokeOnInitCallbacks(ne,se){const ye=this.onInitCallbacks.get(se);if(ye)for(const yt of ye)try{yt(ne,se)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:se={}}){let ye=this.instances.get(ne);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:(Ve=ne,Ve===Ce?void 0:Ve),options:se}),this.instances.set(ne,ye),this.instancesOptions.set(ne,se),this.invokeOnInitCallbacks(ye,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,ye)}catch{}var Ve;return ye||null}normalizeInstanceIdentifier(ne=Ce){return this.component?this.component.multipleInstances?ne:Ce:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class mt{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const se=this.getProvider(ne.name);if(se.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);se.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const se=new Ae(ne,this);return this.providers.set(ne,se),se}getProviders(){return Array.from(this.providers.values())}}},7879:(tn,Je,j)=>{j.d(Je,{Am:()=>Ve,Ub:()=>mt,Yd:()=>Ge,in:()=>be});const c=[];var be=function(ne){return ne[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",ne}(be||{});const $={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},Ce=be.INFO,Ae={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},we=(ne,se,...ye)=>{if(se<ne.logLevel)return;const yt=(new Date).toISOString(),ct=Ae[se];if(!ct)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[ct](`[${yt}]  ${ne.name}:`,...ye)};class Ge{constructor(se){this.name=se,this._logLevel=Ce,this._logHandler=we,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in be))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?$[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...se),this._logHandler(this,be.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...se),this._logHandler(this,be.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,be.INFO,...se),this._logHandler(this,be.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,be.WARN,...se),this._logHandler(this,be.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...se),this._logHandler(this,be.ERROR,...se)}}function mt(ne){c.forEach(se=>{se.setLogLevel(ne)})}function Ve(ne,se){for(const ye of c){let yt=null;se&&se.level&&(yt=$[se.level]),ye.userLogHandler=null===ne?null:(ct,Ft,...ht)=>{const At=ht.map(bt=>{if(null==bt)return null;if("string"==typeof bt)return bt;if("number"==typeof bt||"boolean"==typeof bt)return bt.toString();if(bt instanceof Error)return bt.message;try{return JSON.stringify(bt)}catch{return null}}).filter(bt=>bt).join(" ");Ft>=(yt??ct.logLevel)&&ne({level:be[Ft].toLowerCase(),message:At,args:ht,type:ct.name})}}}},3182:(tn,Je,j)=>{j.d(Je,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=j(534);(0,c.registerVersion)("firebase","9.23.0","app")},7142:(tn,Je,j)=>{j.d(Je,{Z:()=>c.Z});var c=j(3106);c.Z.registerVersion("firebase","9.23.0","app-compat")},5967:(tn,Je,j)=>{j.r(Je);var c=j(5861),be=j(3106),$=j(9058),Ce=j(534),Ae=j(7582),we=j(7879),Ge=j(4537);const Ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ft=function yt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ht=function ct(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},At=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),un=new we.Yd("@firebase/auth");function Te(E,...g){un.logLevel<=we.in.ERROR&&un.error(`Auth (${Ce.SDK_VERSION}): ${E}`,...g)}function qe(E,...g){throw Pt(E,...g)}function Me(E,...g){return Pt(E,...g)}function it(E,g,v){const C=Object.assign(Object.assign({},ht()),{[g]:v});return new $.LL("auth","Firebase",C).create(g,{appName:E.name})}function gt(E,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&qe(E,"argument-error"),it(E,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pt(E,...g){if("string"!=typeof E){const v=g[0],C=[...g.slice(1)];return C[0]&&(C[0].appName=E.name),E._errorFactory.create(v,...C)}return At.create(E,...g)}function Re(E,g,...v){if(!E)throw Pt(g,...v)}function mn(E){const g="INTERNAL ASSERTION FAILED: "+E;throw Te(g),new Error(g)}function Kn(E,g){E||mn(g)}function Pr(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function vo(){return"http:"===Qs()||"https:"===Qs()}function Qs(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class _a{constructor(g,v){this.shortDelay=g,this.longDelay=v,Kn(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function sr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(vo()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pe(E,g){Kn(E.emulator,"Emulator should always be set here");const{url:v}=E.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class Fe{static initialize(g,v,C){this.fetchImpl=g,v&&(this.headersImpl=v),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ze={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xe=new _a(3e4,6e4);function Qe(E,g){return E.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:E.tenantId}):g}function st(E,g,v,C){return $t.apply(this,arguments)}function $t(){return($t=(0,c.Z)(function*(E,g,v,C,N={}){return Dt(E,N,(0,c.Z)(function*(){let z={},oe={};C&&("GET"===g?oe=C:z={body:JSON.stringify(C)});const xe=(0,$.xO)(Object.assign({key:E.config.apiKey},oe)).slice(1),ut=yield E._getAdditionalHeaders();return ut["Content-Type"]="application/json",E.languageCode&&(ut["X-Firebase-Locale"]=E.languageCode),Fe.fetch()(Vn(E,E.config.apiHost,v,xe),Object.assign({method:g,headers:ut,referrerPolicy:"no-referrer"},z))}))})).apply(this,arguments)}function Dt(E,g,v){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,c.Z)(function*(E,g,v){E._canInitEmulator=!1;const C=Object.assign(Object.assign({},Ze),g);try{const N=new Ui(E),z=yield Promise.race([v(),N.promise]);N.clearNetworkTimeout();const oe=yield z.json();if("needConfirmation"in oe)throw Bi(E,"account-exists-with-different-credential",oe);if(z.ok&&!("errorMessage"in oe))return oe;{const xe=z.ok?oe.errorMessage:oe.error.message,[ut,xt]=xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ut)throw Bi(E,"credential-already-in-use",oe);if("EMAIL_EXISTS"===ut)throw Bi(E,"email-already-in-use",oe);if("USER_DISABLED"===ut)throw Bi(E,"user-disabled",oe);const Yt=C[ut]||ut.toLowerCase().replace(/[_\s]+/g,"-");if(xt)throw it(E,Yt,xt);qe(E,Yt)}}catch(N){if(N instanceof $.ZR)throw N;qe(E,"network-request-failed",{message:String(N)})}})).apply(this,arguments)}function ln(E,g,v,C){return hi.apply(this,arguments)}function hi(){return(hi=(0,c.Z)(function*(E,g,v,C,N={}){const z=yield st(E,g,v,C,N);return"mfaPendingCredential"in z&&qe(E,"multi-factor-auth-required",{_serverResponse:z}),z})).apply(this,arguments)}function Vn(E,g,v,C){const N=`${g}${v}?${C}`;return E.config.emulator?Pe(E.config,N):`${E.config.apiScheme}://${N}`}class Ui{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,C)=>{this.timer=setTimeout(()=>C(Me(this.auth,"network-request-failed")),Xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bi(E,g,v){const C={appName:E.name};v.email&&(C.email=v.email),v.phoneNumber&&(C.phoneNumber=v.phoneNumber);const N=Me(E,g,C);return N.customData._tokenResponse=v,N}function Ai(){return(Ai=(0,c.Z)(function*(E,g){return st(E,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Po(){return(Po=(0,c.Z)(function*(E,g){return st(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Oo(){return(Oo=(0,c.Z)(function*(E,g){return st(E,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function No(E){if(E)try{const g=new Date(Number(E));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function dn(){return(dn=(0,c.Z)(function*(E,g=!1){const v=(0,$.m9)(E),C=yield v.getIdToken(g),N=Pn(C);Re(N&&N.exp&&N.auth_time&&N.iat,v.auth,"internal-error");const z="object"==typeof N.firebase?N.firebase:void 0,oe=z?.sign_in_provider;return{claims:N,token:C,authTime:No(Qn(N.auth_time)),issuedAtTime:No(Qn(N.iat)),expirationTime:No(Qn(N.exp)),signInProvider:oe||null,signInSecondFactor:z?.sign_in_second_factor||null}})).apply(this,arguments)}function Qn(E){return 1e3*Number(E)}function Pn(E){const[g,v,C]=E.split(".");if(void 0===g||void 0===v||void 0===C)return Te("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,$.tV)(v);return N?JSON.parse(N):(Te("Failed to decode base64 JWT payload"),null)}catch(N){return Te("Caught error parsing JWT payload as JSON",N?.toString()),null}}function Xi(E,g){return bo.apply(this,arguments)}function bo(){return(bo=(0,c.Z)(function*(E,g,v=!1){if(v)return g;try{return yield g}catch(C){throw C instanceof $.ZR&&function Ei({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(C)&&E.auth.currentUser===E&&(yield E.auth.signOut()),C}})).apply(this,arguments)}class Or{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const N=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const C=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield v.iteration()}),C)}iteration(){var g=this;return(0,c.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&g.schedule(!0))}g.schedule()})()}}class jc{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=No(this.lastLoginAt),this.creationTime=No(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fi(E){return yo.apply(this,arguments)}function yo(){return yo=(0,c.Z)(function*(E){var g;const v=E.auth,C=yield E.getIdToken(),N=yield Xi(E,function va(E,g){return Oo.apply(this,arguments)}(v,{idToken:C}));Re(N?.users.length,v,"internal-error");const z=N.users[0];E._notifyReloadListener(z);const oe=null!==(g=z.providerUserInfo)&&void 0!==g&&g.length?function xa(E){return E.map(g=>{var{providerId:v}=g,C=(0,Ae._T)(g,["providerId"]);return{providerId:v,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(z.providerUserInfo):[],xe=function ya(E,g){return[...E.filter(C=>!g.some(N=>N.providerId===C.providerId)),...g]}(E.providerData,oe),Yt=!!E.isAnonymous&&!(E.email&&z.passwordHash||xe?.length),Xt={uid:z.localId,displayName:z.displayName||null,photoURL:z.photoUrl||null,email:z.email||null,emailVerified:z.emailVerified||!1,phoneNumber:z.phoneNumber||null,tenantId:z.tenantId||null,providerData:xe,metadata:new jc(z.createdAt,z.lastLoginAt),isAnonymous:Yt};Object.assign(E,Xt)}),yo.apply(this,arguments)}function Ps(){return(Ps=(0,c.Z)(function*(E){const g=(0,$.m9)(E);yield fi(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function wa(){return(wa=(0,c.Z)(function*(E,g){const v=yield Dt(E,{},(0,c.Z)(function*(){const C=(0,$.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:N,apiKey:z}=E.config,oe=Vn(E,N,"/v1/token",`key=${z}`),xe=yield E._getAdditionalHeaders();return xe["Content-Type"]="application/x-www-form-urlencoded",Fe.fetch()(oe,{method:"POST",headers:xe,body:C})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class ws{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Re(g.idToken,"internal-error"),Re(typeof g.idToken<"u","internal-error"),Re(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Ri(E){const g=Pn(E);return Re(g,"internal-error"),Re(typeof g.exp<"u","internal-error"),Re(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}getToken(g,v=!1){var C=this;return(0,c.Z)(function*(){return Re(!C.accessToken||C.refreshToken,g,"user-token-expired"),v||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(g,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var C=this;return(0,c.Z)(function*(){const{accessToken:N,refreshToken:z,expiresIn:oe}=yield function Xo(E,g){return wa.apply(this,arguments)}(g,v);C.updateTokensAndExpiration(N,z,Number(oe))})()}updateTokensAndExpiration(g,v,C){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(g,v){const{refreshToken:C,accessToken:N,expirationTime:z}=v,oe=new ws;return C&&(Re("string"==typeof C,"internal-error",{appName:g}),oe.refreshToken=C),N&&(Re("string"==typeof N,"internal-error",{appName:g}),oe.accessToken=N),z&&(Re("number"==typeof z,"internal-error",{appName:g}),oe.expirationTime=z),oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new ws,this.toJSON())}_performRefresh(){return mn("not implemented")}}function yr(E,g){Re("string"==typeof E||typeof E>"u","internal-error",{appName:g})}class xr{constructor(g){var{uid:v,auth:C,stsTokenManager:N}=g,z=(0,Ae._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Or(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=C,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=z.displayName||null,this.email=z.email||null,this.emailVerified=z.emailVerified||!1,this.phoneNumber=z.phoneNumber||null,this.photoURL=z.photoURL||null,this.isAnonymous=z.isAnonymous||!1,this.tenantId=z.tenantId||null,this.providerData=z.providerData?[...z.providerData]:[],this.metadata=new jc(z.createdAt||void 0,z.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,c.Z)(function*(){const C=yield Xi(v,v.stsTokenManager.getToken(v.auth,g));return Re(C,v.auth,"internal-error"),v.accessToken!==C&&(v.accessToken=C,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),C})()}getIdTokenResult(g){return function Rl(E){return dn.apply(this,arguments)}(this,g)}reload(){return function Zn(E){return Ps.apply(this,arguments)}(this)}_assign(g){this!==g&&(Re(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const v=new xr(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(g){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var C=this;return(0,c.Z)(function*(){let N=!1;g.idToken&&g.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(g),N=!0),v&&(yield fi(C)),yield C.auth._persistUserIfCurrent(C),N&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var g=this;return(0,c.Z)(function*(){const v=yield g.getIdToken();return yield Xi(g,function br(E,g){return Ai.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var C,N,z,oe,xe,ut,xt,Yt;const Xt=null!==(C=v.displayName)&&void 0!==C?C:void 0,ji=null!==(N=v.email)&&void 0!==N?N:void 0,Hs=null!==(z=v.phoneNumber)&&void 0!==z?z:void 0,Su=null!==(oe=v.photoURL)&&void 0!==oe?oe:void 0,md=null!==(xe=v.tenantId)&&void 0!==xe?xe:void 0,Tu=null!==(ut=v._redirectEventId)&&void 0!==ut?ut:void 0,Rg=null!==(xt=v.createdAt)&&void 0!==xt?xt:void 0,Rm=null!==(Yt=v.lastLoginAt)&&void 0!==Yt?Yt:void 0,{uid:pd,emailVerified:Xh,isAnonymous:Pg,providerData:Og,stsTokenManager:Ng}=v;Re(pd&&Ng,g,"internal-error");const ex=ws.fromJSON(this.name,Ng);Re("string"==typeof pd,g,"internal-error"),yr(Xt,g.name),yr(ji,g.name),Re("boolean"==typeof Xh,g,"internal-error"),Re("boolean"==typeof Pg,g,"internal-error"),yr(Hs,g.name),yr(Su,g.name),yr(md,g.name),yr(Tu,g.name),yr(Rg,g.name),yr(Rm,g.name);const Lg=new xr({uid:pd,auth:g,email:ji,emailVerified:Xh,displayName:Xt,isAnonymous:Pg,photoURL:Su,phoneNumber:Hs,tenantId:md,stsTokenManager:ex,createdAt:Rg,lastLoginAt:Rm});return Og&&Array.isArray(Og)&&(Lg.providerData=Og.map(wb=>Object.assign({},wb))),Tu&&(Lg._redirectEventId=Tu),Lg}static _fromIdTokenResponse(g,v,C=!1){return(0,c.Z)(function*(){const N=new ws;N.updateFromServerResponse(v);const z=new xr({uid:v.localId,auth:g,stsTokenManager:N,isAnonymous:C});return yield fi(z),z})()}}const xo=new Map;function ar(E){Kn(E instanceof Function,"Expected a class definition");let g=xo.get(E);return g?(Kn(g instanceof E,"Instance stored in cache mismatched with class"),g):(g=new E,xo.set(E,g),g)}const Qo=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(v,C){var N=this;return(0,c.Z)(function*(){N.storage[v]=C})()}_get(v){var C=this;return(0,c.Z)(function*(){const N=C.storage[v];return void 0===N?null:N})()}_remove(v){var C=this;return(0,c.Z)(function*(){delete C.storage[v]})()}_addListener(v,C){}_removeListener(v,C){}}return E.type="NONE",E})();function re(E,g,v){return`firebase:${E}:${g}:${v}`}class ie{constructor(g,v,C){this.persistence=g,this.auth=v,this.userKey=C;const{config:N,name:z}=this.auth;this.fullUserKey=re(this.userKey,N.apiKey,z),this.fullPersistenceKey=re("persistence",N.apiKey,z),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?xr._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,c.Z)(function*(){if(v.persistence===g)return;const C=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,C?v.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,C="authUser"){return(0,c.Z)(function*(){if(!v.length)return new ie(ar(Qo),g,C);const N=(yield Promise.all(v.map(function(){var xt=(0,c.Z)(function*(Yt){if(yield Yt._isAvailable())return Yt});return function(Yt){return xt.apply(this,arguments)}}()))).filter(xt=>xt);let z=N[0]||ar(Qo);const oe=re(C,g.config.apiKey,g.name);let xe=null;for(const xt of v)try{const Yt=yield xt._get(oe);if(Yt){const Xt=xr._fromJSON(g,Yt);xt!==z&&(xe=Xt),z=xt;break}}catch{}const ut=N.filter(xt=>xt._shouldAllowMigration);return z._shouldAllowMigration&&ut.length?(z=ut[0],xe&&(yield z._set(oe,xe.toJSON())),yield Promise.all(v.map(function(){var xt=(0,c.Z)(function*(Yt){if(Yt!==z)try{yield Yt._remove(oe)}catch{}});return function(Yt){return xt.apply(this,arguments)}}())),new ie(z,g,C)):new ie(z,g,C)})()}}function he(E){const g=E.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Dn(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Ke(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(wr(g))return"Blackberry";if(Bn(g))return"Webos";if(De(g))return"Safari";if((g.includes("chrome/")||zt(g))&&!g.includes("edge/"))return"Chrome";if(xn(g))return"Android";{const C=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function Ke(E=(0,$.z$)()){return/firefox\//i.test(E)}function De(E=(0,$.z$)()){const g=E.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function zt(E=(0,$.z$)()){return/crios\//i.test(E)}function Dn(E=(0,$.z$)()){return/iemobile/i.test(E)}function xn(E=(0,$.z$)()){return/android/i.test(E)}function wr(E=(0,$.z$)()){return/blackberry/i.test(E)}function Bn(E=(0,$.z$)()){return/webos/i.test(E)}function Ji(E=(0,$.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function Js(E=(0,$.z$)()){return Ji(E)||xn(E)||Bn(E)||wr(E)||/windows phone/i.test(E)||Dn(E)}function Oe(E,g=[]){let v;switch(E){case"Browser":v=he((0,$.z$)());break;case"Worker":v=`${he((0,$.z$)())}-${E}`;break;default:v=E}const C=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${Ce.SDK_VERSION}/${C}`}function dt(){return(dt=(0,c.Z)(function*(E){return(yield st(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Zt(E,g){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,c.Z)(function*(E,g){return st(E,"GET","/v2/recaptchaConfig",Qe(E,g))})).apply(this,arguments)}function zn(E){return void 0!==E&&void 0!==E.getResponse}function mi(E){return void 0!==E&&void 0!==E.enterprise}class cr{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(v=>"EMAIL_PASSWORD_PROVIDER"===v.provider&&"OFF"!==v.enforcementState)}}function Nr(E){return new Promise((g,v)=>{const C=document.createElement("script");C.setAttribute("src",E),C.onload=g,C.onerror=N=>{const z=Me("internal-error");z.customData=N,v(z)},C.type="text/javascript",C.charset="UTF-8",function lr(){var E,g;return null!==(g=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==g?g:document}().appendChild(C)})}function Es(E){return`__${E}${Math.floor(1e6*Math.random())}`}class lh{constructor(g){this.type="recaptcha-enterprise",this.auth=dr(g)}verify(g="verify",v=!1){var C=this;return(0,c.Z)(function*(){function z(){return z=(0,c.Z)(function*(xe){if(!v){if(null==xe.tenantId&&null!=xe._agentRecaptchaConfig)return xe._agentRecaptchaConfig.siteKey;if(null!=xe.tenantId&&void 0!==xe._tenantRecaptchaConfigs[xe.tenantId])return xe._tenantRecaptchaConfigs[xe.tenantId].siteKey}return new Promise(function(){var ut=(0,c.Z)(function*(xt,Yt){Zt(xe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Xt=>{if(void 0!==Xt.recaptchaKey){const ji=new cr(Xt);return null==xe.tenantId?xe._agentRecaptchaConfig=ji:xe._tenantRecaptchaConfigs[xe.tenantId]=ji,xt(ji.siteKey)}Yt(new Error("recaptcha Enterprise site key undefined"))}).catch(Xt=>{Yt(Xt)})});return function(xt,Yt){return ut.apply(this,arguments)}}())}),z.apply(this,arguments)}function oe(xe,ut,xt){const Yt=window.grecaptcha;mi(Yt)?Yt.enterprise.ready(()=>{Yt.enterprise.execute(xe,{action:g}).then(Xt=>{ut(Xt)}).catch(()=>{ut("NO_RECAPTCHA")})}):xt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((xe,ut)=>{(function N(xe){return z.apply(this,arguments)})(C.auth).then(xt=>{if(!v&&mi(window.grecaptcha))oe(xt,xe,ut);else{if(typeof window>"u")return void ut(new Error("RecaptchaVerifier is only supported in browser"));Nr("https://www.google.com/recaptcha/enterprise.js?render="+xt).then(()=>{oe(xt,xe,ut)}).catch(Yt=>{ut(Yt)})}}).catch(xt=>{ut(xt)})})})()}}function Jo(E,g,v){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,c.Z)(function*(E,g,v,C=!1){const N=new lh(E);let z;try{z=yield N.verify(v)}catch{z=yield N.verify(v,!0)}const oe=Object.assign({},g);return Object.assign(oe,C?{captchaResp:z}:{captchaResponse:z}),Object.assign(oe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(oe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),oe})).apply(this,arguments)}class Yc{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const C=z=>new Promise((oe,xe)=>{try{oe(g(z))}catch(ut){xe(ut)}});C.onAbort=v,this.queue.push(C);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,c.Z)(function*(){if(v.auth.currentUser===g)return;const C=[];try{for(const N of v.queue)yield N(g),N.onAbort&&C.push(N.onAbort)}catch(N){C.reverse();for(const z of C)try{z()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:N?.message})}})()}}class dh{constructor(g,v,C,N){this.app=g,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=C,this.config=N,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new co(this),this.idTokenSubscription=new co(this),this.beforeStateQueue=new Yc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=At,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=N.sdkClientVersion}_initializeWithPersistence(g,v){var C=this;return v&&(this._popupRedirectResolver=ar(v)),this._initializationPromise=this.queue((0,c.Z)(function*(){var N,z;if(!C._deleted&&(C.persistenceManager=yield ie.create(C,g),!C._deleted)){if(null!==(N=C._popupRedirectResolver)&&void 0!==N&&N._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(v),C.lastNotifiedUid=(null===(z=C.currentUser)||void 0===z?void 0:z.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUser(g){var v=this;return(0,c.Z)(function*(){var C;const N=yield v.assertedPersistence.getCurrentUser();let z=N,oe=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const xe=null===(C=v.redirectUser)||void 0===C?void 0:C._redirectEventId,ut=z?._redirectEventId,xt=yield v.tryRedirectSignIn(g);(!xe||xe===ut)&&xt?.user&&(z=xt.user,oe=!0)}if(!z)return v.directlySetCurrentUser(null);if(!z._redirectEventId){if(oe)try{yield v.beforeStateQueue.runMiddleware(z)}catch(xe){z=N,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(xe))}return z?v.reloadAndSetCurrentUserOrClear(z):v.directlySetCurrentUser(null)}return Re(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===z._redirectEventId?v.directlySetCurrentUser(z):v.reloadAndSetCurrentUserOrClear(z)})()}tryRedirectSignIn(g){var v=this;return(0,c.Z)(function*(){let C=null;try{C=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch{yield v._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,c.Z)(function*(){try{yield fi(g)}catch(C){if("auth/network-request-failed"!==C?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function qa(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,c.Z)(function*(){const C=g?(0,$.m9)(g):null;return C&&Re(C.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(C&&C._clone(v))})()}_updateCurrentUser(g,v=!1){var C=this;return(0,c.Z)(function*(){if(!C._deleted)return g&&Re(C.tenantId===g.tenantId,C,"tenant-id-mismatch"),v||(yield C.beforeStateQueue.runMiddleware(g)),C.queue((0,c.Z)(function*(){yield C.directlySetCurrentUser(g),C.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var v=this;return this.queue((0,c.Z)(function*(){yield v.assertedPersistence.setPersistence(ar(g))}))}initializeRecaptchaConfig(){var g=this;return(0,c.Z)(function*(){const v=yield Zt(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new cr(v);null==g.tenantId?g._agentRecaptchaConfig=C:g._tenantRecaptchaConfigs[g.tenantId]=C,C.emailPasswordEnabled&&new lh(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new $.LL("auth","Firebase",g())}onAuthStateChanged(g,v,C){return this.registerStateListener(this.authStateSubscription,g,v,C)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,C){return this.registerStateListener(this.idTokenSubscription,g,v,C)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var C=this;return(0,c.Z)(function*(){const N=yield C.getOrInitRedirectPersistenceManager(v);return null===g?N.removeCurrentUser():N.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,c.Z)(function*(){if(!v.redirectPersistenceManager){const C=g&&ar(g)||v._popupRedirectResolver;Re(C,v,"argument-error"),v.redirectPersistenceManager=yield ie.create(v,[ar(C._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,c.Z)(function*(){var C,N;return v._isInitialized&&(yield v.queue((0,c.Z)(function*(){}))),(null===(C=v._currentUser)||void 0===C?void 0:C._redirectEventId)===g?v._currentUser:(null===(N=v.redirectUser)||void 0===N?void 0:N._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,c.Z)(function*(){if(g===v.currentUser)return v.queue((0,c.Z)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,C,N){if(this._deleted)return()=>{};const z="function"==typeof v?v:v.next.bind(v),oe=this._isInitialized?Promise.resolve():this._initializationPromise;return Re(oe,this,"internal-error"),oe.then(()=>z(this.currentUser)),"function"==typeof v?g.addObserver(v,C,N):g.addObserver(v)}directlySetCurrentUser(g){var v=this;return(0,c.Z)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Oe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,c.Z)(function*(){var v;const C={"X-Client-Version":g.clientVersion};g.app.options.appId&&(C["X-Firebase-gmpid"]=g.app.options.appId);const N=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();N&&(C["X-Firebase-Client"]=N);const z=yield g._getAppCheckToken();return z&&(C["X-Firebase-AppCheck"]=z),C})()}_getAppCheckToken(){var g=this;return(0,c.Z)(function*(){var v;const C=yield null===(v=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return C?.error&&function cn(E,...g){un.logLevel<=we.in.WARN&&un.warn(`Auth (${Ce.SDK_VERSION}): ${E}`,...g)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function dr(E){return(0,$.m9)(E)}class co{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,$.ne)(v=>this.observer=v)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ea(E){const g=E.indexOf(":");return g<0?"":E.substr(0,g+1)}function uh(E){if(!E)return null;const g=Number(E);return isNaN(g)?null:g}class Ka{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return mn("not implemented")}_getIdTokenResponse(g){return mn("not implemented")}_linkToIdToken(g,v){return mn("not implemented")}_getReauthenticationResolver(g){return mn("not implemented")}}function Bf(E,g){return qc.apply(this,arguments)}function qc(){return(qc=(0,c.Z)(function*(E,g){return st(E,"POST","/v1/accounts:resetPassword",Qe(E,g))})).apply(this,arguments)}function Nl(E,g){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,c.Z)(function*(E,g){return st(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function $d(){return($d=(0,c.Z)(function*(E,g){return st(E,"POST","/v1/accounts:update",Qe(E,g))})).apply(this,arguments)}function qr(E,g){return hh.apply(this,arguments)}function hh(){return(hh=(0,c.Z)(function*(E,g){return ln(E,"POST","/v1/accounts:signInWithPassword",Qe(E,g))})).apply(this,arguments)}function Yd(E,g){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,c.Z)(function*(E,g){return st(E,"POST","/v1/accounts:sendOobCode",Qe(E,g))})).apply(this,arguments)}function qd(){return(qd=(0,c.Z)(function*(E,g){return Yd(E,g)})).apply(this,arguments)}function Zc(E,g){return fh.apply(this,arguments)}function fh(){return(fh=(0,c.Z)(function*(E,g){return Yd(E,g)})).apply(this,arguments)}function oi(E,g){return ir.apply(this,arguments)}function ir(){return(ir=(0,c.Z)(function*(E,g){return Yd(E,g)})).apply(this,arguments)}function Ca(){return(Ca=(0,c.Z)(function*(E,g){return Yd(E,g)})).apply(this,arguments)}function mh(){return(mh=(0,c.Z)(function*(E,g){return ln(E,"POST","/v1/accounts:signInWithEmailLink",Qe(E,g))})).apply(this,arguments)}function Fl(){return(Fl=(0,c.Z)(function*(E,g){return ln(E,"POST","/v1/accounts:signInWithEmailLink",Qe(E,g))})).apply(this,arguments)}class Zd extends Ka{constructor(g,v,C,N=null){super("password",C),this._email=g,this._password=v,this._tenantId=N}static _fromEmailAndPassword(g,v){return new Zd(g,v,"password")}static _fromEmailAndCode(g,v,C=null){return new Zd(g,v,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,c.Z)(function*(){var C;switch(v.signInMethod){case"password":const N={returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=g._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const z=yield Jo(g,N,"signInWithPassword");return qr(g,z)}return qr(g,N).catch(function(){var z=(0,c.Z)(function*(oe){if("auth/missing-recaptcha-token"===oe.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const xe=yield Jo(g,N,"signInWithPassword");return qr(g,xe)}return Promise.reject(oe)});return function(oe){return z.apply(this,arguments)}}());case"emailLink":return function uo(E,g){return mh.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:qe(g,"internal-error")}})()}_linkToIdToken(g,v){var C=this;return(0,c.Z)(function*(){switch(C.signInMethod){case"password":return Nl(g,{idToken:v,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Zp(E,g){return Fl.apply(this,arguments)}(g,{idToken:v,email:C._email,oobCode:C._password});default:qe(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function ts(E,g){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,c.Z)(function*(E,g){return ln(E,"POST","/v1/accounts:signInWithIdp",Qe(E,g))})).apply(this,arguments)}class vn extends Ka{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new vn(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):qe("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:N}=v,z=(0,Ae._T)(v,["providerId","signInMethod"]);if(!C||!N)return null;const oe=new vn(C,N);return oe.idToken=z.idToken||void 0,oe.accessToken=z.accessToken||void 0,oe.secret=z.secret,oe.nonce=z.nonce,oe.pendingToken=z.pendingToken||null,oe}_getIdTokenResponse(g){return ts(g,this.buildRequest())}_linkToIdToken(g,v){const C=this.buildRequest();return C.idToken=v,ts(g,C)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,ts(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,$.xO)(v)}return g}}function ho(){return(ho=(0,c.Z)(function*(E,g){return st(E,"POST","/v1/accounts:sendVerificationCode",Qe(E,g))})).apply(this,arguments)}function Lr(){return(Lr=(0,c.Z)(function*(E,g){return ln(E,"POST","/v1/accounts:signInWithPhoneNumber",Qe(E,g))})).apply(this,arguments)}function li(){return(li=(0,c.Z)(function*(E,g){const v=yield ln(E,"POST","/v1/accounts:signInWithPhoneNumber",Qe(E,g));if(v.temporaryProof)throw Bi(E,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const ea={USER_NOT_FOUND:"user-not-found"};function En(){return(En=(0,c.Z)(function*(E,g){return ln(E,"POST","/v1/accounts:signInWithPhoneNumber",Qe(E,Object.assign(Object.assign({},g),{operation:"REAUTH"})),ea)})).apply(this,arguments)}class Fr extends Ka{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new Fr({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new Fr({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function Qa(E,g){return Lr.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function Ul(E,g){return li.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Xc(E,g){return En.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:C,verificationCode:N}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:C,code:N}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:C,phoneNumber:N,temporaryProof:z}=g;return C||v||N||z?new Fr({verificationId:v,verificationCode:C,phoneNumber:N,temporaryProof:z}):null}}class Hi{constructor(g){var v,C,N,z,oe,xe;const ut=(0,$.zd)((0,$.pd)(g)),xt=null!==(v=ut.apiKey)&&void 0!==v?v:null,Yt=null!==(C=ut.oobCode)&&void 0!==C?C:null,Xt=function Hf(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=ut.mode)&&void 0!==N?N:null);Re(xt&&Yt&&Xt,"argument-error"),this.apiKey=xt,this.operation=Xt,this.code=Yt,this.continueUrl=null!==(z=ut.continueUrl)&&void 0!==z?z:null,this.languageCode=null!==(oe=ut.languageCode)&&void 0!==oe?oe:null,this.tenantId=null!==(xe=ut.tenantId)&&void 0!==xe?xe:null}static parseLink(g){const v=function Ma(E){const g=(0,$.zd)((0,$.pd)(E)).link,v=g?(0,$.zd)((0,$.pd)(g)).deep_link_id:null,C=(0,$.zd)((0,$.pd)(E)).deep_link_id;return(C?(0,$.zd)((0,$.pd)(C)).link:null)||C||v||g||E}(g);try{return new Hi(v)}catch{return null}}}let Ja=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(v,C){return Zd._fromEmailAndPassword(v,C)}static credentialWithLink(v,C){const N=Hi.parseLink(C);return Re(N,"argument-error"),Zd._fromEmailAndCode(v,N.code,N.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Er{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ta extends Er{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class na extends ta{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return Re("providerId"in v&&"signInMethod"in v,"argument-error"),vn._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Re(g.idToken||g.accessToken,"argument-error"),vn._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return na.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return na.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:C,oauthTokenSecret:N,pendingToken:z,nonce:oe,providerId:xe}=g;if(!C&&!N&&!v&&!z||!xe)return null;try{return new na(xe)._credential({idToken:v,accessToken:C,nonce:oe,pendingToken:z})}catch{return null}}}let Sa=(()=>{class E extends ta{constructor(){super("facebook.com")}static credential(v){return vn._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),Lo=(()=>{class E extends ta{constructor(){super("google.com"),this.addScope("profile")}static credential(v,C){return vn._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:C})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:C,oauthAccessToken:N}=v;if(!C&&!N)return null;try{return E.credential(C,N)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),Bl=(()=>{class E extends ta{constructor(){super("github.com")}static credential(v){return vn._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Wn extends Ka{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return ts(g,this.buildRequest())}_linkToIdToken(g,v){const C=this.buildRequest();return C.idToken=v,ts(g,C)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,ts(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:N,pendingToken:z}=v;return C&&N&&z&&C===N?new Wn(C,z):null}static _create(g,v){return new Wn(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Kc extends Er{constructor(g){Re(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Kc.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Kc.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=Wn.fromJSON(g);return Re(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:C}=g;if(!v||!C)return null;try{return Wn._create(C,v)}catch{return null}}}let Xd=(()=>{class E extends ta{constructor(){super("twitter.com")}static credential(v,C){return vn._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:C})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:C,oauthTokenSecret:N}=v;if(!C||!N)return null;try{return E.credential(C,N)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function Cr(E,g){return ec.apply(this,arguments)}function ec(){return(ec=(0,c.Z)(function*(E,g){return ln(E,"POST","/v1/accounts:signUp",Qe(E,g))})).apply(this,arguments)}class Mr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,C,N=!1){return(0,c.Z)(function*(){const z=yield xr._fromIdTokenResponse(g,C,N),oe=Aa(C);return new Mr({user:z,providerId:oe,_tokenResponse:C,operationType:v})})()}static _forOperation(g,v,C){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(C,!0);const N=Aa(C);return new Mr({user:g,providerId:N,_tokenResponse:C,operationType:v})})()}}function Aa(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function Xp(){return(Xp=(0,c.Z)(function*(E){var g;const v=dr(E);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new Mr({user:v.currentUser,providerId:null,operationType:"signIn"});const C=yield Cr(v,{returnSecureToken:!0}),N=yield Mr._fromIdTokenResponse(v,"signIn",C,!0);return yield v._updateCurrentUser(N.user),N})).apply(this,arguments)}class Sr extends $.ZR{constructor(g,v,C,N){var z;super(v.code,v.message),this.operationType=C,this.user=N,Object.setPrototypeOf(this,Sr.prototype),this.customData={appName:g.name,tenantId:null!==(z=g.tenantId)&&void 0!==z?z:void 0,_serverResponse:v.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(g,v,C,N){return new Sr(g,v,C,N)}}function Zr(E,g,v,C){return("reauthenticate"===g?v._getReauthenticationResolver(E):v._getIdTokenResponse(E)).catch(z=>{throw"auth/multi-factor-auth-required"===z.code?Sr._fromErrorAndOperation(E,z,g,C):z})}function Kd(E){return new Set(E.map(({providerId:g})=>g).filter(g=>!!g))}function Fo(){return Fo=(0,c.Z)(function*(E,g){const v=(0,$.m9)(E);yield Jc(!0,v,g);const{providerUserInfo:C}=yield function Yr(E,g){return Po.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),N=Kd(C||[]);return v.providerData=v.providerData.filter(z=>N.has(z.providerId)),N.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),Fo.apply(this,arguments)}function Eo(E,g){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,c.Z)(function*(E,g,v=!1){const C=yield Xi(E,g._linkToIdToken(E.auth,yield E.getIdToken()),v);return Mr._forOperation(E,"link",C)})).apply(this,arguments)}function Jc(E,g,v){return gh.apply(this,arguments)}function gh(){return(gh=(0,c.Z)(function*(E,g,v){yield fi(g);const N=!1===E?"provider-already-linked":"no-such-provider";Re(Kd(g.providerData).has(v)===E,g.auth,N)})).apply(this,arguments)}function jv(E,g){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,c.Z)(function*(E,g,v=!1){const{auth:C}=E,N="reauthenticate";try{const z=yield Xi(E,Zr(C,N,g,E),v);Re(z.idToken,C,"internal-error");const oe=Pn(z.idToken);Re(oe,C,"internal-error");const{sub:xe}=oe;return Re(E.uid===xe,C,"user-mismatch"),Mr._forOperation(E,N,z)}catch(z){throw"auth/user-not-found"===z?.code&&qe(C,"user-mismatch"),z}})).apply(this,arguments)}function _h(E,g){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,c.Z)(function*(E,g,v=!1){const C="signIn",N=yield Zr(E,C,g),z=yield Mr._fromIdTokenResponse(E,C,N);return v||(yield E._updateCurrentUser(z.user)),z})).apply(this,arguments)}function vh(E,g){return Wf.apply(this,arguments)}function Wf(){return(Wf=(0,c.Z)(function*(E,g){return _h(dr(E),g)})).apply(this,arguments)}function $v(E,g){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,c.Z)(function*(E,g){const v=(0,$.m9)(E);return yield Jc(!1,v,g.providerId),Eo(v,g)})).apply(this,arguments)}function Yv(E,g){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,c.Z)(function*(E,g){return jv((0,$.m9)(E),g)})).apply(this,arguments)}function Qp(){return(Qp=(0,c.Z)(function*(E,g){return ln(E,"POST","/v1/accounts:signInWithCustomToken",Qe(E,g))})).apply(this,arguments)}function ia(){return ia=(0,c.Z)(function*(E,g){const v=dr(E),C=yield function W0(E,g){return Qp.apply(this,arguments)}(v,{token:g,returnSecureToken:!0}),N=yield Mr._fromIdTokenResponse(v,"signIn",C);return yield v._updateCurrentUser(N.user),N}),ia.apply(this,arguments)}class bh{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?el._fromServerResponse(g,v):"totpInfo"in v?yh._fromServerResponse(g,v):qe(g,"internal-error")}}class el extends bh{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new el(v)}}class yh extends bh{constructor(g){super("totp",g)}static _fromServerResponse(g,v){return new yh(v)}}function Vl(E,g,v){var C;Re((null===(C=v.url)||void 0===C?void 0:C.length)>0,E,"invalid-continue-uri"),Re(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Re(v.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(Re(v.android.packageName.length>0,E,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function zl(){return zl=(0,c.Z)(function*(E,g,v){var C;const N=dr(E),z={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=N._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const oe=yield Jo(N,z,"getOobCode",!0);v&&Vl(N,oe,v),yield Zc(N,oe)}else v&&Vl(N,z,v),yield Zc(N,z).catch(function(){var oe=(0,c.Z)(function*(xe){if("auth/missing-recaptcha-token"!==xe.code)return Promise.reject(xe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const ut=yield Jo(N,z,"getOobCode",!0);v&&Vl(N,ut,v),yield Zc(N,ut)}});return function(xe){return oe.apply(this,arguments)}}())}),zl.apply(this,arguments)}function Ns(){return(Ns=(0,c.Z)(function*(E,g,v){yield Bf((0,$.m9)(E),{oobCode:g,newPassword:v})})).apply(this,arguments)}function ns(){return ns=(0,c.Z)(function*(E,g){yield function es(E,g){return $d.apply(this,arguments)}((0,$.m9)(E),{oobCode:g})}),ns.apply(this,arguments)}function gr(E,g){return ic.apply(this,arguments)}function ic(){return(ic=(0,c.Z)(function*(E,g){const v=(0,$.m9)(E),C=yield Bf(v,{oobCode:g}),N=C.requestType;switch(Re(N,v,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Re(C.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Re(C.mfaInfo,v,"internal-error");default:Re(C.email,v,"internal-error")}let z=null;return C.mfaInfo&&(z=bh._fromServerResponse(dr(v),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:z},operation:N}})).apply(this,arguments)}function rc(){return(rc=(0,c.Z)(function*(E,g){const{data:v}=yield gr((0,$.m9)(E),g);return v.email})).apply(this,arguments)}function Hl(){return Hl=(0,c.Z)(function*(E,g,v){var C;const N=dr(E),z={returnSecureToken:!0,email:g,password:v,clientType:"CLIENT_TYPE_WEB"};let oe;if(null!==(C=N._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const xt=yield Jo(N,z,"signUpPassword");oe=Cr(N,xt)}else oe=Cr(N,z).catch(function(){var xt=(0,c.Z)(function*(Yt){if("auth/missing-recaptcha-token"===Yt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Xt=yield Jo(N,z,"signUpPassword");return Cr(N,Xt)}return Promise.reject(Yt)});return function(Yt){return xt.apply(this,arguments)}}());const xe=yield oe.catch(xt=>Promise.reject(xt)),ut=yield Mr._fromIdTokenResponse(N,"signIn",xe);return yield N._updateCurrentUser(ut.user),ut}),Hl.apply(this,arguments)}function Gl(){return Gl=(0,c.Z)(function*(E,g,v){var C;const N=dr(E),z={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function oe(xe,ut){Re(ut.handleCodeInApp,N,"argument-error"),ut&&Vl(N,xe,ut)}if(null!==(C=N._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const xe=yield Jo(N,z,"getOobCode",!0);oe(xe,v),yield oi(N,xe)}else oe(z,v),yield oi(N,z).catch(function(){var xe=(0,c.Z)(function*(ut){if("auth/missing-recaptcha-token"!==ut.code)return Promise.reject(ut);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const xt=yield Jo(N,z,"getOobCode",!0);oe(xt,v),yield oi(N,xt)}});return function(ut){return xe.apply(this,arguments)}}())}),Gl.apply(this,arguments)}function wh(){return(wh=(0,c.Z)(function*(E,g,v){const C=(0,$.m9)(E),N=Ja.credentialWithLink(g,v||Pr());return Re(N._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),vh(C,N)})).apply(this,arguments)}function Ch(){return(Ch=(0,c.Z)(function*(E,g){return st(E,"POST","/v1/accounts:createAuthUri",Qe(E,g))})).apply(this,arguments)}function oc(){return oc=(0,c.Z)(function*(E,g){const C={identifier:g,continueUri:vo()?Pr():"http://localhost"},{signinMethods:N}=yield function Eh(E,g){return Ch.apply(this,arguments)}((0,$.m9)(E),C);return N||[]}),oc.apply(this,arguments)}function jl(){return jl=(0,c.Z)(function*(E,g){const v=(0,$.m9)(E),N={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};g&&Vl(v.auth,N,g);const{email:z}=yield function zf(E,g){return qd.apply(this,arguments)}(v.auth,N);z!==E.email&&(yield E.reload())}),jl.apply(this,arguments)}function Jd(){return Jd=(0,c.Z)(function*(E,g,v){const C=(0,$.m9)(E),z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:g};v&&Vl(C.auth,z,v);const{email:oe}=yield function lo(E,g){return Ca.apply(this,arguments)}(C.auth,z);oe!==E.email&&(yield E.reload())}),Jd.apply(this,arguments)}function Xf(){return(Xf=(0,c.Z)(function*(E,g){return st(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Mh(){return Mh=(0,c.Z)(function*(E,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const C=(0,$.m9)(E),z={idToken:yield C.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},oe=yield Xi(C,function qv(E,g){return Xf.apply(this,arguments)}(C.auth,z));C.displayName=oe.displayName||null,C.photoURL=oe.photoUrl||null;const xe=C.providerData.find(({providerId:ut})=>"password"===ut);xe&&(xe.displayName=C.displayName,xe.photoURL=C.photoURL),yield C._updateTokensIfNecessary(oe)}),Mh.apply(this,arguments)}function Jp(E,g,v){return nl.apply(this,arguments)}function nl(){return(nl=(0,c.Z)(function*(E,g,v){const{auth:C}=E,z={idToken:yield E.getIdToken(),returnSecureToken:!0};g&&(z.email=g),v&&(z.password=v);const oe=yield Xi(E,Nl(C,z));yield E._updateTokensIfNecessary(oe,!0)})).apply(this,arguments)}class il{constructor(g,v,C={}){this.isNewUser=g,this.providerId=v,this.profile=C}}class $l extends il{constructor(g,v,C,N){super(g,v,C),this.username=N}}class Sh extends il{constructor(g,v){super(g,"facebook.com",v)}}class Qf extends $l{constructor(g,v){super(g,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class tu extends il{constructor(g,v){super(g,"google.com",v)}}class Yl extends $l{constructor(g,v,C){super(g,"twitter.com",v,C)}}function eg(E){const{user:g,_tokenResponse:v}=E;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Xv(E){var g,v;if(!E)return null;const{providerId:C}=E,N=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},z=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!C&&E?.idToken){const oe=null===(v=null===(g=Pn(E.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(oe)return new il(z,"anonymous"!==oe&&"custom"!==oe?oe:null)}if(!C)return null;switch(C){case"facebook.com":return new Sh(z,N);case"github.com":return new Qf(z,N);case"google.com":return new tu(z,N);case"twitter.com":return new Yl(z,N,E.screenName||null);case"custom":case"anonymous":return new il(z,null);default:return new il(z,C,N)}}(v)}class Ls{constructor(g,v,C){this.type=g,this.credential=v,this.auth=C}static _fromIdtoken(g,v){return new Ls("enroll",g,v)}static _fromMfaPendingCredential(g){return new Ls("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,C;if(g?.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Ls._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(C=g.multiFactorSession)&&void 0!==C&&C.idToken)return Ls._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ac{constructor(g,v,C){this.session=g,this.hints=v,this.signInResolver=C}static _fromError(g,v){const C=dr(g),N=v.customData._serverResponse,z=(N.mfaInfo||[]).map(xe=>bh._fromServerResponse(C,xe));Re(N.mfaPendingCredential,C,"internal-error");const oe=Ls._fromMfaPendingCredential(N.mfaPendingCredential);return new ac(oe,z,function(){var xe=(0,c.Z)(function*(ut){const xt=yield ut._process(C,oe);delete N.mfaInfo,delete N.mfaPendingCredential;const Yt=Object.assign(Object.assign({},N),{idToken:xt.idToken,refreshToken:xt.refreshToken});switch(v.operationType){case"signIn":const Xt=yield Mr._fromIdTokenResponse(C,v.operationType,Yt);return yield C._updateCurrentUser(Xt.user),Xt;case"reauthenticate":return Re(v.user,C,"internal-error"),Mr._forOperation(v.user,v.operationType,Yt);default:qe(C,"internal-error")}});return function(ut){return xe.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,c.Z)(function*(){return v.signInResolver(g)})()}}class wi{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(C=>bh._fromServerResponse(g.auth,C)))})}static _fromUser(g){return new wi(g)}getSession(){var g=this;return(0,c.Z)(function*(){return Ls._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,v){var C=this;return(0,c.Z)(function*(){const N=g,z=yield C.getSession(),oe=yield Xi(C.user,N._process(C.user.auth,z,v));return yield C.user._updateTokensIfNecessary(oe),C.user.reload()})()}unenroll(g){var v=this;return(0,c.Z)(function*(){const C="string"==typeof g?g:g.uid,N=yield v.user.getIdToken();try{const z=yield Xi(v.user,function tm(E,g){return st(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Qe(E,g))}(v.user.auth,{idToken:N,mfaEnrollmentId:C}));v.enrolledFactors=v.enrolledFactors.filter(({uid:oe})=>oe!==C),yield v.user._updateTokensIfNecessary(z),yield v.user.reload()}catch(z){throw z}})()}}const Ia=new WeakMap,Br="__sak";class og{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Br,"1"),this.storage.removeItem(Br),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const rl=(()=>{class E extends og{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,C)=>this.onStorageEvent(v,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ih(){const E=(0,$.z$)();return De(E)||Ji(E)}()&&function Pl(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Js(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const C of Object.keys(this.listeners)){const N=this.storage.getItem(C),z=this.localCache[C];N!==z&&v(C,z,N)}}onStorageEvent(v,C=!1){if(!v.key)return void this.forAllChangedKeys((xe,ut,xt)=>{this.notifyListeners(xe,xt)});const N=v.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xe=this.storage.getItem(N);if(v.newValue!==xe)null!==v.newValue?this.storage.setItem(N,v.newValue):this.storage.removeItem(N);else if(this.localCache[N]===v.newValue&&!C)return}const z=()=>{const xe=this.storage.getItem(N);!C&&this.localCache[N]===xe||this.notifyListeners(N,xe)},oe=this.storage.getItem(N);!function Os(){return(0,$.w1)()&&10===document.documentMode}()||oe===v.newValue||v.newValue===v.oldValue?z():setTimeout(z,10)}notifyListeners(v,C){this.localCache[v]=C;const N=this.listeners[v];if(N)for(const z of Array.from(N))z(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,C,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:C,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,C){var N=()=>super._set,z=this;return(0,c.Z)(function*(){yield N().call(z,v,C),z.localCache[v]=JSON.stringify(C)})()}_get(v){var C=()=>super._get,N=this;return(0,c.Z)(function*(){const z=yield C().call(N,v);return N.localCache[v]=JSON.stringify(z),z})()}_remove(v){var C=()=>super._remove,N=this;return(0,c.Z)(function*(){yield C().call(N,v),delete N.localCache[v]})()}}return E.type="LOCAL",E})(),Mo=(()=>{class E extends og{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,C){}_removeListener(v,C){}}return E.type="SESSION",E})();let kh=(()=>{class E{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const C=this.receivers.find(z=>z.isListeningto(v));if(C)return C;const N=new E(v);return this.receivers.push(N),N}isListeningto(v){return this.eventTarget===v}handleEvent(v){var C=this;return(0,c.Z)(function*(){const N=v,{eventId:z,eventType:oe,data:xe}=N.data,ut=C.handlersMap[oe];if(!ut?.size)return;N.ports[0].postMessage({status:"ack",eventId:z,eventType:oe});const xt=Array.from(ut).map(function(){var Xt=(0,c.Z)(function*(ji){return ji(N.origin,xe)});return function(ji){return Xt.apply(this,arguments)}}()),Yt=yield function cg(E){return Promise.all(E.map(function(){var g=(0,c.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(C){return{fulfilled:!1,reason:C}}});return function(v){return g.apply(this,arguments)}}()))}(xt);N.ports[0].postMessage({status:"done",eventId:z,eventType:oe,response:Yt})})()}_subscribe(v,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(C)}_unsubscribe(v,C){this.handlersMap[v]&&C&&this.handlersMap[v].delete(C),(!C||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function iu(E="",g=10){let v="";for(let C=0;C<g;C++)v+=Math.floor(10*Math.random());return E+v}class Qv{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,C=50){var N=this;return(0,c.Z)(function*(){const z=typeof MessageChannel<"u"?new MessageChannel:null;if(!z)throw new Error("connection_unavailable");let oe,xe;return new Promise((ut,xt)=>{const Yt=iu("",20);z.port1.start();const Xt=setTimeout(()=>{xt(new Error("unsupported_event"))},C);xe={messageChannel:z,onMessage(ji){const Hs=ji;if(Hs.data.eventId===Yt)switch(Hs.data.status){case"ack":clearTimeout(Xt),oe=setTimeout(()=>{xt(new Error("timeout"))},3e3);break;case"done":clearTimeout(oe),ut(Hs.data.response);break;default:clearTimeout(Xt),clearTimeout(oe),xt(new Error("invalid_response"))}}},N.handlers.add(xe),z.port1.addEventListener("message",xe.onMessage),N.target.postMessage({eventType:g,eventId:Yt,data:v},[z.port2])}).finally(()=>{xe&&N.removeMessageHandler(xe)})})()}}function Fi(){return window}function Cn(){return typeof Fi().WorkerGlobalScope<"u"&&"function"==typeof Fi().importScripts}function im(){return(im=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const rm="firebaseLocalStorageDb",Fs="firebaseLocalStorage",ou="fbase_key";class su{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function au(E,g){return E.transaction([Fs],g?"readwrite":"readonly").objectStore(Fs)}function Rh(){const E=indexedDB.open(rm,1);return new Promise((g,v)=>{E.addEventListener("error",()=>{v(E.error)}),E.addEventListener("upgradeneeded",()=>{const C=E.result;try{C.createObjectStore(Fs,{keyPath:ou})}catch(N){v(N)}}),E.addEventListener("success",(0,c.Z)(function*(){const C=E.result;C.objectStoreNames.contains(Fs)?g(C):(C.close(),yield function eb(){const E=indexedDB.deleteDatabase(rm);return new su(E).toPromise()}(),g(yield Rh()))}))})}function rt(E,g,v){return ti.apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(E,g,v){const C=au(E,!0).put({[ou]:g,value:v});return new su(C).toPromise()})).apply(this,arguments)}function cu(){return(cu=(0,c.Z)(function*(E,g){const v=au(E,!1).get(g),C=yield new su(v).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Dr(E,g){const v=au(E,!0).delete(g);return new su(v).toPromise()}const dc=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,c.Z)(function*(){return v.db||(v.db=yield Rh()),v.db})()}_withRetries(v){var C=this;return(0,c.Z)(function*(){let N=0;for(;;)try{const z=yield C._openDb();return yield v(z)}catch(z){if(N++>3)throw z;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,c.Z)(function*(){return Cn()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,c.Z)(function*(){v.receiver=kh._getInstance(function Ar(){return Cn()?self:null}()),v.receiver._subscribe("keyChanged",function(){var C=(0,c.Z)(function*(N,z){return{keyProcessed:(yield v._poll()).includes(z.key)}});return function(N,z){return C.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var C=(0,c.Z)(function*(N,z){return["keyChanged"]});return function(N,z){return C.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,c.Z)(function*(){var C,N;if(v.activeServiceWorker=yield function nm(){return im.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Qv(v.activeServiceWorker);const z=yield v.sender._send("ping",{},800);z&&null!==(C=z[0])&&void 0!==C&&C.fulfilled&&null!==(N=z[0])&&void 0!==N&&N.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var C=this;return(0,c.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function ru(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:v},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const v=yield Rh();return yield rt(v,Br,"1"),yield Dr(v,Br),!0}catch{}return!1})()}_withPendingWrite(v){var C=this;return(0,c.Z)(function*(){C.pendingWrites++;try{yield v()}finally{C.pendingWrites--}})()}_set(v,C){var N=this;return(0,c.Z)(function*(){return N._withPendingWrite((0,c.Z)(function*(){return yield N._withRetries(z=>rt(z,v,C)),N.localCache[v]=C,N.notifyServiceWorker(v)}))})()}_get(v){var C=this;return(0,c.Z)(function*(){const N=yield C._withRetries(z=>function Ms(E,g){return cu.apply(this,arguments)}(z,v));return C.localCache[v]=N,N})()}_remove(v){var C=this;return(0,c.Z)(function*(){return C._withPendingWrite((0,c.Z)(function*(){return yield C._withRetries(N=>Dr(N,v)),delete C.localCache[v],C.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,c.Z)(function*(){const C=yield v._withRetries(oe=>{const xe=au(oe,!1).getAll();return new su(xe).toPromise()});if(!C)return[];if(0!==v.pendingWrites)return[];const N=[],z=new Set;for(const{fbase_key:oe,value:xe}of C)z.add(oe),JSON.stringify(v.localCache[oe])!==JSON.stringify(xe)&&(v.notifyListeners(oe,xe),N.push(oe));for(const oe of Object.keys(v.localCache))v.localCache[oe]&&!z.has(oe)&&(v.notifyListeners(oe,null),N.push(oe));return N})()}notifyListeners(v,C){this.localCache[v]=C;const N=this.listeners[v];if(N)for(const z of Array.from(N))z(C)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})(),Uo=1e12;class om{constructor(g){this.auth=g,this.counter=Uo,this._widgets=new Map}render(g,v){const C=this.counter;return this._widgets.set(C,new uc(g,this.auth.name,v||{})),this.counter++,C}reset(g){var v;const C=g||Uo;null===(v=this._widgets.get(C))||void 0===v||v.delete(),this._widgets.delete(C)}getResponse(g){var v;return(null===(v=this._widgets.get(g||Uo))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,c.Z)(function*(){var C;return null===(C=v._widgets.get(g||Uo))||void 0===C||C.execute(),""})()}}class uc{constructor(g,v,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof g?document.getElementById(g):g;Re(N,"argument-error",{appName:v}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function is(E){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<E;C++)g.push(v.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Nh=Es("rcb"),Lh=new _a(3e4,6e4);class tb{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Fi().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return Re(function uu(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(v),g,"argument-error"),this.shouldResolveImmediately(v)&&zn(Fi().grecaptcha)?Promise.resolve(Fi().grecaptcha):new Promise((C,N)=>{const z=Fi().setTimeout(()=>{N(Me(g,"network-request-failed"))},Lh.get());Fi()[Nh]=()=>{Fi().clearTimeout(z),delete Fi()[Nh];const xe=Fi().grecaptcha;if(!xe||!zn(xe))return void N(Me(g,"internal-error"));const ut=xe.render;xe.render=(xt,Yt)=>{const Xt=ut(xt,Yt);return this.counter++,Xt},this.hostLanguage=v,C(xe)},Nr(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:Nh,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(z),N(Me(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=Fi().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class sm{load(g){return(0,c.Z)(function*(){return new om(g)})()}clearedOneInstance(){}}const hu="recaptcha",am={theme:"light",type:"image"};class cm{constructor(g,v=Object.assign({},am),C){this.parameters=v,this.type=hu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dr(C),this.isInvisible="invisible"===this.parameters.size,Re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof g?document.getElementById(g):g;Re(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new sm:new tb,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const v=yield g.render(),C=g.getAssertedRecaptcha();return C.getResponse(v)||new Promise(z=>{const oe=xe=>{xe&&(g.tokenChangeListeners.delete(oe),z(xe))};g.tokenChangeListeners.add(oe),g.isInvisible&&C.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Re(!this.parameters.sitekey,this.auth,"argument-error"),Re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(C=>C(v)),"function"==typeof g)g(v);else if("string"==typeof g){const C=Fi()[g];"function"==typeof C&&C(v)}}}assertNotDestroyed(){Re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const C=document.createElement("div");v.appendChild(C),v=C}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){Re(vo()&&!Cn(),g.auth,"internal-error"),yield function dg(){let E=null;return new Promise(g=>{"complete"!==document.readyState?(E=()=>g(),window.addEventListener("load",E)):g()}).catch(g=>{throw E&&window.removeEventListener("load",E),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function Se(E){return dt.apply(this,arguments)}(g.auth);Re(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return Re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ra{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=Fr._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function To(){return(To=(0,c.Z)(function*(E,g,v){const C=dr(E),N=yield Rn(C,g,(0,$.m9)(v));return new Ra(N,z=>vh(C,z))})).apply(this,arguments)}function Di(){return(Di=(0,c.Z)(function*(E,g,v){const C=(0,$.m9)(E);yield Jc(!1,C,"phone");const N=yield Rn(C.auth,g,(0,$.m9)(v));return new Ra(N,z=>$v(C,z))})).apply(this,arguments)}function Xl(){return(Xl=(0,c.Z)(function*(E,g,v){const C=(0,$.m9)(E),N=yield Rn(C.auth,g,(0,$.m9)(v));return new Ra(N,z=>Yv(C,z))})).apply(this,arguments)}function Rn(E,g,v){return Yn.apply(this,arguments)}function Yn(){return Yn=(0,c.Z)(function*(E,g,v){var C;const N=yield v.verify();try{let z;if(Re("string"==typeof N,E,"argument-error"),Re(v.type===hu,E,"argument-error"),z="string"==typeof g?{phoneNumber:g}:g,"session"in z){const oe=z.session;if("phoneNumber"in z)return Re("enroll"===oe.type,E,"internal-error"),(yield function Zl(E,g){return st(E,"POST","/v2/accounts/mfaEnrollment:start",Qe(E,g))}(E,{idToken:oe.credential,phoneEnrollmentInfo:{phoneNumber:z.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{Re("signin"===oe.type,E,"internal-error");const xe=(null===(C=z.multiFactorHint)||void 0===C?void 0:C.uid)||z.multiFactorUid;return Re(xe,E,"missing-multi-factor-info"),(yield function Ph(E,g){return st(E,"POST","/v2/accounts/mfaSignIn:start",Qe(E,g))}(E,{mfaPendingCredential:oe.credential,mfaEnrollmentId:xe,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:oe}=yield function zi(E,g){return ho.apply(this,arguments)}(E,{phoneNumber:z.phoneNumber,recaptchaToken:N});return oe}}finally{v._reset()}}),Yn.apply(this,arguments)}function Sn(){return(Sn=(0,c.Z)(function*(E,g){yield Eo((0,$.m9)(E),g)})).apply(this,arguments)}let hc=(()=>{class E{constructor(v){this.providerId=E.PROVIDER_ID,this.auth=dr(v)}verifyPhoneNumber(v,C){return Rn(this.auth,v,(0,$.m9)(C))}static credential(v,C){return Fr._fromVerification(v,C)}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:C,temporaryProof:N}=v;return C&&N?Fr._fromTokenResponse(C,N):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Us(E,g){return g?ar(g):(Re(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class os extends Ka{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return ts(g,this._buildIdpRequest())}_linkToIdToken(g,v){return ts(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return ts(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function Kl(E){return _h(E.auth,new os(E),E.bypassAuthState)}function dm(E){const{auth:g,user:v}=E;return Re(v,g,"internal-error"),jv(v,new os(E),E.bypassAuthState)}function ra(E){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,c.Z)(function*(E){const{auth:g,user:v}=E;return Re(v,g,"internal-error"),Eo(v,new os(E),E.bypassAuthState)})).apply(this,arguments)}class ss{constructor(g,v,C,N,z=!1){this.auth=g,this.resolver=C,this.user=N,this.bypassAuthState=z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,c.Z)(function*(C,N){g.pendingPromise={resolve:C,reject:N};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(z){g.reject(z)}});return function(C,N){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,c.Z)(function*(){const{urlResponse:C,sessionId:N,postBody:z,tenantId:oe,error:xe,type:ut}=g;if(xe)return void v.reject(xe);const xt={auth:v.auth,requestUri:C,sessionId:N,tenantId:oe||void 0,postBody:z||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(ut)(xt))}catch(Yt){v.reject(Yt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Kl;case"linkViaPopup":case"linkViaRedirect":return ra;case"reauthViaPopup":case"reauthViaRedirect":return dm;default:qe(this.auth,"internal-error")}}resolve(g){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oa=new _a(2e3,1e4);function Ql(){return(Ql=(0,c.Z)(function*(E,g,v){const C=dr(E);gt(E,g,Er);const N=Us(C,v);return new Fh(C,"signInViaPopup",g,N).executeNotNull()})).apply(this,arguments)}function Jl(){return(Jl=(0,c.Z)(function*(E,g,v){const C=(0,$.m9)(E);gt(C.auth,g,Er);const N=Us(C.auth,v);return new Fh(C.auth,"reauthViaPopup",g,N,C).executeNotNull()})).apply(this,arguments)}function mu(){return(mu=(0,c.Z)(function*(E,g,v){const C=(0,$.m9)(E);gt(C.auth,g,Er);const N=Us(C.auth,v);return new Fh(C.auth,"linkViaPopup",g,N,C).executeNotNull()})).apply(this,arguments)}let Fh=(()=>{class E extends ss{constructor(v,C,N,z,oe){super(v,C,z,oe),this.provider=N,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var v=this;return(0,c.Z)(function*(){const C=yield v.execute();return Re(C,v.auth,"internal-error"),C})()}onExecution(){var v=this;return(0,c.Z)(function*(){Kn(1===v.filter.length,"Popup operations only handle one event");const C=iu();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],C),v.authWindow.associatedEvent=C,v.resolver._originValidation(v.auth).catch(N=>{v.reject(N)}),v.resolver._isIframeWebStorageSupported(v.auth,N=>{N||v.reject(Me(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const v=()=>{var C,N;this.pollId=null!==(N=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==N&&N.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,oa.get())};v()}}return E.currentPopupAction=null,E})();const Oa="pendingRedirect",Na=new Map;class nb extends ss{constructor(g,v,C=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,C),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,c.Z)(function*(){let C=Na.get(v.auth._key());if(!C){try{const z=(yield function um(E,g){return Uh.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;C=()=>Promise.resolve(z)}catch(N){C=()=>Promise.reject(N)}Na.set(v.auth._key(),C)}return v.bypassAuthState||Na.set(v.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,C=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return v().call(C,g);if("unknown"!==g.type){if(g.eventId){const N=yield C.auth._redirectUserForId(g.eventId);if(N)return C.user=N,v().call(C,g);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Uh(){return(Uh=(0,c.Z)(function*(E,g){const v=ed(g),C=rb(E);if(!(yield C._isAvailable()))return!1;const N="true"===(yield C._get(v));return yield C._remove(v),N})).apply(this,arguments)}function hg(E,g){return hm.apply(this,arguments)}function hm(){return(hm=(0,c.Z)(function*(E,g){return rb(E)._set(ed(g),"true")})).apply(this,arguments)}function fm(E,g){Na.set(E._key(),g)}function rb(E){return ar(E._redirectPersistence)}function ed(E){return re(Oa,E.config.apiKey,E.name)}function al(E,g,v){return function fg(E,g,v){return mc.apply(this,arguments)}(E,g,v)}function mc(){return(mc=(0,c.Z)(function*(E,g,v){const C=dr(E);gt(E,g,Er),yield C._initializationPromise;const N=Us(C,v);return yield hg(N,C),N._openRedirect(C,g,"signInViaRedirect")})).apply(this,arguments)}function Bh(E,g,v){return function pu(E,g,v){return mm.apply(this,arguments)}(E,g,v)}function mm(){return(mm=(0,c.Z)(function*(E,g,v){const C=(0,$.m9)(E);gt(C.auth,g,Er),yield C.auth._initializationPromise;const N=Us(C.auth,v);yield hg(N,C.auth);const z=yield nd(C);return N._openRedirect(C.auth,g,"reauthViaRedirect",z)})).apply(this,arguments)}function pm(E,g,v){return function mg(E,g,v){return Vh.apply(this,arguments)}(E,g,v)}function Vh(){return(Vh=(0,c.Z)(function*(E,g,v){const C=(0,$.m9)(E);gt(C.auth,g,Er),yield C.auth._initializationPromise;const N=Us(C.auth,v);yield Jc(!1,C,g.providerId),yield hg(N,C.auth);const z=yield nd(C);return N._openRedirect(C.auth,g,"linkViaRedirect",z)})).apply(this,arguments)}function zh(){return(zh=(0,c.Z)(function*(E,g){return yield dr(E)._initializationPromise,pc(E,g,!1)})).apply(this,arguments)}function pc(E,g){return td.apply(this,arguments)}function td(){return(td=(0,c.Z)(function*(E,g,v=!1){const C=dr(E),N=Us(C,g),oe=yield new nb(C,N,v).execute();return oe&&!v&&(delete oe.user._redirectEventId,yield C._persistUserIfCurrent(oe.user),yield C._setRedirectUser(null,g)),oe})).apply(this,arguments)}function nd(E){return La.apply(this,arguments)}function La(){return(La=(0,c.Z)(function*(E){const g=iu(`${E.uid}:::`);return E._redirectEventId=g,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),g})).apply(this,arguments)}class Hh{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(g,C)&&(v=!0,this.sendToConsumer(g,C),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Ss(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return od(E);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var C;if(g.error&&!od(g)){const N=(null===(C=g.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";v.onError(Me(this.auth,N))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const C=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&C}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rd(g))}saveEventToCache(g){this.cachedEventUids.add(rd(g)),this.lastProcessedEventTime=Date.now()}}function rd(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(g=>g).join("-")}function od({type:E,error:g}){return"unknown"===E&&"auth/no-auth-event"===g?.code}function Gh(E){return gu.apply(this,arguments)}function gu(){return(gu=(0,c.Z)(function*(E,g={}){return st(E,"GET","/v1/projects",g)})).apply(this,arguments)}const sd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sa=/^https?/;function Vs(){return(Vs=(0,c.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:g}=yield Gh(E);for(const v of g)try{if(Wh(v))return}catch{}qe(E,"unauthorized-domain")})).apply(this,arguments)}function Wh(E){const g=Pr(),{protocol:v,hostname:C}=new URL(g);if(E.startsWith("chrome-extension://")){const oe=new URL(E);return""===oe.hostname&&""===C?"chrome-extension:"===v&&E.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&oe.hostname===C}if(!sa.test(v))return!1;if(sd.test(E))return C===E;const N=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(C)}const gc=new _a(3e4,6e4);function gm(){const E=Fi().___jsl;if(E?.H)for(const g of Object.keys(E.H))if(E.H[g].r=E.H[g].r||[],E.H[g].L=E.H[g].L||[],E.H[g].r=[...E.H[g].L],E.CP)for(let v=0;v<E.CP.length;v++)E.CP[v]=null}let ad=null;const pg=new _a(5e3,15e3),ob="__/auth/iframe",_u="emulator/auth/iframe",vu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cl(E){const g=E.config;Re(g.authDomain,E,"auth-domain-config-required");const v=g.emulator?Pe(g,_u):`https://${E.config.authDomain}/${ob}`,C={apiKey:g.apiKey,appName:E.name,v:Ce.SDK_VERSION},N=cd.get(E.config.apiHost);N&&(C.eid=N);const z=E._getFrameworks();return z.length&&(C.fw=z.join(",")),`${v}?${(0,$.xO)(C).slice(1)}`}function P(){return P=(0,c.Z)(function*(E){const g=yield function Fa(E){return ad=ad||function Pi(E){return new Promise((g,v)=>{var C,N,z;function oe(){gm(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{gm(),v(Me(E,"network-request-failed"))},timeout:gc.get()})}if(null!==(N=null===(C=Fi().gapi)||void 0===C?void 0:C.iframes)&&void 0!==N&&N.Iframe)g(gapi.iframes.getContext());else{if(null===(z=Fi().gapi)||void 0===z||!z.load){const xe=Es("iframefcb");return Fi()[xe]=()=>{gapi.load?oe():v(Me(E,"network-request-failed"))},Nr(`https://apis.google.com/js/api.js?onload=${xe}`).catch(ut=>v(ut))}oe()}}).catch(g=>{throw ad=null,g})}(E),ad}(E),v=Fi().gapi;return Re(v,E,"internal-error"),g.open({where:document.body,url:cl(E),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vu,dontclear:!0},C=>new Promise(function(){var N=(0,c.Z)(function*(z,oe){yield C.restyle({setHideOnLeave:!1});const xe=Me(E,"network-request-failed"),ut=Fi().setTimeout(()=>{oe(xe)},pg.get());function xt(){Fi().clearTimeout(ut),z(C)}C.ping(xt).then(xt,()=>{oe(xe)})});return function(z,oe){return N.apply(this,arguments)}}()))}),P.apply(this,arguments)}const F={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class kt{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const pn="__/auth/handler",On="emulator/auth/handler",ur=encodeURIComponent("fac");function _r(E,g,v,C,N,z){return zs.apply(this,arguments)}function zs(){return(zs=(0,c.Z)(function*(E,g,v,C,N,z){Re(E.config.authDomain,E,"auth-domain-config-required"),Re(E.config.apiKey,E,"invalid-api-key");const oe={apiKey:E.config.apiKey,appName:E.name,authType:v,redirectUrl:C,v:Ce.SDK_VERSION,eventId:N};if(g instanceof Er){g.setDefaultLanguage(E.languageCode),oe.providerId=g.providerId||"",(0,$.xb)(g.getCustomParameters())||(oe.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Yt,Xt]of Object.entries(z||{}))oe[Yt]=Xt}if(g instanceof ta){const Yt=g.getScopes().filter(Xt=>""!==Xt);Yt.length>0&&(oe.scopes=Yt.join(","))}E.tenantId&&(oe.tid=E.tenantId);const xe=oe;for(const Yt of Object.keys(xe))void 0===xe[Yt]&&delete xe[Yt];const ut=yield E._getAppCheckToken(),xt=ut?`#${ur}=${encodeURIComponent(ut)}`:"";return`${function er({config:E}){return E.emulator?Pe(E,On):`https://${E.authDomain}/${pn}`}(E)}?${(0,$.xO)(xe).slice(1)}${xt}`})).apply(this,arguments)}const _c="webStorageSupport",Qr=class Kr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mo,this._completeRedirectFn=pc,this._overrideRedirectResult=fm}_openPopup(g,v,C,N){var z=this;return(0,c.Z)(function*(){var oe;Kn(null===(oe=z.eventManagers[g._key()])||void 0===oe?void 0:oe.manager,"_initialize() not called before _openPopup()");const xe=yield _r(g,v,C,Pr(),N);return function St(E,g,v,C=500,N=600){const z=Math.max((window.screen.availHeight-N)/2,0).toString(),oe=Math.max((window.screen.availWidth-C)/2,0).toString();let xe="";const ut=Object.assign(Object.assign({},F),{width:C.toString(),height:N.toString(),top:z,left:oe}),xt=(0,$.z$)().toLowerCase();v&&(xe=zt(xt)?"_blank":v),Ke(xt)&&(g=g||"http://localhost",ut.scrollbars="yes");const Yt=Object.entries(ut).reduce((ji,[Hs,Su])=>`${ji}${Hs}=${Su},`,"");if(function pr(E=(0,$.z$)()){var g;return Ji(E)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(xt)&&"_self"!==xe)return function Qt(E,g){const v=document.createElement("a");v.href=E,v.target=g;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(C)}(g||"",xe),new kt(null);const Xt=window.open(g||"",xe,Yt);Re(Xt,E,"popup-blocked");try{Xt.focus()}catch{}return new kt(Xt)}(g,xe,iu())})()}_openRedirect(g,v,C,N){var z=this;return(0,c.Z)(function*(){return yield z._originValidation(g),function Jv(E){Fi().location.href=E}(yield _r(g,v,C,Pr(),N)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:N,promise:z}=this.eventManagers[v];return N?Promise.resolve(N):(Kn(z,"If manager is not set, promise should be"),z)}const C=this.initAndGetManager(g);return this.eventManagers[v]={promise:C},C.catch(()=>{delete this.eventManagers[v]}),C}initAndGetManager(g){var v=this;return(0,c.Z)(function*(){const C=yield function T(E){return P.apply(this,arguments)}(g),N=new Hh(g);return C.register("authEvent",z=>(Re(z?.authEvent,g,"invalid-auth-event"),{status:N.onEvent(z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:N},v.iframes[g._key()]=C,N})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(_c,{type:_c},N=>{var z;const oe=null===(z=N?.[0])||void 0===z?void 0:z[_c];void 0!==oe&&v(!!oe),qe(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Bo(E){return Vs.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return Js()||De()||Ji()}};class tr{constructor(g){this.factorId=g}_process(g,v,C){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,C);case"signin":return this._finalizeSignIn(g,v.credential);default:return mn("unexpected MultiFactorSessionType")}}}class as extends tr{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new as(g)}_finalizeEnroll(g,v,C){return function rg(E,g){return st(E,"POST","/v2/accounts/mfaEnrollment:finalize",Qe(E,g))}(g,{idToken:v,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function lg(E,g){return st(E,"POST","/v2/accounts/mfaSignIn:finalize",Qe(E,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let bu=(()=>{class E{constructor(){}static assertion(v){return as._fromCredential(v)}}return E.FACTOR_ID="phone",E})();var jh="@firebase/auth";class Vo{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,c.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(C=>{g(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);v&&(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xu(){return window}(0,$.Pz)("authIdTokenMaxAge"),function yu(E){(0,Ce._registerComponent)(new Ge.wA("auth",(g,{options:v})=>{const C=g.getProvider("app").getImmediate(),N=g.getProvider("heartbeat"),z=g.getProvider("app-check-internal"),{apiKey:oe,authDomain:xe}=C.options;Re(oe&&!oe.includes(":"),"invalid-api-key",{appName:C.name});const ut={apiKey:oe,authDomain:xe,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Oe(E)},xt=new dh(C,N,z,ut);return function qp(E,g){const v=g?.persistence||[],C=(Array.isArray(v)?v:[v]).map(ar);g?.errorMap&&E._updateErrorMap(g.errorMap),E._initializeWithPersistence(C,g?.popupRedirectResolver)}(xt,v),xt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,C)=>{g.getProvider("auth-internal").initialize()})),(0,Ce._registerComponent)(new Ge.wA("auth-internal",g=>{const v=dr(g.getProvider("auth").getImmediate());return new Vo(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ce.registerVersion)(jh,"0.23.2",function sb(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,Ce.registerVersion)(jh,"0.23.2","esm2017")}("Browser");function _m(){return _m=(0,c.Z)(function*(E,g,v){var C;const{BuildInfo:N}=xu();Kn(g.sessionId,"AuthEvent did not contain a session ID");const z=yield function yg(E){return wu.apply(this,arguments)}(g.sessionId),oe={};return Ji()?oe.ibi=N.packageName:xn()?oe.apn=N.packageName:qe(E,"operation-not-supported-in-this-environment"),N.displayName&&(oe.appDisplayName=N.displayName),oe.sessionId=z,_r(E,v,g.type,void 0,null!==(C=g.eventId)&&void 0!==C?C:void 0,oe)}),_m.apply(this,arguments)}function bg(){return(bg=(0,c.Z)(function*(E){const{BuildInfo:g}=xu(),v={};Ji()?v.iosBundleId=g.packageName:xn()?v.androidPackageName=g.packageName:qe(E,"operation-not-supported-in-this-environment"),yield Gh(E,v)})).apply(this,arguments)}function bc(){return(bc=(0,c.Z)(function*(E,g,v){const{cordova:C}=xu();let N=()=>{};try{yield new Promise((z,oe)=>{let xe=null;function ut(){var Xt;z();const ji=null===(Xt=C.plugins.browsertab)||void 0===Xt?void 0:Xt.close;"function"==typeof ji&&ji(),"function"==typeof v?.close&&v.close()}function xt(){xe||(xe=window.setTimeout(()=>{oe(Me(E,"redirect-cancelled-by-user"))},2e3))}function Yt(){"visible"===document?.visibilityState&&xt()}g.addPassiveListener(ut),document.addEventListener("resume",xt,!1),xn()&&document.addEventListener("visibilitychange",Yt,!1),N=()=>{g.removePassiveListener(ut),document.removeEventListener("resume",xt,!1),document.removeEventListener("visibilitychange",Yt,!1),xe&&window.clearTimeout(xe)}})}finally{N()}})).apply(this,arguments)}function wu(){return(wu=(0,c.Z)(function*(E){const g=function ym(E){if(Kn(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(E);const g=new ArrayBuffer(E.length),v=new Uint8Array(g);for(let C=0;C<E.length;C++)v[C]=E.charCodeAt(C);return v}(E),v=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(v)).map(N=>N.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ab extends Hh{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(g)),super.onEvent(g)}initialized(){var g=this;return(0,c.Z)(function*(){yield g.initPromise})()}}function Cu(E){return xg.apply(this,arguments)}function xg(){return(xg=(0,c.Z)(function*(E){const g=yield yc()._get(wm(E));return g&&(yield yc()._remove(wm(E))),g})).apply(this,arguments)}function cb(){const E=[];for(let v=0;v<20;v++){const C=Math.floor(62*Math.random());E.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(C))}return E.join("")}function yc(){return ar(rl)}function wm(E){return re("authEvent",E.config.apiKey,E.name)}function Cm(E){if(!E?.includes("?"))return{};const[g,...v]=E.split("?");return(0,$.zd)(v.join("?"))}const X0=class lb{constructor(){this._redirectPersistence=Mo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=pc,this._overrideRedirectResult=fm}_initialize(g){var v=this;return(0,c.Z)(function*(){const C=g._key();let N=v.eventManagers.get(C);return N||(N=new ab(g),v.eventManagers.set(C,N),v.attachCallbackListeners(g,N)),N})()}_openPopup(g){qe(g,"operation-not-supported-in-this-environment")}_openRedirect(g,v,C,N){var z=this;return(0,c.Z)(function*(){!function bm(E){var g,v,C,N,z,oe,xe,ut,xt,Yt;const Xt=xu();Re("function"==typeof(null===(g=Xt?.universalLinks)||void 0===g?void 0:g.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Re(typeof(null===(v=Xt?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Re("function"==typeof(null===(z=null===(N=null===(C=Xt?.cordova)||void 0===C?void 0:C.plugins)||void 0===N?void 0:N.browsertab)||void 0===z?void 0:z.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Re("function"==typeof(null===(ut=null===(xe=null===(oe=Xt?.cordova)||void 0===oe?void 0:oe.plugins)||void 0===xe?void 0:xe.browsertab)||void 0===ut?void 0:ut.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Re("function"==typeof(null===(Yt=null===(xt=Xt?.cordova)||void 0===xt?void 0:xt.InAppBrowser)||void 0===Yt?void 0:Yt.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const oe=yield z._initialize(g);yield oe.initialized(),oe.resetRedirect(),function ib(){Na.clear()}(),yield z._originValidation(g);const xe=function Z0(E,g,v=null){return{type:g,eventId:v,urlResponse:null,sessionId:cb(),postBody:null,tenantId:E.tenantId,error:Me(E,"no-auth-event")}}(g,C,N);yield function Eu(E,g){return yc()._set(wm(E),g)}(g,xe);const ut=yield function WC(E,g,v){return _m.apply(this,arguments)}(g,xe,v),xt=yield function vm(E){const{cordova:g}=xu();return new Promise(v=>{g.plugins.browsertab.isAvailable(C=>{let N=null;C?g.plugins.browsertab.openUrl(E):N=g.InAppBrowser.open(E,function ri(E=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),v(N)})})}(ut);return function q0(E,g,v){return bc.apply(this,arguments)}(g,oe,xt)})()}_isIframeWebStorageSupported(g,v){throw new Error("Method not implemented.")}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function dd(E){return bg.apply(this,arguments)}(g)),this.originValidationPromises[v]}attachCallbackListeners(g,v){const{universalLinks:C,handleOpenURL:N,BuildInfo:z}=xu(),oe=setTimeout((0,c.Z)(function*(){yield Cu(g),v.onEvent(Eg())}),500),xe=function(){var Yt=(0,c.Z)(function*(Xt){clearTimeout(oe);const ji=yield Cu(g);let Hs=null;ji&&Xt?.url&&(Hs=function jC(E,g){var v,C;const N=function Em(E){const g=Cm(E),v=g.link?decodeURIComponent(g.link):void 0,C=Cm(v).link,N=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Cm(N).link||N||C||v||E}(g);if(N.includes("/__/auth/callback")){const z=Cm(N),oe=z.firebaseError?function wg(E){try{return JSON.parse(E)}catch{return null}}(decodeURIComponent(z.firebaseError)):null,xe=null===(C=null===(v=oe?.code)||void 0===v?void 0:v.split("auth/"))||void 0===C?void 0:C[1],ut=xe?Me(xe):null;return ut?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:ut,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:N,postBody:null}}return null}(ji,Xt.url)),v.onEvent(Hs||Eg())});return function(ji){return Yt.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,xe);const ut=N,xt=`${z.packageName.toLowerCase()}://`;xu().handleOpenURL=function(){var Yt=(0,c.Z)(function*(Xt){if(Xt.toLowerCase().startsWith(xt)&&xe({url:Xt}),"function"==typeof ut)try{ut(Xt)}catch(ji){console.error(ji)}});return function(Xt){return Yt.apply(this,arguments)}}()}};function Eg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Me("no-auth-event")}}function ll(){var E;return(null===(E=self?.location)||void 0===E?void 0:E.protocol)||null}function hb(E=(0,$.z$)()){return!("file:"!==ll()&&"ionic:"!==ll()&&"capacitor:"!==ll()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function K0(){try{const E=self.localStorage,g=iu();if(E)return E.setItem(g,"1"),E.removeItem(g),!function UI(E=(0,$.z$)()){return function fb(){return(0,$.w1)()&&11===document?.documentMode}()||function mb(E=(0,$.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,$.hl)()}catch{return pb()&&(0,$.hl)()}return!1}function pb(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Tg(){return(function Sg(){return"http:"===ll()||"https:"===ll()}()||(0,$.ru)()||hb())&&!function $C(){return(0,$.b$)()||(0,$.UG)()}()&&K0()&&!pb()}function Sm(){return hb()&&typeof document<"u"}function Yh(){return(Yh=(0,c.Z)(function*(){return!!Sm()&&new Promise(E=>{const g=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),E(!0)})})})).apply(this,arguments)}const ls={LOCAL:"local",NONE:"none",SESSION:"session"},Mu=Re,ud="persistence";function Tm(E){return hd.apply(this,arguments)}function hd(){return(hd=(0,c.Z)(function*(E){yield E._initializationPromise;const g=qh(),v=re(ud,E.config.apiKey,E.name);g&&g.setItem(v,E._getPersistence())})).apply(this,arguments)}function qh(){var E;try{return(null===(E=function gb(){return typeof window<"u"?window:null}())||void 0===E?void 0:E.sessionStorage)||null}catch{return null}}const vb=Re;class dl{constructor(){this.browserResolver=ar(Qr),this.cordovaResolver=ar(X0),this.underlyingResolver=null,this._redirectPersistence=Mo,this._completeRedirectFn=pc,this._overrideRedirectResult=fm}_initialize(g){var v=this;return(0,c.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,v,C,N){var z=this;return(0,c.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._openPopup(g,v,C,N)})()}_openRedirect(g,v,C,N){var z=this;return(0,c.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._openRedirect(g,v,C,N)})()}_isIframeWebStorageSupported(g,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,v)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Sm()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return vb(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,c.Z)(function*(){if(g.underlyingResolver)return;const v=yield function $h(){return Yh.apply(this,arguments)}();g.underlyingResolver=v?g.cordovaResolver:g.browserResolver})()}}function Dm(E){return E.unwrap()}function Ag(E){return yb(E)}function yb(E){const{_tokenResponse:g}=E instanceof $.ZR?E.customData:E;if(!g)return null;if(!(E instanceof $.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return hc.credentialFromResult(E);const v=g.providerId;if(!v||v===Ve.PASSWORD)return null;let C;switch(v){case Ve.GOOGLE:C=Lo;break;case Ve.FACEBOOK:C=Sa;break;case Ve.GITHUB:C=Bl;break;case Ve.TWITTER:C=Xd;break;default:const{oauthIdToken:N,oauthAccessToken:z,oauthTokenSecret:oe,pendingToken:xe,nonce:ut}=g;return z||oe||N||xe?xe?v.startsWith("saml.")?Wn._create(v,xe):vn._fromParams({providerId:v,signInMethod:v,pendingToken:xe,idToken:N,accessToken:z}):new na(v).credential({idToken:N,accessToken:z,rawNonce:ut}):null}return E instanceof $.ZR?C.credentialFromError(E):C.credentialFromResult(E)}function zo(E,g){return g.catch(v=>{throw v instanceof $.ZR&&function Q0(E,g){var v;const C=null===(v=g.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===g?.code)g.resolver=new Dg(E,function Jf(E,g){var v;const C=(0,$.m9)(E),N=g;return Re(g.customData.operationType,C,"argument-error"),Re(null===(v=N.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,C,"argument-error"),ac._fromError(C,N)}(E,g));else if(C){const N=yb(g),z=g;N&&(z.credential=N,z.tenantId=C.tenantId||void 0,z.email=C.email||void 0,z.phoneNumber=C.phoneNumber||void 0)}}(E,v),v}).then(v=>{const N=v.user;return{operationType:v.operationType,credential:Ag(v),additionalUserInfo:eg(v),user:Wi.getOrCreate(N)}})}function Im(E,g){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,c.Z)(function*(E,g){const v=yield g;return{verificationId:v.verificationId,confirm:C=>zo(E,v.confirm(C))}})).apply(this,arguments)}class Dg{constructor(g,v){this.resolver=v,this.auth=function bb(E){return E.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return zo(Dm(this.auth),this.resolver.resolveSignIn(g))}}class Wi{constructor(g){this._delegate=g,this.multiFactor=function cc(E){const g=(0,$.m9)(E);return Ia.has(g)||Ia.set(g,wi._fromUser(g)),Ia.get(g)}(g)}static getOrCreate(g){return Wi.USER_MAP.has(g)||Wi.USER_MAP.set(g,new Wi(g)),Wi.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var v=this;return(0,c.Z)(function*(){return zo(v.auth,$v(v._delegate,g))})()}linkWithPhoneNumber(g,v){var C=this;return(0,c.Z)(function*(){return Im(C.auth,function Xr(E,g,v){return Di.apply(this,arguments)}(C._delegate,g,v))})()}linkWithPopup(g){var v=this;return(0,c.Z)(function*(){return zo(v.auth,function ug(E,g,v){return mu.apply(this,arguments)}(v._delegate,g,dl))})()}linkWithRedirect(g){var v=this;return(0,c.Z)(function*(){return yield Tm(dr(v.auth)),pm(v._delegate,g,dl)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var v=this;return(0,c.Z)(function*(){return zo(v.auth,Yv(v._delegate,g))})()}reauthenticateWithPhoneNumber(g,v){return Im(this.auth,function sl(E,g,v){return Xl.apply(this,arguments)}(this._delegate,g,v))}reauthenticateWithPopup(g){return zo(this.auth,function fu(E,g,v){return Jl.apply(this,arguments)}(this._delegate,g,dl))}reauthenticateWithRedirect(g){var v=this;return(0,c.Z)(function*(){return yield Tm(dr(v.auth)),Bh(v._delegate,g,dl)})()}sendEmailVerification(g){return function Da(E,g){return jl.apply(this,arguments)}(this._delegate,g)}unlink(g){var v=this;return(0,c.Z)(function*(){return yield function tc(E,g){return Fo.apply(this,arguments)}(v._delegate,g),v})()}updateEmail(g){return function Kf(E,g){return Jp((0,$.m9)(E),g,null)}(this._delegate,g)}updatePassword(g){return function eu(E,g){return Jp((0,$.m9)(E),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function rs(E,g){return Sn.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function Zv(E,g){return Mh.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,v){return function Zf(E,g,v){return Jd.apply(this,arguments)}(this._delegate,g,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wi.USER_MAP=new WeakMap;const xc=Re;let Ig=(()=>{class E{constructor(v,C){if(this.app=v,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:N}=v.options;xc(N,"invalid-api-key",{appName:v.name}),xc(N,"invalid-api-key",{appName:v.name});const z=typeof window<"u"?dl:void 0;this._delegate=C.initialize({options:{persistence:Jr(N,v.name),popupRedirectResolver:z}}),this._delegate._updateErrorMap(Ft),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,C){!function wo(E,g,v){const C=dr(E);Re(C._canInitEmulator,C,"emulator-config-failed"),Re(/^https?:\/\//.test(g),C,"invalid-emulator-scheme");const N=!!v?.disableWarnings,z=Ea(g),{host:oe,port:xe}=function Ol(E){const g=Ea(E),v=/(\/\/)?([^?#/]+)/.exec(E.substr(g.length));if(!v)return{host:"",port:null};const C=v[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(C);if(N){const z=N[1];return{host:z,port:uh(C.substr(z.length+1))}}{const[z,oe]=C.split(":");return{host:z,port:uh(oe)}}}(g);C.config.emulator={url:`${z}//${oe}${null===xe?"":`:${xe}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:oe,port:xe,protocol:z.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function Gv(){function E(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(this._delegate,v,C)}applyActionCode(v){return function $f(E,g){return ns.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return gr(this._delegate,v)}confirmPasswordReset(v,C){return function nc(E,g,v){return Ns.apply(this,arguments)}(this._delegate,v,C)}createUserWithEmailAndPassword(v,C){var N=this;return(0,c.Z)(function*(){return zo(N._delegate,function xh(E,g,v){return Hl.apply(this,arguments)}(N._delegate,v,C))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function Wl(E,g){return oc.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function qf(E,g){const v=Hi.parseLink(g);return"EMAIL_SIGNIN"===v?.operation}(0,v)}getRedirectResult(){var v=this;return(0,c.Z)(function*(){xc(Tg(),v._delegate,"operation-not-supported-in-this-environment");const C=yield function Bs(E,g){return zh.apply(this,arguments)}(v._delegate,dl);return C?zo(v._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function db(E,g){dr(E)._logFramework(g)}(this._delegate,v)}onAuthStateChanged(v,C,N){const{next:z,error:oe,complete:xe}=km(v,C,N);return this._delegate.onAuthStateChanged(z,oe,xe)}onIdTokenChanged(v,C,N){const{next:z,error:oe,complete:xe}=km(v,C,N);return this._delegate.onIdTokenChanged(z,oe,xe)}sendSignInLinkToEmail(v,C){return function tl(E,g,v){return Gl.apply(this,arguments)}(this._delegate,v,C)}sendPasswordResetEmail(v,C){return function j0(E,g,v){return zl.apply(this,arguments)}(this._delegate,v,C||void 0)}setPersistence(v){var C=this;return(0,c.Z)(function*(){let N;switch(function _b(E,g){Mu(Object.values(ls).includes(g),E,"invalid-persistence-type"),(0,$.b$)()?Mu(g!==ls.SESSION,E,"unsupported-persistence-type"):(0,$.UG)()?Mu(g===ls.NONE,E,"unsupported-persistence-type"):pb()?Mu(g===ls.NONE||g===ls.LOCAL&&(0,$.hl)(),E,"unsupported-persistence-type"):Mu(g===ls.NONE||K0(),E,"unsupported-persistence-type")}(C._delegate,v),v){case ls.SESSION:N=Mo;break;case ls.LOCAL:N=(yield ar(dc)._isAvailable())?dc:rl;break;case ls.NONE:N=Qo;break;default:return qe("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(N)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return zo(this._delegate,function Ur(E){return Xp.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return zo(this._delegate,vh(this._delegate,v))}signInWithCustomToken(v){return zo(this._delegate,function jf(E,g){return ia.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,C){return zo(this._delegate,function Yf(E,g,v){return vh((0,$.m9)(E),Ja.credential(g,v))}(this._delegate,v,C))}signInWithEmailLink(v,C){return zo(this._delegate,function Tr(E,g,v){return wh.apply(this,arguments)}(this._delegate,v,C))}signInWithPhoneNumber(v,C){return Im(this._delegate,function lm(E,g,v){return To.apply(this,arguments)}(this._delegate,v,C))}signInWithPopup(v){var C=this;return(0,c.Z)(function*(){return xc(Tg(),C._delegate,"operation-not-supported-in-this-environment"),zo(C._delegate,function fc(E,g,v){return Ql.apply(this,arguments)}(C._delegate,v,dl))})()}signInWithRedirect(v){var C=this;return(0,c.Z)(function*(){return xc(Tg(),C._delegate,"operation-not-supported-in-this-environment"),yield Tm(C._delegate),al(C._delegate,v,dl)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function Co(E,g){return rc.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=ls,E})();function km(E,g,v){let C=E;"function"!=typeof E&&({next:C,error:g,complete:v}=E);const N=C;return{next:oe=>N(oe&&Wi.getOrCreate(oe)),error:g,complete:v}}function Jr(E,g){const v=function Am(E,g){const v=qh();if(!v)return[];const C=re(ud,E,g);switch(v.getItem(C)){case ls.NONE:return[Qo];case ls.LOCAL:return[dc,Mo];case ls.SESSION:return[Mo];default:return[]}}(E,g);if(typeof self<"u"&&!v.includes(dc)&&v.push(dc),typeof window<"u")for(const C of[rl,Mo])v.includes(C)||v.push(C);return v.includes(Qo)||v.push(Qo),v}class fd{constructor(){this.providerId="phone",this._delegate=new hc(Dm(be.Z.auth()))}static credential(g,v){return hc.credential(g,v)}verifyPhoneNumber(g,v){return this._delegate.verifyPhoneNumber(g,v)}unwrap(){return this._delegate}}fd.PHONE_SIGN_IN_METHOD=hc.PHONE_SIGN_IN_METHOD,fd.PROVIDER_ID=hc.PROVIDER_ID;const xb=Re;class Zh{constructor(g,v,C=be.Z.app()){var N;xb(null===(N=C.options)||void 0===N?void 0:N.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new cm(g,v,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function kg(E){E.INTERNAL.registerComponent(new Ge.wA("auth-compat",g=>{const v=g.getProvider("app-compat").getImmediate(),C=g.getProvider("auth");return new Ig(v,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ja,FacebookAuthProvider:Sa,GithubAuthProvider:Bl,GoogleAuthProvider:Lo,OAuthProvider:na,SAMLAuthProvider:Kc,PhoneAuthProvider:fd,PhoneMultiFactorGenerator:bu,RecaptchaVerifier:Zh,TwitterAuthProvider:Xd,Auth:Ig,AuthCredential:Ka,Error:$.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.4.2")}(be.Z)},5861:(tn,Je,j)=>{function c($,Ce,Ae,we,Ge,mt,Ve){try{var ne=$[mt](Ve),se=ne.value}catch(ye){return void Ae(ye)}ne.done?Ce(se):Promise.resolve(se).then(we,Ge)}function be($){return function(){var Ce=this,Ae=arguments;return new Promise(function(we,Ge){var mt=$.apply(Ce,Ae);function Ve(se){c(mt,we,Ge,Ve,ne,"next",se)}function ne(se){c(mt,we,Ge,Ve,ne,"throw",se)}Ve(void 0)})}}j.d(Je,{Z:()=>be})},7582:(tn,Je,j)=>{function Ce(Pe,Fe){var Ze={};for(var Xe in Pe)Object.prototype.hasOwnProperty.call(Pe,Xe)&&Fe.indexOf(Xe)<0&&(Ze[Xe]=Pe[Xe]);if(null!=Pe&&"function"==typeof Object.getOwnPropertySymbols){var Qe=0;for(Xe=Object.getOwnPropertySymbols(Pe);Qe<Xe.length;Qe++)Fe.indexOf(Xe[Qe])<0&&Object.prototype.propertyIsEnumerable.call(Pe,Xe[Qe])&&(Ze[Xe[Qe]]=Pe[Xe[Qe]])}return Ze}function ye(Pe,Fe,Ze,Xe){return new(Ze||(Ze=Promise))(function(st,$t){function Dt(hi){try{ln(Xe.next(hi))}catch(Vn){$t(Vn)}}function Qi(hi){try{ln(Xe.throw(hi))}catch(Vn){$t(Vn)}}function ln(hi){hi.done?st(hi.value):function Qe(st){return st instanceof Ze?st:new Ze(function($t){$t(st)})}(hi.value).then(Dt,Qi)}ln((Xe=Xe.apply(Pe,Fe||[])).next())})}function Te(Pe){return this instanceof Te?(this.v=Pe,this):new Te(Pe)}function qe(Pe,Fe,Ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,Xe=Ze.apply(Pe,Fe||[]),st=[];return Qe={},$t("next"),$t("throw"),$t("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe;function $t(Ui){Xe[Ui]&&(Qe[Ui]=function(Bi){return new Promise(function(br,Ai){st.push([Ui,Bi,br,Ai])>1||Dt(Ui,Bi)})})}function Dt(Ui,Bi){try{!function Qi(Ui){Ui.value instanceof Te?Promise.resolve(Ui.value.v).then(ln,hi):Vn(st[0][2],Ui)}(Xe[Ui](Bi))}catch(br){Vn(st[0][3],br)}}function ln(Ui){Dt("next",Ui)}function hi(Ui){Dt("throw",Ui)}function Vn(Ui,Bi){Ui(Bi),st.shift(),st.length&&Dt(st[0][0],st[0][1])}}function it(Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,Fe=Pe[Symbol.asyncIterator];return Fe?Fe.call(Pe):(Pe=function ht(Pe){var Fe="function"==typeof Symbol&&Symbol.iterator,Ze=Fe&&Pe[Fe],Xe=0;if(Ze)return Ze.call(Pe);if(Pe&&"number"==typeof Pe.length)return{next:function(){return Pe&&Xe>=Pe.length&&(Pe=void 0),{value:Pe&&Pe[Xe++],done:!Pe}}};throw new TypeError(Fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Pe),Ze={},Xe("next"),Xe("throw"),Xe("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze);function Xe(st){Ze[st]=Pe[st]&&function($t){return new Promise(function(Dt,Qi){!function Qe(st,$t,Dt,Qi){Promise.resolve(Qi).then(function(ln){st({value:ln,done:Dt})},$t)}(Dt,Qi,($t=Pe[st]($t)).done,$t.value)})}}}j.d(Je,{FC:()=>qe,KL:()=>it,_T:()=>Ce,mG:()=>ye,qq:()=>Te}),"function"==typeof SuppressedError&&SuppressedError}},tn=>{tn(tn.s=9851)}]);